"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_ionic_core_dist_esm_ion-range_entry_js"],{

/***/ "../../../node_modules/@ionic/core/dist/esm/ion-range.entry.js":
/*!*********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/ion-range.entry.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_range": () => (/* binding */ Range)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./theme-a24ff1ad.js */ "../../../node_modules/@ionic/core/dist/esm/theme-a24ff1ad.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





const rangeIosCss = ":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{left:0;top:calc((var(--height) - var(--knob-handle-size)) / 2);margin-left:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-knob-handle{margin-left:unset;-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2)}}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar{border-radius:var(--bar-border-radius);left:0;top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset;right:unset;right:0}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset}.range-knob{border-radius:var(--knob-border-radius);left:calc(50% - var(--knob-size) / 2);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0 3px 1px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.13), 0 0 0 1px rgba(0, 0, 0, 0.02);--knob-size:28px;--bar-height:2px;--bar-background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;padding-left:16px;padding-right:16px;padding-top:8px;padding-bottom:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){margin-left:0;margin-right:16px;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px}}::slotted([slot=end]){margin-left:16px;margin-right:0;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-tick{margin-left:-1px;border-radius:0;position:absolute;top:18px;width:2px;height:8px;background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1);pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-tick{margin-left:unset;-webkit-margin-start:-1px;margin-inline-start:-1px}}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-pin{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.range-knob-pressed .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.5}";

const rangeMdCss = ":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{left:0;top:calc((var(--height) - var(--knob-handle-size)) / 2);margin-left:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-knob-handle{margin-left:unset;-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2)}}[dir=rtl] .range-knob-handle,:host-context([dir=rtl]) .range-knob-handle{left:unset}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar{border-radius:var(--bar-border-radius);left:0;top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset;right:unset;right:0}[dir=rtl] .range-bar,:host-context([dir=rtl]) .range-bar{left:unset}.range-knob{border-radius:var(--knob-border-radius);left:calc(50% - var(--knob-size) / 2);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob,:host-context([dir=rtl]) .range-knob{left:unset}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);padding-left:14px;padding-right:14px;padding-top:8px;padding-bottom:8px;font-size:12px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px}}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){margin-left:0;margin-right:14px;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px}}::slotted([slot=end]){margin-left:14px;margin-right:0;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0}}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{left:50%;top:3px;margin-left:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:\"\";z-index:-1}[dir=rtl] .range-pin::before,:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.range-pin::before{margin-left:unset;-webkit-margin-start:-13px;margin-inline-start:-13px}}[dir=rtl] .range-pin::before,:host-context([dir=rtl]) .range-pin::before{left:unset}.range-knob-pressed .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}";

let Range = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.ionChange = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionChange", 7);
    this.ionStyle = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionStyle", 7);
    this.ionFocus = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionFocus", 7);
    this.ionBlur = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionBlur", 7);
    this.didLoad = false;
    this.noUpdate = false;
    this.hasFocus = false;
    this.inheritedAttributes = {};
    this.ratioA = 0;
    this.ratioB = 0;
    /**
     * How long, in milliseconds, to wait to trigger the
     * `ionChange` event after each change in the range value.
     * This also impacts form bindings such as `ngModel` or `v-model`.
     */
    this.debounce = 0;
    // TODO: In Ionic Framework v6 this should initialize to this.rangeId like the other form components do.
    /**
     * The name of the control, which is submitted with the form data.
     */
    this.name = '';
    /**
     * Show two knobs.
     */
    this.dualKnobs = false;
    /**
     * Minimum integer value of the range.
     */
    this.min = 0;
    /**
     * Maximum integer value of the range.
     */
    this.max = 100;
    /**
     * If `true`, a pin with integer value is shown when the knob
     * is pressed.
     */
    this.pin = false;
    /**
     * A callback used to format the pin text.
     * By default the pin text is set to `Math.round(value)`.
     */
    this.pinFormatter = (value) => Math.round(value);
    /**
     * If `true`, the knob snaps to tick marks evenly spaced based
     * on the step property value.
     */
    this.snaps = false;
    /**
     * Specifies the value granularity.
     */
    this.step = 1;
    /**
     * If `true`, tick marks are displayed based on the step value.
     * Only applies when `snaps` is `true`.
     */
    this.ticks = true;
    /**
     * If `true`, the user cannot interact with the range.
     */
    this.disabled = false;
    /**
     * the value of the range.
     */
    this.value = 0;
    this.clampBounds = (value) => {
      return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(this.min, value, this.max);
    };
    this.ensureValueInBounds = (value) => {
      if (this.dualKnobs) {
        return {
          lower: this.clampBounds(value.lower),
          upper: this.clampBounds(value.upper)
        };
      }
      else {
        return this.clampBounds(value);
      }
    };
    this.setupGesture = async () => {
      const rangeSlider = this.rangeSlider;
      if (rangeSlider) {
        this.gesture = (await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-41bf41f2.js */ "../../../node_modules/@ionic/core/dist/esm/index-41bf41f2.js"))).createGesture({
          el: rangeSlider,
          gestureName: 'range',
          gesturePriority: 100,
          threshold: 0,
          onStart: ev => this.onStart(ev),
          onMove: ev => this.onMove(ev),
          onEnd: ev => this.onEnd(ev),
        });
        this.gesture.enable(!this.disabled);
      }
    };
    this.handleKeyboard = (knob, isIncrease) => {
      let step = this.step;
      step = step > 0 ? step : 1;
      step = step / (this.max - this.min);
      if (!isIncrease) {
        step *= -1;
      }
      if (knob === 'A') {
        this.ratioA = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(0, this.ratioA + step, 1);
      }
      else {
        this.ratioB = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(0, this.ratioB + step, 1);
      }
      this.updateValue();
    };
    this.onBlur = () => {
      if (this.hasFocus) {
        this.hasFocus = false;
        this.ionBlur.emit();
        this.emitStyle();
      }
    };
    this.onFocus = () => {
      if (!this.hasFocus) {
        this.hasFocus = true;
        this.ionFocus.emit();
        this.emitStyle();
      }
    };
  }
  debounceChanged() {
    this.ionChange = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.j)(this.ionChange, this.debounce);
  }
  minChanged() {
    if (!this.noUpdate) {
      this.updateRatio();
    }
  }
  maxChanged() {
    if (!this.noUpdate) {
      this.updateRatio();
    }
  }
  disabledChanged() {
    if (this.gesture) {
      this.gesture.enable(!this.disabled);
    }
    this.emitStyle();
  }
  valueChanged(value) {
    if (!this.noUpdate) {
      this.updateRatio();
    }
    value = this.ensureValueInBounds(value);
    this.ionChange.emit({ value });
  }
  componentWillLoad() {
    /**
     * If user has custom ID set then we should
     * not assign the default incrementing ID.
     */
    this.rangeId = (this.el.hasAttribute('id')) ? this.el.getAttribute('id') : `ion-r-${rangeIds++}`;
    this.inheritedAttributes = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.i)(this.el, ['aria-label']);
  }
  componentDidLoad() {
    this.setupGesture();
    this.didLoad = true;
  }
  connectedCallback() {
    this.updateRatio();
    this.debounceChanged();
    this.disabledChanged();
    /**
     * If we have not yet rendered
     * ion-range, then rangeSlider is not defined.
     * But if we are moving ion-range via appendChild,
     * then rangeSlider will be defined.
     */
    if (this.didLoad) {
      this.setupGesture();
    }
  }
  disconnectedCallback() {
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  getValue() {
    const value = this.value || 0;
    if (this.dualKnobs) {
      if (typeof value === 'object') {
        return value;
      }
      return {
        lower: 0,
        upper: value
      };
    }
    else {
      if (typeof value === 'object') {
        return value.upper;
      }
      return value;
    }
  }
  emitStyle() {
    this.ionStyle.emit({
      'interactive': true,
      'interactive-disabled': this.disabled
    });
  }
  onStart(detail) {
    const rect = this.rect = this.rangeSlider.getBoundingClientRect();
    const currentX = detail.currentX;
    // figure out which knob they started closer to
    let ratio = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(0, (currentX - rect.left) / rect.width, 1);
    if (document.dir === 'rtl') {
      ratio = 1 - ratio;
    }
    this.pressedKnob =
      !this.dualKnobs ||
        Math.abs(this.ratioA - ratio) < Math.abs(this.ratioB - ratio)
        ? 'A'
        : 'B';
    this.setFocus(this.pressedKnob);
    // update the active knob's position
    this.update(currentX);
  }
  onMove(detail) {
    this.update(detail.currentX);
  }
  onEnd(detail) {
    this.update(detail.currentX);
    this.pressedKnob = undefined;
  }
  update(currentX) {
    // figure out where the pointer is currently at
    // update the knob being interacted with
    const rect = this.rect;
    let ratio = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(0, (currentX - rect.left) / rect.width, 1);
    if (document.dir === 'rtl') {
      ratio = 1 - ratio;
    }
    if (this.snaps) {
      // snaps the ratio to the current value
      ratio = valueToRatio(ratioToValue(ratio, this.min, this.max, this.step), this.min, this.max);
    }
    // update which knob is pressed
    if (this.pressedKnob === 'A') {
      this.ratioA = ratio;
    }
    else {
      this.ratioB = ratio;
    }
    // Update input value
    this.updateValue();
  }
  get valA() {
    return ratioToValue(this.ratioA, this.min, this.max, this.step);
  }
  get valB() {
    return ratioToValue(this.ratioB, this.min, this.max, this.step);
  }
  get ratioLower() {
    if (this.dualKnobs) {
      return Math.min(this.ratioA, this.ratioB);
    }
    return 0;
  }
  get ratioUpper() {
    if (this.dualKnobs) {
      return Math.max(this.ratioA, this.ratioB);
    }
    return this.ratioA;
  }
  updateRatio() {
    const value = this.getValue();
    const { min, max } = this;
    if (this.dualKnobs) {
      this.ratioA = valueToRatio(value.lower, min, max);
      this.ratioB = valueToRatio(value.upper, min, max);
    }
    else {
      this.ratioA = valueToRatio(value, min, max);
    }
  }
  updateValue() {
    this.noUpdate = true;
    const { valA, valB } = this;
    this.value = !this.dualKnobs
      ? valA
      : {
        lower: Math.min(valA, valB),
        upper: Math.max(valA, valB)
      };
    this.noUpdate = false;
  }
  setFocus(knob) {
    if (this.el.shadowRoot) {
      const knobEl = this.el.shadowRoot.querySelector(knob === 'A' ? '.range-knob-a' : '.range-knob-b');
      if (knobEl) {
        knobEl.focus();
      }
    }
  }
  render() {
    const { min, max, step, el, handleKeyboard, pressedKnob, disabled, pin, ratioLower, ratioUpper, inheritedAttributes, rangeId, pinFormatter } = this;
    /**
     * Look for external label, ion-label, or aria-labelledby.
     * If none, see if user placed an aria-label on the host
     * and use that instead.
     */
    let { labelText } = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.e)(el, rangeId);
    if (labelText === undefined || labelText === null) {
      labelText = inheritedAttributes['aria-label'];
    }
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const barStart = `${ratioLower * 100}%`;
    const barEnd = `${100 - ratioUpper * 100}%`;
    const doc = document;
    const isRTL = doc.dir === 'rtl';
    const start = isRTL ? 'right' : 'left';
    const end = isRTL ? 'left' : 'right';
    const tickStyle = (tick) => {
      return {
        [start]: tick[start]
      };
    };
    const barStyle = {
      [start]: barStart,
      [end]: barEnd
    };
    const ticks = [];
    if (this.snaps && this.ticks) {
      for (let value = min; value <= max; value += step) {
        const ratio = valueToRatio(value, min, max);
        const tick = {
          ratio,
          active: ratio >= ratioLower && ratio <= ratioUpper,
        };
        tick[start] = `${ratio * 100}%`;
        ticks.push(tick);
      }
    }
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.h)(true, el, this.name, JSON.stringify(this.getValue()), disabled);
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, { onFocusin: this.onFocus, onFocusout: this.onBlur, id: rangeId, class: (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.color, {
        [mode]: true,
        'in-item': (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_3__.h)('ion-item', el),
        'range-disabled': disabled,
        'range-pressed': pressedKnob !== undefined,
        'range-has-pin': pin
      }) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: "start" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "range-slider", ref: rangeEl => this.rangeSlider = rangeEl }, ticks.map(tick => ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { style: tickStyle(tick), role: "presentation", class: {
        'range-tick': true,
        'range-tick-active': tick.active
      }, part: tick.active ? 'tick-active' : 'tick' }))), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "range-bar", role: "presentation", part: "bar" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "range-bar range-bar-active", role: "presentation", style: barStyle, part: "bar-active" }), renderKnob(isRTL, {
      knob: 'A',
      pressed: pressedKnob === 'A',
      value: this.valA,
      ratio: this.ratioA,
      pin,
      pinFormatter,
      disabled,
      handleKeyboard,
      min,
      max,
      labelText
    }), this.dualKnobs && renderKnob(isRTL, {
      knob: 'B',
      pressed: pressedKnob === 'B',
      value: this.valB,
      ratio: this.ratioB,
      pin,
      pinFormatter,
      disabled,
      handleKeyboard,
      min,
      max,
      labelText
    })), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", { name: "end" })));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
  static get watchers() { return {
    "debounce": ["debounceChanged"],
    "min": ["minChanged"],
    "max": ["maxChanged"],
    "disabled": ["disabledChanged"],
    "value": ["valueChanged"]
  }; }
};
const renderKnob = (isRTL, { knob, value, ratio, min, max, disabled, pressed, pin, handleKeyboard, labelText, pinFormatter }) => {
  const start = isRTL ? 'right' : 'left';
  const knobStyle = () => {
    const style = {};
    style[start] = `${ratio * 100}%`;
    return style;
  };
  return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { onKeyDown: (ev) => {
      const key = ev.key;
      if (key === 'ArrowLeft' || key === 'ArrowDown') {
        handleKeyboard(knob, false);
        ev.preventDefault();
        ev.stopPropagation();
      }
      else if (key === 'ArrowRight' || key === 'ArrowUp') {
        handleKeyboard(knob, true);
        ev.preventDefault();
        ev.stopPropagation();
      }
    }, class: {
      'range-knob-handle': true,
      'range-knob-a': knob === 'A',
      'range-knob-b': knob === 'B',
      'range-knob-pressed': pressed,
      'range-knob-min': value === min,
      'range-knob-max': value === max
    }, style: knobStyle(), role: "slider", tabindex: disabled ? -1 : 0, "aria-label": labelText, "aria-valuemin": min, "aria-valuemax": max, "aria-disabled": disabled ? 'true' : null, "aria-valuenow": value }, pin && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "range-pin", role: "presentation", part: "pin" }, pinFormatter(value)), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "range-knob", role: "presentation", part: "knob" })));
};
const ratioToValue = (ratio, min, max, step) => {
  let value = (max - min) * ratio;
  if (step > 0) {
    value = Math.round(value / step) * step + min;
  }
  return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(min, value, max);
};
const valueToRatio = (value, min, max) => {
  return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__.d)(0, (value - min) / (max - min), 1);
};
let rangeIds = 0;
Range.style = {
  ios: rangeIosCss,
  md: rangeMdCss
};




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2h1bmtzL3ZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJhbmdlX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQzZHO0FBQ2hEO0FBQzZFO0FBQzFEOztBQUVoRiwyQkFBMkIsOENBQThDLG9CQUFvQixhQUFhLGtCQUFrQixXQUFXLE9BQU8sc0JBQXNCLG1CQUFtQiw0Q0FBNEMseUJBQXlCLHNCQUFzQixxQkFBcUIsaUJBQWlCLFVBQVUsdUJBQXVCLG9CQUFvQixxQkFBcUIsaUJBQWlCLGFBQWEsMEJBQTBCLGVBQWUsY0FBYyxrQkFBa0IsV0FBVyxPQUFPLFdBQVcscUJBQXFCLDBCQUEwQixvQkFBb0IsWUFBWSx1QkFBdUIsbUJBQW1CLG9DQUFvQyx3QkFBd0IsZ0JBQWdCLFdBQVcsa0JBQWtCLGlDQUFpQyxnQ0FBZ0Msa0JBQWtCLDhCQUE4QixzQkFBc0IsbUJBQW1CLE9BQU8sd0RBQXdELG9EQUFvRCxrQkFBa0IsOEJBQThCLCtCQUErQixrQkFBa0IseUVBQXlFLFdBQVcsWUFBWSxRQUFRLCtGQUErRixtQkFBbUIsa0JBQWtCLDZEQUE2RCw2REFBNkQseUVBQXlFLFdBQVcsbURBQW1ELGFBQWEsV0FBVyx1Q0FBdUMsT0FBTyxrREFBa0Qsa0JBQWtCLFdBQVcseUJBQXlCLGlDQUFpQyxvQkFBb0IseURBQXlELFdBQVcsWUFBWSxRQUFRLHlEQUF5RCxXQUFXLFlBQVksd0NBQXdDLHNDQUFzQyxxQ0FBcUMsa0JBQWtCLHVCQUF1Qix3QkFBd0Isa0NBQWtDLDBDQUEwQyxrQ0FBa0MsVUFBVSxvQkFBb0IsMkRBQTJELFdBQVcsWUFBWSx1Q0FBdUMsMkRBQTJELFdBQVcsd0NBQXdDLHdCQUF3QixnQkFBZ0IsV0FBVyxxQ0FBcUMsMkJBQTJCLGtCQUFrQixNQUFNLHlCQUF5QiwwQkFBMEIsNkdBQTZHLGlCQUFpQixpQkFBaUIsK0RBQStELDBEQUEwRCxzQkFBc0IsY0FBYyxr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QUFLLHFEQUFDLFVBQVUsdURBQXVELEdBQUcscURBQUMsVUFBVSxnR0FBZ0c7QUFDMU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLHFEQUFDLFdBQVcsYUFBYTtBQUNsQztBQUNBLGFBQWEsT0FBTyxxREFBVTtBQUM5QiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0ZBQStGO0FBQzVIO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixZQUFZO0FBQ2xDO0FBQ0E7QUFDQSxVQUFVLHFEQUFDLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDJNQUEyTSxTQUFTLHFEQUFDLFVBQVUsdURBQXVELHdCQUF3QixxREFBQyxVQUFVLHlEQUF5RDtBQUN2WDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVEQUFLO0FBQ2Q7QUFDQTtBQUNBLFNBQVMsdURBQUs7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmFuZ2UuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjcmVhdGVFdmVudCwgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQgfSBmcm9tICcuL2luZGV4LTA2Y2QyN2IxLmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWEwNDliY2JmLmpzJztcbmltcG9ydCB7IGQgYXMgY2xhbXAsIGogYXMgZGVib3VuY2VFdmVudCwgaSBhcyBpbmhlcml0QXR0cmlidXRlcywgZSBhcyBnZXRBcmlhTGFiZWwsIGggYXMgcmVuZGVySGlkZGVuSW5wdXQgfSBmcm9tICcuL2hlbHBlcnMtZWVkNzlhMmIuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVDb2xvckNsYXNzZXMsIGggYXMgaG9zdENvbnRleHQgfSBmcm9tICcuL3RoZW1lLWEyNGZmMWFkLmpzJztcblxuY29uc3QgcmFuZ2VJb3NDc3MgPSBcIjpob3N0ey0ta25vYi1oYW5kbGUtc2l6ZTpjYWxjKHZhcigtLWtub2Itc2l6ZSkgKiAyKTtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleDozO2ZsZXg6MzstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6Mn06aG9zdCgucmFuZ2UtZGlzYWJsZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9OjpzbG90dGVkKGlvbi1sYWJlbCl7LW1zLWZsZXg6aW5pdGlhbDtmbGV4OmluaXRpYWx9OjpzbG90dGVkKGlvbi1pY29uW3Nsb3RdKXtmb250LXNpemU6MjRweH0ucmFuZ2Utc2xpZGVye3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4OjE7ZmxleDoxO3dpZHRoOjEwMCU7aGVpZ2h0OnZhcigtLWhlaWdodCk7Y29udGFpbjpzaXplIGxheW91dCBzdHlsZTtjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFiOy1tcy10b3VjaC1hY3Rpb246cGFuLXk7dG91Y2gtYWN0aW9uOnBhbi15fTpob3N0KC5yYW5nZS1wcmVzc2VkKSAucmFuZ2Utc2xpZGVye2N1cnNvcjotd2Via2l0LWdyYWJiaW5nO2N1cnNvcjpncmFiYmluZ30ucmFuZ2UtcGlue3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpO2NvbG9yOnZhcigtLWlvbi1jb2xvci1jb250cmFzdCk7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5yYW5nZS1rbm9iLWhhbmRsZXtsZWZ0OjA7dG9wOmNhbGMoKHZhcigtLWhlaWdodCkgLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSkgLyAyKTttYXJnaW4tbGVmdDpjYWxjKDBweCAtIHZhcigtLWtub2ItaGFuZGxlLXNpemUpIC8gMik7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6dmFyKC0ta25vYi1oYW5kbGUtc2l6ZSk7aGVpZ2h0OnZhcigtLWtub2ItaGFuZGxlLXNpemUpO3RleHQtYWxpZ246Y2VudGVyfVtkaXI9cnRsXSAucmFuZ2Uta25vYi1oYW5kbGUsOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5yYW5nZS1rbm9iLWhhbmRsZXtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsucmFuZ2Uta25vYi1oYW5kbGV7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6Y2FsYygwcHggLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSAvIDIpO21hcmdpbi1pbmxpbmUtc3RhcnQ6Y2FsYygwcHggLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSAvIDIpfX1bZGlyPXJ0bF0gLnJhbmdlLWtub2ItaGFuZGxlLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2Uta25vYi1oYW5kbGV7bGVmdDp1bnNldH0ucmFuZ2Uta25vYi1oYW5kbGU6YWN0aXZlLC5yYW5nZS1rbm9iLWhhbmRsZTpmb2N1c3tvdXRsaW5lOm5vbmV9LnJhbmdlLWJhcntib3JkZXItcmFkaXVzOnZhcigtLWJhci1ib3JkZXItcmFkaXVzKTtsZWZ0OjA7dG9wOmNhbGMoKHZhcigtLWhlaWdodCkgLSB2YXIoLS1iYXItaGVpZ2h0KSkgLyAyKTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDp2YXIoLS1iYXItaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhci1iYWNrZ3JvdW5kKTtwb2ludGVyLWV2ZW50czpub25lfVtkaXI9cnRsXSAucmFuZ2UtYmFyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2UtYmFye2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1bZGlyPXJ0bF0gLnJhbmdlLWJhciw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJhbmdlLWJhcntsZWZ0OnVuc2V0fS5yYW5nZS1rbm9ie2JvcmRlci1yYWRpdXM6dmFyKC0ta25vYi1ib3JkZXItcmFkaXVzKTtsZWZ0OmNhbGMoNTAlIC0gdmFyKC0ta25vYi1zaXplKSAvIDIpO3RvcDpjYWxjKDUwJSAtIHZhcigtLWtub2Itc2l6ZSkgLyAyKTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDp2YXIoLS1rbm9iLXNpemUpO2hlaWdodDp2YXIoLS1rbm9iLXNpemUpO2JhY2tncm91bmQ6dmFyKC0ta25vYi1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0ta25vYi1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWtub2ItYm94LXNoYWRvdyk7ei1pbmRleDoyO3BvaW50ZXItZXZlbnRzOm5vbmV9W2Rpcj1ydGxdIC5yYW5nZS1rbm9iLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2Uta25vYntsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OmNhbGMoNTAlIC0gdmFyKC0ta25vYi1zaXplKSAvIDIpfVtkaXI9cnRsXSAucmFuZ2Uta25vYiw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJhbmdlLWtub2J7bGVmdDp1bnNldH06aG9zdCgucmFuZ2UtcHJlc3NlZCkgLnJhbmdlLWJhci1hY3RpdmV7d2lsbC1jaGFuZ2U6bGVmdCwgcmlnaHR9Omhvc3QoLmluLWl0ZW0pe3dpZHRoOjEwMCV9Omhvc3QoLmluLWl0ZW0pIDo6c2xvdHRlZChpb24tbGFiZWwpey1tcy1mbGV4LWl0ZW0tYWxpZ246Y2VudGVyO2FsaWduLXNlbGY6Y2VudGVyfTpob3N0ey0ta25vYi1ib3JkZXItcmFkaXVzOjUwJTstLWtub2ItYmFja2dyb3VuZDojZmZmZmZmOy0ta25vYi1ib3gtc2hhZG93OjAgM3B4IDFweCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTMpLCAwIDAgMCAxcHggcmdiYSgwLCAwLCAwLCAwLjAyKTstLWtub2Itc2l6ZToyOHB4Oy0tYmFyLWhlaWdodDoycHg7LS1iYXItYmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMSk7LS1iYXItYmFja2dyb3VuZC1hY3RpdmU6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tYmFyLWJvcmRlci1yYWRpdXM6MDstLWhlaWdodDo0MnB4O3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3R7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fTpob3N0KC5pb24tY29sb3IpIC5yYW5nZS1iYXItYWN0aXZlLDpob3N0KC5pb24tY29sb3IpIC5yYW5nZS10aWNrLWFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1iYXNlKX06OnNsb3R0ZWQoW3Nsb3Q9c3RhcnRdKXttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDoxNnB4O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6OnNsb3R0ZWQoW3Nsb3Q9c3RhcnRdKXttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MDttYXJnaW4taW5saW5lLXN0YXJ0OjA7LXdlYmtpdC1tYXJnaW4tZW5kOjE2cHg7bWFyZ2luLWlubGluZS1lbmQ6MTZweH19OjpzbG90dGVkKFtzbG90PWVuZF0pe21hcmdpbi1sZWZ0OjE2cHg7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezo6c2xvdHRlZChbc2xvdD1lbmRdKXttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHg7LXdlYmtpdC1tYXJnaW4tZW5kOjA7bWFyZ2luLWlubGluZS1lbmQ6MH19Omhvc3QoLnJhbmdlLWhhcy1waW4pe3BhZGRpbmctdG9wOjIwcHh9LnJhbmdlLWJhci1hY3RpdmV7Ym90dG9tOjA7d2lkdGg6YXV0bztiYWNrZ3JvdW5kOnZhcigtLWJhci1iYWNrZ3JvdW5kLWFjdGl2ZSl9LnJhbmdlLXRpY2t7bWFyZ2luLWxlZnQ6LTFweDtib3JkZXItcmFkaXVzOjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjE4cHg7d2lkdGg6MnB4O2hlaWdodDo4cHg7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMSk7cG9pbnRlci1ldmVudHM6bm9uZX1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5yYW5nZS10aWNre21hcmdpbi1sZWZ0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0Oi0xcHg7bWFyZ2luLWlubGluZS1zdGFydDotMXB4fX0ucmFuZ2UtdGljay1hY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1iYXItYmFja2dyb3VuZC1hY3RpdmUpfS5yYW5nZS1waW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDI4cHgsICAwKSBzY2FsZSgwLjAxKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDI4cHgsICAwKSBzY2FsZSgwLjAxKTtwYWRkaW5nLWxlZnQ6OHB4O3BhZGRpbmctcmlnaHQ6OHB4O3BhZGRpbmctdG9wOjhweDtwYWRkaW5nLWJvdHRvbTo4cHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7dG9wOi0yMHB4O21pbi13aWR0aDoyOHB4Oy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAxMjBtcyBlYXNlO3RyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMTIwbXMgZWFzZTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAxMjBtcyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIDEyMG1zIGVhc2UsIC13ZWJraXQtdHJhbnNmb3JtIDEyMG1zIGVhc2U7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1zaXplOjEycHg7dGV4dC1hbGlnbjpjZW50ZXJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsucmFuZ2UtcGlue3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo4cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OHB4O3BhZGRpbmctaW5saW5lLWVuZDo4cHh9fS5yYW5nZS1rbm9iLXByZXNzZWQgLnJhbmdlLXBpbnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApIHNjYWxlKDEpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApIHNjYWxlKDEpfTpob3N0KC5yYW5nZS1kaXNhYmxlZCl7b3BhY2l0eTowLjV9XCI7XG5cbmNvbnN0IHJhbmdlTWRDc3MgPSBcIjpob3N0ey0ta25vYi1oYW5kbGUtc2l6ZTpjYWxjKHZhcigtLWtub2Itc2l6ZSkgKiAyKTtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleDozO2ZsZXg6MzstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6Mn06aG9zdCgucmFuZ2UtZGlzYWJsZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9OjpzbG90dGVkKGlvbi1sYWJlbCl7LW1zLWZsZXg6aW5pdGlhbDtmbGV4OmluaXRpYWx9OjpzbG90dGVkKGlvbi1pY29uW3Nsb3RdKXtmb250LXNpemU6MjRweH0ucmFuZ2Utc2xpZGVye3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4OjE7ZmxleDoxO3dpZHRoOjEwMCU7aGVpZ2h0OnZhcigtLWhlaWdodCk7Y29udGFpbjpzaXplIGxheW91dCBzdHlsZTtjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFiOy1tcy10b3VjaC1hY3Rpb246cGFuLXk7dG91Y2gtYWN0aW9uOnBhbi15fTpob3N0KC5yYW5nZS1wcmVzc2VkKSAucmFuZ2Utc2xpZGVye2N1cnNvcjotd2Via2l0LWdyYWJiaW5nO2N1cnNvcjpncmFiYmluZ30ucmFuZ2UtcGlue3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpO2NvbG9yOnZhcigtLWlvbi1jb2xvci1jb250cmFzdCk7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5yYW5nZS1rbm9iLWhhbmRsZXtsZWZ0OjA7dG9wOmNhbGMoKHZhcigtLWhlaWdodCkgLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSkgLyAyKTttYXJnaW4tbGVmdDpjYWxjKDBweCAtIHZhcigtLWtub2ItaGFuZGxlLXNpemUpIC8gMik7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6dmFyKC0ta25vYi1oYW5kbGUtc2l6ZSk7aGVpZ2h0OnZhcigtLWtub2ItaGFuZGxlLXNpemUpO3RleHQtYWxpZ246Y2VudGVyfVtkaXI9cnRsXSAucmFuZ2Uta25vYi1oYW5kbGUsOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5yYW5nZS1rbm9iLWhhbmRsZXtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsucmFuZ2Uta25vYi1oYW5kbGV7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6Y2FsYygwcHggLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSAvIDIpO21hcmdpbi1pbmxpbmUtc3RhcnQ6Y2FsYygwcHggLSB2YXIoLS1rbm9iLWhhbmRsZS1zaXplKSAvIDIpfX1bZGlyPXJ0bF0gLnJhbmdlLWtub2ItaGFuZGxlLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2Uta25vYi1oYW5kbGV7bGVmdDp1bnNldH0ucmFuZ2Uta25vYi1oYW5kbGU6YWN0aXZlLC5yYW5nZS1rbm9iLWhhbmRsZTpmb2N1c3tvdXRsaW5lOm5vbmV9LnJhbmdlLWJhcntib3JkZXItcmFkaXVzOnZhcigtLWJhci1ib3JkZXItcmFkaXVzKTtsZWZ0OjA7dG9wOmNhbGMoKHZhcigtLWhlaWdodCkgLSB2YXIoLS1iYXItaGVpZ2h0KSkgLyAyKTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDp2YXIoLS1iYXItaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhci1iYWNrZ3JvdW5kKTtwb2ludGVyLWV2ZW50czpub25lfVtkaXI9cnRsXSAucmFuZ2UtYmFyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2UtYmFye2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1bZGlyPXJ0bF0gLnJhbmdlLWJhciw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJhbmdlLWJhcntsZWZ0OnVuc2V0fS5yYW5nZS1rbm9ie2JvcmRlci1yYWRpdXM6dmFyKC0ta25vYi1ib3JkZXItcmFkaXVzKTtsZWZ0OmNhbGMoNTAlIC0gdmFyKC0ta25vYi1zaXplKSAvIDIpO3RvcDpjYWxjKDUwJSAtIHZhcigtLWtub2Itc2l6ZSkgLyAyKTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDp2YXIoLS1rbm9iLXNpemUpO2hlaWdodDp2YXIoLS1rbm9iLXNpemUpO2JhY2tncm91bmQ6dmFyKC0ta25vYi1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0ta25vYi1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWtub2ItYm94LXNoYWRvdyk7ei1pbmRleDoyO3BvaW50ZXItZXZlbnRzOm5vbmV9W2Rpcj1ydGxdIC5yYW5nZS1rbm9iLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2Uta25vYntsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OmNhbGMoNTAlIC0gdmFyKC0ta25vYi1zaXplKSAvIDIpfVtkaXI9cnRsXSAucmFuZ2Uta25vYiw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJhbmdlLWtub2J7bGVmdDp1bnNldH06aG9zdCgucmFuZ2UtcHJlc3NlZCkgLnJhbmdlLWJhci1hY3RpdmV7d2lsbC1jaGFuZ2U6bGVmdCwgcmlnaHR9Omhvc3QoLmluLWl0ZW0pe3dpZHRoOjEwMCV9Omhvc3QoLmluLWl0ZW0pIDo6c2xvdHRlZChpb24tbGFiZWwpey1tcy1mbGV4LWl0ZW0tYWxpZ246Y2VudGVyO2FsaWduLXNlbGY6Y2VudGVyfTpob3N0ey0ta25vYi1ib3JkZXItcmFkaXVzOjUwJTstLWtub2ItYmFja2dyb3VuZDp2YXIoLS1iYXItYmFja2dyb3VuZC1hY3RpdmUpOy0ta25vYi1ib3gtc2hhZG93Om5vbmU7LS1rbm9iLXNpemU6MThweDstLWJhci1oZWlnaHQ6MnB4Oy0tYmFyLWJhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1yZ2IsIDU2LCAxMjgsIDI1NSksIDAuMjYpOy0tYmFyLWJhY2tncm91bmQtYWN0aXZlOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKTstLWJhci1ib3JkZXItcmFkaXVzOjA7LS1oZWlnaHQ6NDJweDstLXBpbi1iYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKTstLXBpbi1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1jb250cmFzdCwgI2ZmZik7cGFkZGluZy1sZWZ0OjE0cHg7cGFkZGluZy1yaWdodDoxNHB4O3BhZGRpbmctdG9wOjhweDtwYWRkaW5nLWJvdHRvbTo4cHg7Zm9udC1zaXplOjEycHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTRweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTRweDtwYWRkaW5nLWlubGluZS1lbmQ6MTRweH19Omhvc3QoLmlvbi1jb2xvcikgLnJhbmdlLWJhcntiYWNrZ3JvdW5kOnJnYmEodmFyKC0taW9uLWNvbG9yLWJhc2UtcmdiKSwgMC4yNil9Omhvc3QoLmlvbi1jb2xvcikgLnJhbmdlLWJhci1hY3RpdmUsOmhvc3QoLmlvbi1jb2xvcikgLnJhbmdlLWtub2IsOmhvc3QoLmlvbi1jb2xvcikgLnJhbmdlLXBpbiw6aG9zdCguaW9uLWNvbG9yKSAucmFuZ2UtcGluOjpiZWZvcmUsOmhvc3QoLmlvbi1jb2xvcikgLnJhbmdlLXRpY2t7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3ItYmFzZSk7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0KX06OnNsb3R0ZWQoW3Nsb3Q9c3RhcnRdKXttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDoxNHB4O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6OnNsb3R0ZWQoW3Nsb3Q9c3RhcnRdKXttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MDttYXJnaW4taW5saW5lLXN0YXJ0OjA7LXdlYmtpdC1tYXJnaW4tZW5kOjE0cHg7bWFyZ2luLWlubGluZS1lbmQ6MTRweH19OjpzbG90dGVkKFtzbG90PWVuZF0pe21hcmdpbi1sZWZ0OjE0cHg7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezo6c2xvdHRlZChbc2xvdD1lbmRdKXttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTRweDttYXJnaW4taW5saW5lLXN0YXJ0OjE0cHg7LXdlYmtpdC1tYXJnaW4tZW5kOjA7bWFyZ2luLWlubGluZS1lbmQ6MH19Omhvc3QoLnJhbmdlLWhhcy1waW4pe3BhZGRpbmctdG9wOjI4cHh9LnJhbmdlLWJhci1hY3RpdmV7Ym90dG9tOjA7d2lkdGg6YXV0bztiYWNrZ3JvdW5kOnZhcigtLWJhci1iYWNrZ3JvdW5kLWFjdGl2ZSl9LnJhbmdlLWtub2J7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMC42Nyk7dHJhbnNmb3JtOnNjYWxlKDAuNjcpOy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbjoxMjBtczt0cmFuc2l0aW9uLWR1cmF0aW9uOjEyMG1zOy13ZWJraXQtdHJhbnNpdGlvbi1wcm9wZXJ0eTpiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXIsIC13ZWJraXQtdHJhbnNmb3JtO3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLCAtd2Via2l0LXRyYW5zZm9ybTt0cmFuc2l0aW9uLXByb3BlcnR5OnRyYW5zZm9ybSwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyO3RyYW5zaXRpb24tcHJvcGVydHk6dHJhbnNmb3JtLCBiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXIsIC13ZWJraXQtdHJhbnNmb3JtOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZTt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlO3otaW5kZXg6Mn0ucmFuZ2UtdGlja3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6Y2FsYygodmFyKC0taGVpZ2h0KSAtIHZhcigtLWJhci1oZWlnaHQpKSAvIDIpO3dpZHRoOnZhcigtLWJhci1oZWlnaHQpO2hlaWdodDp2YXIoLS1iYXItaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhci1iYWNrZ3JvdW5kLWFjdGl2ZSk7ei1pbmRleDoxO3BvaW50ZXItZXZlbnRzOm5vbmV9LnJhbmdlLXRpY2stYWN0aXZle2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LnJhbmdlLXBpbntwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6OHB4O3BhZGRpbmctYm90dG9tOjhweDtib3JkZXItcmFkaXVzOjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApIHNjYWxlKDAuMDEpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApIHNjYWxlKDAuMDEpO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO21pbi13aWR0aDoyOHB4O2hlaWdodDoyOHB4Oy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDEyMG1zIGVhc2UsIC13ZWJraXQtdHJhbnNmb3JtIDEyMG1zIGVhc2U7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIDEyMG1zIGVhc2UsIC13ZWJraXQtdHJhbnNmb3JtIDEyMG1zIGVhc2U7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMTIwbXMgZWFzZSwgYmFja2dyb3VuZCAxMjBtcyBlYXNlO3RyYW5zaXRpb246dHJhbnNmb3JtIDEyMG1zIGVhc2UsIGJhY2tncm91bmQgMTIwbXMgZWFzZSwgLXdlYmtpdC10cmFuc2Zvcm0gMTIwbXMgZWFzZTtiYWNrZ3JvdW5kOnZhcigtLXBpbi1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1waW4tY29sb3IpO3RleHQtYWxpZ246Y2VudGVyfS5yYW5nZS1waW46OmJlZm9yZXtsZWZ0OjUwJTt0b3A6M3B4O21hcmdpbi1sZWZ0Oi0xM3B4O2JvcmRlci1yYWRpdXM6NTAlIDUwJSA1MCUgMDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyNnB4O2hlaWdodDoyNnB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZCAxMjBtcyBlYXNlO3RyYW5zaXRpb246YmFja2dyb3VuZCAxMjBtcyBlYXNlO2JhY2tncm91bmQ6dmFyKC0tcGluLWJhY2tncm91bmQpO2NvbnRlbnQ6XFxcIlxcXCI7ei1pbmRleDotMX1bZGlyPXJ0bF0gLnJhbmdlLXBpbjo6YmVmb3JlLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucmFuZ2UtcGluOjpiZWZvcmV7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDo1MCV9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsucmFuZ2UtcGluOjpiZWZvcmV7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6LTEzcHg7bWFyZ2luLWlubGluZS1zdGFydDotMTNweH19W2Rpcj1ydGxdIC5yYW5nZS1waW46OmJlZm9yZSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnJhbmdlLXBpbjo6YmVmb3Jle2xlZnQ6dW5zZXR9LnJhbmdlLWtub2ItcHJlc3NlZCAucmFuZ2UtcGluey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAtMjRweCwgIDApIHNjYWxlKDEpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgLTI0cHgsICAwKSBzY2FsZSgxKX06aG9zdCg6bm90KC5yYW5nZS1oYXMtcGluKSkgLnJhbmdlLWtub2ItcHJlc3NlZCAucmFuZ2Uta25vYnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9Omhvc3QoLnJhbmdlLWRpc2FibGVkKSAucmFuZ2UtYmFyLWFjdGl2ZSw6aG9zdCgucmFuZ2UtZGlzYWJsZWQpIC5yYW5nZS1iYXIsOmhvc3QoLnJhbmdlLWRpc2FibGVkKSAucmFuZ2UtdGlja3tiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTI1MCwgI2JmYmZiZil9Omhvc3QoLnJhbmdlLWRpc2FibGVkKSAucmFuZ2Uta25vYnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgwLjU1KTt0cmFuc2Zvcm06c2NhbGUoMC41NSk7b3V0bGluZTo1cHggc29saWQgI2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTI1MCwgI2JmYmZiZil9XCI7XG5cbmxldCBSYW5nZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5pb25DaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkNoYW5nZVwiLCA3KTtcbiAgICB0aGlzLmlvblN0eWxlID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25TdHlsZVwiLCA3KTtcbiAgICB0aGlzLmlvbkZvY3VzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Gb2N1c1wiLCA3KTtcbiAgICB0aGlzLmlvbkJsdXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkJsdXJcIiwgNyk7XG4gICAgdGhpcy5kaWRMb2FkID0gZmFsc2U7XG4gICAgdGhpcy5ub1VwZGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMuaGFzRm9jdXMgPSBmYWxzZTtcbiAgICB0aGlzLmluaGVyaXRlZEF0dHJpYnV0ZXMgPSB7fTtcbiAgICB0aGlzLnJhdGlvQSA9IDA7XG4gICAgdGhpcy5yYXRpb0IgPSAwO1xuICAgIC8qKlxuICAgICAqIEhvdyBsb25nLCBpbiBtaWxsaXNlY29uZHMsIHRvIHdhaXQgdG8gdHJpZ2dlciB0aGVcbiAgICAgKiBgaW9uQ2hhbmdlYCBldmVudCBhZnRlciBlYWNoIGNoYW5nZSBpbiB0aGUgcmFuZ2UgdmFsdWUuXG4gICAgICogVGhpcyBhbHNvIGltcGFjdHMgZm9ybSBiaW5kaW5ncyBzdWNoIGFzIGBuZ01vZGVsYCBvciBgdi1tb2RlbGAuXG4gICAgICovXG4gICAgdGhpcy5kZWJvdW5jZSA9IDA7XG4gICAgLy8gVE9ETzogSW4gSW9uaWMgRnJhbWV3b3JrIHY2IHRoaXMgc2hvdWxkIGluaXRpYWxpemUgdG8gdGhpcy5yYW5nZUlkIGxpa2UgdGhlIG90aGVyIGZvcm0gY29tcG9uZW50cyBkby5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29udHJvbCwgd2hpY2ggaXMgc3VibWl0dGVkIHdpdGggdGhlIGZvcm0gZGF0YS5cbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSAnJztcbiAgICAvKipcbiAgICAgKiBTaG93IHR3byBrbm9icy5cbiAgICAgKi9cbiAgICB0aGlzLmR1YWxLbm9icyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIE1pbmltdW0gaW50ZWdlciB2YWx1ZSBvZiB0aGUgcmFuZ2UuXG4gICAgICovXG4gICAgdGhpcy5taW4gPSAwO1xuICAgIC8qKlxuICAgICAqIE1heGltdW0gaW50ZWdlciB2YWx1ZSBvZiB0aGUgcmFuZ2UuXG4gICAgICovXG4gICAgdGhpcy5tYXggPSAxMDA7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBhIHBpbiB3aXRoIGludGVnZXIgdmFsdWUgaXMgc2hvd24gd2hlbiB0aGUga25vYlxuICAgICAqIGlzIHByZXNzZWQuXG4gICAgICovXG4gICAgdGhpcy5waW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBBIGNhbGxiYWNrIHVzZWQgdG8gZm9ybWF0IHRoZSBwaW4gdGV4dC5cbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBwaW4gdGV4dCBpcyBzZXQgdG8gYE1hdGgucm91bmQodmFsdWUpYC5cbiAgICAgKi9cbiAgICB0aGlzLnBpbkZvcm1hdHRlciA9ICh2YWx1ZSkgPT4gTWF0aC5yb3VuZCh2YWx1ZSk7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUga25vYiBzbmFwcyB0byB0aWNrIG1hcmtzIGV2ZW5seSBzcGFjZWQgYmFzZWRcbiAgICAgKiBvbiB0aGUgc3RlcCBwcm9wZXJ0eSB2YWx1ZS5cbiAgICAgKi9cbiAgICB0aGlzLnNuYXBzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSB2YWx1ZSBncmFudWxhcml0eS5cbiAgICAgKi9cbiAgICB0aGlzLnN0ZXAgPSAxO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGljayBtYXJrcyBhcmUgZGlzcGxheWVkIGJhc2VkIG9uIHRoZSBzdGVwIHZhbHVlLlxuICAgICAqIE9ubHkgYXBwbGllcyB3aGVuIGBzbmFwc2AgaXMgYHRydWVgLlxuICAgICAqL1xuICAgIHRoaXMudGlja3MgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHVzZXIgY2Fubm90IGludGVyYWN0IHdpdGggdGhlIHJhbmdlLlxuICAgICAqL1xuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiB0aGUgdmFsdWUgb2YgdGhlIHJhbmdlLlxuICAgICAqL1xuICAgIHRoaXMudmFsdWUgPSAwO1xuICAgIHRoaXMuY2xhbXBCb3VuZHMgPSAodmFsdWUpID0+IHtcbiAgICAgIHJldHVybiBjbGFtcCh0aGlzLm1pbiwgdmFsdWUsIHRoaXMubWF4KTtcbiAgICB9O1xuICAgIHRoaXMuZW5zdXJlVmFsdWVJbkJvdW5kcyA9ICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZHVhbEtub2JzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbG93ZXI6IHRoaXMuY2xhbXBCb3VuZHModmFsdWUubG93ZXIpLFxuICAgICAgICAgIHVwcGVyOiB0aGlzLmNsYW1wQm91bmRzKHZhbHVlLnVwcGVyKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsYW1wQm91bmRzKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc2V0dXBHZXN0dXJlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmFuZ2VTbGlkZXIgPSB0aGlzLnJhbmdlU2xpZGVyO1xuICAgICAgaWYgKHJhbmdlU2xpZGVyKSB7XG4gICAgICAgIHRoaXMuZ2VzdHVyZSA9IChhd2FpdCBpbXBvcnQoJy4vaW5kZXgtNDFiZjQxZjIuanMnKSkuY3JlYXRlR2VzdHVyZSh7XG4gICAgICAgICAgZWw6IHJhbmdlU2xpZGVyLFxuICAgICAgICAgIGdlc3R1cmVOYW1lOiAncmFuZ2UnLFxuICAgICAgICAgIGdlc3R1cmVQcmlvcml0eTogMTAwLFxuICAgICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgICBvblN0YXJ0OiBldiA9PiB0aGlzLm9uU3RhcnQoZXYpLFxuICAgICAgICAgIG9uTW92ZTogZXYgPT4gdGhpcy5vbk1vdmUoZXYpLFxuICAgICAgICAgIG9uRW5kOiBldiA9PiB0aGlzLm9uRW5kKGV2KSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoIXRoaXMuZGlzYWJsZWQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5oYW5kbGVLZXlib2FyZCA9IChrbm9iLCBpc0luY3JlYXNlKSA9PiB7XG4gICAgICBsZXQgc3RlcCA9IHRoaXMuc3RlcDtcbiAgICAgIHN0ZXAgPSBzdGVwID4gMCA/IHN0ZXAgOiAxO1xuICAgICAgc3RlcCA9IHN0ZXAgLyAodGhpcy5tYXggLSB0aGlzLm1pbik7XG4gICAgICBpZiAoIWlzSW5jcmVhc2UpIHtcbiAgICAgICAgc3RlcCAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm9iID09PSAnQScpIHtcbiAgICAgICAgdGhpcy5yYXRpb0EgPSBjbGFtcCgwLCB0aGlzLnJhdGlvQSArIHN0ZXAsIDEpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMucmF0aW9CID0gY2xhbXAoMCwgdGhpcy5yYXRpb0IgKyBzdGVwLCAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlVmFsdWUoKTtcbiAgICB9O1xuICAgIHRoaXMub25CbHVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaGFzRm9jdXMpIHtcbiAgICAgICAgdGhpcy5oYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlvbkJsdXIuZW1pdCgpO1xuICAgICAgICB0aGlzLmVtaXRTdHlsZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5vbkZvY3VzID0gKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmhhc0ZvY3VzKSB7XG4gICAgICAgIHRoaXMuaGFzRm9jdXMgPSB0cnVlO1xuICAgICAgICB0aGlzLmlvbkZvY3VzLmVtaXQoKTtcbiAgICAgICAgdGhpcy5lbWl0U3R5bGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGRlYm91bmNlQ2hhbmdlZCgpIHtcbiAgICB0aGlzLmlvbkNoYW5nZSA9IGRlYm91bmNlRXZlbnQodGhpcy5pb25DaGFuZ2UsIHRoaXMuZGVib3VuY2UpO1xuICB9XG4gIG1pbkNoYW5nZWQoKSB7XG4gICAgaWYgKCF0aGlzLm5vVXBkYXRlKSB7XG4gICAgICB0aGlzLnVwZGF0ZVJhdGlvKCk7XG4gICAgfVxuICB9XG4gIG1heENoYW5nZWQoKSB7XG4gICAgaWYgKCF0aGlzLm5vVXBkYXRlKSB7XG4gICAgICB0aGlzLnVwZGF0ZVJhdGlvKCk7XG4gICAgfVxuICB9XG4gIGRpc2FibGVkQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKCF0aGlzLmRpc2FibGVkKTtcbiAgICB9XG4gICAgdGhpcy5lbWl0U3R5bGUoKTtcbiAgfVxuICB2YWx1ZUNoYW5nZWQodmFsdWUpIHtcbiAgICBpZiAoIXRoaXMubm9VcGRhdGUpIHtcbiAgICAgIHRoaXMudXBkYXRlUmF0aW8oKTtcbiAgICB9XG4gICAgdmFsdWUgPSB0aGlzLmVuc3VyZVZhbHVlSW5Cb3VuZHModmFsdWUpO1xuICAgIHRoaXMuaW9uQ2hhbmdlLmVtaXQoeyB2YWx1ZSB9KTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICAvKipcbiAgICAgKiBJZiB1c2VyIGhhcyBjdXN0b20gSUQgc2V0IHRoZW4gd2Ugc2hvdWxkXG4gICAgICogbm90IGFzc2lnbiB0aGUgZGVmYXVsdCBpbmNyZW1lbnRpbmcgSUQuXG4gICAgICovXG4gICAgdGhpcy5yYW5nZUlkID0gKHRoaXMuZWwuaGFzQXR0cmlidXRlKCdpZCcpKSA/IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdpZCcpIDogYGlvbi1yLSR7cmFuZ2VJZHMrK31gO1xuICAgIHRoaXMuaW5oZXJpdGVkQXR0cmlidXRlcyA9IGluaGVyaXRBdHRyaWJ1dGVzKHRoaXMuZWwsIFsnYXJpYS1sYWJlbCddKTtcbiAgfVxuICBjb21wb25lbnREaWRMb2FkKCkge1xuICAgIHRoaXMuc2V0dXBHZXN0dXJlKCk7XG4gICAgdGhpcy5kaWRMb2FkID0gdHJ1ZTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnVwZGF0ZVJhdGlvKCk7XG4gICAgdGhpcy5kZWJvdW5jZUNoYW5nZWQoKTtcbiAgICB0aGlzLmRpc2FibGVkQ2hhbmdlZCgpO1xuICAgIC8qKlxuICAgICAqIElmIHdlIGhhdmUgbm90IHlldCByZW5kZXJlZFxuICAgICAqIGlvbi1yYW5nZSwgdGhlbiByYW5nZVNsaWRlciBpcyBub3QgZGVmaW5lZC5cbiAgICAgKiBCdXQgaWYgd2UgYXJlIG1vdmluZyBpb24tcmFuZ2UgdmlhIGFwcGVuZENoaWxkLFxuICAgICAqIHRoZW4gcmFuZ2VTbGlkZXIgd2lsbCBiZSBkZWZpbmVkLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmRpZExvYWQpIHtcbiAgICAgIHRoaXMuc2V0dXBHZXN0dXJlKCk7XG4gICAgfVxuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmdlc3R1cmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZSB8fCAwO1xuICAgIGlmICh0aGlzLmR1YWxLbm9icykge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG93ZXI6IDAsXG4gICAgICAgIHVwcGVyOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gdmFsdWUudXBwZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIGVtaXRTdHlsZSgpIHtcbiAgICB0aGlzLmlvblN0eWxlLmVtaXQoe1xuICAgICAgJ2ludGVyYWN0aXZlJzogdHJ1ZSxcbiAgICAgICdpbnRlcmFjdGl2ZS1kaXNhYmxlZCc6IHRoaXMuZGlzYWJsZWRcbiAgICB9KTtcbiAgfVxuICBvblN0YXJ0KGRldGFpbCkge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLnJlY3QgPSB0aGlzLnJhbmdlU2xpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGN1cnJlbnRYID0gZGV0YWlsLmN1cnJlbnRYO1xuICAgIC8vIGZpZ3VyZSBvdXQgd2hpY2gga25vYiB0aGV5IHN0YXJ0ZWQgY2xvc2VyIHRvXG4gICAgbGV0IHJhdGlvID0gY2xhbXAoMCwgKGN1cnJlbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGgsIDEpO1xuICAgIGlmIChkb2N1bWVudC5kaXIgPT09ICdydGwnKSB7XG4gICAgICByYXRpbyA9IDEgLSByYXRpbztcbiAgICB9XG4gICAgdGhpcy5wcmVzc2VkS25vYiA9XG4gICAgICAhdGhpcy5kdWFsS25vYnMgfHxcbiAgICAgICAgTWF0aC5hYnModGhpcy5yYXRpb0EgLSByYXRpbykgPCBNYXRoLmFicyh0aGlzLnJhdGlvQiAtIHJhdGlvKVxuICAgICAgICA/ICdBJ1xuICAgICAgICA6ICdCJztcbiAgICB0aGlzLnNldEZvY3VzKHRoaXMucHJlc3NlZEtub2IpO1xuICAgIC8vIHVwZGF0ZSB0aGUgYWN0aXZlIGtub2IncyBwb3NpdGlvblxuICAgIHRoaXMudXBkYXRlKGN1cnJlbnRYKTtcbiAgfVxuICBvbk1vdmUoZGV0YWlsKSB7XG4gICAgdGhpcy51cGRhdGUoZGV0YWlsLmN1cnJlbnRYKTtcbiAgfVxuICBvbkVuZChkZXRhaWwpIHtcbiAgICB0aGlzLnVwZGF0ZShkZXRhaWwuY3VycmVudFgpO1xuICAgIHRoaXMucHJlc3NlZEtub2IgPSB1bmRlZmluZWQ7XG4gIH1cbiAgdXBkYXRlKGN1cnJlbnRYKSB7XG4gICAgLy8gZmlndXJlIG91dCB3aGVyZSB0aGUgcG9pbnRlciBpcyBjdXJyZW50bHkgYXRcbiAgICAvLyB1cGRhdGUgdGhlIGtub2IgYmVpbmcgaW50ZXJhY3RlZCB3aXRoXG4gICAgY29uc3QgcmVjdCA9IHRoaXMucmVjdDtcbiAgICBsZXQgcmF0aW8gPSBjbGFtcCgwLCAoY3VycmVudFggLSByZWN0LmxlZnQpIC8gcmVjdC53aWR0aCwgMSk7XG4gICAgaWYgKGRvY3VtZW50LmRpciA9PT0gJ3J0bCcpIHtcbiAgICAgIHJhdGlvID0gMSAtIHJhdGlvO1xuICAgIH1cbiAgICBpZiAodGhpcy5zbmFwcykge1xuICAgICAgLy8gc25hcHMgdGhlIHJhdGlvIHRvIHRoZSBjdXJyZW50IHZhbHVlXG4gICAgICByYXRpbyA9IHZhbHVlVG9SYXRpbyhyYXRpb1RvVmFsdWUocmF0aW8sIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5zdGVwKSwgdGhpcy5taW4sIHRoaXMubWF4KTtcbiAgICB9XG4gICAgLy8gdXBkYXRlIHdoaWNoIGtub2IgaXMgcHJlc3NlZFxuICAgIGlmICh0aGlzLnByZXNzZWRLbm9iID09PSAnQScpIHtcbiAgICAgIHRoaXMucmF0aW9BID0gcmF0aW87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5yYXRpb0IgPSByYXRpbztcbiAgICB9XG4gICAgLy8gVXBkYXRlIGlucHV0IHZhbHVlXG4gICAgdGhpcy51cGRhdGVWYWx1ZSgpO1xuICB9XG4gIGdldCB2YWxBKCkge1xuICAgIHJldHVybiByYXRpb1RvVmFsdWUodGhpcy5yYXRpb0EsIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5zdGVwKTtcbiAgfVxuICBnZXQgdmFsQigpIHtcbiAgICByZXR1cm4gcmF0aW9Ub1ZhbHVlKHRoaXMucmF0aW9CLCB0aGlzLm1pbiwgdGhpcy5tYXgsIHRoaXMuc3RlcCk7XG4gIH1cbiAgZ2V0IHJhdGlvTG93ZXIoKSB7XG4gICAgaWYgKHRoaXMuZHVhbEtub2JzKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5yYXRpb0EsIHRoaXMucmF0aW9CKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgZ2V0IHJhdGlvVXBwZXIoKSB7XG4gICAgaWYgKHRoaXMuZHVhbEtub2JzKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5yYXRpb0EsIHRoaXMucmF0aW9CKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucmF0aW9BO1xuICB9XG4gIHVwZGF0ZVJhdGlvKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpO1xuICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IHRoaXM7XG4gICAgaWYgKHRoaXMuZHVhbEtub2JzKSB7XG4gICAgICB0aGlzLnJhdGlvQSA9IHZhbHVlVG9SYXRpbyh2YWx1ZS5sb3dlciwgbWluLCBtYXgpO1xuICAgICAgdGhpcy5yYXRpb0IgPSB2YWx1ZVRvUmF0aW8odmFsdWUudXBwZXIsIG1pbiwgbWF4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnJhdGlvQSA9IHZhbHVlVG9SYXRpbyh2YWx1ZSwgbWluLCBtYXgpO1xuICAgIH1cbiAgfVxuICB1cGRhdGVWYWx1ZSgpIHtcbiAgICB0aGlzLm5vVXBkYXRlID0gdHJ1ZTtcbiAgICBjb25zdCB7IHZhbEEsIHZhbEIgfSA9IHRoaXM7XG4gICAgdGhpcy52YWx1ZSA9ICF0aGlzLmR1YWxLbm9ic1xuICAgICAgPyB2YWxBXG4gICAgICA6IHtcbiAgICAgICAgbG93ZXI6IE1hdGgubWluKHZhbEEsIHZhbEIpLFxuICAgICAgICB1cHBlcjogTWF0aC5tYXgodmFsQSwgdmFsQilcbiAgICAgIH07XG4gICAgdGhpcy5ub1VwZGF0ZSA9IGZhbHNlO1xuICB9XG4gIHNldEZvY3VzKGtub2IpIHtcbiAgICBpZiAodGhpcy5lbC5zaGFkb3dSb290KSB7XG4gICAgICBjb25zdCBrbm9iRWwgPSB0aGlzLmVsLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcihrbm9iID09PSAnQScgPyAnLnJhbmdlLWtub2ItYScgOiAnLnJhbmdlLWtub2ItYicpO1xuICAgICAgaWYgKGtub2JFbCkge1xuICAgICAgICBrbm9iRWwuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbWluLCBtYXgsIHN0ZXAsIGVsLCBoYW5kbGVLZXlib2FyZCwgcHJlc3NlZEtub2IsIGRpc2FibGVkLCBwaW4sIHJhdGlvTG93ZXIsIHJhdGlvVXBwZXIsIGluaGVyaXRlZEF0dHJpYnV0ZXMsIHJhbmdlSWQsIHBpbkZvcm1hdHRlciB9ID0gdGhpcztcbiAgICAvKipcbiAgICAgKiBMb29rIGZvciBleHRlcm5hbCBsYWJlbCwgaW9uLWxhYmVsLCBvciBhcmlhLWxhYmVsbGVkYnkuXG4gICAgICogSWYgbm9uZSwgc2VlIGlmIHVzZXIgcGxhY2VkIGFuIGFyaWEtbGFiZWwgb24gdGhlIGhvc3RcbiAgICAgKiBhbmQgdXNlIHRoYXQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBsZXQgeyBsYWJlbFRleHQgfSA9IGdldEFyaWFMYWJlbChlbCwgcmFuZ2VJZCk7XG4gICAgaWYgKGxhYmVsVGV4dCA9PT0gdW5kZWZpbmVkIHx8IGxhYmVsVGV4dCA9PT0gbnVsbCkge1xuICAgICAgbGFiZWxUZXh0ID0gaW5oZXJpdGVkQXR0cmlidXRlc1snYXJpYS1sYWJlbCddO1xuICAgIH1cbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCBiYXJTdGFydCA9IGAke3JhdGlvTG93ZXIgKiAxMDB9JWA7XG4gICAgY29uc3QgYmFyRW5kID0gYCR7MTAwIC0gcmF0aW9VcHBlciAqIDEwMH0lYDtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudDtcbiAgICBjb25zdCBpc1JUTCA9IGRvYy5kaXIgPT09ICdydGwnO1xuICAgIGNvbnN0IHN0YXJ0ID0gaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICAgIGNvbnN0IGVuZCA9IGlzUlRMID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICBjb25zdCB0aWNrU3R5bGUgPSAodGljaykgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW3N0YXJ0XTogdGlja1tzdGFydF1cbiAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBiYXJTdHlsZSA9IHtcbiAgICAgIFtzdGFydF06IGJhclN0YXJ0LFxuICAgICAgW2VuZF06IGJhckVuZFxuICAgIH07XG4gICAgY29uc3QgdGlja3MgPSBbXTtcbiAgICBpZiAodGhpcy5zbmFwcyAmJiB0aGlzLnRpY2tzKSB7XG4gICAgICBmb3IgKGxldCB2YWx1ZSA9IG1pbjsgdmFsdWUgPD0gbWF4OyB2YWx1ZSArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHJhdGlvID0gdmFsdWVUb1JhdGlvKHZhbHVlLCBtaW4sIG1heCk7XG4gICAgICAgIGNvbnN0IHRpY2sgPSB7XG4gICAgICAgICAgcmF0aW8sXG4gICAgICAgICAgYWN0aXZlOiByYXRpbyA+PSByYXRpb0xvd2VyICYmIHJhdGlvIDw9IHJhdGlvVXBwZXIsXG4gICAgICAgIH07XG4gICAgICAgIHRpY2tbc3RhcnRdID0gYCR7cmF0aW8gKiAxMDB9JWA7XG4gICAgICAgIHRpY2tzLnB1c2godGljayk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlbmRlckhpZGRlbklucHV0KHRydWUsIGVsLCB0aGlzLm5hbWUsIEpTT04uc3RyaW5naWZ5KHRoaXMuZ2V0VmFsdWUoKSksIGRpc2FibGVkKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBvbkZvY3VzaW46IHRoaXMub25Gb2N1cywgb25Gb2N1c291dDogdGhpcy5vbkJsdXIsIGlkOiByYW5nZUlkLCBjbGFzczogY3JlYXRlQ29sb3JDbGFzc2VzKHRoaXMuY29sb3IsIHtcbiAgICAgICAgW21vZGVdOiB0cnVlLFxuICAgICAgICAnaW4taXRlbSc6IGhvc3RDb250ZXh0KCdpb24taXRlbScsIGVsKSxcbiAgICAgICAgJ3JhbmdlLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICdyYW5nZS1wcmVzc2VkJzogcHJlc3NlZEtub2IgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ3JhbmdlLWhhcy1waW4nOiBwaW5cbiAgICAgIH0pIH0sIGgoXCJzbG90XCIsIHsgbmFtZTogXCJzdGFydFwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicmFuZ2Utc2xpZGVyXCIsIHJlZjogcmFuZ2VFbCA9PiB0aGlzLnJhbmdlU2xpZGVyID0gcmFuZ2VFbCB9LCB0aWNrcy5tYXAodGljayA9PiAoaChcImRpdlwiLCB7IHN0eWxlOiB0aWNrU3R5bGUodGljayksIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIGNsYXNzOiB7XG4gICAgICAgICdyYW5nZS10aWNrJzogdHJ1ZSxcbiAgICAgICAgJ3JhbmdlLXRpY2stYWN0aXZlJzogdGljay5hY3RpdmVcbiAgICAgIH0sIHBhcnQ6IHRpY2suYWN0aXZlID8gJ3RpY2stYWN0aXZlJyA6ICd0aWNrJyB9KSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicmFuZ2UtYmFyXCIsIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIHBhcnQ6IFwiYmFyXCIgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyYW5nZS1iYXIgcmFuZ2UtYmFyLWFjdGl2ZVwiLCByb2xlOiBcInByZXNlbnRhdGlvblwiLCBzdHlsZTogYmFyU3R5bGUsIHBhcnQ6IFwiYmFyLWFjdGl2ZVwiIH0pLCByZW5kZXJLbm9iKGlzUlRMLCB7XG4gICAgICBrbm9iOiAnQScsXG4gICAgICBwcmVzc2VkOiBwcmVzc2VkS25vYiA9PT0gJ0EnLFxuICAgICAgdmFsdWU6IHRoaXMudmFsQSxcbiAgICAgIHJhdGlvOiB0aGlzLnJhdGlvQSxcbiAgICAgIHBpbixcbiAgICAgIHBpbkZvcm1hdHRlcixcbiAgICAgIGRpc2FibGVkLFxuICAgICAgaGFuZGxlS2V5Ym9hcmQsXG4gICAgICBtaW4sXG4gICAgICBtYXgsXG4gICAgICBsYWJlbFRleHRcbiAgICB9KSwgdGhpcy5kdWFsS25vYnMgJiYgcmVuZGVyS25vYihpc1JUTCwge1xuICAgICAga25vYjogJ0InLFxuICAgICAgcHJlc3NlZDogcHJlc3NlZEtub2IgPT09ICdCJyxcbiAgICAgIHZhbHVlOiB0aGlzLnZhbEIsXG4gICAgICByYXRpbzogdGhpcy5yYXRpb0IsXG4gICAgICBwaW4sXG4gICAgICBwaW5Gb3JtYXR0ZXIsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGhhbmRsZUtleWJvYXJkLFxuICAgICAgbWluLFxuICAgICAgbWF4LFxuICAgICAgbGFiZWxUZXh0XG4gICAgfSkpLCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiZW5kXCIgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJkZWJvdW5jZVwiOiBbXCJkZWJvdW5jZUNoYW5nZWRcIl0sXG4gICAgXCJtaW5cIjogW1wibWluQ2hhbmdlZFwiXSxcbiAgICBcIm1heFwiOiBbXCJtYXhDaGFuZ2VkXCJdLFxuICAgIFwiZGlzYWJsZWRcIjogW1wiZGlzYWJsZWRDaGFuZ2VkXCJdLFxuICAgIFwidmFsdWVcIjogW1widmFsdWVDaGFuZ2VkXCJdXG4gIH07IH1cbn07XG5jb25zdCByZW5kZXJLbm9iID0gKGlzUlRMLCB7IGtub2IsIHZhbHVlLCByYXRpbywgbWluLCBtYXgsIGRpc2FibGVkLCBwcmVzc2VkLCBwaW4sIGhhbmRsZUtleWJvYXJkLCBsYWJlbFRleHQsIHBpbkZvcm1hdHRlciB9KSA9PiB7XG4gIGNvbnN0IHN0YXJ0ID0gaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnO1xuICBjb25zdCBrbm9iU3R5bGUgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICBzdHlsZVtzdGFydF0gPSBgJHtyYXRpbyAqIDEwMH0lYDtcbiAgICByZXR1cm4gc3R5bGU7XG4gIH07XG4gIHJldHVybiAoaChcImRpdlwiLCB7IG9uS2V5RG93bjogKGV2KSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBldi5rZXk7XG4gICAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0JyB8fCBrZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgIGhhbmRsZUtleWJvYXJkKGtub2IsIGZhbHNlKTtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBrZXkgPT09ICdBcnJvd1VwJykge1xuICAgICAgICBoYW5kbGVLZXlib2FyZChrbm9iLCB0cnVlKTtcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfSwgY2xhc3M6IHtcbiAgICAgICdyYW5nZS1rbm9iLWhhbmRsZSc6IHRydWUsXG4gICAgICAncmFuZ2Uta25vYi1hJzoga25vYiA9PT0gJ0EnLFxuICAgICAgJ3JhbmdlLWtub2ItYic6IGtub2IgPT09ICdCJyxcbiAgICAgICdyYW5nZS1rbm9iLXByZXNzZWQnOiBwcmVzc2VkLFxuICAgICAgJ3JhbmdlLWtub2ItbWluJzogdmFsdWUgPT09IG1pbixcbiAgICAgICdyYW5nZS1rbm9iLW1heCc6IHZhbHVlID09PSBtYXhcbiAgICB9LCBzdHlsZToga25vYlN0eWxlKCksIHJvbGU6IFwic2xpZGVyXCIsIHRhYmluZGV4OiBkaXNhYmxlZCA/IC0xIDogMCwgXCJhcmlhLWxhYmVsXCI6IGxhYmVsVGV4dCwgXCJhcmlhLXZhbHVlbWluXCI6IG1pbiwgXCJhcmlhLXZhbHVlbWF4XCI6IG1heCwgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkID8gJ3RydWUnIDogbnVsbCwgXCJhcmlhLXZhbHVlbm93XCI6IHZhbHVlIH0sIHBpbiAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicmFuZ2UtcGluXCIsIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIHBhcnQ6IFwicGluXCIgfSwgcGluRm9ybWF0dGVyKHZhbHVlKSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJyYW5nZS1rbm9iXCIsIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsIHBhcnQ6IFwia25vYlwiIH0pKSk7XG59O1xuY29uc3QgcmF0aW9Ub1ZhbHVlID0gKHJhdGlvLCBtaW4sIG1heCwgc3RlcCkgPT4ge1xuICBsZXQgdmFsdWUgPSAobWF4IC0gbWluKSAqIHJhdGlvO1xuICBpZiAoc3RlcCA+IDApIHtcbiAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXAgKyBtaW47XG4gIH1cbiAgcmV0dXJuIGNsYW1wKG1pbiwgdmFsdWUsIG1heCk7XG59O1xuY29uc3QgdmFsdWVUb1JhdGlvID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xuICByZXR1cm4gY2xhbXAoMCwgKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pLCAxKTtcbn07XG5sZXQgcmFuZ2VJZHMgPSAwO1xuUmFuZ2Uuc3R5bGUgPSB7XG4gIGlvczogcmFuZ2VJb3NDc3MsXG4gIG1kOiByYW5nZU1kQ3NzXG59O1xuXG5leHBvcnQgeyBSYW5nZSBhcyBpb25fcmFuZ2UgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==