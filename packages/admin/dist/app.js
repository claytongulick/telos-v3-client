/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js":
/*!****************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createAnimation)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var animationPrefix;var processKeyframes=function(e){e.forEach((function(e){for(var n in e){if(e.hasOwnProperty(n)){var r=e[n];if(n==="easing"){var t="animation-timing-function";e[t]=r;delete e[n]}else{var t=convertCamelCaseToHypen(n);if(t!==n){e[t]=r;delete e[n]}}}}}));return e};var convertCamelCaseToHypen=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()};var getAnimationPrefix=function(e){if(animationPrefix===undefined){var n=e.style.animationName!==undefined;var r=e.style.webkitAnimationName!==undefined;animationPrefix=!n&&r?"-webkit-":""}return animationPrefix};var setStyleProperty=function(e,n,r){var t=n.startsWith("animation")?getAnimationPrefix(e):"";e.style.setProperty(t+n,r)};var removeStyleProperty=function(e,n){var r=n.startsWith("animation")?getAnimationPrefix(e):"";e.style.removeProperty(r+n)};var animationEnd=function(e,n){var r;var t={passive:true};var a=function(){if(r){r()}};var i=function(r){if(e===r.target){a();n(r)}};if(e){e.addEventListener("webkitAnimationEnd",i,t);e.addEventListener("animationend",i,t);r=function(){e.removeEventListener("webkitAnimationEnd",i,t);e.removeEventListener("animationend",i,t)}}return a};var generateKeyframeRules=function(e){if(e===void 0){e=[]}return e.map((function(e){var n=e.offset;var r=[];for(var t in e){if(e.hasOwnProperty(t)&&t!=="offset"){r.push(t+": "+e[t]+";")}}return n*100+"% { "+r.join(" ")+" }"})).join(" ")};var keyframeIds=[];var generateKeyframeName=function(e){var n=keyframeIds.indexOf(e);if(n<0){n=keyframeIds.push(e)-1}return"ion-animation-"+n};var getStyleContainer=function(e){var n=e.getRootNode();return n.head||n};var createKeyframeStylesheet=function(e,n,r){var t=getStyleContainer(r);var a=getAnimationPrefix(r);var i=t.querySelector("#"+e);if(i){return i}var o=(r.ownerDocument||document).createElement("style");o.id=e;o.textContent="@"+a+"keyframes "+e+" { "+n+" } @"+a+"keyframes "+e+"-alt { "+n+" }";t.appendChild(o);return o};var addClassToArray=function(e,n){if(e===void 0){e=[]}if(n!==undefined){var r=Array.isArray(n)?n:[n];return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([],e),r)}return e};var createAnimation=function(e){var n;var r;var t;var a;var i;var o;var f=[];var u=[];var s=[];var c=false;var v;var l={};var d=[];var y=[];var m={};var p=0;var h=false;var g=false;var E;var P;var S;var A;var C=true;var T=false;var b=true;var k;var w;var x=e;var K=[];var _=[];var I=[];var D=[];var L=[];var N=[];var R=[];var F=[];var O=[];var W=[];var j=typeof AnimationEffect==="function"||typeof window.AnimationEffect==="function";var H=typeof Element==="function"&&typeof Element.prototype.animate==="function"&&j;var M=100;var $=function(){return W};var q=function(e){D.forEach((function(n){n.destroy(e)}));z(e);I.length=0;D.length=0;f.length=0;G();c=false;b=true;return w};var z=function(e){J();if(e){Q()}};var Z=function(){h=false;g=false;b=true;P=undefined;S=undefined;A=undefined;p=0;T=false;C=true};var B=function(e,n){var r=n&&n.oneTimeCallback?_:K;r.push({c:e,o:n});return w};var G=function(){K.length=0;_.length=0;return w};var J=function(){if(H){W.forEach((function(e){e.cancel()}));W.length=0}else{var e=I.slice();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){e.forEach((function(e){removeStyleProperty(e,"animation-name");removeStyleProperty(e,"animation-duration");removeStyleProperty(e,"animation-timing-function");removeStyleProperty(e,"animation-iteration-count");removeStyleProperty(e,"animation-delay");removeStyleProperty(e,"animation-play-state");removeStyleProperty(e,"animation-fill-mode");removeStyleProperty(e,"animation-direction")}))}))}};var Q=function(){L.forEach((function(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}}));L.length=0};var U=function(e){N.push(e);return w};var V=function(e){R.push(e);return w};var X=function(e){F.push(e);return w};var Y=function(e){O.push(e);return w};var ee=function(e){u=addClassToArray(u,e);return w};var ne=function(e){s=addClassToArray(s,e);return w};var re=function(e){if(e===void 0){e={}}l=e;return w};var te=function(e){if(e===void 0){e=[]}for(var n=0,r=e;n<r.length;n++){var t=r[n];l[t]=""}return w};var ae=function(e){d=addClassToArray(d,e);return w};var ie=function(e){y=addClassToArray(y,e);return w};var oe=function(e){if(e===void 0){e={}}m=e;return w};var fe=function(e){if(e===void 0){e=[]}for(var n=0,r=e;n<r.length;n++){var t=r[n];m[t]=""}return w};var ue=function(){if(i!==undefined){return i}if(v){return v.getFill()}return"both"};var se=function(){if(P!==undefined){return P}if(o!==undefined){return o}if(v){return v.getDirection()}return"normal"};var ce=function(){if(h){return"linear"}if(t!==undefined){return t}if(v){return v.getEasing()}return"linear"};var ve=function(){if(g){return 0}if(S!==undefined){return S}if(r!==undefined){return r}if(v){return v.getDuration()}return 0};var le=function(){if(a!==undefined){return a}if(v){return v.getIterations()}return 1};var de=function(){if(A!==undefined){return A}if(n!==undefined){return n}if(v){return v.getDelay()}return 0};var ye=function(){return f};var me=function(e){o=e;Re(true);return w};var pe=function(e){i=e;Re(true);return w};var he=function(e){n=e;Re(true);return w};var ge=function(e){t=e;Re(true);return w};var Ee=function(e){if(!H&&e===0){e=1}r=e;Re(true);return w};var Pe=function(e){a=e;Re(true);return w};var Se=function(e){v=e;return w};var Ae=function(e){if(e!=null){if(e.nodeType===1){I.push(e)}else if(e.length>=0){for(var n=0;n<e.length;n++){I.push(e[n])}}else{console.error("Invalid addElement value")}}return w};var Ce=function(e){if(e!=null){if(Array.isArray(e)){for(var n=0,r=e;n<r.length;n++){var t=r[n];t.parent(w);D.push(t)}}else{e.parent(w);D.push(e)}}return w};var Te=function(e){var n=f!==e;f=e;if(n){be(f)}return w};var be=function(e){if(H){$().forEach((function(n){if(n.effect.setKeyframes){n.effect.setKeyframes(e)}else{var r=new KeyframeEffect(n.effect.target,e,n.effect.getTiming());n.effect=r}}))}else{Ke()}};var ke=function(){N.forEach((function(e){return e()}));R.forEach((function(e){return e()}));var e=u;var n=s;var r=l;I.forEach((function(t){var a=t.classList;e.forEach((function(e){return a.add(e)}));n.forEach((function(e){return a.remove(e)}));for(var i in r){if(r.hasOwnProperty(i)){setStyleProperty(t,i,r[i])}}}))};var we=function(){$e();F.forEach((function(e){return e()}));O.forEach((function(e){return e()}));var e=C?1:0;var n=d;var r=y;var t=m;I.forEach((function(e){var a=e.classList;n.forEach((function(e){return a.add(e)}));r.forEach((function(e){return a.remove(e)}));for(var i in t){if(t.hasOwnProperty(i)){setStyleProperty(e,i,t[i])}}}));K.forEach((function(n){return n.c(e,w)}));_.forEach((function(n){return n.c(e,w)}));_.length=0;b=true;if(C){T=true}C=true};var xe=function(){if(p===0){return}p--;if(p===0){we();if(v){v.animationFinish()}}};var Ke=function(n){if(n===void 0){n=true}Q();var r=processKeyframes(f);I.forEach((function(t){if(r.length>0){var a=generateKeyframeRules(r);k=e!==undefined?e:generateKeyframeName(a);var i=createKeyframeStylesheet(k,a,t);L.push(i);setStyleProperty(t,"animation-duration",ve()+"ms");setStyleProperty(t,"animation-timing-function",ce());setStyleProperty(t,"animation-delay",de()+"ms");setStyleProperty(t,"animation-fill-mode",ue());setStyleProperty(t,"animation-direction",se());var o=le()===Infinity?"infinite":le().toString();setStyleProperty(t,"animation-iteration-count",o);setStyleProperty(t,"animation-play-state","paused");if(n){setStyleProperty(t,"animation-name",i.id+"-alt")}(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){setStyleProperty(t,"animation-name",i.id||null)}))}}))};var _e=function(){I.forEach((function(e){var n=e.animate(f,{id:x,delay:de(),duration:ve(),easing:ce(),iterations:le(),fill:ue(),direction:se()});n.pause();W.push(n)}));if(W.length>0){W[0].onfinish=function(){xe()}}};var Ie=function(e){if(e===void 0){e=true}ke();if(f.length>0){if(H){_e()}else{Ke(e)}}c=true};var De=function(e){e=Math.min(Math.max(e,0),.9999);if(H){W.forEach((function(n){n.currentTime=n.effect.getComputedTiming().delay+ve()*e;n.pause()}))}else{var n="-"+ve()*e+"ms";I.forEach((function(e){if(f.length>0){setStyleProperty(e,"animation-delay",n);setStyleProperty(e,"animation-play-state","paused")}}))}};var Le=function(e){W.forEach((function(e){e.effect.updateTiming({delay:de(),duration:ve(),easing:ce(),iterations:le(),fill:ue(),direction:se()})}));if(e!==undefined){De(e)}};var Ne=function(e,n){if(e===void 0){e=true}(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){I.forEach((function(r){setStyleProperty(r,"animation-name",k||null);setStyleProperty(r,"animation-duration",ve()+"ms");setStyleProperty(r,"animation-timing-function",ce());setStyleProperty(r,"animation-delay",n!==undefined?"-"+n*ve()+"ms":de()+"ms");setStyleProperty(r,"animation-fill-mode",ue()||null);setStyleProperty(r,"animation-direction",se()||null);var t=le()===Infinity?"infinite":le().toString();setStyleProperty(r,"animation-iteration-count",t);if(e){setStyleProperty(r,"animation-name",k+"-alt")}(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){setStyleProperty(r,"animation-name",k||null)}))}))}))};var Re=function(e,n,r){if(e===void 0){e=false}if(n===void 0){n=true}if(e){D.forEach((function(t){t.update(e,n,r)}))}if(H){Le(r)}else{Ne(n,r)}return w};var Fe=function(e,n){if(e===void 0){e=false}D.forEach((function(r){r.progressStart(e,n)}));je();h=e;if(!c){Ie()}Re(false,true,n);return w};var Oe=function(e){D.forEach((function(n){n.progressStep(e)}));De(e);return w};var We=function(e,n,r){h=false;D.forEach((function(t){t.progressEnd(e,n,r)}));if(r!==undefined){S=r}T=false;C=true;if(e===0){P=se()==="reverse"?"normal":"reverse";if(P==="reverse"){C=false}if(H){Re();De(1-n)}else{A=(1-n)*ve()*-1;Re(false,false)}}else if(e===1){if(H){Re();De(n)}else{A=n*ve()*-1;Re(false,false)}}if(e!==undefined){B((function(){S=undefined;P=undefined;A=undefined}),{oneTimeCallback:true});if(!v){Ge()}}return w};var je=function(){if(c){if(H){W.forEach((function(e){e.pause()}))}else{I.forEach((function(e){setStyleProperty(e,"animation-play-state","paused")}))}}};var He=function(){D.forEach((function(e){e.pause()}));je();return w};var Me=function(){E=undefined;xe()};var $e=function(){if(E){clearTimeout(E)}};var qe=function(){$e();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){I.forEach((function(e){if(f.length>0){setStyleProperty(e,"animation-play-state","running")}}))}));if(f.length===0||I.length===0){xe()}else{var e=de()||0;var n=ve()||0;var r=le()||1;if(isFinite(r)){E=setTimeout(Me,e+n*r+M)}animationEnd(I[0],(function(){$e();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)((function(){ze();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(xe)}))}))}};var ze=function(){I.forEach((function(e){removeStyleProperty(e,"animation-duration");removeStyleProperty(e,"animation-delay");removeStyleProperty(e,"animation-play-state")}))};var Ze=function(){W.forEach((function(e){e.play()}));if(f.length===0||I.length===0){xe()}};var Be=function(){if(H){De(0);Le()}else{Ne()}};var Ge=function(e){return new Promise((function(n){if(e&&e.sync){g=true;B((function(){return g=false}),{oneTimeCallback:true})}if(!c){Ie()}if(T){Be();T=false}if(b){p=D.length+1;b=false}B((function(){return n()}),{oneTimeCallback:true});D.forEach((function(e){e.play()}));if(H){Ze()}else{qe()}}))};var Je=function(){D.forEach((function(e){e.stop()}));if(c){J();c=false}Z()};var Qe=function(e,n){var r;var t=f[0];if(t!==undefined&&(t.offset===undefined||t.offset===0)){t[e]=n}else{f=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([(r={offset:0},r[e]=n,r)],f)}return w};var Ue=function(e,n){var r;var t=f[f.length-1];if(t!==undefined&&(t.offset===undefined||t.offset===1)){t[e]=n}else{f=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_1__.__spreadArray)([],f),[(r={offset:1},r[e]=n,r)])}return w};var Ve=function(e,n,r){return Qe(e,n).to(e,r)};return w={parentAnimation:v,elements:I,childAnimations:D,id:x,animationFinish:xe,from:Qe,to:Ue,fromTo:Ve,parent:Se,play:Ge,pause:He,stop:Je,destroy:q,keyframes:Te,addAnimation:Ce,addElement:Ae,update:Re,fill:pe,direction:me,iterations:Pe,duration:Ee,easing:ge,delay:he,getWebAnimations:$,getKeyframes:ye,getFill:ue,getDirection:se,getDelay:de,getIterations:le,getEasing:ce,getDuration:ve,afterAddRead:X,afterAddWrite:Y,afterClearStyles:fe,afterStyles:oe,afterRemoveClass:ie,afterAddClass:ae,beforeAddRead:U,beforeAddWrite:V,beforeClearStyles:te,beforeStyles:re,beforeRemoveClass:ne,beforeAddClass:ee,onFinish:B,progressStart:Fe,progressStep:Oe,progressEnd:We}};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/cubic-bezier-154a53a5.js":
/*!*******************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/cubic-bezier-154a53a5.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "g": () => (/* binding */ getTimeGivenProgression)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var getTimeGivenProgression=function(t,r,a,e,o){return solveCubicBezier(t[1],r[1],a[1],e[1],o).map((function(o){return solveCubicParametricEquation(t[0],r[0],a[0],e[0],o)}))};var solveCubicParametricEquation=function(t,r,a,e,o){var i=3*r*Math.pow(o-1,2);var n=-3*a*o+3*a+e*o;var u=t*Math.pow(o-1,3);return o*(i+o*n)-u};var solveCubicBezier=function(t,r,a,e,o){t-=o;r-=o;a-=o;e-=o;var i=solveCubicEquation(e-3*a+3*r-t,3*a-6*r+3*t,3*r-3*t,t);return i.filter((function(t){return t>=0&&t<=1}))};var solveQuadraticEquation=function(t,r,a){var e=r*r-4*t*a;if(e<0){return[]}else{return[(-r+Math.sqrt(e))/(2*t),(-r-Math.sqrt(e))/(2*t)]}};var solveCubicEquation=function(t,r,a,e){if(t===0){return solveQuadraticEquation(r,a,e)}r/=t;a/=t;e/=t;var o=(3*a-r*r)/3;var i=(2*r*r*r-9*r*a+27*e)/27;if(o===0){return[Math.pow(-i,1/3)]}else if(i===0){return[Math.sqrt(-o),-Math.sqrt(-o)]}var n=Math.pow(i/2,2)+Math.pow(o/3,3);if(n===0){return[Math.pow(i/2,1/2)-r/3]}else if(n>0){return[Math.pow(-(i/2)+Math.sqrt(n),1/3)-Math.pow(i/2+Math.sqrt(n),1/3)-r/3]}var u=Math.sqrt(Math.pow(-(o/3),3));var s=Math.acos(-(i/(2*Math.sqrt(Math.pow(-(o/3),3)))));var v=2*Math.pow(u,1/3);return[v*Math.cos(s/3)-r/3,v*Math.cos((s+2*Math.PI)/3)-r/3,v*Math.cos((s+4*Math.PI)/3)-r/3]};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/framework-delegate-a922018c.js":
/*!*************************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/framework-delegate-a922018c.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* binding */ CoreDelegate),
/* harmony export */   "a": () => (/* binding */ attachComponent),
/* harmony export */   "d": () => (/* binding */ detachComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var attachComponent=function(e,n,r,t,o,a){return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(void 0,void 0,void 0,(function(){var i;return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this,(function(c){switch(c.label){case 0:if(e){return[2,e.attachViewToDom(n,r,o,t)]}if(!a&&typeof r!=="string"&&!(r instanceof HTMLElement)){throw new Error("framework delegate is missing")}i=typeof r==="string"?n.ownerDocument&&n.ownerDocument.createElement(r):r;if(t){t.forEach((function(e){return i.classList.add(e)}))}if(o){Object.assign(i,o)}n.appendChild(i);return[4,new Promise((function(e){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.c)(i,e)}))];case 1:c.sent();return[2,i]}}))}))};var detachComponent=function(e,n){if(n){if(e){var r=n.parentElement;return e.removeViewFromDom(r,n)}n.remove()}return Promise.resolve()};var CoreDelegate=function(){var e;var n;var r=function(r,t,o,a){if(o===void 0){o={}}if(a===void 0){a=[]}return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(void 0,void 0,void 0,(function(){var i,c;return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this,(function(s){switch(s.label){case 0:e=r;if(!t)return[3,2];i=typeof t==="string"?e.ownerDocument&&e.ownerDocument.createElement(t):t;a.forEach((function(e){return i.classList.add(e)}));Object.assign(i,o);e.appendChild(i);return[4,new Promise((function(e){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.c)(i,e)}))];case 1:s.sent();s.label=2;case 2:c=document.querySelector("ion-app")||document.body;n=document.createComment("ionic teleport");e.parentNode.insertBefore(n,e);c.appendChild(e);return[2,e]}}))}))};var t=function(){if(e&&n){n.parentNode.insertBefore(e,n);n.remove()}return Promise.resolve()};return{attachViewToDom:r,removeViewFromDom:t}};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/gesture-controller-68c023a4.js":
/*!*************************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/gesture-controller-68c023a4.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "G": () => (/* binding */ GESTURE_CONTROLLER)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var GestureController=function(){function t(){this.gestureId=0;this.requestedStart=new Map;this.disabledGestures=new Map;this.disabledScroll=new Set}t.prototype.createGesture=function(t){return new GestureDelegate(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)};t.prototype.createBlocker=function(t){if(t===void 0){t={}}return new BlockerDelegate(this,this.newID(),t.disable,!!t.disableScroll)};t.prototype.start=function(t,e,r){if(!this.canStart(t)){this.requestedStart.delete(e);return false}this.requestedStart.set(e,r);return true};t.prototype.capture=function(t,e,r){if(!this.start(t,e,r)){return false}var i=this.requestedStart;var s=-1e4;i.forEach((function(t){s=Math.max(s,t)}));if(s===r){this.capturedId=e;i.clear();var l=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});document.dispatchEvent(l);return true}i.delete(e);return false};t.prototype.release=function(t){this.requestedStart.delete(t);if(this.capturedId===t){this.capturedId=undefined}};t.prototype.disableGesture=function(t,e){var r=this.disabledGestures.get(t);if(r===undefined){r=new Set;this.disabledGestures.set(t,r)}r.add(e)};t.prototype.enableGesture=function(t,e){var r=this.disabledGestures.get(t);if(r!==undefined){r.delete(e)}};t.prototype.disableScroll=function(t){this.disabledScroll.add(t);if(this.disabledScroll.size===1){document.body.classList.add(BACKDROP_NO_SCROLL)}};t.prototype.enableScroll=function(t){this.disabledScroll.delete(t);if(this.disabledScroll.size===0){document.body.classList.remove(BACKDROP_NO_SCROLL)}};t.prototype.canStart=function(t){if(this.capturedId!==undefined){return false}if(this.isDisabled(t)){return false}return true};t.prototype.isCaptured=function(){return this.capturedId!==undefined};t.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0};t.prototype.isDisabled=function(t){var e=this.disabledGestures.get(t);if(e&&e.size>0){return true}return false};t.prototype.newID=function(){this.gestureId++;return this.gestureId};return t}();var GestureDelegate=function(){function t(t,e,r,i,s){this.id=e;this.name=r;this.disableScroll=s;this.priority=i*1e6+e;this.ctrl=t}t.prototype.canStart=function(){if(!this.ctrl){return false}return this.ctrl.canStart(this.name)};t.prototype.start=function(){if(!this.ctrl){return false}return this.ctrl.start(this.name,this.id,this.priority)};t.prototype.capture=function(){if(!this.ctrl){return false}var t=this.ctrl.capture(this.name,this.id,this.priority);if(t&&this.disableScroll){this.ctrl.disableScroll(this.id)}return t};t.prototype.release=function(){if(this.ctrl){this.ctrl.release(this.id);if(this.disableScroll){this.ctrl.enableScroll(this.id)}}};t.prototype.destroy=function(){this.release();this.ctrl=undefined};return t}();var BlockerDelegate=function(){function t(t,e,r,i){this.id=e;this.disable=r;this.disableScroll=i;this.ctrl=t}t.prototype.block=function(){if(!this.ctrl){return}if(this.disable){for(var t=0,e=this.disable;t<e.length;t++){var r=e[t];this.ctrl.disableGesture(r,this.id)}}if(this.disableScroll){this.ctrl.disableScroll(this.id)}};t.prototype.unblock=function(){if(!this.ctrl){return}if(this.disable){for(var t=0,e=this.disable;t<e.length;t++){var r=e[t];this.ctrl.enableGesture(r,this.id)}}if(this.disableScroll){this.ctrl.enableScroll(this.id)}};t.prototype.destroy=function(){this.unblock();this.ctrl=undefined};return t}();var BACKDROP_NO_SCROLL="backdrop-no-scroll";var GESTURE_CONTROLLER=new GestureController;

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/haptic-9a9aa7ec.js":
/*!*************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/haptic-9a9aa7ec.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ hapticSelectionStart),
/* harmony export */   "b": () => (/* binding */ hapticSelectionChanged),
/* harmony export */   "c": () => (/* binding */ hapticSelection),
/* harmony export */   "d": () => (/* binding */ hapticImpact),
/* harmony export */   "h": () => (/* binding */ hapticSelectionEnd)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var HapticEngine={getEngine:function(){var t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available:function(){return!!this.getEngine()},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){var t=window;return!!t.Capacitor},impact:function(t){var i=this.getEngine();if(!i){return}var n=this.isCapacitor()?t.style.toUpperCase():t.style;i.impact({style:n})},notification:function(t){var i=this.getEngine();if(!i){return}var n=this.isCapacitor()?t.style.toUpperCase():t.style;i.notification({style:n})},selection:function(){this.impact({style:"light"})},selectionStart:function(){var t=this.getEngine();if(!t){return}if(this.isCapacitor()){t.selectionStart()}else{t.gestureSelectionStart()}},selectionChanged:function(){var t=this.getEngine();if(!t){return}if(this.isCapacitor()){t.selectionChanged()}else{t.gestureSelectionChanged()}},selectionEnd:function(){var t=this.getEngine();if(!t){return}if(this.isCapacitor()){t.selectionEnd()}else{t.gestureSelectionEnd()}}};var hapticSelection=function(){HapticEngine.selection()};var hapticSelectionStart=function(){HapticEngine.selectionStart()};var hapticSelectionChanged=function(){HapticEngine.selectionChanged()};var hapticSelectionEnd=function(){HapticEngine.selectionEnd()};var hapticImpact=function(t){HapticEngine.impact(t)};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/hardware-back-button-ace6a71b.js":
/*!***************************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/hardware-back-button-ace6a71b.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MENU_BACK_BUTTON_PRIORITY": () => (/* binding */ MENU_BACK_BUTTON_PRIORITY),
/* harmony export */   "OVERLAY_BACK_BUTTON_PRIORITY": () => (/* binding */ OVERLAY_BACK_BUTTON_PRIORITY),
/* harmony export */   "blockHardwareBackButton": () => (/* binding */ blockHardwareBackButton),
/* harmony export */   "startHardwareBackButton": () => (/* binding */ startHardwareBackButton)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var blockHardwareBackButton=function(){document.addEventListener("backbutton",(function(){}))};var startHardwareBackButton=function(){var r=document;var t=false;r.addEventListener("backbutton",(function(){if(t){return}var n=0;var e=[];var a=new CustomEvent("ionBackButton",{bubbles:false,detail:{register:function(r,t){e.push({priority:r,handler:t,id:n++})}}});r.dispatchEvent(a);var i=function(r){return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(e){switch(e.label){case 0:e.trys.push([0,3,,4]);if(!(r&&r.handler))return[3,2];t=r.handler(o);if(!(t!=null))return[3,2];return[4,t];case 1:e.sent();e.label=2;case 2:return[3,4];case 3:n=e.sent();console.error(n);return[3,4];case 4:return[2]}}))}))};var o=function(){if(e.length>0){var r={priority:Number.MIN_SAFE_INTEGER,handler:function(){return undefined},id:-1};e.forEach((function(t){if(t.priority>=r.priority){r=t}}));t=true;e=e.filter((function(t){return t.id!==r.id}));i(r).then((function(){return t=false}))}};o()}))};var OVERLAY_BACK_BUTTON_PRIORITY=100;var MENU_BACK_BUTTON_PRIORITY=99;

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js":
/*!**************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ addEventListener),
/* harmony export */   "b": () => (/* binding */ removeEventListener),
/* harmony export */   "c": () => (/* binding */ componentOnReady),
/* harmony export */   "d": () => (/* binding */ clamp),
/* harmony export */   "e": () => (/* binding */ getAriaLabel),
/* harmony export */   "f": () => (/* binding */ focusElement),
/* harmony export */   "g": () => (/* binding */ getElementRoot),
/* harmony export */   "h": () => (/* binding */ renderHiddenInput),
/* harmony export */   "i": () => (/* binding */ inheritAttributes),
/* harmony export */   "j": () => (/* binding */ debounceEvent),
/* harmony export */   "k": () => (/* binding */ findItemLabel),
/* harmony export */   "l": () => (/* binding */ hasShadowDom),
/* harmony export */   "m": () => (/* binding */ assert),
/* harmony export */   "n": () => (/* binding */ isEndSide),
/* harmony export */   "o": () => (/* binding */ debounce),
/* harmony export */   "p": () => (/* binding */ pointerCoord),
/* harmony export */   "q": () => (/* binding */ now),
/* harmony export */   "r": () => (/* binding */ raf),
/* harmony export */   "t": () => (/* binding */ transitionEndAsync)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var transitionEndAsync=function(e,n){if(n===void 0){n=0}return new Promise((function(t){transitionEnd(e,n,t)}))};var transitionEnd=function(e,n,t){if(n===void 0){n=0}var r;var i;var a={passive:true};var o=500;var u=function(){if(r){r()}};var s=function(n){if(n===undefined||e===n.target){u();t(n)}};if(e){e.addEventListener("webkitTransitionEnd",s,a);e.addEventListener("transitionend",s,a);i=setTimeout(s,n+o);r=function(){if(i){clearTimeout(i);i=undefined}e.removeEventListener("webkitTransitionEnd",s,a);e.removeEventListener("transitionend",s,a)}}return u};var componentOnReady=function(e,n){if(e.componentOnReady){e.componentOnReady().then((function(e){return n(e)}))}else{raf((function(){return n(e)}))}};var inheritAttributes=function(e,n){if(n===void 0){n=[]}var t={};n.forEach((function(n){if(e.hasAttribute(n)){var r=e.getAttribute(n);if(r!==null){t[n]=e.getAttribute(n)}e.removeAttribute(n)}}));return t};var addEventListener=function(e,n,t,r){if(typeof window!=="undefined"){var i=window;var a=i&&i.Ionic&&i.Ionic.config;if(a){var o=a.get("_ael");if(o){return o(e,n,t,r)}else if(a._ael){return a._ael(e,n,t,r)}}}return e.addEventListener(n,t,r)};var removeEventListener=function(e,n,t,r){if(typeof window!=="undefined"){var i=window;var a=i&&i.Ionic&&i.Ionic.config;if(a){var o=a.get("_rel");if(o){return o(e,n,t,r)}else if(a._rel){return a._rel(e,n,t,r)}}}return e.removeEventListener(n,t,r)};var getElementRoot=function(e,n){if(n===void 0){n=e}return e.shadowRoot||n};var raf=function(e){if(typeof __zone_symbol__requestAnimationFrame==="function"){return __zone_symbol__requestAnimationFrame(e)}if(typeof requestAnimationFrame==="function"){return requestAnimationFrame(e)}return setTimeout(e)};var hasShadowDom=function(e){return!!e.shadowRoot&&!!e.attachShadow};var findItemLabel=function(e){var n=e.closest("ion-item");if(n){return n.querySelector("ion-label")}return null};var focusElement=function(e){e.focus();if(e.classList.contains("ion-focusable")){var n=e.closest("ion-app");if(n){n.setFocus([e])}}};var getAriaLabel=function(e,n){var t;var r=e.getAttribute("aria-labelledby");var i=e.id;var a=r!==null&&r.trim()!==""?r:n+"-lbl";var o=r!==null&&r.trim()!==""?document.getElementById(r):findItemLabel(e);if(o){if(r===null){o.id=a}t=o.textContent;o.setAttribute("aria-hidden","true")}else if(i.trim()!==""){o=document.querySelector('label[for="'+i+'"]');if(o){if(o.id!==""){a=o.id}else{o.id=a=i+"-lbl"}t=o.textContent}}return{label:o,labelId:a,labelText:t}};var renderHiddenInput=function(e,n,t,r,i){if(e||hasShadowDom(n)){var a=n.querySelector("input.aux-input");if(!a){a=n.ownerDocument.createElement("input");a.type="hidden";a.classList.add("aux-input");n.appendChild(a)}a.disabled=i;a.name=t;a.value=r||""}};var clamp=function(e,n,t){return Math.max(e,Math.min(n,t))};var assert=function(e,n){if(!e){var t="ASSERT: "+n;console.error(t);debugger;throw new Error(t)}};var now=function(e){return e.timeStamp||Date.now()};var pointerCoord=function(e){if(e){var n=e.changedTouches;if(n&&n.length>0){var t=n[0];return{x:t.clientX,y:t.clientY}}if(e.pageX!==undefined){return{x:e.pageX,y:e.pageY}}}return{x:0,y:0}};var isEndSide=function(e){var n=document.dir==="rtl";switch(e){case"start":return n;case"end":return!n;default:throw new Error('"'+e+'" is not a valid value for [side]. Use "start" or "end" instead.')}};var debounceEvent=function(e,n){var t=e._original||e;return{_original:e,emit:debounce(t.emit.bind(t),n)}};var debounce=function(e,n){if(n===void 0){n=0}var t;return function(){var r=[];for(var i=0;i<arguments.length;i++){r[i]=arguments[i]}clearTimeout(t);t=setTimeout.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([e,n],r))}};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "B": () => (/* binding */ Build),
/* harmony export */   "H": () => (/* binding */ Host),
/* harmony export */   "N": () => (/* binding */ NAMESPACE),
/* harmony export */   "a": () => (/* binding */ setMode),
/* harmony export */   "b": () => (/* binding */ bootstrapLazy),
/* harmony export */   "c": () => (/* binding */ writeTask),
/* harmony export */   "d": () => (/* binding */ doc),
/* harmony export */   "e": () => (/* binding */ createEvent),
/* harmony export */   "f": () => (/* binding */ readTask),
/* harmony export */   "g": () => (/* binding */ getMode),
/* harmony export */   "h": () => (/* binding */ h),
/* harmony export */   "i": () => (/* binding */ getElement),
/* harmony export */   "j": () => (/* binding */ forceUpdate),
/* harmony export */   "k": () => (/* binding */ getAssetPath),
/* harmony export */   "p": () => (/* binding */ promiseResolve),
/* harmony export */   "r": () => (/* binding */ registerInstance),
/* harmony export */   "s": () => (/* binding */ setPlatformHelpers),
/* harmony export */   "w": () => (/* binding */ win)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var NAMESPACE="ionic";var scopeId;var contentRef;var hostTagName;var useNativeShadowDom=false;var checkSlotFallbackVisibility=false;var checkSlotRelocate=false;var isSvgMode=false;var queuePending=false;var win=typeof window!=="undefined"?window:{};var doc=win.document||{head:{}};var plt={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,r,n){return e.addEventListener(t,r,n)},rel:function(e,t,r,n){return e.removeEventListener(t,r,n)},ce:function(e,t){return new CustomEvent(e,t)}};var setPlatformHelpers=function(e){Object.assign(plt,e)};var supportsShadow=true;var promiseResolve=function(e){return Promise.resolve(e)};var supportsConstructibleStylesheets=function(){try{new CSSStyleSheet;return typeof(new CSSStyleSheet).replace==="function"}catch(e){}return false}();var addHostEventListeners=function(e,t,r,n){if(r){r.map((function(r){var n=r[0],a=r[1],o=r[2];var s=getHostListenerTarget(e,n);var i=hostListenerProxy(t,o);var l=hostListenerOpts(n);plt.ael(s,a,i,l);(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return plt.rel(s,a,i,l)}))}))}};var hostListenerProxy=function(e,t){return function(r){try{{if(e.$flags$&256){e.$lazyInstance$[t](r)}else{(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,r])}}}catch(e){consoleError(e)}}};var getHostListenerTarget=function(e,t){if(t&4)return doc;if(t&8)return win;if(t&16)return doc.body;return e};var hostListenerOpts=function(e){return(e&2)!==0};var CONTENT_REF_ID="r";var ORG_LOCATION_ID="o";var SLOT_NODE_ID="s";var TEXT_NODE_ID="t";var HYDRATE_ID="s-id";var HYDRATED_STYLE_ID="sty-id";var HYDRATE_CHILD_ID="c-id";var HYDRATED_CSS="{visibility:hidden}.hydrated{visibility:inherit}";var XLINK_NS="http://www.w3.org/1999/xlink";var createTime=function(e,t){if(t===void 0){t=""}{return function(){return}}};var uniqueTime=function(e,t){{return function(){return}}};var rootAppliedStyles=new WeakMap;var registerStyle=function(e,t,r){var n=styles.get(e);if(supportsConstructibleStylesheets&&r){n=n||new CSSStyleSheet;n.replace(t)}else{n=t}styles.set(e,n)};var addStyle=function(e,t,r,n){var a=getScopeId(t,r);var o=styles.get(a);e=e.nodeType===11?e:doc;if(o){if(typeof o==="string"){e=e.head||e;var s=rootAppliedStyles.get(e);var i=void 0;if(!s){rootAppliedStyles.set(e,s=new Set)}if(!s.has(a)){if(e.host&&(i=e.querySelector("["+HYDRATED_STYLE_ID+'="'+a+'"]'))){i.innerHTML=o}else{{i=doc.createElement("style");i.innerHTML=o}e.insertBefore(i,e.querySelector("link"))}if(s){s.add(a)}}}else if(!e.adoptedStyleSheets.includes(o)){e.adoptedStyleSheets=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([],e.adoptedStyleSheets),[o])}}return a};var attachStyles=function(e){var t=e.$cmpMeta$;var r=e.$hostElement$;var n=t.$flags$;var a=createTime("attachStyles",t.$tagName$);var o=addStyle(r.shadowRoot?r.shadowRoot:r.getRootNode(),t,e.$modeName$);if(n&10){r["s-sc"]=o;r.classList.add(o+"-h");if(n&2){r.classList.add(o+"-s")}}a()};var getScopeId=function(e,t){return"sc-"+(t&&e.$flags$&32?e.$tagName$+"-"+t:e.$tagName$)};var convertScopedToShadow=function(e){return e.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{")};var computeMode=function(e){return modeResolutionChain.map((function(t){return t(e)})).find((function(e){return!!e}))};var setMode=function(e){return modeResolutionChain.push(e)};var getMode=function(e){return getHostRef(e).$modeName$};var EMPTY_OBJ={};var SVG_NS="http://www.w3.org/2000/svg";var HTML_NS="http://www.w3.org/1999/xhtml";var isDef=function(e){return e!=null};var isComplexType=function(e){e=typeof e;return e==="object"||e==="function"};var h=function(e,t){var r=[];for(var n=2;n<arguments.length;n++){r[n-2]=arguments[n]}var a=null;var o=null;var s=null;var i=false;var l=false;var $=[];var c=function(t){for(var r=0;r<t.length;r++){a=t[r];if(Array.isArray(a)){c(a)}else if(a!=null&&typeof a!=="boolean"){if(i=typeof e!=="function"&&!isComplexType(a)){a=String(a)}if(i&&l){$[$.length-1].$text$+=a}else{$.push(i?newVNode(null,a):a)}l=i}}};c(r);if(t){if(t.key){o=t.key}if(t.name){s=t.name}{var f=t.className||t.class;if(f){t.class=typeof f!=="object"?f:Object.keys(f).filter((function(e){return f[e]})).join(" ")}}}if(typeof e==="function"){return e(t===null?{}:t,$,vdomFnUtils)}var u=newVNode(e,null);u.$attrs$=t;if($.length>0){u.$children$=$}{u.$key$=o}{u.$name$=s}return u};var newVNode=function(e,t){var r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};{r.$attrs$=null}{r.$key$=null}{r.$name$=null}return r};var Host={};var isHost=function(e){return e&&e.$tag$===Host};var vdomFnUtils={forEach:function(e,t){return e.map(convertToPublic).forEach(t)},map:function(e,t){return e.map(convertToPublic).map(t).map(convertToPrivate)}};var convertToPublic=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}};var convertToPrivate=function(e){if(typeof e.vtag==="function"){var t=Object.assign({},e.vattrs);if(e.vkey){t.key=e.vkey}if(e.vname){t.name=e.vname}return h.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([e.vtag,t],e.vchildren||[]))}var r=newVNode(e.vtag,e.vtext);r.$attrs$=e.vattrs;r.$children$=e.vchildren;r.$key$=e.vkey;r.$name$=e.vname;return r};var setAccessor=function(e,t,r,n,a,o){if(r!==n){var s=isMemberInElement(e,t);var i=t.toLowerCase();if(t==="class"){var l=e.classList;var $=parseClassList(r);var c=parseClassList(n);l.remove.apply(l,$.filter((function(e){return e&&!c.includes(e)})));l.add.apply(l,c.filter((function(e){return e&&!$.includes(e)})))}else if(t==="style"){{for(var f in r){if(!n||n[f]==null){if(f.includes("-")){e.style.removeProperty(f)}else{e.style[f]=""}}}}for(var f in n){if(!r||n[f]!==r[f]){if(f.includes("-")){e.style.setProperty(f,n[f])}else{e.style[f]=n[f]}}}}else if(t==="key");else if(t==="ref"){if(n){n(e)}}else if(!s&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"){t=t.slice(3)}else if(isMemberInElement(win,i)){t=i.slice(2)}else{t=i[2]+t.slice(3)}if(r){plt.rel(e,t,r,false)}if(n){plt.ael(e,t,n,false)}}else{var u=isComplexType(n);if((s||u&&n!==null)&&!a){try{if(!e.tagName.includes("-")){var d=n==null?"":n;if(t==="list"){s=false}else if(r==null||e[t]!=d){e[t]=d}}else{e[t]=n}}catch(e){}}var v=false;{if(i!==(i=i.replace(/^xlink\:?/,""))){t=i;v=true}}if(n==null||n===false){if(n!==false||e.getAttribute(t)===""){if(v){e.removeAttributeNS(XLINK_NS,t)}else{e.removeAttribute(t)}}}else if((!s||o&4||a)&&!u){n=n===true?"":n;if(v){e.setAttributeNS(XLINK_NS,t,n)}else{e.setAttribute(t,n)}}}}};var parseClassListRegex=/\s/;var parseClassList=function(e){return!e?[]:e.split(parseClassListRegex)};var updateElement=function(e,t,r,n){var a=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$;var o=e&&e.$attrs$||EMPTY_OBJ;var s=t.$attrs$||EMPTY_OBJ;{for(n in o){if(!(n in s)){setAccessor(a,n,o[n],undefined,r,t.$flags$)}}}for(n in s){setAccessor(a,n,o[n],s[n],r,t.$flags$)}};var createElm=function(e,t,r,n){var a=t.$children$[r];var o=0;var s;var i;var l;if(!useNativeShadowDom){checkSlotRelocate=true;if(a.$tag$==="slot"){if(scopeId){n.classList.add(scopeId+"-s")}a.$flags$|=a.$children$?2:1}}if(a.$text$!==null){s=a.$elm$=doc.createTextNode(a.$text$)}else if(a.$flags$&1){s=a.$elm$=doc.createTextNode("")}else{if(!isSvgMode){isSvgMode=a.$tag$==="svg"}s=a.$elm$=doc.createElementNS(isSvgMode?SVG_NS:HTML_NS,a.$flags$&2?"slot-fb":a.$tag$);if(isSvgMode&&a.$tag$==="foreignObject"){isSvgMode=false}{updateElement(null,a,isSvgMode)}if(isDef(scopeId)&&s["s-si"]!==scopeId){s.classList.add(s["s-si"]=scopeId)}if(a.$children$){for(o=0;o<a.$children$.length;++o){i=createElm(e,a,o,s);if(i){s.appendChild(i)}}}{if(a.$tag$==="svg"){isSvgMode=false}else if(s.tagName==="foreignObject"){isSvgMode=true}}}{s["s-hn"]=hostTagName;if(a.$flags$&(2|1)){s["s-sr"]=true;s["s-cr"]=contentRef;s["s-sn"]=a.$name$||"";l=e&&e.$children$&&e.$children$[r];if(l&&l.$tag$===a.$tag$&&e.$elm$){putBackInOriginalLocation(e.$elm$,false)}}}return s};var putBackInOriginalLocation=function(e,t){plt.$flags$|=1;var r=e.childNodes;for(var n=r.length-1;n>=0;n--){var a=r[n];if(a["s-hn"]!==hostTagName&&a["s-ol"]){parentReferenceNode(a).insertBefore(a,referenceNode(a));a["s-ol"].remove();a["s-ol"]=undefined;checkSlotRelocate=true}if(t){putBackInOriginalLocation(a,t)}}plt.$flags$&=~1};var addVnodes=function(e,t,r,n,a,o){var s=e["s-cr"]&&e["s-cr"].parentNode||e;var i;if(s.shadowRoot&&s.tagName===hostTagName){s=s.shadowRoot}for(;a<=o;++a){if(n[a]){i=createElm(null,r,a,e);if(i){n[a].$elm$=i;s.insertBefore(i,referenceNode(t))}}}};var removeVnodes=function(e,t,r,n,a){for(;t<=r;++t){if(n=e[t]){a=n.$elm$;callNodeRefs(n);{checkSlotFallbackVisibility=true;if(a["s-ol"]){a["s-ol"].remove()}else{putBackInOriginalLocation(a,true)}}a.remove()}}};var updateChildren=function(e,t,r,n){var a=0;var o=0;var s=0;var i=0;var l=t.length-1;var $=t[0];var c=t[l];var f=n.length-1;var u=n[0];var d=n[f];var v;var p;while(a<=l&&o<=f){if($==null){$=t[++a]}else if(c==null){c=t[--l]}else if(u==null){u=n[++o]}else if(d==null){d=n[--f]}else if(isSameVnode($,u)){patch($,u);$=t[++a];u=n[++o]}else if(isSameVnode(c,d)){patch(c,d);c=t[--l];d=n[--f]}else if(isSameVnode($,d)){if($.$tag$==="slot"||d.$tag$==="slot"){putBackInOriginalLocation($.$elm$.parentNode,false)}patch($,d);e.insertBefore($.$elm$,c.$elm$.nextSibling);$=t[++a];d=n[--f]}else if(isSameVnode(c,u)){if($.$tag$==="slot"||d.$tag$==="slot"){putBackInOriginalLocation(c.$elm$.parentNode,false)}patch(c,u);e.insertBefore(c.$elm$,$.$elm$);c=t[--l];u=n[++o]}else{s=-1;{for(i=a;i<=l;++i){if(t[i]&&t[i].$key$!==null&&t[i].$key$===u.$key$){s=i;break}}}if(s>=0){p=t[s];if(p.$tag$!==u.$tag$){v=createElm(t&&t[o],r,s,e)}else{patch(p,u);t[s]=undefined;v=p.$elm$}u=n[++o]}else{v=createElm(t&&t[o],r,o,e);u=n[++o]}if(v){{parentReferenceNode($.$elm$).insertBefore(v,referenceNode($.$elm$))}}}}if(a>l){addVnodes(e,n[f+1]==null?null:n[f+1].$elm$,r,n,o,f)}else if(o>f){removeVnodes(t,a,l)}};var isSameVnode=function(e,t){if(e.$tag$===t.$tag$){if(e.$tag$==="slot"){return e.$name$===t.$name$}{return e.$key$===t.$key$}}return false};var referenceNode=function(e){return e&&e["s-ol"]||e};var parentReferenceNode=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode};var patch=function(e,t){var r=t.$elm$=e.$elm$;var n=e.$children$;var a=t.$children$;var o=t.$tag$;var s=t.$text$;var i;if(s===null){{isSvgMode=o==="svg"?true:o==="foreignObject"?false:isSvgMode}{if(o==="slot");else{updateElement(e,t,isSvgMode)}}if(n!==null&&a!==null){updateChildren(r,n,t,a)}else if(a!==null){if(e.$text$!==null){r.textContent=""}addVnodes(r,null,t,a,0,a.length-1)}else if(n!==null){removeVnodes(n,0,n.length-1)}if(isSvgMode&&o==="svg"){isSvgMode=false}}else if(i=r["s-cr"]){i.parentNode.textContent=s}else if(e.$text$!==s){r.data=s}};var updateFallbackSlotVisibility=function(e){var t=e.childNodes;var r;var n;var a;var o;var s;var i;for(n=0,a=t.length;n<a;n++){r=t[n];if(r.nodeType===1){if(r["s-sr"]){s=r["s-sn"];r.hidden=false;for(o=0;o<a;o++){i=t[o].nodeType;if(t[o]["s-hn"]!==r["s-hn"]||s!==""){if(i===1&&s===t[o].getAttribute("slot")){r.hidden=true;break}}else{if(i===1||i===3&&t[o].textContent.trim()!==""){r.hidden=true;break}}}}updateFallbackSlotVisibility(r)}}};var relocateNodes=[];var relocateSlotContent=function(e){var t;var r;var n;var a;var o;var s;var i=0;var l=e.childNodes;var $=l.length;for(;i<$;i++){t=l[i];if(t["s-sr"]&&(r=t["s-cr"])&&r.parentNode){n=r.parentNode.childNodes;a=t["s-sn"];for(s=n.length-1;s>=0;s--){r=n[s];if(!r["s-cn"]&&!r["s-nr"]&&r["s-hn"]!==t["s-hn"]){if(isNodeLocatedInSlot(r,a)){o=relocateNodes.find((function(e){return e.$nodeToRelocate$===r}));checkSlotFallbackVisibility=true;r["s-sn"]=r["s-sn"]||a;if(o){o.$slotRefNode$=t}else{relocateNodes.push({$slotRefNode$:t,$nodeToRelocate$:r})}if(r["s-sr"]){relocateNodes.map((function(e){if(isNodeLocatedInSlot(e.$nodeToRelocate$,r["s-sn"])){o=relocateNodes.find((function(e){return e.$nodeToRelocate$===r}));if(o&&!e.$slotRefNode$){e.$slotRefNode$=o.$slotRefNode$}}}))}}else if(!relocateNodes.some((function(e){return e.$nodeToRelocate$===r}))){relocateNodes.push({$nodeToRelocate$:r})}}}}if(t.nodeType===1){relocateSlotContent(t)}}};var isNodeLocatedInSlot=function(e,t){if(e.nodeType===1){if(e.getAttribute("slot")===null&&t===""){return true}if(e.getAttribute("slot")===t){return true}return false}if(e["s-sn"]===t){return true}return t===""};var callNodeRefs=function(e){{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null);e.$children$&&e.$children$.map(callNodeRefs)}};var renderVdom=function(e,t){var r=e.$hostElement$;var n=e.$cmpMeta$;var a=e.$vnode$||newVNode(null,null);var o=isHost(t)?t:h(null,null,t);hostTagName=r.tagName;if(n.$attrsToReflect$){o.$attrs$=o.$attrs$||{};n.$attrsToReflect$.map((function(e){var t=e[0],n=e[1];return o.$attrs$[n]=r[t]}))}o.$tag$=null;o.$flags$|=4;e.$vnode$=o;o.$elm$=a.$elm$=r.shadowRoot||r;{scopeId=r["s-sc"]}{contentRef=r["s-cr"];useNativeShadowDom=(n.$flags$&1)!==0;checkSlotFallbackVisibility=false}patch(a,o);{plt.$flags$|=1;if(checkSlotRelocate){relocateSlotContent(o.$elm$);var s=void 0;var i=void 0;var l=void 0;var $=void 0;var c=void 0;var f=void 0;var u=0;for(;u<relocateNodes.length;u++){s=relocateNodes[u];i=s.$nodeToRelocate$;if(!i["s-ol"]){l=doc.createTextNode("");l["s-nr"]=i;i.parentNode.insertBefore(i["s-ol"]=l,i)}}for(u=0;u<relocateNodes.length;u++){s=relocateNodes[u];i=s.$nodeToRelocate$;if(s.$slotRefNode$){$=s.$slotRefNode$.parentNode;c=s.$slotRefNode$.nextSibling;l=i["s-ol"];while(l=l.previousSibling){f=l["s-nr"];if(f&&f["s-sn"]===i["s-sn"]&&$===f.parentNode){f=f.nextSibling;if(!f||!f["s-nr"]){c=f;break}}}if(!c&&$!==i.parentNode||i.nextSibling!==c){if(i!==c){if(!i["s-hn"]&&i["s-ol"]){i["s-hn"]=i["s-ol"].parentNode.nodeName}$.insertBefore(i,c)}}}else{if(i.nodeType===1){i.hidden=true}}}}if(checkSlotFallbackVisibility){updateFallbackSlotVisibility(o.$elm$)}plt.$flags$&=~1;relocateNodes.length=0}};var getElement=function(e){return getHostRef(e).$hostElement$};var createEvent=function(e,t,r){var n=getElement(e);return{emit:function(e){return emitEvent(n,t,{bubbles:!!(r&4),composed:!!(r&2),cancelable:!!(r&1),detail:e})}}};var emitEvent=function(e,t,r){var n=plt.ce(t,r);e.dispatchEvent(n);return n};var attachToAncestor=function(e,t){if(t&&!e.$onRenderResolve$&&t["s-p"]){t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))}};var scheduleUpdate=function(e,t){{e.$flags$|=16}if(e.$flags$&4){e.$flags$|=512;return}attachToAncestor(e,e.$ancestorComponent$);var r=function(){return dispatchHooks(e,t)};return writeTask(r)};var dispatchHooks=function(e,t){var r=createTime("scheduleUpdate",e.$cmpMeta$.$tagName$);var n=e.$lazyInstance$;var a;if(t){{e.$flags$|=256;if(e.$queuedListeners$){e.$queuedListeners$.map((function(e){var t=e[0],r=e[1];return safeCall(n,t,r)}));e.$queuedListeners$=null}}{a=safeCall(n,"componentWillLoad")}}{a=then(a,(function(){return safeCall(n,"componentWillRender")}))}r();return then(a,(function(){return updateComponent(e,n,t)}))};var updateComponent=function(e,t,r){return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0,void 0,void 0,(function(){var n,a,o,s,i,l;return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function($){n=e.$hostElement$;a=createTime("update",e.$cmpMeta$.$tagName$);o=n["s-rc"];if(r){attachStyles(e)}s=createTime("render",e.$cmpMeta$.$tagName$);{callRender(e,t)}if(o){o.map((function(e){return e()}));n["s-rc"]=undefined}s();a();{i=n["s-p"];l=function(){return postUpdateComponent(e)};if(i.length===0){l()}else{Promise.all(i).then(l);e.$flags$|=4;i.length=0}}return[2]}))}))};var callRender=function(e,t,r){try{t=t.render&&t.render();{e.$flags$&=~16}{e.$flags$|=2}{{{renderVdom(e,t)}}}}catch(t){consoleError(t,e.$hostElement$)}return null};var postUpdateComponent=function(e){var t=e.$cmpMeta$.$tagName$;var r=e.$hostElement$;var n=createTime("postUpdate",t);var a=e.$lazyInstance$;var o=e.$ancestorComponent$;if(!(e.$flags$&64)){e.$flags$|=64;{addHydratedFlag(r)}{safeCall(a,"componentDidLoad")}n();{e.$onReadyResolve$(r);if(!o){appDidLoad()}}}else{{safeCall(a,"componentDidUpdate")}n()}{e.$onInstanceResolve$(r)}{if(e.$onRenderResolve$){e.$onRenderResolve$();e.$onRenderResolve$=undefined}if(e.$flags$&512){nextTick((function(){return scheduleUpdate(e,false)}))}e.$flags$&=~(4|512)}};var forceUpdate=function(e){{var t=getHostRef(e);var r=t.$hostElement$.isConnected;if(r&&(t.$flags$&(2|16))===2){scheduleUpdate(t,false)}return r}};var appDidLoad=function(e){{addHydratedFlag(doc.documentElement)}nextTick((function(){return emitEvent(win,"appload",{detail:{namespace:NAMESPACE}})}))};var safeCall=function(e,t,r){if(e&&e[t]){try{return e[t](r)}catch(e){consoleError(e)}}return undefined};var then=function(e,t){return e&&e.then?e.then(t):t()};var addHydratedFlag=function(e){return e.classList.add("hydrated")};var initializeClientHydrate=function(e,t,r,n){var a=createTime("hydrateClient",t);var o=e.shadowRoot;var s=[];var i=[];var l=o?[]:null;var $=n.$vnode$=newVNode(t,null);if(!plt.$orgLocNodes$){initializeDocumentHydrate(doc.body,plt.$orgLocNodes$=new Map)}e[HYDRATE_ID]=r;e.removeAttribute(HYDRATE_ID);clientHydrate($,s,i,l,e,e,r);s.map((function(e){var r=e.$hostId$+"."+e.$nodeId$;var n=plt.$orgLocNodes$.get(r);var a=e.$elm$;if(n&&supportsShadow&&n["s-en"]===""){n.parentNode.insertBefore(a,n.nextSibling)}if(!o){a["s-hn"]=t;if(n){a["s-ol"]=n;a["s-ol"]["s-nr"]=a}}plt.$orgLocNodes$.delete(r)}));if(o){l.map((function(e){if(e){o.appendChild(e)}}))}a()};var clientHydrate=function(e,t,r,n,a,o,s){var i;var l;var $;var c;if(o.nodeType===1){i=o.getAttribute(HYDRATE_CHILD_ID);if(i){l=i.split(".");if(l[0]===s||l[0]==="0"){$={$flags$:0,$hostId$:l[0],$nodeId$:l[1],$depth$:l[2],$index$:l[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null};t.push($);o.removeAttribute(HYDRATE_CHILD_ID);if(!e.$children$){e.$children$=[]}e.$children$[$.$index$]=$;e=$;if(n&&$.$depth$==="0"){n[$.$index$]=$.$elm$}}}for(c=o.childNodes.length-1;c>=0;c--){clientHydrate(e,t,r,n,a,o.childNodes[c],s)}if(o.shadowRoot){for(c=o.shadowRoot.childNodes.length-1;c>=0;c--){clientHydrate(e,t,r,n,a,o.shadowRoot.childNodes[c],s)}}}else if(o.nodeType===8){l=o.nodeValue.split(".");if(l[1]===s||l[1]==="0"){i=l[0];$={$flags$:0,$hostId$:l[1],$nodeId$:l[2],$depth$:l[3],$index$:l[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null};if(i===TEXT_NODE_ID){$.$elm$=o.nextSibling;if($.$elm$&&$.$elm$.nodeType===3){$.$text$=$.$elm$.textContent;t.push($);o.remove();if(!e.$children$){e.$children$=[]}e.$children$[$.$index$]=$;if(n&&$.$depth$==="0"){n[$.$index$]=$.$elm$}}}else if($.$hostId$===s){if(i===SLOT_NODE_ID){$.$tag$="slot";if(l[5]){o["s-sn"]=$.$name$=l[5]}else{o["s-sn"]=""}o["s-sr"]=true;if(n){$.$elm$=doc.createElement($.$tag$);if($.$name$){$.$elm$.setAttribute("name",$.$name$)}o.parentNode.insertBefore($.$elm$,o);o.remove();if($.$depth$==="0"){n[$.$index$]=$.$elm$}}r.push($);if(!e.$children$){e.$children$=[]}e.$children$[$.$index$]=$}else if(i===CONTENT_REF_ID){if(n){o.remove()}else{a["s-cr"]=o;o["s-cn"]=true}}}}}else if(e&&e.$tag$==="style"){var f=newVNode(null,o.textContent);f.$elm$=o;f.$index$="0";e.$children$=[f]}};var initializeDocumentHydrate=function(e,t){if(e.nodeType===1){var r=0;for(;r<e.childNodes.length;r++){initializeDocumentHydrate(e.childNodes[r],t)}if(e.shadowRoot){for(r=0;r<e.shadowRoot.childNodes.length;r++){initializeDocumentHydrate(e.shadowRoot.childNodes[r],t)}}}else if(e.nodeType===8){var n=e.nodeValue.split(".");if(n[0]===ORG_LOCATION_ID){t.set(n[1]+"."+n[2],e);e.nodeValue="";e["s-en"]=n[3]}}};var parsePropertyValue=function(e,t){if(e!=null&&!isComplexType(e)){if(t&4){return e==="false"?false:e===""||!!e}if(t&2){return parseFloat(e)}if(t&1){return String(e)}return e}return e};var getValue=function(e,t){return getHostRef(e).$instanceValues$.get(t)};var setValue=function(e,t,r,n){var a=getHostRef(e);var o=a.$hostElement$;var s=a.$instanceValues$.get(t);var i=a.$flags$;var l=a.$lazyInstance$;r=parsePropertyValue(r,n.$members$[t][0]);if((!(i&8)||s===undefined)&&r!==s){a.$instanceValues$.set(t,r);if(l){if(n.$watchers$&&i&128){var $=n.$watchers$[t];if($){$.map((function(e){try{l[e](r,s,t)}catch(e){consoleError(e,o)}}))}}if((i&(2|16))===2){scheduleUpdate(a,false)}}}};var proxyComponent=function(e,t,r){if(t.$members$){if(e.watchers){t.$watchers$=e.watchers}var n=Object.entries(t.$members$);var a=e.prototype;n.map((function(e){var n=e[0],o=e[1][0];if(o&31||r&2&&o&32){Object.defineProperty(a,n,{get:function(){return getValue(this,n)},set:function(e){setValue(this,n,e,t)},configurable:true,enumerable:true})}else if(r&1&&o&64){Object.defineProperty(a,n,{value:function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var r=getHostRef(this);return r.$onInstancePromise$.then((function(){var t;return(t=r.$lazyInstance$)[n].apply(t,e)}))}})}}));if(r&1){var o=new Map;a.attributeChangedCallback=function(e,t,r){var n=this;plt.jmp((function(){var t=o.get(e);if(n.hasOwnProperty(t)){r=n[t];delete n[t]}else if(a.hasOwnProperty(t)&&typeof n[t]==="number"&&n[t]==r){return}n[t]=r===null&&typeof n[t]==="boolean"?false:r}))};e.observedAttributes=n.filter((function(e){var t=e[0],r=e[1];return r[0]&15})).map((function(e){var r=e[0],n=e[1];var a=n[1]||r;o.set(a,r);if(n[0]&512){t.$attrsToReflect$.push([r,a])}return a}))}}return e};var initializeComponent=function(e,t,r,n,a){return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0,void 0,void 0,(function(){var n,o,s,i,l,$,c;return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(f){switch(f.label){case 0:if(!((t.$flags$&32)===0))return[3,3];t.$flags$|=32;a=loadModule(r);if(!a.then)return[3,2];n=uniqueTime();return[4,a];case 1:a=f.sent();n();f.label=2;case 2:if(!a.isProxied){{r.$watchers$=a.watchers}proxyComponent(a,r,2);a.isProxied=true}o=createTime("createInstance",r.$tagName$);{t.$flags$|=8}try{new a(t)}catch(e){consoleError(e)}{t.$flags$&=~8}{t.$flags$|=128}o();fireConnectedCallback(t.$lazyInstance$);if(a.style){s=a.style;if(typeof s!=="string"){s=s[t.$modeName$=computeMode(e)]}i=getScopeId(r,t.$modeName$);if(!styles.has(i)){l=createTime("registerStyles",r.$tagName$);registerStyle(i,s,!!(r.$flags$&1));l()}}f.label=3;case 3:$=t.$ancestorComponent$;c=function(){return scheduleUpdate(t,true)};if($&&$["s-rc"]){$["s-rc"].push(c)}else{c()}return[2]}}))}))};var fireConnectedCallback=function(e){{safeCall(e,"connectedCallback")}};var connectedCallback=function(e){if((plt.$flags$&1)===0){var t=getHostRef(e);var r=t.$cmpMeta$;var n=createTime("connectedCallback",r.$tagName$);if(!(t.$flags$&1)){t.$flags$|=1;var a=void 0;{a=e.getAttribute(HYDRATE_ID);if(a){if(r.$flags$&1){var o=addStyle(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(o+"-h",o+"-s")}initializeClientHydrate(e,r.$tagName$,a,t)}}if(!a){if(r.$flags$&(4|8)){setContentReference(e)}}{var s=e;while(s=s.parentNode||s.host){if(s.nodeType===1&&s.hasAttribute("s-id")&&s["s-p"]||s["s-p"]){attachToAncestor(t,t.$ancestorComponent$=s);break}}}if(r.$members$){Object.entries(r.$members$).map((function(t){var r=t[0],n=t[1][0];if(n&31&&e.hasOwnProperty(r)){var a=e[r];delete e[r];e[r]=a}}))}{nextTick((function(){return initializeComponent(e,t,r)}))}}else{addHostEventListeners(e,t,r.$listeners$);fireConnectedCallback(t.$lazyInstance$)}n()}};var setContentReference=function(e){var t=e["s-cr"]=doc.createComment("");t["s-cn"]=true;e.insertBefore(t,e.firstChild)};var disconnectedCallback=function(e){if((plt.$flags$&1)===0){var t=getHostRef(e);var r=t.$lazyInstance$;{if(t.$rmListeners$){t.$rmListeners$.map((function(e){return e()}));t.$rmListeners$=undefined}}{safeCall(r,"disconnectedCallback")}}};var bootstrapLazy=function(e,t){if(t===void 0){t={}}var r=createTime();var n=[];var a=t.exclude||[];var o=win.customElements;var s=doc.head;var i=s.querySelector("meta[charset]");var l=doc.createElement("style");var $=[];var c=doc.querySelectorAll("["+HYDRATED_STYLE_ID+"]");var f;var u=true;var d=0;Object.assign(plt,t);plt.$resourcesUrl$=new URL(t.resourcesUrl||"./",doc.baseURI).href;{plt.$flags$|=2}{for(;d<c.length;d++){registerStyle(c[d].getAttribute(HYDRATED_STYLE_ID),convertScopedToShadow(c[d].innerHTML),true)}}e.map((function(e){e[1].map((function(t){var r={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};{r.$members$=t[2]}{r.$listeners$=t[3]}{r.$attrsToReflect$=[]}{r.$watchers$={}}var s=r.$tagName$;var i=function(e){(0,tslib__WEBPACK_IMPORTED_MODULE_0__.__extends)(t,e);function t(t){var n=e.call(this,t)||this;t=n;registerHost(t,r);if(r.$flags$&1){{{t.attachShadow({mode:"open",delegatesFocus:!!(r.$flags$&16)})}}}return n}t.prototype.connectedCallback=function(){var e=this;if(f){clearTimeout(f);f=null}if(u){$.push(this)}else{plt.jmp((function(){return connectedCallback(e)}))}};t.prototype.disconnectedCallback=function(){var e=this;plt.jmp((function(){return disconnectedCallback(e)}))};t.prototype.componentOnReady=function(){return getHostRef(this).$onReadyPromise$};return t}(HTMLElement);r.$lazyBundleId$=e[0];if(!a.includes(s)&&!o.get(s)){n.push(s);o.define(s,proxyComponent(i,r,1))}}))}));{l.innerHTML=n+HYDRATED_CSS;l.setAttribute("data-styles","");s.insertBefore(l,i?i.nextSibling:s.firstChild)}u=false;if($.length){$.map((function(e){return e.connectedCallback()}))}else{{plt.jmp((function(){return f=setTimeout(appDidLoad,30)}))}}r()};var getAssetPath=function(e){var t=new URL(e,plt.$resourcesUrl$);return t.origin!==win.location.origin?t.href:t.pathname};var hostRefs=new WeakMap;var getHostRef=function(e){return hostRefs.get(e)};var registerInstance=function(e,t){return hostRefs.set(t.$lazyInstance$=e,t)};var registerHost=function(e,t){var r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};{r.$onInstancePromise$=new Promise((function(e){return r.$onInstanceResolve$=e}))}{r.$onReadyPromise$=new Promise((function(e){return r.$onReadyResolve$=e}));e["s-p"]=[];e["s-rc"]=[]}addHostEventListeners(e,r,t.$listeners$);return hostRefs.set(e,r)};var isMemberInElement=function(e,t){return t in e};var consoleError=function(e,t){return(0,console.error)(e,t)};var cmpModules=new Map;var loadModule=function(e,t,r){var n=e.$tagName$.replace(/-/g,"_");var a=e.$lazyBundleId$;var o=cmpModules.get(a);if(o){return o[n]}return __webpack_require__("../../../node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$")("./"+a+".entry.js").then((function(e){{cmpModules.set(a,e)}return e[n]}),consoleError)};var styles=new Map;var modeResolutionChain=[];var queueDomReads=[];var queueDomWrites=[];var queueTask=function(e,t){return function(r){e.push(r);if(!queuePending){queuePending=true;if(t&&plt.$flags$&4){nextTick(flush)}else{plt.raf(flush)}}}};var consume=function(e){for(var t=0;t<e.length;t++){try{e[t](performance.now())}catch(e){consoleError(e)}}e.length=0};var flush=function(){consume(queueDomReads);{consume(queueDomWrites);if(queuePending=queueDomReads.length>0){plt.raf(flush)}}};var nextTick=function(e){return promiseResolve().then(e)};var readTask=queueTask(queueDomReads,false);var writeTask=queueTask(queueDomWrites,true);var Build={isDev:false,isBrowser:true,isServer:false,isTesting:false};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index-41bf41f2.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index-41bf41f2.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GESTURE_CONTROLLER": () => (/* reexport safe */ _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__.G),
/* harmony export */   "createGesture": () => (/* binding */ createGesture)
/* harmony export */ });
/* harmony import */ var _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gesture-controller-68c023a4.js */ "../../../node_modules/@ionic/core/dist/esm-es5/gesture-controller-68c023a4.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var addEventListener=function(e,r,t,a){var n=supportsPassive(e)?{capture:!!a.capture,passive:!!a.passive}:!!a.capture;var i;var u;if(e["__zone_symbol__addEventListener"]){i="__zone_symbol__addEventListener";u="__zone_symbol__removeEventListener"}else{i="addEventListener";u="removeEventListener"}e[i](r,t,n);return function(){e[u](r,t,n)}};var supportsPassive=function(e){if(_sPassive===undefined){try{var r=Object.defineProperty({},"passive",{get:function(){_sPassive=true}});e.addEventListener("optsTest",(function(){return}),r)}catch(e){_sPassive=false}}return!!_sPassive};var _sPassive;var MOUSE_WAIT=2e3;var createPointerEvents=function(e,r,t,a,n){var i;var u;var s;var v;var f;var o;var c;var l=0;var d=function(a){l=Date.now()+MOUSE_WAIT;if(!r(a)){return}if(!u&&t){u=addEventListener(e,"touchmove",t,n)}if(!s){s=addEventListener(a.target,"touchend",p,n)}if(!v){v=addEventListener(a.target,"touchcancel",p,n)}};var m=function(a){if(l>Date.now()){return}if(!r(a)){return}if(!o&&t){o=addEventListener(getDocument(e),"mousemove",t,n)}if(!c){c=addEventListener(getDocument(e),"mouseup",E,n)}};var p=function(e){_();if(a){a(e)}};var E=function(e){g();if(a){a(e)}};var _=function(){if(u){u()}if(s){s()}if(v){v()}u=s=v=undefined};var g=function(){if(o){o()}if(c){c()}o=c=undefined};var y=function(){_();g()};var X=function(r){if(r===void 0){r=true}if(!r){if(i){i()}if(f){f()}i=f=undefined;y()}else{if(!i){i=addEventListener(e,"touchstart",d,n)}if(!f){f=addEventListener(e,"mousedown",m,n)}}};var Y=function(){X(false);a=t=r=undefined};return{enable:X,stop:y,destroy:Y}};var getDocument=function(e){return e instanceof Document?e:e.ownerDocument};var createPanRecognizer=function(e,r,t){var a=t*(Math.PI/180);var n=e==="x";var i=Math.cos(a);var u=r*r;var s=0;var v=0;var f=false;var o=0;return{start:function(e,r){s=e;v=r;o=0;f=true},detect:function(e,r){if(!f){return false}var t=e-s;var a=r-v;var c=t*t+a*a;if(c<u){return false}var l=Math.sqrt(c);var d=(n?t:a)/l;if(d>i){o=1}else if(d<-i){o=-1}else{o=0}f=false;return true},isGesture:function(){return o!==0},getDirection:function(){return o}}};var createGesture=function(e){var r=false;var t=false;var a=true;var n=false;var i=Object.assign({disableScroll:false,direction:"x",gesturePriority:0,passive:true,maxAngle:40,threshold:10},e);var u=i.canStart;var s=i.onWillStart;var v=i.onStart;var f=i.onEnd;var o=i.notCaptured;var c=i.onMove;var l=i.threshold;var d=i.passive;var m=i.blurOnStart;var p={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:undefined,data:undefined};var E=createPanRecognizer(i.direction,i.threshold,i.maxAngle);var _=_gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll});var g=function(e){var r=now(e);if(t||!a){return false}updateDetail(e,p);p.startX=p.currentX;p.startY=p.currentY;p.startTime=p.currentTime=r;p.velocityX=p.velocityY=p.deltaX=p.deltaY=0;p.event=e;if(u&&u(p)===false){return false}_.release();if(!_.start()){return false}t=true;if(l===0){return Y()}E.start(p.startX,p.startY);return true};var y=function(e){if(r){if(!n&&a){n=true;calcGestureData(p,e);requestAnimationFrame(X)}return}calcGestureData(p,e);if(E.detect(p.currentX,p.currentY)){if(!E.isGesture()||!Y()){b()}}};var X=function(){if(!r){return}n=false;if(c){c(p)}};var Y=function(){if(_&&!_.capture()){return false}r=true;a=false;p.startX=p.currentX;p.startY=p.currentY;p.startTime=p.currentTime;if(s){s(p).then(h)}else{h()}return true};var L=function(){if(typeof document!=="undefined"){var e=document.activeElement;if(e!==null&&e.blur){e.blur()}}};var h=function(){if(m){L()}if(v){v(p)}a=true};var T=function(){r=false;t=false;n=false;a=true;_.release()};var D=function(e){var t=r;var n=a;T();if(!n){return}calcGestureData(p,e);if(t){if(f){f(p)}return}if(o){o(p)}};var P=createPointerEvents(i.el,g,y,D,{capture:false,passive:d});var b=function(){T();P.stop();if(o){o(p)}};return{enable:function(e){if(e===void 0){e=true}if(!e){if(r){D(undefined)}T()}P.enable(e)},destroy:function(){_.destroy();P.destroy()}}};var calcGestureData=function(e,r){if(!r){return}var t=e.currentX;var a=e.currentY;var n=e.currentTime;updateDetail(r,e);var i=e.currentX;var u=e.currentY;var s=e.currentTime=now(r);var v=s-n;if(v>0&&v<100){var f=(i-t)/v;var o=(u-a)/v;e.velocityX=f*.7+e.velocityX*.3;e.velocityY=o*.7+e.velocityY*.3}e.deltaX=i-e.startX;e.deltaY=u-e.startY;e.event=r};var updateDetail=function(e,r){var t=0;var a=0;if(e){var n=e.changedTouches;if(n&&n.length>0){var i=n[0];t=i.clientX;a=i.clientY}else if(e.pageX!==undefined){t=e.pageX;a=e.pageY}}r.currentX=t;r.currentY=a};var now=function(e){return e.timeStamp||Date.now()};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index-4464d2dc.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index-4464d2dc.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "m": () => (/* binding */ menuController)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/hardware-back-button-ace6a71b.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm-es5/ionic-global-a049bcbf.js");
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var baseAnimation=function(n){return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().duration(n?400:300)};var menuOverlayAnimation=function(n){var e;var r;var t=n.width+8;var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)();var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)();if(n.isEndSide){e=t+"px";r="0px"}else{e=-t+"px";r="0px"}i.addElement(n.menuInnerEl).fromTo("transform","translateX("+e+")","translateX("+r+")");var o=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(n);var u=o==="ios";var s=u?.2:.25;a.addElement(n.backdropEl).fromTo("opacity",.01,s);return baseAnimation(u).addAnimation([i,a])};var menuPushAnimation=function(n){var e;var r;var t=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(n);var i=n.width;if(n.isEndSide){e=-i+"px";r=i+"px"}else{e=i+"px";r=-i+"px"}var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().addElement(n.menuInnerEl).fromTo("transform","translateX("+r+")","translateX(0px)");var o=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX("+e+")");var u=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().addElement(n.backdropEl).fromTo("opacity",.01,.32);return baseAnimation(t==="ios").addAnimation([a,o,u])};var menuRevealAnimation=function(n){var e=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(n);var r=n.width*(n.isEndSide?-1:1)+"px";var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX("+r+")");return baseAnimation(e==="ios").addAnimation(t)};var createMenuController=function(){var n=new Map;var e=[];var r=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(r){switch(r.label){case 0:return[4,c(n)];case 1:e=r.sent();if(e){return[2,e.open()]}return[2,false]}}))}))};var t=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(r){switch(r.label){case 0:return[4,n!==undefined?c(n):f()];case 1:e=r.sent();if(e!==undefined){return[2,e.close()]}return[2,false]}}))}))};var i=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(r){switch(r.label){case 0:return[4,c(n)];case 1:e=r.sent();if(e){return[2,e.toggle()]}return[2,false]}}))}))};var a=function(n,e){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var r;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(t){switch(t.label){case 0:return[4,c(e)];case 1:r=t.sent();if(r){r.disabled=!n}return[2,r]}}))}))};var o=function(n,e){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var r;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(t){switch(t.label){case 0:return[4,c(e)];case 1:r=t.sent();if(r){r.swipeGesture=n}return[2,r]}}))}))};var u=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var e,e;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(r){switch(r.label){case 0:if(!(n!=null))return[3,2];return[4,c(n)];case 1:e=r.sent();return[2,e!==undefined&&e.isOpen()];case 2:return[4,f()];case 3:e=r.sent();return[2,e!==undefined]}}))}))};var s=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(r){switch(r.label){case 0:return[4,c(n)];case 1:e=r.sent();if(e){return[2,!e.disabled]}return[2,false]}}))}))};var c=function(n){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var r,t;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(i){switch(i.label){case 0:return[4,O()];case 1:i.sent();if(n==="start"||n==="end"){r=E((function(e){return e.side===n&&!e.disabled}));if(r){return[2,r]}return[2,E((function(e){return e.side===n}))]}else if(n!=null){return[2,E((function(e){return e.menuId===n}))]}t=E((function(n){return!n.disabled}));if(t){return[2,t]}return[2,e.length>0?e[0].el:undefined]}}))}))};var f=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(n){switch(n.label){case 0:return[4,O()];case 1:n.sent();return[2,g()]}}))}))};var d=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(n){switch(n.label){case 0:return[4,O()];case 1:n.sent();return[2,w()]}}))}))};var v=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(n){switch(n.label){case 0:return[4,O()];case 1:n.sent();return[2,A()]}}))}))};var l=function(e,r){n.set(e,r)};var m=function(n){if(e.indexOf(n)<0){if(!n.disabled){p(n)}e.push(n)}};var _=function(n){var r=e.indexOf(n);if(r>-1){e.splice(r,1)}};var p=function(n){var r=n.side;e.filter((function(e){return e.side===r&&e!==n})).forEach((function(n){return n.disabled=true}))};var b=function(n,e,r){return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__awaiter)(void 0,void 0,void 0,(function(){var t;return (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__generator)(this,(function(i){switch(i.label){case 0:if(A()){return[2,false]}if(!e)return[3,3];return[4,f()];case 1:t=i.sent();if(!(t&&n.el!==t))return[3,3];return[4,t.setOpen(false,false)];case 2:i.sent();i.label=3;case 3:return[2,n._setOpen(e,r)]}}))}))};var h=function(e,r){var t=n.get(e);if(!t){throw new Error("animation not registered")}var i=t(r);return i};var g=function(){return E((function(n){return n._isOpen}))};var w=function(){return e.map((function(n){return n.el}))};var A=function(){return e.some((function(n){return n.isAnimating}))};var E=function(n){var r=e.find(n);if(r!==undefined){return r.el}return undefined};var O=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((function(n){return new Promise((function(e){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.c)(n,e)}))})))};l("reveal",menuRevealAnimation);l("push",menuPushAnimation);l("overlay",menuOverlayAnimation);if(typeof document!=="undefined"){document.addEventListener("ionBackButton",(function(n){var e=g();if(e){n.detail.register(_hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_0__.MENU_BACK_BUTTON_PRIORITY,(function(){return e.close()}))}}))}return{registerAnimation:l,get:c,getMenus:d,getOpen:f,isEnabled:s,swipeGesture:o,isAnimating:v,isOpen:u,enable:a,toggle:i,close:t,open:r,_getOpenSync:g,_createAnimation:h,_register:m,_unregister:_,_setOpen:b,_setActiveMenu:p}};var menuController=createMenuController();

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index-c841c933.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index-c841c933.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ IonicSafeString),
/* harmony export */   "s": () => (/* binding */ sanitizeDOMString)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var sanitizeDOMString=function(e){try{if(e instanceof IonicSafeString){return e.value}if(!isSanitizerEnabled()||typeof e!=="string"||e===""){return e}var r=document.createDocumentFragment();var n=document.createElement("div");r.appendChild(n);n.innerHTML=e;blockedTags.forEach((function(e){var n=r.querySelectorAll(e);for(var t=n.length-1;t>=0;t--){var i=n[t];if(i.parentNode){i.parentNode.removeChild(i)}else{r.removeChild(i)}var a=getElementChildren(i);for(var l=0;l<a.length;l++){sanitizeElement(a[l])}}}));var t=getElementChildren(r);for(var i=0;i<t.length;i++){sanitizeElement(t[i])}var a=document.createElement("div");a.appendChild(r);var l=a.querySelector("div");return l!==null?l.innerHTML:a.innerHTML}catch(e){console.error(e);return""}};var sanitizeElement=function(e){if(e.nodeType&&e.nodeType!==1){return}for(var r=e.attributes.length-1;r>=0;r--){var n=e.attributes.item(r);var t=n.name;if(!allowedAttributes.includes(t.toLowerCase())){e.removeAttribute(t);continue}var i=n.value;if(i!=null&&i.toLowerCase().includes("javascript:")){e.removeAttribute(t)}}var a=getElementChildren(e);for(var r=0;r<a.length;r++){sanitizeElement(a[r])}};var getElementChildren=function(e){return e.children!=null?e.children:e.childNodes};var isSanitizerEnabled=function(){var e=window;var r=e&&e.Ionic&&e.Ionic.config;if(r){if(r.get){return r.get("sanitizerEnabled",true)}else{return r.sanitizerEnabled===true||r.sanitizerEnabled===undefined}}return true};var allowedAttributes=["class","id","href","src","name","slot"];var blockedTags=["script","style","iframe","meta","link","object","embed"];var IonicSafeString=function(){function e(e){this.value=e}return e}();

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L": () => (/* binding */ LIFECYCLE_WILL_ENTER),
/* harmony export */   "a": () => (/* binding */ LIFECYCLE_DID_ENTER),
/* harmony export */   "b": () => (/* binding */ LIFECYCLE_WILL_LEAVE),
/* harmony export */   "c": () => (/* binding */ LIFECYCLE_DID_LEAVE),
/* harmony export */   "d": () => (/* binding */ LIFECYCLE_WILL_UNLOAD),
/* harmony export */   "e": () => (/* binding */ deepReady),
/* harmony export */   "g": () => (/* binding */ getIonPageElement),
/* harmony export */   "l": () => (/* binding */ lifecycle),
/* harmony export */   "s": () => (/* binding */ setPageHidden),
/* harmony export */   "t": () => (/* binding */ transition)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var LIFECYCLE_WILL_ENTER="ionViewWillEnter";var LIFECYCLE_DID_ENTER="ionViewDidEnter";var LIFECYCLE_WILL_LEAVE="ionViewWillLeave";var LIFECYCLE_DID_LEAVE="ionViewDidLeave";var LIFECYCLE_WILL_UNLOAD="ionViewWillUnload";var iosTransitionAnimation=function(){return Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./ios.transition-4a03103b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/ios.transition-4a03103b.js"))};var mdTransitionAnimation=function(){return Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./md.transition-8277029c.js */ "../../../node_modules/@ionic/core/dist/esm-es5/md.transition-8277029c.js"))};var transition=function(e){return new Promise((function(n,i){(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)((function(){beforeTransition(e);runTransition(e).then((function(i){if(i.animation){i.animation.destroy()}afterTransition(e);n(i)}),(function(n){afterTransition(e);i(n)}))}))}))};var beforeTransition=function(e){var n=e.enteringEl;var i=e.leavingEl;setZIndex(n,i,e.direction);if(e.showGoBack){n.classList.add("can-go-back")}else{n.classList.remove("can-go-back")}setPageHidden(n,false);n.style.setProperty("pointer-events","none");if(i){setPageHidden(i,false);i.style.setProperty("pointer-events","none")}};var runTransition=function(e){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(r){switch(r.label){case 0:return[4,getAnimationBuilder(e)];case 1:n=r.sent();i=n&&_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.B.isBrowser?animation(n,e):noAnimation(e);return[2,i]}}))}))};var afterTransition=function(e){var n=e.enteringEl;var i=e.leavingEl;n.classList.remove("ion-page-invisible");n.style.removeProperty("pointer-events");if(i!==undefined){i.classList.remove("ion-page-invisible");i.style.removeProperty("pointer-events")}};var getAnimationBuilder=function(e){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(r){switch(r.label){case 0:if(!e.leavingEl||!e.animated||e.duration===0){return[2,undefined]}if(e.animationBuilder){return[2,e.animationBuilder]}if(!(e.mode==="ios"))return[3,2];return[4,iosTransitionAnimation()];case 1:i=r.sent().iosTransitionAnimation;return[3,4];case 2:return[4,mdTransitionAnimation()];case 3:i=r.sent().mdTransitionAnimation;r.label=4;case 4:n=i;return[2,n]}}))}))};var animation=function(e,n){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var i,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(t){switch(t.label){case 0:return[4,waitForReady(n,true)];case 1:t.sent();i=e(n.baseEl,n);fireWillEvents(n.enteringEl,n.leavingEl);return[4,playTransition(i,n)];case 2:r=t.sent();if(n.progressCallback){n.progressCallback(undefined)}if(r){fireDidEvents(n.enteringEl,n.leavingEl)}return[2,{hasCompleted:r,animation:i}]}}))}))};var noAnimation=function(e){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var n,i;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(r){switch(r.label){case 0:n=e.enteringEl;i=e.leavingEl;return[4,waitForReady(e,false)];case 1:r.sent();fireWillEvents(n,i);fireDidEvents(n,i);return[2,{hasCompleted:true}]}}))}))};var waitForReady=function(e,n){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var i,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(t){switch(t.label){case 0:i=e.deepWait!==undefined?e.deepWait:n;r=i?[deepReady(e.enteringEl),deepReady(e.leavingEl)]:[shallowReady(e.enteringEl),shallowReady(e.leavingEl)];return[4,Promise.all(r)];case 1:t.sent();return[4,notifyViewReady(e.viewIsReady,e.enteringEl)];case 2:t.sent();return[2]}}))}))};var notifyViewReady=function(e,n){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(i){switch(i.label){case 0:if(!e)return[3,2];return[4,e(n)];case 1:i.sent();i.label=2;case 2:return[2]}}))}))};var playTransition=function(e,n){var i=n.progressCallback;var r=new Promise((function(n){e.onFinish((function(e){return n(e===1)}))}));if(i){e.progressStart(true);i(e)}else{e.play()}return r};var fireWillEvents=function(e,n){lifecycle(n,LIFECYCLE_WILL_LEAVE);lifecycle(e,LIFECYCLE_WILL_ENTER)};var fireDidEvents=function(e,n){lifecycle(e,LIFECYCLE_DID_ENTER);lifecycle(n,LIFECYCLE_DID_LEAVE)};var lifecycle=function(e,n){if(e){var i=new CustomEvent(n,{bubbles:false,cancelable:false});e.dispatchEvent(i)}};var shallowReady=function(e){if(e){return new Promise((function(n){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.c)(e,n)}))}return Promise.resolve()};var deepReady=function(e){return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__awaiter)(void 0,void 0,void 0,(function(){var n,i,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__generator)(this,(function(t){switch(t.label){case 0:n=e;if(!n)return[3,6];if(!(n.componentOnReady!=null))return[3,2];return[4,n.componentOnReady()];case 1:i=t.sent();if(i!=null){return[2]}return[3,4];case 2:if(!(n.__registerHost!=null))return[3,4];r=new Promise((function(e){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.r)(e)}));return[4,r];case 3:t.sent();return[2];case 4:return[4,Promise.all(Array.from(n.children).map(deepReady))];case 5:t.sent();t.label=6;case 6:return[2]}}))}))};var setPageHidden=function(e,n){if(n){e.setAttribute("aria-hidden","true");e.classList.add("ion-page-hidden")}else{e.hidden=false;e.removeAttribute("aria-hidden");e.classList.remove("ion-page-hidden")}};var setZIndex=function(e,n,i){if(e!==undefined){e.style.zIndex=i==="back"?"99":"101"}if(n!==undefined){n.style.zIndex="100"}};var getIonPageElement=function(e){if(e.classList.contains("ion-page")){return e}var n=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");if(n){return n}return e};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/index.js":
/*!***************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createAnimation": () => (/* reexport safe */ _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c),
/* harmony export */   "iosTransitionAnimation": () => (/* reexport safe */ _ios_transition_4a03103b_js__WEBPACK_IMPORTED_MODULE_1__.iosTransitionAnimation),
/* harmony export */   "mdTransitionAnimation": () => (/* reexport safe */ _md_transition_8277029c_js__WEBPACK_IMPORTED_MODULE_2__.mdTransitionAnimation),
/* harmony export */   "getTimeGivenProgression": () => (/* reexport safe */ _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_3__.g),
/* harmony export */   "createGesture": () => (/* reexport safe */ _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_4__.createGesture),
/* harmony export */   "getPlatforms": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.g),
/* harmony export */   "initialize": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.i),
/* harmony export */   "isPlatform": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.a),
/* harmony export */   "componentOnReady": () => (/* reexport safe */ _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.c),
/* harmony export */   "IonicSafeString": () => (/* reexport safe */ _index_c841c933_js__WEBPACK_IMPORTED_MODULE_7__.I),
/* harmony export */   "LIFECYCLE_DID_ENTER": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.a),
/* harmony export */   "LIFECYCLE_DID_LEAVE": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.c),
/* harmony export */   "LIFECYCLE_WILL_ENTER": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.L),
/* harmony export */   "LIFECYCLE_WILL_LEAVE": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.b),
/* harmony export */   "LIFECYCLE_WILL_UNLOAD": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.d),
/* harmony export */   "menuController": () => (/* reexport safe */ _index_4464d2dc_js__WEBPACK_IMPORTED_MODULE_9__.m),
/* harmony export */   "actionSheetController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.b),
/* harmony export */   "alertController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.a),
/* harmony export */   "loadingController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.l),
/* harmony export */   "modalController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.m),
/* harmony export */   "pickerController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.p),
/* harmony export */   "popoverController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.c),
/* harmony export */   "toastController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.t),
/* harmony export */   "IonicSlides": () => (/* binding */ IonicSlides),
/* harmony export */   "IonicSwiper": () => (/* binding */ IonicSwiper),
/* harmony export */   "getMode": () => (/* binding */ getMode),
/* harmony export */   "setupConfig": () => (/* binding */ setupConfig)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js");
/* harmony import */ var _ios_transition_4a03103b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ios.transition-4a03103b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/ios.transition-4a03103b.js");
/* harmony import */ var _md_transition_8277029c_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./md.transition-8277029c.js */ "../../../node_modules/@ionic/core/dist/esm-es5/md.transition-8277029c.js");
/* harmony import */ var _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cubic-bezier-154a53a5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/cubic-bezier-154a53a5.js");
/* harmony import */ var _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-41bf41f2.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-41bf41f2.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm-es5/ionic-global-a049bcbf.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");
/* harmony import */ var _index_c841c933_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-c841c933.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c841c933.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js");
/* harmony import */ var _index_4464d2dc_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-4464d2dc.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-4464d2dc.js");
/* harmony import */ var _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./overlays-f2e55e3a.js */ "../../../node_modules/@ionic/core/dist/esm-es5/overlays-f2e55e3a.js");
/* harmony import */ var _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./gesture-controller-68c023a4.js */ "../../../node_modules/@ionic/core/dist/esm-es5/gesture-controller-68c023a4.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/hardware-back-button-ace6a71b.js");
/* harmony import */ var _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./haptic-9a9aa7ec.js */ "../../../node_modules/@ionic/core/dist/esm-es5/haptic-9a9aa7ec.js");
/* harmony import */ var _theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./theme-a24ff1ad.js */ "../../../node_modules/@ionic/core/dist/esm-es5/theme-a24ff1ad.js");
/* harmony import */ var _framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./framework-delegate-a922018c.js */ "../../../node_modules/@ionic/core/dist/esm-es5/framework-delegate-a922018c.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var setupConfig=function(e){var i=window;var o=i.Ionic;if(o&&o.config&&o.config.constructor.name!=="Object"){return}i.Ionic=i.Ionic||{};i.Ionic.config=Object.assign(Object.assign({},i.Ionic.config),e);return i.Ionic.config};var getMode=function(){var e=window;var i=e&&e.Ionic&&e.Ionic.config;if(i){if(i.mode){return i.mode}else{return i.get("mode")}}return"md"};var setupSwiperInIonic=function(e,i){if(i===void 0){i=true}if(typeof window==="undefined"){return}var o=e.el;var t=o.closest(".ion-page");if(!t){if(i){var r=o.getRootNode();if(r.tagName==="DIV"){var a=new MutationObserver((function(i){var o=i[0];var t=o.oldValue===null;var s=r.classList.contains("ion-page");if(t&&s){a.disconnect();setupSwiperInIonic(e,false)}}));a.observe(r,{attributeFilter:["class"],attributeOldValue:true})}}return}var s=o.closest("ion-modal, ion-popover");if(s){var n=s.tagName==="ION-MODAL"?"ionModalWillPresent":"ionPopoverWillPresent";var l=function(){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.r)((function(){o.swiper.update();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.b)(s,n,l)}))};(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.a)(s,n,l)}else{var c=new MutationObserver((function(e){var i;var r=e[0];var a=(i=r.oldValue)===null||i===void 0?void 0:i.includes("ion-page-invisible");var s=t.classList.contains("ion-page-invisible");if(!s&&s!==a){o.swiper.update()}}));c.observe(t,{attributeFilter:["class"],attributeOldValue:true})}var d=function(){o.swiper.update();(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.b)(window,"appload",d)};(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.a)(window,"appload",d)};var IonicSwiper={name:"ionic",on:{afterInit:function(e){console.warn("[Deprecation Warning]: The IonicSwiper module has been deprecated in favor of the IonSlides module. This change was made to better support the Swiper 7 release. The IonicSwiper module will be removed in Ionic 7.0. See https://ionicframework.com/docs/api/slides#migration for revised migration steps.");setupSwiperInIonic(e)}}};var IonicSlides=function(e){var i=e.swiper,o=e.extendParams;var t={effect:undefined,direction:"horizontal",initialSlide:0,loop:false,parallax:false,slidesPerView:1,spaceBetween:0,speed:300,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:false,slidesOffsetBefore:0,slidesOffsetAfter:0,touchEventsTarget:"container",autoplay:false,freeMode:false,freeModeMomentum:true,freeModeMomentumRatio:1,freeModeMomentumBounce:true,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:false,freeModeMinimumVelocity:.02,autoHeight:false,setWrapperSize:false,zoom:{maxRatio:3,minRatio:1,toggle:false},touchRatio:1,touchAngle:45,simulateTouch:true,touchStartPreventDefault:false,shortSwipes:true,longSwipes:true,longSwipesRatio:.5,longSwipesMs:300,followFinger:true,threshold:0,touchMoveStopPropagation:true,touchReleaseOnEdges:false,iOSEdgeSwipeDetection:false,iOSEdgeSwipeThreshold:20,resistance:true,resistanceRatio:.85,watchSlidesProgress:false,watchSlidesVisibility:false,preventClicks:true,preventClicksPropagation:true,slideToClickedSlide:false,loopAdditionalSlides:0,noSwiping:true,runCallbacksOnInit:true,coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:true},flipEffect:{slideShadows:true,limitRotation:true},cubeEffect:{slideShadows:true,shadow:true,shadowOffset:20,shadowScale:.94},fadeEffect:{crossFade:false},a11y:{prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide"}};if(i.pagination){t.pagination={type:"bullets",clickable:false,hideOnClick:false}}if(i.scrollbar){t.scrollbar={hide:true}}o(t)};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/ionic-global-a049bcbf.js":
/*!*******************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/ionic-global-a049bcbf.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ isPlatform),
/* harmony export */   "b": () => (/* binding */ getIonMode),
/* harmony export */   "c": () => (/* binding */ config),
/* harmony export */   "g": () => (/* binding */ getPlatforms),
/* harmony export */   "i": () => (/* binding */ initialize)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var Config=function(){function t(){this.m=new Map}t.prototype.reset=function(t){this.m=new Map(Object.entries(t))};t.prototype.get=function(t,e){var n=this.m.get(t);return n!==undefined?n:e};t.prototype.getBoolean=function(t,e){if(e===void 0){e=false}var n=this.m.get(t);if(n===undefined){return e}if(typeof n==="string"){return n==="true"}return!!n};t.prototype.getNumber=function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?e!==undefined?e:NaN:n};t.prototype.set=function(t,e){this.m.set(t,e)};return t}();var config=new Config;var configFromSession=function(t){try{var e=t.sessionStorage.getItem(IONIC_SESSION_KEY);return e!==null?JSON.parse(e):{}}catch(t){return{}}};var saveConfig=function(t,e){try{t.sessionStorage.setItem(IONIC_SESSION_KEY,JSON.stringify(e))}catch(t){return}};var configFromURL=function(t){var e={};t.location.search.slice(1).split("&").map((function(t){return t.split("=")})).map((function(t){var e=t[0],n=t[1];return[decodeURIComponent(e),decodeURIComponent(n)]})).filter((function(t){var e=t[0];return startsWith(e,IONIC_PREFIX)})).map((function(t){var e=t[0],n=t[1];return[e.slice(IONIC_PREFIX.length),n]})).forEach((function(t){var n=t[0],i=t[1];e[n]=i}));return e};var startsWith=function(t,e){return t.substr(0,e.length)===e};var IONIC_PREFIX="ionic:";var IONIC_SESSION_KEY="ionic-persist-config";var getPlatforms=function(t){return setupPlatforms(t)};var isPlatform=function(t,e){if(typeof t==="string"){e=t;t=undefined}return getPlatforms(t).includes(e)};var setupPlatforms=function(t){if(t===void 0){t=window}if(typeof t==="undefined"){return[]}t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;if(e==null){e=t.Ionic.platforms=detectPlatforms(t);e.forEach((function(e){return t.document.documentElement.classList.add("plt-"+e)}))}return e};var detectPlatforms=function(t){var e=config.get("platform");return Object.keys(PLATFORMS_MAP).filter((function(n){var i=e&&e[n];return typeof i==="function"?i(t):PLATFORMS_MAP[n](t)}))};var isMobileWeb=function(t){return isMobile(t)&&!isHybrid(t)};var isIpad=function(t){if(testUserAgent(t,/iPad/i)){return true}if(testUserAgent(t,/Macintosh/i)&&isMobile(t)){return true}return false};var isIphone=function(t){return testUserAgent(t,/iPhone/i)};var isIOS=function(t){return testUserAgent(t,/iPhone|iPod/i)||isIpad(t)};var isAndroid=function(t){return testUserAgent(t,/android|sink/i)};var isAndroidTablet=function(t){return isAndroid(t)&&!testUserAgent(t,/mobile/i)};var isPhablet=function(t){var e=t.innerWidth;var n=t.innerHeight;var i=Math.min(e,n);var r=Math.max(e,n);return i>390&&i<520&&(r>620&&r<800)};var isTablet=function(t){var e=t.innerWidth;var n=t.innerHeight;var i=Math.min(e,n);var r=Math.max(e,n);return isIpad(t)||isAndroidTablet(t)||i>460&&i<820&&(r>780&&r<1400)};var isMobile=function(t){return matchMedia(t,"(any-pointer:coarse)")};var isDesktop=function(t){return!isMobile(t)};var isHybrid=function(t){return isCordova(t)||isCapacitorNative(t)};var isCordova=function(t){return!!(t["cordova"]||t["phonegap"]||t["PhoneGap"])};var isCapacitorNative=function(t){var e=t["Capacitor"];return!!(e&&e.isNative)};var isElectron=function(t){return testUserAgent(t,/electron/i)};var isPWA=function(t){return!!(t.matchMedia&&t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)};var testUserAgent=function(t,e){return e.test(t.navigator.userAgent)};var matchMedia=function(t,e){return t.matchMedia&&t.matchMedia(e).matches};var PLATFORMS_MAP={ipad:isIpad,iphone:isIphone,ios:isIOS,android:isAndroid,phablet:isPhablet,tablet:isTablet,cordova:isCordova,capacitor:isCapacitorNative,electron:isElectron,pwa:isPWA,mobile:isMobile,mobileweb:isMobileWeb,desktop:isDesktop,hybrid:isHybrid};var defaultMode;var getIonMode=function(t){return t&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.g)(t)||defaultMode};var initialize=function(t){if(t===void 0){t={}}if(typeof window==="undefined"){return}var e=window.document;var n=window;var i=n.Ionic=n.Ionic||{};var r={};if(t._ael){r.ael=t._ael}if(t._rel){r.rel=t._rel}if(t._ce){r.ce=t._ce}(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.s)(r);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},configFromSession(n)),{persistConfig:false}),i.config),configFromURL(n)),t);config.reset(o);if(config.getBoolean("persistConfig")){saveConfig(n,o)}setupPlatforms(n);i.config=config;i.mode=defaultMode=config.get("mode",e.documentElement.getAttribute("mode")||(isPlatform(n,"ios")?"ios":"md"));config.set("mode",defaultMode);e.documentElement.setAttribute("mode",defaultMode);e.documentElement.classList.add(defaultMode);if(config.getBoolean("_testing")){config.set("animated",false)}var a=function(t){return t.tagName&&t.tagName.startsWith("ION-")};var s=function(t){return["ios","md"].includes(t)};(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.a)((function(t){while(t){var e=t.mode||t.getAttribute("mode");if(e){if(s(e)){return e}else if(a(t)){console.warn('Invalid ionic mode: "'+e+'", expected: "ios" or "md"')}}t=t.parentElement}return defaultMode}))};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/ios.transition-4a03103b.js":
/*!*********************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/ios.transition-4a03103b.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "iosTransitionAnimation": () => (/* binding */ iosTransitionAnimation),
/* harmony export */   "shadow": () => (/* binding */ shadow)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var DURATION=540;var getClonedElement=function(e){return document.querySelector(e+".ion-cloned-element")};var shadow=function(e){return e.shadowRoot||e};var getLargeTitle=function(e){var t=e.tagName==="ION-TABS"?e:e.querySelector("ion-tabs");var a="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(t!=null){var r=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return r!=null?r.querySelector(a):null}return e.querySelector(a)};var getBackButton=function(e,t){var a=e.tagName==="ION-TABS"?e:e.querySelector("ion-tabs");var r=[];if(a!=null){var o=a.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");if(o!=null){r=o.querySelectorAll("ion-buttons")}}else{r=e.querySelectorAll("ion-buttons")}for(var n=0,i=r;n<i.length;n++){var l=i[n];var s=l.closest("ion-header");var c=s&&!s.classList.contains("header-collapse-condense-inactive");var f=l.querySelector("ion-back-button");var d=l.classList.contains("buttons-collapse");var m=l.slot==="start"||l.slot==="";if(f!==null&&m&&(d&&c&&t||!d)){return f}}return null};var createLargeTitleTransition=function(e,t,a,r,o){var n=getBackButton(r,a);var i=getLargeTitle(o);var l=getLargeTitle(r);var s=getBackButton(o,a);var c=n!==null&&i!==null&&!a;var f=l!==null&&s!==null&&a;if(c){var d=i.getBoundingClientRect();var m=n.getBoundingClientRect();animateLargeTitle(e,t,a,i,d,m);animateBackButton(e,t,a,n,d,m)}else if(f){var v=l.getBoundingClientRect();var p=s.getBoundingClientRect();animateLargeTitle(e,t,a,l,v,p);animateBackButton(e,t,a,s,v,p)}return{forward:c,backward:f}};var animateBackButton=function(e,t,a,r,o,n){var i=t?"calc(100% - "+(n.right+4)+"px)":n.left-4+"px";var l=t?"7px":"-7px";var s=t?"-4px":"4px";var c=t?"-4px":"4px";var f=t?"right":"left";var d=t?"left":"right";var m=[{offset:0,opacity:0,transform:"translate3d("+l+", "+(o.top-40)+"px, 0) scale(2.1)"},{offset:1,opacity:1,transform:"translate3d("+s+", "+(n.top-46)+"px, 0) scale(1)"}];var v=[{offset:0,opacity:1,transform:"translate3d("+s+", "+(n.top-46)+"px, 0) scale(1)"},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d("+l+", "+(o.top-40)+"px, 0) scale(2.1)"}];var p=a?v:m;var y=[{offset:0,opacity:0,transform:"translate3d("+c+", "+(n.top-41)+"px, 0) scale(0.6)"},{offset:1,opacity:1,transform:"translate3d("+c+", "+(n.top-46)+"px, 0) scale(1)"}];var u=[{offset:0,opacity:1,transform:"translate3d("+c+", "+(n.top-46)+"px, 0) scale(1)"},{offset:.2,opacity:0,transform:"translate3d("+c+", "+(n.top-41)+"px, 0) scale(0.6)"},{offset:1,opacity:0,transform:"translate3d("+c+", "+(n.top-41)+"px, 0) scale(0.6)"}];var g=a?u:y;var b=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var A=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var S=getClonedElement("ion-back-button");var T=shadow(S).querySelector(".button-text");var h=shadow(S).querySelector("ion-icon");S.text=r.text;S.mode=r.mode;S.icon=r.icon;S.color=r.color;S.disabled=r.disabled;S.style.setProperty("display","block");S.style.setProperty("position","fixed");A.addElement(h);b.addElement(T);b.beforeStyles({"transform-origin":f+" center"}).beforeAddWrite((function(){r.style.setProperty("display","none");S.style.setProperty(f,i)})).afterAddWrite((function(){r.style.setProperty("display","");S.style.setProperty("display","none");S.style.removeProperty(f)})).keyframes(p);A.beforeStyles({"transform-origin":d+" center"}).keyframes(g);e.addAnimation([b,A])};var animateLargeTitle=function(e,t,a,r,o,n){var i;var l=t?"calc(100% - "+o.right+"px)":o.left+"px";var s=t?"-18px":"18px";var c=t?"right":"left";var f=[{offset:0,opacity:0,transform:"translate3d("+s+", "+(n.top-4)+"px, 0) scale(0.49)"},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(0, "+(o.top-2)+"px, 0) scale(1)"}];var d=[{offset:0,opacity:.99,transform:"translate3d(0, "+(o.top-2)+"px, 0) scale(1)"},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d("+s+", "+(n.top-4)+"px, 0) scale(0.5)"}];var m=a?f:d;var v=getClonedElement("ion-title");var p=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();v.innerText=r.innerText;v.size=r.size;v.color=r.color;p.addElement(v);p.beforeStyles((i={"transform-origin":c+" center",height:"46px",display:"",position:"relative"},i[c]=l,i)).beforeAddWrite((function(){r.style.setProperty("display","none")})).afterAddWrite((function(){r.style.setProperty("display","");v.style.setProperty("display","none")})).keyframes(m);e.addAnimation(p)};var iosTransitionAnimation=function(e,t){try{var a="cubic-bezier(0.32,0.72,0,1)";var r="opacity";var o="transform";var n="0%";var i=.8;var l=e.ownerDocument.dir==="rtl";var s=l?"-99.5%":"99.5%";var c=l?"33%":"-33%";var f=t.enteringEl;var d=t.leavingEl;var m=t.direction==="back";var v=f.querySelector(":scope > ion-content");var p=f.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");var y=f.querySelectorAll(":scope > ion-header > ion-toolbar");var u=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var g=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();u.addElement(f).duration(t.duration||DURATION).easing(t.easing||a).fill("both").beforeRemoveClass("ion-page-invisible");if(d&&e){var b=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();b.addElement(e);u.addAnimation(b)}if(!v&&y.length===0&&p.length===0){g.addElement(f.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs"))}else{g.addElement(v);g.addElement(p)}u.addAnimation(g);if(m){g.beforeClearStyles([r]).fromTo("transform","translateX("+c+")","translateX("+n+")").fromTo(r,i,1)}else{g.beforeClearStyles([r]).fromTo("transform","translateX("+s+")","translateX("+n+")")}if(v){var A=shadow(v).querySelector(".transition-effect");if(A){var S=A.querySelector(".transition-cover");var T=A.querySelector(".transition-shadow");var h=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var x=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var E=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();h.addElement(A).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""});x.addElement(S).beforeClearStyles([r]).fromTo(r,0,.1);E.addElement(T).beforeClearStyles([r]).fromTo(r,.03,.7);h.addAnimation([x,E]);g.addAnimation([h])}}var q=f.querySelector("ion-header.header-collapse-condense");var X=createLargeTitleTransition(u,l,m,f,d),C=X.forward,k=X.backward;y.forEach((function(e){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();t.addElement(e);u.addAnimation(t);var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();a.addElement(e.querySelector("ion-title"));var o=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var i=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]"));var f=e.closest("ion-header");var d=f&&f.classList.contains("header-collapse-condense-inactive");var v;if(m){v=i.filter((function(e){var t=e.classList.contains("buttons-collapse");return t&&!d||!t}))}else{v=i.filter((function(e){return!e.classList.contains("buttons-collapse")}))}o.addElement(v);var p=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();p.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));var y=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();y.addElement(shadow(e).querySelector(".toolbar-background"));var g=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var b=e.querySelector("ion-back-button");if(b){g.addElement(b)}t.addAnimation([a,o,p,y,g]);o.fromTo(r,.01,1);p.fromTo(r,.01,1);if(m){if(!d){a.fromTo("transform","translateX("+c+")","translateX("+n+")").fromTo(r,.01,1)}p.fromTo("transform","translateX("+c+")","translateX("+n+")");g.fromTo(r,.01,1)}else{if(!q){a.fromTo("transform","translateX("+s+")","translateX("+n+")").fromTo(r,.01,1)}p.fromTo("transform","translateX("+s+")","translateX("+n+")");y.beforeClearStyles([r,"transform"]);var A=f===null||f===void 0?void 0:f.translucent;if(!A){y.fromTo(r,.01,"var(--opacity)")}else{y.fromTo("transform",l?"translateX(-100%)":"translateX(100%)","translateX(0px)")}if(!C){g.fromTo(r,.01,1)}if(b&&!C){var S=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();S.addElement(shadow(b).querySelector(".button-text")).fromTo("transform",l?"translateX(-100px)":"translateX(100px)","translateX(0px)");t.addAnimation(S)}}}));if(d){var w=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var B=d.querySelector(":scope > ion-content");var L=d.querySelectorAll(":scope > ion-header > ion-toolbar");var P=d.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(!B&&L.length===0&&P.length===0){w.addElement(d.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs"))}else{w.addElement(B);w.addElement(P)}u.addAnimation(w);if(m){w.beforeClearStyles([r]).fromTo("transform","translateX("+n+")",l?"translateX(-100%)":"translateX(100%)");var R=(0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(d);u.afterAddWrite((function(){if(u.getDirection()==="normal"){R.style.setProperty("display","none")}}))}else{w.fromTo("transform","translateX("+n+")","translateX("+c+")").fromTo(r,1,i)}if(B){var I=shadow(B).querySelector(".transition-effect");if(I){var N=I.querySelector(".transition-cover");var W=I.querySelector(".transition-shadow");var j=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var D=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var O=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();j.addElement(I).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""});D.addElement(N).beforeClearStyles([r]).fromTo(r,.1,0);O.addElement(W).beforeClearStyles([r]).fromTo(r,.7,.03);j.addAnimation([D,O]);w.addAnimation([j])}}L.forEach((function(e){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();t.addElement(e);var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();a.addElement(e.querySelector("ion-title"));var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var s=e.querySelectorAll("ion-buttons,[menuToggle]");var f=e.closest("ion-header");var d=f&&f.classList.contains("header-collapse-condense-inactive");var v=Array.from(s).filter((function(e){var t=e.classList.contains("buttons-collapse");return t&&!d||!t}));i.addElement(v);var p=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var y=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");if(y.length>0){p.addElement(y)}var g=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();g.addElement(shadow(e).querySelector(".toolbar-background"));var b=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();var A=e.querySelector("ion-back-button");if(A){b.addElement(A)}t.addAnimation([a,i,p,b,g]);u.addAnimation(t);b.fromTo(r,.99,0);i.fromTo(r,.99,0);p.fromTo(r,.99,0);if(m){if(!d){a.fromTo("transform","translateX("+n+")",l?"translateX(-100%)":"translateX(100%)").fromTo(r,.99,0)}p.fromTo("transform","translateX("+n+")",l?"translateX(-100%)":"translateX(100%)");g.beforeClearStyles([r,"transform"]);var S=f===null||f===void 0?void 0:f.translucent;if(!S){g.fromTo(r,"var(--opacity)",0)}else{g.fromTo("transform","translateX(0px)",l?"translateX(-100%)":"translateX(100%)")}if(A&&!k){var T=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();T.addElement(shadow(A).querySelector(".button-text")).fromTo("transform","translateX("+n+")","translateX("+((l?-124:124)+"px")+")");t.addAnimation(T)}}else{if(!d){a.fromTo("transform","translateX("+n+")","translateX("+c+")").fromTo(r,.99,0).afterClearStyles([o,r])}p.fromTo("transform","translateX("+n+")","translateX("+c+")").afterClearStyles([o,r]);b.afterClearStyles([r]);a.afterClearStyles([r]);i.afterClearStyles([r])}}))}return u}catch(e){throw e}};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/md.transition-8277029c.js":
/*!********************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/md.transition-8277029c.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mdTransitionAnimation": () => (/* binding */ mdTransitionAnimation)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
var mdTransitionAnimation=function(e,n){var a="40px";var i="0px";var t=n.direction==="back";var r=n.enteringEl;var o=n.leavingEl;var m=(0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(r);var s=m.querySelector("ion-toolbar");var l=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();l.addElement(m).fill("both").beforeRemoveClass("ion-page-invisible");if(t){l.duration(n.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)")}else{l.duration(n.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY("+a+")","translateY("+i+")").fromTo("opacity",.01,1)}if(s){var d=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();d.addElement(s);l.addAnimation(d)}if(o&&t){l.duration(n.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");var c=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();c.addElement((0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(o)).onFinish((function(e){if(e===1&&c.elements.length>0){c.elements[0].style.setProperty("display","none")}})).fromTo("transform","translateY("+i+")","translateY("+a+")").fromTo("opacity",1,0);l.addAnimation(c)}return l};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/overlays-f2e55e3a.js":
/*!***************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/overlays-f2e55e3a.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ ActionSheet),
/* harmony export */   "L": () => (/* binding */ Loading),
/* harmony export */   "M": () => (/* binding */ Modal),
/* harmony export */   "P": () => (/* binding */ Popover),
/* harmony export */   "T": () => (/* binding */ Toast),
/* harmony export */   "a": () => (/* binding */ alertController),
/* harmony export */   "b": () => (/* binding */ actionSheetController),
/* harmony export */   "c": () => (/* binding */ popoverController),
/* harmony export */   "d": () => (/* binding */ Alert),
/* harmony export */   "e": () => (/* binding */ Picker),
/* harmony export */   "l": () => (/* binding */ loadingController),
/* harmony export */   "m": () => (/* binding */ modalController),
/* harmony export */   "p": () => (/* binding */ pickerController),
/* harmony export */   "s": () => (/* binding */ safeCall),
/* harmony export */   "t": () => (/* binding */ toastController)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-06cd27b1.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm-es5/ionic-global-a049bcbf.js");
/* harmony import */ var _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./haptic-9a9aa7ec.js */ "../../../node_modules/@ionic/core/dist/esm-es5/haptic-9a9aa7ec.js");
/* harmony import */ var _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-41bf41f2.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-41bf41f2.js");
/* harmony import */ var _index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-c841c933.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c841c933.js");
/* harmony import */ var _theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-a24ff1ad.js */ "../../../node_modules/@ionic/core/dist/esm-es5/theme-a24ff1ad.js");
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm-es5/animation-c9c2a359.js");
/* harmony import */ var _framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./framework-delegate-a922018c.js */ "../../../node_modules/@ionic/core/dist/esm-es5/framework-delegate-a922018c.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/helpers-eed79a2b.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index-c8ef55b5.js");
/* harmony import */ var _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cubic-bezier-154a53a5.js */ "../../../node_modules/@ionic/core/dist/esm-es5/cubic-bezier-154a53a5.js");
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm-es5/hardware-back-button-ace6a71b.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var createButtonActiveGesture=function(t,e){var r;var i;var o=function(t,i,o){if(typeof document==="undefined"){return}var s=document.elementFromPoint(t,i);if(!s||!e(s)){a();return}if(s!==r){a();n(s,o)}};var n=function(t,e){r=t;if(!i){i=r}var o=r;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)((function(){return o.classList.add("ion-activated")}));e()};var a=function(t){if(t===void 0){t=false}if(!r){return}var e=r;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)((function(){return e.classList.remove("ion-activated")}));if(t&&i!==r){r.click()}r=undefined};return (0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:function(t){return o(t.currentX,t.currentY,_haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.a)},onMove:function(t){return o(t.currentX,t.currentY,_haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.b)},onEnd:function(){a(true);(0,_haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.h)();i=undefined}})};var iosEnterAnimation$6=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([r,i])};var iosLeaveAnimation$6=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([r,i])};var mdEnterAnimation$5=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([r,i])};var mdLeaveAnimation$5=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([r,i])};var actionSheetIosCss='.sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}';var actionSheetMdCss='.sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}';var ActionSheet=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionActionSheetDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionActionSheetWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionActionSheetWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionActionSheetDidDismiss",7);this.presented=false;this.keyboardClose=true;this.buttons=[];this.backdropDismiss=true;this.translucent=false;this.animated=true;this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)};this.dispatchCancelHandler=function(t){var r=t.detail.role;if(isCancel(r)){var i=e.getButtons().find((function(t){return t.role==="cancel"}));e.callButtonHandler(i)}}}t.prototype.present=function(){return present(this,"actionSheetEnter",iosEnterAnimation$6,mdEnterAnimation$5)};t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.dismiss=function(t,e){return dismiss(this,t,e,"actionSheetLeave",iosLeaveAnimation$6,mdLeaveAnimation$5)};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionActionSheetDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionActionSheetWillDismiss")};t.prototype.buttonClick=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(i){switch(i.label){case 0:e=t.role;if(isCancel(e)){return[2,this.dismiss(t.data,e)]}return[4,this.callButtonHandler(t)];case 1:r=i.sent();if(r){return[2,this.dismiss(t.data,t.role)]}return[2,Promise.resolve()]}}))}))};t.prototype.callButtonHandler=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(r){switch(r.label){case 0:if(!t)return[3,2];return[4,safeCall(t.handler)];case 1:e=r.sent();if(e===false){return[2,false]}r.label=2;case 2:return[2,true]}}))}))};t.prototype.getButtons=function(){return this.buttons.map((function(t){return typeof t==="string"?{text:t}:t}))};t.prototype.disconnectedCallback=function(){if(this.gesture){this.gesture.destroy();this.gesture=undefined}};t.prototype.componentDidLoad=function(){var t=this;var e=this,r=e.groupEl,i=e.wrapperEl;if(this.gesture||(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this)==="md"||!i||!r){return}(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.f)((function(){var e=r.scrollHeight>r.clientHeight;if(!e){t.gesture=createButtonActiveGesture(i,(function(t){return t.classList.contains("action-sheet-button")}));t.gesture.enable(true)}}))};t.prototype.render=function(){var t;var e=this;var r=this.htmlAttributes;var i=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var o=this.getButtons();var n=o.find((function(t){return t.role==="cancel"}));var a=o.filter((function(t){return t.role!=="cancel"}));return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({role:"dialog","aria-modal":"true",tabindex:"-1"},r,{style:{zIndex:""+(2e4+this.overlayIndex)},class:Object.assign(Object.assign((t={},t[i]=true,t),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),{"overlay-hidden":true,"action-sheet-translucent":this.translucent}),onIonActionSheetWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"action-sheet-wrapper ion-overlay-wrapper",role:"dialog",ref:function(t){return e.wrapperEl=t}},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"action-sheet-container"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"action-sheet-group",ref:function(t){return e.groupEl=t}},this.header!==undefined&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:{"action-sheet-title":true,"action-sheet-has-sub-title":this.subHeader!==undefined}},this.header,this.subHeader&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"action-sheet-sub-title"},this.subHeader)),a.map((function(t){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",id:t.id,class:buttonClass$3(t),onClick:function(){return e.buttonClick(t)}},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"action-sheet-button-inner"},t.icon&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon",{icon:t.icon,lazy:false,class:"action-sheet-icon"}),t.text),i==="md"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect",null))}))),n&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"action-sheet-group action-sheet-group-cancel"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",class:buttonClass$3(n),onClick:function(){return e.buttonClick(n)}},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"action-sheet-button-inner"},n.icon&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon",{icon:n.icon,lazy:false,class:"action-sheet-icon"}),n.text),i==="md"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect",null))))),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});return t}();var buttonClass$3=function(t){var e;return Object.assign((e={"action-sheet-button":true,"ion-activatable":true,"ion-focusable":true},e["action-sheet-"+t.role]=t.role!==undefined,e),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.cssClass))};ActionSheet.style={ios:actionSheetIosCss,md:actionSheetMdCss};var iosEnterAnimation$5=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var iosLeaveAnimation$5=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var mdEnterAnimation$4=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]);return e.addElement(t).easing("ease-in-out").duration(150).addAnimation([r,i])};var mdLeaveAnimation$4=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".alert-wrapper")).fromTo("opacity",.99,0);return e.addElement(t).easing("ease-in-out").duration(150).addAnimation([r,i])};var alertIosCss=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}";var alertMdCss=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}";var Alert=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionAlertDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionAlertWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionAlertWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionAlertDidDismiss",7);this.processedInputs=[];this.processedButtons=[];this.presented=false;this.keyboardClose=true;this.buttons=[];this.inputs=[];this.backdropDismiss=true;this.translucent=false;this.animated=true;this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)};this.dispatchCancelHandler=function(t){var r=t.detail.role;if(isCancel(r)){var i=e.processedButtons.find((function(t){return t.role==="cancel"}));e.callButtonHandler(i)}}}t.prototype.onKeydown=function(t){var e=new Set(this.processedInputs.map((function(t){return t.type})));if(!e.has("radio")||t.target&&!this.el.contains(t.target)||t.target.classList.contains("alert-button")){return}var r=this.el.querySelectorAll(".alert-radio");var i=Array.from(r).filter((function(t){return!t.disabled}));var o=i.findIndex((function(e){return e.id===t.target.id}));var n;if(["ArrowDown","ArrowRight"].includes(t.code)){n=o===i.length-1?i[0]:i[o+1]}if(["ArrowUp","ArrowLeft"].includes(t.code)){n=o===0?i[i.length-1]:i[o-1]}if(n&&i.includes(n)){var a=this.processedInputs.find((function(t){return t.id===(n===null||n===void 0?void 0:n.id)}));if(a){this.rbClick(a);n.focus()}}};t.prototype.buttonsChanged=function(){var t=this.buttons;this.processedButtons=t.map((function(t){return typeof t==="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":undefined}:t}))};t.prototype.inputsChanged=function(){var t=this;var e=this.inputs;var r=e.find((function(t){return!t.disabled}));var i=e.find((function(t){return t.checked&&!t.disabled}));var o=i||r;var n=new Set(e.map((function(t){return t.type})));if(n.has("checkbox")&&n.has("radio")){console.warn("Alert cannot mix input types: "+Array.from(n.values()).join("/")+". Please see alert docs for more info.")}this.inputType=n.values().next().value;this.processedInputs=e.map((function(e,r){return{type:e.type||"text",name:e.name||""+r,placeholder:e.placeholder||"",value:e.value,label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:e.id||"alert-input-"+t.overlayIndex+"-"+r,handler:e.handler,min:e.min,max:e.max,cssClass:e.cssClass||"",attributes:e.attributes||{},tabindex:e.type==="radio"&&e!==o?-1:0}}))};t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.componentWillLoad=function(){this.inputsChanged();this.buttonsChanged()};t.prototype.disconnectedCallback=function(){if(this.gesture){this.gesture.destroy();this.gesture=undefined}};t.prototype.componentDidLoad=function(){if(this.gesture||(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this)==="md"||!this.wrapperEl){return}this.gesture=createButtonActiveGesture(this.wrapperEl,(function(t){return t.classList.contains("alert-button")}));this.gesture.enable(true)};t.prototype.present=function(){return present(this,"alertEnter",iosEnterAnimation$5,mdEnterAnimation$4)};t.prototype.dismiss=function(t,e){return dismiss(this,t,e,"alertLeave",iosLeaveAnimation$5,mdLeaveAnimation$4)};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionAlertDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionAlertWillDismiss")};t.prototype.rbClick=function(t){for(var e=0,r=this.processedInputs;e<r.length;e++){var i=r[e];i.checked=i===t;i.tabindex=i===t?0:-1}this.activeId=t.id;safeCall(t.handler,t);(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.j)(this)};t.prototype.cbClick=function(t){t.checked=!t.checked;safeCall(t.handler,t);(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.j)(this)};t.prototype.buttonClick=function(t){var e=t.role;var r=this.getValues();if(isCancel(e)){return this.dismiss({values:r},e)}var i=this.callButtonHandler(t,r);if(i!==false){return this.dismiss(Object.assign({values:r},i),t.role)}return Promise.resolve(false)};t.prototype.callButtonHandler=function(t,e){if(t&&t.handler){var r=safeCall(t.handler,e);if(r===false){return false}if(typeof r==="object"){return r}}return{}};t.prototype.getValues=function(){if(this.processedInputs.length===0){return undefined}if(this.inputType==="radio"){var t=this.processedInputs.find((function(t){return!!t.checked}));return t?t.value:undefined}if(this.inputType==="checkbox"){return this.processedInputs.filter((function(t){return t.checked})).map((function(t){return t.value}))}var e={};this.processedInputs.forEach((function(t){e[t.name]=t.value||""}));return e};t.prototype.renderAlertInputs=function(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}};t.prototype.renderCheckbox=function(){var t=this;var e=this.processedInputs;var r=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);if(e.length===0){return null}return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-checkbox-group"},e.map((function(e){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",onClick:function(){return t.cbClick(e)},"aria-checked":""+e.checked,id:e.id,disabled:e.disabled,tabIndex:e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(e.cssClass)),{"alert-tappable":true,"alert-checkbox":true,"alert-checkbox-button":true,"ion-focusable":true,"alert-checkbox-button-disabled":e.disabled||false})},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-button-inner"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-checkbox-icon"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-checkbox-inner"})),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-checkbox-label"},e.label)),r==="md"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect",null))})))};t.prototype.renderRadio=function(){var t=this;var e=this.processedInputs;if(e.length===0){return null}return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map((function(e){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",onClick:function(){return t.rbClick(e)},"aria-checked":""+e.checked,disabled:e.disabled,id:e.id,tabIndex:e.tabindex,class:Object.assign(Object.assign({},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(e.cssClass)),{"alert-radio-button":true,"alert-tappable":true,"alert-radio":true,"ion-focusable":true,"alert-radio-button-disabled":e.disabled||false}),role:"radio"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-button-inner"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-radio-icon"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-radio-inner"})),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-radio-label"},e.label)))})))};t.prototype.renderInput=function(){var t=this.processedInputs;if(t.length===0){return null}return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-input-group"},t.map((function(t){var e,r,i,o;if(t.type==="textarea"){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-input-wrapper"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(r=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&r!==void 0?r:t.disabled,class:inputClass(t),onInput:function(e){var r;t.value=e.target.value;if((r=t.attributes)===null||r===void 0?void 0:r.onInput){t.attributes.onInput(e)}}})))}else{return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-input-wrapper"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(o=(i=t.attributes)===null||i===void 0?void 0:i.disabled)!==null&&o!==void 0?o:t.disabled,class:inputClass(t),onInput:function(e){var r;t.value=e.target.value;if((r=t.attributes)===null||r===void 0?void 0:r.onInput){t.attributes.onInput(e)}}})))}})))};t.prototype.renderAlertButtons=function(){var t=this;var e=this.processedButtons;var r=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var i={"alert-button-group":true,"alert-button-group-vertical":e.length>2};return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:i},e.map((function(e){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",id:e.id,class:buttonClass$2(e),tabIndex:0,onClick:function(){return t.buttonClick(e)}},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"alert-button-inner"},e.text),r==="md"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect",null))})))};t.prototype.render=function(){var t;var e=this;var r=this,i=r.overlayIndex,o=r.header,n=r.subHeader,a=r.htmlAttributes;var s=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var l="alert-"+i+"-hdr";var d="alert-"+i+"-sub-hdr";var c="alert-"+i+"-msg";var p=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert";return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({role:p,"aria-modal":"true",tabindex:"-1"},a,{style:{zIndex:""+(2e4+i)},class:Object.assign(Object.assign({},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),(t={},t[s]=true,t["overlay-hidden"]=true,t["alert-translucent"]=this.translucent,t)),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{tappable:this.backdropDismiss}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-wrapper ion-overlay-wrapper",ref:function(t){return e.wrapperEl=t}},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"alert-head"},o&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2",{id:l,class:"alert-title"},o),n&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2",{id:d,class:"alert-sub-title"},n)),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{id:c,class:"alert-message",innerHTML:(0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(this.message)}),this.renderAlertInputs(),this.renderAlertButtons()),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{buttons:["buttonsChanged"],inputs:["inputsChanged"]}},enumerable:false,configurable:true});return t}();var inputClass=function(t){var e,r,i;return Object.assign(Object.assign({"alert-input":true,"alert-input-disabled":((r=(e=t.attributes)===null||e===void 0?void 0:e.disabled)!==null&&r!==void 0?r:t.disabled)||false},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.cssClass)),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.attributes?(i=t.attributes.class)===null||i===void 0?void 0:i.toString():""))};var buttonClass$2=function(t){var e;return Object.assign((e={"alert-button":true,"ion-focusable":true,"ion-activatable":true},e["alert-button-role-"+t.role]=t.role!==undefined,e),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.cssClass))};Alert.style={ios:alertIosCss,md:alertMdCss};var iosEnterAnimation$4=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var iosLeaveAnimation$4=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var mdEnterAnimation$3=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var mdLeaveAnimation$3=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);i.addElement(t.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]);return e.addElement(t).easing("ease-in-out").duration(200).addAnimation([r,i])};var loadingIosCss=".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}";var loadingMdCss=".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}";var Loading=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionLoadingDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionLoadingWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionLoadingWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionLoadingDidDismiss",7);this.presented=false;this.keyboardClose=true;this.duration=0;this.backdropDismiss=false;this.showBackdrop=true;this.translucent=false;this.animated=true;this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)}}t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.componentWillLoad=function(){if(this.spinner===undefined){var t=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);this.spinner=_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get("loadingSpinner",_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get("spinner",t==="ios"?"lines":"crescent"))}};t.prototype.present=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var t=this;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(e){switch(e.label){case 0:return[4,present(this,"loadingEnter",iosEnterAnimation$4,mdEnterAnimation$3,undefined)];case 1:e.sent();if(this.duration>0){this.durationTimeout=setTimeout((function(){return t.dismiss()}),this.duration+10)}return[2]}}))}))};t.prototype.dismiss=function(t,e){if(this.durationTimeout){clearTimeout(this.durationTimeout)}return dismiss(this,t,e,"loadingLeave",iosLeaveAnimation$4,mdLeaveAnimation$3)};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionLoadingDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionLoadingWillDismiss")};t.prototype.render=function(){var t;var e=this,r=e.message,i=e.spinner,o=e.htmlAttributes;var n=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({tabindex:"-1"},o,{style:{zIndex:""+(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),(t={},t[n]=true,t["overlay-hidden"]=true,t["loading-translucent"]=this.translucent,t))}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"loading-wrapper ion-overlay-wrapper",role:"dialog"},i&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"loading-spinner"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-spinner",{name:i,"aria-hidden":"true"})),r&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"loading-content",innerHTML:(0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(r)})),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});return t}();Loading.style={ios:loadingIosCss,md:loadingMdCss};var SwipeToCloseDefaults={MIN_PRESENTING_SCALE:.93};var createSwipeToCloseGesture=function(t,e,r){var i=t.offsetHeight;var o=false;var n=function(t){var e=t.event.target;if(e===null||!e.closest){return true}var r=e.closest("ion-content, ion-footer");if(r===null){return true}return false};var a=function(){e.progressStart(true,o?1:0)};var s=function(t){var r=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(1e-4,t.deltaY/i,.9999);e.progressStep(r)};var l=function(t){var n=t.velocityY;var a=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(1e-4,t.deltaY/i,.9999);var s=(t.deltaY+n*1e3)/i;var l=s>=.5;var c=l?-.001:.001;if(!l){e.easing("cubic-bezier(1, 0, 0.68, 0.28)");c+=(0,_cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__.g)([0,0],[1,0],[.68,.28],[1,1],a)[0]}else{e.easing("cubic-bezier(0.32, 0.72, 0, 1)");c+=(0,_cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__.g)([0,0],[.32,.72],[0,1],[1,1],a)[0]}var p=l?computeDuration(a*i,n):computeDuration((1-a)*i,n);o=l;d.enable(false);e.onFinish((function(){if(!l){d.enable(true)}})).progressEnd(l?1:0,c,p);if(l){r()}};var d=(0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({el:t,gestureName:"modalSwipeToClose",gesturePriority:40,direction:"y",threshold:10,canStart:n,onStart:a,onMove:s,onEnd:l});return d};var computeDuration=function(t,e){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(400,t/Math.abs(e*1.1),500)};var getBackdropValueForSheet=function(t,e){var r=1/(1-e);var i=-(e*r);return t*r+i};var createSheetEnterAnimation=function(t){var e=t.currentBreakpoint,r=t.backdropBreakpoint;var i=r===undefined||r<e;var o=i?"calc(var(--backdrop-opacity) * "+e+")":"0";var n=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("backdropAnimation").fromTo("opacity",0,o);var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY("+(100-e*100)+"%)"}]);return{wrapperAnimation:a,backdropAnimation:n}};var createSheetLeaveAnimation=function(t){var e=t.currentBreakpoint,r=t.backdropBreakpoint;var i="calc(var(--backdrop-opacity) * "+getBackdropValueForSheet(e,r)+")";var o=[{offset:0,opacity:i},{offset:1,opacity:0}];var n=[{offset:0,opacity:i},{offset:r,opacity:0},{offset:1,opacity:0}];var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("backdropAnimation").keyframes(r!==0?n:o);var s=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY("+(100-e*100)+"%)"},{offset:1,opacity:1,transform:"translateY(100%)"}]);return{wrapperAnimation:s,backdropAnimation:a}};var createEnterAnimation$1=function(){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("opacity",.01,"var(--backdrop-opacity)");var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e}};var iosEnterAnimation$3=function(t,e){var r=e.presentingEl,i=e.currentBreakpoint;var o=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var n=i!==undefined?createSheetEnterAnimation(e):createEnterAnimation$1(),a=n.wrapperAnimation,s=n.backdropAnimation;s.addElement(o.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);a.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var l=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(a);if(r){var d=window.innerWidth<768;var c=r.tagName==="ION-MODAL"&&r.presentingElement!==undefined;var p=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(r);var u=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});var h=document.body;if(d){var m=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";var g=c?"-10px":m;var f=SwipeToCloseDefaults.MIN_PRESENTING_SCALE;var b="translateY("+g+") scale("+f+")";u.afterStyles({transform:b}).beforeAddWrite((function(){return h.style.setProperty("background-color","black")})).addElement(r).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:b,borderRadius:"10px 10px 0 0"}]);l.addAnimation(u)}else{l.addAnimation(s);if(!c){a.fromTo("opacity","0","1")}else{var f=c?SwipeToCloseDefaults.MIN_PRESENTING_SCALE:1;var b="translateY(-10px) scale("+f+")";u.afterStyles({transform:b}).addElement(p.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:b}]);var v=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().afterStyles({transform:b}).addElement(p.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:b}]);l.addAnimation([u,v])}}}else{l.addAnimation(s)}return l};var createLeaveAnimation$1=function(){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("opacity","var(--backdrop-opacity)",0);var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}};var iosLeaveAnimation$3=function(t,e,r){if(r===void 0){r=500}var i=e.presentingEl,o=e.currentBreakpoint;var n=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var a=o!==undefined?createSheetLeaveAnimation(e):createLeaveAnimation$1(),s=a.wrapperAnimation,l=a.backdropAnimation;l.addElement(n.querySelector("ion-backdrop"));s.addElement(n.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var d=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(r).addAnimation(s);if(i){var c=window.innerWidth<768;var p=i.tagName==="ION-MODAL"&&i.presentingElement!==undefined;var u=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(i);var h=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(t){if(t!==1){return}i.style.setProperty("overflow","");var e=Array.from(m.querySelectorAll("ion-modal")).filter((function(t){return t.presentingElement!==undefined})).length;if(e<=1){m.style.setProperty("background-color","")}}));var m=document.body;if(c){var g=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";var f=p?"-10px":g;var b=SwipeToCloseDefaults.MIN_PRESENTING_SCALE;var v="translateY("+f+") scale("+b+")";h.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]);d.addAnimation(h)}else{d.addAnimation(l);if(!p){s.fromTo("opacity","1","0")}else{var b=p?SwipeToCloseDefaults.MIN_PRESENTING_SCALE:1;var v="translateY(-10px) scale("+b+")";h.addElement(u.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:v},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);var x=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().addElement(u.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:v},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);d.addAnimation([h,x])}}}else{d.addAnimation(l)}return d};var createEnterAnimation=function(){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("opacity",.01,"var(--backdrop-opacity)");var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e}};var mdEnterAnimation$2=function(t,e){var r=e.currentBreakpoint;var i=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var o=r!==undefined?createSheetEnterAnimation(e):createEnterAnimation(),n=o.wrapperAnimation,a=o.backdropAnimation;a.addElement(i.querySelector("ion-backdrop")).beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);n.addElement(i.querySelector(".modal-wrapper"));return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,n])};var createLeaveAnimation=function(){var t=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().fromTo("opacity","var(--backdrop-opacity)",0);var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}};var mdLeaveAnimation$2=function(t,e){var r=e.currentBreakpoint;var i=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var o=r!==undefined?createSheetLeaveAnimation(e):createLeaveAnimation(),n=o.wrapperAnimation,a=o.backdropAnimation;a.addElement(i.querySelector("ion-backdrop"));n.addElement(i.querySelector(".modal-wrapper"));return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,n])};var createSheetGesture=function(t,e,r,i,o,n,a,s,l){if(a===void 0){a=[]}var d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}];var c=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-o,opacity:0},{offset:1,opacity:0}];var p={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:o!==0?c:d};var u=t.querySelector("ion-content");var h=r.clientHeight;var m=i;var g=0;var f=n.childAnimations.find((function(t){return t.id==="wrapperAnimation"}));var b=n.childAnimations.find((function(t){return t.id==="backdropAnimation"}));var v=a[a.length-1];if(f&&b){f.keyframes((0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)([],p.WRAPPER_KEYFRAMES));b.keyframes((0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)([],p.BACKDROP_KEYFRAMES));n.progressStart(true,1-m);var x=m>o;e.style.setProperty("pointer-events",x?"auto":"none")}if(u&&m!==v){u.scrollY=false}var k=function(t){var e=t.event.target.closest("ion-content");if(m===1&&e){return false}return true};var w=function(){if(u){u.scrollY=false}n.progressStart(true,1-m)};var y=function(t){var e=1-m;g=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(1e-4,e+t.deltaY/h,.9999);n.progressStep(g)};var A=function(t){var r=t.velocityY;var i=(t.deltaY+r*100)/h;var d=m-i;var c=a.reduce((function(t,e){return Math.abs(e-d)<Math.abs(t-d)?e:t}));var v=c!==0;m=0;if(f&&b){f.keyframes([{offset:0,transform:"translateY("+g*100+"%)"},{offset:1,transform:"translateY("+(1-c)*100+"%)"}]);b.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * "+getBackdropValueForSheet(1-g,o)+")"},{offset:1,opacity:"calc(var(--backdrop-opacity) * "+getBackdropValueForSheet(c,o)+")"}]);n.progressStep(0)}E.enable(false);n.onFinish((function(){if(v){if(f&&b){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)((function(){f.keyframes((0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)([],p.WRAPPER_KEYFRAMES));b.keyframes((0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)([],p.BACKDROP_KEYFRAMES));n.progressStart(true,1-c);m=c;l(m);if(u&&m===a[a.length-1]){u.scrollY=true}var t=m>o;e.style.setProperty("pointer-events",t?"auto":"none");E.enable(true)}))}else{E.enable(true)}}}),{oneTimeCallback:true}).progressEnd(1,0,500);if(!v){s()}};var E=(0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({el:r,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:k,onStart:w,onMove:y,onEnd:A});return E};var modalIosCss=":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}";var modalMdCss=":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";var Modal=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionModalDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionModalWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionModalWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionModalDidDismiss",7);this.didPresentShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"didPresent",7);this.willPresentShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"willPresent",7);this.willDismissShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"willDismiss",7);this.didDismissShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"didDismiss",7);this.modalIndex=modalIds++;this.coreDelegate=(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.C)();this.isSheetModal=false;this.inline=false;this.gestureAnimationDismissing=false;this.presented=false;this.hasController=false;this.keyboardClose=true;this.backdropBreakpoint=0;this.backdropDismiss=true;this.showBackdrop=true;this.animated=true;this.swipeToClose=false;this.isOpen=false;this.configureTriggerInteraction=function(){var t=e,r=t.trigger,i=t.el,o=t.destroyTriggerInteraction;if(o){o()}var n=r!==undefined?document.getElementById(r):null;if(!n){return}var a=function(t,e){var r=function(){e.present()};t.addEventListener("click",r);return function(){t.removeEventListener("click",r)}};e.destroyTriggerInteraction=a(n,i)};this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)};this.onDismiss=function(t){t.stopPropagation();t.preventDefault();e.dismiss()};this.onLifecycle=function(t){var r=e.usersElement;var i=LIFECYCLE_MAP$1[t.type];if(r&&i){var o=new CustomEvent(i,{bubbles:false,cancelable:false,detail:t.detail});r.dispatchEvent(o)}}}t.prototype.onIsOpenChange=function(t,e){if(t===true&&e===false){this.present()}else if(t===false&&e===true){this.dismiss()}};t.prototype.onTriggerChange=function(){this.configureTriggerInteraction()};t.prototype.swipeToCloseChanged=function(t){if(this.gesture){this.gesture.enable(t)}else if(t){this.initSwipeToClose()}};t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.componentWillLoad=function(){var t=this,e=t.breakpoints,r=t.initialBreakpoint;this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-modal-"+this.modalIndex;this.isSheetModal=e!==undefined&&r!==undefined;if(e!==undefined&&r!==undefined&&!e.includes(r)){console.warn("[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.")}};t.prototype.componentDidLoad=function(){var t=this;if(this.isOpen===true){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)((function(){return t.present()}))}this.configureTriggerInteraction()};t.prototype.getDelegate=function(t){if(t===void 0){t=false}if(this.workingDelegate&&!t){return{delegate:this.workingDelegate,inline:this.inline}}var e=this.el.parentNode;var r=this.inline=e!==null&&!this.hasController;var i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}};t.prototype.present=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var t,e,r,i,o;var n=this;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(a){switch(a.label){case 0:if(this.presented){return[2]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:a.sent();a.label=2;case 2:t=Object.assign(Object.assign({},this.componentProps),{modal:this.el});e=this.getDelegate(true),r=e.inline,i=e.delegate;o=this;return[4,(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.a)(i,this.el,this.component,["ion-page"],t,r)];case 3:o.usersElement=a.sent();return[4,(0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__.e)(this.usersElement)];case 4:a.sent();(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)((function(){return n.el.classList.add("show-modal")}));this.currentTransition=present(this,"modalEnter",iosEnterAnimation$3,mdEnterAnimation$2,{presentingEl:this.presentingElement,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});return[4,this.currentTransition];case 5:a.sent();if(this.isSheetModal){this.initSheetGesture()}else if(this.swipeToClose){this.initSwipeToClose()}this.currentTransition=undefined;return[2]}}))}))};t.prototype.initSwipeToClose=function(){var t=this;if((0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this)!=="ios"){return}var e=this.leaveAnimation||_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get("modalLeave",iosLeaveAnimation$3);var r=this.animation=e(this.el,{presentingEl:this.presentingElement});this.gesture=createSwipeToCloseGesture(this.el,r,(function(){t.gestureAnimationDismissing=true;t.animation.onFinish((function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(t,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.dismiss(undefined,"gesture")];case 1:t.sent();this.gestureAnimationDismissing=false;return[2]}}))}))}))}));this.gesture.enable(true)};t.prototype.initSheetGesture=function(){var t=this;var e;var r=this,i=r.wrapperEl,o=r.initialBreakpoint,n=r.backdropBreakpoint;if(!i||o===undefined){return}var a=this.enterAnimation||_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get("modalEnter",iosEnterAnimation$3);var s=this.animation=a(this.el,{presentingEl:this.presentingElement,currentBreakpoint:o,backdropBreakpoint:n});s.progressStart(true,1);var l=((e=this.breakpoints)===null||e===void 0?void 0:e.sort((function(t,e){return t-e})))||[];this.gesture=createSheetGesture(this.el,this.backdropEl,i,o,n,s,l,(function(){t.gestureAnimationDismissing=true;t.animation.onFinish((function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(t,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.dismiss(undefined,"gesture")];case 1:t.sent();this.gestureAnimationDismissing=false;return[2]}}))}))}))}),(function(e){t.currentBreakpoint=e}));this.gesture.enable(true)};t.prototype.dismiss=function(t,e){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(n){switch(n.label){case 0:if(this.gestureAnimationDismissing&&e!=="gesture"){return[2,false]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:n.sent();n.label=2;case 2:r=activeAnimations.get(this)||[];this.currentTransition=dismiss(this,t,e,"modalLeave",iosLeaveAnimation$3,mdLeaveAnimation$2,{presentingEl:this.presentingElement,currentBreakpoint:this.currentBreakpoint||this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});return[4,this.currentTransition];case 3:i=n.sent();if(!i)return[3,5];o=this.getDelegate().delegate;return[4,(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.d)(o,this.usersElement)];case 4:n.sent();if(this.animation){this.animation.destroy()}if(this.gesture){this.gesture.destroy()}r.forEach((function(t){return t.destroy()}));n.label=5;case 5:this.currentTransition=undefined;this.animation=undefined;return[2,i]}}))}))};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionModalDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionModalWillDismiss")};t.prototype.render=function(){var t;var e=this;var r=this,i=r.handle,o=r.isSheetModal,n=r.presentingElement,a=r.htmlAttributes;var s=i!==false&&o;var l=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var d=this,c=d.presented,p=d.modalId;var u=n!==undefined&&l==="ios";return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({"no-router":true,"aria-modal":"true",tabindex:"-1"},a,{style:{zIndex:""+(2e4+this.overlayIndex)},class:Object.assign((t={},t[l]=true,t["modal-default"]=!u&&!o,t["modal-card"]=u,t["modal-sheet"]=o,t["overlay-hidden"]=true,t["modal-interactive"]=c,t),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),id:p,onIonBackdropTap:this.onBackdropTap,onIonDismiss:this.onDismiss,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{ref:function(t){return e.backdropEl=t},visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),l==="ios"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"modal-shadow"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{role:"dialog",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:function(t){return e.wrapperEl=t}},s&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"modal-handle",part:"handle"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",null)))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{isOpen:["onIsOpenChange"],trigger:["onTriggerChange"],swipeToClose:["swipeToCloseChanged"]}},enumerable:false,configurable:true});return t}();var LIFECYCLE_MAP$1={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};var modalIds=0;Modal.style={ios:modalIosCss,md:modalMdCss};var iosEnterAnimation$2=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);i.addElement(t.querySelector(".picker-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([r,i])};var iosLeaveAnimation$2=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();r.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",.01);i.addElement(t.querySelector(".picker-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)");return e.addElement(t).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([r,i])};var pickerIosCss=".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}";var pickerMdCss=".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}";var Picker=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPickerDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPickerWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPickerWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPickerDidDismiss",7);this.presented=false;this.keyboardClose=true;this.buttons=[];this.columns=[];this.duration=0;this.showBackdrop=true;this.backdropDismiss=true;this.animated=true;this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)};this.dispatchCancelHandler=function(t){var r=t.detail.role;if(isCancel(r)){var i=e.buttons.find((function(t){return t.role==="cancel"}));e.callButtonHandler(i)}}}t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.present=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var t=this;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(e){switch(e.label){case 0:return[4,present(this,"pickerEnter",iosEnterAnimation$2,iosEnterAnimation$2,undefined)];case 1:e.sent();if(this.duration>0){this.durationTimeout=setTimeout((function(){return t.dismiss()}),this.duration)}return[2]}}))}))};t.prototype.dismiss=function(t,e){if(this.durationTimeout){clearTimeout(this.durationTimeout)}return dismiss(this,t,e,"pickerLeave",iosLeaveAnimation$2,iosLeaveAnimation$2)};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionPickerDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionPickerWillDismiss")};t.prototype.getColumn=function(t){return Promise.resolve(this.columns.find((function(e){return e.name===t})))};t.prototype.buttonClick=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(i){switch(i.label){case 0:e=t.role;if(isCancel(e)){return[2,this.dismiss(undefined,e)]}return[4,this.callButtonHandler(t)];case 1:r=i.sent();if(r){return[2,this.dismiss(this.getSelected(),t.role)]}return[2,Promise.resolve()]}}))}))};t.prototype.callButtonHandler=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(r){switch(r.label){case 0:if(!t)return[3,2];return[4,safeCall(t.handler,this.getSelected())];case 1:e=r.sent();if(e===false){return[2,false]}r.label=2;case 2:return[2,true]}}))}))};t.prototype.getSelected=function(){var t={};this.columns.forEach((function(e,r){var i=e.selectedIndex!==undefined?e.options[e.selectedIndex]:undefined;t[e.name]={text:i?i.text:undefined,value:i?i.value:undefined,columnIndex:r}}));return t};t.prototype.render=function(){var t;var e=this;var r=this.htmlAttributes;var i=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({"aria-modal":"true",tabindex:"-1"},r,{style:{zIndex:""+(2e4+this.overlayIndex)},class:Object.assign((t={},t[i]=true,t["picker-"+i]=true,t["overlay-hidden"]=true,t),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonPickerWillDismiss:this.dispatchCancelHandler}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"picker-wrapper ion-overlay-wrapper",role:"dialog"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"picker-toolbar"},this.buttons.map((function(t){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:buttonWrapperClass(t)},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",onClick:function(){return e.buttonClick(t)},class:buttonClass$1(t)},t.text))}))),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"picker-columns"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"picker-above-highlight"}),this.presented&&this.columns.map((function(t){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-picker-column",{col:t})})),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"picker-below-highlight"}))),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{tabindex:"0"}))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});return t}();var buttonWrapperClass=function(t){var e;return e={},e["picker-toolbar-"+t.role]=t.role!==undefined,e["picker-toolbar-button"]=true,e};var buttonClass$1=function(t){return Object.assign({"picker-button":true,"ion-activatable":true},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.cssClass))};Picker.style={ios:pickerIosCss,md:pickerMdCss};var getArrowDimensions=function(t){if(!t){return{arrowWidth:0,arrowHeight:0}}var e=t.getBoundingClientRect(),r=e.width,i=e.height;return{arrowWidth:r,arrowHeight:i}};var getPopoverDimensions=function(t,e,r){var i=e.getBoundingClientRect();var o=i.height;var n=i.width;if(t==="cover"&&r){var a=r.getBoundingClientRect();n=a.width}return{contentWidth:n,contentHeight:o}};var configureDismissInteraction=function(t,e,r,i){var o=[];var n=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(i);var a=n.querySelector(".popover-content");switch(e){case"hover":o=[{eventName:"mouseenter",callback:function(e){var i=document.elementFromPoint(e.clientX,e.clientY);if(i===t){return}r.dismiss(undefined,undefined,false)}}];break;case"context-menu":case"click":default:o=[{eventName:"click",callback:function(e){var i=e.target;var o=i.closest("[data-ion-popover-trigger]");if(o===t){e.stopPropagation();return}r.dismiss(undefined,undefined,false)}}];break}o.forEach((function(t){var e=t.eventName,r=t.callback;return a.addEventListener(e,r)}));return function(){o.forEach((function(t){var e=t.eventName,r=t.callback;return a.removeEventListener(e,r)}))}};var configureTriggerInteraction=function(t,e,r){var i=[];switch(e){case"hover":var o;i=[{eventName:"mouseenter",callback:function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(e){t.stopPropagation();if(o){clearTimeout(o)}o=setTimeout((function(){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)((function(){r.presentFromTrigger(t);o=undefined}))}),100);return[2]}))}))}},{eventName:"mouseleave",callback:function(t){if(o){clearTimeout(o)}var e=t.relatedTarget;if(!e){return}if(e.closest("ion-popover")!==r){r.dismiss(undefined,undefined,false)}}},{eventName:"click",callback:function(t){return t.stopPropagation()}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return r.presentFromTrigger(t,true)}}];break;case"context-menu":i=[{eventName:"contextmenu",callback:function(t){t.preventDefault();r.presentFromTrigger(t)}},{eventName:"click",callback:function(t){return t.stopPropagation()}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return r.presentFromTrigger(t,true)}}];break;case"click":default:i=[{eventName:"click",callback:function(t){return r.presentFromTrigger(t)}},{eventName:"ionPopoverActivateTrigger",callback:function(t){return r.presentFromTrigger(t,true)}}];break}i.forEach((function(e){var r=e.eventName,i=e.callback;return t.addEventListener(r,i)}));t.setAttribute("data-ion-popover-trigger","true");return function(){i.forEach((function(e){var r=e.eventName,i=e.callback;return t.removeEventListener(r,i)}));t.removeAttribute("data-ion-popover-trigger")}};var getIndexOfItem=function(t,e){if(!e||e.tagName!=="ION-ITEM"){return-1}return t.findIndex((function(t){return t===e}))};var getNextItem=function(t,e){var r=getIndexOfItem(t,e);return t[r+1]};var getPrevItem=function(t,e){var r=getIndexOfItem(t,e);return t[r-1]};var focusItem=function(t){var e=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var r=e.querySelector("button");if(r){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)((function(){return r.focus()}))}};var isTriggerElement=function(t){return t.hasAttribute("data-ion-popover-trigger")};var configureKeyboardInteraction=function(t){var e=function(e){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,n,a,s,l,d,c;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(p){switch(p.label){case 0:r=document.activeElement;i=[];try{i=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch(t){}o=e.key;switch(o){case"ArrowLeft":return[3,1];case"ArrowDown":return[3,3];case"ArrowUp":return[3,4];case"Home":return[3,5];case"End":return[3,6];case"ArrowRight":return[3,7];case" ":return[3,7];case"Enter":return[3,7]}return[3,8];case 1:return[4,t.getParentPopover()];case 2:n=p.sent();if(n){t.dismiss(undefined,undefined,false)}return[3,8];case 3:e.preventDefault();a=getNextItem(i,r);if(a!==undefined){focusItem(a)}return[3,8];case 4:e.preventDefault();s=getPrevItem(i,r);if(s!==undefined){focusItem(s)}return[3,8];case 5:e.preventDefault();l=i[0];if(l!==undefined){focusItem(l)}return[3,8];case 6:e.preventDefault();d=i[i.length-1];if(d!==undefined){focusItem(d)}return[3,8];case 7:if(r&&isTriggerElement(r)){c=new CustomEvent("ionPopoverActivateTrigger");r.dispatchEvent(c)}return[3,8];case 8:return[2]}}))}))};t.addEventListener("keydown",e);return function(){return t.removeEventListener("keydown",e)}};var getPopoverPosition=function(t,e,r,i,o,n,a,s,l,d,c){var p;var u={top:0,left:0,width:0,height:0};switch(n){case"event":if(!c){return l}var h=c;u={top:h.clientY,left:h.clientX,width:1,height:1};break;case"trigger":default:var m=c;var g=d||((p=m===null||m===void 0?void 0:m.detail)===null||p===void 0?void 0:p.ionShadowTarget)||(m===null||m===void 0?void 0:m.target);if(!g){return l}var f=g.getBoundingClientRect();u={top:f.top,left:f.left,width:f.width,height:f.height};break}var b=calculatePopoverSide(a,u,e,r,i,o,t);var v=calculatePopoverAlign(s,a,u,e,r);var x=b.top+v.top;var k=b.left+v.left;var w=calculateArrowPosition(a,i,o,x,k,e,r,t),y=w.arrowTop,A=w.arrowLeft;var E=calculatePopoverOrigin(a,s,t),C=E.originX,D=E.originY;return{top:x,left:k,referenceCoordinates:u,arrowTop:y,arrowLeft:A,originX:C,originY:D}};var calculatePopoverOrigin=function(t,e,r){switch(t){case"top":return{originX:getOriginXAlignment(e),originY:"bottom"};case"bottom":return{originX:getOriginXAlignment(e),originY:"top"};case"left":return{originX:"right",originY:getOriginYAlignment(e)};case"right":return{originX:"left",originY:getOriginYAlignment(e)};case"start":return{originX:r?"left":"right",originY:getOriginYAlignment(e)};case"end":return{originX:r?"right":"left",originY:getOriginYAlignment(e)}}};var getOriginXAlignment=function(t){switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}};var getOriginYAlignment=function(t){switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}};var calculateArrowPosition=function(t,e,r,i,o,n,a,s){var l={arrowTop:i+a/2-e/2,arrowLeft:o+n-e/2};var d={arrowTop:i+a/2-e/2,arrowLeft:o-e*1.5};switch(t){case"top":return{arrowTop:i+a,arrowLeft:o+n/2-e/2};case"bottom":return{arrowTop:i-r,arrowLeft:o+n/2-e/2};case"left":return l;case"right":return d;case"start":return s?d:l;case"end":return s?l:d;default:return{arrowTop:0,arrowLeft:0}}};var calculatePopoverSide=function(t,e,r,i,o,n,a){var s={top:e.top,left:e.left-r-o};var l={top:e.top,left:e.left+e.width+o};switch(t){case"top":return{top:e.top-i-n,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+n,left:e.left};case"left":return s;case"start":return a?l:s;case"end":return a?s:l}};var calculatePopoverAlign=function(t,e,r,i,o){switch(t){case"center":return calculatePopoverCenterAlign(e,r,i,o);case"end":return calculatePopoverEndAlign(e,r,i,o);case"start":default:return{top:0,left:0}}};var calculatePopoverEndAlign=function(t,e,r,i){switch(t){case"start":case"end":case"left":case"right":return{top:-(i-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(r-e.width)}}};var calculatePopoverCenterAlign=function(t,e,r,i){switch(t){case"start":case"end":case"left":case"right":return{top:-(i/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(r/2-e.width/2)}}};var calculateWindowAdjustment=function(t,e,r,i,o,n,a,s,l,d,c,p,u,h,m){if(u===void 0){u=0}if(h===void 0){h=0}if(m===void 0){m=0}var g=u;var f=h;var b=r;var v=e;var x;var k=d;var w=c;var y=false;var A=false;var E=p?p.top+p.height:n/2-s/2;var C=p?p.height:0;var D=false;if(b<i+l){b=i;y=true;k="left"}else if(a+i+b+l>o){A=true;b=o-a-i;k="right"}if(E+C+s>n&&(t==="top"||t==="bottom")){if(E-s>0){v=E-s-C-(m-1);g=v+s;w="bottom";D=true}else{x=i}}return{top:v,left:b,bottom:x,originX:k,originY:w,checkSafeAreaLeft:y,checkSafeAreaRight:A,arrowTop:g,arrowLeft:f,addPopoverBottomClass:D}};var shouldShowArrow=function(t,e,r,i){if(e===void 0){e=false}if(!r&&!i){return false}if(t!=="top"&&t!=="bottom"&&e){return false}return true};var POPOVER_IOS_BODY_PADDING=5;var iosEnterAnimation$1=function(t,e){var r;var i=e.event,o=e.size,n=e.trigger,a=e.reference,s=e.side,l=e.align;var d=t.ownerDocument;var c=d.dir==="rtl";var p=d.defaultView.innerWidth;var u=d.defaultView.innerHeight;var h=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var m=h.querySelector(".popover-content");var g=h.querySelector(".popover-arrow");var f=n||((r=i===null||i===void 0?void 0:i.detail)===null||r===void 0?void 0:r.ionShadowTarget)||(i===null||i===void 0?void 0:i.target);var b=getPopoverDimensions(o,m,f),v=b.contentWidth,x=b.contentHeight;var k=getArrowDimensions(g),w=k.arrowWidth,y=k.arrowHeight;var A={top:u/2-x/2,left:p/2-v/2,originX:c?"right":"left",originY:"top"};var E=getPopoverPosition(c,v,x,w,y,a,s,l,A,n,i);var C=o==="cover"?0:POPOVER_IOS_BODY_PADDING;var D=o==="cover"?0:25;var S=calculateWindowAdjustment(s,E.top,E.left,C,p,u,v,x,D,E.originX,E.originY,E.referenceCoordinates,E.arrowTop,E.arrowLeft,y),P=S.originX,T=S.originY,I=S.top,z=S.left,_=S.bottom,O=S.checkSafeAreaLeft,L=S.checkSafeAreaRight,M=S.arrowTop,B=S.arrowLeft,Y=S.addPopoverBottomClass;var j=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var R=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var W=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();R.addElement(h.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);W.addElement(h.querySelector(".popover-wrapper")).fromTo("opacity",.01,1);return j.easing("ease").duration(100).beforeAddWrite((function(){if(o==="cover"){t.style.setProperty("--width",v+"px")}if(Y){t.classList.add("popover-bottom")}if(_!==undefined){m.style.setProperty("bottom",_+"px")}var e=" + var(--ion-safe-area-left, 0)";var r=" - var(--ion-safe-area-right, 0)";var a=z+"px";if(O){a=z+"px"+e}if(L){a=z+"px"+r}m.style.setProperty("top","calc("+I+"px + var(--offset-y, 0))");m.style.setProperty("left","calc("+a+" + var(--offset-x, 0))");m.style.setProperty("transform-origin",T+" "+P);if(g!==null){var l=E.top!==I||E.left!==z;var d=shouldShowArrow(s,l,i,n);if(d){g.style.setProperty("top","calc("+M+"px + var(--offset-y, 0))");g.style.setProperty("left","calc("+B+"px + var(--offset-x, 0))")}else{g.style.setProperty("display","none")}}})).addAnimation([R,W])};var iosLeaveAnimation$1=function(t){var e=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var r=e.querySelector(".popover-content");var i=e.querySelector(".popover-arrow");var o=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var n=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var a=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);a.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0);return o.easing("ease").afterAddWrite((function(){t.style.removeProperty("--width");t.classList.remove("popover-bottom");r.style.removeProperty("top");r.style.removeProperty("left");r.style.removeProperty("bottom");r.style.removeProperty("transform-origin");if(i){i.style.removeProperty("top");i.style.removeProperty("left");i.style.removeProperty("display")}})).duration(300).addAnimation([n,a])};var POPOVER_MD_BODY_PADDING=12;var mdEnterAnimation$1=function(t,e){var r;var i=e.event,o=e.size,n=e.trigger,a=e.reference,s=e.side,l=e.align;var d=t.ownerDocument;var c=d.dir==="rtl";var p=d.defaultView.innerWidth;var u=d.defaultView.innerHeight;var h=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var m=h.querySelector(".popover-content");var g=n||((r=i===null||i===void 0?void 0:i.detail)===null||r===void 0?void 0:r.ionShadowTarget)||(i===null||i===void 0?void 0:i.target);var f=getPopoverDimensions(o,m,g),b=f.contentWidth,v=f.contentHeight;var x={top:u/2-v/2,left:p/2-b/2,originX:c?"right":"left",originY:"top"};var k=getPopoverPosition(c,b,v,0,0,a,s,l,x,n,i);var w=o==="cover"?0:POPOVER_MD_BODY_PADDING;var y=calculateWindowAdjustment(s,k.top,k.left,w,p,u,b,v,0,k.originX,k.originY,k.referenceCoordinates),A=y.originX,E=y.originY,C=y.top,D=y.left,S=y.bottom;var P=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var T=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var I=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var z=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var _=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();T.addElement(h.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);I.addElement(h.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1);z.addElement(m).beforeStyles({top:"calc("+C+"px + var(--offset-y, 0px))",left:"calc("+D+"px + var(--offset-x, 0px))","transform-origin":E+" "+A}).beforeAddWrite((function(){if(S!==undefined){m.style.setProperty("bottom",S+"px")}})).fromTo("transform","scale(0.8)","scale(1)");_.addElement(h.querySelector(".popover-viewport")).fromTo("opacity",.01,1);return P.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite((function(){if(o==="cover"){t.style.setProperty("--width",b+"px")}if(E==="bottom"){t.classList.add("popover-bottom")}})).addAnimation([T,I,z,_])};var mdLeaveAnimation$1=function(t){var e=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var r=e.querySelector(".popover-content");var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var o=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var n=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0);n.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0);return i.easing("ease").afterAddWrite((function(){t.style.removeProperty("--width");t.classList.remove("popover-bottom");r.style.removeProperty("top");r.style.removeProperty("left");r.style.removeProperty("bottom");r.style.removeProperty("transform-origin")})).duration(150).addAnimation([o,n])};var popoverIosCss=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}';var popoverMdCss=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}";var Popover=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPopoverDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPopoverWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPopoverWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionPopoverDidDismiss",7);this.didPresentShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"didPresent",7);this.willPresentShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"willPresent",7);this.willDismissShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"willDismiss",7);this.didDismissShorthand=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"didDismiss",7);this.parentPopover=null;this.popoverIndex=popoverIds++;this.coreDelegate=(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.C)();this.inline=false;this.focusDescendantOnPresent=false;this.presented=false;this.hasController=false;this.keyboardClose=true;this.backdropDismiss=true;this.showBackdrop=true;this.translucent=false;this.animated=true;this.triggerAction="click";this.size="auto";this.dismissOnSelect=false;this.reference="trigger";this.side="bottom";this.alignment="start";this.arrow=true;this.isOpen=false;this.keyboardEvents=false;this.onDismiss=function(t){t.stopPropagation();t.preventDefault();e.dismiss()};this.onBackdropTap=function(){e.dismiss(undefined,BACKDROP)};this.onLifecycle=function(t){var r=e.usersElement;var i=LIFECYCLE_MAP[t.type];if(r&&i){var o=new CustomEvent(i,{bubbles:false,cancelable:false,detail:t.detail});r.dispatchEvent(o)}};this.configureTriggerInteraction=function(){var t=e,r=t.trigger,i=t.triggerAction,o=t.el,n=t.destroyTriggerInteraction;if(n){n()}var a=e.triggerEl=r!==undefined?document.getElementById(r):null;if(!a){return}e.destroyTriggerInteraction=configureTriggerInteraction(a,i,o)};this.configureKeyboardInteraction=function(){var t=e,r=t.destroyKeyboardInteraction,i=t.el;if(r){r()}e.destroyKeyboardInteraction=configureKeyboardInteraction(i)};this.configureDismissInteraction=function(){var t=e,r=t.destroyDismissInteraction,i=t.parentPopover,o=t.triggerAction,n=t.triggerEl,a=t.el;if(!i||!n){return}if(r){r()}e.destroyDismissInteraction=configureDismissInteraction(n,o,a,i)}}t.prototype.onTriggerChange=function(){this.configureTriggerInteraction()};t.prototype.onIsOpenChange=function(t,e){if(t===true&&e===false){this.present()}else if(t===false&&e===true){this.dismiss()}};t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.componentWillLoad=function(){this.popoverId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-popover-"+this.popoverIndex;this.parentPopover=this.el.closest("ion-popover:not(#"+this.popoverId+")")};t.prototype.componentDidLoad=function(){var t=this;var e=this,r=e.parentPopover,i=e.isOpen;if(i===true){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)((function(){return t.present()}))}if(r){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.a)(r,"ionPopoverWillDismiss",(function(){t.dismiss(undefined,undefined,false)}))}this.configureTriggerInteraction()};t.prototype.presentFromTrigger=function(t,e){if(e===void 0){e=false}return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(r){switch(r.label){case 0:this.focusDescendantOnPresent=e;return[4,this.present(t)];case 1:r.sent();this.focusDescendantOnPresent=false;return[2]}}))}))};t.prototype.getDelegate=function(t){if(t===void 0){t=false}if(this.workingDelegate&&!t){return{delegate:this.workingDelegate,inline:this.inline}}var e=this.el.parentNode;var r=this.inline=e!==null&&!this.hasController;var i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}};t.prototype.present=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,n;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(a){switch(a.label){case 0:if(this.presented){return[2]}if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:a.sent();a.label=2;case 2:e=Object.assign(Object.assign({},this.componentProps),{popover:this.el});r=this.getDelegate(true),i=r.inline,o=r.delegate;n=this;return[4,(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.a)(o,this.el,this.component,["popover-viewport"],e,i)];case 3:n.usersElement=a.sent();return[4,(0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__.e)(this.usersElement)];case 4:a.sent();if(!this.keyboardEvents){this.configureKeyboardInteraction()}this.configureDismissInteraction();this.currentTransition=present(this,"popoverEnter",iosEnterAnimation$1,mdEnterAnimation$1,{event:t||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment});return[4,this.currentTransition];case 5:a.sent();this.currentTransition=undefined;if(this.focusDescendantOnPresent){focusFirstDescendant(this.el,this.el)}return[2]}}))}))};t.prototype.dismiss=function(t,e,r){if(r===void 0){r=true}return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var i,o,n,a,s;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(l){switch(l.label){case 0:if(!(this.currentTransition!==undefined))return[3,2];return[4,this.currentTransition];case 1:l.sent();l.label=2;case 2:i=this,o=i.destroyKeyboardInteraction,n=i.destroyDismissInteraction;if(r&&this.parentPopover){this.parentPopover.dismiss(t,e,r)}this.currentTransition=dismiss(this,t,e,"popoverLeave",iosLeaveAnimation$1,mdLeaveAnimation$1,this.event);return[4,this.currentTransition];case 3:a=l.sent();if(!a)return[3,5];if(o){o();this.destroyKeyboardInteraction=undefined}if(n){n();this.destroyDismissInteraction=undefined}s=this.getDelegate().delegate;return[4,(0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.d)(s,this.usersElement)];case 4:l.sent();l.label=5;case 5:this.currentTransition=undefined;return[2,a]}}))}))};t.prototype.getParentPopover=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(t){return[2,this.parentPopover]}))}))};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionPopoverDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionPopoverWillDismiss")};t.prototype.render=function(){var t;var e=this;var r=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var i=this,o=i.onLifecycle,n=i.popoverId,a=i.parentPopover,s=i.dismissOnSelect,l=i.presented,d=i.side,c=i.arrow,p=i.htmlAttributes;var u=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.a)("desktop");var m=c&&!a&&!u;return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({"aria-modal":"true","no-router":true,tabindex:"-1"},p,{style:{zIndex:""+(2e4+this.overlayIndex)},id:n,class:Object.assign(Object.assign({},(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),(t={},t[r]=true,t["popover-translucent"]=this.translucent,t["overlay-hidden"]=true,t["popover-interactive"]=l,t["popover-desktop"]=u,t["popover-side-"+d]=true,t["popover-nested"]=!!a,t)),onIonPopoverDidPresent:o,onIonPopoverWillPresent:o,onIonPopoverWillDismiss:o,onIonPopoverDidDismiss:o,onIonDismiss:this.onDismiss,onIonBackdropTap:this.onBackdropTap}),!a&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop",{tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"popover-wrapper ion-overlay-wrapper",onClick:s?function(){return e.dismiss()}:undefined},m&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"popover-arrow",part:"arrow"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"popover-content",part:"content"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",null))))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}},enumerable:false,configurable:true});return t}();var LIFECYCLE_MAP={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};var popoverIds=0;Popover.style={ios:popoverIosCss,md:popoverMdCss};var iosEnterAnimation=function(t,e){var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var o=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var n=o.querySelector(".toast-wrapper");var a="calc(-10px - var(--ion-safe-area-bottom, 0px))";var s="calc(10px + var(--ion-safe-area-top, 0px))";i.addElement(n);switch(e){case"top":i.fromTo("transform","translateY(-100%)","translateY("+s+")");break;case"middle":var l=Math.floor(t.clientHeight/2-n.clientHeight/2);n.style.top=l+"px";i.fromTo("opacity",.01,1);break;default:i.fromTo("transform","translateY(100%)","translateY("+a+")");break}return r.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(i)};var iosLeaveAnimation=function(t,e){var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var o=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var n=o.querySelector(".toast-wrapper");var a="calc(-10px - var(--ion-safe-area-bottom, 0px))";var s="calc(10px + var(--ion-safe-area-top, 0px))";i.addElement(n);switch(e){case"top":i.fromTo("transform","translateY("+s+")","translateY(-100%)");break;case"middle":i.fromTo("opacity",.99,0);break;default:i.fromTo("transform","translateY("+a+")","translateY(100%)");break}return r.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(i)};var mdEnterAnimation=function(t,e){var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var o=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var n=o.querySelector(".toast-wrapper");var a="calc(8px + var(--ion-safe-area-bottom, 0px))";var s="calc(8px + var(--ion-safe-area-top, 0px))";i.addElement(n);switch(e){case"top":n.style.top=s;i.fromTo("opacity",.01,1);break;case"middle":var l=Math.floor(t.clientHeight/2-n.clientHeight/2);n.style.top=l+"px";i.fromTo("opacity",.01,1);break;default:n.style.bottom=a;i.fromTo("opacity",.01,1);break}return r.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(i)};var mdLeaveAnimation=function(t){var e=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var r=(0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();var i=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(t);var o=i.querySelector(".toast-wrapper");r.addElement(o).fromTo("opacity",.99,0);return e.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)};var toastIosCss=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}";var toastMdCss=":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}";var Toast=function(){function t(t){var e=this;(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,t);this.didPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionToastDidPresent",7);this.willPresent=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionToastWillPresent",7);this.willDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionToastWillDismiss",7);this.didDismiss=(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this,"ionToastDidDismiss",7);this.presented=false;this.duration=0;this.keyboardClose=false;this.position="bottom";this.translucent=false;this.animated=true;this.dispatchCancelHandler=function(t){var r=t.detail.role;if(isCancel(r)){var i=e.getButtons().find((function(t){return t.role==="cancel"}));e.callButtonHandler(i)}}}t.prototype.connectedCallback=function(){prepareOverlay(this.el)};t.prototype.present=function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var t=this;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(e){switch(e.label){case 0:return[4,present(this,"toastEnter",iosEnterAnimation,mdEnterAnimation,this.position)];case 1:e.sent();if(this.duration>0){this.durationTimeout=setTimeout((function(){return t.dismiss(undefined,"timeout")}),this.duration)}return[2]}}))}))};t.prototype.dismiss=function(t,e){if(this.durationTimeout){clearTimeout(this.durationTimeout)}return dismiss(this,t,e,"toastLeave",iosLeaveAnimation,mdLeaveAnimation,this.position)};t.prototype.onDidDismiss=function(){return eventMethod(this.el,"ionToastDidDismiss")};t.prototype.onWillDismiss=function(){return eventMethod(this.el,"ionToastWillDismiss")};t.prototype.getButtons=function(){var t=this.buttons?this.buttons.map((function(t){return typeof t==="string"?{text:t}:t})):[];return t};t.prototype.buttonClick=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(i){switch(i.label){case 0:e=t.role;if(isCancel(e)){return[2,this.dismiss(undefined,e)]}return[4,this.callButtonHandler(t)];case 1:r=i.sent();if(r){return[2,this.dismiss(undefined,e)]}return[2,Promise.resolve()]}}))}))};t.prototype.callButtonHandler=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){var e,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(i){switch(i.label){case 0:if(!(t&&t.handler))return[3,4];i.label=1;case 1:i.trys.push([1,3,,4]);return[4,safeCall(t.handler)];case 2:e=i.sent();if(e===false){return[2,false]}return[3,4];case 3:r=i.sent();console.error(r);return[3,4];case 4:return[2,true]}}))}))};t.prototype.renderButtons=function(t,e){var r;var i=this;if(t.length===0){return}var o=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var n=(r={"toast-button-group":true},r["toast-button-group-"+e]=true,r);return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:n},t.map((function(t){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{type:"button",class:buttonClass(t),tabIndex:0,onClick:function(){return i.buttonClick(t)},part:"button"},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"toast-button-inner"},t.icon&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon",{icon:t.icon,slot:t.text===undefined?"icon-only":undefined,class:"toast-button-icon"}),t.text),o==="md"&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect",{type:t.icon!==undefined&&t.text===undefined?"unbounded":"bounded"}))})))};t.prototype.render=function(){var t,e;var r=this.getButtons();var i=r.filter((function(t){return t.side==="start"}));var o=r.filter((function(t){return t.side!=="start"}));var n=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);var a=(t={"toast-wrapper":true},t["toast-"+this.position]=true,t);var s=r.length>0?"dialog":"status";return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H,Object.assign({role:s,tabindex:"-1"},this.htmlAttributes,{style:{zIndex:""+(6e4+this.overlayIndex)},class:(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.color,Object.assign(Object.assign((e={},e[n]=true,e),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)),{"overlay-hidden":true,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:a},(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"toast-container",part:"container"},this.renderButtons(i,"start"),this.icon!==undefined&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:false,"aria-hidden":"true"}),(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"toast-content"},this.header!==undefined&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"toast-header",part:"header"},this.header),this.message!==undefined&&(0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"toast-message",part:"message",innerHTML:(0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(this.message)})),this.renderButtons(o,"end"))))};Object.defineProperty(t.prototype,"el",{get:function(){return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this)},enumerable:false,configurable:true});return t}();var buttonClass=function(t){var e;return Object.assign((e={"toast-button":true,"toast-button-icon-only":t.icon!==undefined&&t.text===undefined},e["toast-button-"+t.role]=t.role!==undefined,e["ion-focusable"]=true,e["ion-activatable"]=true,e),(0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(t.cssClass))};Toast.style={ios:toastIosCss,md:toastMdCss};var lastId=0;var activeAnimations=new WeakMap;var createController=function(t,e){return{create:function(r){return createOverlay(t,r,e)},dismiss:function(e,r,i){return dismissOverlay(document,e,r,t,i)},getTop:function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(this,void 0,void 0,(function(){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(e){return[2,getOverlay(document,t)]}))}))}}};var alertController=createController("ion-alert",Alert);var actionSheetController=createController("ion-action-sheet",ActionSheet);var loadingController=createController("ion-loading",Loading);var modalController=createController("ion-modal",Modal);var pickerController=createController("ion-picker",Picker);var popoverController=createController("ion-popover",Popover);var toastController=createController("ion-toast",Toast);var prepareOverlay=function(t){if(typeof document!=="undefined"){connectListeners(document)}var e=lastId++;t.overlayIndex=e;if(!t.hasAttribute("id")){t.id="ion-overlay-"+e}};var createOverlay=function(t,e,r){if(typeof window.customElements!=="undefined"){if(typeof window!=="undefined"&&window.customElements&&!window.customElements.get(t)){window.customElements.define(t,r)}return window.customElements.whenDefined(t).then((function(){var r=document.createElement(t);r.classList.add("overlay-hidden");Object.assign(r,Object.assign(Object.assign({},e),{hasController:true}));getAppRoot(document).appendChild(r);return new Promise((function(t){return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.c)(r,t)}))}))}return Promise.resolve()};var focusableQueryString='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])';var innerFocusableQueryString="input:not([type=hidden]), textarea, button, select";var focusFirstDescendant=function(t,e){var r=t.querySelector(focusableQueryString);var i=r&&r.shadowRoot;if(i){r=i.querySelector(innerFocusableQueryString)||r}if(r){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.f)(r)}else{e.focus()}};var focusLastDescendant=function(t,e){var r=Array.from(t.querySelectorAll(focusableQueryString));var i=r.length>0?r[r.length-1]:null;var o=i&&i.shadowRoot;if(o){i=o.querySelector(innerFocusableQueryString)||i}if(i){i.focus()}else{e.focus()}};var trapKeyboardFocus=function(t,e){var r=getOverlay(e);var i=t.target;if(!r||!i){return}var o=function(){if(r===i){r.lastFocus=undefined}else{var t=(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(r);if(!t.contains(i)){return}var o=t.querySelector(".ion-overlay-wrapper");if(!o){return}if(o.contains(i)){r.lastFocus=i}else{var n=r.lastFocus;focusFirstDescendant(o,r);if(n===e.activeElement){focusLastDescendant(o,r)}r.lastFocus=e.activeElement}}};var n=function(){if(r.contains(i)){r.lastFocus=i}else{var t=r.lastFocus;focusFirstDescendant(r,r);if(t===e.activeElement){focusLastDescendant(r,r)}r.lastFocus=e.activeElement}};if(r.shadowRoot){n()}else{o()}};var connectListeners=function(t){if(lastId===0){lastId=1;t.addEventListener("focus",(function(e){return trapKeyboardFocus(e,t)}),true);t.addEventListener("ionBackButton",(function(e){var r=getTopOpenOverlay(t);if(r&&r.backdropDismiss){e.detail.register(_hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_11__.OVERLAY_BACK_BUTTON_PRIORITY,(function(){return r.dismiss(undefined,BACKDROP)}))}}));t.addEventListener("keyup",(function(e){if(e.key==="Escape"){var r=getTopOpenOverlay(t);if(r&&r.backdropDismiss){r.dismiss(undefined,BACKDROP)}}}))}};var dismissOverlay=function(t,e,r,i,o){var n=getOverlay(t,i,o);if(!n){return Promise.reject("overlay does not exist")}return n.dismiss(e,r)};var getOverlays=function(t,e){if(e===undefined){e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"}return Array.from(t.querySelectorAll(e)).filter((function(t){return t.overlayIndex>0}))};var getTopOpenOverlay=function(t){var e=getOverlays(t);for(var r=e.length-1;r>=0;r--){var i=e[r];if(!i.classList.contains("overlay-hidden")){return i}}return};var getOverlay=function(t,e,r){var i=getOverlays(t,e);return r===undefined?i[i.length-1]:i.find((function(t){return t.id===r}))};var setRootAriaHidden=function(t){if(t===void 0){t=false}var e=getAppRoot(document);var r=e.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");if(!r){return}if(t){r.setAttribute("aria-hidden","true")}else{r.removeAttribute("aria-hidden")}};var present=function(t,e,r,i,o){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){var n,a,s,l,d;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(c){switch(c.label){case 0:if(t.presented){return[2]}setRootAriaHidden(true);t.presented=true;t.willPresent.emit();(n=t.willPresentShorthand)===null||n===void 0?void 0:n.emit();s=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(t);l=t.enterAnimation?t.enterAnimation:_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get(e,s==="ios"?r:i);return[4,overlayAnimation(t,l,t.el,o)];case 1:d=c.sent();if(d){t.didPresent.emit();(a=t.didPresentShorthand)===null||a===void 0?void 0:a.emit()}if(t.el.tagName!=="ION-TOAST"){focusPreviousElementOnDismiss(t.el)}if(t.keyboardClose){t.el.focus()}return[2]}}))}))};var focusPreviousElementOnDismiss=function(t){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){var e,r;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(i){switch(i.label){case 0:e=document.activeElement;if(!e){return[2]}r=e&&e.shadowRoot;if(r){e=r.querySelector(innerFocusableQueryString)||e}return[4,t.onDidDismiss()];case 1:i.sent();e.focus();return[2]}}))}))};var dismiss=function(t,e,r,i,o,n,a){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){var s,l,d,c,p;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(u){switch(u.label){case 0:if(!t.presented){return[2,false]}setRootAriaHidden(false);t.presented=false;u.label=1;case 1:u.trys.push([1,4,,5]);t.el.style.setProperty("pointer-events","none");t.willDismiss.emit({data:e,role:r});(s=t.willDismissShorthand)===null||s===void 0?void 0:s.emit({data:e,role:r});d=(0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(t);c=t.leaveAnimation?t.leaveAnimation:_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get(i,d==="ios"?o:n);if(!(r!=="gesture"))return[3,3];return[4,overlayAnimation(t,c,t.el,a)];case 2:u.sent();u.label=3;case 3:t.didDismiss.emit({data:e,role:r});(l=t.didDismissShorthand)===null||l===void 0?void 0:l.emit({data:e,role:r});activeAnimations.delete(t);t.el.classList.add("overlay-hidden");return[3,5];case 4:p=u.sent();console.error(p);return[3,5];case 5:t.el.remove();return[2,true]}}))}))};var getAppRoot=function(t){return t.querySelector("ion-app")||t.body};var overlayAnimation=function(t,e,r,i){return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__awaiter)(void 0,void 0,void 0,(function(){var o,n,a;return (0,tslib__WEBPACK_IMPORTED_MODULE_12__.__generator)(this,(function(s){switch(s.label){case 0:r.classList.remove("overlay-hidden");o=t.el;n=e(o,i);if(!t.animated||!_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.getBoolean("animated",true)){n.duration(0)}if(t.keyboardClose){n.beforeAddWrite((function(){var t=r.ownerDocument.activeElement;if(t&&t.matches("input,ion-input, ion-textarea")){t.blur()}}))}a=activeAnimations.get(t)||[];activeAnimations.set(t,(0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_12__.__spreadArray)([],a),[n]));return[4,n.play()];case 1:s.sent();return[2,true]}}))}))};var eventMethod=function(t,e){var r;var i=new Promise((function(t){return r=t}));onceEvent(t,e,(function(t){r(t.detail)}));return i};var onceEvent=function(t,e,r){var i=function(o){(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.b)(t,e,i);r(o)};(0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.a)(t,e,i)};var isCancel=function(t){return t==="cancel"||t===BACKDROP};var defaultGate=function(t){return t()};var safeCall=function(t,e){if(typeof t==="function"){var r=_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get("_zoneGate",defaultGate);return r((function(){try{return t(e)}catch(t){throw t}}))}return undefined};var BACKDROP="backdrop";

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5/theme-a24ff1ad.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/theme-a24ff1ad.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "../../../node_modules/tslib/tslib.es6.js");

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var hostContext=function(r,t){return t.closest(r)!==null};var createColorClasses=function(r,t){var e;return typeof r==="string"&&r.length>0?Object.assign((e={"ion-color":true},e["ion-color-"+r]=true,e),t):t};var getClassList=function(r){if(r!==undefined){var t=Array.isArray(r)?r:r.split(" ");return t.filter((function(r){return r!=null})).map((function(r){return r.trim()})).filter((function(r){return r!==""}))}return[]};var getClassMap=function(r){var t={};getClassList(r).forEach((function(r){return t[r]=true}));return t};var SCHEME=/^[a-z][a-z0-9+\-.]*:/;var openURL=function(r,t,e,n){return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(void 0,void 0,void 0,(function(){var o;return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this,(function(a){if(r!=null&&r[0]!=="#"&&!SCHEME.test(r)){o=document.querySelector("ion-router");if(o){if(t!=null){t.preventDefault()}return[2,o.push(r,e,n)]}}return[2,false]}))}))};

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$":
/*!*************************************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm-es5/ lazy ^\.\/.*\.entry\.js$ namespace object ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./ion-accordion_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-accordion_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-accordion_2_entry_js"
	],
	"./ion-action-sheet.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-action-sheet.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-action-sheet_entry_js"
	],
	"./ion-alert.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-alert.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-alert_entry_js"
	],
	"./ion-app_8.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-app_8.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-app_8_entry_js"
	],
	"./ion-avatar_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-avatar_3.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-avatar_3_entry_js"
	],
	"./ion-back-button.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-back-button.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-back-button_entry_js"
	],
	"./ion-backdrop.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-backdrop.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-backdrop_entry_js"
	],
	"./ion-breadcrumb_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-breadcrumb_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-breadcrumb_2_entry_js"
	],
	"./ion-button_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-button_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-button_2_entry_js"
	],
	"./ion-card_5.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-card_5.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-card_5_entry_js"
	],
	"./ion-checkbox.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-checkbox.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-checkbox_entry_js"
	],
	"./ion-chip.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-chip.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-chip_entry_js"
	],
	"./ion-col_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-col_3_entry_js"
	],
	"./ion-datetime_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-datetime_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-datetime_3_entry_js"
	],
	"./ion-fab_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-fab_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-fab_3_entry_js"
	],
	"./ion-img.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-img_entry_js"
	],
	"./ion-infinite-scroll_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-infinite-scroll_2_entry_js"
	],
	"./ion-input.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-input.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-input_entry_js"
	],
	"./ion-item-option_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-item-option_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-item-option_3_entry_js"
	],
	"./ion-item_8.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-item_8.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-item_8_entry_js"
	],
	"./ion-loading.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-loading.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-loading_entry_js"
	],
	"./ion-menu_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-menu_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-menu_3_entry_js"
	],
	"./ion-modal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-modal.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-modal_entry_js"
	],
	"./ion-nav_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-nav_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-nav_2_entry_js"
	],
	"./ion-picker-column-internal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-picker-column-internal.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-picker-column-internal_entry_js"
	],
	"./ion-picker-internal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-picker-internal.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-picker-internal_entry_js"
	],
	"./ion-popover.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-popover.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-popover_entry_js"
	],
	"./ion-progress-bar.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-progress-bar.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-progress-bar_entry_js"
	],
	"./ion-radio_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-radio_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-radio_2_entry_js"
	],
	"./ion-range.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-range.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-range_entry_js"
	],
	"./ion-refresher_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-refresher_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-refresher_2_entry_js"
	],
	"./ion-reorder_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-reorder_2.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-reorder_2_entry_js"
	],
	"./ion-ripple-effect.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-ripple-effect_entry_js"
	],
	"./ion-route_4.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-route_4_entry_js"
	],
	"./ion-searchbar.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-searchbar.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-searchbar_entry_js"
	],
	"./ion-segment_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-segment_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-segment_2_entry_js"
	],
	"./ion-select_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-select_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-select_3_entry_js"
	],
	"./ion-slide_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-slide_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-slide_2_entry_js"
	],
	"./ion-spinner.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-spinner_entry_js"
	],
	"./ion-split-pane.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-split-pane.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-split-pane_entry_js"
	],
	"./ion-tab-bar_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-tab-bar_2_entry_js"
	],
	"./ion-tab_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-tab_2_entry_js"
	],
	"./ion-text.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-text_entry_js"
	],
	"./ion-textarea.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-textarea.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-textarea_entry_js"
	],
	"./ion-toast.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-toast.entry.js",
		"node_modules_ionic_core_dist_esm-es5_ion-toast_entry_js"
	],
	"./ion-toggle.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-toggle.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-toggle_entry_js"
	],
	"./ion-virtual-scroll.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		"vendors-node_modules_ionic_core_dist_esm-es5_ion-virtual-scroll_entry_js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(() => {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "../../../node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js":
/*!************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createAnimation)
/* harmony export */ });
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


let animationPrefix;
/**
 * Web Animations requires hyphenated CSS properties
 * to be written in camelCase when animating
 */
const processKeyframes = (keyframes) => {
  keyframes.forEach(keyframe => {
    for (const key in keyframe) {
      if (keyframe.hasOwnProperty(key)) {
        const value = keyframe[key];
        if (key === 'easing') {
          const newKey = 'animation-timing-function';
          keyframe[newKey] = value;
          delete keyframe[key];
        }
        else {
          const newKey = convertCamelCaseToHypen(key);
          if (newKey !== key) {
            keyframe[newKey] = value;
            delete keyframe[key];
          }
        }
      }
    }
  });
  return keyframes;
};
const convertCamelCaseToHypen = (str) => {
  return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();
};
const getAnimationPrefix = (el) => {
  if (animationPrefix === undefined) {
    const supportsUnprefixed = el.style.animationName !== undefined;
    const supportsWebkitPrefix = el.style.webkitAnimationName !== undefined;
    animationPrefix = (!supportsUnprefixed && supportsWebkitPrefix) ? '-webkit-' : '';
  }
  return animationPrefix;
};
const setStyleProperty = (element, propertyName, value) => {
  const prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';
  element.style.setProperty(prefix + propertyName, value);
};
const removeStyleProperty = (element, propertyName) => {
  const prefix = propertyName.startsWith('animation') ? getAnimationPrefix(element) : '';
  element.style.removeProperty(prefix + propertyName);
};
const animationEnd = (el, callback) => {
  let unRegTrans;
  const opts = { passive: true };
  const unregister = () => {
    if (unRegTrans) {
      unRegTrans();
    }
  };
  const onTransitionEnd = (ev) => {
    if (el === ev.target) {
      unregister();
      callback(ev);
    }
  };
  if (el) {
    el.addEventListener('webkitAnimationEnd', onTransitionEnd, opts);
    el.addEventListener('animationend', onTransitionEnd, opts);
    unRegTrans = () => {
      el.removeEventListener('webkitAnimationEnd', onTransitionEnd, opts);
      el.removeEventListener('animationend', onTransitionEnd, opts);
    };
  }
  return unregister;
};
const generateKeyframeRules = (keyframes = []) => {
  return keyframes.map(keyframe => {
    const offset = keyframe.offset;
    const frameString = [];
    for (const property in keyframe) {
      if (keyframe.hasOwnProperty(property) && property !== 'offset') {
        frameString.push(`${property}: ${keyframe[property]};`);
      }
    }
    return `${offset * 100}% { ${frameString.join(' ')} }`;
  }).join(' ');
};
const keyframeIds = [];
const generateKeyframeName = (keyframeRules) => {
  let index = keyframeIds.indexOf(keyframeRules);
  if (index < 0) {
    index = (keyframeIds.push(keyframeRules) - 1);
  }
  return `ion-animation-${index}`;
};
const getStyleContainer = (element) => {
  const rootNode = element.getRootNode();
  return (rootNode.head || rootNode);
};
const createKeyframeStylesheet = (keyframeName, keyframeRules, element) => {
  const styleContainer = getStyleContainer(element);
  const keyframePrefix = getAnimationPrefix(element);
  const existingStylesheet = styleContainer.querySelector('#' + keyframeName);
  if (existingStylesheet) {
    return existingStylesheet;
  }
  const stylesheet = (element.ownerDocument || document).createElement('style');
  stylesheet.id = keyframeName;
  stylesheet.textContent = `@${keyframePrefix}keyframes ${keyframeName} { ${keyframeRules} } @${keyframePrefix}keyframes ${keyframeName}-alt { ${keyframeRules} }`;
  styleContainer.appendChild(stylesheet);
  return stylesheet;
};
const addClassToArray = (classes = [], className) => {
  if (className !== undefined) {
    const classNameToAppend = (Array.isArray(className)) ? className : [className];
    return [...classes, ...classNameToAppend];
  }
  return classes;
};

const createAnimation = (animationId) => {
  let _delay;
  let _duration;
  let _easing;
  let _iterations;
  let _fill;
  let _direction;
  let _keyframes = [];
  let beforeAddClasses = [];
  let beforeRemoveClasses = [];
  let initialized = false;
  let parentAnimation;
  let beforeStylesValue = {};
  let afterAddClasses = [];
  let afterRemoveClasses = [];
  let afterStylesValue = {};
  let numAnimationsRunning = 0;
  let shouldForceLinearEasing = false;
  let shouldForceSyncPlayback = false;
  let cssAnimationsTimerFallback;
  let forceDirectionValue;
  let forceDurationValue;
  let forceDelayValue;
  let willComplete = true;
  let finished = false;
  let shouldCalculateNumAnimations = true;
  let keyframeName;
  let ani;
  const id = animationId;
  const onFinishCallbacks = [];
  const onFinishOneTimeCallbacks = [];
  const elements = [];
  const childAnimations = [];
  const stylesheets = [];
  const _beforeAddReadFunctions = [];
  const _beforeAddWriteFunctions = [];
  const _afterAddReadFunctions = [];
  const _afterAddWriteFunctions = [];
  const webAnimations = [];
  const supportsAnimationEffect = (typeof AnimationEffect === 'function' || typeof window.AnimationEffect === 'function');
  const supportsWebAnimations = (typeof Element === 'function') && (typeof Element.prototype.animate === 'function') && supportsAnimationEffect;
  const ANIMATION_END_FALLBACK_PADDING_MS = 100;
  const getWebAnimations = () => {
    return webAnimations;
  };
  const destroy = (clearStyleSheets) => {
    childAnimations.forEach(childAnimation => {
      childAnimation.destroy(clearStyleSheets);
    });
    cleanUp(clearStyleSheets);
    elements.length = 0;
    childAnimations.length = 0;
    _keyframes.length = 0;
    clearOnFinish();
    initialized = false;
    shouldCalculateNumAnimations = true;
    return ani;
  };
  /**
   * Cancels any Web Animations, removes
   * any animation properties from the
   * animation's elements, and removes the
   * animation's stylesheets from the DOM.
   */
  const cleanUp = (clearStyleSheets) => {
    cleanUpElements();
    if (clearStyleSheets) {
      cleanUpStyleSheets();
    }
  };
  const resetFlags = () => {
    shouldForceLinearEasing = false;
    shouldForceSyncPlayback = false;
    shouldCalculateNumAnimations = true;
    forceDirectionValue = undefined;
    forceDurationValue = undefined;
    forceDelayValue = undefined;
    numAnimationsRunning = 0;
    finished = false;
    willComplete = true;
  };
  const onFinish = (callback, opts) => {
    const callbacks = (opts && opts.oneTimeCallback) ? onFinishOneTimeCallbacks : onFinishCallbacks;
    callbacks.push({ c: callback, o: opts });
    return ani;
  };
  const clearOnFinish = () => {
    onFinishCallbacks.length = 0;
    onFinishOneTimeCallbacks.length = 0;
    return ani;
  };
  /**
   * Cancels any Web Animations and removes
   * any animation properties from the
   * the animation's elements.
   */
  const cleanUpElements = () => {
    if (supportsWebAnimations) {
      webAnimations.forEach(animation => {
        animation.cancel();
      });
      webAnimations.length = 0;
    }
    else {
      const elementsArray = elements.slice();
      (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
        elementsArray.forEach(element => {
          removeStyleProperty(element, 'animation-name');
          removeStyleProperty(element, 'animation-duration');
          removeStyleProperty(element, 'animation-timing-function');
          removeStyleProperty(element, 'animation-iteration-count');
          removeStyleProperty(element, 'animation-delay');
          removeStyleProperty(element, 'animation-play-state');
          removeStyleProperty(element, 'animation-fill-mode');
          removeStyleProperty(element, 'animation-direction');
        });
      });
    }
  };
  /**
   * Removes the animation's stylesheets
   * from the DOM.
   */
  const cleanUpStyleSheets = () => {
    stylesheets.forEach(stylesheet => {
      /**
       * When sharing stylesheets, it's possible
       * for another animation to have already
       * cleaned up a particular stylesheet
       */
      if (stylesheet && stylesheet.parentNode) {
        stylesheet.parentNode.removeChild(stylesheet);
      }
    });
    stylesheets.length = 0;
  };
  const beforeAddRead = (readFn) => {
    _beforeAddReadFunctions.push(readFn);
    return ani;
  };
  const beforeAddWrite = (writeFn) => {
    _beforeAddWriteFunctions.push(writeFn);
    return ani;
  };
  const afterAddRead = (readFn) => {
    _afterAddReadFunctions.push(readFn);
    return ani;
  };
  const afterAddWrite = (writeFn) => {
    _afterAddWriteFunctions.push(writeFn);
    return ani;
  };
  const beforeAddClass = (className) => {
    beforeAddClasses = addClassToArray(beforeAddClasses, className);
    return ani;
  };
  const beforeRemoveClass = (className) => {
    beforeRemoveClasses = addClassToArray(beforeRemoveClasses, className);
    return ani;
  };
  /**
   * Set CSS inline styles to the animation's
   * elements before the animation begins.
   */
  const beforeStyles = (styles = {}) => {
    beforeStylesValue = styles;
    return ani;
  };
  /**
   * Clear CSS inline styles from the animation's
   * elements before the animation begins.
   */
  const beforeClearStyles = (propertyNames = []) => {
    for (const property of propertyNames) {
      beforeStylesValue[property] = '';
    }
    return ani;
  };
  const afterAddClass = (className) => {
    afterAddClasses = addClassToArray(afterAddClasses, className);
    return ani;
  };
  const afterRemoveClass = (className) => {
    afterRemoveClasses = addClassToArray(afterRemoveClasses, className);
    return ani;
  };
  const afterStyles = (styles = {}) => {
    afterStylesValue = styles;
    return ani;
  };
  const afterClearStyles = (propertyNames = []) => {
    for (const property of propertyNames) {
      afterStylesValue[property] = '';
    }
    return ani;
  };
  const getFill = () => {
    if (_fill !== undefined) {
      return _fill;
    }
    if (parentAnimation) {
      return parentAnimation.getFill();
    }
    return 'both';
  };
  const getDirection = () => {
    if (forceDirectionValue !== undefined) {
      return forceDirectionValue;
    }
    if (_direction !== undefined) {
      return _direction;
    }
    if (parentAnimation) {
      return parentAnimation.getDirection();
    }
    return 'normal';
  };
  const getEasing = () => {
    if (shouldForceLinearEasing) {
      return 'linear';
    }
    if (_easing !== undefined) {
      return _easing;
    }
    if (parentAnimation) {
      return parentAnimation.getEasing();
    }
    return 'linear';
  };
  const getDuration = () => {
    if (shouldForceSyncPlayback) {
      return 0;
    }
    if (forceDurationValue !== undefined) {
      return forceDurationValue;
    }
    if (_duration !== undefined) {
      return _duration;
    }
    if (parentAnimation) {
      return parentAnimation.getDuration();
    }
    return 0;
  };
  const getIterations = () => {
    if (_iterations !== undefined) {
      return _iterations;
    }
    if (parentAnimation) {
      return parentAnimation.getIterations();
    }
    return 1;
  };
  const getDelay = () => {
    if (forceDelayValue !== undefined) {
      return forceDelayValue;
    }
    if (_delay !== undefined) {
      return _delay;
    }
    if (parentAnimation) {
      return parentAnimation.getDelay();
    }
    return 0;
  };
  const getKeyframes = () => {
    return _keyframes;
  };
  const direction = (animationDirection) => {
    _direction = animationDirection;
    update(true);
    return ani;
  };
  const fill = (animationFill) => {
    _fill = animationFill;
    update(true);
    return ani;
  };
  const delay = (animationDelay) => {
    _delay = animationDelay;
    update(true);
    return ani;
  };
  const easing = (animationEasing) => {
    _easing = animationEasing;
    update(true);
    return ani;
  };
  const duration = (animationDuration) => {
    /**
     * CSS Animation Durations of 0ms work fine on Chrome
     * but do not run on Safari, so force it to 1ms to
     * get it to run on both platforms.
     */
    if (!supportsWebAnimations && animationDuration === 0) {
      animationDuration = 1;
    }
    _duration = animationDuration;
    update(true);
    return ani;
  };
  const iterations = (animationIterations) => {
    _iterations = animationIterations;
    update(true);
    return ani;
  };
  const parent = (animation) => {
    parentAnimation = animation;
    return ani;
  };
  const addElement = (el) => {
    if (el != null) {
      if (el.nodeType === 1) {
        elements.push(el);
      }
      else if (el.length >= 0) {
        for (let i = 0; i < el.length; i++) {
          elements.push(el[i]);
        }
      }
      else {
        console.error('Invalid addElement value');
      }
    }
    return ani;
  };
  const addAnimation = (animationToAdd) => {
    if (animationToAdd != null) {
      if (Array.isArray(animationToAdd)) {
        for (const animation of animationToAdd) {
          animation.parent(ani);
          childAnimations.push(animation);
        }
      }
      else {
        animationToAdd.parent(ani);
        childAnimations.push(animationToAdd);
      }
    }
    return ani;
  };
  const keyframes = (keyframeValues) => {
    const different = _keyframes !== keyframeValues;
    _keyframes = keyframeValues;
    if (different) {
      updateKeyframes(_keyframes);
    }
    return ani;
  };
  const updateKeyframes = (keyframeValues) => {
    if (supportsWebAnimations) {
      getWebAnimations().forEach(animation => {
        if (animation.effect.setKeyframes) {
          animation.effect.setKeyframes(keyframeValues);
        }
        else {
          const newEffect = new KeyframeEffect(animation.effect.target, keyframeValues, animation.effect.getTiming());
          animation.effect = newEffect;
        }
      });
    }
    else {
      initializeCSSAnimation();
    }
  };
  /**
   * Run all "before" animation hooks.
   */
  const beforeAnimation = () => {
    // Runs all before read callbacks
    _beforeAddReadFunctions.forEach(callback => callback());
    // Runs all before write callbacks
    _beforeAddWriteFunctions.forEach(callback => callback());
    // Updates styles and classes before animation runs
    const addClasses = beforeAddClasses;
    const removeClasses = beforeRemoveClasses;
    const styles = beforeStylesValue;
    elements.forEach(el => {
      const elementClassList = el.classList;
      addClasses.forEach(c => elementClassList.add(c));
      removeClasses.forEach(c => elementClassList.remove(c));
      for (const property in styles) {
        if (styles.hasOwnProperty(property)) {
          setStyleProperty(el, property, styles[property]);
        }
      }
    });
  };
  /**
   * Run all "after" animation hooks.
   */
  const afterAnimation = () => {
    clearCSSAnimationsTimeout();
    // Runs all after read callbacks
    _afterAddReadFunctions.forEach(callback => callback());
    // Runs all after write callbacks
    _afterAddWriteFunctions.forEach(callback => callback());
    // Updates styles and classes before animation ends
    const currentStep = willComplete ? 1 : 0;
    const addClasses = afterAddClasses;
    const removeClasses = afterRemoveClasses;
    const styles = afterStylesValue;
    elements.forEach(el => {
      const elementClassList = el.classList;
      addClasses.forEach(c => elementClassList.add(c));
      removeClasses.forEach(c => elementClassList.remove(c));
      for (const property in styles) {
        if (styles.hasOwnProperty(property)) {
          setStyleProperty(el, property, styles[property]);
        }
      }
    });
    onFinishCallbacks.forEach(onFinishCallback => {
      return onFinishCallback.c(currentStep, ani);
    });
    onFinishOneTimeCallbacks.forEach(onFinishCallback => {
      return onFinishCallback.c(currentStep, ani);
    });
    onFinishOneTimeCallbacks.length = 0;
    shouldCalculateNumAnimations = true;
    if (willComplete) {
      finished = true;
    }
    willComplete = true;
  };
  const animationFinish = () => {
    if (numAnimationsRunning === 0) {
      return;
    }
    numAnimationsRunning--;
    if (numAnimationsRunning === 0) {
      afterAnimation();
      if (parentAnimation) {
        parentAnimation.animationFinish();
      }
    }
  };
  const initializeCSSAnimation = (toggleAnimationName = true) => {
    cleanUpStyleSheets();
    const processedKeyframes = processKeyframes(_keyframes);
    elements.forEach(element => {
      if (processedKeyframes.length > 0) {
        const keyframeRules = generateKeyframeRules(processedKeyframes);
        keyframeName = (animationId !== undefined) ? animationId : generateKeyframeName(keyframeRules);
        const stylesheet = createKeyframeStylesheet(keyframeName, keyframeRules, element);
        stylesheets.push(stylesheet);
        setStyleProperty(element, 'animation-duration', `${getDuration()}ms`);
        setStyleProperty(element, 'animation-timing-function', getEasing());
        setStyleProperty(element, 'animation-delay', `${getDelay()}ms`);
        setStyleProperty(element, 'animation-fill-mode', getFill());
        setStyleProperty(element, 'animation-direction', getDirection());
        const iterationsCount = (getIterations() === Infinity)
          ? 'infinite'
          : getIterations().toString();
        setStyleProperty(element, 'animation-iteration-count', iterationsCount);
        setStyleProperty(element, 'animation-play-state', 'paused');
        if (toggleAnimationName) {
          setStyleProperty(element, 'animation-name', `${stylesheet.id}-alt`);
        }
        (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
          setStyleProperty(element, 'animation-name', stylesheet.id || null);
        });
      }
    });
  };
  const initializeWebAnimation = () => {
    elements.forEach(element => {
      const animation = element.animate(_keyframes, {
        id,
        delay: getDelay(),
        duration: getDuration(),
        easing: getEasing(),
        iterations: getIterations(),
        fill: getFill(),
        direction: getDirection()
      });
      animation.pause();
      webAnimations.push(animation);
    });
    if (webAnimations.length > 0) {
      webAnimations[0].onfinish = () => {
        animationFinish();
      };
    }
  };
  const initializeAnimation = (toggleAnimationName = true) => {
    beforeAnimation();
    if (_keyframes.length > 0) {
      if (supportsWebAnimations) {
        initializeWebAnimation();
      }
      else {
        initializeCSSAnimation(toggleAnimationName);
      }
    }
    initialized = true;
  };
  const setAnimationStep = (step) => {
    step = Math.min(Math.max(step, 0), 0.9999);
    if (supportsWebAnimations) {
      webAnimations.forEach(animation => {
        animation.currentTime = animation.effect.getComputedTiming().delay + (getDuration() * step);
        animation.pause();
      });
    }
    else {
      const animationDuration = `-${getDuration() * step}ms`;
      elements.forEach(element => {
        if (_keyframes.length > 0) {
          setStyleProperty(element, 'animation-delay', animationDuration);
          setStyleProperty(element, 'animation-play-state', 'paused');
        }
      });
    }
  };
  const updateWebAnimation = (step) => {
    webAnimations.forEach(animation => {
      animation.effect.updateTiming({
        delay: getDelay(),
        duration: getDuration(),
        easing: getEasing(),
        iterations: getIterations(),
        fill: getFill(),
        direction: getDirection()
      });
    });
    if (step !== undefined) {
      setAnimationStep(step);
    }
  };
  const updateCSSAnimation = (toggleAnimationName = true, step) => {
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
      elements.forEach(element => {
        setStyleProperty(element, 'animation-name', keyframeName || null);
        setStyleProperty(element, 'animation-duration', `${getDuration()}ms`);
        setStyleProperty(element, 'animation-timing-function', getEasing());
        setStyleProperty(element, 'animation-delay', (step !== undefined) ? `-${step * getDuration()}ms` : `${getDelay()}ms`);
        setStyleProperty(element, 'animation-fill-mode', getFill() || null);
        setStyleProperty(element, 'animation-direction', getDirection() || null);
        const iterationsCount = (getIterations() === Infinity)
          ? 'infinite'
          : getIterations().toString();
        setStyleProperty(element, 'animation-iteration-count', iterationsCount);
        if (toggleAnimationName) {
          setStyleProperty(element, 'animation-name', `${keyframeName}-alt`);
        }
        (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
          setStyleProperty(element, 'animation-name', keyframeName || null);
        });
      });
    });
  };
  const update = (deep = false, toggleAnimationName = true, step) => {
    if (deep) {
      childAnimations.forEach(animation => {
        animation.update(deep, toggleAnimationName, step);
      });
    }
    if (supportsWebAnimations) {
      updateWebAnimation(step);
    }
    else {
      updateCSSAnimation(toggleAnimationName, step);
    }
    return ani;
  };
  const progressStart = (forceLinearEasing = false, step) => {
    childAnimations.forEach(animation => {
      animation.progressStart(forceLinearEasing, step);
    });
    pauseAnimation();
    shouldForceLinearEasing = forceLinearEasing;
    if (!initialized) {
      initializeAnimation();
    }
    update(false, true, step);
    return ani;
  };
  const progressStep = (step) => {
    childAnimations.forEach(animation => {
      animation.progressStep(step);
    });
    setAnimationStep(step);
    return ani;
  };
  const progressEnd = (playTo, step, dur) => {
    shouldForceLinearEasing = false;
    childAnimations.forEach(animation => {
      animation.progressEnd(playTo, step, dur);
    });
    if (dur !== undefined) {
      forceDurationValue = dur;
    }
    finished = false;
    // tslint:disable-next-line: strict-boolean-conditions
    willComplete = true;
    if (playTo === 0) {
      forceDirectionValue = (getDirection() === 'reverse') ? 'normal' : 'reverse';
      if (forceDirectionValue === 'reverse') {
        willComplete = false;
      }
      if (supportsWebAnimations) {
        update();
        setAnimationStep(1 - step);
      }
      else {
        forceDelayValue = ((1 - step) * getDuration()) * -1;
        update(false, false);
      }
    }
    else if (playTo === 1) {
      if (supportsWebAnimations) {
        update();
        setAnimationStep(step);
      }
      else {
        forceDelayValue = (step * getDuration()) * -1;
        update(false, false);
      }
    }
    if (playTo !== undefined) {
      onFinish(() => {
        forceDurationValue = undefined;
        forceDirectionValue = undefined;
        forceDelayValue = undefined;
      }, {
        oneTimeCallback: true
      });
      if (!parentAnimation) {
        play();
      }
    }
    return ani;
  };
  const pauseAnimation = () => {
    if (initialized) {
      if (supportsWebAnimations) {
        webAnimations.forEach(animation => {
          animation.pause();
        });
      }
      else {
        elements.forEach(element => {
          setStyleProperty(element, 'animation-play-state', 'paused');
        });
      }
    }
  };
  const pause = () => {
    childAnimations.forEach(animation => {
      animation.pause();
    });
    pauseAnimation();
    return ani;
  };
  const onAnimationEndFallback = () => {
    cssAnimationsTimerFallback = undefined;
    animationFinish();
  };
  const clearCSSAnimationsTimeout = () => {
    if (cssAnimationsTimerFallback) {
      clearTimeout(cssAnimationsTimerFallback);
    }
  };
  const playCSSAnimations = () => {
    clearCSSAnimationsTimeout();
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
      elements.forEach(element => {
        if (_keyframes.length > 0) {
          setStyleProperty(element, 'animation-play-state', 'running');
        }
      });
    });
    if (_keyframes.length === 0 || elements.length === 0) {
      animationFinish();
    }
    else {
      /**
       * This is a catchall in the event that a CSS Animation did not finish.
       * The Web Animations API has mechanisms in place for preventing this.
       * CSS Animations will not fire an `animationend` event
       * for elements with `display: none`. The Web Animations API
       * accounts for this, but using raw CSS Animations requires
       * this workaround.
       */
      const animationDelay = getDelay() || 0;
      const animationDuration = getDuration() || 0;
      const animationIterations = getIterations() || 1;
      // No need to set a timeout when animation has infinite iterations
      if (isFinite(animationIterations)) {
        cssAnimationsTimerFallback = setTimeout(onAnimationEndFallback, animationDelay + (animationDuration * animationIterations) + ANIMATION_END_FALLBACK_PADDING_MS);
      }
      animationEnd(elements[0], () => {
        clearCSSAnimationsTimeout();
        /**
         * Ensure that clean up
         * is always done a frame
         * before the onFinish handlers
         * are fired. Otherwise, there
         * may be flickering if a new
         * animation is started on the same
         * element too quickly
         *
         * TODO: Is there a cleaner way to do this?
         */
        (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(() => {
          clearCSSAnimationPlayState();
          (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.r)(animationFinish);
        });
      });
    }
  };
  const clearCSSAnimationPlayState = () => {
    elements.forEach(element => {
      removeStyleProperty(element, 'animation-duration');
      removeStyleProperty(element, 'animation-delay');
      removeStyleProperty(element, 'animation-play-state');
    });
  };
  const playWebAnimations = () => {
    webAnimations.forEach(animation => {
      animation.play();
    });
    if (_keyframes.length === 0 || elements.length === 0) {
      animationFinish();
    }
  };
  const resetAnimation = () => {
    if (supportsWebAnimations) {
      setAnimationStep(0);
      updateWebAnimation();
    }
    else {
      updateCSSAnimation();
    }
  };
  const play = (opts) => {
    return new Promise(resolve => {
      if (opts && opts.sync) {
        shouldForceSyncPlayback = true;
        onFinish(() => shouldForceSyncPlayback = false, { oneTimeCallback: true });
      }
      if (!initialized) {
        initializeAnimation();
      }
      if (finished) {
        resetAnimation();
        finished = false;
      }
      if (shouldCalculateNumAnimations) {
        numAnimationsRunning = childAnimations.length + 1;
        shouldCalculateNumAnimations = false;
      }
      onFinish(() => resolve(), { oneTimeCallback: true });
      childAnimations.forEach(animation => {
        animation.play();
      });
      if (supportsWebAnimations) {
        playWebAnimations();
      }
      else {
        playCSSAnimations();
      }
    });
  };
  const stop = () => {
    childAnimations.forEach(animation => {
      animation.stop();
    });
    if (initialized) {
      cleanUpElements();
      initialized = false;
    }
    resetFlags();
  };
  const from = (property, value) => {
    const firstFrame = _keyframes[0];
    if (firstFrame !== undefined && (firstFrame.offset === undefined || firstFrame.offset === 0)) {
      firstFrame[property] = value;
    }
    else {
      _keyframes = [
        { offset: 0, [property]: value },
        ..._keyframes
      ];
    }
    return ani;
  };
  const to = (property, value) => {
    const lastFrame = _keyframes[_keyframes.length - 1];
    if (lastFrame !== undefined && (lastFrame.offset === undefined || lastFrame.offset === 1)) {
      lastFrame[property] = value;
    }
    else {
      _keyframes = [
        ..._keyframes,
        { offset: 1, [property]: value }
      ];
    }
    return ani;
  };
  const fromTo = (property, fromValue, toValue) => {
    return from(property, fromValue).to(property, toValue);
  };
  return ani = {
    parentAnimation,
    elements,
    childAnimations,
    id,
    animationFinish,
    from,
    to,
    fromTo,
    parent,
    play,
    pause,
    stop,
    destroy,
    keyframes,
    addAnimation,
    addElement,
    update,
    fill,
    direction,
    iterations,
    duration,
    easing,
    delay,
    getWebAnimations,
    getKeyframes,
    getFill,
    getDirection,
    getDelay,
    getIterations,
    getEasing,
    getDuration,
    afterAddRead,
    afterAddWrite,
    afterClearStyles,
    afterStyles,
    afterRemoveClass,
    afterAddClass,
    beforeAddRead,
    beforeAddWrite,
    beforeClearStyles,
    beforeStyles,
    beforeRemoveClass,
    beforeAddClass,
    onFinish,
    progressStart,
    progressStep,
    progressEnd
  };
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/app-globals-3675dd7b.js":
/*!**************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/app-globals-3675dd7b.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "g": () => (/* binding */ globalScripts)
/* harmony export */ });
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const globalScripts = _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_0__.i;




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/cubic-bezier-154a53a5.js":
/*!***************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/cubic-bezier-154a53a5.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "g": () => (/* binding */ getTimeGivenProgression)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
/**
 * Based on:
 * https://stackoverflow.com/questions/7348009/y-coordinate-for-a-given-x-cubic-bezier
 * https://math.stackexchange.com/questions/26846/is-there-an-explicit-form-for-cubic-b%C3%A9zier-curves
 * TODO: Reduce rounding error
 */
/**
 * EXPERIMENTAL
 * Given a cubic-bezier curve, get the x value (time) given
 * the y value (progression).
 * Ex: cubic-bezier(0.32, 0.72, 0, 1);
 * P0: (0, 0)
 * P1: (0.32, 0.72)
 * P2: (0, 1)
 * P3: (1, 1)
 *
 * If you give a cubic bezier curve that never reaches the
 * provided progression, this function will return an empty array.
 */
const getTimeGivenProgression = (p0, p1, p2, p3, progression) => {
  return solveCubicBezier(p0[1], p1[1], p2[1], p3[1], progression).map(tValue => {
    return solveCubicParametricEquation(p0[0], p1[0], p2[0], p3[0], tValue);
  });
};
/**
 * Solve a cubic equation in one dimension (time)
 */
const solveCubicParametricEquation = (p0, p1, p2, p3, t) => {
  const partA = (3 * p1) * Math.pow(t - 1, 2);
  const partB = (-3 * p2 * t) + (3 * p2) + (p3 * t);
  const partC = p0 * Math.pow(t - 1, 3);
  return t * (partA + (t * partB)) - partC;
};
/**
 * Find the `t` value for a cubic bezier using Cardano's formula
 */
const solveCubicBezier = (p0, p1, p2, p3, refPoint) => {
  p0 -= refPoint;
  p1 -= refPoint;
  p2 -= refPoint;
  p3 -= refPoint;
  const roots = solveCubicEquation(p3 - 3 * p2 + 3 * p1 - p0, 3 * p2 - 6 * p1 + 3 * p0, 3 * p1 - 3 * p0, p0);
  return roots.filter(root => root >= 0 && root <= 1);
};
const solveQuadraticEquation = (a, b, c) => {
  const discriminant = b * b - 4 * a * c;
  if (discriminant < 0) {
    return [];
  }
  else {
    return [
      (-b + Math.sqrt(discriminant)) / (2 * a),
      (-b - Math.sqrt(discriminant)) / (2 * a)
    ];
  }
};
const solveCubicEquation = (a, b, c, d) => {
  if (a === 0) {
    return solveQuadraticEquation(b, c, d);
  }
  b /= a;
  c /= a;
  d /= a;
  const p = (3 * c - b * b) / 3;
  const q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;
  if (p === 0) {
    return [Math.pow(-q, 1 / 3)];
  }
  else if (q === 0) {
    return [Math.sqrt(-p), -Math.sqrt(-p)];
  }
  const discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);
  if (discriminant === 0) {
    return [Math.pow(q / 2, 1 / 2) - b / 3];
  }
  else if (discriminant > 0) {
    return [Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3];
  }
  const r = Math.sqrt(Math.pow(-(p / 3), 3));
  const phi = Math.acos(-(q / (2 * Math.sqrt(Math.pow(-(p / 3), 3)))));
  const s = 2 * Math.pow(r, 1 / 3);
  return [
    s * Math.cos(phi / 3) - b / 3,
    s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,
    s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3
  ];
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/framework-delegate-a922018c.js":
/*!*********************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/framework-delegate-a922018c.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "C": () => (/* binding */ CoreDelegate),
/* harmony export */   "a": () => (/* binding */ attachComponent),
/* harmony export */   "d": () => (/* binding */ detachComponent)
/* harmony export */ });
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const attachComponent = async (delegate, container, component, cssClasses, componentProps, inline) => {
  if (delegate) {
    return delegate.attachViewToDom(container, component, componentProps, cssClasses);
  }
  if (!inline && typeof component !== 'string' && !(component instanceof HTMLElement)) {
    throw new Error('framework delegate is missing');
  }
  const el = (typeof component === 'string')
    ? container.ownerDocument && container.ownerDocument.createElement(component)
    : component;
  if (cssClasses) {
    cssClasses.forEach(c => el.classList.add(c));
  }
  if (componentProps) {
    Object.assign(el, componentProps);
  }
  container.appendChild(el);
  await new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.c)(el, resolve));
  return el;
};
const detachComponent = (delegate, element) => {
  if (element) {
    if (delegate) {
      const container = element.parentElement;
      return delegate.removeViewFromDom(container, element);
    }
    element.remove();
  }
  return Promise.resolve();
};
const CoreDelegate = () => {
  let BaseComponent;
  let Reference;
  const attachViewToDom = async (parentElement, userComponent, userComponentProps = {}, cssClasses = []) => {
    BaseComponent = parentElement;
    /**
     * If passing in a component via the `component` props
     * we need to append it inside of our overlay component.
     */
    if (userComponent) {
      /**
       * If passing in the tag name, create
       * the element otherwise just get a reference
       * to the component.
       */
      const el = (typeof userComponent === 'string')
        ? BaseComponent.ownerDocument && BaseComponent.ownerDocument.createElement(userComponent)
        : userComponent;
      /**
       * Add any css classes passed in
       * via the cssClasses prop on the overlay.
       */
      cssClasses.forEach(c => el.classList.add(c));
      /**
       * Add any props passed in
       * via the componentProps prop on the overlay.
       */
      Object.assign(el, userComponentProps);
      /**
       * Finally, append the component
       * inside of the overlay component.
       */
      BaseComponent.appendChild(el);
      await new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_0__.c)(el, resolve));
    }
    /**
     * Get the root of the app and
     * add the overlay there.
     */
    const app = document.querySelector('ion-app') || document.body;
    /**
     * Create a placeholder comment so that
     * we can return this component to where
     * it was previously.
     */
    Reference = document.createComment('ionic teleport');
    BaseComponent.parentNode.insertBefore(Reference, BaseComponent);
    app.appendChild(BaseComponent);
    return BaseComponent;
  };
  const removeViewFromDom = () => {
    /**
     * Return component to where it was previously in the DOM.
     */
    if (BaseComponent && Reference) {
      Reference.parentNode.insertBefore(BaseComponent, Reference);
      Reference.remove();
    }
    return Promise.resolve();
  };
  return { attachViewToDom, removeViewFromDom };
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/gesture-controller-68c023a4.js":
/*!*********************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/gesture-controller-68c023a4.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "G": () => (/* binding */ GESTURE_CONTROLLER)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
class GestureController {
  constructor() {
    this.gestureId = 0;
    this.requestedStart = new Map();
    this.disabledGestures = new Map();
    this.disabledScroll = new Set();
  }
  /**
   * Creates a gesture delegate based on the GestureConfig passed
   */
  createGesture(config) {
    return new GestureDelegate(this, this.newID(), config.name, config.priority || 0, !!config.disableScroll);
  }
  /**
   * Creates a blocker that will block any other gesture events from firing. Set in the ion-gesture component.
   */
  createBlocker(opts = {}) {
    return new BlockerDelegate(this, this.newID(), opts.disable, !!opts.disableScroll);
  }
  start(gestureName, id, priority) {
    if (!this.canStart(gestureName)) {
      this.requestedStart.delete(id);
      return false;
    }
    this.requestedStart.set(id, priority);
    return true;
  }
  capture(gestureName, id, priority) {
    if (!this.start(gestureName, id, priority)) {
      return false;
    }
    const requestedStart = this.requestedStart;
    let maxPriority = -10000;
    requestedStart.forEach(value => {
      maxPriority = Math.max(maxPriority, value);
    });
    if (maxPriority === priority) {
      this.capturedId = id;
      requestedStart.clear();
      const event = new CustomEvent('ionGestureCaptured', { detail: { gestureName } });
      document.dispatchEvent(event);
      return true;
    }
    requestedStart.delete(id);
    return false;
  }
  release(id) {
    this.requestedStart.delete(id);
    if (this.capturedId === id) {
      this.capturedId = undefined;
    }
  }
  disableGesture(gestureName, id) {
    let set = this.disabledGestures.get(gestureName);
    if (set === undefined) {
      set = new Set();
      this.disabledGestures.set(gestureName, set);
    }
    set.add(id);
  }
  enableGesture(gestureName, id) {
    const set = this.disabledGestures.get(gestureName);
    if (set !== undefined) {
      set.delete(id);
    }
  }
  disableScroll(id) {
    this.disabledScroll.add(id);
    if (this.disabledScroll.size === 1) {
      document.body.classList.add(BACKDROP_NO_SCROLL);
    }
  }
  enableScroll(id) {
    this.disabledScroll.delete(id);
    if (this.disabledScroll.size === 0) {
      document.body.classList.remove(BACKDROP_NO_SCROLL);
    }
  }
  canStart(gestureName) {
    if (this.capturedId !== undefined) {
      // a gesture already captured
      return false;
    }
    if (this.isDisabled(gestureName)) {
      return false;
    }
    return true;
  }
  isCaptured() {
    return this.capturedId !== undefined;
  }
  isScrollDisabled() {
    return this.disabledScroll.size > 0;
  }
  isDisabled(gestureName) {
    const disabled = this.disabledGestures.get(gestureName);
    if (disabled && disabled.size > 0) {
      return true;
    }
    return false;
  }
  newID() {
    this.gestureId++;
    return this.gestureId;
  }
}
class GestureDelegate {
  constructor(ctrl, id, name, priority, disableScroll) {
    this.id = id;
    this.name = name;
    this.disableScroll = disableScroll;
    this.priority = priority * 1000000 + id;
    this.ctrl = ctrl;
  }
  canStart() {
    if (!this.ctrl) {
      return false;
    }
    return this.ctrl.canStart(this.name);
  }
  start() {
    if (!this.ctrl) {
      return false;
    }
    return this.ctrl.start(this.name, this.id, this.priority);
  }
  capture() {
    if (!this.ctrl) {
      return false;
    }
    const captured = this.ctrl.capture(this.name, this.id, this.priority);
    if (captured && this.disableScroll) {
      this.ctrl.disableScroll(this.id);
    }
    return captured;
  }
  release() {
    if (this.ctrl) {
      this.ctrl.release(this.id);
      if (this.disableScroll) {
        this.ctrl.enableScroll(this.id);
      }
    }
  }
  destroy() {
    this.release();
    this.ctrl = undefined;
  }
}
class BlockerDelegate {
  constructor(ctrl, id, disable, disableScroll) {
    this.id = id;
    this.disable = disable;
    this.disableScroll = disableScroll;
    this.ctrl = ctrl;
  }
  block() {
    if (!this.ctrl) {
      return;
    }
    if (this.disable) {
      for (const gesture of this.disable) {
        this.ctrl.disableGesture(gesture, this.id);
      }
    }
    if (this.disableScroll) {
      this.ctrl.disableScroll(this.id);
    }
  }
  unblock() {
    if (!this.ctrl) {
      return;
    }
    if (this.disable) {
      for (const gesture of this.disable) {
        this.ctrl.enableGesture(gesture, this.id);
      }
    }
    if (this.disableScroll) {
      this.ctrl.enableScroll(this.id);
    }
  }
  destroy() {
    this.unblock();
    this.ctrl = undefined;
  }
}
const BACKDROP_NO_SCROLL = 'backdrop-no-scroll';
const GESTURE_CONTROLLER = new GestureController();




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/haptic-9a9aa7ec.js":
/*!*********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/haptic-9a9aa7ec.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ hapticSelectionStart),
/* harmony export */   "b": () => (/* binding */ hapticSelectionChanged),
/* harmony export */   "c": () => (/* binding */ hapticSelection),
/* harmony export */   "d": () => (/* binding */ hapticImpact),
/* harmony export */   "h": () => (/* binding */ hapticSelectionEnd)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const HapticEngine = {
  getEngine() {
    const win = window;
    return (win.TapticEngine) || (win.Capacitor && win.Capacitor.isPluginAvailable('Haptics') && win.Capacitor.Plugins.Haptics);
  },
  available() {
    return !!this.getEngine();
  },
  isCordova() {
    return !!window.TapticEngine;
  },
  isCapacitor() {
    const win = window;
    return !!win.Capacitor;
  },
  impact(options) {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;
    engine.impact({ style });
  },
  notification(options) {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    const style = this.isCapacitor() ? options.style.toUpperCase() : options.style;
    engine.notification({ style });
  },
  selection() {
    this.impact({ style: 'light' });
  },
  selectionStart() {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    if (this.isCapacitor()) {
      engine.selectionStart();
    }
    else {
      engine.gestureSelectionStart();
    }
  },
  selectionChanged() {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    if (this.isCapacitor()) {
      engine.selectionChanged();
    }
    else {
      engine.gestureSelectionChanged();
    }
  },
  selectionEnd() {
    const engine = this.getEngine();
    if (!engine) {
      return;
    }
    if (this.isCapacitor()) {
      engine.selectionEnd();
    }
    else {
      engine.gestureSelectionEnd();
    }
  }
};
/**
 * Trigger a selection changed haptic event. Good for one-time events
 * (not for gestures)
 */
const hapticSelection = () => {
  HapticEngine.selection();
};
/**
 * Tell the haptic engine that a gesture for a selection change is starting.
 */
const hapticSelectionStart = () => {
  HapticEngine.selectionStart();
};
/**
 * Tell the haptic engine that a selection changed during a gesture.
 */
const hapticSelectionChanged = () => {
  HapticEngine.selectionChanged();
};
/**
 * Tell the haptic engine we are done with a gesture. This needs to be
 * called lest resources are not properly recycled.
 */
const hapticSelectionEnd = () => {
  HapticEngine.selectionEnd();
};
/**
 * Use this to indicate success/failure/warning to the user.
 * options should be of the type `{ style: 'light' }` (or `medium`/`heavy`)
 */
const hapticImpact = (options) => {
  HapticEngine.impact(options);
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/hardware-back-button-ace6a71b.js":
/*!***********************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/hardware-back-button-ace6a71b.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MENU_BACK_BUTTON_PRIORITY": () => (/* binding */ MENU_BACK_BUTTON_PRIORITY),
/* harmony export */   "OVERLAY_BACK_BUTTON_PRIORITY": () => (/* binding */ OVERLAY_BACK_BUTTON_PRIORITY),
/* harmony export */   "blockHardwareBackButton": () => (/* binding */ blockHardwareBackButton),
/* harmony export */   "startHardwareBackButton": () => (/* binding */ startHardwareBackButton)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
/**
 * When hardwareBackButton: false in config,
 * we need to make sure we also block the default
 * webview behavior. If we don't then it will be
 * possible for users to navigate backward while
 * an overlay is still open. Additionally, it will
 * give the appearance that the hardwareBackButton
 * config is not working as the page transition
 * will still happen.
 */
const blockHardwareBackButton = () => {
  document.addEventListener('backbutton', () => { }); // tslint:disable-line
};
const startHardwareBackButton = () => {
  const doc = document;
  let busy = false;
  doc.addEventListener('backbutton', () => {
    if (busy) {
      return;
    }
    let index = 0;
    let handlers = [];
    const ev = new CustomEvent('ionBackButton', {
      bubbles: false,
      detail: {
        register(priority, handler) {
          handlers.push({ priority, handler, id: index++ });
        }
      }
    });
    doc.dispatchEvent(ev);
    const executeAction = async (handlerRegister) => {
      try {
        if (handlerRegister && handlerRegister.handler) {
          const result = handlerRegister.handler(processHandlers);
          if (result != null) {
            await result;
          }
        }
      }
      catch (e) {
        console.error(e);
      }
    };
    const processHandlers = () => {
      if (handlers.length > 0) {
        let selectedHandler = {
          priority: Number.MIN_SAFE_INTEGER,
          handler: () => undefined,
          id: -1
        };
        handlers.forEach(handler => {
          if (handler.priority >= selectedHandler.priority) {
            selectedHandler = handler;
          }
        });
        busy = true;
        handlers = handlers.filter(handler => handler.id !== selectedHandler.id);
        executeAction(selectedHandler).then(() => busy = false);
      }
    };
    processHandlers();
  });
};
const OVERLAY_BACK_BUTTON_PRIORITY = 100;
const MENU_BACK_BUTTON_PRIORITY = 99; // 1 less than overlay priority since menu is displayed behind overlays




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js":
/*!**********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ addEventListener),
/* harmony export */   "b": () => (/* binding */ removeEventListener),
/* harmony export */   "c": () => (/* binding */ componentOnReady),
/* harmony export */   "d": () => (/* binding */ clamp),
/* harmony export */   "e": () => (/* binding */ getAriaLabel),
/* harmony export */   "f": () => (/* binding */ focusElement),
/* harmony export */   "g": () => (/* binding */ getElementRoot),
/* harmony export */   "h": () => (/* binding */ renderHiddenInput),
/* harmony export */   "i": () => (/* binding */ inheritAttributes),
/* harmony export */   "j": () => (/* binding */ debounceEvent),
/* harmony export */   "k": () => (/* binding */ findItemLabel),
/* harmony export */   "l": () => (/* binding */ hasShadowDom),
/* harmony export */   "m": () => (/* binding */ assert),
/* harmony export */   "n": () => (/* binding */ isEndSide),
/* harmony export */   "o": () => (/* binding */ debounce),
/* harmony export */   "p": () => (/* binding */ pointerCoord),
/* harmony export */   "q": () => (/* binding */ now),
/* harmony export */   "r": () => (/* binding */ raf),
/* harmony export */   "t": () => (/* binding */ transitionEndAsync)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const transitionEndAsync = (el, expectedDuration = 0) => {
  return new Promise(resolve => {
    transitionEnd(el, expectedDuration, resolve);
  });
};
/**
 * Allows developer to wait for a transition
 * to finish and fallback to a timer if the
 * transition is cancelled or otherwise
 * never finishes. Also see transitionEndAsync
 * which is an await-able version of this.
 */
const transitionEnd = (el, expectedDuration = 0, callback) => {
  let unRegTrans;
  let animationTimeout;
  const opts = { passive: true };
  const ANIMATION_FALLBACK_TIMEOUT = 500;
  const unregister = () => {
    if (unRegTrans) {
      unRegTrans();
    }
  };
  const onTransitionEnd = (ev) => {
    if (ev === undefined || el === ev.target) {
      unregister();
      callback(ev);
    }
  };
  if (el) {
    el.addEventListener('webkitTransitionEnd', onTransitionEnd, opts);
    el.addEventListener('transitionend', onTransitionEnd, opts);
    animationTimeout = setTimeout(onTransitionEnd, expectedDuration + ANIMATION_FALLBACK_TIMEOUT);
    unRegTrans = () => {
      if (animationTimeout) {
        clearTimeout(animationTimeout);
        animationTimeout = undefined;
      }
      el.removeEventListener('webkitTransitionEnd', onTransitionEnd, opts);
      el.removeEventListener('transitionend', onTransitionEnd, opts);
    };
  }
  return unregister;
};
/**
 * Waits for a component to be ready for
 * both custom element and non-custom element builds.
 * If non-custom element build, el.componentOnReady
 * will be used.
 * For custom element builds, we wait a frame
 * so that the inner contents of the component
 * have a chance to render.
 *
 * Use this utility rather than calling
 * el.componentOnReady yourself.
 */
const componentOnReady = (el, callback) => {
  if (el.componentOnReady) {
    el.componentOnReady().then((resolvedEl) => callback(resolvedEl));
  }
  else {
    raf(() => callback(el));
  }
};
/**
 * Elements inside of web components sometimes need to inherit global attributes
 * set on the host. For example, the inner input in `ion-input` should inherit
 * the `title` attribute that developers set directly on `ion-input`. This
 * helper function should be called in componentWillLoad and assigned to a variable
 * that is later used in the render function.
 *
 * This does not need to be reactive as changing attributes on the host element
 * does not trigger a re-render.
 */
const inheritAttributes = (el, attributes = []) => {
  const attributeObject = {};
  attributes.forEach(attr => {
    if (el.hasAttribute(attr)) {
      const value = el.getAttribute(attr);
      if (value !== null) {
        attributeObject[attr] = el.getAttribute(attr);
      }
      el.removeAttribute(attr);
    }
  });
  return attributeObject;
};
const addEventListener = (el, eventName, callback, opts) => {
  if (typeof window !== 'undefined') {
    const win = window;
    const config = win && win.Ionic && win.Ionic.config;
    if (config) {
      const ael = config.get('_ael');
      if (ael) {
        return ael(el, eventName, callback, opts);
      }
      else if (config._ael) {
        return config._ael(el, eventName, callback, opts);
      }
    }
  }
  return el.addEventListener(eventName, callback, opts);
};
const removeEventListener = (el, eventName, callback, opts) => {
  if (typeof window !== 'undefined') {
    const win = window;
    const config = win && win.Ionic && win.Ionic.config;
    if (config) {
      const rel = config.get('_rel');
      if (rel) {
        return rel(el, eventName, callback, opts);
      }
      else if (config._rel) {
        return config._rel(el, eventName, callback, opts);
      }
    }
  }
  return el.removeEventListener(eventName, callback, opts);
};
/**
 * Gets the root context of a shadow dom element
 * On newer browsers this will be the shadowRoot,
 * but for older browser this may just be the
 * element itself.
 *
 * Useful for whenever you need to explicitly
 * do "myElement.shadowRoot!.querySelector(...)".
 */
const getElementRoot = (el, fallback = el) => {
  return el.shadowRoot || fallback;
};
/**
 * Patched version of requestAnimationFrame that avoids ngzone
 * Use only when you know ngzone should not run
 */
const raf = (h) => {
  if (typeof __zone_symbol__requestAnimationFrame === 'function') {
    return __zone_symbol__requestAnimationFrame(h);
  }
  if (typeof requestAnimationFrame === 'function') {
    return requestAnimationFrame(h);
  }
  return setTimeout(h);
};
const hasShadowDom = (el) => {
  return !!el.shadowRoot && !!el.attachShadow;
};
const findItemLabel = (componentEl) => {
  const itemEl = componentEl.closest('ion-item');
  if (itemEl) {
    return itemEl.querySelector('ion-label');
  }
  return null;
};
const focusElement = (el) => {
  el.focus();
  /**
   * When programmatically focusing an element,
   * the focus-visible utility will not run because
   * it is expecting a keyboard event to have triggered this;
   * however, there are times when we need to manually control
   * this behavior so we call the `setFocus` method on ion-app
   * which will let us explicitly set the elements to focus.
   */
  if (el.classList.contains('ion-focusable')) {
    const app = el.closest('ion-app');
    if (app) {
      app.setFocus([el]);
    }
  }
};
/**
 * This method is used for Ionic's input components that use Shadow DOM. In
 * order to properly label the inputs to work with screen readers, we need
 * to get the text content of the label outside of the shadow root and pass
 * it to the input inside of the shadow root.
 *
 * Referencing label elements by id from outside of the component is
 * impossible due to the shadow boundary, read more here:
 * https://developer.salesforce.com/blogs/2020/01/accessibility-for-web-components.html
 *
 * @param componentEl The shadow element that needs the aria label
 * @param inputId The unique identifier for the input
 */
const getAriaLabel = (componentEl, inputId) => {
  let labelText;
  // If the user provides their own label via the aria-labelledby attr
  // we should use that instead of looking for an ion-label
  const labelledBy = componentEl.getAttribute('aria-labelledby');
  // Grab the id off of the component in case they are using
  // a custom label using the label element
  const componentId = componentEl.id;
  let labelId = labelledBy !== null && labelledBy.trim() !== ''
    ? labelledBy
    : inputId + '-lbl';
  let label = labelledBy !== null && labelledBy.trim() !== ''
    ? document.getElementById(labelledBy)
    : findItemLabel(componentEl);
  if (label) {
    if (labelledBy === null) {
      label.id = labelId;
    }
    labelText = label.textContent;
    label.setAttribute('aria-hidden', 'true');
    // if there is no label, check to see if the user has provided
    // one by setting an id on the component and using the label element
  }
  else if (componentId.trim() !== '') {
    label = document.querySelector(`label[for="${componentId}"]`);
    if (label) {
      if (label.id !== '') {
        labelId = label.id;
      }
      else {
        label.id = labelId = `${componentId}-lbl`;
      }
      labelText = label.textContent;
    }
  }
  return { label, labelId, labelText };
};
/**
 * This method is used to add a hidden input to a host element that contains
 * a Shadow DOM. It does not add the input inside of the Shadow root which
 * allows it to be picked up inside of forms. It should contain the same
 * values as the host element.
 *
 * @param always Add a hidden input even if the container does not use Shadow
 * @param container The element where the input will be added
 * @param name The name of the input
 * @param value The value of the input
 * @param disabled If true, the input is disabled
 */
const renderHiddenInput = (always, container, name, value, disabled) => {
  if (always || hasShadowDom(container)) {
    let input = container.querySelector('input.aux-input');
    if (!input) {
      input = container.ownerDocument.createElement('input');
      input.type = 'hidden';
      input.classList.add('aux-input');
      container.appendChild(input);
    }
    input.disabled = disabled;
    input.name = name;
    input.value = value || '';
  }
};
const clamp = (min, n, max) => {
  return Math.max(min, Math.min(n, max));
};
const assert = (actual, reason) => {
  if (!actual) {
    const message = 'ASSERT: ' + reason;
    console.error(message);
    debugger; // tslint:disable-line
    throw new Error(message);
  }
};
const now = (ev) => {
  return ev.timeStamp || Date.now();
};
const pointerCoord = (ev) => {
  // get X coordinates for either a mouse click
  // or a touch depending on the given event
  if (ev) {
    const changedTouches = ev.changedTouches;
    if (changedTouches && changedTouches.length > 0) {
      const touch = changedTouches[0];
      return { x: touch.clientX, y: touch.clientY };
    }
    if (ev.pageX !== undefined) {
      return { x: ev.pageX, y: ev.pageY };
    }
  }
  return { x: 0, y: 0 };
};
/**
 * @hidden
 * Given a side, return if it should be on the end
 * based on the value of dir
 * @param side the side
 * @param isRTL whether the application dir is rtl
 */
const isEndSide = (side) => {
  const isRTL = document.dir === 'rtl';
  switch (side) {
    case 'start': return isRTL;
    case 'end': return !isRTL;
    default:
      throw new Error(`"${side}" is not a valid value for [side]. Use "start" or "end" instead.`);
  }
};
const debounceEvent = (event, wait) => {
  const original = event._original || event;
  return {
    _original: event,
    emit: debounce(original.emit.bind(original), wait)
  };
};
const debounce = (func, wait = 0) => {
  let timer;
  return (...args) => {
    clearTimeout(timer);
    timer = setTimeout(func, wait, ...args);
  };
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "B": () => (/* binding */ Build),
/* harmony export */   "H": () => (/* binding */ Host),
/* harmony export */   "N": () => (/* binding */ NAMESPACE),
/* harmony export */   "a": () => (/* binding */ setMode),
/* harmony export */   "b": () => (/* binding */ bootstrapLazy),
/* harmony export */   "c": () => (/* binding */ writeTask),
/* harmony export */   "d": () => (/* binding */ doc),
/* harmony export */   "e": () => (/* binding */ createEvent),
/* harmony export */   "f": () => (/* binding */ readTask),
/* harmony export */   "g": () => (/* binding */ getMode),
/* harmony export */   "h": () => (/* binding */ h),
/* harmony export */   "i": () => (/* binding */ getElement),
/* harmony export */   "j": () => (/* binding */ forceUpdate),
/* harmony export */   "k": () => (/* binding */ getAssetPath),
/* harmony export */   "p": () => (/* binding */ promiseResolve),
/* harmony export */   "r": () => (/* binding */ registerInstance),
/* harmony export */   "s": () => (/* binding */ setPlatformHelpers),
/* harmony export */   "w": () => (/* binding */ win)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const NAMESPACE = 'ionic';

let scopeId;
let contentRef;
let hostTagName;
let useNativeShadowDom = false;
let checkSlotFallbackVisibility = false;
let checkSlotRelocate = false;
let isSvgMode = false;
let queuePending = false;
const win = typeof window !== 'undefined' ? window : {};
const doc = win.document || { head: {} };
const plt = {
    $flags$: 0,
    $resourcesUrl$: '',
    jmp: (h) => h(),
    raf: (h) => requestAnimationFrame(h),
    ael: (el, eventName, listener, opts) => el.addEventListener(eventName, listener, opts),
    rel: (el, eventName, listener, opts) => el.removeEventListener(eventName, listener, opts),
    ce: (eventName, opts) => new CustomEvent(eventName, opts),
};
const setPlatformHelpers = (helpers) => {
    Object.assign(plt, helpers);
};
const supportsShadow = true;
const promiseResolve = (v) => Promise.resolve(v);
const supportsConstructibleStylesheets = /*@__PURE__*/ (() => {
        try {
            new CSSStyleSheet();
            return typeof new CSSStyleSheet().replace === 'function';
        }
        catch (e) { }
        return false;
    })()
    ;
const addHostEventListeners = (elm, hostRef, listeners, attachParentListeners) => {
    if (listeners) {
        listeners.map(([flags, name, method]) => {
            const target = getHostListenerTarget(elm, flags) ;
            const handler = hostListenerProxy(hostRef, method);
            const opts = hostListenerOpts(flags);
            plt.ael(target, name, handler, opts);
            (hostRef.$rmListeners$ = hostRef.$rmListeners$ || []).push(() => plt.rel(target, name, handler, opts));
        });
    }
};
const hostListenerProxy = (hostRef, methodName) => (ev) => {
    try {
        {
            if (hostRef.$flags$ & 256 /* isListenReady */) {
                // instance is ready, let's call it's member method for this event
                hostRef.$lazyInstance$[methodName](ev);
            }
            else {
                (hostRef.$queuedListeners$ = hostRef.$queuedListeners$ || []).push([methodName, ev]);
            }
        }
    }
    catch (e) {
        consoleError(e);
    }
};
const getHostListenerTarget = (elm, flags) => {
    if (flags & 4 /* TargetDocument */)
        return doc;
    if (flags & 8 /* TargetWindow */)
        return win;
    if (flags & 16 /* TargetBody */)
        return doc.body;
    return elm;
};
// prettier-ignore
const hostListenerOpts = (flags) => (flags & 2 /* Capture */) !== 0;
const CONTENT_REF_ID = 'r';
const ORG_LOCATION_ID = 'o';
const SLOT_NODE_ID = 's';
const TEXT_NODE_ID = 't';
const HYDRATE_ID = 's-id';
const HYDRATED_STYLE_ID = 'sty-id';
const HYDRATE_CHILD_ID = 'c-id';
const HYDRATED_CSS = '{visibility:hidden}.hydrated{visibility:inherit}';
const XLINK_NS = 'http://www.w3.org/1999/xlink';
const createTime = (fnName, tagName = '') => {
    {
        return () => {
            return;
        };
    }
};
const uniqueTime = (key, measureText) => {
    {
        return () => {
            return;
        };
    }
};
const rootAppliedStyles = new WeakMap();
const registerStyle = (scopeId, cssText, allowCS) => {
    let style = styles.get(scopeId);
    if (supportsConstructibleStylesheets && allowCS) {
        style = (style || new CSSStyleSheet());
        style.replace(cssText);
    }
    else {
        style = cssText;
    }
    styles.set(scopeId, style);
};
const addStyle = (styleContainerNode, cmpMeta, mode, hostElm) => {
    let scopeId = getScopeId(cmpMeta, mode);
    let style = styles.get(scopeId);
    // if an element is NOT connected then getRootNode() will return the wrong root node
    // so the fallback is to always use the document for the root node in those cases
    styleContainerNode = styleContainerNode.nodeType === 11 /* DocumentFragment */ ? styleContainerNode : doc;
    if (style) {
        if (typeof style === 'string') {
            styleContainerNode = styleContainerNode.head || styleContainerNode;
            let appliedStyles = rootAppliedStyles.get(styleContainerNode);
            let styleElm;
            if (!appliedStyles) {
                rootAppliedStyles.set(styleContainerNode, (appliedStyles = new Set()));
            }
            if (!appliedStyles.has(scopeId)) {
                if (styleContainerNode.host &&
                    (styleElm = styleContainerNode.querySelector(`[${HYDRATED_STYLE_ID}="${scopeId}"]`))) {
                    // This is only happening on native shadow-dom, do not needs CSS var shim
                    styleElm.innerHTML = style;
                }
                else {
                    {
                        styleElm = doc.createElement('style');
                        styleElm.innerHTML = style;
                    }
                    styleContainerNode.insertBefore(styleElm, styleContainerNode.querySelector('link'));
                }
                if (appliedStyles) {
                    appliedStyles.add(scopeId);
                }
            }
        }
        else if (!styleContainerNode.adoptedStyleSheets.includes(style)) {
            styleContainerNode.adoptedStyleSheets = [...styleContainerNode.adoptedStyleSheets, style];
        }
    }
    return scopeId;
};
const attachStyles = (hostRef) => {
    const cmpMeta = hostRef.$cmpMeta$;
    const elm = hostRef.$hostElement$;
    const flags = cmpMeta.$flags$;
    const endAttachStyles = createTime('attachStyles', cmpMeta.$tagName$);
    const scopeId = addStyle(elm.shadowRoot ? elm.shadowRoot : elm.getRootNode(), cmpMeta, hostRef.$modeName$);
    if (flags & 10 /* needsScopedEncapsulation */) {
        // only required when we're NOT using native shadow dom (slot)
        // or this browser doesn't support native shadow dom
        // and this host element was NOT created with SSR
        // let's pick out the inner content for slot projection
        // create a node to represent where the original
        // content was first placed, which is useful later on
        // DOM WRITE!!
        elm['s-sc'] = scopeId;
        elm.classList.add(scopeId + '-h');
        if (flags & 2 /* scopedCssEncapsulation */) {
            elm.classList.add(scopeId + '-s');
        }
    }
    endAttachStyles();
};
const getScopeId = (cmp, mode) => 'sc-' + (mode && cmp.$flags$ & 32 /* hasMode */ ? cmp.$tagName$ + '-' + mode : cmp.$tagName$);
const convertScopedToShadow = (css) => css.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g, '$1{');
// Private
const computeMode = (elm) => modeResolutionChain.map((h) => h(elm)).find((m) => !!m);
// Public
const setMode = (handler) => modeResolutionChain.push(handler);
const getMode = (ref) => getHostRef(ref).$modeName$;
/**
 * Default style mode id
 */
/**
 * Reusable empty obj/array
 * Don't add values to these!!
 */
const EMPTY_OBJ = {};
/**
 * Namespaces
 */
const SVG_NS = 'http://www.w3.org/2000/svg';
const HTML_NS = 'http://www.w3.org/1999/xhtml';
const isDef = (v) => v != null;
const isComplexType = (o) => {
    // https://jsperf.com/typeof-fn-object/5
    o = typeof o;
    return o === 'object' || o === 'function';
};
/**
 * Production h() function based on Preact by
 * Jason Miller (@developit)
 * Licensed under the MIT License
 * https://github.com/developit/preact/blob/master/LICENSE
 *
 * Modified for Stencil's compiler and vdom
 */
// const stack: any[] = [];
// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, child?: d.ChildType): d.VNode;
// export function h(nodeName: string | d.FunctionalComponent, vnodeData: d.PropsType, ...children: d.ChildType[]): d.VNode;
const h = (nodeName, vnodeData, ...children) => {
    let child = null;
    let key = null;
    let slotName = null;
    let simple = false;
    let lastSimple = false;
    let vNodeChildren = [];
    const walk = (c) => {
        for (let i = 0; i < c.length; i++) {
            child = c[i];
            if (Array.isArray(child)) {
                walk(child);
            }
            else if (child != null && typeof child !== 'boolean') {
                if ((simple = typeof nodeName !== 'function' && !isComplexType(child))) {
                    child = String(child);
                }
                if (simple && lastSimple) {
                    // If the previous child was simple (string), we merge both
                    vNodeChildren[vNodeChildren.length - 1].$text$ += child;
                }
                else {
                    // Append a new vNode, if it's text, we create a text vNode
                    vNodeChildren.push(simple ? newVNode(null, child) : child);
                }
                lastSimple = simple;
            }
        }
    };
    walk(children);
    if (vnodeData) {
        // normalize class / classname attributes
        if (vnodeData.key) {
            key = vnodeData.key;
        }
        if (vnodeData.name) {
            slotName = vnodeData.name;
        }
        {
            const classData = vnodeData.className || vnodeData.class;
            if (classData) {
                vnodeData.class =
                    typeof classData !== 'object'
                        ? classData
                        : Object.keys(classData)
                            .filter((k) => classData[k])
                            .join(' ');
            }
        }
    }
    if (typeof nodeName === 'function') {
        // nodeName is a functional component
        return nodeName(vnodeData === null ? {} : vnodeData, vNodeChildren, vdomFnUtils);
    }
    const vnode = newVNode(nodeName, null);
    vnode.$attrs$ = vnodeData;
    if (vNodeChildren.length > 0) {
        vnode.$children$ = vNodeChildren;
    }
    {
        vnode.$key$ = key;
    }
    {
        vnode.$name$ = slotName;
    }
    return vnode;
};
const newVNode = (tag, text) => {
    const vnode = {
        $flags$: 0,
        $tag$: tag,
        $text$: text,
        $elm$: null,
        $children$: null,
    };
    {
        vnode.$attrs$ = null;
    }
    {
        vnode.$key$ = null;
    }
    {
        vnode.$name$ = null;
    }
    return vnode;
};
const Host = {};
const isHost = (node) => node && node.$tag$ === Host;
const vdomFnUtils = {
    forEach: (children, cb) => children.map(convertToPublic).forEach(cb),
    map: (children, cb) => children.map(convertToPublic).map(cb).map(convertToPrivate),
};
const convertToPublic = (node) => ({
    vattrs: node.$attrs$,
    vchildren: node.$children$,
    vkey: node.$key$,
    vname: node.$name$,
    vtag: node.$tag$,
    vtext: node.$text$,
});
const convertToPrivate = (node) => {
    if (typeof node.vtag === 'function') {
        const vnodeData = Object.assign({}, node.vattrs);
        if (node.vkey) {
            vnodeData.key = node.vkey;
        }
        if (node.vname) {
            vnodeData.name = node.vname;
        }
        return h(node.vtag, vnodeData, ...(node.vchildren || []));
    }
    const vnode = newVNode(node.vtag, node.vtext);
    vnode.$attrs$ = node.vattrs;
    vnode.$children$ = node.vchildren;
    vnode.$key$ = node.vkey;
    vnode.$name$ = node.vname;
    return vnode;
};
/**
 * Production setAccessor() function based on Preact by
 * Jason Miller (@developit)
 * Licensed under the MIT License
 * https://github.com/developit/preact/blob/master/LICENSE
 *
 * Modified for Stencil's compiler and vdom
 */
const setAccessor = (elm, memberName, oldValue, newValue, isSvg, flags) => {
    if (oldValue !== newValue) {
        let isProp = isMemberInElement(elm, memberName);
        let ln = memberName.toLowerCase();
        if (memberName === 'class') {
            const classList = elm.classList;
            const oldClasses = parseClassList(oldValue);
            const newClasses = parseClassList(newValue);
            classList.remove(...oldClasses.filter((c) => c && !newClasses.includes(c)));
            classList.add(...newClasses.filter((c) => c && !oldClasses.includes(c)));
        }
        else if (memberName === 'style') {
            // update style attribute, css properties and values
            {
                for (const prop in oldValue) {
                    if (!newValue || newValue[prop] == null) {
                        if (prop.includes('-')) {
                            elm.style.removeProperty(prop);
                        }
                        else {
                            elm.style[prop] = '';
                        }
                    }
                }
            }
            for (const prop in newValue) {
                if (!oldValue || newValue[prop] !== oldValue[prop]) {
                    if (prop.includes('-')) {
                        elm.style.setProperty(prop, newValue[prop]);
                    }
                    else {
                        elm.style[prop] = newValue[prop];
                    }
                }
            }
        }
        else if (memberName === 'key')
            ;
        else if (memberName === 'ref') {
            // minifier will clean this up
            if (newValue) {
                newValue(elm);
            }
        }
        else if ((!isProp ) &&
            memberName[0] === 'o' &&
            memberName[1] === 'n') {
            // Event Handlers
            // so if the member name starts with "on" and the 3rd characters is
            // a capital letter, and it's not already a member on the element,
            // then we're assuming it's an event listener
            if (memberName[2] === '-') {
                // on- prefixed events
                // allows to be explicit about the dom event to listen without any magic
                // under the hood:
                // <my-cmp on-click> // listens for "click"
                // <my-cmp on-Click> // listens for "Click"
                // <my-cmp on-ionChange> // listens for "ionChange"
                // <my-cmp on-EVENTS> // listens for "EVENTS"
                memberName = memberName.slice(3);
            }
            else if (isMemberInElement(win, ln)) {
                // standard event
                // the JSX attribute could have been "onMouseOver" and the
                // member name "onmouseover" is on the window's prototype
                // so let's add the listener "mouseover", which is all lowercased
                memberName = ln.slice(2);
            }
            else {
                // custom event
                // the JSX attribute could have been "onMyCustomEvent"
                // so let's trim off the "on" prefix and lowercase the first character
                // and add the listener "myCustomEvent"
                // except for the first character, we keep the event name case
                memberName = ln[2] + memberName.slice(3);
            }
            if (oldValue) {
                plt.rel(elm, memberName, oldValue, false);
            }
            if (newValue) {
                plt.ael(elm, memberName, newValue, false);
            }
        }
        else {
            // Set property if it exists and it's not a SVG
            const isComplex = isComplexType(newValue);
            if ((isProp || (isComplex && newValue !== null)) && !isSvg) {
                try {
                    if (!elm.tagName.includes('-')) {
                        let n = newValue == null ? '' : newValue;
                        // Workaround for Safari, moving the <input> caret when re-assigning the same valued
                        if (memberName === 'list') {
                            isProp = false;
                        }
                        else if (oldValue == null || elm[memberName] != n) {
                            elm[memberName] = n;
                        }
                    }
                    else {
                        elm[memberName] = newValue;
                    }
                }
                catch (e) { }
            }
            /**
             * Need to manually update attribute if:
             * - memberName is not an attribute
             * - if we are rendering the host element in order to reflect attribute
             * - if it's a SVG, since properties might not work in <svg>
             * - if the newValue is null/undefined or 'false'.
             */
            let xlink = false;
            {
                if (ln !== (ln = ln.replace(/^xlink\:?/, ''))) {
                    memberName = ln;
                    xlink = true;
                }
            }
            if (newValue == null || newValue === false) {
                if (newValue !== false || elm.getAttribute(memberName) === '') {
                    if (xlink) {
                        elm.removeAttributeNS(XLINK_NS, memberName);
                    }
                    else {
                        elm.removeAttribute(memberName);
                    }
                }
            }
            else if ((!isProp || flags & 4 /* isHost */ || isSvg) && !isComplex) {
                newValue = newValue === true ? '' : newValue;
                if (xlink) {
                    elm.setAttributeNS(XLINK_NS, memberName, newValue);
                }
                else {
                    elm.setAttribute(memberName, newValue);
                }
            }
        }
    }
};
const parseClassListRegex = /\s/;
const parseClassList = (value) => (!value ? [] : value.split(parseClassListRegex));
const updateElement = (oldVnode, newVnode, isSvgMode, memberName) => {
    // if the element passed in is a shadow root, which is a document fragment
    // then we want to be adding attrs/props to the shadow root's "host" element
    // if it's not a shadow root, then we add attrs/props to the same element
    const elm = newVnode.$elm$.nodeType === 11 /* DocumentFragment */ && newVnode.$elm$.host
        ? newVnode.$elm$.host
        : newVnode.$elm$;
    const oldVnodeAttrs = (oldVnode && oldVnode.$attrs$) || EMPTY_OBJ;
    const newVnodeAttrs = newVnode.$attrs$ || EMPTY_OBJ;
    {
        // remove attributes no longer present on the vnode by setting them to undefined
        for (memberName in oldVnodeAttrs) {
            if (!(memberName in newVnodeAttrs)) {
                setAccessor(elm, memberName, oldVnodeAttrs[memberName], undefined, isSvgMode, newVnode.$flags$);
            }
        }
    }
    // add new & update changed attributes
    for (memberName in newVnodeAttrs) {
        setAccessor(elm, memberName, oldVnodeAttrs[memberName], newVnodeAttrs[memberName], isSvgMode, newVnode.$flags$);
    }
};
const createElm = (oldParentVNode, newParentVNode, childIndex, parentElm) => {
    // tslint:disable-next-line: prefer-const
    let newVNode = newParentVNode.$children$[childIndex];
    let i = 0;
    let elm;
    let childNode;
    let oldVNode;
    if (!useNativeShadowDom) {
        // remember for later we need to check to relocate nodes
        checkSlotRelocate = true;
        if (newVNode.$tag$ === 'slot') {
            if (scopeId) {
                // scoped css needs to add its scoped id to the parent element
                parentElm.classList.add(scopeId + '-s');
            }
            newVNode.$flags$ |= newVNode.$children$
                ? // slot element has fallback content
                    2 /* isSlotFallback */
                : // slot element does not have fallback content
                    1 /* isSlotReference */;
        }
    }
    if (newVNode.$text$ !== null) {
        // create text node
        elm = newVNode.$elm$ = doc.createTextNode(newVNode.$text$);
    }
    else if (newVNode.$flags$ & 1 /* isSlotReference */) {
        // create a slot reference node
        elm = newVNode.$elm$ =
            doc.createTextNode('');
    }
    else {
        if (!isSvgMode) {
            isSvgMode = newVNode.$tag$ === 'svg';
        }
        // create element
        elm = newVNode.$elm$ = (doc.createElementNS(isSvgMode ? SVG_NS : HTML_NS, newVNode.$flags$ & 2 /* isSlotFallback */
                ? 'slot-fb'
                : newVNode.$tag$)
            );
        if (isSvgMode && newVNode.$tag$ === 'foreignObject') {
            isSvgMode = false;
        }
        // add css classes, attrs, props, listeners, etc.
        {
            updateElement(null, newVNode, isSvgMode);
        }
        if (isDef(scopeId) && elm['s-si'] !== scopeId) {
            // if there is a scopeId and this is the initial render
            // then let's add the scopeId as a css class
            elm.classList.add((elm['s-si'] = scopeId));
        }
        if (newVNode.$children$) {
            for (i = 0; i < newVNode.$children$.length; ++i) {
                // create the node
                childNode = createElm(oldParentVNode, newVNode, i, elm);
                // return node could have been null
                if (childNode) {
                    // append our new node
                    elm.appendChild(childNode);
                }
            }
        }
        {
            if (newVNode.$tag$ === 'svg') {
                // Only reset the SVG context when we're exiting <svg> element
                isSvgMode = false;
            }
            else if (elm.tagName === 'foreignObject') {
                // Reenter SVG context when we're exiting <foreignObject> element
                isSvgMode = true;
            }
        }
    }
    {
        elm['s-hn'] = hostTagName;
        if (newVNode.$flags$ & (2 /* isSlotFallback */ | 1 /* isSlotReference */)) {
            // remember the content reference comment
            elm['s-sr'] = true;
            // remember the content reference comment
            elm['s-cr'] = contentRef;
            // remember the slot name, or empty string for default slot
            elm['s-sn'] = newVNode.$name$ || '';
            // check if we've got an old vnode for this slot
            oldVNode = oldParentVNode && oldParentVNode.$children$ && oldParentVNode.$children$[childIndex];
            if (oldVNode && oldVNode.$tag$ === newVNode.$tag$ && oldParentVNode.$elm$) {
                // we've got an old slot vnode and the wrapper is being replaced
                // so let's move the old slot content back to it's original location
                putBackInOriginalLocation(oldParentVNode.$elm$, false);
            }
        }
    }
    return elm;
};
const putBackInOriginalLocation = (parentElm, recursive) => {
    plt.$flags$ |= 1 /* isTmpDisconnected */;
    const oldSlotChildNodes = parentElm.childNodes;
    for (let i = oldSlotChildNodes.length - 1; i >= 0; i--) {
        const childNode = oldSlotChildNodes[i];
        if (childNode['s-hn'] !== hostTagName && childNode['s-ol']) {
            // // this child node in the old element is from another component
            // // remove this node from the old slot's parent
            // childNode.remove();
            // and relocate it back to it's original location
            parentReferenceNode(childNode).insertBefore(childNode, referenceNode(childNode));
            // remove the old original location comment entirely
            // later on the patch function will know what to do
            // and move this to the correct spot in need be
            childNode['s-ol'].remove();
            childNode['s-ol'] = undefined;
            checkSlotRelocate = true;
        }
        if (recursive) {
            putBackInOriginalLocation(childNode, recursive);
        }
    }
    plt.$flags$ &= ~1 /* isTmpDisconnected */;
};
const addVnodes = (parentElm, before, parentVNode, vnodes, startIdx, endIdx) => {
    let containerElm = ((parentElm['s-cr'] && parentElm['s-cr'].parentNode) || parentElm);
    let childNode;
    if (containerElm.shadowRoot && containerElm.tagName === hostTagName) {
        containerElm = containerElm.shadowRoot;
    }
    for (; startIdx <= endIdx; ++startIdx) {
        if (vnodes[startIdx]) {
            childNode = createElm(null, parentVNode, startIdx, parentElm);
            if (childNode) {
                vnodes[startIdx].$elm$ = childNode;
                containerElm.insertBefore(childNode, referenceNode(before) );
            }
        }
    }
};
const removeVnodes = (vnodes, startIdx, endIdx, vnode, elm) => {
    for (; startIdx <= endIdx; ++startIdx) {
        if ((vnode = vnodes[startIdx])) {
            elm = vnode.$elm$;
            callNodeRefs(vnode);
            {
                // we're removing this element
                // so it's possible we need to show slot fallback content now
                checkSlotFallbackVisibility = true;
                if (elm['s-ol']) {
                    // remove the original location comment
                    elm['s-ol'].remove();
                }
                else {
                    // it's possible that child nodes of the node
                    // that's being removed are slot nodes
                    putBackInOriginalLocation(elm, true);
                }
            }
            // remove the vnode's element from the dom
            elm.remove();
        }
    }
};
const updateChildren = (parentElm, oldCh, newVNode, newCh) => {
    let oldStartIdx = 0;
    let newStartIdx = 0;
    let idxInOld = 0;
    let i = 0;
    let oldEndIdx = oldCh.length - 1;
    let oldStartVnode = oldCh[0];
    let oldEndVnode = oldCh[oldEndIdx];
    let newEndIdx = newCh.length - 1;
    let newStartVnode = newCh[0];
    let newEndVnode = newCh[newEndIdx];
    let node;
    let elmToMove;
    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
        if (oldStartVnode == null) {
            // Vnode might have been moved left
            oldStartVnode = oldCh[++oldStartIdx];
        }
        else if (oldEndVnode == null) {
            oldEndVnode = oldCh[--oldEndIdx];
        }
        else if (newStartVnode == null) {
            newStartVnode = newCh[++newStartIdx];
        }
        else if (newEndVnode == null) {
            newEndVnode = newCh[--newEndIdx];
        }
        else if (isSameVnode(oldStartVnode, newStartVnode)) {
            patch(oldStartVnode, newStartVnode);
            oldStartVnode = oldCh[++oldStartIdx];
            newStartVnode = newCh[++newStartIdx];
        }
        else if (isSameVnode(oldEndVnode, newEndVnode)) {
            patch(oldEndVnode, newEndVnode);
            oldEndVnode = oldCh[--oldEndIdx];
            newEndVnode = newCh[--newEndIdx];
        }
        else if (isSameVnode(oldStartVnode, newEndVnode)) {
            // Vnode moved right
            if ((oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {
                putBackInOriginalLocation(oldStartVnode.$elm$.parentNode, false);
            }
            patch(oldStartVnode, newEndVnode);
            parentElm.insertBefore(oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);
            oldStartVnode = oldCh[++oldStartIdx];
            newEndVnode = newCh[--newEndIdx];
        }
        else if (isSameVnode(oldEndVnode, newStartVnode)) {
            // Vnode moved left
            if ((oldStartVnode.$tag$ === 'slot' || newEndVnode.$tag$ === 'slot')) {
                putBackInOriginalLocation(oldEndVnode.$elm$.parentNode, false);
            }
            patch(oldEndVnode, newStartVnode);
            parentElm.insertBefore(oldEndVnode.$elm$, oldStartVnode.$elm$);
            oldEndVnode = oldCh[--oldEndIdx];
            newStartVnode = newCh[++newStartIdx];
        }
        else {
            // createKeyToOldIdx
            idxInOld = -1;
            {
                for (i = oldStartIdx; i <= oldEndIdx; ++i) {
                    if (oldCh[i] && oldCh[i].$key$ !== null && oldCh[i].$key$ === newStartVnode.$key$) {
                        idxInOld = i;
                        break;
                    }
                }
            }
            if (idxInOld >= 0) {
                elmToMove = oldCh[idxInOld];
                if (elmToMove.$tag$ !== newStartVnode.$tag$) {
                    node = createElm(oldCh && oldCh[newStartIdx], newVNode, idxInOld, parentElm);
                }
                else {
                    patch(elmToMove, newStartVnode);
                    oldCh[idxInOld] = undefined;
                    node = elmToMove.$elm$;
                }
                newStartVnode = newCh[++newStartIdx];
            }
            else {
                // new element
                node = createElm(oldCh && oldCh[newStartIdx], newVNode, newStartIdx, parentElm);
                newStartVnode = newCh[++newStartIdx];
            }
            if (node) {
                {
                    parentReferenceNode(oldStartVnode.$elm$).insertBefore(node, referenceNode(oldStartVnode.$elm$));
                }
            }
        }
    }
    if (oldStartIdx > oldEndIdx) {
        addVnodes(parentElm, newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$, newVNode, newCh, newStartIdx, newEndIdx);
    }
    else if (newStartIdx > newEndIdx) {
        removeVnodes(oldCh, oldStartIdx, oldEndIdx);
    }
};
const isSameVnode = (vnode1, vnode2) => {
    // compare if two vnode to see if they're "technically" the same
    // need to have the same element tag, and same key to be the same
    if (vnode1.$tag$ === vnode2.$tag$) {
        if (vnode1.$tag$ === 'slot') {
            return vnode1.$name$ === vnode2.$name$;
        }
        {
            return vnode1.$key$ === vnode2.$key$;
        }
    }
    return false;
};
const referenceNode = (node) => {
    // this node was relocated to a new location in the dom
    // because of some other component's slot
    // but we still have an html comment in place of where
    // it's original location was according to it's original vdom
    return (node && node['s-ol']) || node;
};
const parentReferenceNode = (node) => (node['s-ol'] ? node['s-ol'] : node).parentNode;
const patch = (oldVNode, newVNode) => {
    const elm = (newVNode.$elm$ = oldVNode.$elm$);
    const oldChildren = oldVNode.$children$;
    const newChildren = newVNode.$children$;
    const tag = newVNode.$tag$;
    const text = newVNode.$text$;
    let defaultHolder;
    if (text === null) {
        {
            // test if we're rendering an svg element, or still rendering nodes inside of one
            // only add this to the when the compiler sees we're using an svg somewhere
            isSvgMode = tag === 'svg' ? true : tag === 'foreignObject' ? false : isSvgMode;
        }
        // element node
        {
            if (tag === 'slot')
                ;
            else {
                // either this is the first render of an element OR it's an update
                // AND we already know it's possible it could have changed
                // this updates the element's css classes, attrs, props, listeners, etc.
                updateElement(oldVNode, newVNode, isSvgMode);
            }
        }
        if (oldChildren !== null && newChildren !== null) {
            // looks like there's child vnodes for both the old and new vnodes
            updateChildren(elm, oldChildren, newVNode, newChildren);
        }
        else if (newChildren !== null) {
            // no old child vnodes, but there are new child vnodes to add
            if (oldVNode.$text$ !== null) {
                // the old vnode was text, so be sure to clear it out
                elm.textContent = '';
            }
            // add the new vnode children
            addVnodes(elm, null, newVNode, newChildren, 0, newChildren.length - 1);
        }
        else if (oldChildren !== null) {
            // no new child vnodes, but there are old child vnodes to remove
            removeVnodes(oldChildren, 0, oldChildren.length - 1);
        }
        if (isSvgMode && tag === 'svg') {
            isSvgMode = false;
        }
    }
    else if ((defaultHolder = elm['s-cr'])) {
        // this element has slotted content
        defaultHolder.parentNode.textContent = text;
    }
    else if (oldVNode.$text$ !== text) {
        // update the text content for the text only vnode
        // and also only if the text is different than before
        elm.data = text;
    }
};
const updateFallbackSlotVisibility = (elm) => {
    // tslint:disable-next-line: prefer-const
    let childNodes = elm.childNodes;
    let childNode;
    let i;
    let ilen;
    let j;
    let slotNameAttr;
    let nodeType;
    for (i = 0, ilen = childNodes.length; i < ilen; i++) {
        childNode = childNodes[i];
        if (childNode.nodeType === 1 /* ElementNode */) {
            if (childNode['s-sr']) {
                // this is a slot fallback node
                // get the slot name for this slot reference node
                slotNameAttr = childNode['s-sn'];
                // by default always show a fallback slot node
                // then hide it if there are other slots in the light dom
                childNode.hidden = false;
                for (j = 0; j < ilen; j++) {
                    nodeType = childNodes[j].nodeType;
                    if (childNodes[j]['s-hn'] !== childNode['s-hn'] || slotNameAttr !== '') {
                        // this sibling node is from a different component OR is a named fallback slot node
                        if (nodeType === 1 /* ElementNode */ && slotNameAttr === childNodes[j].getAttribute('slot')) {
                            childNode.hidden = true;
                            break;
                        }
                    }
                    else {
                        // this is a default fallback slot node
                        // any element or text node (with content)
                        // should hide the default fallback slot node
                        if (nodeType === 1 /* ElementNode */ ||
                            (nodeType === 3 /* TextNode */ && childNodes[j].textContent.trim() !== '')) {
                            childNode.hidden = true;
                            break;
                        }
                    }
                }
            }
            // keep drilling down
            updateFallbackSlotVisibility(childNode);
        }
    }
};
const relocateNodes = [];
const relocateSlotContent = (elm) => {
    // tslint:disable-next-line: prefer-const
    let childNode;
    let node;
    let hostContentNodes;
    let slotNameAttr;
    let relocateNodeData;
    let j;
    let i = 0;
    let childNodes = elm.childNodes;
    let ilen = childNodes.length;
    for (; i < ilen; i++) {
        childNode = childNodes[i];
        if (childNode['s-sr'] && (node = childNode['s-cr']) && node.parentNode) {
            // first got the content reference comment node
            // then we got it's parent, which is where all the host content is in now
            hostContentNodes = node.parentNode.childNodes;
            slotNameAttr = childNode['s-sn'];
            for (j = hostContentNodes.length - 1; j >= 0; j--) {
                node = hostContentNodes[j];
                if (!node['s-cn'] && !node['s-nr'] && node['s-hn'] !== childNode['s-hn']) {
                    // let's do some relocating to its new home
                    // but never relocate a content reference node
                    // that is suppose to always represent the original content location
                    if (isNodeLocatedInSlot(node, slotNameAttr)) {
                        // it's possible we've already decided to relocate this node
                        relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);
                        // made some changes to slots
                        // let's make sure we also double check
                        // fallbacks are correctly hidden or shown
                        checkSlotFallbackVisibility = true;
                        node['s-sn'] = node['s-sn'] || slotNameAttr;
                        if (relocateNodeData) {
                            // previously we never found a slot home for this node
                            // but turns out we did, so let's remember it now
                            relocateNodeData.$slotRefNode$ = childNode;
                        }
                        else {
                            // add to our list of nodes to relocate
                            relocateNodes.push({
                                $slotRefNode$: childNode,
                                $nodeToRelocate$: node,
                            });
                        }
                        if (node['s-sr']) {
                            relocateNodes.map((relocateNode) => {
                                if (isNodeLocatedInSlot(relocateNode.$nodeToRelocate$, node['s-sn'])) {
                                    relocateNodeData = relocateNodes.find((r) => r.$nodeToRelocate$ === node);
                                    if (relocateNodeData && !relocateNode.$slotRefNode$) {
                                        relocateNode.$slotRefNode$ = relocateNodeData.$slotRefNode$;
                                    }
                                }
                            });
                        }
                    }
                    else if (!relocateNodes.some((r) => r.$nodeToRelocate$ === node)) {
                        // so far this element does not have a slot home, not setting slotRefNode on purpose
                        // if we never find a home for this element then we'll need to hide it
                        relocateNodes.push({
                            $nodeToRelocate$: node,
                        });
                    }
                }
            }
        }
        if (childNode.nodeType === 1 /* ElementNode */) {
            relocateSlotContent(childNode);
        }
    }
};
const isNodeLocatedInSlot = (nodeToRelocate, slotNameAttr) => {
    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {
        if (nodeToRelocate.getAttribute('slot') === null && slotNameAttr === '') {
            return true;
        }
        if (nodeToRelocate.getAttribute('slot') === slotNameAttr) {
            return true;
        }
        return false;
    }
    if (nodeToRelocate['s-sn'] === slotNameAttr) {
        return true;
    }
    return slotNameAttr === '';
};
const callNodeRefs = (vNode) => {
    {
        vNode.$attrs$ && vNode.$attrs$.ref && vNode.$attrs$.ref(null);
        vNode.$children$ && vNode.$children$.map(callNodeRefs);
    }
};
const renderVdom = (hostRef, renderFnResults) => {
    const hostElm = hostRef.$hostElement$;
    const cmpMeta = hostRef.$cmpMeta$;
    const oldVNode = hostRef.$vnode$ || newVNode(null, null);
    const rootVnode = isHost(renderFnResults) ? renderFnResults : h(null, null, renderFnResults);
    hostTagName = hostElm.tagName;
    if (cmpMeta.$attrsToReflect$) {
        rootVnode.$attrs$ = rootVnode.$attrs$ || {};
        cmpMeta.$attrsToReflect$.map(([propName, attribute]) => (rootVnode.$attrs$[attribute] = hostElm[propName]));
    }
    rootVnode.$tag$ = null;
    rootVnode.$flags$ |= 4 /* isHost */;
    hostRef.$vnode$ = rootVnode;
    rootVnode.$elm$ = oldVNode.$elm$ = (hostElm.shadowRoot || hostElm );
    {
        scopeId = hostElm['s-sc'];
    }
    {
        contentRef = hostElm['s-cr'];
        useNativeShadowDom = (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) !== 0;
        // always reset
        checkSlotFallbackVisibility = false;
    }
    // synchronous patch
    patch(oldVNode, rootVnode);
    {
        // while we're moving nodes around existing nodes, temporarily disable
        // the disconnectCallback from working
        plt.$flags$ |= 1 /* isTmpDisconnected */;
        if (checkSlotRelocate) {
            relocateSlotContent(rootVnode.$elm$);
            let relocateData;
            let nodeToRelocate;
            let orgLocationNode;
            let parentNodeRef;
            let insertBeforeNode;
            let refNode;
            let i = 0;
            for (; i < relocateNodes.length; i++) {
                relocateData = relocateNodes[i];
                nodeToRelocate = relocateData.$nodeToRelocate$;
                if (!nodeToRelocate['s-ol']) {
                    // add a reference node marking this node's original location
                    // keep a reference to this node for later lookups
                    orgLocationNode =
                        doc.createTextNode('');
                    orgLocationNode['s-nr'] = nodeToRelocate;
                    nodeToRelocate.parentNode.insertBefore((nodeToRelocate['s-ol'] = orgLocationNode), nodeToRelocate);
                }
            }
            for (i = 0; i < relocateNodes.length; i++) {
                relocateData = relocateNodes[i];
                nodeToRelocate = relocateData.$nodeToRelocate$;
                if (relocateData.$slotRefNode$) {
                    // by default we're just going to insert it directly
                    // after the slot reference node
                    parentNodeRef = relocateData.$slotRefNode$.parentNode;
                    insertBeforeNode = relocateData.$slotRefNode$.nextSibling;
                    orgLocationNode = nodeToRelocate['s-ol'];
                    while ((orgLocationNode = orgLocationNode.previousSibling)) {
                        refNode = orgLocationNode['s-nr'];
                        if (refNode && refNode['s-sn'] === nodeToRelocate['s-sn'] && parentNodeRef === refNode.parentNode) {
                            refNode = refNode.nextSibling;
                            if (!refNode || !refNode['s-nr']) {
                                insertBeforeNode = refNode;
                                break;
                            }
                        }
                    }
                    if ((!insertBeforeNode && parentNodeRef !== nodeToRelocate.parentNode) ||
                        nodeToRelocate.nextSibling !== insertBeforeNode) {
                        // we've checked that it's worth while to relocate
                        // since that the node to relocate
                        // has a different next sibling or parent relocated
                        if (nodeToRelocate !== insertBeforeNode) {
                            if (!nodeToRelocate['s-hn'] && nodeToRelocate['s-ol']) {
                                // probably a component in the index.html that doesn't have it's hostname set
                                nodeToRelocate['s-hn'] = nodeToRelocate['s-ol'].parentNode.nodeName;
                            }
                            // add it back to the dom but in its new home
                            parentNodeRef.insertBefore(nodeToRelocate, insertBeforeNode);
                        }
                    }
                }
                else {
                    // this node doesn't have a slot home to go to, so let's hide it
                    if (nodeToRelocate.nodeType === 1 /* ElementNode */) {
                        nodeToRelocate.hidden = true;
                    }
                }
            }
        }
        if (checkSlotFallbackVisibility) {
            updateFallbackSlotVisibility(rootVnode.$elm$);
        }
        // done moving nodes around
        // allow the disconnect callback to work again
        plt.$flags$ &= ~1 /* isTmpDisconnected */;
        // always reset
        relocateNodes.length = 0;
    }
};
const getElement = (ref) => (getHostRef(ref).$hostElement$ );
const createEvent = (ref, name, flags) => {
    const elm = getElement(ref);
    return {
        emit: (detail) => {
            return emitEvent(elm, name, {
                bubbles: !!(flags & 4 /* Bubbles */),
                composed: !!(flags & 2 /* Composed */),
                cancelable: !!(flags & 1 /* Cancellable */),
                detail,
            });
        },
    };
};
/**
 * Helper function to create & dispatch a custom Event on a provided target
 * @param elm the target of the Event
 * @param name the name to give the custom Event
 * @param opts options for configuring a custom Event
 * @returns the custom Event
 */
const emitEvent = (elm, name, opts) => {
    const ev = plt.ce(name, opts);
    elm.dispatchEvent(ev);
    return ev;
};
const attachToAncestor = (hostRef, ancestorComponent) => {
    if (ancestorComponent && !hostRef.$onRenderResolve$ && ancestorComponent['s-p']) {
        ancestorComponent['s-p'].push(new Promise((r) => (hostRef.$onRenderResolve$ = r)));
    }
};
const scheduleUpdate = (hostRef, isInitialLoad) => {
    {
        hostRef.$flags$ |= 16 /* isQueuedForUpdate */;
    }
    if (hostRef.$flags$ & 4 /* isWaitingForChildren */) {
        hostRef.$flags$ |= 512 /* needsRerender */;
        return;
    }
    attachToAncestor(hostRef, hostRef.$ancestorComponent$);
    // there is no ancestor component or the ancestor component
    // has already fired off its lifecycle update then
    // fire off the initial update
    const dispatch = () => dispatchHooks(hostRef, isInitialLoad);
    return writeTask(dispatch) ;
};
const dispatchHooks = (hostRef, isInitialLoad) => {
    const endSchedule = createTime('scheduleUpdate', hostRef.$cmpMeta$.$tagName$);
    const instance = hostRef.$lazyInstance$ ;
    let promise;
    if (isInitialLoad) {
        {
            hostRef.$flags$ |= 256 /* isListenReady */;
            if (hostRef.$queuedListeners$) {
                hostRef.$queuedListeners$.map(([methodName, event]) => safeCall(instance, methodName, event));
                hostRef.$queuedListeners$ = null;
            }
        }
        {
            promise = safeCall(instance, 'componentWillLoad');
        }
    }
    {
        promise = then(promise, () => safeCall(instance, 'componentWillRender'));
    }
    endSchedule();
    return then(promise, () => updateComponent(hostRef, instance, isInitialLoad));
};
const updateComponent = async (hostRef, instance, isInitialLoad) => {
    // updateComponent
    const elm = hostRef.$hostElement$;
    const endUpdate = createTime('update', hostRef.$cmpMeta$.$tagName$);
    const rc = elm['s-rc'];
    if (isInitialLoad) {
        // DOM WRITE!
        attachStyles(hostRef);
    }
    const endRender = createTime('render', hostRef.$cmpMeta$.$tagName$);
    {
        callRender(hostRef, instance);
    }
    if (rc) {
        // ok, so turns out there are some child host elements
        // waiting on this parent element to load
        // let's fire off all update callbacks waiting
        rc.map((cb) => cb());
        elm['s-rc'] = undefined;
    }
    endRender();
    endUpdate();
    {
        const childrenPromises = elm['s-p'];
        const postUpdate = () => postUpdateComponent(hostRef);
        if (childrenPromises.length === 0) {
            postUpdate();
        }
        else {
            Promise.all(childrenPromises).then(postUpdate);
            hostRef.$flags$ |= 4 /* isWaitingForChildren */;
            childrenPromises.length = 0;
        }
    }
};
const callRender = (hostRef, instance, elm) => {
    try {
        instance = instance.render && instance.render();
        {
            hostRef.$flags$ &= ~16 /* isQueuedForUpdate */;
        }
        {
            hostRef.$flags$ |= 2 /* hasRendered */;
        }
        {
            {
                // looks like we've got child nodes to render into this host element
                // or we need to update the css class/attrs on the host element
                // DOM WRITE!
                {
                    renderVdom(hostRef, instance);
                }
            }
        }
    }
    catch (e) {
        consoleError(e, hostRef.$hostElement$);
    }
    return null;
};
const postUpdateComponent = (hostRef) => {
    const tagName = hostRef.$cmpMeta$.$tagName$;
    const elm = hostRef.$hostElement$;
    const endPostUpdate = createTime('postUpdate', tagName);
    const instance = hostRef.$lazyInstance$ ;
    const ancestorComponent = hostRef.$ancestorComponent$;
    if (!(hostRef.$flags$ & 64 /* hasLoadedComponent */)) {
        hostRef.$flags$ |= 64 /* hasLoadedComponent */;
        {
            // DOM WRITE!
            addHydratedFlag(elm);
        }
        {
            safeCall(instance, 'componentDidLoad');
        }
        endPostUpdate();
        {
            hostRef.$onReadyResolve$(elm);
            if (!ancestorComponent) {
                appDidLoad();
            }
        }
    }
    else {
        {
            safeCall(instance, 'componentDidUpdate');
        }
        endPostUpdate();
    }
    {
        hostRef.$onInstanceResolve$(elm);
    }
    // load events fire from bottom to top
    // the deepest elements load first then bubbles up
    {
        if (hostRef.$onRenderResolve$) {
            hostRef.$onRenderResolve$();
            hostRef.$onRenderResolve$ = undefined;
        }
        if (hostRef.$flags$ & 512 /* needsRerender */) {
            nextTick(() => scheduleUpdate(hostRef, false));
        }
        hostRef.$flags$ &= ~(4 /* isWaitingForChildren */ | 512 /* needsRerender */);
    }
    // ( _)
    // ( _)>-
    // (_)
};
const forceUpdate = (ref) => {
    {
        const hostRef = getHostRef(ref);
        const isConnected = hostRef.$hostElement$.isConnected;
        if (isConnected &&
            (hostRef.$flags$ & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {
            scheduleUpdate(hostRef, false);
        }
        // Returns "true" when the forced update was successfully scheduled
        return isConnected;
    }
};
const appDidLoad = (who) => {
    // on appload
    // we have finish the first big initial render
    {
        addHydratedFlag(doc.documentElement);
    }
    nextTick(() => emitEvent(win, 'appload', { detail: { namespace: NAMESPACE } }));
};
const safeCall = (instance, method, arg) => {
    if (instance && instance[method]) {
        try {
            return instance[method](arg);
        }
        catch (e) {
            consoleError(e);
        }
    }
    return undefined;
};
const then = (promise, thenFn) => {
    return promise && promise.then ? promise.then(thenFn) : thenFn();
};
const addHydratedFlag = (elm) => elm.classList.add('hydrated')
    ;
const initializeClientHydrate = (hostElm, tagName, hostId, hostRef) => {
    const endHydrate = createTime('hydrateClient', tagName);
    const shadowRoot = hostElm.shadowRoot;
    const childRenderNodes = [];
    const slotNodes = [];
    const shadowRootNodes = shadowRoot ? [] : null;
    const vnode = (hostRef.$vnode$ = newVNode(tagName, null));
    if (!plt.$orgLocNodes$) {
        initializeDocumentHydrate(doc.body, (plt.$orgLocNodes$ = new Map()));
    }
    hostElm[HYDRATE_ID] = hostId;
    hostElm.removeAttribute(HYDRATE_ID);
    clientHydrate(vnode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, hostElm, hostId);
    childRenderNodes.map((c) => {
        const orgLocationId = c.$hostId$ + '.' + c.$nodeId$;
        const orgLocationNode = plt.$orgLocNodes$.get(orgLocationId);
        const node = c.$elm$;
        if (orgLocationNode && supportsShadow && orgLocationNode['s-en'] === '') {
            orgLocationNode.parentNode.insertBefore(node, orgLocationNode.nextSibling);
        }
        if (!shadowRoot) {
            node['s-hn'] = tagName;
            if (orgLocationNode) {
                node['s-ol'] = orgLocationNode;
                node['s-ol']['s-nr'] = node;
            }
        }
        plt.$orgLocNodes$.delete(orgLocationId);
    });
    if (shadowRoot) {
        shadowRootNodes.map((shadowRootNode) => {
            if (shadowRootNode) {
                shadowRoot.appendChild(shadowRootNode);
            }
        });
    }
    endHydrate();
};
const clientHydrate = (parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node, hostId) => {
    let childNodeType;
    let childIdSplt;
    let childVNode;
    let i;
    if (node.nodeType === 1 /* ElementNode */) {
        childNodeType = node.getAttribute(HYDRATE_CHILD_ID);
        if (childNodeType) {
            // got the node data from the element's attribute
            // `${hostId}.${nodeId}.${depth}.${index}`
            childIdSplt = childNodeType.split('.');
            if (childIdSplt[0] === hostId || childIdSplt[0] === '0') {
                childVNode = {
                    $flags$: 0,
                    $hostId$: childIdSplt[0],
                    $nodeId$: childIdSplt[1],
                    $depth$: childIdSplt[2],
                    $index$: childIdSplt[3],
                    $tag$: node.tagName.toLowerCase(),
                    $elm$: node,
                    $attrs$: null,
                    $children$: null,
                    $key$: null,
                    $name$: null,
                    $text$: null,
                };
                childRenderNodes.push(childVNode);
                node.removeAttribute(HYDRATE_CHILD_ID);
                // this is a new child vnode
                // so ensure its parent vnode has the vchildren array
                if (!parentVNode.$children$) {
                    parentVNode.$children$ = [];
                }
                // add our child vnode to a specific index of the vnode's children
                parentVNode.$children$[childVNode.$index$] = childVNode;
                // this is now the new parent vnode for all the next child checks
                parentVNode = childVNode;
                if (shadowRootNodes && childVNode.$depth$ === '0') {
                    shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
                }
            }
        }
        // recursively drill down, end to start so we can remove nodes
        for (i = node.childNodes.length - 1; i >= 0; i--) {
            clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.childNodes[i], hostId);
        }
        if (node.shadowRoot) {
            // keep drilling down through the shadow root nodes
            for (i = node.shadowRoot.childNodes.length - 1; i >= 0; i--) {
                clientHydrate(parentVNode, childRenderNodes, slotNodes, shadowRootNodes, hostElm, node.shadowRoot.childNodes[i], hostId);
            }
        }
    }
    else if (node.nodeType === 8 /* CommentNode */) {
        // `${COMMENT_TYPE}.${hostId}.${nodeId}.${depth}.${index}`
        childIdSplt = node.nodeValue.split('.');
        if (childIdSplt[1] === hostId || childIdSplt[1] === '0') {
            // comment node for either the host id or a 0 host id
            childNodeType = childIdSplt[0];
            childVNode = {
                $flags$: 0,
                $hostId$: childIdSplt[1],
                $nodeId$: childIdSplt[2],
                $depth$: childIdSplt[3],
                $index$: childIdSplt[4],
                $elm$: node,
                $attrs$: null,
                $children$: null,
                $key$: null,
                $name$: null,
                $tag$: null,
                $text$: null,
            };
            if (childNodeType === TEXT_NODE_ID) {
                childVNode.$elm$ = node.nextSibling;
                if (childVNode.$elm$ && childVNode.$elm$.nodeType === 3 /* TextNode */) {
                    childVNode.$text$ = childVNode.$elm$.textContent;
                    childRenderNodes.push(childVNode);
                    // remove the text comment since it's no longer needed
                    node.remove();
                    if (!parentVNode.$children$) {
                        parentVNode.$children$ = [];
                    }
                    parentVNode.$children$[childVNode.$index$] = childVNode;
                    if (shadowRootNodes && childVNode.$depth$ === '0') {
                        shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
                    }
                }
            }
            else if (childVNode.$hostId$ === hostId) {
                // this comment node is specifcally for this host id
                if (childNodeType === SLOT_NODE_ID) {
                    // `${SLOT_NODE_ID}.${hostId}.${nodeId}.${depth}.${index}.${slotName}`;
                    childVNode.$tag$ = 'slot';
                    if (childIdSplt[5]) {
                        node['s-sn'] = childVNode.$name$ = childIdSplt[5];
                    }
                    else {
                        node['s-sn'] = '';
                    }
                    node['s-sr'] = true;
                    if (shadowRootNodes) {
                        // browser support shadowRoot and this is a shadow dom component
                        // create an actual slot element
                        childVNode.$elm$ = doc.createElement(childVNode.$tag$);
                        if (childVNode.$name$) {
                            // add the slot name attribute
                            childVNode.$elm$.setAttribute('name', childVNode.$name$);
                        }
                        // insert the new slot element before the slot comment
                        node.parentNode.insertBefore(childVNode.$elm$, node);
                        // remove the slot comment since it's not needed for shadow
                        node.remove();
                        if (childVNode.$depth$ === '0') {
                            shadowRootNodes[childVNode.$index$] = childVNode.$elm$;
                        }
                    }
                    slotNodes.push(childVNode);
                    if (!parentVNode.$children$) {
                        parentVNode.$children$ = [];
                    }
                    parentVNode.$children$[childVNode.$index$] = childVNode;
                }
                else if (childNodeType === CONTENT_REF_ID) {
                    // `${CONTENT_REF_ID}.${hostId}`;
                    if (shadowRootNodes) {
                        // remove the content ref comment since it's not needed for shadow
                        node.remove();
                    }
                    else {
                        hostElm['s-cr'] = node;
                        node['s-cn'] = true;
                    }
                }
            }
        }
    }
    else if (parentVNode && parentVNode.$tag$ === 'style') {
        const vnode = newVNode(null, node.textContent);
        vnode.$elm$ = node;
        vnode.$index$ = '0';
        parentVNode.$children$ = [vnode];
    }
};
const initializeDocumentHydrate = (node, orgLocNodes) => {
    if (node.nodeType === 1 /* ElementNode */) {
        let i = 0;
        for (; i < node.childNodes.length; i++) {
            initializeDocumentHydrate(node.childNodes[i], orgLocNodes);
        }
        if (node.shadowRoot) {
            for (i = 0; i < node.shadowRoot.childNodes.length; i++) {
                initializeDocumentHydrate(node.shadowRoot.childNodes[i], orgLocNodes);
            }
        }
    }
    else if (node.nodeType === 8 /* CommentNode */) {
        const childIdSplt = node.nodeValue.split('.');
        if (childIdSplt[0] === ORG_LOCATION_ID) {
            orgLocNodes.set(childIdSplt[1] + '.' + childIdSplt[2], node);
            node.nodeValue = '';
            // useful to know if the original location is
            // the root light-dom of a shadow dom component
            node['s-en'] = childIdSplt[3];
        }
    }
};
const parsePropertyValue = (propValue, propType) => {
    // ensure this value is of the correct prop type
    if (propValue != null && !isComplexType(propValue)) {
        if (propType & 4 /* Boolean */) {
            // per the HTML spec, any string value means it is a boolean true value
            // but we'll cheat here and say that the string "false" is the boolean false
            return propValue === 'false' ? false : propValue === '' || !!propValue;
        }
        if (propType & 2 /* Number */) {
            // force it to be a number
            return parseFloat(propValue);
        }
        if (propType & 1 /* String */) {
            // could have been passed as a number or boolean
            // but we still want it as a string
            return String(propValue);
        }
        // redundant return here for better minification
        return propValue;
    }
    // not sure exactly what type we want
    // so no need to change to a different type
    return propValue;
};
const getValue = (ref, propName) => getHostRef(ref).$instanceValues$.get(propName);
const setValue = (ref, propName, newVal, cmpMeta) => {
    // check our new property value against our internal value
    const hostRef = getHostRef(ref);
    const elm = hostRef.$hostElement$ ;
    const oldVal = hostRef.$instanceValues$.get(propName);
    const flags = hostRef.$flags$;
    const instance = hostRef.$lazyInstance$ ;
    newVal = parsePropertyValue(newVal, cmpMeta.$members$[propName][0]);
    if ((!(flags & 8 /* isConstructingInstance */) || oldVal === undefined) && newVal !== oldVal) {
        // gadzooks! the property's value has changed!!
        // set our new value!
        hostRef.$instanceValues$.set(propName, newVal);
        if (instance) {
            // get an array of method names of watch functions to call
            if (cmpMeta.$watchers$ && flags & 128 /* isWatchReady */) {
                const watchMethods = cmpMeta.$watchers$[propName];
                if (watchMethods) {
                    // this instance is watching for when this property changed
                    watchMethods.map((watchMethodName) => {
                        try {
                            // fire off each of the watch methods that are watching this property
                            instance[watchMethodName](newVal, oldVal, propName);
                        }
                        catch (e) {
                            consoleError(e, elm);
                        }
                    });
                }
            }
            if ((flags & (2 /* hasRendered */ | 16 /* isQueuedForUpdate */)) === 2 /* hasRendered */) {
                // looks like this value actually changed, so we've got work to do!
                // but only if we've already rendered, otherwise just chill out
                // queue that we need to do an update, but don't worry about queuing
                // up millions cuz this function ensures it only runs once
                scheduleUpdate(hostRef, false);
            }
        }
    }
};
const proxyComponent = (Cstr, cmpMeta, flags) => {
    if (cmpMeta.$members$) {
        if (Cstr.watchers) {
            cmpMeta.$watchers$ = Cstr.watchers;
        }
        // It's better to have a const than two Object.entries()
        const members = Object.entries(cmpMeta.$members$);
        const prototype = Cstr.prototype;
        members.map(([memberName, [memberFlags]]) => {
            if ((memberFlags & 31 /* Prop */ ||
                    ((flags & 2 /* proxyState */) && memberFlags & 32 /* State */))) {
                // proxyComponent - prop
                Object.defineProperty(prototype, memberName, {
                    get() {
                        // proxyComponent, get value
                        return getValue(this, memberName);
                    },
                    set(newValue) {
                        // proxyComponent, set value
                        setValue(this, memberName, newValue, cmpMeta);
                    },
                    configurable: true,
                    enumerable: true,
                });
            }
            else if (flags & 1 /* isElementConstructor */ &&
                memberFlags & 64 /* Method */) {
                // proxyComponent - method
                Object.defineProperty(prototype, memberName, {
                    value(...args) {
                        const ref = getHostRef(this);
                        return ref.$onInstancePromise$.then(() => ref.$lazyInstance$[memberName](...args));
                    },
                });
            }
        });
        if ((flags & 1 /* isElementConstructor */)) {
            const attrNameToPropName = new Map();
            prototype.attributeChangedCallback = function (attrName, _oldValue, newValue) {
                plt.jmp(() => {
                    const propName = attrNameToPropName.get(attrName);
                    //  In a web component lifecycle the attributeChangedCallback runs prior to connectedCallback
                    //  in the case where an attribute was set inline.
                    //  ```html
                    //    <my-component some-attribute="some-value"></my-component>
                    //  ```
                    //
                    //  There is an edge case where a developer sets the attribute inline on a custom element and then
                    //  programmatically changes it before it has been upgraded as shown below:
                    //
                    //  ```html
                    //    <!-- this component has _not_ been upgraded yet -->
                    //    <my-component id="test" some-attribute="some-value"></my-component>
                    //    <script>
                    //      // grab non-upgraded component
                    //      el = document.querySelector("#test");
                    //      el.someAttribute = "another-value";
                    //      // upgrade component
                    //      customElements.define('my-component', MyComponent);
                    //    </script>
                    //  ```
                    //  In this case if we do not unshadow here and use the value of the shadowing property, attributeChangedCallback
                    //  will be called with `newValue = "some-value"` and will set the shadowed property (this.someAttribute = "another-value")
                    //  to the value that was set inline i.e. "some-value" from above example. When
                    //  the connectedCallback attempts to unshadow it will use "some-value" as the initial value rather than "another-value"
                    //
                    //  The case where the attribute was NOT set inline but was not set programmatically shall be handled/unshadowed
                    //  by connectedCallback as this attributeChangedCallback will not fire.
                    //
                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties
                    //
                    //  TODO(STENCIL-16) we should think about whether or not we actually want to be reflecting the attributes to
                    //  properties here given that this goes against best practices outlined here
                    //  https://developers.google.com/web/fundamentals/web-components/best-practices#avoid-reentrancy
                    if (this.hasOwnProperty(propName)) {
                        newValue = this[propName];
                        delete this[propName];
                    }
                    else if (prototype.hasOwnProperty(propName) &&
                        typeof this[propName] === 'number' &&
                        this[propName] == newValue) {
                        // if the propName exists on the prototype of `Cstr`, this update may be a result of Stencil using native
                        // APIs to reflect props as attributes. Calls to `setAttribute(someElement, propName)` will result in
                        // `propName` to be converted to a `DOMString`, which may not be what we want for other primitive props.
                        return;
                    }
                    this[propName] = newValue === null && typeof this[propName] === 'boolean' ? false : newValue;
                });
            };
            // create an array of attributes to observe
            // and also create a map of html attribute name to js property name
            Cstr.observedAttributes = members
                .filter(([_, m]) => m[0] & 15 /* HasAttribute */) // filter to only keep props that should match attributes
                .map(([propName, m]) => {
                const attrName = m[1] || propName;
                attrNameToPropName.set(attrName, propName);
                if (m[0] & 512 /* ReflectAttr */) {
                    cmpMeta.$attrsToReflect$.push([propName, attrName]);
                }
                return attrName;
            });
        }
    }
    return Cstr;
};
const initializeComponent = async (elm, hostRef, cmpMeta, hmrVersionId, Cstr) => {
    // initializeComponent
    if ((hostRef.$flags$ & 32 /* hasInitializedComponent */) === 0) {
        {
            // we haven't initialized this element yet
            hostRef.$flags$ |= 32 /* hasInitializedComponent */;
            // lazy loaded components
            // request the component's implementation to be
            // wired up with the host element
            Cstr = loadModule(cmpMeta);
            if (Cstr.then) {
                // Await creates a micro-task avoid if possible
                const endLoad = uniqueTime();
                Cstr = await Cstr;
                endLoad();
            }
            if (!Cstr.isProxied) {
                // we've never proxied this Constructor before
                // let's add the getters/setters to its prototype before
                // the first time we create an instance of the implementation
                {
                    cmpMeta.$watchers$ = Cstr.watchers;
                }
                proxyComponent(Cstr, cmpMeta, 2 /* proxyState */);
                Cstr.isProxied = true;
            }
            const endNewInstance = createTime('createInstance', cmpMeta.$tagName$);
            // ok, time to construct the instance
            // but let's keep track of when we start and stop
            // so that the getters/setters don't incorrectly step on data
            {
                hostRef.$flags$ |= 8 /* isConstructingInstance */;
            }
            // construct the lazy-loaded component implementation
            // passing the hostRef is very important during
            // construction in order to directly wire together the
            // host element and the lazy-loaded instance
            try {
                new Cstr(hostRef);
            }
            catch (e) {
                consoleError(e);
            }
            {
                hostRef.$flags$ &= ~8 /* isConstructingInstance */;
            }
            {
                hostRef.$flags$ |= 128 /* isWatchReady */;
            }
            endNewInstance();
            fireConnectedCallback(hostRef.$lazyInstance$);
        }
        if (Cstr.style) {
            // this component has styles but we haven't registered them yet
            let style = Cstr.style;
            if (typeof style !== 'string') {
                style = style[(hostRef.$modeName$ = computeMode(elm))];
            }
            const scopeId = getScopeId(cmpMeta, hostRef.$modeName$);
            if (!styles.has(scopeId)) {
                const endRegisterStyles = createTime('registerStyles', cmpMeta.$tagName$);
                registerStyle(scopeId, style, !!(cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */));
                endRegisterStyles();
            }
        }
    }
    // we've successfully created a lazy instance
    const ancestorComponent = hostRef.$ancestorComponent$;
    const schedule = () => scheduleUpdate(hostRef, true);
    if (ancestorComponent && ancestorComponent['s-rc']) {
        // this is the initial load and this component it has an ancestor component
        // but the ancestor component has NOT fired its will update lifecycle yet
        // so let's just cool our jets and wait for the ancestor to continue first
        // this will get fired off when the ancestor component
        // finally gets around to rendering its lazy self
        // fire off the initial update
        ancestorComponent['s-rc'].push(schedule);
    }
    else {
        schedule();
    }
};
const fireConnectedCallback = (instance) => {
    {
        safeCall(instance, 'connectedCallback');
    }
};
const connectedCallback = (elm) => {
    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {
        const hostRef = getHostRef(elm);
        const cmpMeta = hostRef.$cmpMeta$;
        const endConnected = createTime('connectedCallback', cmpMeta.$tagName$);
        if (!(hostRef.$flags$ & 1 /* hasConnected */)) {
            // first time this component has connected
            hostRef.$flags$ |= 1 /* hasConnected */;
            let hostId;
            {
                hostId = elm.getAttribute(HYDRATE_ID);
                if (hostId) {
                    if (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {
                        const scopeId = addStyle(elm.shadowRoot, cmpMeta, elm.getAttribute('s-mode'))
                            ;
                        elm.classList.remove(scopeId + '-h', scopeId + '-s');
                    }
                    initializeClientHydrate(elm, cmpMeta.$tagName$, hostId, hostRef);
                }
            }
            if (!hostId) {
                // initUpdate
                // if the slot polyfill is required we'll need to put some nodes
                // in here to act as original content anchors as we move nodes around
                // host element has been connected to the DOM
                if ((cmpMeta.$flags$ & (4 /* hasSlotRelocation */ | 8 /* needsShadowDomShim */))) {
                    setContentReference(elm);
                }
            }
            {
                // find the first ancestor component (if there is one) and register
                // this component as one of the actively loading child components for its ancestor
                let ancestorComponent = elm;
                while ((ancestorComponent = ancestorComponent.parentNode || ancestorComponent.host)) {
                    // climb up the ancestors looking for the first
                    // component that hasn't finished its lifecycle update yet
                    if ((ancestorComponent.nodeType === 1 /* ElementNode */ &&
                        ancestorComponent.hasAttribute('s-id') &&
                        ancestorComponent['s-p']) ||
                        ancestorComponent['s-p']) {
                        // we found this components first ancestor component
                        // keep a reference to this component's ancestor component
                        attachToAncestor(hostRef, (hostRef.$ancestorComponent$ = ancestorComponent));
                        break;
                    }
                }
            }
            // Lazy properties
            // https://developers.google.com/web/fundamentals/web-components/best-practices#lazy-properties
            if (cmpMeta.$members$) {
                Object.entries(cmpMeta.$members$).map(([memberName, [memberFlags]]) => {
                    if (memberFlags & 31 /* Prop */ && elm.hasOwnProperty(memberName)) {
                        const value = elm[memberName];
                        delete elm[memberName];
                        elm[memberName] = value;
                    }
                });
            }
            {
                // connectedCallback, taskQueue, initialLoad
                // angular sets attribute AFTER connectCallback
                // https://github.com/angular/angular/issues/18909
                // https://github.com/angular/angular/issues/19940
                nextTick(() => initializeComponent(elm, hostRef, cmpMeta));
            }
        }
        else {
            // not the first time this has connected
            // reattach any event listeners to the host
            // since they would have been removed when disconnected
            addHostEventListeners(elm, hostRef, cmpMeta.$listeners$);
            // fire off connectedCallback() on component instance
            fireConnectedCallback(hostRef.$lazyInstance$);
        }
        endConnected();
    }
};
const setContentReference = (elm) => {
    // only required when we're NOT using native shadow dom (slot)
    // or this browser doesn't support native shadow dom
    // and this host element was NOT created with SSR
    // let's pick out the inner content for slot projection
    // create a node to represent where the original
    // content was first placed, which is useful later on
    const contentRefElm = (elm['s-cr'] = doc.createComment(''));
    contentRefElm['s-cn'] = true;
    elm.insertBefore(contentRefElm, elm.firstChild);
};
const disconnectedCallback = (elm) => {
    if ((plt.$flags$ & 1 /* isTmpDisconnected */) === 0) {
        const hostRef = getHostRef(elm);
        const instance = hostRef.$lazyInstance$ ;
        {
            if (hostRef.$rmListeners$) {
                hostRef.$rmListeners$.map((rmListener) => rmListener());
                hostRef.$rmListeners$ = undefined;
            }
        }
        {
            safeCall(instance, 'disconnectedCallback');
        }
    }
};
const bootstrapLazy = (lazyBundles, options = {}) => {
    const endBootstrap = createTime();
    const cmpTags = [];
    const exclude = options.exclude || [];
    const customElements = win.customElements;
    const head = doc.head;
    const metaCharset = /*@__PURE__*/ head.querySelector('meta[charset]');
    const visibilityStyle = /*@__PURE__*/ doc.createElement('style');
    const deferredConnectedCallbacks = [];
    const styles = /*@__PURE__*/ doc.querySelectorAll(`[${HYDRATED_STYLE_ID}]`);
    let appLoadFallback;
    let isBootstrapping = true;
    let i = 0;
    Object.assign(plt, options);
    plt.$resourcesUrl$ = new URL(options.resourcesUrl || './', doc.baseURI).href;
    {
        // If the app is already hydrated there is not point to disable the
        // async queue. This will improve the first input delay
        plt.$flags$ |= 2 /* appLoaded */;
    }
    {
        for (; i < styles.length; i++) {
            registerStyle(styles[i].getAttribute(HYDRATED_STYLE_ID), convertScopedToShadow(styles[i].innerHTML), true);
        }
    }
    lazyBundles.map((lazyBundle) => {
        lazyBundle[1].map((compactMeta) => {
            const cmpMeta = {
                $flags$: compactMeta[0],
                $tagName$: compactMeta[1],
                $members$: compactMeta[2],
                $listeners$: compactMeta[3],
            };
            {
                cmpMeta.$members$ = compactMeta[2];
            }
            {
                cmpMeta.$listeners$ = compactMeta[3];
            }
            {
                cmpMeta.$attrsToReflect$ = [];
            }
            {
                cmpMeta.$watchers$ = {};
            }
            const tagName = cmpMeta.$tagName$;
            const HostElement = class extends HTMLElement {
                // StencilLazyHost
                constructor(self) {
                    // @ts-ignore
                    super(self);
                    self = this;
                    registerHost(self, cmpMeta);
                    if (cmpMeta.$flags$ & 1 /* shadowDomEncapsulation */) {
                        // this component is using shadow dom
                        // and this browser supports shadow dom
                        // add the read-only property "shadowRoot" to the host element
                        // adding the shadow root build conditionals to minimize runtime
                        {
                            {
                                self.attachShadow({
                                    mode: 'open',
                                    delegatesFocus: !!(cmpMeta.$flags$ & 16 /* shadowDelegatesFocus */),
                                });
                            }
                        }
                    }
                }
                connectedCallback() {
                    if (appLoadFallback) {
                        clearTimeout(appLoadFallback);
                        appLoadFallback = null;
                    }
                    if (isBootstrapping) {
                        // connectedCallback will be processed once all components have been registered
                        deferredConnectedCallbacks.push(this);
                    }
                    else {
                        plt.jmp(() => connectedCallback(this));
                    }
                }
                disconnectedCallback() {
                    plt.jmp(() => disconnectedCallback(this));
                }
                componentOnReady() {
                    return getHostRef(this).$onReadyPromise$;
                }
            };
            cmpMeta.$lazyBundleId$ = lazyBundle[0];
            if (!exclude.includes(tagName) && !customElements.get(tagName)) {
                cmpTags.push(tagName);
                customElements.define(tagName, proxyComponent(HostElement, cmpMeta, 1 /* isElementConstructor */));
            }
        });
    });
    {
        visibilityStyle.innerHTML = cmpTags + HYDRATED_CSS;
        visibilityStyle.setAttribute('data-styles', '');
        head.insertBefore(visibilityStyle, metaCharset ? metaCharset.nextSibling : head.firstChild);
    }
    // Process deferred connectedCallbacks now all components have been registered
    isBootstrapping = false;
    if (deferredConnectedCallbacks.length) {
        deferredConnectedCallbacks.map((host) => host.connectedCallback());
    }
    else {
        {
            plt.jmp(() => (appLoadFallback = setTimeout(appDidLoad, 30)));
        }
    }
    // Fallback appLoad event
    endBootstrap();
};
const getAssetPath = (path) => {
    const assetUrl = new URL(path, plt.$resourcesUrl$);
    return assetUrl.origin !== win.location.origin ? assetUrl.href : assetUrl.pathname;
};
const hostRefs = new WeakMap();
const getHostRef = (ref) => hostRefs.get(ref);
const registerInstance = (lazyInstance, hostRef) => hostRefs.set((hostRef.$lazyInstance$ = lazyInstance), hostRef);
const registerHost = (elm, cmpMeta) => {
    const hostRef = {
        $flags$: 0,
        $hostElement$: elm,
        $cmpMeta$: cmpMeta,
        $instanceValues$: new Map(),
    };
    {
        hostRef.$onInstancePromise$ = new Promise((r) => (hostRef.$onInstanceResolve$ = r));
    }
    {
        hostRef.$onReadyPromise$ = new Promise((r) => (hostRef.$onReadyResolve$ = r));
        elm['s-p'] = [];
        elm['s-rc'] = [];
    }
    addHostEventListeners(elm, hostRef, cmpMeta.$listeners$);
    return hostRefs.set(elm, hostRef);
};
const isMemberInElement = (elm, memberName) => memberName in elm;
const consoleError = (e, el) => (0, console.error)(e, el);
const cmpModules = /*@__PURE__*/ new Map();
const loadModule = (cmpMeta, hostRef, hmrVersionId) => {
    // loadModuleImport
    const exportName = cmpMeta.$tagName$.replace(/-/g, '_');
    const bundleId = cmpMeta.$lazyBundleId$;
    const module = cmpModules.get(bundleId) ;
    if (module) {
        return module[exportName];
    }
    return __webpack_require__("../../../node_modules/@ionic/core/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$")(`./${bundleId}.entry.js`).then((importedModule) => {
        {
            cmpModules.set(bundleId, importedModule);
        }
        return importedModule[exportName];
    }, consoleError);
};
const styles = new Map();
const modeResolutionChain = [];
const queueDomReads = [];
const queueDomWrites = [];
const queueTask = (queue, write) => (cb) => {
    queue.push(cb);
    if (!queuePending) {
        queuePending = true;
        if (write && plt.$flags$ & 4 /* queueSync */) {
            nextTick(flush);
        }
        else {
            plt.raf(flush);
        }
    }
};
const consume = (queue) => {
    for (let i = 0; i < queue.length; i++) {
        try {
            queue[i](performance.now());
        }
        catch (e) {
            consoleError(e);
        }
    }
    queue.length = 0;
};
const flush = () => {
    // always force a bunch of medium callbacks to run, but still have
    // a throttle on how many can run in a certain time
    // DOM READS!!!
    consume(queueDomReads);
    // DOM WRITES!!!
    {
        consume(queueDomWrites);
        if ((queuePending = queueDomReads.length > 0)) {
            // still more to do yet, but we've run out of time
            // let's let this thing cool off and try again in the next tick
            plt.raf(flush);
        }
    }
};
const nextTick = /*@__PURE__*/ (cb) => promiseResolve().then(cb);
const readTask = /*@__PURE__*/ queueTask(queueDomReads, false);
const writeTask = /*@__PURE__*/ queueTask(queueDomWrites, true);
const Build = {
    isDev: false,
    isBrowser: true,
    isServer: false,
    isTesting: false,
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index-41bf41f2.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index-41bf41f2.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GESTURE_CONTROLLER": () => (/* reexport safe */ _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__.G),
/* harmony export */   "createGesture": () => (/* binding */ createGesture)
/* harmony export */ });
/* harmony import */ var _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gesture-controller-68c023a4.js */ "../../../node_modules/@ionic/core/dist/esm/gesture-controller-68c023a4.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const addEventListener = (el, eventName, callback, opts) => {
  // use event listener options when supported
  // otherwise it's just a boolean for the "capture" arg
  const listenerOpts = supportsPassive(el) ? {
    'capture': !!opts.capture,
    'passive': !!opts.passive,
  } : !!opts.capture;
  let add;
  let remove;
  if (el['__zone_symbol__addEventListener']) {
    add = '__zone_symbol__addEventListener';
    remove = '__zone_symbol__removeEventListener';
  }
  else {
    add = 'addEventListener';
    remove = 'removeEventListener';
  }
  el[add](eventName, callback, listenerOpts);
  return () => {
    el[remove](eventName, callback, listenerOpts);
  };
};
const supportsPassive = (node) => {
  if (_sPassive === undefined) {
    try {
      const opts = Object.defineProperty({}, 'passive', {
        get: () => {
          _sPassive = true;
        }
      });
      node.addEventListener('optsTest', () => { return; }, opts);
    }
    catch (e) {
      _sPassive = false;
    }
  }
  return !!_sPassive;
};
let _sPassive;

const MOUSE_WAIT = 2000;
const createPointerEvents = (el, pointerDown, pointerMove, pointerUp, options) => {
  let rmTouchStart;
  let rmTouchMove;
  let rmTouchEnd;
  let rmTouchCancel;
  let rmMouseStart;
  let rmMouseMove;
  let rmMouseUp;
  let lastTouchEvent = 0;
  const handleTouchStart = (ev) => {
    lastTouchEvent = Date.now() + MOUSE_WAIT;
    if (!pointerDown(ev)) {
      return;
    }
    if (!rmTouchMove && pointerMove) {
      rmTouchMove = addEventListener(el, 'touchmove', pointerMove, options);
    }
    /**
     * Events are dispatched on the element that is tapped and bubble up to
     * the reference element in the gesture. In the event that the element this
     * event was first dispatched on is removed from the DOM, the event will no
     * longer bubble up to our reference element. This leaves the gesture in an
     * unusable state. To account for this, the touchend and touchcancel listeners
     * should be added to the event target so that they still fire even if the target
     * is removed from the DOM.
     */
    if (!rmTouchEnd) {
      rmTouchEnd = addEventListener(ev.target, 'touchend', handleTouchEnd, options);
    }
    if (!rmTouchCancel) {
      rmTouchCancel = addEventListener(ev.target, 'touchcancel', handleTouchEnd, options);
    }
  };
  const handleMouseDown = (ev) => {
    if (lastTouchEvent > Date.now()) {
      return;
    }
    if (!pointerDown(ev)) {
      return;
    }
    if (!rmMouseMove && pointerMove) {
      rmMouseMove = addEventListener(getDocument(el), 'mousemove', pointerMove, options);
    }
    if (!rmMouseUp) {
      rmMouseUp = addEventListener(getDocument(el), 'mouseup', handleMouseUp, options);
    }
  };
  const handleTouchEnd = (ev) => {
    stopTouch();
    if (pointerUp) {
      pointerUp(ev);
    }
  };
  const handleMouseUp = (ev) => {
    stopMouse();
    if (pointerUp) {
      pointerUp(ev);
    }
  };
  const stopTouch = () => {
    if (rmTouchMove) {
      rmTouchMove();
    }
    if (rmTouchEnd) {
      rmTouchEnd();
    }
    if (rmTouchCancel) {
      rmTouchCancel();
    }
    rmTouchMove = rmTouchEnd = rmTouchCancel = undefined;
  };
  const stopMouse = () => {
    if (rmMouseMove) {
      rmMouseMove();
    }
    if (rmMouseUp) {
      rmMouseUp();
    }
    rmMouseMove = rmMouseUp = undefined;
  };
  const stop = () => {
    stopTouch();
    stopMouse();
  };
  const enable = (isEnabled = true) => {
    if (!isEnabled) {
      if (rmTouchStart) {
        rmTouchStart();
      }
      if (rmMouseStart) {
        rmMouseStart();
      }
      rmTouchStart = rmMouseStart = undefined;
      stop();
    }
    else {
      if (!rmTouchStart) {
        rmTouchStart = addEventListener(el, 'touchstart', handleTouchStart, options);
      }
      if (!rmMouseStart) {
        rmMouseStart = addEventListener(el, 'mousedown', handleMouseDown, options);
      }
    }
  };
  const destroy = () => {
    enable(false);
    pointerUp = pointerMove = pointerDown = undefined;
  };
  return {
    enable,
    stop,
    destroy
  };
};
const getDocument = (node) => {
  return node instanceof Document ? node : node.ownerDocument;
};

const createPanRecognizer = (direction, thresh, maxAngle) => {
  const radians = maxAngle * (Math.PI / 180);
  const isDirX = direction === 'x';
  const maxCosine = Math.cos(radians);
  const threshold = thresh * thresh;
  let startX = 0;
  let startY = 0;
  let dirty = false;
  let isPan = 0;
  return {
    start(x, y) {
      startX = x;
      startY = y;
      isPan = 0;
      dirty = true;
    },
    detect(x, y) {
      if (!dirty) {
        return false;
      }
      const deltaX = (x - startX);
      const deltaY = (y - startY);
      const distance = deltaX * deltaX + deltaY * deltaY;
      if (distance < threshold) {
        return false;
      }
      const hypotenuse = Math.sqrt(distance);
      const cosine = (isDirX ? deltaX : deltaY) / hypotenuse;
      if (cosine > maxCosine) {
        isPan = 1;
      }
      else if (cosine < -maxCosine) {
        isPan = -1;
      }
      else {
        isPan = 0;
      }
      dirty = false;
      return true;
    },
    isGesture() {
      return isPan !== 0;
    },
    getDirection() {
      return isPan;
    }
  };
};

const createGesture = (config) => {
  let hasCapturedPan = false;
  let hasStartedPan = false;
  let hasFiredStart = true;
  let isMoveQueued = false;
  const finalConfig = Object.assign({ disableScroll: false, direction: 'x', gesturePriority: 0, passive: true, maxAngle: 40, threshold: 10 }, config);
  const canStart = finalConfig.canStart;
  const onWillStart = finalConfig.onWillStart;
  const onStart = finalConfig.onStart;
  const onEnd = finalConfig.onEnd;
  const notCaptured = finalConfig.notCaptured;
  const onMove = finalConfig.onMove;
  const threshold = finalConfig.threshold;
  const passive = finalConfig.passive;
  const blurOnStart = finalConfig.blurOnStart;
  const detail = {
    type: 'pan',
    startX: 0,
    startY: 0,
    startTime: 0,
    currentX: 0,
    currentY: 0,
    velocityX: 0,
    velocityY: 0,
    deltaX: 0,
    deltaY: 0,
    currentTime: 0,
    event: undefined,
    data: undefined
  };
  const pan = createPanRecognizer(finalConfig.direction, finalConfig.threshold, finalConfig.maxAngle);
  const gesture = _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_0__.G.createGesture({
    name: config.gestureName,
    priority: config.gesturePriority,
    disableScroll: config.disableScroll
  });
  const pointerDown = (ev) => {
    const timeStamp = now(ev);
    if (hasStartedPan || !hasFiredStart) {
      return false;
    }
    updateDetail(ev, detail);
    detail.startX = detail.currentX;
    detail.startY = detail.currentY;
    detail.startTime = detail.currentTime = timeStamp;
    detail.velocityX = detail.velocityY = detail.deltaX = detail.deltaY = 0;
    detail.event = ev;
    // Check if gesture can start
    if (canStart && canStart(detail) === false) {
      return false;
    }
    // Release fallback
    gesture.release();
    // Start gesture
    if (!gesture.start()) {
      return false;
    }
    hasStartedPan = true;
    if (threshold === 0) {
      return tryToCapturePan();
    }
    pan.start(detail.startX, detail.startY);
    return true;
  };
  const pointerMove = (ev) => {
    // fast path, if gesture is currently captured
    // do minimum job to get user-land even dispatched
    if (hasCapturedPan) {
      if (!isMoveQueued && hasFiredStart) {
        isMoveQueued = true;
        calcGestureData(detail, ev);
        requestAnimationFrame(fireOnMove);
      }
      return;
    }
    // gesture is currently being detected
    calcGestureData(detail, ev);
    if (pan.detect(detail.currentX, detail.currentY)) {
      if (!pan.isGesture() || !tryToCapturePan()) {
        abortGesture();
      }
    }
  };
  const fireOnMove = () => {
    // Since fireOnMove is called inside a RAF, onEnd() might be called,
    // we must double check hasCapturedPan
    if (!hasCapturedPan) {
      return;
    }
    isMoveQueued = false;
    if (onMove) {
      onMove(detail);
    }
  };
  const tryToCapturePan = () => {
    if (gesture && !gesture.capture()) {
      return false;
    }
    hasCapturedPan = true;
    hasFiredStart = false;
    // reset start position since the real user-land event starts here
    // If the pan detector threshold is big, not resetting the start position
    // will cause a jump in the animation equal to the detector threshold.
    // the array of positions used to calculate the gesture velocity does not
    // need to be cleaned, more points in the positions array always results in a
    // more accurate value of the velocity.
    detail.startX = detail.currentX;
    detail.startY = detail.currentY;
    detail.startTime = detail.currentTime;
    if (onWillStart) {
      onWillStart(detail).then(fireOnStart);
    }
    else {
      fireOnStart();
    }
    return true;
  };
  const blurActiveElement = () => {
    /* tslint:disable-next-line */
    if (typeof document !== 'undefined') {
      const activeElement = document.activeElement;
      if (activeElement !== null && activeElement.blur) {
        activeElement.blur();
      }
    }
  };
  const fireOnStart = () => {
    if (blurOnStart) {
      blurActiveElement();
    }
    if (onStart) {
      onStart(detail);
    }
    hasFiredStart = true;
  };
  const reset = () => {
    hasCapturedPan = false;
    hasStartedPan = false;
    isMoveQueued = false;
    hasFiredStart = true;
    gesture.release();
  };
  // END *************************
  const pointerUp = (ev) => {
    const tmpHasCaptured = hasCapturedPan;
    const tmpHasFiredStart = hasFiredStart;
    reset();
    if (!tmpHasFiredStart) {
      return;
    }
    calcGestureData(detail, ev);
    // Try to capture press
    if (tmpHasCaptured) {
      if (onEnd) {
        onEnd(detail);
      }
      return;
    }
    // Not captured any event
    if (notCaptured) {
      notCaptured(detail);
    }
  };
  const pointerEvents = createPointerEvents(finalConfig.el, pointerDown, pointerMove, pointerUp, {
    capture: false,
    passive
  });
  const abortGesture = () => {
    reset();
    pointerEvents.stop();
    if (notCaptured) {
      notCaptured(detail);
    }
  };
  return {
    enable(enable = true) {
      if (!enable) {
        if (hasCapturedPan) {
          pointerUp(undefined);
        }
        reset();
      }
      pointerEvents.enable(enable);
    },
    destroy() {
      gesture.destroy();
      pointerEvents.destroy();
    }
  };
};
const calcGestureData = (detail, ev) => {
  if (!ev) {
    return;
  }
  const prevX = detail.currentX;
  const prevY = detail.currentY;
  const prevT = detail.currentTime;
  updateDetail(ev, detail);
  const currentX = detail.currentX;
  const currentY = detail.currentY;
  const timestamp = detail.currentTime = now(ev);
  const timeDelta = timestamp - prevT;
  if (timeDelta > 0 && timeDelta < 100) {
    const velocityX = (currentX - prevX) / timeDelta;
    const velocityY = (currentY - prevY) / timeDelta;
    detail.velocityX = velocityX * 0.7 + detail.velocityX * 0.3;
    detail.velocityY = velocityY * 0.7 + detail.velocityY * 0.3;
  }
  detail.deltaX = currentX - detail.startX;
  detail.deltaY = currentY - detail.startY;
  detail.event = ev;
};
const updateDetail = (ev, detail) => {
  // get X coordinates for either a mouse click
  // or a touch depending on the given event
  let x = 0;
  let y = 0;
  if (ev) {
    const changedTouches = ev.changedTouches;
    if (changedTouches && changedTouches.length > 0) {
      const touch = changedTouches[0];
      x = touch.clientX;
      y = touch.clientY;
    }
    else if (ev.pageX !== undefined) {
      x = ev.pageX;
      y = ev.pageY;
    }
  }
  detail.currentX = x;
  detail.currentY = y;
};
const now = (ev) => {
  return ev.timeStamp || Date.now();
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index-4464d2dc.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index-4464d2dc.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "m": () => (/* binding */ menuController)
/* harmony export */ });
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm/hardware-back-button-ace6a71b.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





/**
 * baseAnimation
 * Base class which is extended by the various types. Each
 * type will provide their own animations for open and close
 * and registers itself with Menu.
 */
const baseAnimation = (isIos) => {
  // https://material.io/guidelines/motion/movement.html#movement-movement-in-out-of-screen-bounds
  // https://material.io/guidelines/motion/duration-easing.html#duration-easing-natural-easing-curves
  /**
   * "Apply the sharp curve to items temporarily leaving the screen that may return
   * from the same exit point. When they return, use the deceleration curve. On mobile,
   * this transition typically occurs over 300ms" -- MD Motion Guide
   */
  return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)().duration(isIos ? 400 : 300);
};

/**
 * Menu Overlay Type
 * The menu slides over the content. The content
 * itself, which is under the menu, does not move.
 */
const menuOverlayAnimation = (menu) => {
  let closedX;
  let openedX;
  const width = menu.width + 8;
  const menuAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)();
  if (menu.isEndSide) {
    // right side
    closedX = width + 'px';
    openedX = '0px';
  }
  else {
    // left side
    closedX = -width + 'px';
    openedX = '0px';
  }
  menuAnimation
    .addElement(menu.menuInnerEl)
    .fromTo('transform', `translateX(${closedX})`, `translateX(${openedX})`);
  const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(menu);
  const isIos = mode === 'ios';
  const opacity = isIos ? 0.2 : 0.25;
  backdropAnimation
    .addElement(menu.backdropEl)
    .fromTo('opacity', 0.01, opacity);
  return baseAnimation(isIos).addAnimation([menuAnimation, backdropAnimation]);
};

/**
 * Menu Push Type
 * The content slides over to reveal the menu underneath.
 * The menu itself also slides over to reveal its bad self.
 */
const menuPushAnimation = (menu) => {
  let contentOpenedX;
  let menuClosedX;
  const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(menu);
  const width = menu.width;
  if (menu.isEndSide) {
    contentOpenedX = -width + 'px';
    menuClosedX = width + 'px';
  }
  else {
    contentOpenedX = width + 'px';
    menuClosedX = -width + 'px';
  }
  const menuAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)()
    .addElement(menu.menuInnerEl)
    .fromTo('transform', `translateX(${menuClosedX})`, 'translateX(0px)');
  const contentAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)()
    .addElement(menu.contentEl)
    .fromTo('transform', 'translateX(0px)', `translateX(${contentOpenedX})`);
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)()
    .addElement(menu.backdropEl)
    .fromTo('opacity', 0.01, 0.32);
  return baseAnimation(mode === 'ios').addAnimation([menuAnimation, contentAnimation, backdropAnimation]);
};

/**
 * Menu Reveal Type
 * The content slides over to reveal the menu underneath.
 * The menu itself, which is under the content, does not move.
 */
const menuRevealAnimation = (menu) => {
  const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__.b)(menu);
  const openedX = (menu.width * (menu.isEndSide ? -1 : 1)) + 'px';
  const contentOpen = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_3__.c)()
    .addElement(menu.contentEl) // REVIEW
    .fromTo('transform', 'translateX(0px)', `translateX(${openedX})`);
  return baseAnimation(mode === 'ios').addAnimation(contentOpen);
};

const createMenuController = () => {
  const menuAnimations = new Map();
  const menus = [];
  const open = async (menu) => {
    const menuEl = await get(menu);
    if (menuEl) {
      return menuEl.open();
    }
    return false;
  };
  const close = async (menu) => {
    const menuEl = await (menu !== undefined ? get(menu) : getOpen());
    if (menuEl !== undefined) {
      return menuEl.close();
    }
    return false;
  };
  const toggle = async (menu) => {
    const menuEl = await get(menu);
    if (menuEl) {
      return menuEl.toggle();
    }
    return false;
  };
  const enable = async (shouldEnable, menu) => {
    const menuEl = await get(menu);
    if (menuEl) {
      menuEl.disabled = !shouldEnable;
    }
    return menuEl;
  };
  const swipeGesture = async (shouldEnable, menu) => {
    const menuEl = await get(menu);
    if (menuEl) {
      menuEl.swipeGesture = shouldEnable;
    }
    return menuEl;
  };
  const isOpen = async (menu) => {
    if (menu != null) {
      const menuEl = await get(menu);
      return (menuEl !== undefined && menuEl.isOpen());
    }
    else {
      const menuEl = await getOpen();
      return menuEl !== undefined;
    }
  };
  const isEnabled = async (menu) => {
    const menuEl = await get(menu);
    if (menuEl) {
      return !menuEl.disabled;
    }
    return false;
  };
  const get = async (menu) => {
    await waitUntilReady();
    if (menu === 'start' || menu === 'end') {
      // there could be more than one menu on the same side
      // so first try to get the enabled one
      const menuRef = find(m => m.side === menu && !m.disabled);
      if (menuRef) {
        return menuRef;
      }
      // didn't find a menu side that is enabled
      // so try to get the first menu side found
      return find(m => m.side === menu);
    }
    else if (menu != null) {
      // the menuId was not left or right
      // so try to get the menu by its "id"
      return find(m => m.menuId === menu);
    }
    // return the first enabled menu
    const menuEl = find(m => !m.disabled);
    if (menuEl) {
      return menuEl;
    }
    // get the first menu in the array, if one exists
    return menus.length > 0 ? menus[0].el : undefined;
  };
  /**
   * Get the instance of the opened menu. Returns `null` if a menu is not found.
   */
  const getOpen = async () => {
    await waitUntilReady();
    return _getOpenSync();
  };
  /**
   * Get all menu instances.
   */
  const getMenus = async () => {
    await waitUntilReady();
    return getMenusSync();
  };
  /**
   * Get whether or not a menu is animating. Returns `true` if any
   * menu is currently animating.
   */
  const isAnimating = async () => {
    await waitUntilReady();
    return isAnimatingSync();
  };
  const registerAnimation = (name, animation) => {
    menuAnimations.set(name, animation);
  };
  const _register = (menu) => {
    if (menus.indexOf(menu) < 0) {
      if (!menu.disabled) {
        _setActiveMenu(menu);
      }
      menus.push(menu);
    }
  };
  const _unregister = (menu) => {
    const index = menus.indexOf(menu);
    if (index > -1) {
      menus.splice(index, 1);
    }
  };
  const _setActiveMenu = (menu) => {
    // if this menu should be enabled
    // then find all the other menus on this same side
    // and automatically disable other same side menus
    const side = menu.side;
    menus
      .filter(m => m.side === side && m !== menu)
      .forEach(m => m.disabled = true);
  };
  const _setOpen = async (menu, shouldOpen, animated) => {
    if (isAnimatingSync()) {
      return false;
    }
    if (shouldOpen) {
      const openedMenu = await getOpen();
      if (openedMenu && menu.el !== openedMenu) {
        await openedMenu.setOpen(false, false);
      }
    }
    return menu._setOpen(shouldOpen, animated);
  };
  const _createAnimation = (type, menuCmp) => {
    const animationBuilder = menuAnimations.get(type);
    if (!animationBuilder) {
      throw new Error('animation not registered');
    }
    const animation = animationBuilder(menuCmp);
    return animation;
  };
  const _getOpenSync = () => {
    return find(m => m._isOpen);
  };
  const getMenusSync = () => {
    return menus.map(menu => menu.el);
  };
  const isAnimatingSync = () => {
    return menus.some(menu => menu.isAnimating);
  };
  const find = (predicate) => {
    const instance = menus.find(predicate);
    if (instance !== undefined) {
      return instance.el;
    }
    return undefined;
  };
  const waitUntilReady = () => {
    return Promise.all(Array.from(document.querySelectorAll('ion-menu'))
      .map(menu => new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.c)(menu, resolve))));
  };
  registerAnimation('reveal', menuRevealAnimation);
  registerAnimation('push', menuPushAnimation);
  registerAnimation('overlay', menuOverlayAnimation);
  /* tslint:disable-next-line */
  if (typeof document !== 'undefined') {
    document.addEventListener('ionBackButton', (ev) => {
      const openMenu = _getOpenSync();
      if (openMenu) {
        ev.detail.register(_hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_0__.MENU_BACK_BUTTON_PRIORITY, () => {
          return openMenu.close();
        });
      }
    });
  }
  return {
    registerAnimation,
    get,
    getMenus,
    getOpen,
    isEnabled,
    swipeGesture,
    isAnimating,
    isOpen,
    enable,
    toggle,
    close,
    open,
    _getOpenSync,
    _createAnimation,
    _register,
    _unregister,
    _setOpen,
    _setActiveMenu,
  };
};
const menuController = /*@__PURE__*/ createMenuController();




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index-c841c933.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index-c841c933.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "I": () => (/* binding */ IonicSafeString),
/* harmony export */   "s": () => (/* binding */ sanitizeDOMString)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
/**
 * Does a simple sanitization of all elements
 * in an untrusted string
 */
const sanitizeDOMString = (untrustedString) => {
  try {
    if (untrustedString instanceof IonicSafeString) {
      return untrustedString.value;
    }
    if (!isSanitizerEnabled() || typeof untrustedString !== 'string' || untrustedString === '') {
      return untrustedString;
    }
    /**
     * Create a document fragment
     * separate from the main DOM,
     * create a div to do our work in
     */
    const documentFragment = document.createDocumentFragment();
    const workingDiv = document.createElement('div');
    documentFragment.appendChild(workingDiv);
    workingDiv.innerHTML = untrustedString;
    /**
     * Remove any elements
     * that are blocked
     */
    blockedTags.forEach(blockedTag => {
      const getElementsToRemove = documentFragment.querySelectorAll(blockedTag);
      for (let elementIndex = getElementsToRemove.length - 1; elementIndex >= 0; elementIndex--) {
        const element = getElementsToRemove[elementIndex];
        if (element.parentNode) {
          element.parentNode.removeChild(element);
        }
        else {
          documentFragment.removeChild(element);
        }
        /**
         * We still need to sanitize
         * the children of this element
         * as they are left behind
         */
        const childElements = getElementChildren(element);
        /* tslint:disable-next-line */
        for (let childIndex = 0; childIndex < childElements.length; childIndex++) {
          sanitizeElement(childElements[childIndex]);
        }
      }
    });
    /**
     * Go through remaining elements and remove
     * non-allowed attribs
     */
    // IE does not support .children on document fragments, only .childNodes
    const dfChildren = getElementChildren(documentFragment);
    /* tslint:disable-next-line */
    for (let childIndex = 0; childIndex < dfChildren.length; childIndex++) {
      sanitizeElement(dfChildren[childIndex]);
    }
    // Append document fragment to div
    const fragmentDiv = document.createElement('div');
    fragmentDiv.appendChild(documentFragment);
    // First child is always the div we did our work in
    const getInnerDiv = fragmentDiv.querySelector('div');
    return (getInnerDiv !== null) ? getInnerDiv.innerHTML : fragmentDiv.innerHTML;
  }
  catch (err) {
    console.error(err);
    return '';
  }
};
/**
 * Clean up current element based on allowed attributes
 * and then recursively dig down into any child elements to
 * clean those up as well
 */
const sanitizeElement = (element) => {
  // IE uses childNodes, so ignore nodes that are not elements
  if (element.nodeType && element.nodeType !== 1) {
    return;
  }
  for (let i = element.attributes.length - 1; i >= 0; i--) {
    const attribute = element.attributes.item(i);
    const attributeName = attribute.name;
    // remove non-allowed attribs
    if (!allowedAttributes.includes(attributeName.toLowerCase())) {
      element.removeAttribute(attributeName);
      continue;
    }
    // clean up any allowed attribs
    // that attempt to do any JS funny-business
    const attributeValue = attribute.value;
    /* tslint:disable-next-line */
    if (attributeValue != null && attributeValue.toLowerCase().includes('javascript:')) {
      element.removeAttribute(attributeName);
    }
  }
  /**
   * Sanitize any nested children
   */
  const childElements = getElementChildren(element);
  /* tslint:disable-next-line */
  for (let i = 0; i < childElements.length; i++) {
    sanitizeElement(childElements[i]);
  }
};
/**
 * IE doesn't always support .children
 * so we revert to .childNodes instead
 */
const getElementChildren = (el) => {
  return (el.children != null) ? el.children : el.childNodes;
};
const isSanitizerEnabled = () => {
  const win = window;
  const config = win && win.Ionic && win.Ionic.config;
  if (config) {
    if (config.get) {
      return config.get('sanitizerEnabled', true);
    }
    else {
      return config.sanitizerEnabled === true || config.sanitizerEnabled === undefined;
    }
  }
  return true;
};
const allowedAttributes = ['class', 'id', 'href', 'src', 'name', 'slot'];
const blockedTags = ['script', 'style', 'iframe', 'meta', 'link', 'object', 'embed'];
class IonicSafeString {
  constructor(value) {
    this.value = value;
  }
}




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "L": () => (/* binding */ LIFECYCLE_WILL_ENTER),
/* harmony export */   "a": () => (/* binding */ LIFECYCLE_DID_ENTER),
/* harmony export */   "b": () => (/* binding */ LIFECYCLE_WILL_LEAVE),
/* harmony export */   "c": () => (/* binding */ LIFECYCLE_DID_LEAVE),
/* harmony export */   "d": () => (/* binding */ LIFECYCLE_WILL_UNLOAD),
/* harmony export */   "e": () => (/* binding */ deepReady),
/* harmony export */   "g": () => (/* binding */ getIonPageElement),
/* harmony export */   "l": () => (/* binding */ lifecycle),
/* harmony export */   "s": () => (/* binding */ setPageHidden),
/* harmony export */   "t": () => (/* binding */ transition)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const LIFECYCLE_WILL_ENTER = 'ionViewWillEnter';
const LIFECYCLE_DID_ENTER = 'ionViewDidEnter';
const LIFECYCLE_WILL_LEAVE = 'ionViewWillLeave';
const LIFECYCLE_DID_LEAVE = 'ionViewDidLeave';
const LIFECYCLE_WILL_UNLOAD = 'ionViewWillUnload';

const iosTransitionAnimation = () => Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./ios.transition-4a03103b.js */ "../../../node_modules/@ionic/core/dist/esm/ios.transition-4a03103b.js"));
const mdTransitionAnimation = () => Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./md.transition-8277029c.js */ "../../../node_modules/@ionic/core/dist/esm/md.transition-8277029c.js"));
const transition = (opts) => {
  return new Promise((resolve, reject) => {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)(() => {
      beforeTransition(opts);
      runTransition(opts).then(result => {
        if (result.animation) {
          result.animation.destroy();
        }
        afterTransition(opts);
        resolve(result);
      }, error => {
        afterTransition(opts);
        reject(error);
      });
    });
  });
};
const beforeTransition = (opts) => {
  const enteringEl = opts.enteringEl;
  const leavingEl = opts.leavingEl;
  setZIndex(enteringEl, leavingEl, opts.direction);
  if (opts.showGoBack) {
    enteringEl.classList.add('can-go-back');
  }
  else {
    enteringEl.classList.remove('can-go-back');
  }
  setPageHidden(enteringEl, false);
  /**
   * When transitioning, the page should not
   * respond to click events. This resolves small
   * issues like users double tapping the ion-back-button.
   * These pointer events are removed in `afterTransition`.
   */
  enteringEl.style.setProperty('pointer-events', 'none');
  if (leavingEl) {
    setPageHidden(leavingEl, false);
    leavingEl.style.setProperty('pointer-events', 'none');
  }
};
const runTransition = async (opts) => {
  const animationBuilder = await getAnimationBuilder(opts);
  const ani = (animationBuilder && _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.B.isBrowser)
    ? animation(animationBuilder, opts)
    : noAnimation(opts); // fast path for no animation
  return ani;
};
const afterTransition = (opts) => {
  const enteringEl = opts.enteringEl;
  const leavingEl = opts.leavingEl;
  enteringEl.classList.remove('ion-page-invisible');
  enteringEl.style.removeProperty('pointer-events');
  if (leavingEl !== undefined) {
    leavingEl.classList.remove('ion-page-invisible');
    leavingEl.style.removeProperty('pointer-events');
  }
};
const getAnimationBuilder = async (opts) => {
  if (!opts.leavingEl || !opts.animated || opts.duration === 0) {
    return undefined;
  }
  if (opts.animationBuilder) {
    return opts.animationBuilder;
  }
  const getAnimation = (opts.mode === 'ios')
    ? (await iosTransitionAnimation()).iosTransitionAnimation
    : (await mdTransitionAnimation()).mdTransitionAnimation;
  return getAnimation;
};
const animation = async (animationBuilder, opts) => {
  await waitForReady(opts, true);
  const trans = animationBuilder(opts.baseEl, opts);
  fireWillEvents(opts.enteringEl, opts.leavingEl);
  const didComplete = await playTransition(trans, opts);
  if (opts.progressCallback) {
    opts.progressCallback(undefined);
  }
  if (didComplete) {
    fireDidEvents(opts.enteringEl, opts.leavingEl);
  }
  return {
    hasCompleted: didComplete,
    animation: trans
  };
};
const noAnimation = async (opts) => {
  const enteringEl = opts.enteringEl;
  const leavingEl = opts.leavingEl;
  await waitForReady(opts, false);
  fireWillEvents(enteringEl, leavingEl);
  fireDidEvents(enteringEl, leavingEl);
  return {
    hasCompleted: true
  };
};
const waitForReady = async (opts, defaultDeep) => {
  const deep = opts.deepWait !== undefined ? opts.deepWait : defaultDeep;
  const promises = deep ? [
    deepReady(opts.enteringEl),
    deepReady(opts.leavingEl),
  ] : [
    shallowReady(opts.enteringEl),
    shallowReady(opts.leavingEl),
  ];
  await Promise.all(promises);
  await notifyViewReady(opts.viewIsReady, opts.enteringEl);
};
const notifyViewReady = async (viewIsReady, enteringEl) => {
  if (viewIsReady) {
    await viewIsReady(enteringEl);
  }
};
const playTransition = (trans, opts) => {
  const progressCallback = opts.progressCallback;
  const promise = new Promise(resolve => {
    trans.onFinish((currentStep) => resolve(currentStep === 1));
  });
  // cool, let's do this, start the transition
  if (progressCallback) {
    // this is a swipe to go back, just get the transition progress ready
    // kick off the swipe animation start
    trans.progressStart(true);
    progressCallback(trans);
  }
  else {
    // only the top level transition should actually start "play"
    // kick it off and let it play through
    // ******** DOM WRITE ****************
    trans.play();
  }
  // create a callback for when the animation is done
  return promise;
};
const fireWillEvents = (enteringEl, leavingEl) => {
  lifecycle(leavingEl, LIFECYCLE_WILL_LEAVE);
  lifecycle(enteringEl, LIFECYCLE_WILL_ENTER);
};
const fireDidEvents = (enteringEl, leavingEl) => {
  lifecycle(enteringEl, LIFECYCLE_DID_ENTER);
  lifecycle(leavingEl, LIFECYCLE_DID_LEAVE);
};
const lifecycle = (el, eventName) => {
  if (el) {
    const ev = new CustomEvent(eventName, {
      bubbles: false,
      cancelable: false,
    });
    el.dispatchEvent(ev);
  }
};
const shallowReady = (el) => {
  if (el) {
    return new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.c)(el, resolve));
  }
  return Promise.resolve();
};
const deepReady = async (el) => {
  const element = el;
  if (element) {
    if (element.componentOnReady != null) {
      const stencilEl = await element.componentOnReady();
      if (stencilEl != null) {
        return;
      }
      /**
       * Custom elements in Stencil will have __registerHost.
       */
    }
    else if (element.__registerHost != null) {
      /**
       * Non-lazy loaded custom elements need to wait
       * one frame for component to be loaded.
       */
      const waitForCustomElement = new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_1__.r)(resolve));
      await waitForCustomElement;
      return;
    }
    await Promise.all(Array.from(element.children).map(deepReady));
  }
};
const setPageHidden = (el, hidden) => {
  if (hidden) {
    el.setAttribute('aria-hidden', 'true');
    el.classList.add('ion-page-hidden');
  }
  else {
    el.hidden = false;
    el.removeAttribute('aria-hidden');
    el.classList.remove('ion-page-hidden');
  }
};
const setZIndex = (enteringEl, leavingEl, direction) => {
  if (enteringEl !== undefined) {
    enteringEl.style.zIndex = (direction === 'back')
      ? '99'
      : '101';
  }
  if (leavingEl !== undefined) {
    leavingEl.style.zIndex = '100';
  }
};
const getIonPageElement = (element) => {
  if (element.classList.contains('ion-page')) {
    return element;
  }
  const ionPage = element.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs');
  if (ionPage) {
    return ionPage;
  }
  // idk, return the original element so at least something animates and we don't have a null pointer
  return element;
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/index.js":
/*!***********************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createAnimation": () => (/* reexport safe */ _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c),
/* harmony export */   "iosTransitionAnimation": () => (/* reexport safe */ _ios_transition_4a03103b_js__WEBPACK_IMPORTED_MODULE_1__.iosTransitionAnimation),
/* harmony export */   "mdTransitionAnimation": () => (/* reexport safe */ _md_transition_8277029c_js__WEBPACK_IMPORTED_MODULE_2__.mdTransitionAnimation),
/* harmony export */   "getTimeGivenProgression": () => (/* reexport safe */ _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_3__.g),
/* harmony export */   "createGesture": () => (/* reexport safe */ _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_4__.createGesture),
/* harmony export */   "getPlatforms": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.g),
/* harmony export */   "initialize": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.i),
/* harmony export */   "isPlatform": () => (/* reexport safe */ _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__.a),
/* harmony export */   "componentOnReady": () => (/* reexport safe */ _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.c),
/* harmony export */   "IonicSafeString": () => (/* reexport safe */ _index_c841c933_js__WEBPACK_IMPORTED_MODULE_7__.I),
/* harmony export */   "LIFECYCLE_DID_ENTER": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.a),
/* harmony export */   "LIFECYCLE_DID_LEAVE": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.c),
/* harmony export */   "LIFECYCLE_WILL_ENTER": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.L),
/* harmony export */   "LIFECYCLE_WILL_LEAVE": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.b),
/* harmony export */   "LIFECYCLE_WILL_UNLOAD": () => (/* reexport safe */ _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__.d),
/* harmony export */   "menuController": () => (/* reexport safe */ _index_4464d2dc_js__WEBPACK_IMPORTED_MODULE_9__.m),
/* harmony export */   "actionSheetController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.b),
/* harmony export */   "alertController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.a),
/* harmony export */   "loadingController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.l),
/* harmony export */   "modalController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.m),
/* harmony export */   "pickerController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.p),
/* harmony export */   "popoverController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.c),
/* harmony export */   "toastController": () => (/* reexport safe */ _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__.t),
/* harmony export */   "IonicSlides": () => (/* binding */ IonicSlides),
/* harmony export */   "IonicSwiper": () => (/* binding */ IonicSwiper),
/* harmony export */   "getMode": () => (/* binding */ getMode),
/* harmony export */   "setupConfig": () => (/* binding */ setupConfig)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js");
/* harmony import */ var _ios_transition_4a03103b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ios.transition-4a03103b.js */ "../../../node_modules/@ionic/core/dist/esm/ios.transition-4a03103b.js");
/* harmony import */ var _md_transition_8277029c_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./md.transition-8277029c.js */ "../../../node_modules/@ionic/core/dist/esm/md.transition-8277029c.js");
/* harmony import */ var _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cubic-bezier-154a53a5.js */ "../../../node_modules/@ionic/core/dist/esm/cubic-bezier-154a53a5.js");
/* harmony import */ var _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-41bf41f2.js */ "../../../node_modules/@ionic/core/dist/esm/index-41bf41f2.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _index_c841c933_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-c841c933.js */ "../../../node_modules/@ionic/core/dist/esm/index-c841c933.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js");
/* harmony import */ var _index_4464d2dc_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-4464d2dc.js */ "../../../node_modules/@ionic/core/dist/esm/index-4464d2dc.js");
/* harmony import */ var _overlays_f2e55e3a_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./overlays-f2e55e3a.js */ "../../../node_modules/@ionic/core/dist/esm/overlays-f2e55e3a.js");
/* harmony import */ var _gesture_controller_68c023a4_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./gesture-controller-68c023a4.js */ "../../../node_modules/@ionic/core/dist/esm/gesture-controller-68c023a4.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm/hardware-back-button-ace6a71b.js");
/* harmony import */ var _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./haptic-9a9aa7ec.js */ "../../../node_modules/@ionic/core/dist/esm/haptic-9a9aa7ec.js");
/* harmony import */ var _theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./theme-a24ff1ad.js */ "../../../node_modules/@ionic/core/dist/esm/theme-a24ff1ad.js");
/* harmony import */ var _framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./framework-delegate-a922018c.js */ "../../../node_modules/@ionic/core/dist/esm/framework-delegate-a922018c.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



















const setupConfig = (config) => {
  const win = window;
  const Ionic = win.Ionic;
  if (Ionic && Ionic.config && Ionic.config.constructor.name !== 'Object') {
    return;
  }
  win.Ionic = win.Ionic || {};
  win.Ionic.config = Object.assign(Object.assign({}, win.Ionic.config), config);
  return win.Ionic.config;
};
const getMode = () => {
  const win = window;
  const config = win && win.Ionic && win.Ionic.config;
  if (config) {
    if (config.mode) {
      return config.mode;
    }
    else {
      return config.get('mode');
    }
  }
  return 'md';
};

/**
 * This is a plugin for Swiper that allows it to work
 * with Ionic Framework and the routing integrations.
 * Without this plugin, Swiper would be incapable of correctly
 * determining the dimensions of the slides component as
 * each view is initially hidden before transitioning in.
 */
const setupSwiperInIonic = (swiper, watchForIonPageChanges = true) => {
  if (typeof window === 'undefined') {
    return;
  }
  const swiperEl = swiper.el;
  const ionPage = swiperEl.closest('.ion-page');
  if (!ionPage) {
    if (watchForIonPageChanges) {
      /**
       * If no ion page found, it is possible
       * that we are in the overlay setup step
       * where the inner component has been
       * created but not attached to the DOM yet.
       * If so, wait for the .ion-page class to
       * appear on the root div and re-run setup.
       */
      const rootNode = swiperEl.getRootNode();
      if (rootNode.tagName === 'DIV') {
        const mo = new MutationObserver((m) => {
          const mutation = m[0];
          const wasEmpty = mutation.oldValue === null;
          const hasIonPage = rootNode.classList.contains('ion-page');
          /**
           * Now that we have an .ion-page class
           * we can safely attempt setup again.
           */
          if (wasEmpty && hasIonPage) {
            mo.disconnect();
            /**
             * Set false here so we do not
             * get infinite loops
             */
            setupSwiperInIonic(swiper, false);
          }
        });
        mo.observe(rootNode, {
          attributeFilter: ['class'],
          attributeOldValue: true
        });
      }
    }
    return;
  }
  /**
   * If using slides in a modal or
   * popover we need to wait for the
   * overlay to be shown as these components
   * are hidden when they are initially created.
   */
  const modalOrPopover = swiperEl.closest('ion-modal, ion-popover');
  if (modalOrPopover) {
    const eventName = modalOrPopover.tagName === 'ION-MODAL' ? 'ionModalWillPresent' : 'ionPopoverWillPresent';
    const overlayCallback = () => {
      /**
       * We need an raf here so the update
       * is fired one tick after the overlay is shown.
       */
      (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.r)(() => {
        swiperEl.swiper.update();
        (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.b)(modalOrPopover, eventName, overlayCallback);
      });
    };
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.a)(modalOrPopover, eventName, overlayCallback);
  }
  else {
    /**
     * If using slides in a page
     * we need to wait for the ion-page-invisible
     * class to be removed so Swiper can correctly
     * compute the dimensions of the slides.
     */
    const mo = new MutationObserver((m) => {
      var _a;
      const mutation = m[0];
      const wasPageHidden = (_a = mutation.oldValue) === null || _a === void 0 ? void 0 : _a.includes('ion-page-invisible');
      const isPageHidden = ionPage.classList.contains('ion-page-invisible');
      /**
       * Only update Swiper if the page was
       * hidden but is no longer hidden.
       */
      if (!isPageHidden && isPageHidden !== wasPageHidden) {
        swiperEl.swiper.update();
      }
    });
    mo.observe(ionPage, {
      attributeFilter: ['class'],
      attributeOldValue: true
    });
  }
  /**
   * We also need to listen for the appload event
   * which is emitted by Stencil in the
   * event that Swiper is being used on the
   * view that is rendered initially.
   */
  const onAppLoad = () => {
    swiperEl.swiper.update();
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.b)(window, 'appload', onAppLoad);
  };
  (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_6__.a)(window, 'appload', onAppLoad);
};
const IonicSwiper = {
  name: 'ionic',
  on: {
    afterInit(swiper) {
      console.warn('[Deprecation Warning]: The IonicSwiper module has been deprecated in favor of the IonSlides module. This change was made to better support the Swiper 7 release. The IonicSwiper module will be removed in Ionic 7.0. See https://ionicframework.com/docs/api/slides#migration for revised migration steps.');
      setupSwiperInIonic(swiper);
    }
  }
};

const IonicSlides = (opts) => {
  const { swiper, extendParams } = opts;
  const slidesParams = {
    effect: undefined,
    direction: 'horizontal',
    initialSlide: 0,
    loop: false,
    parallax: false,
    slidesPerView: 1,
    spaceBetween: 0,
    speed: 300,
    slidesPerColumn: 1,
    slidesPerColumnFill: 'column',
    slidesPerGroup: 1,
    centeredSlides: false,
    slidesOffsetBefore: 0,
    slidesOffsetAfter: 0,
    touchEventsTarget: 'container',
    autoplay: false,
    freeMode: false,
    freeModeMomentum: true,
    freeModeMomentumRatio: 1,
    freeModeMomentumBounce: true,
    freeModeMomentumBounceRatio: 1,
    freeModeMomentumVelocityRatio: 1,
    freeModeSticky: false,
    freeModeMinimumVelocity: 0.02,
    autoHeight: false,
    setWrapperSize: false,
    zoom: {
      maxRatio: 3,
      minRatio: 1,
      toggle: false,
    },
    touchRatio: 1,
    touchAngle: 45,
    simulateTouch: true,
    touchStartPreventDefault: false,
    shortSwipes: true,
    longSwipes: true,
    longSwipesRatio: 0.5,
    longSwipesMs: 300,
    followFinger: true,
    threshold: 0,
    touchMoveStopPropagation: true,
    touchReleaseOnEdges: false,
    iOSEdgeSwipeDetection: false,
    iOSEdgeSwipeThreshold: 20,
    resistance: true,
    resistanceRatio: 0.85,
    watchSlidesProgress: false,
    watchSlidesVisibility: false,
    preventClicks: true,
    preventClicksPropagation: true,
    slideToClickedSlide: false,
    loopAdditionalSlides: 0,
    noSwiping: true,
    runCallbacksOnInit: true,
    coverflowEffect: {
      rotate: 50,
      stretch: 0,
      depth: 100,
      modifier: 1,
      slideShadows: true
    },
    flipEffect: {
      slideShadows: true,
      limitRotation: true
    },
    cubeEffect: {
      slideShadows: true,
      shadow: true,
      shadowOffset: 20,
      shadowScale: 0.94
    },
    fadeEffect: {
      crossFade: false
    },
    a11y: {
      prevSlideMessage: 'Previous slide',
      nextSlideMessage: 'Next slide',
      firstSlideMessage: 'This is the first slide',
      lastSlideMessage: 'This is the last slide'
    }
  };
  if (swiper.pagination) {
    slidesParams.pagination = {
      type: 'bullets',
      clickable: false,
      hideOnClick: false,
    };
  }
  if (swiper.scrollbar) {
    slidesParams.scrollbar = {
      hide: true
    };
  }
  extendParams(slidesParams);
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js":
/*!***************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "a": () => (/* binding */ isPlatform),
/* harmony export */   "b": () => (/* binding */ getIonMode),
/* harmony export */   "c": () => (/* binding */ config),
/* harmony export */   "g": () => (/* binding */ getPlatforms),
/* harmony export */   "i": () => (/* binding */ initialize)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


class Config {
  constructor() {
    this.m = new Map();
  }
  reset(configObj) {
    this.m = new Map(Object.entries(configObj));
  }
  get(key, fallback) {
    const value = this.m.get(key);
    return value !== undefined ? value : fallback;
  }
  getBoolean(key, fallback = false) {
    const val = this.m.get(key);
    if (val === undefined) {
      return fallback;
    }
    if (typeof val === 'string') {
      return val === 'true';
    }
    return !!val;
  }
  getNumber(key, fallback) {
    const val = parseFloat(this.m.get(key));
    return isNaN(val) ? (fallback !== undefined ? fallback : NaN) : val;
  }
  set(key, value) {
    this.m.set(key, value);
  }
}
const config = /*@__PURE__*/ new Config();
const configFromSession = (win) => {
  try {
    const configStr = win.sessionStorage.getItem(IONIC_SESSION_KEY);
    return configStr !== null ? JSON.parse(configStr) : {};
  }
  catch (e) {
    return {};
  }
};
const saveConfig = (win, c) => {
  try {
    win.sessionStorage.setItem(IONIC_SESSION_KEY, JSON.stringify(c));
  }
  catch (e) {
    return;
  }
};
const configFromURL = (win) => {
  const configObj = {};
  win.location.search
    .slice(1)
    .split('&')
    .map(entry => entry.split('='))
    .map(([key, value]) => [decodeURIComponent(key), decodeURIComponent(value)])
    .filter(([key]) => startsWith(key, IONIC_PREFIX))
    .map(([key, value]) => [key.slice(IONIC_PREFIX.length), value])
    .forEach(([key, value]) => {
    configObj[key] = value;
  });
  return configObj;
};
const startsWith = (input, search) => {
  return input.substr(0, search.length) === search;
};
const IONIC_PREFIX = 'ionic:';
const IONIC_SESSION_KEY = 'ionic-persist-config';

const getPlatforms = (win) => setupPlatforms(win);
const isPlatform = (winOrPlatform, platform) => {
  if (typeof winOrPlatform === 'string') {
    platform = winOrPlatform;
    winOrPlatform = undefined;
  }
  return getPlatforms(winOrPlatform).includes(platform);
};
const setupPlatforms = (win = window) => {
  if (typeof win === 'undefined') {
    return [];
  }
  win.Ionic = win.Ionic || {};
  let platforms = win.Ionic.platforms;
  if (platforms == null) {
    platforms = win.Ionic.platforms = detectPlatforms(win);
    platforms.forEach(p => win.document.documentElement.classList.add(`plt-${p}`));
  }
  return platforms;
};
const detectPlatforms = (win) => {
  const customPlatformMethods = config.get('platform');
  return Object.keys(PLATFORMS_MAP).filter(p => {
    const customMethod = customPlatformMethods && customPlatformMethods[p];
    return typeof customMethod === 'function' ? customMethod(win) : PLATFORMS_MAP[p](win);
  });
};
const isMobileWeb = (win) => isMobile(win) && !isHybrid(win);
const isIpad = (win) => {
  // iOS 12 and below
  if (testUserAgent(win, /iPad/i)) {
    return true;
  }
  // iOS 13+
  if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {
    return true;
  }
  return false;
};
const isIphone = (win) => testUserAgent(win, /iPhone/i);
const isIOS = (win) => testUserAgent(win, /iPhone|iPod/i) || isIpad(win);
const isAndroid = (win) => testUserAgent(win, /android|sink/i);
const isAndroidTablet = (win) => {
  return isAndroid(win) && !testUserAgent(win, /mobile/i);
};
const isPhablet = (win) => {
  const width = win.innerWidth;
  const height = win.innerHeight;
  const smallest = Math.min(width, height);
  const largest = Math.max(width, height);
  return (smallest > 390 && smallest < 520) &&
    (largest > 620 && largest < 800);
};
const isTablet = (win) => {
  const width = win.innerWidth;
  const height = win.innerHeight;
  const smallest = Math.min(width, height);
  const largest = Math.max(width, height);
  return (isIpad(win) ||
    isAndroidTablet(win) ||
    ((smallest > 460 && smallest < 820) &&
      (largest > 780 && largest < 1400)));
};
const isMobile = (win) => matchMedia(win, '(any-pointer:coarse)');
const isDesktop = (win) => !isMobile(win);
const isHybrid = (win) => isCordova(win) || isCapacitorNative(win);
const isCordova = (win) => !!(win['cordova'] || win['phonegap'] || win['PhoneGap']);
const isCapacitorNative = (win) => {
  const capacitor = win['Capacitor'];
  return !!(capacitor && capacitor.isNative);
};
const isElectron = (win) => testUserAgent(win, /electron/i);
const isPWA = (win) => !!((win.matchMedia && win.matchMedia('(display-mode: standalone)').matches) || win.navigator.standalone);
const testUserAgent = (win, expr) => expr.test(win.navigator.userAgent);
const matchMedia = (win, query) => win.matchMedia && win.matchMedia(query).matches;
const PLATFORMS_MAP = {
  'ipad': isIpad,
  'iphone': isIphone,
  'ios': isIOS,
  'android': isAndroid,
  'phablet': isPhablet,
  'tablet': isTablet,
  'cordova': isCordova,
  'capacitor': isCapacitorNative,
  'electron': isElectron,
  'pwa': isPWA,
  'mobile': isMobile,
  'mobileweb': isMobileWeb,
  'desktop': isDesktop,
  'hybrid': isHybrid
};

let defaultMode;
const getIonMode = (ref) => {
  return (ref && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.g)(ref)) || defaultMode;
};
const initialize = (userConfig = {}) => {
  if (typeof window === 'undefined') {
    return;
  }
  const doc = window.document;
  const win = window;
  const Ionic = win.Ionic = win.Ionic || {};
  const platformHelpers = {};
  if (userConfig._ael) {
    platformHelpers.ael = userConfig._ael;
  }
  if (userConfig._rel) {
    platformHelpers.rel = userConfig._rel;
  }
  if (userConfig._ce) {
    platformHelpers.ce = userConfig._ce;
  }
  (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.s)(platformHelpers);
  // create the Ionic.config from raw config object (if it exists)
  // and convert Ionic.config into a ConfigApi that has a get() fn
  const configObj = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, configFromSession(win)), { persistConfig: false }), Ionic.config), configFromURL(win)), userConfig);
  config.reset(configObj);
  if (config.getBoolean('persistConfig')) {
    saveConfig(win, configObj);
  }
  // Setup platforms
  setupPlatforms(win);
  // first see if the mode was set as an attribute on <html>
  // which could have been set by the user, or by pre-rendering
  // otherwise get the mode via config settings, and fallback to md
  Ionic.config = config;
  Ionic.mode = defaultMode = config.get('mode', (doc.documentElement.getAttribute('mode')) || (isPlatform(win, 'ios') ? 'ios' : 'md'));
  config.set('mode', defaultMode);
  doc.documentElement.setAttribute('mode', defaultMode);
  doc.documentElement.classList.add(defaultMode);
  if (config.getBoolean('_testing')) {
    config.set('animated', false);
  }
  const isIonicElement = (elm) => elm.tagName && elm.tagName.startsWith('ION-');
  const isAllowedIonicModeValue = (elmMode) => ['ios', 'md'].includes(elmMode);
  (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.a)((elm) => {
    while (elm) {
      const elmMode = elm.mode || elm.getAttribute('mode');
      if (elmMode) {
        if (isAllowedIonicModeValue(elmMode)) {
          return elmMode;
        }
        else if (isIonicElement(elm)) {
          console.warn('Invalid ionic mode: "' + elmMode + '", expected: "ios" or "md"');
        }
      }
      elm = elm.parentElement;
    }
    return defaultMode;
  });
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/ios.transition-4a03103b.js":
/*!*****************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/ios.transition-4a03103b.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "iosTransitionAnimation": () => (/* binding */ iosTransitionAnimation),
/* harmony export */   "shadow": () => (/* binding */ shadow)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





const DURATION = 540;
const getClonedElement = (tagName) => {
  return document.querySelector(`${tagName}.ion-cloned-element`);
};
const shadow = (el) => {
  return el.shadowRoot || el;
};
const getLargeTitle = (refEl) => {
  const tabs = (refEl.tagName === 'ION-TABS') ? refEl : refEl.querySelector('ion-tabs');
  const query = 'ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large';
  if (tabs != null) {
    const activeTab = tabs.querySelector('ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)');
    return (activeTab != null) ? activeTab.querySelector(query) : null;
  }
  return refEl.querySelector(query);
};
const getBackButton = (refEl, backDirection) => {
  const tabs = (refEl.tagName === 'ION-TABS') ? refEl : refEl.querySelector('ion-tabs');
  let buttonsList = [];
  if (tabs != null) {
    const activeTab = tabs.querySelector('ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)');
    if (activeTab != null) {
      buttonsList = activeTab.querySelectorAll('ion-buttons');
    }
  }
  else {
    buttonsList = refEl.querySelectorAll('ion-buttons');
  }
  for (const buttons of buttonsList) {
    const parentHeader = buttons.closest('ion-header');
    const activeHeader = parentHeader && !parentHeader.classList.contains('header-collapse-condense-inactive');
    const backButton = buttons.querySelector('ion-back-button');
    const buttonsCollapse = buttons.classList.contains('buttons-collapse');
    const startSlot = buttons.slot === 'start' || buttons.slot === '';
    if (backButton !== null && startSlot && ((buttonsCollapse && activeHeader && backDirection) || !buttonsCollapse)) {
      return backButton;
    }
  }
  return null;
};
const createLargeTitleTransition = (rootAnimation, rtl, backDirection, enteringEl, leavingEl) => {
  const enteringBackButton = getBackButton(enteringEl, backDirection);
  const leavingLargeTitle = getLargeTitle(leavingEl);
  const enteringLargeTitle = getLargeTitle(enteringEl);
  const leavingBackButton = getBackButton(leavingEl, backDirection);
  const shouldAnimationForward = enteringBackButton !== null && leavingLargeTitle !== null && !backDirection;
  const shouldAnimationBackward = enteringLargeTitle !== null && leavingBackButton !== null && backDirection;
  if (shouldAnimationForward) {
    const leavingLargeTitleBox = leavingLargeTitle.getBoundingClientRect();
    const enteringBackButtonBox = enteringBackButton.getBoundingClientRect();
    animateLargeTitle(rootAnimation, rtl, backDirection, leavingLargeTitle, leavingLargeTitleBox, enteringBackButtonBox);
    animateBackButton(rootAnimation, rtl, backDirection, enteringBackButton, leavingLargeTitleBox, enteringBackButtonBox);
  }
  else if (shouldAnimationBackward) {
    const enteringLargeTitleBox = enteringLargeTitle.getBoundingClientRect();
    const leavingBackButtonBox = leavingBackButton.getBoundingClientRect();
    animateLargeTitle(rootAnimation, rtl, backDirection, enteringLargeTitle, enteringLargeTitleBox, leavingBackButtonBox);
    animateBackButton(rootAnimation, rtl, backDirection, leavingBackButton, enteringLargeTitleBox, leavingBackButtonBox);
  }
  return {
    forward: shouldAnimationForward,
    backward: shouldAnimationBackward
  };
};
const animateBackButton = (rootAnimation, rtl, backDirection, backButtonEl, largeTitleBox, backButtonBox) => {
  const BACK_BUTTON_START_OFFSET = (rtl) ? `calc(100% - ${backButtonBox.right + 4}px)` : `${backButtonBox.left - 4}px`;
  const START_TEXT_TRANSLATE = (rtl) ? '7px' : '-7px';
  const END_TEXT_TRANSLATE = (rtl) ? '-4px' : '4px';
  const ICON_TRANSLATE = (rtl) ? '-4px' : '4px';
  const TEXT_ORIGIN_X = (rtl) ? 'right' : 'left';
  const ICON_ORIGIN_X = (rtl) ? 'left' : 'right';
  const FORWARD_TEXT_KEYFRAMES = [
    { offset: 0, opacity: 0, transform: `translate3d(${START_TEXT_TRANSLATE}, ${largeTitleBox.top - 40}px, 0) scale(2.1)` },
    { offset: 1, opacity: 1, transform: `translate3d(${END_TEXT_TRANSLATE}, ${backButtonBox.top - 46}px, 0) scale(1)` }
  ];
  const BACKWARD_TEXT_KEYFRAMES = [
    { offset: 0, opacity: 1, transform: `translate3d(${END_TEXT_TRANSLATE}, ${backButtonBox.top - 46}px, 0) scale(1)` },
    { offset: 0.6, opacity: 0 },
    { offset: 1, opacity: 0, transform: `translate3d(${START_TEXT_TRANSLATE}, ${largeTitleBox.top - 40}px, 0) scale(2.1)` }
  ];
  const TEXT_KEYFRAMES = (backDirection) ? BACKWARD_TEXT_KEYFRAMES : FORWARD_TEXT_KEYFRAMES;
  const FORWARD_ICON_KEYFRAMES = [
    { offset: 0, opacity: 0, transform: `translate3d(${ICON_TRANSLATE}, ${backButtonBox.top - 41}px, 0) scale(0.6)` },
    { offset: 1, opacity: 1, transform: `translate3d(${ICON_TRANSLATE}, ${backButtonBox.top - 46}px, 0) scale(1)` }
  ];
  const BACKWARD_ICON_KEYFRAMES = [
    { offset: 0, opacity: 1, transform: `translate3d(${ICON_TRANSLATE}, ${backButtonBox.top - 46}px, 0) scale(1)` },
    { offset: 0.2, opacity: 0, transform: `translate3d(${ICON_TRANSLATE}, ${backButtonBox.top - 41}px, 0) scale(0.6)` },
    { offset: 1, opacity: 0, transform: `translate3d(${ICON_TRANSLATE}, ${backButtonBox.top - 41}px, 0) scale(0.6)` }
  ];
  const ICON_KEYFRAMES = (backDirection) ? BACKWARD_ICON_KEYFRAMES : FORWARD_ICON_KEYFRAMES;
  const enteringBackButtonTextAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  const enteringBackButtonIconAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  const clonedBackButtonEl = getClonedElement('ion-back-button');
  const backButtonTextEl = shadow(clonedBackButtonEl).querySelector('.button-text');
  const backButtonIconEl = shadow(clonedBackButtonEl).querySelector('ion-icon');
  clonedBackButtonEl.text = backButtonEl.text;
  clonedBackButtonEl.mode = backButtonEl.mode;
  clonedBackButtonEl.icon = backButtonEl.icon;
  clonedBackButtonEl.color = backButtonEl.color;
  clonedBackButtonEl.disabled = backButtonEl.disabled;
  clonedBackButtonEl.style.setProperty('display', 'block');
  clonedBackButtonEl.style.setProperty('position', 'fixed');
  enteringBackButtonIconAnimation.addElement(backButtonIconEl);
  enteringBackButtonTextAnimation.addElement(backButtonTextEl);
  enteringBackButtonTextAnimation
    .beforeStyles({
    'transform-origin': `${TEXT_ORIGIN_X} center`
  })
    .beforeAddWrite(() => {
    backButtonEl.style.setProperty('display', 'none');
    clonedBackButtonEl.style.setProperty(TEXT_ORIGIN_X, BACK_BUTTON_START_OFFSET);
  })
    .afterAddWrite(() => {
    backButtonEl.style.setProperty('display', '');
    clonedBackButtonEl.style.setProperty('display', 'none');
    clonedBackButtonEl.style.removeProperty(TEXT_ORIGIN_X);
  })
    .keyframes(TEXT_KEYFRAMES);
  enteringBackButtonIconAnimation
    .beforeStyles({
    'transform-origin': `${ICON_ORIGIN_X} center`
  })
    .keyframes(ICON_KEYFRAMES);
  rootAnimation.addAnimation([enteringBackButtonTextAnimation, enteringBackButtonIconAnimation]);
};
const animateLargeTitle = (rootAnimation, rtl, backDirection, largeTitleEl, largeTitleBox, backButtonBox) => {
  const TITLE_START_OFFSET = (rtl) ? `calc(100% - ${largeTitleBox.right}px)` : `${largeTitleBox.left}px`;
  const START_TRANSLATE = (rtl) ? '-18px' : '18px';
  const ORIGIN_X = (rtl) ? 'right' : 'left';
  const BACKWARDS_KEYFRAMES = [
    { offset: 0, opacity: 0, transform: `translate3d(${START_TRANSLATE}, ${backButtonBox.top - 4}px, 0) scale(0.49)` },
    { offset: 0.1, opacity: 0 },
    { offset: 1, opacity: 1, transform: `translate3d(0, ${largeTitleBox.top - 2}px, 0) scale(1)` }
  ];
  const FORWARDS_KEYFRAMES = [
    { offset: 0, opacity: 0.99, transform: `translate3d(0, ${largeTitleBox.top - 2}px, 0) scale(1)` },
    { offset: 0.6, opacity: 0 },
    { offset: 1, opacity: 0, transform: `translate3d(${START_TRANSLATE}, ${backButtonBox.top - 4}px, 0) scale(0.5)` }
  ];
  const KEYFRAMES = (backDirection) ? BACKWARDS_KEYFRAMES : FORWARDS_KEYFRAMES;
  const clonedTitleEl = getClonedElement('ion-title');
  const clonedLargeTitleAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  clonedTitleEl.innerText = largeTitleEl.innerText;
  clonedTitleEl.size = largeTitleEl.size;
  clonedTitleEl.color = largeTitleEl.color;
  clonedLargeTitleAnimation.addElement(clonedTitleEl);
  clonedLargeTitleAnimation
    .beforeStyles({
    'transform-origin': `${ORIGIN_X} center`,
    'height': '46px',
    'display': '',
    'position': 'relative',
    [ORIGIN_X]: TITLE_START_OFFSET
  })
    .beforeAddWrite(() => {
    largeTitleEl.style.setProperty('display', 'none');
  })
    .afterAddWrite(() => {
    largeTitleEl.style.setProperty('display', '');
    clonedTitleEl.style.setProperty('display', 'none');
  })
    .keyframes(KEYFRAMES);
  rootAnimation.addAnimation(clonedLargeTitleAnimation);
};
const iosTransitionAnimation = (navEl, opts) => {
  try {
    const EASING = 'cubic-bezier(0.32,0.72,0,1)';
    const OPACITY = 'opacity';
    const TRANSFORM = 'transform';
    const CENTER = '0%';
    const OFF_OPACITY = 0.8;
    const isRTL = navEl.ownerDocument.dir === 'rtl';
    const OFF_RIGHT = isRTL ? '-99.5%' : '99.5%';
    const OFF_LEFT = isRTL ? '33%' : '-33%';
    const enteringEl = opts.enteringEl;
    const leavingEl = opts.leavingEl;
    const backDirection = (opts.direction === 'back');
    const contentEl = enteringEl.querySelector(':scope > ion-content');
    const headerEls = enteringEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');
    const enteringToolBarEls = enteringEl.querySelectorAll(':scope > ion-header > ion-toolbar');
    const rootAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    const enteringContentAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    rootAnimation
      .addElement(enteringEl)
      .duration(opts.duration || DURATION)
      .easing(opts.easing || EASING)
      .fill('both')
      .beforeRemoveClass('ion-page-invisible');
    if (leavingEl && navEl) {
      const navDecorAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      navDecorAnimation.addElement(navEl);
      rootAnimation.addAnimation(navDecorAnimation);
    }
    if (!contentEl && enteringToolBarEls.length === 0 && headerEls.length === 0) {
      enteringContentAnimation.addElement(enteringEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs')); // REVIEW
    }
    else {
      enteringContentAnimation.addElement(contentEl); // REVIEW
      enteringContentAnimation.addElement(headerEls);
    }
    rootAnimation.addAnimation(enteringContentAnimation);
    if (backDirection) {
      enteringContentAnimation
        .beforeClearStyles([OPACITY])
        .fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`)
        .fromTo(OPACITY, OFF_OPACITY, 1);
    }
    else {
      // entering content, forward direction
      enteringContentAnimation
        .beforeClearStyles([OPACITY])
        .fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);
    }
    if (contentEl) {
      const enteringTransitionEffectEl = shadow(contentEl).querySelector('.transition-effect');
      if (enteringTransitionEffectEl) {
        const enteringTransitionCoverEl = enteringTransitionEffectEl.querySelector('.transition-cover');
        const enteringTransitionShadowEl = enteringTransitionEffectEl.querySelector('.transition-shadow');
        const enteringTransitionEffect = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const enteringTransitionCover = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const enteringTransitionShadow = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        enteringTransitionEffect
          .addElement(enteringTransitionEffectEl)
          .beforeStyles({ opacity: '1', display: 'block' })
          .afterStyles({ opacity: '', display: '' });
        enteringTransitionCover
          .addElement(enteringTransitionCoverEl) // REVIEW
          .beforeClearStyles([OPACITY])
          .fromTo(OPACITY, 0, 0.1);
        enteringTransitionShadow
          .addElement(enteringTransitionShadowEl) // REVIEW
          .beforeClearStyles([OPACITY])
          .fromTo(OPACITY, 0.03, 0.70);
        enteringTransitionEffect.addAnimation([enteringTransitionCover, enteringTransitionShadow]);
        enteringContentAnimation.addAnimation([enteringTransitionEffect]);
      }
    }
    const enteringContentHasLargeTitle = enteringEl.querySelector('ion-header.header-collapse-condense');
    const { forward, backward } = createLargeTitleTransition(rootAnimation, isRTL, backDirection, enteringEl, leavingEl);
    enteringToolBarEls.forEach(enteringToolBarEl => {
      const enteringToolBar = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBar.addElement(enteringToolBarEl);
      rootAnimation.addAnimation(enteringToolBar);
      const enteringTitle = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringTitle.addElement(enteringToolBarEl.querySelector('ion-title')); // REVIEW
      const enteringToolBarButtons = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const buttons = Array.from(enteringToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));
      const parentHeader = enteringToolBarEl.closest('ion-header');
      const inactiveHeader = parentHeader && parentHeader.classList.contains('header-collapse-condense-inactive');
      let buttonsToAnimate;
      if (backDirection) {
        buttonsToAnimate = buttons.filter(button => {
          const isCollapseButton = button.classList.contains('buttons-collapse');
          return (isCollapseButton && !inactiveHeader) || !isCollapseButton;
        });
      }
      else {
        buttonsToAnimate = buttons.filter(button => !button.classList.contains('buttons-collapse'));
      }
      enteringToolBarButtons.addElement(buttonsToAnimate);
      const enteringToolBarItems = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBarItems.addElement(enteringToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])'));
      const enteringToolBarBg = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      enteringToolBarBg.addElement(shadow(enteringToolBarEl).querySelector('.toolbar-background')); // REVIEW
      const enteringBackButton = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const backButtonEl = enteringToolBarEl.querySelector('ion-back-button');
      if (backButtonEl) {
        enteringBackButton.addElement(backButtonEl);
      }
      enteringToolBar.addAnimation([enteringTitle, enteringToolBarButtons, enteringToolBarItems, enteringToolBarBg, enteringBackButton]);
      enteringToolBarButtons.fromTo(OPACITY, 0.01, 1);
      enteringToolBarItems.fromTo(OPACITY, 0.01, 1);
      if (backDirection) {
        if (!inactiveHeader) {
          enteringTitle
            .fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`)
            .fromTo(OPACITY, 0.01, 1);
        }
        enteringToolBarItems.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`);
        // back direction, entering page has a back button
        enteringBackButton.fromTo(OPACITY, 0.01, 1);
      }
      else {
        // entering toolbar, forward direction
        if (!enteringContentHasLargeTitle) {
          enteringTitle
            .fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`)
            .fromTo(OPACITY, 0.01, 1);
        }
        enteringToolBarItems.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);
        enteringToolBarBg.beforeClearStyles([OPACITY, 'transform']);
        const translucentHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.translucent;
        if (!translucentHeader) {
          enteringToolBarBg.fromTo(OPACITY, 0.01, 'var(--opacity)');
        }
        else {
          enteringToolBarBg.fromTo('transform', (isRTL ? 'translateX(-100%)' : 'translateX(100%)'), 'translateX(0px)');
        }
        // forward direction, entering page has a back button
        if (!forward) {
          enteringBackButton.fromTo(OPACITY, 0.01, 1);
        }
        if (backButtonEl && !forward) {
          const enteringBackBtnText = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          enteringBackBtnText
            .addElement(shadow(backButtonEl).querySelector('.button-text')) // REVIEW
            .fromTo(`transform`, (isRTL ? 'translateX(-100px)' : 'translateX(100px)'), 'translateX(0px)');
          enteringToolBar.addAnimation(enteringBackBtnText);
        }
      }
    });
    // setup leaving view
    if (leavingEl) {
      const leavingContent = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
      const leavingContentEl = leavingEl.querySelector(':scope > ion-content');
      const leavingToolBarEls = leavingEl.querySelectorAll(':scope > ion-header > ion-toolbar');
      const leavingHeaderEls = leavingEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');
      if (!leavingContentEl && leavingToolBarEls.length === 0 && leavingHeaderEls.length === 0) {
        leavingContent.addElement(leavingEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs')); // REVIEW
      }
      else {
        leavingContent.addElement(leavingContentEl); // REVIEW
        leavingContent.addElement(leavingHeaderEls);
      }
      rootAnimation.addAnimation(leavingContent);
      if (backDirection) {
        // leaving content, back direction
        leavingContent
          .beforeClearStyles([OPACITY])
          .fromTo('transform', `translateX(${CENTER})`, (isRTL ? 'translateX(-100%)' : 'translateX(100%)'));
        const leavingPage = (0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(leavingEl);
        rootAnimation.afterAddWrite(() => {
          if (rootAnimation.getDirection() === 'normal') {
            leavingPage.style.setProperty('display', 'none');
          }
        });
      }
      else {
        // leaving content, forward direction
        leavingContent
          .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)
          .fromTo(OPACITY, 1, OFF_OPACITY);
      }
      if (leavingContentEl) {
        const leavingTransitionEffectEl = shadow(leavingContentEl).querySelector('.transition-effect');
        if (leavingTransitionEffectEl) {
          const leavingTransitionCoverEl = leavingTransitionEffectEl.querySelector('.transition-cover');
          const leavingTransitionShadowEl = leavingTransitionEffectEl.querySelector('.transition-shadow');
          const leavingTransitionEffect = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          const leavingTransitionCover = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          const leavingTransitionShadow = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
          leavingTransitionEffect
            .addElement(leavingTransitionEffectEl)
            .beforeStyles({ opacity: '1', display: 'block' })
            .afterStyles({ opacity: '', display: '' });
          leavingTransitionCover
            .addElement(leavingTransitionCoverEl) // REVIEW
            .beforeClearStyles([OPACITY])
            .fromTo(OPACITY, 0.1, 0);
          leavingTransitionShadow
            .addElement(leavingTransitionShadowEl) // REVIEW
            .beforeClearStyles([OPACITY])
            .fromTo(OPACITY, 0.70, 0.03);
          leavingTransitionEffect.addAnimation([leavingTransitionCover, leavingTransitionShadow]);
          leavingContent.addAnimation([leavingTransitionEffect]);
        }
      }
      leavingToolBarEls.forEach(leavingToolBarEl => {
        const leavingToolBar = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingToolBar.addElement(leavingToolBarEl);
        const leavingTitle = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingTitle.addElement(leavingToolBarEl.querySelector('ion-title')); // REVIEW
        const leavingToolBarButtons = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const buttons = leavingToolBarEl.querySelectorAll('ion-buttons,[menuToggle]');
        const parentHeader = leavingToolBarEl.closest('ion-header');
        const inactiveHeader = parentHeader && parentHeader.classList.contains('header-collapse-condense-inactive');
        const buttonsToAnimate = Array.from(buttons).filter(button => {
          const isCollapseButton = button.classList.contains('buttons-collapse');
          return (isCollapseButton && !inactiveHeader) || !isCollapseButton;
        });
        leavingToolBarButtons.addElement(buttonsToAnimate);
        const leavingToolBarItems = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const leavingToolBarItemEls = leavingToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])');
        if (leavingToolBarItemEls.length > 0) {
          leavingToolBarItems.addElement(leavingToolBarItemEls);
        }
        const leavingToolBarBg = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        leavingToolBarBg.addElement(shadow(leavingToolBarEl).querySelector('.toolbar-background')); // REVIEW
        const leavingBackButton = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
        const backButtonEl = leavingToolBarEl.querySelector('ion-back-button');
        if (backButtonEl) {
          leavingBackButton.addElement(backButtonEl);
        }
        leavingToolBar.addAnimation([leavingTitle, leavingToolBarButtons, leavingToolBarItems, leavingBackButton, leavingToolBarBg]);
        rootAnimation.addAnimation(leavingToolBar);
        // fade out leaving toolbar items
        leavingBackButton.fromTo(OPACITY, 0.99, 0);
        leavingToolBarButtons.fromTo(OPACITY, 0.99, 0);
        leavingToolBarItems.fromTo(OPACITY, 0.99, 0);
        if (backDirection) {
          if (!inactiveHeader) {
            // leaving toolbar, back direction
            leavingTitle
              .fromTo('transform', `translateX(${CENTER})`, (isRTL ? 'translateX(-100%)' : 'translateX(100%)'))
              .fromTo(OPACITY, 0.99, 0);
          }
          leavingToolBarItems.fromTo('transform', `translateX(${CENTER})`, (isRTL ? 'translateX(-100%)' : 'translateX(100%)'));
          leavingToolBarBg.beforeClearStyles([OPACITY, 'transform']);
          // leaving toolbar, back direction, and there's no entering toolbar
          // should just slide out, no fading out
          const translucentHeader = parentHeader === null || parentHeader === void 0 ? void 0 : parentHeader.translucent;
          if (!translucentHeader) {
            leavingToolBarBg.fromTo(OPACITY, 'var(--opacity)', 0);
          }
          else {
            leavingToolBarBg.fromTo('transform', 'translateX(0px)', (isRTL ? 'translateX(-100%)' : 'translateX(100%)'));
          }
          if (backButtonEl && !backward) {
            const leavingBackBtnText = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
            leavingBackBtnText
              .addElement(shadow(backButtonEl).querySelector('.button-text')) // REVIEW
              .fromTo('transform', `translateX(${CENTER})`, `translateX(${(isRTL ? -124 : 124) + 'px'})`);
            leavingToolBar.addAnimation(leavingBackBtnText);
          }
        }
        else {
          // leaving toolbar, forward direction
          if (!inactiveHeader) {
            leavingTitle
              .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)
              .fromTo(OPACITY, 0.99, 0)
              .afterClearStyles([TRANSFORM, OPACITY]);
          }
          leavingToolBarItems
            .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)
            .afterClearStyles([TRANSFORM, OPACITY]);
          leavingBackButton.afterClearStyles([OPACITY]);
          leavingTitle.afterClearStyles([OPACITY]);
          leavingToolBarButtons.afterClearStyles([OPACITY]);
        }
      });
    }
    return rootAnimation;
  }
  catch (err) {
    throw err;
  }
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/loader.js":
/*!************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/loader.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defineCustomElements": () => (/* binding */ defineCustomElements)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/* harmony import */ var _app_globals_3675dd7b_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app-globals-3675dd7b.js */ "../../../node_modules/@ionic/core/dist/esm/app-globals-3675dd7b.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */




/*
 Stencil Client Patch Esm v2.11.0-0 | MIT Licensed | https://stenciljs.com
 */
const patchEsm = () => {
    return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.p)();
};

const defineCustomElements = (win, options) => {
  if (typeof window === 'undefined') return Promise.resolve();
  return patchEsm().then(() => {
  (0,_app_globals_3675dd7b_js__WEBPACK_IMPORTED_MODULE_1__.g)();
  return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.b)(JSON.parse("[[\"ion-menu_3\",[[33,\"ion-menu-button\",{\"color\":[513],\"disabled\":[4],\"menu\":[1],\"autoHide\":[4,\"auto-hide\"],\"type\":[1],\"visible\":[32]},[[16,\"ionMenuChange\",\"visibilityChanged\"],[16,\"ionSplitPaneVisible\",\"visibilityChanged\"]]],[33,\"ion-menu\",{\"contentId\":[513,\"content-id\"],\"menuId\":[513,\"menu-id\"],\"type\":[1025],\"disabled\":[1028],\"side\":[513],\"swipeGesture\":[4,\"swipe-gesture\"],\"maxEdgeStart\":[2,\"max-edge-start\"],\"isPaneVisible\":[32],\"isEndSide\":[32],\"isOpen\":[64],\"isActive\":[64],\"open\":[64],\"close\":[64],\"toggle\":[64],\"setOpen\":[64]},[[16,\"ionSplitPaneVisible\",\"onSplitPaneChanged\"],[2,\"click\",\"onBackdropClick\"],[0,\"keydown\",\"onKeydown\"]]],[1,\"ion-menu-toggle\",{\"menu\":[1],\"autoHide\":[4,\"auto-hide\"],\"visible\":[32]},[[16,\"ionMenuChange\",\"visibilityChanged\"],[16,\"ionSplitPaneVisible\",\"visibilityChanged\"]]]]],[\"ion-action-sheet\",[[34,\"ion-action-sheet\",{\"overlayIndex\":[2,\"overlay-index\"],\"keyboardClose\":[4,\"keyboard-close\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"buttons\":[16],\"cssClass\":[1,\"css-class\"],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"header\":[1],\"subHeader\":[1,\"sub-header\"],\"translucent\":[4],\"animated\":[4],\"htmlAttributes\":[16],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]}]]],[\"ion-fab_3\",[[33,\"ion-fab-button\",{\"color\":[513],\"activated\":[4],\"disabled\":[4],\"download\":[1],\"href\":[1],\"rel\":[1],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16],\"target\":[1],\"show\":[4],\"translucent\":[4],\"type\":[1],\"size\":[1],\"closeIcon\":[1,\"close-icon\"]}],[1,\"ion-fab\",{\"horizontal\":[1],\"vertical\":[1],\"edge\":[4],\"activated\":[1028],\"close\":[64]}],[1,\"ion-fab-list\",{\"activated\":[4],\"side\":[1]}]]],[\"ion-refresher_2\",[[0,\"ion-refresher-content\",{\"pullingIcon\":[1025,\"pulling-icon\"],\"pullingText\":[1,\"pulling-text\"],\"refreshingSpinner\":[1025,\"refreshing-spinner\"],\"refreshingText\":[1,\"refreshing-text\"]}],[32,\"ion-refresher\",{\"pullMin\":[2,\"pull-min\"],\"pullMax\":[2,\"pull-max\"],\"closeDuration\":[1,\"close-duration\"],\"snapbackDuration\":[1,\"snapback-duration\"],\"pullFactor\":[2,\"pull-factor\"],\"disabled\":[4],\"nativeRefresher\":[32],\"state\":[32],\"complete\":[64],\"cancel\":[64],\"getProgress\":[64]}]]],[\"ion-alert\",[[34,\"ion-alert\",{\"overlayIndex\":[2,\"overlay-index\"],\"keyboardClose\":[4,\"keyboard-close\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"cssClass\":[1,\"css-class\"],\"header\":[1],\"subHeader\":[1,\"sub-header\"],\"message\":[1],\"buttons\":[16],\"inputs\":[1040],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"translucent\":[4],\"animated\":[4],\"htmlAttributes\":[16],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]},[[4,\"keydown\",\"onKeydown\"]]]]],[\"ion-back-button\",[[33,\"ion-back-button\",{\"color\":[513],\"defaultHref\":[1025,\"default-href\"],\"disabled\":[516],\"icon\":[1],\"text\":[1],\"type\":[1],\"routerAnimation\":[16]}]]],[\"ion-loading\",[[34,\"ion-loading\",{\"overlayIndex\":[2,\"overlay-index\"],\"keyboardClose\":[4,\"keyboard-close\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"message\":[1],\"cssClass\":[1,\"css-class\"],\"duration\":[2],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"showBackdrop\":[4,\"show-backdrop\"],\"spinner\":[1025],\"translucent\":[4],\"animated\":[4],\"htmlAttributes\":[16],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]}]]],[\"ion-toast\",[[33,\"ion-toast\",{\"overlayIndex\":[2,\"overlay-index\"],\"color\":[513],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"cssClass\":[1,\"css-class\"],\"duration\":[2],\"header\":[1],\"message\":[1],\"keyboardClose\":[4,\"keyboard-close\"],\"position\":[1],\"buttons\":[16],\"translucent\":[4],\"animated\":[4],\"icon\":[1],\"htmlAttributes\":[16],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]}]]],[\"ion-card_5\",[[33,\"ion-card\",{\"color\":[513],\"button\":[4],\"type\":[1],\"disabled\":[4],\"download\":[1],\"href\":[1],\"rel\":[1],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16],\"target\":[1]}],[32,\"ion-card-content\"],[33,\"ion-card-header\",{\"color\":[513],\"translucent\":[4]}],[33,\"ion-card-subtitle\",{\"color\":[513]}],[33,\"ion-card-title\",{\"color\":[513]}]]],[\"ion-item-option_3\",[[33,\"ion-item-option\",{\"color\":[513],\"disabled\":[4],\"download\":[1],\"expandable\":[4],\"href\":[1],\"rel\":[1],\"target\":[1],\"type\":[1]}],[32,\"ion-item-options\",{\"side\":[1],\"fireSwipeEvent\":[64]}],[0,\"ion-item-sliding\",{\"disabled\":[4],\"state\":[32],\"getOpenAmount\":[64],\"getSlidingRatio\":[64],\"open\":[64],\"close\":[64],\"closeOpened\":[64]}]]],[\"ion-accordion_2\",[[49,\"ion-accordion\",{\"value\":[1],\"disabled\":[4],\"readonly\":[4],\"toggleIcon\":[1,\"toggle-icon\"],\"toggleIconSlot\":[1,\"toggle-icon-slot\"],\"state\":[32],\"isNext\":[32],\"isPrevious\":[32]}],[33,\"ion-accordion-group\",{\"animated\":[4],\"multiple\":[4],\"value\":[1025],\"disabled\":[4],\"readonly\":[4],\"expand\":[1],\"requestAccordionToggle\":[64],\"getAccordions\":[64]},[[0,\"keydown\",\"onKeydown\"]]]]],[\"ion-breadcrumb_2\",[[33,\"ion-breadcrumb\",{\"collapsed\":[4],\"last\":[4],\"showCollapsedIndicator\":[4,\"show-collapsed-indicator\"],\"color\":[1],\"active\":[4],\"disabled\":[4],\"download\":[1],\"href\":[1],\"rel\":[1],\"separator\":[4],\"target\":[1],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16]}],[33,\"ion-breadcrumbs\",{\"color\":[1],\"maxItems\":[2,\"max-items\"],\"itemsBeforeCollapse\":[2,\"items-before-collapse\"],\"itemsAfterCollapse\":[2,\"items-after-collapse\"],\"collapsed\":[32],\"activeChanged\":[32]},[[0,\"collapsedClick\",\"onCollapsedClick\"]]]]],[\"ion-infinite-scroll_2\",[[32,\"ion-infinite-scroll-content\",{\"loadingSpinner\":[1025,\"loading-spinner\"],\"loadingText\":[1,\"loading-text\"]}],[0,\"ion-infinite-scroll\",{\"threshold\":[1],\"disabled\":[4],\"position\":[1],\"isLoading\":[32],\"complete\":[64]}]]],[\"ion-reorder_2\",[[33,\"ion-reorder\",null,[[2,\"click\",\"onClick\"]]],[0,\"ion-reorder-group\",{\"disabled\":[4],\"state\":[32],\"complete\":[64]}]]],[\"ion-segment_2\",[[33,\"ion-segment-button\",{\"disabled\":[4],\"layout\":[1],\"type\":[1],\"value\":[1],\"checked\":[32]}],[33,\"ion-segment\",{\"color\":[513],\"disabled\":[4],\"scrollable\":[4],\"swipeGesture\":[4,\"swipe-gesture\"],\"value\":[1025],\"selectOnFocus\":[4,\"select-on-focus\"],\"activated\":[32]},[[0,\"keydown\",\"onKeyDown\"]]]]],[\"ion-tab-bar_2\",[[33,\"ion-tab-button\",{\"disabled\":[4],\"download\":[1],\"href\":[1],\"rel\":[1],\"layout\":[1025],\"selected\":[1028],\"tab\":[1],\"target\":[1]},[[8,\"ionTabBarChanged\",\"onTabBarChanged\"]]],[33,\"ion-tab-bar\",{\"color\":[513],\"selectedTab\":[1,\"selected-tab\"],\"translucent\":[4],\"keyboardVisible\":[32]}]]],[\"ion-chip\",[[33,\"ion-chip\",{\"color\":[513],\"outline\":[4],\"disabled\":[4]}]]],[\"ion-modal\",[[33,\"ion-modal\",{\"hasController\":[4,\"has-controller\"],\"overlayIndex\":[2,\"overlay-index\"],\"delegate\":[16],\"keyboardClose\":[4,\"keyboard-close\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"breakpoints\":[16],\"initialBreakpoint\":[2,\"initial-breakpoint\"],\"backdropBreakpoint\":[2,\"backdrop-breakpoint\"],\"handle\":[4],\"component\":[1],\"componentProps\":[16],\"cssClass\":[1,\"css-class\"],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"showBackdrop\":[4,\"show-backdrop\"],\"animated\":[4],\"swipeToClose\":[4,\"swipe-to-close\"],\"presentingElement\":[16],\"htmlAttributes\":[16],\"isOpen\":[4,\"is-open\"],\"trigger\":[1],\"presented\":[32],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]}]]],[\"ion-searchbar\",[[34,\"ion-searchbar\",{\"color\":[513],\"animated\":[4],\"autocomplete\":[1],\"autocorrect\":[1],\"cancelButtonIcon\":[1,\"cancel-button-icon\"],\"cancelButtonText\":[1,\"cancel-button-text\"],\"clearIcon\":[1,\"clear-icon\"],\"debounce\":[2],\"disabled\":[4],\"inputmode\":[1],\"enterkeyhint\":[1],\"placeholder\":[1],\"searchIcon\":[1,\"search-icon\"],\"showCancelButton\":[1,\"show-cancel-button\"],\"showClearButton\":[1,\"show-clear-button\"],\"spellcheck\":[4],\"type\":[1],\"value\":[1025],\"focused\":[32],\"noAnimate\":[32],\"setFocus\":[64],\"getInputElement\":[64]}]]],[\"ion-route_4\",[[0,\"ion-route\",{\"url\":[1],\"component\":[1],\"componentProps\":[16],\"beforeLeave\":[16],\"beforeEnter\":[16]}],[0,\"ion-route-redirect\",{\"from\":[1],\"to\":[1]}],[0,\"ion-router\",{\"root\":[1],\"useHash\":[4,\"use-hash\"],\"canTransition\":[64],\"push\":[64],\"back\":[64],\"printDebug\":[64],\"navChanged\":[64]},[[8,\"popstate\",\"onPopState\"],[4,\"ionBackButton\",\"onBackButton\"]]],[1,\"ion-router-link\",{\"color\":[513],\"href\":[1],\"rel\":[1],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16],\"target\":[1]}]]],[\"ion-avatar_3\",[[33,\"ion-avatar\"],[33,\"ion-badge\",{\"color\":[513]}],[1,\"ion-thumbnail\"]]],[\"ion-col_3\",[[1,\"ion-col\",{\"offset\":[1],\"offsetXs\":[1,\"offset-xs\"],\"offsetSm\":[1,\"offset-sm\"],\"offsetMd\":[1,\"offset-md\"],\"offsetLg\":[1,\"offset-lg\"],\"offsetXl\":[1,\"offset-xl\"],\"pull\":[1],\"pullXs\":[1,\"pull-xs\"],\"pullSm\":[1,\"pull-sm\"],\"pullMd\":[1,\"pull-md\"],\"pullLg\":[1,\"pull-lg\"],\"pullXl\":[1,\"pull-xl\"],\"push\":[1],\"pushXs\":[1,\"push-xs\"],\"pushSm\":[1,\"push-sm\"],\"pushMd\":[1,\"push-md\"],\"pushLg\":[1,\"push-lg\"],\"pushXl\":[1,\"push-xl\"],\"size\":[1],\"sizeXs\":[1,\"size-xs\"],\"sizeSm\":[1,\"size-sm\"],\"sizeMd\":[1,\"size-md\"],\"sizeLg\":[1,\"size-lg\"],\"sizeXl\":[1,\"size-xl\"]},[[9,\"resize\",\"onResize\"]]],[1,\"ion-grid\",{\"fixed\":[4]}],[1,\"ion-row\"]]],[\"ion-nav_2\",[[1,\"ion-nav\",{\"delegate\":[16],\"swipeGesture\":[1028,\"swipe-gesture\"],\"animated\":[4],\"animation\":[16],\"rootParams\":[16],\"root\":[1],\"push\":[64],\"insert\":[64],\"insertPages\":[64],\"pop\":[64],\"popTo\":[64],\"popToRoot\":[64],\"removeIndex\":[64],\"setRoot\":[64],\"setPages\":[64],\"setRouteId\":[64],\"getRouteId\":[64],\"getActive\":[64],\"getByIndex\":[64],\"canGoBack\":[64],\"getPrevious\":[64]}],[0,\"ion-nav-link\",{\"component\":[1],\"componentProps\":[16],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16]}]]],[\"ion-slide_2\",[[0,\"ion-slide\"],[36,\"ion-slides\",{\"options\":[8],\"pager\":[4],\"scrollbar\":[4],\"update\":[64],\"updateAutoHeight\":[64],\"slideTo\":[64],\"slideNext\":[64],\"slidePrev\":[64],\"getActiveIndex\":[64],\"getPreviousIndex\":[64],\"length\":[64],\"isEnd\":[64],\"isBeginning\":[64],\"startAutoplay\":[64],\"stopAutoplay\":[64],\"lockSwipeToNext\":[64],\"lockSwipeToPrev\":[64],\"lockSwipes\":[64],\"getSwiper\":[64]}]]],[\"ion-tab_2\",[[1,\"ion-tab\",{\"active\":[1028],\"delegate\":[16],\"tab\":[1],\"component\":[1],\"setActive\":[64]}],[1,\"ion-tabs\",{\"useRouter\":[1028,\"use-router\"],\"selectedTab\":[32],\"select\":[64],\"getTab\":[64],\"getSelected\":[64],\"setRouteId\":[64],\"getRouteId\":[64]}]]],[\"ion-img\",[[1,\"ion-img\",{\"alt\":[1],\"src\":[1],\"loadSrc\":[32],\"loadError\":[32]}]]],[\"ion-input\",[[34,\"ion-input\",{\"fireFocusEvents\":[4,\"fire-focus-events\"],\"color\":[513],\"accept\":[1],\"autocapitalize\":[1],\"autocomplete\":[1],\"autocorrect\":[1],\"autofocus\":[4],\"clearInput\":[4,\"clear-input\"],\"clearOnEdit\":[4,\"clear-on-edit\"],\"debounce\":[2],\"disabled\":[4],\"enterkeyhint\":[1],\"inputmode\":[1],\"max\":[1],\"maxlength\":[2],\"min\":[1],\"minlength\":[2],\"multiple\":[4],\"name\":[1],\"pattern\":[1],\"placeholder\":[1],\"readonly\":[4],\"required\":[4],\"spellcheck\":[4],\"step\":[1],\"size\":[2],\"type\":[1],\"value\":[1032],\"hasFocus\":[32],\"setFocus\":[64],\"setBlur\":[64],\"getInputElement\":[64]}]]],[\"ion-progress-bar\",[[33,\"ion-progress-bar\",{\"type\":[1],\"reversed\":[4],\"value\":[2],\"buffer\":[2],\"color\":[513]}]]],[\"ion-range\",[[33,\"ion-range\",{\"color\":[513],\"debounce\":[2],\"name\":[1],\"dualKnobs\":[4,\"dual-knobs\"],\"min\":[2],\"max\":[2],\"pin\":[4],\"pinFormatter\":[16],\"snaps\":[4],\"step\":[2],\"ticks\":[4],\"disabled\":[4],\"value\":[1026],\"ratioA\":[32],\"ratioB\":[32],\"pressedKnob\":[32]}]]],[\"ion-split-pane\",[[33,\"ion-split-pane\",{\"contentId\":[513,\"content-id\"],\"disabled\":[4],\"when\":[8],\"visible\":[32]}]]],[\"ion-text\",[[1,\"ion-text\",{\"color\":[513]}]]],[\"ion-textarea\",[[34,\"ion-textarea\",{\"fireFocusEvents\":[4,\"fire-focus-events\"],\"color\":[513],\"autocapitalize\":[1],\"autofocus\":[4],\"clearOnEdit\":[1028,\"clear-on-edit\"],\"debounce\":[2],\"disabled\":[4],\"inputmode\":[1],\"enterkeyhint\":[1],\"maxlength\":[2],\"minlength\":[2],\"name\":[1],\"placeholder\":[1],\"readonly\":[4],\"required\":[4],\"spellcheck\":[4],\"cols\":[2],\"rows\":[2],\"wrap\":[1],\"autoGrow\":[4,\"auto-grow\"],\"value\":[1025],\"hasFocus\":[32],\"setFocus\":[64],\"setBlur\":[64],\"getInputElement\":[64]}]]],[\"ion-toggle\",[[33,\"ion-toggle\",{\"color\":[513],\"name\":[1],\"checked\":[1028],\"disabled\":[4],\"value\":[1],\"activated\":[32]}]]],[\"ion-virtual-scroll\",[[0,\"ion-virtual-scroll\",{\"approxItemHeight\":[2,\"approx-item-height\"],\"approxHeaderHeight\":[2,\"approx-header-height\"],\"approxFooterHeight\":[2,\"approx-footer-height\"],\"headerFn\":[16],\"footerFn\":[16],\"items\":[16],\"itemHeight\":[16],\"headerHeight\":[16],\"footerHeight\":[16],\"renderItem\":[16],\"renderHeader\":[16],\"renderFooter\":[16],\"nodeRender\":[16],\"domRender\":[16],\"totalHeight\":[32],\"positionForItem\":[64],\"checkRange\":[64],\"checkEnd\":[64]},[[9,\"resize\",\"onResize\"]]]]],[\"ion-picker-column-internal\",[[33,\"ion-picker-column-internal\",{\"items\":[16],\"value\":[1032],\"color\":[513],\"numericInput\":[4,\"numeric-input\"],\"isActive\":[32]}]]],[\"ion-picker-internal\",[[33,\"ion-picker-internal\"]]],[\"ion-checkbox\",[[33,\"ion-checkbox\",{\"color\":[513],\"name\":[1],\"checked\":[1028],\"indeterminate\":[1028],\"disabled\":[4],\"value\":[8]}]]],[\"ion-select_3\",[[33,\"ion-select\",{\"disabled\":[4],\"cancelText\":[1,\"cancel-text\"],\"okText\":[1,\"ok-text\"],\"placeholder\":[1],\"name\":[1],\"selectedText\":[1,\"selected-text\"],\"multiple\":[4],\"interface\":[1],\"interfaceOptions\":[8,\"interface-options\"],\"compareWith\":[1,\"compare-with\"],\"value\":[1032],\"isExpanded\":[32],\"open\":[64]}],[1,\"ion-select-option\",{\"disabled\":[4],\"value\":[8]}],[34,\"ion-select-popover\",{\"header\":[1],\"subHeader\":[1,\"sub-header\"],\"message\":[1],\"multiple\":[4],\"options\":[16]},[[0,\"ionChange\",\"onSelect\"]]]]],[\"ion-backdrop\",[[33,\"ion-backdrop\",{\"visible\":[4],\"tappable\":[4],\"stopPropagation\":[4,\"stop-propagation\"]},[[2,\"click\",\"onMouseDown\"]]]]],[\"ion-popover\",[[33,\"ion-popover\",{\"hasController\":[4,\"has-controller\"],\"delegate\":[16],\"overlayIndex\":[2,\"overlay-index\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"component\":[1],\"componentProps\":[16],\"keyboardClose\":[4,\"keyboard-close\"],\"cssClass\":[1,\"css-class\"],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"event\":[8],\"showBackdrop\":[4,\"show-backdrop\"],\"translucent\":[4],\"animated\":[4],\"htmlAttributes\":[16],\"triggerAction\":[1,\"trigger-action\"],\"trigger\":[1],\"size\":[1],\"dismissOnSelect\":[4,\"dismiss-on-select\"],\"reference\":[1],\"side\":[1],\"alignment\":[1],\"arrow\":[4],\"isOpen\":[4,\"is-open\"],\"keyboardEvents\":[4,\"keyboard-events\"],\"presented\":[32],\"presentFromTrigger\":[64],\"present\":[64],\"dismiss\":[64],\"getParentPopover\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64]}]]],[\"ion-app_8\",[[0,\"ion-app\",{\"setFocus\":[64]}],[1,\"ion-content\",{\"color\":[513],\"fullscreen\":[4],\"forceOverscroll\":[1028,\"force-overscroll\"],\"scrollX\":[4,\"scroll-x\"],\"scrollY\":[4,\"scroll-y\"],\"scrollEvents\":[4,\"scroll-events\"],\"getScrollElement\":[64],\"scrollToTop\":[64],\"scrollToBottom\":[64],\"scrollByPoint\":[64],\"scrollToPoint\":[64]},[[8,\"appload\",\"onAppLoad\"],[2,\"click\",\"onClick\"]]],[36,\"ion-footer\",{\"collapse\":[1],\"translucent\":[4]}],[36,\"ion-header\",{\"collapse\":[1],\"translucent\":[4]}],[1,\"ion-router-outlet\",{\"mode\":[1025],\"delegate\":[16],\"animated\":[4],\"animation\":[16],\"swipeHandler\":[16],\"commit\":[64],\"setRouteId\":[64],\"getRouteId\":[64]}],[33,\"ion-title\",{\"color\":[513],\"size\":[1]}],[33,\"ion-toolbar\",{\"color\":[513]},[[0,\"ionStyle\",\"childrenStyle\"]]],[34,\"ion-buttons\",{\"collapse\":[4]}]]],[\"ion-item_8\",[[33,\"ion-item-divider\",{\"color\":[513],\"sticky\":[4]}],[32,\"ion-item-group\"],[1,\"ion-skeleton-text\",{\"animated\":[4]}],[32,\"ion-list\",{\"lines\":[1],\"inset\":[4],\"closeSlidingItems\":[64]}],[33,\"ion-list-header\",{\"color\":[513],\"lines\":[1]}],[49,\"ion-item\",{\"color\":[513],\"button\":[4],\"detail\":[4],\"detailIcon\":[1,\"detail-icon\"],\"disabled\":[4],\"download\":[1],\"fill\":[1],\"shape\":[1],\"href\":[1],\"rel\":[1],\"lines\":[1],\"counter\":[4],\"routerAnimation\":[16],\"routerDirection\":[1,\"router-direction\"],\"target\":[1],\"type\":[1],\"multipleInputs\":[32],\"focusable\":[32],\"counterString\":[32]},[[0,\"ionChange\",\"handleIonChange\"],[0,\"ionColor\",\"labelColorChanged\"],[0,\"ionStyle\",\"itemStyle\"]]],[34,\"ion-label\",{\"color\":[513],\"position\":[1],\"noAnimate\":[32]}],[33,\"ion-note\",{\"color\":[513]}]]],[\"ion-datetime_3\",[[33,\"ion-datetime\",{\"color\":[1],\"name\":[1],\"disabled\":[4],\"readonly\":[4],\"min\":[1025],\"max\":[1025],\"presentation\":[1],\"cancelText\":[1,\"cancel-text\"],\"doneText\":[1,\"done-text\"],\"clearText\":[1,\"clear-text\"],\"yearValues\":[8,\"year-values\"],\"monthValues\":[8,\"month-values\"],\"dayValues\":[8,\"day-values\"],\"hourValues\":[8,\"hour-values\"],\"minuteValues\":[8,\"minute-values\"],\"locale\":[1],\"firstDayOfWeek\":[2,\"first-day-of-week\"],\"value\":[1025],\"showDefaultTitle\":[4,\"show-default-title\"],\"showDefaultButtons\":[4,\"show-default-buttons\"],\"showClearButton\":[4,\"show-clear-button\"],\"showDefaultTimeLabel\":[4,\"show-default-time-label\"],\"hourCycle\":[1,\"hour-cycle\"],\"size\":[1],\"showMonthAndYear\":[32],\"activeParts\":[32],\"workingParts\":[32],\"isPresented\":[32],\"isTimePopoverOpen\":[32],\"confirm\":[64],\"reset\":[64],\"cancel\":[64]}],[34,\"ion-picker\",{\"overlayIndex\":[2,\"overlay-index\"],\"keyboardClose\":[4,\"keyboard-close\"],\"enterAnimation\":[16],\"leaveAnimation\":[16],\"buttons\":[16],\"columns\":[16],\"cssClass\":[1,\"css-class\"],\"duration\":[2],\"showBackdrop\":[4,\"show-backdrop\"],\"backdropDismiss\":[4,\"backdrop-dismiss\"],\"animated\":[4],\"htmlAttributes\":[16],\"presented\":[32],\"present\":[64],\"dismiss\":[64],\"onDidDismiss\":[64],\"onWillDismiss\":[64],\"getColumn\":[64]}],[32,\"ion-picker-column\",{\"col\":[16]}]]],[\"ion-spinner\",[[1,\"ion-spinner\",{\"color\":[513],\"duration\":[2],\"name\":[1],\"paused\":[4]}]]],[\"ion-radio_2\",[[33,\"ion-radio\",{\"color\":[513],\"name\":[1],\"disabled\":[4],\"value\":[8],\"checked\":[32],\"buttonTabindex\":[32],\"setFocus\":[64],\"setButtonTabindex\":[64]}],[0,\"ion-radio-group\",{\"allowEmptySelection\":[4,\"allow-empty-selection\"],\"name\":[1],\"value\":[1032]},[[4,\"keydown\",\"onKeydown\"]]]]],[\"ion-ripple-effect\",[[1,\"ion-ripple-effect\",{\"type\":[1],\"addRipple\":[64]}]]],[\"ion-button_2\",[[33,\"ion-button\",{\"color\":[513],\"buttonType\":[1025,\"button-type\"],\"disabled\":[516],\"expand\":[513],\"fill\":[1537],\"routerDirection\":[1,\"router-direction\"],\"routerAnimation\":[16],\"download\":[1],\"href\":[1],\"rel\":[1],\"shape\":[513],\"size\":[513],\"strong\":[4],\"target\":[1],\"type\":[1]}],[1,\"ion-icon\",{\"mode\":[1025],\"color\":[1],\"ios\":[1],\"md\":[1],\"flipRtl\":[4,\"flip-rtl\"],\"name\":[513],\"src\":[1],\"icon\":[8],\"size\":[1],\"lazy\":[4],\"sanitize\":[4],\"svgContent\":[32],\"isVisible\":[32],\"ariaLabel\":[32]}]]]]"), options);
  });
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/md.transition-8277029c.js":
/*!****************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/md.transition-8277029c.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mdTransitionAnimation": () => (/* binding */ mdTransitionAnimation)
/* harmony export */ });
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */





const mdTransitionAnimation = (_, opts) => {
  const OFF_BOTTOM = '40px';
  const CENTER = '0px';
  const backDirection = (opts.direction === 'back');
  const enteringEl = opts.enteringEl;
  const leavingEl = opts.leavingEl;
  const ionPageElement = (0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(enteringEl);
  const enteringToolbarEle = ionPageElement.querySelector('ion-toolbar');
  const rootTransition = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
  rootTransition
    .addElement(ionPageElement)
    .fill('both')
    .beforeRemoveClass('ion-page-invisible');
  // animate the component itself
  if (backDirection) {
    rootTransition
      .duration(opts.duration || 200)
      .easing('cubic-bezier(0.47,0,0.745,0.715)');
  }
  else {
    rootTransition
      .duration(opts.duration || 280)
      .easing('cubic-bezier(0.36,0.66,0.04,1)')
      .fromTo('transform', `translateY(${OFF_BOTTOM})`, `translateY(${CENTER})`)
      .fromTo('opacity', 0.01, 1);
  }
  // Animate toolbar if it's there
  if (enteringToolbarEle) {
    const enteringToolBar = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    enteringToolBar.addElement(enteringToolbarEle);
    rootTransition.addAnimation(enteringToolBar);
  }
  // setup leaving view
  if (leavingEl && backDirection) {
    // leaving content
    rootTransition
      .duration(opts.duration || 200)
      .easing('cubic-bezier(0.47,0,0.745,0.715)');
    const leavingPage = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_0__.c)();
    leavingPage
      .addElement((0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_1__.g)(leavingEl))
      .onFinish(currentStep => {
      if (currentStep === 1 && leavingPage.elements.length > 0) {
        leavingPage.elements[0].style.setProperty('display', 'none');
      }
    })
      .fromTo('transform', `translateY(${CENTER})`, `translateY(${OFF_BOTTOM})`)
      .fromTo('opacity', 1, 0);
    rootTransition.addAnimation(leavingPage);
  }
  return rootTransition;
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/overlays-f2e55e3a.js":
/*!***********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/overlays-f2e55e3a.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "A": () => (/* binding */ ActionSheet),
/* harmony export */   "L": () => (/* binding */ Loading),
/* harmony export */   "M": () => (/* binding */ Modal),
/* harmony export */   "P": () => (/* binding */ Popover),
/* harmony export */   "T": () => (/* binding */ Toast),
/* harmony export */   "a": () => (/* binding */ alertController),
/* harmony export */   "b": () => (/* binding */ actionSheetController),
/* harmony export */   "c": () => (/* binding */ popoverController),
/* harmony export */   "d": () => (/* binding */ Alert),
/* harmony export */   "e": () => (/* binding */ Picker),
/* harmony export */   "l": () => (/* binding */ loadingController),
/* harmony export */   "m": () => (/* binding */ modalController),
/* harmony export */   "p": () => (/* binding */ pickerController),
/* harmony export */   "s": () => (/* binding */ safeCall),
/* harmony export */   "t": () => (/* binding */ toastController)
/* harmony export */ });
/* harmony import */ var _index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-06cd27b1.js */ "../../../node_modules/@ionic/core/dist/esm/index-06cd27b1.js");
/* harmony import */ var _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ionic-global-a049bcbf.js */ "../../../node_modules/@ionic/core/dist/esm/ionic-global-a049bcbf.js");
/* harmony import */ var _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./haptic-9a9aa7ec.js */ "../../../node_modules/@ionic/core/dist/esm/haptic-9a9aa7ec.js");
/* harmony import */ var _index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index-41bf41f2.js */ "../../../node_modules/@ionic/core/dist/esm/index-41bf41f2.js");
/* harmony import */ var _index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-c841c933.js */ "../../../node_modules/@ionic/core/dist/esm/index-c841c933.js");
/* harmony import */ var _theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-a24ff1ad.js */ "../../../node_modules/@ionic/core/dist/esm/theme-a24ff1ad.js");
/* harmony import */ var _animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./animation-c9c2a359.js */ "../../../node_modules/@ionic/core/dist/esm/animation-c9c2a359.js");
/* harmony import */ var _framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./framework-delegate-a922018c.js */ "../../../node_modules/@ionic/core/dist/esm/framework-delegate-a922018c.js");
/* harmony import */ var _helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helpers-eed79a2b.js */ "../../../node_modules/@ionic/core/dist/esm/helpers-eed79a2b.js");
/* harmony import */ var _index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./index-c8ef55b5.js */ "../../../node_modules/@ionic/core/dist/esm/index-c8ef55b5.js");
/* harmony import */ var _cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./cubic-bezier-154a53a5.js */ "../../../node_modules/@ionic/core/dist/esm/cubic-bezier-154a53a5.js");
/* harmony import */ var _hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./hardware-back-button-ace6a71b.js */ "../../../node_modules/@ionic/core/dist/esm/hardware-back-button-ace6a71b.js");
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */













const createButtonActiveGesture = (el, isButton) => {
  let currentTouchedButton;
  let initialTouchedButton;
  const activateButtonAtPoint = (x, y, hapticFeedbackFn) => {
    if (typeof document === 'undefined') {
      return;
    }
    const target = document.elementFromPoint(x, y);
    if (!target || !isButton(target)) {
      clearActiveButton();
      return;
    }
    if (target !== currentTouchedButton) {
      clearActiveButton();
      setActiveButton(target, hapticFeedbackFn);
    }
  };
  const setActiveButton = (button, hapticFeedbackFn) => {
    currentTouchedButton = button;
    if (!initialTouchedButton) {
      initialTouchedButton = currentTouchedButton;
    }
    const buttonToModify = currentTouchedButton;
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)(() => buttonToModify.classList.add('ion-activated'));
    hapticFeedbackFn();
  };
  const clearActiveButton = (dispatchClick = false) => {
    if (!currentTouchedButton) {
      return;
    }
    const buttonToModify = currentTouchedButton;
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)(() => buttonToModify.classList.remove('ion-activated'));
    /**
     * Clicking on one button, but releasing on another button
     * does not dispatch a click event in browsers, so we
     * need to do it manually here. Some browsers will
     * dispatch a click if clicking on one button, dragging over
     * another button, and releasing on the original button. In that
     * case, we need to make sure we do not cause a double click there.
     */
    if (dispatchClick && initialTouchedButton !== currentTouchedButton) {
      currentTouchedButton.click();
    }
    currentTouchedButton = undefined;
  };
  return (0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({
    el,
    gestureName: 'buttonActiveDrag',
    threshold: 0,
    onStart: ev => activateButtonAtPoint(ev.currentX, ev.currentY, _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.a),
    onMove: ev => activateButtonAtPoint(ev.currentX, ev.currentY, _haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.b),
    onEnd: () => {
      clearActiveButton(true);
      (0,_haptic_9a9aa7ec_js__WEBPACK_IMPORTED_MODULE_2__.h)();
      initialTouchedButton = undefined;
    }
  });
};

/**
 * iOS Action Sheet Enter Animation
 */
const iosEnterAnimation$6 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.action-sheet-wrapper'))
    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(400)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * iOS Action Sheet Leave Animation
 */
const iosLeaveAnimation$6 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.action-sheet-wrapper'))
    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(450)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * MD Action Sheet Enter Animation
 */
const mdEnterAnimation$5 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.action-sheet-wrapper'))
    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(400)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * MD Action Sheet Leave Animation
 */
const mdLeaveAnimation$5 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.action-sheet-wrapper'))
    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(450)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const actionSheetIosCss = ".sc-ion-action-sheet-ios-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-ios-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-ios{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-ios{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-ios{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-ios::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-ios{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-ios::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\"\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-ios{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-ios::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-ios::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-ios:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-ios:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--backdrop-opacity:var(--ion-backdrop-opacity, 0.4);--button-background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent;--button-background-activated:var(--ion-text-color, #000);--button-background-activated-opacity:.08;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-background-selected:var(--ion-color-step-150, var(--ion-background-color, #fff));--button-background-selected-opacity:1;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-400, #999999);text-align:center}.action-sheet-container.sc-ion-action-sheet-ios{padding-left:8px;padding-right:8px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-container.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.action-sheet-group.sc-ion-action-sheet-ios{border-radius:13px;margin-bottom:8px}.action-sheet-group.sc-ion-action-sheet-ios:first-child{margin-top:10px}.action-sheet-group.sc-ion-action-sheet-ios:last-child{margin-bottom:10px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-group.sc-ion-action-sheet-ios{background-color:transparent;-webkit-backdrop-filter:saturate(280%) blur(20px);backdrop-filter:saturate(280%) blur(20px)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-title.sc-ion-action-sheet-ios,.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.sc-ion-action-sheet-ios{background-color:transparent;background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8))), -webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4)), color-stop(50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background-image:linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%), linear-gradient(0deg, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4), rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.4) 50%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 50%);background-repeat:no-repeat;background-position:top, bottom;background-size:100% calc(100% - 1px), 100% 1px;-webkit-backdrop-filter:saturate(120%);backdrop-filter:saturate(120%)}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-button.ion-activated.sc-ion-action-sheet-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.7);background-image:none}.action-sheet-translucent.sc-ion-action-sheet-ios-h .action-sheet-cancel.sc-ion-action-sheet-ios{background:var(--button-background-selected)}}.action-sheet-title.sc-ion-action-sheet-ios{background:-webkit-gradient(linear, left bottom, left top, from(rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08)), color-stop(50%, transparent)) bottom/100% 1px no-repeat transparent;background:linear-gradient(0deg, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08), rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.08) 50%, transparent 50%) bottom/100% 1px no-repeat transparent}.action-sheet-title.sc-ion-action-sheet-ios{padding-left:10px;padding-right:10px;padding-top:14px;padding-bottom:13px;color:var(--color, var(--ion-color-step-400, #999999));font-size:13px;font-weight:400;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.action-sheet-title.action-sheet-has-sub-title.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-sub-title.sc-ion-action-sheet-ios{padding-left:0;padding-right:0;padding-top:6px;padding-bottom:0;font-size:13px;font-weight:400}.action-sheet-button.sc-ion-action-sheet-ios{padding-left:18px;padding-right:18px;padding-top:18px;padding-bottom:18px;height:56px;font-size:20px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:18px;padding-inline-start:18px;-webkit-padding-end:18px;padding-inline-end:18px}}.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:0.3em;font-size:28px;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-ios .action-sheet-icon.sc-ion-action-sheet-ios{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.action-sheet-button.sc-ion-action-sheet-ios:last-child{background-image:none}.action-sheet-selected.sc-ion-action-sheet-ios{font-weight:bold}.action-sheet-cancel.sc-ion-action-sheet-ios{font-weight:600}.action-sheet-cancel.sc-ion-action-sheet-ios::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-destructive.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-activated.sc-ion-action-sheet-ios,.action-sheet-destructive.ion-focused.sc-ion-action-sheet-ios{color:var(--ion-color-danger, #eb445a)}@media (any-hover: hover){.action-sheet-destructive.sc-ion-action-sheet-ios:hover{color:var(--ion-color-danger, #eb445a)}}";

const actionSheetMdCss = ".sc-ion-action-sheet-md-h{--color:initial;--button-color-activated:var(--button-color);--button-color-focused:var(--button-color);--button-color-hover:var(--button-color);--button-color-selected:var(--button-color);--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--height:100%;--max-height:calc(100% - (var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:block;position:fixed;outline:none;font-family:var(--ion-font-family, inherit);-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-action-sheet-md-h{display:none}.action-sheet-wrapper.sc-ion-action-sheet-md{left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:var(--ion-safe-area-top, 0);margin-bottom:var(--ion-safe-area-bottom, 0);-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:block;position:absolute;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);z-index:10;pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-wrapper.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.action-sheet-button.sc-ion-action-sheet-md{display:block;position:relative;width:100%;border:0;outline:none;background:var(--button-background);color:var(--button-color);font-family:inherit;overflow:hidden}.action-sheet-button-inner.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;pointer-events:none;width:100%;height:100%;z-index:1}.action-sheet-container.sc-ion-action-sheet-md{display:-ms-flexbox;display:flex;-ms-flex-flow:column;flex-flow:column;-ms-flex-pack:end;justify-content:flex-end;height:100%;max-height:100%}.action-sheet-group.sc-ion-action-sheet-md{-ms-flex-negative:2;flex-shrink:2;overscroll-behavior-y:contain;overflow-y:auto;-webkit-overflow-scrolling:touch;pointer-events:all;background:var(--background)}.action-sheet-group.sc-ion-action-sheet-md::-webkit-scrollbar{display:none}.action-sheet-group-cancel.sc-ion-action-sheet-md{-ms-flex-negative:0;flex-shrink:0;overflow:hidden}.action-sheet-button.sc-ion-action-sheet-md::after{left:0;right:0;top:0;bottom:0;position:absolute;content:\"\";opacity:0}.action-sheet-selected.sc-ion-action-sheet-md{color:var(--button-color-selected)}.action-sheet-selected.sc-ion-action-sheet-md::after{background:var(--button-background-selected);opacity:var(--button-background-selected-opacity)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md{color:var(--button-color-activated)}.action-sheet-button.ion-activated.sc-ion-action-sheet-md::after{background:var(--button-background-activated);opacity:var(--button-background-activated-opacity)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md{color:var(--button-color-focused)}.action-sheet-button.ion-focused.sc-ion-action-sheet-md::after{background:var(--button-background-focused);opacity:var(--button-background-focused-opacity)}@media (any-hover: hover){.action-sheet-button.sc-ion-action-sheet-md:hover{color:var(--button-color-hover)}.action-sheet-button.sc-ion-action-sheet-md:hover::after{background:var(--button-background-hover);opacity:var(--button-background-hover-opacity)}}.sc-ion-action-sheet-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);--button-background:transparent;--button-background-selected:currentColor;--button-background-selected-opacity:0;--button-background-activated:transparent;--button-background-activated-opacity:0;--button-background-hover:currentColor;--button-background-hover-opacity:.04;--button-background-focused:currentColor;--button-background-focused-opacity:.12;--button-color:var(--ion-color-step-850, #262626);--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54)}.action-sheet-title.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:20px;padding-bottom:17px;min-height:60px;color:var(--color, rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54));font-size:16px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-title.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-sub-title.sc-ion-action-sheet-md{padding-left:0;padding-right:0;padding-top:16px;padding-bottom:0;font-size:14px}.action-sheet-group.sc-ion-action-sheet-md:first-child{padding-top:0}.action-sheet-group.sc-ion-action-sheet-md:last-child{padding-bottom:0}.action-sheet-button.sc-ion-action-sheet-md{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;position:relative;height:52px;font-size:16px;text-align:start;contain:strict;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-button.sc-ion-action-sheet-md{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.action-sheet-icon.sc-ion-action-sheet-md{padding-bottom:4px;margin-left:0;margin-right:32px;margin-top:0;margin-bottom:0;color:var(--color);font-size:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.action-sheet-icon.sc-ion-action-sheet-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:32px;margin-inline-end:32px}}.action-sheet-button-inner.sc-ion-action-sheet-md{-ms-flex-pack:start;justify-content:flex-start}.action-sheet-selected.sc-ion-action-sheet-md{font-weight:bold}";

let ActionSheet = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionActionSheetDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionActionSheetWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionActionSheetWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionActionSheetDidDismiss", 7);
    this.presented = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * An array of buttons for the action sheet.
     */
    this.buttons = [];
    /**
     * If `true`, the action sheet will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, the action sheet will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the action sheet will animate.
     */
    this.animated = true;
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
    this.dispatchCancelHandler = (ev) => {
      const role = ev.detail.role;
      if (isCancel(role)) {
        const cancelButton = this.getButtons().find(b => b.role === 'cancel');
        this.callButtonHandler(cancelButton);
      }
    };
  }
  /**
   * Present the action sheet overlay after it has been created.
   */
  present() {
    return present(this, 'actionSheetEnter', iosEnterAnimation$6, mdEnterAnimation$5);
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  /**
   * Dismiss the action sheet overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the action sheet.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the action sheet.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   */
  dismiss(data, role) {
    return dismiss(this, data, role, 'actionSheetLeave', iosLeaveAnimation$6, mdLeaveAnimation$5);
  }
  /**
   * Returns a promise that resolves when the action sheet did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionActionSheetDidDismiss');
  }
  /**
   * Returns a promise that resolves when the action sheet will dismiss.
   *
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionActionSheetWillDismiss');
  }
  async buttonClick(button) {
    const role = button.role;
    if (isCancel(role)) {
      return this.dismiss(button.data, role);
    }
    const shouldDismiss = await this.callButtonHandler(button);
    if (shouldDismiss) {
      return this.dismiss(button.data, button.role);
    }
    return Promise.resolve();
  }
  async callButtonHandler(button) {
    if (button) {
      // a handler has been provided, execute it
      // pass the handler the values from the inputs
      const rtn = await safeCall(button.handler);
      if (rtn === false) {
        // if the return value of the handler is false then do not dismiss
        return false;
      }
    }
    return true;
  }
  getButtons() {
    return this.buttons.map(b => {
      return (typeof b === 'string')
        ? { text: b }
        : b;
    });
  }
  disconnectedCallback() {
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  componentDidLoad() {
    /**
     * Do not create gesture if:
     * 1. A gesture already exists
     * 2. App is running in MD mode
     * 3. A wrapper ref does not exist
     */
    const { groupEl, wrapperEl } = this;
    if (this.gesture || (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this) === 'md' || !wrapperEl || !groupEl) {
      return;
    }
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.f)(() => {
      const isScrollable = groupEl.scrollHeight > groupEl.clientHeight;
      if (!isScrollable) {
        this.gesture = createButtonActiveGesture(wrapperEl, (refEl) => refEl.classList.contains('action-sheet-button'));
        this.gesture.enable(true);
      }
    });
  }
  render() {
    const { htmlAttributes } = this;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const allButtons = this.getButtons();
    const cancelButton = allButtons.find(b => b.role === 'cancel');
    const buttons = allButtons.filter(b => b.role !== 'cancel');
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ role: "dialog", "aria-modal": "true", tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${20000 + this.overlayIndex}`,
      }, class: Object.assign(Object.assign({ [mode]: true }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), { 'overlay-hidden': true, 'action-sheet-translucent': this.translucent }), onIonActionSheetWillDismiss: this.dispatchCancelHandler, onIonBackdropTap: this.onBackdropTap }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { tappable: this.backdropDismiss }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "action-sheet-wrapper ion-overlay-wrapper", role: "dialog", ref: el => this.wrapperEl = el }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "action-sheet-container" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "action-sheet-group", ref: el => this.groupEl = el }, this.header !== undefined &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: {
          'action-sheet-title': true,
          'action-sheet-has-sub-title': this.subHeader !== undefined
        } }, this.header, this.subHeader && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "action-sheet-sub-title" }, this.subHeader)), buttons.map(b => (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", id: b.id, class: buttonClass$3(b), onClick: () => this.buttonClick(b) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "action-sheet-button-inner" }, b.icon && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon", { icon: b.icon, lazy: false, class: "action-sheet-icon" }), b.text), mode === 'md' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect", null)))), cancelButton &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "action-sheet-group action-sheet-group-cancel" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", class: buttonClass$3(cancelButton), onClick: () => this.buttonClick(cancelButton) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "action-sheet-button-inner" }, cancelButton.icon &&
        (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon", { icon: cancelButton.icon, lazy: false, class: "action-sheet-icon" }), cancelButton.text), mode === 'md' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect", null))))), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" })));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
};
const buttonClass$3 = (button) => {
  return Object.assign({ 'action-sheet-button': true, 'ion-activatable': true, 'ion-focusable': true, [`action-sheet-${button.role}`]: button.role !== undefined }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(button.cssClass));
};
ActionSheet.style = {
  ios: actionSheetIosCss,
  md: actionSheetMdCss
};

/**
 * iOS Alert Enter Animation
 */
const iosEnterAnimation$5 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.alert-wrapper'))
    .keyframes([
    { offset: 0, opacity: '0.01', transform: 'scale(1.1)' },
    { offset: 1, opacity: '1', transform: 'scale(1)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * iOS Alert Leave Animation
 */
const iosLeaveAnimation$5 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.alert-wrapper'))
    .keyframes([
    { offset: 0, opacity: 0.99, transform: 'scale(1)' },
    { offset: 1, opacity: 0, transform: 'scale(0.9)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * Md Alert Enter Animation
 */
const mdEnterAnimation$4 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.alert-wrapper'))
    .keyframes([
    { offset: 0, opacity: '0.01', transform: 'scale(0.9)' },
    { offset: 1, opacity: '1', transform: 'scale(1)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(150)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * Md Alert Leave Animation
 */
const mdLeaveAnimation$4 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.alert-wrapper'))
    .fromTo('opacity', 0.99, 0);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(150)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const alertIosCss = ".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:12px;padding-bottom:7px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;padding-left:6px;padding-right:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-input.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{height:44px}.alert-radio-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px;top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}.alert-checkbox-label.sc-ion-alert-ios{padding-left:13px;padding-right:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px}}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;margin-left:16px;margin-right:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-icon.sc-ion-alert-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px}}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px;top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}.alert-button-group.sc-ion-alert-ios{margin-right:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-ios{margin-right:unset;-webkit-margin-end:-0.55px;margin-inline-end:-0.55px}}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child,[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}";

const alertMdCss = ".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:strict}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{padding-left:23px;padding-right:23px;padding-top:20px;padding-bottom:15px;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-head.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px}}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:24px;padding-right:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;height:48px;overflow:hidden}.alert-radio-label.sc-ion-alert-md{padding-left:52px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-radio-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-radio-icon.sc-ion-alert-md{left:26px;top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}.alert-radio-inner.sc-ion-alert-md{left:3px;top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{padding-left:53px;padding-right:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-checkbox-label.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px}}.alert-checkbox-icon.sc-ion-alert-md{left:26px;top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px;top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}.alert-button-group.sc-ion-alert-md{padding-left:8px;padding-right:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button-group.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px}}.alert-button.sc-ion-alert-md{border-radius:2px;margin-left:0;margin-right:8px;margin-top:0;margin-bottom:0;padding-left:10px;padding-right:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.alert-button.sc-ion-alert-md{padding-left:unset;padding-right:unset;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px}}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}";

let Alert = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionAlertDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionAlertWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionAlertWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionAlertDidDismiss", 7);
    this.processedInputs = [];
    this.processedButtons = [];
    this.presented = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * Array of buttons to be added to the alert.
     */
    this.buttons = [];
    /**
     * Array of input to show in the alert.
     */
    this.inputs = [];
    /**
     * If `true`, the alert will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, the alert will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the alert will animate.
     */
    this.animated = true;
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
    this.dispatchCancelHandler = (ev) => {
      const role = ev.detail.role;
      if (isCancel(role)) {
        const cancelButton = this.processedButtons.find(b => b.role === 'cancel');
        this.callButtonHandler(cancelButton);
      }
    };
  }
  onKeydown(ev) {
    const inputTypes = new Set(this.processedInputs.map(i => i.type));
    // The only inputs we want to navigate between using arrow keys are the radios
    // ignore the keydown event if it is not on a radio button
    if (!inputTypes.has('radio')
      || (ev.target && !this.el.contains(ev.target))
      || ev.target.classList.contains('alert-button')) {
      return;
    }
    // Get all radios inside of the radio group and then
    // filter out disabled radios since we need to skip those
    const query = this.el.querySelectorAll('.alert-radio');
    const radios = Array.from(query).filter(radio => !radio.disabled);
    // The focused radio is the one that shares the same id as
    // the event target
    const index = radios.findIndex(radio => radio.id === ev.target.id);
    // We need to know what the next radio element should
    // be in order to change the focus
    let nextEl;
    // If hitting arrow down or arrow right, move to the next radio
    // If we're on the last radio, move to the first radio
    if (['ArrowDown', 'ArrowRight'].includes(ev.code)) {
      nextEl = (index === radios.length - 1)
        ? radios[0]
        : radios[index + 1];
    }
    // If hitting arrow up or arrow left, move to the previous radio
    // If we're on the first radio, move to the last radio
    if (['ArrowUp', 'ArrowLeft'].includes(ev.code)) {
      nextEl = (index === 0)
        ? radios[radios.length - 1]
        : radios[index - 1];
    }
    if (nextEl && radios.includes(nextEl)) {
      const nextProcessed = this.processedInputs.find(input => input.id === (nextEl === null || nextEl === void 0 ? void 0 : nextEl.id));
      if (nextProcessed) {
        this.rbClick(nextProcessed);
        nextEl.focus();
      }
    }
  }
  buttonsChanged() {
    const buttons = this.buttons;
    this.processedButtons = buttons.map(btn => {
      return (typeof btn === 'string')
        ? { text: btn, role: btn.toLowerCase() === 'cancel' ? 'cancel' : undefined }
        : btn;
    });
  }
  inputsChanged() {
    const inputs = this.inputs;
    // Get the first input that is not disabled and the checked one
    // If an enabled checked input exists, set it to be the focusable input
    // otherwise we default to focus the first input
    // This will only be used when the input is type radio
    const first = inputs.find(input => !input.disabled);
    const checked = inputs.find(input => input.checked && !input.disabled);
    const focusable = checked || first;
    // An alert can be created with several different inputs. Radios,
    // checkboxes and inputs are all accepted, but they cannot be mixed.
    const inputTypes = new Set(inputs.map(i => i.type));
    if (inputTypes.has('checkbox') && inputTypes.has('radio')) {
      console.warn(`Alert cannot mix input types: ${(Array.from(inputTypes.values()).join('/'))}. Please see alert docs for more info.`);
    }
    this.inputType = inputTypes.values().next().value;
    this.processedInputs = inputs.map((i, index) => ({
      type: i.type || 'text',
      name: i.name || `${index}`,
      placeholder: i.placeholder || '',
      value: i.value,
      label: i.label,
      checked: !!i.checked,
      disabled: !!i.disabled,
      id: i.id || `alert-input-${this.overlayIndex}-${index}`,
      handler: i.handler,
      min: i.min,
      max: i.max,
      cssClass: i.cssClass || '',
      attributes: i.attributes || {},
      tabindex: (i.type === 'radio' && i !== focusable) ? -1 : 0
    }));
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  componentWillLoad() {
    this.inputsChanged();
    this.buttonsChanged();
  }
  disconnectedCallback() {
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  componentDidLoad() {
    /**
     * Do not create gesture if:
     * 1. A gesture already exists
     * 2. App is running in MD mode
     * 3. A wrapper ref does not exist
     */
    if (this.gesture || (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this) === 'md' || !this.wrapperEl) {
      return;
    }
    this.gesture = createButtonActiveGesture(this.wrapperEl, (refEl) => refEl.classList.contains('alert-button'));
    this.gesture.enable(true);
  }
  /**
   * Present the alert overlay after it has been created.
   */
  present() {
    return present(this, 'alertEnter', iosEnterAnimation$5, mdEnterAnimation$4);
  }
  /**
   * Dismiss the alert overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the alert.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the alert.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   */
  dismiss(data, role) {
    return dismiss(this, data, role, 'alertLeave', iosLeaveAnimation$5, mdLeaveAnimation$4);
  }
  /**
   * Returns a promise that resolves when the alert did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionAlertDidDismiss');
  }
  /**
   * Returns a promise that resolves when the alert will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionAlertWillDismiss');
  }
  rbClick(selectedInput) {
    for (const input of this.processedInputs) {
      input.checked = input === selectedInput;
      input.tabindex = input === selectedInput ? 0 : -1;
    }
    this.activeId = selectedInput.id;
    safeCall(selectedInput.handler, selectedInput);
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.j)(this);
  }
  cbClick(selectedInput) {
    selectedInput.checked = !selectedInput.checked;
    safeCall(selectedInput.handler, selectedInput);
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.j)(this);
  }
  buttonClick(button) {
    const role = button.role;
    const values = this.getValues();
    if (isCancel(role)) {
      return this.dismiss({ values }, role);
    }
    const returnData = this.callButtonHandler(button, values);
    if (returnData !== false) {
      return this.dismiss(Object.assign({ values }, returnData), button.role);
    }
    return Promise.resolve(false);
  }
  callButtonHandler(button, data) {
    if (button && button.handler) {
      // a handler has been provided, execute it
      // pass the handler the values from the inputs
      const returnData = safeCall(button.handler, data);
      if (returnData === false) {
        // if the return value of the handler is false then do not dismiss
        return false;
      }
      if (typeof returnData === 'object') {
        return returnData;
      }
    }
    return {};
  }
  getValues() {
    if (this.processedInputs.length === 0) {
      // this is an alert without any options/inputs at all
      return undefined;
    }
    if (this.inputType === 'radio') {
      // this is an alert with radio buttons (single value select)
      // return the one value which is checked, otherwise undefined
      const checkedInput = this.processedInputs.find(i => !!i.checked);
      return checkedInput ? checkedInput.value : undefined;
    }
    if (this.inputType === 'checkbox') {
      // this is an alert with checkboxes (multiple value select)
      // return an array of all the checked values
      return this.processedInputs.filter(i => i.checked).map(i => i.value);
    }
    // this is an alert with text inputs
    // return an object of all the values with the input name as the key
    const values = {};
    this.processedInputs.forEach(i => {
      values[i.name] = i.value || '';
    });
    return values;
  }
  renderAlertInputs() {
    switch (this.inputType) {
      case 'checkbox': return this.renderCheckbox();
      case 'radio': return this.renderRadio();
      default: return this.renderInput();
    }
  }
  renderCheckbox() {
    const inputs = this.processedInputs;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    if (inputs.length === 0) {
      return null;
    }
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-checkbox-group" }, inputs.map(i => ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", onClick: () => this.cbClick(i), "aria-checked": `${i.checked}`, id: i.id, disabled: i.disabled, tabIndex: i.tabindex, role: "checkbox", class: Object.assign(Object.assign({}, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(i.cssClass)), { 'alert-tappable': true, 'alert-checkbox': true, 'alert-checkbox-button': true, 'ion-focusable': true, 'alert-checkbox-button-disabled': i.disabled || false }) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-button-inner" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-checkbox-icon" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-checkbox-inner" })), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-checkbox-label" }, i.label)), mode === 'md' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect", null))))));
  }
  renderRadio() {
    const inputs = this.processedInputs;
    if (inputs.length === 0) {
      return null;
    }
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-radio-group", role: "radiogroup", "aria-activedescendant": this.activeId }, inputs.map(i => ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", onClick: () => this.rbClick(i), "aria-checked": `${i.checked}`, disabled: i.disabled, id: i.id, tabIndex: i.tabindex, class: Object.assign(Object.assign({}, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(i.cssClass)), { 'alert-radio-button': true, 'alert-tappable': true, 'alert-radio': true, 'ion-focusable': true, 'alert-radio-button-disabled': i.disabled || false }), role: "radio" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-button-inner" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-radio-icon" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-radio-inner" })), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-radio-label" }, i.label)))))));
  }
  renderInput() {
    const inputs = this.processedInputs;
    if (inputs.length === 0) {
      return null;
    }
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-input-group" }, inputs.map(i => {
      var _a, _b, _c, _d;
      if (i.type === 'textarea') {
        return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-input-wrapper" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("textarea", Object.assign({ placeholder: i.placeholder, value: i.value, id: i.id, tabIndex: i.tabindex }, i.attributes, { disabled: (_b = (_a = i.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : i.disabled, class: inputClass(i), onInput: e => {
            var _a;
            i.value = e.target.value;
            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {
              i.attributes.onInput(e);
            }
          } }))));
      }
      else {
        return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-input-wrapper" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("input", Object.assign({ placeholder: i.placeholder, type: i.type, min: i.min, max: i.max, value: i.value, id: i.id, tabIndex: i.tabindex }, i.attributes, { disabled: (_d = (_c = i.attributes) === null || _c === void 0 ? void 0 : _c.disabled) !== null && _d !== void 0 ? _d : i.disabled, class: inputClass(i), onInput: e => {
            var _a;
            i.value = e.target.value;
            if ((_a = i.attributes) === null || _a === void 0 ? void 0 : _a.onInput) {
              i.attributes.onInput(e);
            }
          } }))));
      }
    })));
  }
  renderAlertButtons() {
    const buttons = this.processedButtons;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const alertButtonGroupClass = {
      'alert-button-group': true,
      'alert-button-group-vertical': buttons.length > 2
    };
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: alertButtonGroupClass }, buttons.map(button => (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", id: button.id, class: buttonClass$2(button), tabIndex: 0, onClick: () => this.buttonClick(button) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("span", { class: "alert-button-inner" }, button.text), mode === 'md' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect", null)))));
  }
  render() {
    const { overlayIndex, header, subHeader, htmlAttributes } = this;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const hdrId = `alert-${overlayIndex}-hdr`;
    const subHdrId = `alert-${overlayIndex}-sub-hdr`;
    const msgId = `alert-${overlayIndex}-msg`;
    const role = this.inputs.length > 0 || this.buttons.length > 0 ? 'alertdialog' : 'alert';
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ role: role, "aria-modal": "true", tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${20000 + overlayIndex}`,
      }, class: Object.assign(Object.assign({}, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), { [mode]: true, 'overlay-hidden': true, 'alert-translucent': this.translucent }), onIonAlertWillDismiss: this.dispatchCancelHandler, onIonBackdropTap: this.onBackdropTap }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { tappable: this.backdropDismiss }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-wrapper ion-overlay-wrapper", ref: el => this.wrapperEl = el }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "alert-head" }, header && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2", { id: hdrId, class: "alert-title" }, header), subHeader && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("h2", { id: subHdrId, class: "alert-sub-title" }, subHeader)), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { id: msgId, class: "alert-message", innerHTML: (0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(this.message) }), this.renderAlertInputs(), this.renderAlertButtons()), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" })));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
  static get watchers() { return {
    "buttons": ["buttonsChanged"],
    "inputs": ["inputsChanged"]
  }; }
};
const inputClass = (input) => {
  var _a, _b, _c;
  return Object.assign(Object.assign({ 'alert-input': true, 'alert-input-disabled': ((_b = (_a = input.attributes) === null || _a === void 0 ? void 0 : _a.disabled) !== null && _b !== void 0 ? _b : input.disabled) || false }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(input.cssClass)), (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(input.attributes ? (_c = input.attributes.class) === null || _c === void 0 ? void 0 : _c.toString() : ''));
};
const buttonClass$2 = (button) => {
  return Object.assign({ 'alert-button': true, 'ion-focusable': true, 'ion-activatable': true, [`alert-button-role-${button.role}`]: button.role !== undefined }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(button.cssClass));
};
Alert.style = {
  ios: alertIosCss,
  md: alertMdCss
};

/**
 * iOS Loading Enter Animation
 */
const iosEnterAnimation$4 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.loading-wrapper'))
    .keyframes([
    { offset: 0, opacity: 0.01, transform: 'scale(1.1)' },
    { offset: 1, opacity: 1, transform: 'scale(1)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * iOS Loading Leave Animation
 */
const iosLeaveAnimation$4 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.loading-wrapper'))
    .keyframes([
    { offset: 0, opacity: 0.99, transform: 'scale(1)' },
    { offset: 1, opacity: 0, transform: 'scale(0.9)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * Md Loading Enter Animation
 */
const mdEnterAnimation$3 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.loading-wrapper'))
    .keyframes([
    { offset: 0, opacity: 0.01, transform: 'scale(1.1)' },
    { offset: 1, opacity: 1, transform: 'scale(1)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * Md Loading Leave Animation
 */
const mdLeaveAnimation$3 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(baseEl.querySelector('.loading-wrapper'))
    .keyframes([
    { offset: 0, opacity: 0.99, transform: 'scale(1)' },
    { offset: 1, opacity: 0, transform: 'scale(0.9)' }
  ]);
  return baseAnimation
    .addElement(baseEl)
    .easing('ease-in-out')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const loadingIosCss = ".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-ios,.spinner-lines-small.sc-ion-loading-ios,.spinner-bubbles.sc-ion-loading-ios,.spinner-circles.sc-ion-loading-ios,.spinner-crescent.sc-ion-loading-ios,.spinner-dots.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}";

const loadingMdCss = ".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}.spinner-lines.sc-ion-loading-md,.spinner-lines-small.sc-ion-loading-md,.spinner-bubbles.sc-ion-loading-md,.spinner-circles.sc-ion-loading-md,.spinner-crescent.sc-ion-loading-md,.spinner-dots.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}";

let Loading = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionLoadingDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionLoadingWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionLoadingWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionLoadingDidDismiss", 7);
    this.presented = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * Number of milliseconds to wait before dismissing the loading indicator.
     */
    this.duration = 0;
    /**
     * If `true`, the loading indicator will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = false;
    /**
     * If `true`, a backdrop will be displayed behind the loading indicator.
     */
    this.showBackdrop = true;
    /**
     * If `true`, the loading indicator will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the loading indicator will animate.
     */
    this.animated = true;
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  componentWillLoad() {
    if (this.spinner === undefined) {
      const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
      this.spinner = _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get('loadingSpinner', _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get('spinner', mode === 'ios' ? 'lines' : 'crescent'));
    }
  }
  /**
   * Present the loading overlay after it has been created.
   */
  async present() {
    await present(this, 'loadingEnter', iosEnterAnimation$4, mdEnterAnimation$3, undefined);
    if (this.duration > 0) {
      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration + 10);
    }
  }
  /**
   * Dismiss the loading overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the loading.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the loading.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   */
  dismiss(data, role) {
    if (this.durationTimeout) {
      clearTimeout(this.durationTimeout);
    }
    return dismiss(this, data, role, 'loadingLeave', iosLeaveAnimation$4, mdLeaveAnimation$3);
  }
  /**
   * Returns a promise that resolves when the loading did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionLoadingDidDismiss');
  }
  /**
   * Returns a promise that resolves when the loading will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionLoadingWillDismiss');
  }
  render() {
    const { message, spinner, htmlAttributes } = this;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${40000 + this.overlayIndex}`
      }, onIonBackdropTap: this.onBackdropTap, class: Object.assign(Object.assign({}, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), { [mode]: true, 'overlay-hidden': true, 'loading-translucent': this.translucent }) }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { visible: this.showBackdrop, tappable: this.backdropDismiss }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "loading-wrapper ion-overlay-wrapper", role: "dialog" }, spinner && ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "loading-spinner" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-spinner", { name: spinner, "aria-hidden": "true" }))), message && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "loading-content", innerHTML: (0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(message) })), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" })));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
};
Loading.style = {
  ios: loadingIosCss,
  md: loadingMdCss
};

// Defaults for the card swipe animation
const SwipeToCloseDefaults = {
  MIN_PRESENTING_SCALE: 0.93,
};
const createSwipeToCloseGesture = (el, animation, onDismiss) => {
  const height = el.offsetHeight;
  let isOpen = false;
  const canStart = (detail) => {
    const target = detail.event.target;
    if (target === null ||
      !target.closest) {
      return true;
    }
    const contentOrFooter = target.closest('ion-content, ion-footer');
    if (contentOrFooter === null) {
      return true;
    }
    // Target is in the content or the footer so do not start the gesture.
    // We could be more nuanced here and allow it for content that
    // does not need to scroll.
    return false;
  };
  const onStart = () => {
    animation.progressStart(true, (isOpen) ? 1 : 0);
  };
  const onMove = (detail) => {
    const step = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(0.0001, detail.deltaY / height, 0.9999);
    animation.progressStep(step);
  };
  const onEnd = (detail) => {
    const velocity = detail.velocityY;
    const step = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(0.0001, detail.deltaY / height, 0.9999);
    const threshold = (detail.deltaY + velocity * 1000) / height;
    const shouldComplete = threshold >= 0.5;
    let newStepValue = (shouldComplete) ? -0.001 : 0.001;
    if (!shouldComplete) {
      animation.easing('cubic-bezier(1, 0, 0.68, 0.28)');
      newStepValue += (0,_cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__.g)([0, 0], [1, 0], [0.68, 0.28], [1, 1], step)[0];
    }
    else {
      animation.easing('cubic-bezier(0.32, 0.72, 0, 1)');
      newStepValue += (0,_cubic_bezier_154a53a5_js__WEBPACK_IMPORTED_MODULE_10__.g)([0, 0], [0.32, 0.72], [0, 1], [1, 1], step)[0];
    }
    const duration = (shouldComplete) ? computeDuration(step * height, velocity) : computeDuration((1 - step) * height, velocity);
    isOpen = shouldComplete;
    gesture.enable(false);
    animation
      .onFinish(() => {
      if (!shouldComplete) {
        gesture.enable(true);
      }
    })
      .progressEnd((shouldComplete) ? 1 : 0, newStepValue, duration);
    if (shouldComplete) {
      onDismiss();
    }
  };
  const gesture = (0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({
    el,
    gestureName: 'modalSwipeToClose',
    gesturePriority: 40,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return gesture;
};
const computeDuration = (remaining, velocity) => {
  return (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(400, remaining / Math.abs(velocity * 1.1), 500);
};

/**
 * Use y = mx + b to
 * figure out the backdrop value
 * at a particular x coordinate. This
 * is useful when the backdrop does
 * not begin to fade in until after
 * the 0 breakpoint.
 */
const getBackdropValueForSheet = (x, backdropBreakpoint) => {
  /**
   * We will use these points:
   * (backdropBreakpoint, 0)
   * (maxBreakpoint, 1)
   * We know that at the beginning breakpoint,
   * the backdrop will be hidden. We also
   * know that at the maxBreakpoint, the backdrop
   * must be fully visible. maxBreakpoint should
   * always be 1 even if the maximum value
   * of the breakpoints array is not 1 since
   * the animation runs from a progress of 0
   * to a progress of 1.
   * m = (y2 - y1) / (x2 - x1)
   *
   * This is simplified from:
   * m = (1 - 0) / (maxBreakpoint - backdropBreakpoint)
   */
  const slope = 1 / (1 - backdropBreakpoint);
  /**
   * From here, compute b which is
   * the backdrop opacity if the offset
   * is 0. If the backdrop does not
   * begin to fade in until after the
   * 0 breakpoint, this b value will be
   * negative. This is fine as we never pass
   * b directly into the animation keyframes.
   * b = y - mx
   * Use a known point: (backdropBreakpoint, 0)
   * This is simplified from:
   * b = 0 - (backdropBreakpoint * slope)
   */
  const b = -(backdropBreakpoint * slope);
  /**
   * Finally, we can now determine the
   * backdrop offset given an arbitrary
   * gesture offset.
   */
  return (x * slope) + b;
};

const createSheetEnterAnimation = (opts) => {
  const { currentBreakpoint, backdropBreakpoint } = opts;
  /**
   * If the backdropBreakpoint is undefined, then the backdrop
   * should always fade in. If the backdropBreakpoint came before the
   * current breakpoint, then the backdrop should be fading in.
   */
  const shouldShowBackdrop = backdropBreakpoint === undefined || backdropBreakpoint < currentBreakpoint;
  const initialBackdrop = shouldShowBackdrop ? `calc(var(--backdrop-opacity) * ${currentBreakpoint})` : '0';
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('backdropAnimation')
    .fromTo('opacity', 0, initialBackdrop);
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('wrapperAnimation')
    .keyframes([
    { offset: 0, opacity: 1, transform: 'translateY(100%)' },
    { offset: 1, opacity: 1, transform: `translateY(${100 - (currentBreakpoint * 100)}%)` }
  ]);
  return { wrapperAnimation, backdropAnimation };
};
const createSheetLeaveAnimation = (opts) => {
  const { currentBreakpoint, backdropBreakpoint } = opts;
  /**
   * Backdrop does not always fade in from 0 to 1 if backdropBreakpoint
   * is defined, so we need to account for that offset by figuring out
   * what the current backdrop value should be.
   */
  const backdropValue = `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(currentBreakpoint, backdropBreakpoint)})`;
  const defaultBackdrop = [
    { offset: 0, opacity: backdropValue },
    { offset: 1, opacity: 0 }
  ];
  const customBackdrop = [
    { offset: 0, opacity: backdropValue },
    { offset: backdropBreakpoint, opacity: 0 },
    { offset: 1, opacity: 0 }
  ];
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('backdropAnimation')
    .keyframes(backdropBreakpoint !== 0 ? customBackdrop : defaultBackdrop);
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('wrapperAnimation')
    .keyframes([
    { offset: 0, opacity: 1, transform: `translateY(${100 - (currentBreakpoint * 100)}%)` },
    { offset: 1, opacity: 1, transform: `translateY(100%)` }
  ]);
  return { wrapperAnimation, backdropAnimation };
};

const createEnterAnimation$1 = () => {
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)');
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('transform', 'translateY(100vh)', 'translateY(0vh)');
  return { backdropAnimation, wrapperAnimation };
};
/**
 * iOS Modal Enter Animation for the Card presentation style
 */
const iosEnterAnimation$3 = (baseEl, opts) => {
  const { presentingEl, currentBreakpoint } = opts;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation$1();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow'))
    .beforeStyles({ 'opacity': 1 });
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('entering-base')
    .addElement(baseEl)
    .easing('cubic-bezier(0.32,0.72,0,1)')
    .duration(500)
    .addAnimation(wrapperAnimation);
  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);
    const presentingElRoot = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(presentingEl);
    const presentingAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
      .beforeStyles({
      'transform': 'translateY(0)',
      'transform-origin': 'top center',
      'overflow': 'hidden'
    });
    const bodyEl = document.body;
    if (isMobile) {
      /**
       * Fallback for browsers that does not support `max()` (ex: Firefox)
       * No need to worry about statusbar padding since engines like Gecko
       * are not used as the engine for standalone Cordova/Capacitor apps
       */
      const transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation
        .afterStyles({
        'transform': finalTransform
      })
        .beforeAddWrite(() => bodyEl.style.setProperty('background-color', 'black'))
        .addElement(presentingEl)
        .keyframes([
        { offset: 0, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' },
        { offset: 1, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' }
      ]);
      baseAnimation.addAnimation(presentingAnimation);
    }
    else {
      baseAnimation.addAnimation(backdropAnimation);
      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '0', '1');
      }
      else {
        const toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation
          .afterStyles({
          'transform': finalTransform
        })
          .addElement(presentingElRoot.querySelector('.modal-wrapper'))
          .keyframes([
          { offset: 0, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' },
          { offset: 1, filter: 'contrast(0.85)', transform: finalTransform }
        ]);
        const shadowAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
          .afterStyles({
          'transform': finalTransform
        })
          .addElement(presentingElRoot.querySelector('.modal-shadow'))
          .keyframes([
          { offset: 0, opacity: '1', transform: 'translateY(0) scale(1)' },
          { offset: 1, opacity: '0', transform: finalTransform }
        ]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  }
  else {
    baseAnimation.addAnimation(backdropAnimation);
  }
  return baseAnimation;
};

const createLeaveAnimation$1 = () => {
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('transform', 'translateY(0vh)', 'translateY(100vh)');
  return { backdropAnimation, wrapperAnimation };
};
/**
 * iOS Modal Leave Animation
 */
const iosLeaveAnimation$3 = (baseEl, opts, duration = 500) => {
  const { presentingEl, currentBreakpoint } = opts;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation$1();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation
    .addElement(root.querySelectorAll('.modal-wrapper, .modal-shadow'))
    .beforeStyles({ 'opacity': 1 });
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)('leaving-base')
    .addElement(baseEl)
    .easing('cubic-bezier(0.32,0.72,0,1)')
    .duration(duration)
    .addAnimation(wrapperAnimation);
  if (presentingEl) {
    const isMobile = window.innerWidth < 768;
    const hasCardModal = (presentingEl.tagName === 'ION-MODAL' && presentingEl.presentingElement !== undefined);
    const presentingElRoot = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(presentingEl);
    const presentingAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
      .beforeClearStyles(['transform'])
      .afterClearStyles(['transform'])
      .onFinish(currentStep => {
      // only reset background color if this is the last card-style modal
      if (currentStep !== 1) {
        return;
      }
      presentingEl.style.setProperty('overflow', '');
      const numModals = Array.from(bodyEl.querySelectorAll('ion-modal')).filter(m => m.presentingElement !== undefined).length;
      if (numModals <= 1) {
        bodyEl.style.setProperty('background-color', '');
      }
    });
    const bodyEl = document.body;
    if (isMobile) {
      const transformOffset = (!CSS.supports('width', 'max(0px, 1px)')) ? '30px' : 'max(30px, var(--ion-safe-area-top))';
      const modalTransform = hasCardModal ? '-10px' : transformOffset;
      const toPresentingScale = SwipeToCloseDefaults.MIN_PRESENTING_SCALE;
      const finalTransform = `translateY(${modalTransform}) scale(${toPresentingScale})`;
      presentingAnimation
        .addElement(presentingEl)
        .keyframes([
        { offset: 0, filter: 'contrast(0.85)', transform: finalTransform, borderRadius: '10px 10px 0 0' },
        { offset: 1, filter: 'contrast(1)', transform: 'translateY(0px) scale(1)', borderRadius: '0px' }
      ]);
      baseAnimation.addAnimation(presentingAnimation);
    }
    else {
      baseAnimation.addAnimation(backdropAnimation);
      if (!hasCardModal) {
        wrapperAnimation.fromTo('opacity', '1', '0');
      }
      else {
        const toPresentingScale = (hasCardModal) ? SwipeToCloseDefaults.MIN_PRESENTING_SCALE : 1;
        const finalTransform = `translateY(-10px) scale(${toPresentingScale})`;
        presentingAnimation
          .addElement(presentingElRoot.querySelector('.modal-wrapper'))
          .afterStyles({
          'transform': 'translate3d(0, 0, 0)'
        })
          .keyframes([
          { offset: 0, filter: 'contrast(0.85)', transform: finalTransform },
          { offset: 1, filter: 'contrast(1)', transform: 'translateY(0) scale(1)' }
        ]);
        const shadowAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
          .addElement(presentingElRoot.querySelector('.modal-shadow'))
          .afterStyles({
          'transform': 'translateY(0) scale(1)'
        })
          .keyframes([
          { offset: 0, opacity: '0', transform: finalTransform },
          { offset: 1, opacity: '1', transform: 'translateY(0) scale(1)' }
        ]);
        baseAnimation.addAnimation([presentingAnimation, shadowAnimation]);
      }
    }
  }
  else {
    baseAnimation.addAnimation(backdropAnimation);
  }
  return baseAnimation;
};

const createEnterAnimation = () => {
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)');
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .keyframes([
    { offset: 0, opacity: 0.01, transform: 'translateY(40px)' },
    { offset: 1, opacity: 1, transform: `translateY(0px)` }
  ]);
  return { backdropAnimation, wrapperAnimation };
};
/**
 * Md Modal Enter Animation
 */
const mdEnterAnimation$2 = (baseEl, opts) => {
  const { currentBreakpoint } = opts;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetEnterAnimation(opts) : createEnterAnimation();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(root.querySelector('.modal-wrapper'));
  return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .addElement(baseEl)
    .easing('cubic-bezier(0.36,0.66,0.04,1)')
    .duration(280)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const createLeaveAnimation = () => {
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .keyframes([
    { offset: 0, opacity: 0.99, transform: `translateY(0px)` },
    { offset: 1, opacity: 0, transform: 'translateY(40px)' }
  ]);
  return { backdropAnimation, wrapperAnimation };
};
/**
 * Md Modal Leave Animation
 */
const mdLeaveAnimation$2 = (baseEl, opts) => {
  const { currentBreakpoint } = opts;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const { wrapperAnimation, backdropAnimation } = currentBreakpoint !== undefined ? createSheetLeaveAnimation(opts) : createLeaveAnimation();
  backdropAnimation.addElement(root.querySelector('ion-backdrop'));
  wrapperAnimation.addElement(root.querySelector('.modal-wrapper'));
  return (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)()
    .easing('cubic-bezier(0.47,0,0.745,0.715)')
    .duration(200)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const createSheetGesture = (baseEl, backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, animation, breakpoints = [], onDismiss, onBreakpointChange) => {
  // Defaults for the sheet swipe animation
  const defaultBackdrop = [
    { offset: 0, opacity: 'var(--backdrop-opacity)' },
    { offset: 1, opacity: 0.01 }
  ];
  const customBackdrop = [
    { offset: 0, opacity: 'var(--backdrop-opacity)' },
    { offset: 1 - backdropBreakpoint, opacity: 0 },
    { offset: 1, opacity: 0 }
  ];
  const SheetDefaults = {
    WRAPPER_KEYFRAMES: [
      { offset: 0, transform: 'translateY(0%)' },
      { offset: 1, transform: 'translateY(100%)' }
    ],
    BACKDROP_KEYFRAMES: (backdropBreakpoint !== 0) ? customBackdrop : defaultBackdrop
  };
  const contentEl = baseEl.querySelector('ion-content');
  const height = wrapperEl.clientHeight;
  let currentBreakpoint = initialBreakpoint;
  let offset = 0;
  const wrapperAnimation = animation.childAnimations.find(ani => ani.id === 'wrapperAnimation');
  const backdropAnimation = animation.childAnimations.find(ani => ani.id === 'backdropAnimation');
  const maxBreakpoint = breakpoints[breakpoints.length - 1];
  /**
   * After the entering animation completes,
   * we need to set the animation to go from
   * offset 0 to offset 1 so that users can
   * swipe in any direction. We then set the
   * animation offset to the current breakpoint
   * so there is no flickering.
   */
  if (wrapperAnimation && backdropAnimation) {
    wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
    backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
    animation.progressStart(true, 1 - currentBreakpoint);
    /**
     * Backdrop should become enabled
     * after the backdropBreakpoint value
     */
    const backdropEnabled = currentBreakpoint > backdropBreakpoint;
    backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');
  }
  if (contentEl && currentBreakpoint !== maxBreakpoint) {
    contentEl.scrollY = false;
  }
  const canStart = (detail) => {
    /**
     * If the sheet is fully expanded and
     * the user is swiping on the content,
     * the gesture should not start to
     * allow for scrolling on the content.
     */
    const content = detail.event.target.closest('ion-content');
    if (currentBreakpoint === 1 && content) {
      return false;
    }
    return true;
  };
  const onStart = () => {
    /**
     * If swiping on the content
     * we should disable scrolling otherwise
     * the sheet will expand and the content will scroll.
     */
    if (contentEl) {
      contentEl.scrollY = false;
    }
    animation.progressStart(true, 1 - currentBreakpoint);
  };
  const onMove = (detail) => {
    /**
     * Given the change in gesture position on the Y axis,
     * compute where the offset of the animation should be
     * relative to where the user dragged.
     */
    const initialStep = 1 - currentBreakpoint;
    offset = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.d)(0.0001, initialStep + (detail.deltaY / height), 0.9999);
    animation.progressStep(offset);
  };
  const onEnd = (detail) => {
    /**
     * When the gesture releases, we need to determine
     * the closest breakpoint to snap to.
     */
    const velocity = detail.velocityY;
    const threshold = (detail.deltaY + velocity * 100) / height;
    const diff = currentBreakpoint - threshold;
    const closest = breakpoints.reduce((a, b) => {
      return Math.abs(b - diff) < Math.abs(a - diff) ? b : a;
    });
    const shouldRemainOpen = closest !== 0;
    currentBreakpoint = 0;
    /**
     * Update the animation so that it plays from
     * the last offset to the closest snap point.
     */
    if (wrapperAnimation && backdropAnimation) {
      wrapperAnimation.keyframes([
        { offset: 0, transform: `translateY(${offset * 100}%)` },
        { offset: 1, transform: `translateY(${(1 - closest) * 100}%)` }
      ]);
      backdropAnimation.keyframes([
        { offset: 0, opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(1 - offset, backdropBreakpoint)})` },
        { offset: 1, opacity: `calc(var(--backdrop-opacity) * ${getBackdropValueForSheet(closest, backdropBreakpoint)})` }
      ]);
      animation.progressStep(0);
    }
    /**
     * Gesture should remain disabled until the
     * snapping animation completes.
     */
    gesture.enable(false);
    animation
      .onFinish(() => {
      if (shouldRemainOpen) {
        /**
         * Once the snapping animation completes,
         * we need to reset the animation to go
         * from 0 to 1 so users can swipe in any direction.
         * We then set the animation offset to the current
         * breakpoint so that it starts at the snapped position.
         */
        if (wrapperAnimation && backdropAnimation) {
          (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)(() => {
            wrapperAnimation.keyframes([...SheetDefaults.WRAPPER_KEYFRAMES]);
            backdropAnimation.keyframes([...SheetDefaults.BACKDROP_KEYFRAMES]);
            animation.progressStart(true, 1 - closest);
            currentBreakpoint = closest;
            onBreakpointChange(currentBreakpoint);
            /**
             * If the sheet is fully expanded, we can safely
             * enable scrolling again.
             */
            if (contentEl && currentBreakpoint === breakpoints[breakpoints.length - 1]) {
              contentEl.scrollY = true;
            }
            /**
             * Backdrop should become enabled
             * after the backdropBreakpoint value
             */
            const backdropEnabled = currentBreakpoint > backdropBreakpoint;
            backdropEl.style.setProperty('pointer-events', backdropEnabled ? 'auto' : 'none');
            gesture.enable(true);
          });
        }
        else {
          gesture.enable(true);
        }
      }
      /**
       * This must be a one time callback
       * otherwise a new callback will
       * be added every time onEnd runs.
       */
    }, { oneTimeCallback: true })
      .progressEnd(1, 0, 500);
    if (!shouldRemainOpen) {
      onDismiss();
    }
  };
  const gesture = (0,_index_41bf41f2_js__WEBPACK_IMPORTED_MODULE_3__.createGesture)({
    el: wrapperEl,
    gestureName: 'modalSheet',
    gesturePriority: 40,
    direction: 'y',
    threshold: 10,
    canStart,
    onStart,
    onMove,
    onEnd
  });
  return gesture;
};

const modalIosCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}";

const modalMdCss = ":host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict;pointer-events:none}:host(.modal-interactive) .modal-wrapper,:host(.modal-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);background:var(--ion-color-step-350, #c0c0be);z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}";

let Modal = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionModalDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionModalWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionModalWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionModalDidDismiss", 7);
    this.didPresentShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "didDismiss", 7);
    this.modalIndex = modalIds++;
    this.coreDelegate = (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.C)();
    this.isSheetModal = false;
    this.inline = false;
    // Whether or not modal is being dismissed via gesture
    this.gestureAnimationDismissing = false;
    this.presented = false;
    /** @internal */
    this.hasController = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * A decimal value between 0 and 1 that indicates the
     * point after which the backdrop will begin to fade in
     * when using a sheet modal. Prior to this point, the
     * backdrop will be hidden and the content underneath
     * the sheet can be interacted with. This value is exclusive
     * meaning the backdrop will become active after the value
     * specified.
     */
    this.backdropBreakpoint = 0;
    /**
     * If `true`, the modal will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the modal.
     */
    this.showBackdrop = true;
    /**
     * If `true`, the modal will animate.
     */
    this.animated = true;
    /**
     * If `true`, the modal can be swiped to dismiss. Only applies in iOS mode.
     */
    this.swipeToClose = false;
    /**
     * If `true`, the modal will open. If `false`, the modal will close.
     * Use this if you need finer grained control over presentation, otherwise
     * just use the modalController or the `trigger` property.
     * Note: `isOpen` will not automatically be set back to `false` when
     * the modal dismisses. You will need to do that in your code.
     */
    this.isOpen = false;
    this.configureTriggerInteraction = () => {
      const { trigger, el, destroyTriggerInteraction } = this;
      if (destroyTriggerInteraction) {
        destroyTriggerInteraction();
      }
      const triggerEl = (trigger !== undefined) ? document.getElementById(trigger) : null;
      if (!triggerEl) {
        return;
      }
      const configureTriggerInteraction = (triggerEl, modalEl) => {
        const openModal = () => {
          modalEl.present();
        };
        triggerEl.addEventListener('click', openModal);
        return () => {
          triggerEl.removeEventListener('click', openModal);
        };
      };
      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, el);
    };
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
    this.onDismiss = (ev) => {
      ev.stopPropagation();
      ev.preventDefault();
      this.dismiss();
    };
    this.onLifecycle = (modalEvent) => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP$1[modalEvent.type];
      if (el && name) {
        const ev = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(ev);
      }
    };
  }
  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    }
    else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }
  onTriggerChange() {
    this.configureTriggerInteraction();
  }
  swipeToCloseChanged(enable) {
    if (this.gesture) {
      this.gesture.enable(enable);
    }
    else if (enable) {
      this.initSwipeToClose();
    }
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  componentWillLoad() {
    const { breakpoints, initialBreakpoint } = this;
    /**
     * If user has custom ID set then we should
     * not assign the default incrementing ID.
     */
    this.modalId = (this.el.hasAttribute('id')) ? this.el.getAttribute('id') : `ion-modal-${this.modalIndex}`;
    this.isSheetModal = breakpoints !== undefined && initialBreakpoint !== undefined;
    if (breakpoints !== undefined && initialBreakpoint !== undefined && !breakpoints.includes(initialBreakpoint)) {
      console.warn('[Ionic Warning]: Your breakpoints array must include the initialBreakpoint value.');
    }
  }
  componentDidLoad() {
    /**
     * If modal was rendered with isOpen="true"
     * then we should open modal immediately.
     */
    if (this.isOpen === true) {
      (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)(() => this.present());
    }
    this.configureTriggerInteraction();
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */
  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */
    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = (inline) ? this.delegate || this.coreDelegate : this.delegate;
    return { inline, delegate };
  }
  /**
   * Present the modal overlay after it has been created.
   */
  async present() {
    if (this.presented) {
      return;
    }
    /**
     * When using an inline modal
     * and dismissing a modal it is possible to
     * quickly present the modal while it is
     * dismissing. We need to await any current
     * transition to allow the dismiss to finish
     * before presenting again.
     */
    if (this.currentTransition !== undefined) {
      await this.currentTransition;
    }
    const data = Object.assign(Object.assign({}, this.componentProps), { modal: this.el });
    const { inline, delegate } = this.getDelegate(true);
    this.usersElement = await (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.a)(delegate, this.el, this.component, ['ion-page'], data, inline);
    await (0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__.e)(this.usersElement);
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.c)(() => this.el.classList.add('show-modal'));
    this.currentTransition = present(this, 'modalEnter', iosEnterAnimation$3, mdEnterAnimation$2, { presentingEl: this.presentingElement, currentBreakpoint: this.initialBreakpoint, backdropBreakpoint: this.backdropBreakpoint });
    await this.currentTransition;
    if (this.isSheetModal) {
      this.initSheetGesture();
    }
    else if (this.swipeToClose) {
      this.initSwipeToClose();
    }
    this.currentTransition = undefined;
  }
  initSwipeToClose() {
    if ((0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this) !== 'ios') {
      return;
    }
    // All of the elements needed for the swipe gesture
    // should be in the DOM and referenced by now, except
    // for the presenting el
    const animationBuilder = this.leaveAnimation || _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get('modalLeave', iosLeaveAnimation$3);
    const ani = this.animation = animationBuilder(this.el, { presentingEl: this.presentingElement });
    this.gesture = createSwipeToCloseGesture(this.el, ani, () => {
      /**
       * While the gesture animation is finishing
       * it is possible for a user to tap the backdrop.
       * This would result in the dismiss animation
       * being played again. Typically this is avoided
       * by setting `presented = false` on the overlay
       * component; however, we cannot do that here as
       * that would prevent the element from being
       * removed from the DOM.
       */
      this.gestureAnimationDismissing = true;
      this.animation.onFinish(async () => {
        await this.dismiss(undefined, 'gesture');
        this.gestureAnimationDismissing = false;
      });
    });
    this.gesture.enable(true);
  }
  initSheetGesture() {
    var _a;
    const { wrapperEl, initialBreakpoint, backdropBreakpoint } = this;
    if (!wrapperEl || initialBreakpoint === undefined) {
      return;
    }
    const animationBuilder = this.enterAnimation || _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get('modalEnter', iosEnterAnimation$3);
    const ani = this.animation = animationBuilder(this.el, { presentingEl: this.presentingElement, currentBreakpoint: initialBreakpoint, backdropBreakpoint });
    ani.progressStart(true, 1);
    const sortedBreakpoints = ((_a = this.breakpoints) === null || _a === void 0 ? void 0 : _a.sort((a, b) => a - b)) || [];
    this.gesture = createSheetGesture(this.el, this.backdropEl, wrapperEl, initialBreakpoint, backdropBreakpoint, ani, sortedBreakpoints, () => {
      /**
       * While the gesture animation is finishing
       * it is possible for a user to tap the backdrop.
       * This would result in the dismiss animation
       * being played again. Typically this is avoided
       * by setting `presented = false` on the overlay
       * component; however, we cannot do that here as
       * that would prevent the element from being
       * removed from the DOM.
       */
      this.gestureAnimationDismissing = true;
      this.animation.onFinish(async () => {
        await this.dismiss(undefined, 'gesture');
        this.gestureAnimationDismissing = false;
      });
    }, (breakpoint) => {
      this.currentBreakpoint = breakpoint;
    });
    this.gesture.enable(true);
  }
  /**
   * Dismiss the modal overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the modal. For example, 'cancel' or 'backdrop'.
   */
  async dismiss(data, role) {
    if (this.gestureAnimationDismissing && role !== 'gesture') {
      return false;
    }
    /**
     * When using an inline modal
     * and presenting a modal it is possible to
     * quickly dismiss the modal while it is
     * presenting. We need to await any current
     * transition to allow the present to finish
     * before dismissing again.
     */
    if (this.currentTransition !== undefined) {
      await this.currentTransition;
    }
    const enteringAnimation = activeAnimations.get(this) || [];
    this.currentTransition = dismiss(this, data, role, 'modalLeave', iosLeaveAnimation$3, mdLeaveAnimation$2, { presentingEl: this.presentingElement, currentBreakpoint: this.currentBreakpoint || this.initialBreakpoint, backdropBreakpoint: this.backdropBreakpoint });
    const dismissed = await this.currentTransition;
    if (dismissed) {
      const { delegate } = this.getDelegate();
      await (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.d)(delegate, this.usersElement);
      if (this.animation) {
        this.animation.destroy();
      }
      if (this.gesture) {
        this.gesture.destroy();
      }
      enteringAnimation.forEach(ani => ani.destroy());
    }
    this.currentTransition = undefined;
    this.animation = undefined;
    return dismissed;
  }
  /**
   * Returns a promise that resolves when the modal did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionModalDidDismiss');
  }
  /**
   * Returns a promise that resolves when the modal will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionModalWillDismiss');
  }
  render() {
    const { handle, isSheetModal, presentingElement, htmlAttributes } = this;
    const showHandle = handle !== false && isSheetModal;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const { presented, modalId } = this;
    const isCardModal = presentingElement !== undefined && mode === 'ios';
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ "no-router": true, "aria-modal": "true", tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${20000 + this.overlayIndex}`,
      }, class: Object.assign({ [mode]: true, ['modal-default']: !isCardModal && !isSheetModal, [`modal-card`]: isCardModal, [`modal-sheet`]: isSheetModal, 'overlay-hidden': true, 'modal-interactive': presented }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), id: modalId, onIonBackdropTap: this.onBackdropTap, onIonDismiss: this.onDismiss, onIonModalDidPresent: this.onLifecycle, onIonModalWillPresent: this.onLifecycle, onIonModalWillDismiss: this.onLifecycle, onIonModalDidDismiss: this.onLifecycle }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { ref: el => this.backdropEl = el, visible: this.showBackdrop, tappable: this.backdropDismiss, part: "backdrop" }), mode === 'ios' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "modal-shadow" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { role: "dialog", class: "modal-wrapper ion-overlay-wrapper", part: "content", ref: el => this.wrapperEl = el }, showHandle && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "modal-handle", part: "handle" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null))));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
  static get watchers() { return {
    "isOpen": ["onIsOpenChange"],
    "trigger": ["onTriggerChange"],
    "swipeToClose": ["swipeToCloseChanged"]
  }; }
};
const LIFECYCLE_MAP$1 = {
  'ionModalDidPresent': 'ionViewDidEnter',
  'ionModalWillPresent': 'ionViewWillEnter',
  'ionModalWillDismiss': 'ionViewWillLeave',
  'ionModalDidDismiss': 'ionViewDidLeave',
};
let modalIds = 0;
Modal.style = {
  ios: modalIosCss,
  md: modalMdCss
};

/**
 * iOS Picker Enter Animation
 */
const iosEnterAnimation$2 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(baseEl.querySelector('.picker-wrapper'))
    .fromTo('transform', 'translateY(100%)', 'translateY(0%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(400)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * iOS Picker Leave Animation
 */
const iosLeaveAnimation$2 = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(baseEl.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0.01);
  wrapperAnimation
    .addElement(baseEl.querySelector('.picker-wrapper'))
    .fromTo('transform', 'translateY(0%)', 'translateY(100%)');
  return baseAnimation
    .addElement(baseEl)
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(400)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const pickerIosCss = ".sc-ion-picker-ios-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-ios-h,[dir=rtl] .sc-ion-picker-ios-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-ios-h{display:none}.picker-wrapper.sc-ion-picker-ios{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-ios{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-ios{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-ios{border:0;font-family:inherit}.picker-button.sc-ion-picker-ios:active,.picker-button.sc-ion-picker-ios:focus{outline:none}.picker-columns.sc-ion-picker-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-ios,.picker-below-highlight.sc-ion-picker-ios{display:none;pointer-events:none}.sc-ion-picker-ios-h{--background:var(--ion-background-color, #fff);--border-width:1px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-ios{display:-ms-flexbox;display:flex;height:44px;border-bottom:0.55px solid var(--border-color)}.picker-toolbar-button.sc-ion-picker-ios{-ms-flex:1;flex:1;text-align:end}.picker-toolbar-button.sc-ion-picker-ios:last-child .picker-button.sc-ion-picker-ios{font-weight:600}.picker-toolbar-button.sc-ion-picker-ios:first-child{font-weight:normal;text-align:start}.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1em;padding-right:1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-ios,.picker-button.ion-activated.sc-ion-picker-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:1em;padding-inline-start:1em;-webkit-padding-end:1em;padding-inline-end:1em}}.picker-columns.sc-ion-picker-ios{height:215px;-webkit-perspective:1000px;perspective:1000px}.picker-above-highlight.sc-ion-picker-ios{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:81px;border-bottom:1px solid var(--border-color);background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-ios .picker-above-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-above-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-ios{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);display:block;position:absolute;width:100%;height:119px;border-top:1px solid var(--border-color);background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--background, var(--ion-background-color, #fff))), to(rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8)));background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-ios .picker-below-highlight.sc-ion-picker-ios,[dir=rtl].sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios,[dir=rtl] .sc-ion-picker-ios-h .picker-below-highlight.sc-ion-picker-ios{left:unset;right:unset;right:0}";

const pickerMdCss = ".sc-ion-picker-md-h{--border-radius:0;--border-style:solid;--min-width:auto;--width:100%;--max-width:500px;--min-height:auto;--max-height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}[dir=rtl].sc-ion-picker-md-h,[dir=rtl] .sc-ion-picker-md-h{left:unset;right:unset;right:0}.overlay-hidden.sc-ion-picker-md-h{display:none}.picker-wrapper.sc-ion-picker-md{border-radius:var(--border-radius);left:0;right:0;bottom:0;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;overflow:hidden;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-wrapper.sc-ion-picker-md{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.picker-toolbar.sc-ion-picker-md{width:100%;background:transparent;contain:strict;z-index:1}.picker-button.sc-ion-picker-md{border:0;font-family:inherit}.picker-button.sc-ion-picker-md:active,.picker-button.sc-ion-picker-md:focus{outline:none}.picker-columns.sc-ion-picker-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;margin-bottom:var(--ion-safe-area-bottom, 0);contain:strict;direction:ltr;overflow:hidden}.picker-above-highlight.sc-ion-picker-md,.picker-below-highlight.sc-ion-picker-md{display:none;pointer-events:none}.sc-ion-picker-md-h{--background:var(--ion-background-color, #fff);--border-width:0.55px 0 0;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--height:260px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.26);color:var(--ion-item-color, var(--ion-text-color, #000))}.picker-toolbar.sc-ion-picker-md{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;height:44px}.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:1.1em;padding-right:1.1em;padding-top:0;padding-bottom:0;height:44px;background:transparent;color:var(--ion-color-primary, #3880ff);font-size:14px;font-weight:500;text-transform:uppercase;-webkit-box-shadow:none;box-shadow:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.picker-button.sc-ion-picker-md,.picker-button.ion-activated.sc-ion-picker-md{padding-left:unset;padding-right:unset;-webkit-padding-start:1.1em;padding-inline-start:1.1em;-webkit-padding-end:1.1em;padding-inline-end:1.1em}}.picker-columns.sc-ion-picker-md{height:216px;-webkit-perspective:1800px;perspective:1800px}.picker-above-highlight.sc-ion-picker-md{left:0;top:0;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:81px;border-bottom:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to bottom, var(--ion-background-color, #fff) 20%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:10}[dir=rtl].sc-ion-picker-md .picker-above-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-above-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}.picker-below-highlight.sc-ion-picker-md{left:0;top:115px;-webkit-transform:translate3d(0,  0,  90px);transform:translate3d(0,  0,  90px);position:absolute;width:100%;height:119px;border-top:1px solid var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, var(--ion-background-color, #fff)), to(rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8)));background:linear-gradient(to top, var(--ion-background-color, #fff) 30%, rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8) 100%);z-index:11}[dir=rtl].sc-ion-picker-md .picker-below-highlight.sc-ion-picker-md,[dir=rtl].sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md,[dir=rtl] .sc-ion-picker-md-h .picker-below-highlight.sc-ion-picker-md{left:unset;right:unset;right:0}";

let Picker = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPickerDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPickerWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPickerWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPickerDidDismiss", 7);
    this.presented = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * Array of buttons to be displayed at the top of the picker.
     */
    this.buttons = [];
    /**
     * Array of columns to be displayed in the picker.
     */
    this.columns = [];
    /**
     * Number of milliseconds to wait before dismissing the picker.
     */
    this.duration = 0;
    /**
     * If `true`, a backdrop will be displayed behind the picker.
     */
    this.showBackdrop = true;
    /**
     * If `true`, the picker will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, the picker will animate.
     */
    this.animated = true;
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
    this.dispatchCancelHandler = (ev) => {
      const role = ev.detail.role;
      if (isCancel(role)) {
        const cancelButton = this.buttons.find(b => b.role === 'cancel');
        this.callButtonHandler(cancelButton);
      }
    };
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  /**
   * Present the picker overlay after it has been created.
   */
  async present() {
    await present(this, 'pickerEnter', iosEnterAnimation$2, iosEnterAnimation$2, undefined);
    if (this.duration > 0) {
      this.durationTimeout = setTimeout(() => this.dismiss(), this.duration);
    }
  }
  /**
   * Dismiss the picker overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the picker.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the picker.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   */
  dismiss(data, role) {
    if (this.durationTimeout) {
      clearTimeout(this.durationTimeout);
    }
    return dismiss(this, data, role, 'pickerLeave', iosLeaveAnimation$2, iosLeaveAnimation$2);
  }
  /**
   * Returns a promise that resolves when the picker did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionPickerDidDismiss');
  }
  /**
   * Returns a promise that resolves when the picker will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionPickerWillDismiss');
  }
  /**
   * Get the column that matches the specified name.
   *
   * @param name The name of the column.
   */
  getColumn(name) {
    return Promise.resolve(this.columns.find(column => column.name === name));
  }
  async buttonClick(button) {
    const role = button.role;
    if (isCancel(role)) {
      return this.dismiss(undefined, role);
    }
    const shouldDismiss = await this.callButtonHandler(button);
    if (shouldDismiss) {
      return this.dismiss(this.getSelected(), button.role);
    }
    return Promise.resolve();
  }
  async callButtonHandler(button) {
    if (button) {
      // a handler has been provided, execute it
      // pass the handler the values from the inputs
      const rtn = await safeCall(button.handler, this.getSelected());
      if (rtn === false) {
        // if the return value of the handler is false then do not dismiss
        return false;
      }
    }
    return true;
  }
  getSelected() {
    const selected = {};
    this.columns.forEach((col, index) => {
      const selectedColumn = col.selectedIndex !== undefined
        ? col.options[col.selectedIndex]
        : undefined;
      selected[col.name] = {
        text: selectedColumn ? selectedColumn.text : undefined,
        value: selectedColumn ? selectedColumn.value : undefined,
        columnIndex: index
      };
    });
    return selected;
  }
  render() {
    const { htmlAttributes } = this;
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ "aria-modal": "true", tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${20000 + this.overlayIndex}`
      }, class: Object.assign({ [mode]: true,
        // Used internally for styling
        [`picker-${mode}`]: true, 'overlay-hidden': true }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), onIonBackdropTap: this.onBackdropTap, onIonPickerWillDismiss: this.dispatchCancelHandler }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { visible: this.showBackdrop, tappable: this.backdropDismiss }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "picker-wrapper ion-overlay-wrapper", role: "dialog" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "picker-toolbar" }, this.buttons.map(b => ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: buttonWrapperClass(b) }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", onClick: () => this.buttonClick(b), class: buttonClass$1(b) }, b.text))))), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "picker-columns" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "picker-above-highlight" }), this.presented && this.columns.map(c => (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-picker-column", { col: c })), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "picker-below-highlight" }))), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { tabindex: "0" })));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
};
const buttonWrapperClass = (button) => {
  return {
    [`picker-toolbar-${button.role}`]: button.role !== undefined,
    'picker-toolbar-button': true
  };
};
const buttonClass$1 = (button) => {
  return Object.assign({ 'picker-button': true, 'ion-activatable': true }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(button.cssClass));
};
Picker.style = {
  ios: pickerIosCss,
  md: pickerMdCss
};

/**
 * Returns the dimensions of the popover
 * arrow on `ios` mode. If arrow is disabled
 * returns (0, 0).
 */
const getArrowDimensions = (arrowEl) => {
  if (!arrowEl) {
    return { arrowWidth: 0, arrowHeight: 0 };
  }
  const { width, height } = arrowEl.getBoundingClientRect();
  return { arrowWidth: width, arrowHeight: height };
};
/**
 * Returns the recommended dimensions of the popover
 * that takes into account whether or not the width
 * should match the trigger width.
 */
const getPopoverDimensions = (size, contentEl, triggerEl) => {
  const contentDimentions = contentEl.getBoundingClientRect();
  const contentHeight = contentDimentions.height;
  let contentWidth = contentDimentions.width;
  if (size === 'cover' && triggerEl) {
    const triggerDimensions = triggerEl.getBoundingClientRect();
    contentWidth = triggerDimensions.width;
  }
  return {
    contentWidth,
    contentHeight
  };
};
const configureDismissInteraction = (triggerEl, triggerAction, popoverEl, parentPopoverEl) => {
  let dismissCallbacks = [];
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(parentPopoverEl);
  const parentContentEl = root.querySelector('.popover-content');
  switch (triggerAction) {
    case 'hover':
      dismissCallbacks = [
        {
          /**
           * Do not use mouseover here
           * as this will causes the event to
           * be dispatched on each underlying
           * element rather than on the popover
           * content as a whole.
           */
          eventName: 'mouseenter',
          callback: (ev) => {
            /**
             * Do not dismiss the popover is we
             * are hovering over its trigger.
             * This would be easier if we used mouseover
             * but this would cause the event to be dispatched
             * more often than we would like, potentially
             * causing performance issues.
             */
            const element = document.elementFromPoint(ev.clientX, ev.clientY);
            if (element === triggerEl) {
              return;
            }
            popoverEl.dismiss(undefined, undefined, false);
          }
        }
      ];
      break;
    case 'context-menu':
    case 'click':
    default:
      dismissCallbacks = [
        {
          eventName: 'click',
          callback: (ev) => {
            /**
             * Do not dismiss the popover is we
             * are hovering over its trigger.
             */
            const target = ev.target;
            const closestTrigger = target.closest('[data-ion-popover-trigger]');
            if (closestTrigger === triggerEl) {
              /**
               * stopPropagation here so if the
               * popover has dismissOnSelect="true"
               * the popover does not dismiss since
               * we just clicked a trigger element.
               */
              ev.stopPropagation();
              return;
            }
            popoverEl.dismiss(undefined, undefined, false);
          }
        }
      ];
      break;
  }
  dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.addEventListener(eventName, callback));
  return () => {
    dismissCallbacks.forEach(({ eventName, callback }) => parentContentEl.removeEventListener(eventName, callback));
  };
};
/**
 * Configures the triggerEl to respond
 * to user interaction based upon the triggerAction
 * prop that devs have defined.
 */
const configureTriggerInteraction = (triggerEl, triggerAction, popoverEl) => {
  let triggerCallbacks = [];
  /**
   * Based upon the kind of trigger interaction
   * the user wants, we setup the correct event
   * listeners.
   */
  switch (triggerAction) {
    case 'hover':
      let hoverTimeout;
      triggerCallbacks = [
        {
          eventName: 'mouseenter',
          callback: async (ev) => {
            ev.stopPropagation();
            if (hoverTimeout) {
              clearTimeout(hoverTimeout);
            }
            /**
             * Hovering over a trigger should not
             * immediately open the next popover.
             */
            hoverTimeout = setTimeout(() => {
              (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)(() => {
                popoverEl.presentFromTrigger(ev);
                hoverTimeout = undefined;
              });
            }, 100);
          }
        },
        {
          eventName: 'mouseleave',
          callback: (ev) => {
            if (hoverTimeout) {
              clearTimeout(hoverTimeout);
            }
            /**
             * If mouse is over another popover
             * that is not this popover then we should
             * close this popover.
             */
            const target = ev.relatedTarget;
            if (!target) {
              return;
            }
            if (target.closest('ion-popover') !== popoverEl) {
              popoverEl.dismiss(undefined, undefined, false);
            }
          }
        },
        {
          /**
           * stopPropagation here prevents the popover
           * from dismissing when dismiss-on-select="true".
           */
          eventName: 'click',
          callback: (ev) => ev.stopPropagation()
        },
        {
          eventName: 'ionPopoverActivateTrigger',
          callback: (ev) => popoverEl.presentFromTrigger(ev, true)
        }
      ];
      break;
    case 'context-menu':
      triggerCallbacks = [
        {
          eventName: 'contextmenu',
          callback: (ev) => {
            /**
             * Prevents the platform context
             * menu from appearing.
             */
            ev.preventDefault();
            popoverEl.presentFromTrigger(ev);
          }
        },
        {
          eventName: 'click',
          callback: (ev) => ev.stopPropagation()
        },
        {
          eventName: 'ionPopoverActivateTrigger',
          callback: (ev) => popoverEl.presentFromTrigger(ev, true)
        }
      ];
      break;
    case 'click':
    default:
      triggerCallbacks = [
        {
          /**
           * Do not do a stopPropagation() here
           * because if you had two click triggers
           * then clicking the first trigger and then
           * clicking the second trigger would not cause
           * the first popover to dismiss.
           */
          eventName: 'click',
          callback: (ev) => popoverEl.presentFromTrigger(ev)
        },
        {
          eventName: 'ionPopoverActivateTrigger',
          callback: (ev) => popoverEl.presentFromTrigger(ev, true)
        }
      ];
      break;
  }
  triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.addEventListener(eventName, callback));
  triggerEl.setAttribute('data-ion-popover-trigger', 'true');
  return () => {
    triggerCallbacks.forEach(({ eventName, callback }) => triggerEl.removeEventListener(eventName, callback));
    triggerEl.removeAttribute('data-ion-popover-trigger');
  };
};
/**
 * Returns the index of an ion-item in an array of ion-items.
 */
const getIndexOfItem = (items, item) => {
  if (!item || item.tagName !== 'ION-ITEM') {
    return -1;
  }
  return items.findIndex(el => el === item);
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the next ion-item relative to the focused one or
 * undefined.
 */
const getNextItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex + 1];
};
/**
 * Given an array of elements and a currently focused ion-item
 * returns the previous ion-item relative to the focused one or
 * undefined.
 */
const getPrevItem = (items, currentItem) => {
  const currentItemIndex = getIndexOfItem(items, currentItem);
  return items[currentItemIndex - 1];
};
/** Focus the internal button of the ion-item */
const focusItem = (item) => {
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(item);
  const button = root.querySelector('button');
  if (button) {
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)(() => button.focus());
  }
};
/**
 * Returns `true` if `el` has been designated
 * as a trigger element for an ion-popover.
 */
const isTriggerElement = (el) => el.hasAttribute('data-ion-popover-trigger');
const configureKeyboardInteraction = (popoverEl) => {
  const callback = async (ev) => {
    const activeElement = document.activeElement;
    let items = [];
    /**
     * Complex selectors with :not() are :not supported
     * in older versions of Chromium so we need to do a
     * try/catch here so errors are not thrown.
     */
    try {
      /**
       * Select all ion-items that are not children of child popovers.
       * i.e. only select ion-item elements that are part of this popover
       */
      items = Array.from(popoverEl.querySelectorAll('ion-item:not(ion-popover ion-popover *):not([disabled])'));
      /* tslint:disable-next-line */
    }
    catch (_a) { }
    switch (ev.key) {
      /**
       * If we are in a child popover
       * then pressing the left arrow key
       * should close this popover and move
       * focus to the popover that presented
       * this one.
       */
      case 'ArrowLeft':
        const parentPopover = await popoverEl.getParentPopover();
        if (parentPopover) {
          popoverEl.dismiss(undefined, undefined, false);
        }
        break;
      /**
       * ArrowDown should move focus to the next focusable ion-item.
       */
      case 'ArrowDown':
        // Disable movement/scroll with keyboard
        ev.preventDefault();
        const nextItem = getNextItem(items, activeElement);
        // tslint:disable-next-line:strict-type-predicates
        if (nextItem !== undefined) {
          focusItem(nextItem);
        }
        break;
      /**
       * ArrowUp should move focus to the previous focusable ion-item.
       */
      case 'ArrowUp':
        // Disable movement/scroll with keyboard
        ev.preventDefault();
        const prevItem = getPrevItem(items, activeElement);
        // tslint:disable-next-line:strict-type-predicates
        if (prevItem !== undefined) {
          focusItem(prevItem);
        }
        break;
      /**
       * Home should move focus to the first focusable ion-item.
       */
      case 'Home':
        ev.preventDefault();
        const firstItem = items[0];
        // tslint:disable-next-line:strict-type-predicates
        if (firstItem !== undefined) {
          focusItem(firstItem);
        }
        break;
      /**
       * End should move focus to the last focusable ion-item.
       */
      case 'End':
        ev.preventDefault();
        const lastItem = items[items.length - 1];
        // tslint:disable-next-line:strict-type-predicates
        if (lastItem !== undefined) {
          focusItem(lastItem);
        }
        break;
      /**
       * ArrowRight, Spacebar, or Enter should activate
       * the currently focused trigger item to open a
       * popover if the element is a trigger item.
       */
      case 'ArrowRight':
      case ' ':
      case 'Enter':
        if (activeElement && isTriggerElement(activeElement)) {
          const rightEvent = new CustomEvent('ionPopoverActivateTrigger');
          activeElement.dispatchEvent(rightEvent);
        }
        break;
    }
  };
  popoverEl.addEventListener('keydown', callback);
  return () => popoverEl.removeEventListener('keydown', callback);
};
/**
 * Positions a popover by taking into account
 * the reference point, preferred side, alignment
 * and viewport dimensions.
 */
const getPopoverPosition = (isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, triggerEl, event) => {
  var _a;
  let referenceCoordinates = {
    top: 0,
    left: 0,
    width: 0,
    height: 0
  };
  /**
   * Calculate position relative to the
   * x-y coordinates in the event that
   * was passed in
   */
  switch (reference) {
    case 'event':
      if (!event) {
        return defaultPosition;
      }
      const mouseEv = event;
      referenceCoordinates = {
        top: mouseEv.clientY,
        left: mouseEv.clientX,
        width: 1,
        height: 1
      };
      break;
    /**
     * Calculate position relative to the bounding
     * box on either the trigger element
     * specified via the `trigger` prop or
     * the target specified on the event
     * that was passed in.
     */
    case 'trigger':
    default:
      const customEv = event;
      /**
       * ionShadowTarget is used when we need to align the
       * popover with an element inside of the shadow root
       * of an Ionic component. Ex: Presenting a popover
       * by clicking on the collapsed indicator inside
       * of `ion-breadcrumb` and centering it relative
       * to the indicator rather than `ion-breadcrumb`
       * as a whole.
       */
      const actualTriggerEl = (triggerEl || ((_a = customEv === null || customEv === void 0 ? void 0 : customEv.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (customEv === null || customEv === void 0 ? void 0 : customEv.target));
      if (!actualTriggerEl) {
        return defaultPosition;
      }
      const triggerBoundingBox = actualTriggerEl.getBoundingClientRect();
      referenceCoordinates = {
        top: triggerBoundingBox.top,
        left: triggerBoundingBox.left,
        width: triggerBoundingBox.width,
        height: triggerBoundingBox.height
      };
      break;
  }
  /**
   * Get top/left offset that would allow
   * popover to be positioned on the
   * preferred side of the reference.
   */
  const coordinates = calculatePopoverSide(side, referenceCoordinates, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL);
  /**
   * Get the top/left adjustments that
   * would allow the popover content
   * to have the correct alignment.
   */
  const alignedCoordinates = calculatePopoverAlign(align, side, referenceCoordinates, contentWidth, contentHeight);
  const top = coordinates.top + alignedCoordinates.top;
  const left = coordinates.left + alignedCoordinates.left;
  const { arrowTop, arrowLeft } = calculateArrowPosition(side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL);
  const { originX, originY } = calculatePopoverOrigin(side, align, isRTL);
  return { top, left, referenceCoordinates, arrowTop, arrowLeft, originX, originY };
};
/**
 * Determines the transform-origin
 * of the popover animation so that it
 * is in line with what the side and alignment
 * prop values are. Currently only used
 * with the MD animation.
 */
const calculatePopoverOrigin = (side, align, isRTL) => {
  switch (side) {
    case 'top':
      return { originX: getOriginXAlignment(align), originY: 'bottom' };
    case 'bottom':
      return { originX: getOriginXAlignment(align), originY: 'top' };
    case 'left':
      return { originX: 'right', originY: getOriginYAlignment(align) };
    case 'right':
      return { originX: 'left', originY: getOriginYAlignment(align) };
    case 'start':
      return { originX: (isRTL) ? 'left' : 'right', originY: getOriginYAlignment(align) };
    case 'end':
      return { originX: (isRTL) ? 'right' : 'left', originY: getOriginYAlignment(align) };
  }
};
const getOriginXAlignment = (align) => {
  switch (align) {
    case 'start':
      return 'left';
    case 'center':
      return 'center';
    case 'end':
      return 'right';
  }
};
const getOriginYAlignment = (align) => {
  switch (align) {
    case 'start':
      return 'top';
    case 'center':
      return 'center';
    case 'end':
      return 'bottom';
  }
};
/**
 * Calculates where the arrow positioning
 * should be relative to the popover content.
 */
const calculateArrowPosition = (side, arrowWidth, arrowHeight, top, left, contentWidth, contentHeight, isRTL) => {
  /**
   * Note: When side is left, right, start, or end, the arrow is
   * been rotated using a `transform`, so to move the arrow up or down
   * by its dimension, you need to use `arrowWidth`.
   */
  const leftPosition = { arrowTop: top + (contentHeight / 2) - (arrowWidth / 2), arrowLeft: left + contentWidth - (arrowWidth / 2) };
  /**
   * Move the arrow to the left by arrowWidth and then
   * again by half of its width because we have rotated
   * the arrow using a transform.
   */
  const rightPosition = { arrowTop: top + (contentHeight / 2) - (arrowWidth / 2), arrowLeft: left - (arrowWidth * 1.5) };
  switch (side) {
    case 'top':
      return { arrowTop: top + contentHeight, arrowLeft: left + (contentWidth / 2) - (arrowWidth / 2) };
    case 'bottom':
      return { arrowTop: top - arrowHeight, arrowLeft: left + (contentWidth / 2) - (arrowWidth / 2) };
    case 'left':
      return leftPosition;
    case 'right':
      return rightPosition;
    case 'start':
      return (isRTL) ? rightPosition : leftPosition;
    case 'end':
      return (isRTL) ? leftPosition : rightPosition;
    default:
      return { arrowTop: 0, arrowLeft: 0 };
  }
};
/**
 * Calculates the required top/left
 * values needed to position the popover
 * content on the side specified in the
 * `side` prop.
 */
const calculatePopoverSide = (side, triggerBoundingBox, contentWidth, contentHeight, arrowWidth, arrowHeight, isRTL) => {
  const sideLeft = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left - contentWidth - arrowWidth
  };
  const sideRight = {
    top: triggerBoundingBox.top,
    left: triggerBoundingBox.left + triggerBoundingBox.width + arrowWidth
  };
  switch (side) {
    case 'top':
      return {
        top: triggerBoundingBox.top - contentHeight - arrowHeight,
        left: triggerBoundingBox.left
      };
    case 'right':
      return sideRight;
    case 'bottom':
      return {
        top: triggerBoundingBox.top + triggerBoundingBox.height + arrowHeight,
        left: triggerBoundingBox.left
      };
    case 'left':
      return sideLeft;
    case 'start':
      return (isRTL) ? sideRight : sideLeft;
    case 'end':
      return (isRTL) ? sideLeft : sideRight;
  }
};
/**
 * Calculates the required top/left
 * offset values needed to provide the
 * correct alignment regardless while taking
 * into account the side the popover is on.
 */
const calculatePopoverAlign = (align, side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (align) {
    case 'center':
      return calculatePopoverCenterAlign(side, triggerBoundingBox, contentWidth, contentHeight);
    case 'end':
      return calculatePopoverEndAlign(side, triggerBoundingBox, contentWidth, contentHeight);
    case 'start':
    default:
      return { top: 0, left: 0 };
  }
};
/**
 * Calculate the end alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */
const calculatePopoverEndAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -(contentHeight - triggerBoundingBox.height),
        left: 0
      };
    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -(contentWidth - triggerBoundingBox.width)
      };
  }
};
/**
 * Calculate the center alignment for
 * the popover. If side is on the x-axis
 * then the align values refer to the top
 * and bottom margins of the content.
 * If side is on the y-axis then the
 * align values refer to the left and right
 * margins of the content.
 */
const calculatePopoverCenterAlign = (side, triggerBoundingBox, contentWidth, contentHeight) => {
  switch (side) {
    case 'start':
    case 'end':
    case 'left':
    case 'right':
      return {
        top: -((contentHeight / 2) - (triggerBoundingBox.height / 2)),
        left: 0
      };
    case 'top':
    case 'bottom':
    default:
      return {
        top: 0,
        left: -((contentWidth / 2) - (triggerBoundingBox.width / 2))
      };
  }
};
/**
 * Adjusts popover positioning coordinates
 * such that popover does not appear offscreen
 * or overlapping safe area bounds.
 */
const calculateWindowAdjustment = (side, coordTop, coordLeft, bodyPadding, bodyWidth, bodyHeight, contentWidth, contentHeight, safeAreaMargin, contentOriginX, contentOriginY, triggerCoordinates, coordArrowTop = 0, coordArrowLeft = 0, arrowHeight = 0) => {
  let arrowTop = coordArrowTop;
  const arrowLeft = coordArrowLeft;
  let left = coordLeft;
  let top = coordTop;
  let bottom;
  let originX = contentOriginX;
  let originY = contentOriginY;
  let checkSafeAreaLeft = false;
  let checkSafeAreaRight = false;
  const triggerTop = triggerCoordinates ? triggerCoordinates.top + triggerCoordinates.height : bodyHeight / 2 - contentHeight / 2;
  const triggerHeight = triggerCoordinates ? triggerCoordinates.height : 0;
  let addPopoverBottomClass = false;
  /**
   * Adjust popover so it does not
   * go off the left of the screen.
   */
  if (left < bodyPadding + safeAreaMargin) {
    left = bodyPadding;
    checkSafeAreaLeft = true;
    originX = 'left';
    /**
     * Adjust popover so it does not
     * go off the right of the screen.
     */
  }
  else if (contentWidth + bodyPadding + left + safeAreaMargin > bodyWidth) {
    checkSafeAreaRight = true;
    left = bodyWidth - contentWidth - bodyPadding;
    originX = 'right';
  }
  /**
   * Adjust popover so it does not
   * go off the top of the screen.
   * If popover is on the left or the right of
   * the trigger, then we should not adjust top
   * margins.
   */
  if (triggerTop + triggerHeight + contentHeight > bodyHeight &&
    (side === 'top' || side === 'bottom')) {
    if (triggerTop - contentHeight > 0) {
      top = triggerTop - contentHeight - triggerHeight - (arrowHeight - 1);
      arrowTop = top + contentHeight;
      originY = 'bottom';
      addPopoverBottomClass = true;
      /**
       * If not enough room for popover to appear
       * above trigger, then cut it off.
       */
    }
    else {
      bottom = bodyPadding;
    }
  }
  return { top, left, bottom, originX, originY, checkSafeAreaLeft, checkSafeAreaRight, arrowTop, arrowLeft, addPopoverBottomClass };
};
const shouldShowArrow = (side, didAdjustBounds = false, ev, trigger) => {
  /**
   * If no event provided and
   * we do not have a trigger,
   * then this popover was likely
   * presented via the popoverController
   * or users called `present` manually.
   * In this case, the arrow should not be
   * shown as we do not have a reference.
   */
  if (!ev && !trigger) {
    return false;
  }
  /**
   * If popover is on the left or the right
   * of a trigger, but we needed to adjust the
   * popover due to screen bounds, then we should
   * hide the arrow as it will never be pointing
   * at the trigger.
   */
  if (side !== 'top' && side !== 'bottom' && didAdjustBounds) {
    return false;
  }
  return true;
};

const POPOVER_IOS_BODY_PADDING = 5;
/**
 * iOS Popover Enter Animation
 */
const iosEnterAnimation$1 = (baseEl, opts) => {
  var _a;
  const { event: ev, size, trigger, reference, side, align } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const { arrowWidth, arrowHeight } = getArrowDimensions(arrowEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, arrowWidth, arrowHeight, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_IOS_BODY_PADDING;
  const margin = size === 'cover' ? 0 : 25;
  const { originX, originY, top, left, bottom, checkSafeAreaLeft, checkSafeAreaRight, arrowTop, arrowLeft, addPopoverBottomClass } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, margin, results.originX, results.originY, results.referenceCoordinates, results.arrowTop, results.arrowLeft, arrowHeight);
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(root.querySelector('.popover-wrapper'))
    .fromTo('opacity', 0.01, 1);
  return baseAnimation
    .easing('ease')
    .duration(100)
    .beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }
    if (addPopoverBottomClass) {
      baseEl.classList.add('popover-bottom');
    }
    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }
    const safeAreaLeft = ' + var(--ion-safe-area-left, 0)';
    const safeAreaRight = ' - var(--ion-safe-area-right, 0)';
    let leftValue = `${left}px`;
    if (checkSafeAreaLeft) {
      leftValue = `${left}px${safeAreaLeft}`;
    }
    if (checkSafeAreaRight) {
      leftValue = `${left}px${safeAreaRight}`;
    }
    contentEl.style.setProperty('top', `calc(${top}px + var(--offset-y, 0))`);
    contentEl.style.setProperty('left', `calc(${leftValue} + var(--offset-x, 0))`);
    contentEl.style.setProperty('transform-origin', `${originY} ${originX}`);
    if (arrowEl !== null) {
      const didAdjustBounds = results.top !== top || results.left !== left;
      const showArrow = shouldShowArrow(side, didAdjustBounds, ev, trigger);
      if (showArrow) {
        arrowEl.style.setProperty('top', `calc(${arrowTop}px + var(--offset-y, 0))`);
        arrowEl.style.setProperty('left', `calc(${arrowLeft}px + var(--offset-x, 0))`);
      }
      else {
        arrowEl.style.setProperty('display', 'none');
      }
    }
  })
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

/**
 * iOS Popover Leave Animation
 */
const iosLeaveAnimation$1 = (baseEl) => {
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const arrowEl = root.querySelector('.popover-arrow');
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(root.querySelector('.popover-wrapper'))
    .fromTo('opacity', 0.99, 0);
  return baseAnimation
    .easing('ease')
    .afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');
    if (arrowEl) {
      arrowEl.style.removeProperty('top');
      arrowEl.style.removeProperty('left');
      arrowEl.style.removeProperty('display');
    }
  })
    .duration(300)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const POPOVER_MD_BODY_PADDING = 12;
/**
 * Md Popover Enter Animation
 */
const mdEnterAnimation$1 = (baseEl, opts) => {
  var _a;
  const { event: ev, size, trigger, reference, side, align } = opts;
  const doc = baseEl.ownerDocument;
  const isRTL = doc.dir === 'rtl';
  const bodyWidth = doc.defaultView.innerWidth;
  const bodyHeight = doc.defaultView.innerHeight;
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const referenceSizeEl = trigger || ((_a = ev === null || ev === void 0 ? void 0 : ev.detail) === null || _a === void 0 ? void 0 : _a.ionShadowTarget) || (ev === null || ev === void 0 ? void 0 : ev.target);
  const { contentWidth, contentHeight } = getPopoverDimensions(size, contentEl, referenceSizeEl);
  const defaultPosition = {
    top: bodyHeight / 2 - contentHeight / 2,
    left: bodyWidth / 2 - contentWidth / 2,
    originX: isRTL ? 'right' : 'left',
    originY: 'top'
  };
  const results = getPopoverPosition(isRTL, contentWidth, contentHeight, 0, 0, reference, side, align, defaultPosition, trigger, ev);
  const padding = size === 'cover' ? 0 : POPOVER_MD_BODY_PADDING;
  const { originX, originY, top, left, bottom } = calculateWindowAdjustment(side, results.top, results.left, padding, bodyWidth, bodyHeight, contentWidth, contentHeight, 0, results.originX, results.originY, results.referenceCoordinates);
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const contentAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const viewportAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .fromTo('opacity', 0.01, 'var(--backdrop-opacity)')
    .beforeStyles({
    'pointer-events': 'none'
  })
    .afterClearStyles(['pointer-events']);
  wrapperAnimation
    .addElement(root.querySelector('.popover-wrapper'))
    .duration(150)
    .fromTo('opacity', 0.01, 1);
  contentAnimation
    .addElement(contentEl)
    .beforeStyles({
    'top': `calc(${top}px + var(--offset-y, 0px))`,
    'left': `calc(${left}px + var(--offset-x, 0px))`,
    'transform-origin': `${originY} ${originX}`
  })
    .beforeAddWrite(() => {
    if (bottom !== undefined) {
      contentEl.style.setProperty('bottom', `${bottom}px`);
    }
  })
    .fromTo('transform', 'scale(0.8)', 'scale(1)');
  viewportAnimation
    .addElement(root.querySelector('.popover-viewport'))
    .fromTo('opacity', 0.01, 1);
  return baseAnimation
    .easing('cubic-bezier(0.36,0.66,0.04,1)')
    .duration(300)
    .beforeAddWrite(() => {
    if (size === 'cover') {
      baseEl.style.setProperty('--width', `${contentWidth}px`);
    }
    if (originY === 'bottom') {
      baseEl.classList.add('popover-bottom');
    }
  })
    .addAnimation([backdropAnimation, wrapperAnimation, contentAnimation, viewportAnimation]);
};

/**
 * Md Popover Leave Animation
 */
const mdLeaveAnimation$1 = (baseEl) => {
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const contentEl = root.querySelector('.popover-content');
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const backdropAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  backdropAnimation
    .addElement(root.querySelector('ion-backdrop'))
    .fromTo('opacity', 'var(--backdrop-opacity)', 0);
  wrapperAnimation
    .addElement(root.querySelector('.popover-wrapper'))
    .fromTo('opacity', 0.99, 0);
  return baseAnimation
    .easing('ease')
    .afterAddWrite(() => {
    baseEl.style.removeProperty('--width');
    baseEl.classList.remove('popover-bottom');
    contentEl.style.removeProperty('top');
    contentEl.style.removeProperty('left');
    contentEl.style.removeProperty('bottom');
    contentEl.style.removeProperty('transform-origin');
  })
    .duration(150)
    .addAnimation([backdropAnimation, wrapperAnimation]);
};

const popoverIosCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, #e6e6e6)}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden}.popover-arrow::after{left:3px;top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:\"\";z-index:10}[dir=rtl] .popover-arrow::after,:host-context([dir=rtl]) .popover-arrow::after{left:unset;right:unset;right:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}";

const popoverMdCss = ":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001;pointer-events:none}:host(.popover-interactive) .popover-content,:host(.popover-interactive) ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{opacity:0;z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}.popover-viewport{--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}[dir=rtl] .popover-content,:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}";

let Popover = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPopoverDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPopoverWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPopoverWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionPopoverDidDismiss", 7);
    this.didPresentShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "didPresent", 7);
    this.willPresentShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "willPresent", 7);
    this.willDismissShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "willDismiss", 7);
    this.didDismissShorthand = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "didDismiss", 7);
    this.parentPopover = null;
    this.popoverIndex = popoverIds++;
    this.coreDelegate = (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.C)();
    this.inline = false;
    this.focusDescendantOnPresent = false;
    this.presented = false;
    /** @internal */
    this.hasController = false;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = true;
    /**
     * If `true`, the popover will be dismissed when the backdrop is clicked.
     */
    this.backdropDismiss = true;
    /**
     * If `true`, a backdrop will be displayed behind the popover.
     */
    this.showBackdrop = true;
    /**
     * If `true`, the popover will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the popover will animate.
     */
    this.animated = true;
    /**
     * Describes what kind of interaction with the trigger that
     * should cause the popover to open. Does not apply when the `trigger`
     * property is `undefined`.
     * If `'click'`, the popover will be presented when the trigger is left clicked.
     * If `'hover'`, the popover will be presented when a pointer hovers over the trigger.
     * If `'context-menu'`, the popover will be presented when the trigger is right
     * clicked on desktop and long pressed on mobile. This will also prevent your
     * device's normal context menu from appearing.
     */
    this.triggerAction = 'click';
    /**
     * Describes how to calculate the popover width.
     * If `'cover'`, the popover width will match the width of the trigger.
     * If `'auto'`, the popover width will be determined by the content in
     * the popover.
     */
    this.size = 'auto';
    /**
     * If `true`, the popover will be automatically
     * dismissed when the content has been clicked.
     */
    this.dismissOnSelect = false;
    /**
     * Describes what to position the popover relative to.
     * If `'trigger'`, the popover will be positioned relative
     * to the trigger button. If passing in an event, this is
     * determined via event.target.
     * If `'event'`, the popover will be positioned relative
     * to the x/y coordinates of the trigger action. If passing
     * in an event, this is determined via event.clientX and event.clientY.
     */
    this.reference = 'trigger';
    /**
     * Describes which side of the `reference` point to position
     * the popover on. The `'start'` and `'end'` values are RTL-aware,
     * and the `'left'` and `'right'` values are not.
     */
    this.side = 'bottom';
    /**
     * Describes how to align the popover content with the `reference` point.
     */
    this.alignment = 'start';
    /**
     * If `true`, the popover will display an arrow
     * that points at the `reference` when running in `ios` mode
     * on mobile. Does not apply in `md` mode or on desktop.
     */
    this.arrow = true;
    /**
     * If `true`, the popover will open. If `false`, the popover will close.
     * Use this if you need finer grained control over presentation, otherwise
     * just use the popoverController or the `trigger` property.
     * Note: `isOpen` will not automatically be set back to `false` when
     * the popover dismisses. You will need to do that in your code.
     */
    this.isOpen = false;
    /**
     * @internal
     *
     * If `true` the popover will not register its own keyboard event handlers.
     * This allows the contents of the popover to handle their own keyboard interactions.
     *
     * If `false`, the popover will register its own keyboard event handlers for
     * navigating `ion-list` items within a popover (up/down/home/end/etc.).
     * This will also cancel browser keyboard event bindings to prevent scroll
     * behavior in a popover using a list of items.
     */
    this.keyboardEvents = false;
    this.onDismiss = (ev) => {
      ev.stopPropagation();
      ev.preventDefault();
      this.dismiss();
    };
    this.onBackdropTap = () => {
      this.dismiss(undefined, BACKDROP);
    };
    this.onLifecycle = (modalEvent) => {
      const el = this.usersElement;
      const name = LIFECYCLE_MAP[modalEvent.type];
      if (el && name) {
        const event = new CustomEvent(name, {
          bubbles: false,
          cancelable: false,
          detail: modalEvent.detail
        });
        el.dispatchEvent(event);
      }
    };
    this.configureTriggerInteraction = () => {
      const { trigger, triggerAction, el, destroyTriggerInteraction } = this;
      if (destroyTriggerInteraction) {
        destroyTriggerInteraction();
      }
      const triggerEl = this.triggerEl = (trigger !== undefined) ? document.getElementById(trigger) : null;
      if (!triggerEl) {
        return;
      }
      this.destroyTriggerInteraction = configureTriggerInteraction(triggerEl, triggerAction, el);
    };
    this.configureKeyboardInteraction = () => {
      const { destroyKeyboardInteraction, el } = this;
      if (destroyKeyboardInteraction) {
        destroyKeyboardInteraction();
      }
      this.destroyKeyboardInteraction = configureKeyboardInteraction(el);
    };
    this.configureDismissInteraction = () => {
      const { destroyDismissInteraction, parentPopover, triggerAction, triggerEl, el } = this;
      if (!parentPopover || !triggerEl) {
        return;
      }
      if (destroyDismissInteraction) {
        destroyDismissInteraction();
      }
      this.destroyDismissInteraction = configureDismissInteraction(triggerEl, triggerAction, el, parentPopover);
    };
  }
  onTriggerChange() {
    this.configureTriggerInteraction();
  }
  onIsOpenChange(newValue, oldValue) {
    if (newValue === true && oldValue === false) {
      this.present();
    }
    else if (newValue === false && oldValue === true) {
      this.dismiss();
    }
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  componentWillLoad() {
    /**
     * If user has custom ID set then we should
     * not assign the default incrementing ID.
     */
    this.popoverId = (this.el.hasAttribute('id')) ? this.el.getAttribute('id') : `ion-popover-${this.popoverIndex}`;
    this.parentPopover = this.el.closest(`ion-popover:not(#${this.popoverId})`);
  }
  componentDidLoad() {
    const { parentPopover, isOpen } = this;
    /**
     * If popover was rendered with isOpen="true"
     * then we should open popover immediately.
     */
    if (isOpen === true) {
      (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.r)(() => this.present());
    }
    if (parentPopover) {
      (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.a)(parentPopover, 'ionPopoverWillDismiss', () => {
        this.dismiss(undefined, undefined, false);
      });
    }
    this.configureTriggerInteraction();
  }
  /**
   * When opening a popover from a trigger, we should not be
   * modifying the `event` prop from inside the component.
   * Additionally, when pressing the "Right" arrow key, we need
   * to shift focus to the first descendant in the newly presented
   * popover.
   *
   * @internal
   */
  async presentFromTrigger(event, focusDescendant = false) {
    this.focusDescendantOnPresent = focusDescendant;
    await this.present(event);
    this.focusDescendantOnPresent = false;
  }
  /**
   * Determines whether or not an overlay
   * is being used inline or via a controller/JS
   * and returns the correct delegate.
   * By default, subsequent calls to getDelegate
   * will use a cached version of the delegate.
   * This is useful for calling dismiss after
   * present so that the correct delegate is given.
   */
  getDelegate(force = false) {
    if (this.workingDelegate && !force) {
      return {
        delegate: this.workingDelegate,
        inline: this.inline
      };
    }
    /**
     * If using overlay inline
     * we potentially need to use the coreDelegate
     * so that this works in vanilla JS apps.
     * If a developer has presented this component
     * via a controller, then we can assume
     * the component is already in the
     * correct place.
     */
    const parentEl = this.el.parentNode;
    const inline = this.inline = parentEl !== null && !this.hasController;
    const delegate = this.workingDelegate = (inline) ? this.delegate || this.coreDelegate : this.delegate;
    return { inline, delegate };
  }
  /**
   * Present the popover overlay after it has been created.
   * Developers can pass a mouse, touch, or pointer event
   * to position the popover relative to where that event
   * was dispatched.
   */
  async present(event) {
    if (this.presented) {
      return;
    }
    /**
     * When using an inline popover
     * and dismissing a popover it is possible to
     * quickly present the popover while it is
     * dismissing. We need to await any current
     * transition to allow the dismiss to finish
     * before presenting again.
     */
    if (this.currentTransition !== undefined) {
      await this.currentTransition;
    }
    const data = Object.assign(Object.assign({}, this.componentProps), { popover: this.el });
    const { inline, delegate } = this.getDelegate(true);
    this.usersElement = await (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.a)(delegate, this.el, this.component, ['popover-viewport'], data, inline);
    await (0,_index_c8ef55b5_js__WEBPACK_IMPORTED_MODULE_9__.e)(this.usersElement);
    if (!this.keyboardEvents) {
      this.configureKeyboardInteraction();
    }
    this.configureDismissInteraction();
    this.currentTransition = present(this, 'popoverEnter', iosEnterAnimation$1, mdEnterAnimation$1, {
      event: event || this.event,
      size: this.size,
      trigger: this.triggerEl,
      reference: this.reference,
      side: this.side,
      align: this.alignment
    });
    await this.currentTransition;
    this.currentTransition = undefined;
    /**
     * If popover is nested and was
     * presented using the "Right" arrow key,
     * we need to move focus to the first
     * descendant inside of the popover.
     */
    if (this.focusDescendantOnPresent) {
      focusFirstDescendant(this.el, this.el);
    }
  }
  /**
   * Dismiss the popover overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the popover. For example, 'cancel' or 'backdrop'.
   * @param dismissParentPopover If `true`, dismissing this popover will also dismiss
   * a parent popover if this popover is nested. Defaults to `true`.
   */
  async dismiss(data, role, dismissParentPopover = true) {
    /**
     * When using an inline popover
     * and presenting a popover it is possible to
     * quickly dismiss the popover while it is
     * presenting. We need to await any current
     * transition to allow the present to finish
     * before dismissing again.
     */
    if (this.currentTransition !== undefined) {
      await this.currentTransition;
    }
    const { destroyKeyboardInteraction, destroyDismissInteraction } = this;
    if (dismissParentPopover && this.parentPopover) {
      this.parentPopover.dismiss(data, role, dismissParentPopover);
    }
    this.currentTransition = dismiss(this, data, role, 'popoverLeave', iosLeaveAnimation$1, mdLeaveAnimation$1, this.event);
    const shouldDismiss = await this.currentTransition;
    if (shouldDismiss) {
      if (destroyKeyboardInteraction) {
        destroyKeyboardInteraction();
        this.destroyKeyboardInteraction = undefined;
      }
      if (destroyDismissInteraction) {
        destroyDismissInteraction();
        this.destroyDismissInteraction = undefined;
      }
      /**
       * If using popover inline
       * we potentially need to use the coreDelegate
       * so that this works in vanilla JS apps
       */
      const { delegate } = this.getDelegate();
      await (0,_framework_delegate_a922018c_js__WEBPACK_IMPORTED_MODULE_7__.d)(delegate, this.usersElement);
    }
    this.currentTransition = undefined;
    return shouldDismiss;
  }
  /**
   * @internal
   */
  async getParentPopover() {
    return this.parentPopover;
  }
  /**
   * Returns a promise that resolves when the popover did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionPopoverDidDismiss');
  }
  /**
   * Returns a promise that resolves when the popover will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionPopoverWillDismiss');
  }
  render() {
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const { onLifecycle, popoverId, parentPopover, dismissOnSelect, presented, side, arrow, htmlAttributes } = this;
    const desktop = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.a)('desktop');
    const enableArrow = arrow && !parentPopover && !desktop;
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ "aria-modal": "true", "no-router": true, tabindex: "-1" }, htmlAttributes, { style: {
        zIndex: `${20000 + this.overlayIndex}`,
      }, id: popoverId, class: Object.assign(Object.assign({}, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), { [mode]: true, 'popover-translucent': this.translucent, 'overlay-hidden': true, 'popover-interactive': presented, 'popover-desktop': desktop, [`popover-side-${side}`]: true, 'popover-nested': !!parentPopover }), onIonPopoverDidPresent: onLifecycle, onIonPopoverWillPresent: onLifecycle, onIonPopoverWillDismiss: onLifecycle, onIonPopoverDidDismiss: onLifecycle, onIonDismiss: this.onDismiss, onIonBackdropTap: this.onBackdropTap }), !parentPopover && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-backdrop", { tappable: this.backdropDismiss, visible: this.showBackdrop, part: "backdrop" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "popover-wrapper ion-overlay-wrapper", onClick: dismissOnSelect ? () => this.dismiss() : undefined }, enableArrow && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "popover-arrow", part: "arrow" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "popover-content", part: "content" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot", null)))));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
  static get watchers() { return {
    "trigger": ["onTriggerChange"],
    "triggerAction": ["onTriggerChange"],
    "isOpen": ["onIsOpenChange"]
  }; }
};
const LIFECYCLE_MAP = {
  'ionPopoverDidPresent': 'ionViewDidEnter',
  'ionPopoverWillPresent': 'ionViewWillEnter',
  'ionPopoverWillDismiss': 'ionViewWillLeave',
  'ionPopoverDidDismiss': 'ionViewDidLeave',
};
let popoverIds = 0;
Popover.style = {
  ios: popoverIosCss,
  md: popoverMdCss
};

/**
 * iOS Toast Enter Animation
 */
const iosEnterAnimation = (baseEl, position) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;
  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperAnimation.fromTo('transform', 'translateY(-100%)', `translateY(${top})`);
      break;
    case 'middle':
      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);
      wrapperEl.style.top = `${topPosition}px`;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    default:
      wrapperAnimation.fromTo('transform', 'translateY(100%)', `translateY(${bottom})`);
      break;
  }
  return baseAnimation
    .easing('cubic-bezier(.155,1.105,.295,1.12)')
    .duration(400)
    .addAnimation(wrapperAnimation);
};

/**
 * iOS Toast Leave Animation
 */
const iosLeaveAnimation = (baseEl, position) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  const bottom = `calc(-10px - var(--ion-safe-area-bottom, 0px))`;
  const top = `calc(10px + var(--ion-safe-area-top, 0px))`;
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperAnimation.fromTo('transform', `translateY(${top})`, 'translateY(-100%)');
      break;
    case 'middle':
      wrapperAnimation.fromTo('opacity', 0.99, 0);
      break;
    default:
      wrapperAnimation.fromTo('transform', `translateY(${bottom})`, 'translateY(100%)');
      break;
  }
  return baseAnimation
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(300)
    .addAnimation(wrapperAnimation);
};

/**
 * MD Toast Enter Animation
 */
const mdEnterAnimation = (baseEl, position) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  const bottom = `calc(8px + var(--ion-safe-area-bottom, 0px))`;
  const top = `calc(8px + var(--ion-safe-area-top, 0px))`;
  wrapperAnimation.addElement(wrapperEl);
  switch (position) {
    case 'top':
      wrapperEl.style.top = top;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    case 'middle':
      const topPosition = Math.floor(baseEl.clientHeight / 2 - wrapperEl.clientHeight / 2);
      wrapperEl.style.top = `${topPosition}px`;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
    default:
      wrapperEl.style.bottom = bottom;
      wrapperAnimation.fromTo('opacity', 0.01, 1);
      break;
  }
  return baseAnimation
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(400)
    .addAnimation(wrapperAnimation);
};

/**
 * md Toast Leave Animation
 */
const mdLeaveAnimation = (baseEl) => {
  const baseAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const wrapperAnimation = (0,_animation_c9c2a359_js__WEBPACK_IMPORTED_MODULE_6__.c)();
  const root = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(baseEl);
  const wrapperEl = root.querySelector('.toast-wrapper');
  wrapperAnimation
    .addElement(wrapperEl)
    .fromTo('opacity', 0.99, 0);
  return baseAnimation
    .easing('cubic-bezier(.36,.66,.04,1)')
    .duration(300)
    .addAnimation(wrapperAnimation);
};

const toastIosCss = ":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}";

const toastMdCss = ":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}";

let Toast = class {
  constructor(hostRef) {
    (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.r)(this, hostRef);
    this.didPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionToastDidPresent", 7);
    this.willPresent = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionToastWillPresent", 7);
    this.willDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionToastWillDismiss", 7);
    this.didDismiss = (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.e)(this, "ionToastDidDismiss", 7);
    this.presented = false;
    /**
     * How many milliseconds to wait before hiding the toast. By default, it will show
     * until `dismiss()` is called.
     */
    this.duration = 0;
    /**
     * If `true`, the keyboard will be automatically dismissed when the overlay is presented.
     */
    this.keyboardClose = false;
    /**
     * The position of the toast on the screen.
     */
    this.position = 'bottom';
    /**
     * If `true`, the toast will be translucent.
     * Only applies when the mode is `"ios"` and the device supports
     * [`backdrop-filter`](https://developer.mozilla.org/en-US/docs/Web/CSS/backdrop-filter#Browser_compatibility).
     */
    this.translucent = false;
    /**
     * If `true`, the toast will animate.
     */
    this.animated = true;
    this.dispatchCancelHandler = (ev) => {
      const role = ev.detail.role;
      if (isCancel(role)) {
        const cancelButton = this.getButtons().find(b => b.role === 'cancel');
        this.callButtonHandler(cancelButton);
      }
    };
  }
  connectedCallback() {
    prepareOverlay(this.el);
  }
  /**
   * Present the toast overlay after it has been created.
   */
  async present() {
    await present(this, 'toastEnter', iosEnterAnimation, mdEnterAnimation, this.position);
    if (this.duration > 0) {
      this.durationTimeout = setTimeout(() => this.dismiss(undefined, 'timeout'), this.duration);
    }
  }
  /**
   * Dismiss the toast overlay after it has been presented.
   *
   * @param data Any data to emit in the dismiss events.
   * @param role The role of the element that is dismissing the toast.
   * This can be useful in a button handler for determining which button was
   * clicked to dismiss the toast.
   * Some examples include: ``"cancel"`, `"destructive"`, "selected"`, and `"backdrop"`.
   */
  dismiss(data, role) {
    if (this.durationTimeout) {
      clearTimeout(this.durationTimeout);
    }
    return dismiss(this, data, role, 'toastLeave', iosLeaveAnimation, mdLeaveAnimation, this.position);
  }
  /**
   * Returns a promise that resolves when the toast did dismiss.
   */
  onDidDismiss() {
    return eventMethod(this.el, 'ionToastDidDismiss');
  }
  /**
   * Returns a promise that resolves when the toast will dismiss.
   */
  onWillDismiss() {
    return eventMethod(this.el, 'ionToastWillDismiss');
  }
  getButtons() {
    const buttons = this.buttons
      ? this.buttons.map(b => {
        return (typeof b === 'string')
          ? { text: b }
          : b;
      })
      : [];
    return buttons;
  }
  async buttonClick(button) {
    const role = button.role;
    if (isCancel(role)) {
      return this.dismiss(undefined, role);
    }
    const shouldDismiss = await this.callButtonHandler(button);
    if (shouldDismiss) {
      return this.dismiss(undefined, role);
    }
    return Promise.resolve();
  }
  async callButtonHandler(button) {
    if (button && button.handler) {
      // a handler has been provided, execute it
      // pass the handler the values from the inputs
      try {
        const rtn = await safeCall(button.handler);
        if (rtn === false) {
          // if the return value of the handler is false then do not dismiss
          return false;
        }
      }
      catch (e) {
        console.error(e);
      }
    }
    return true;
  }
  renderButtons(buttons, side) {
    if (buttons.length === 0) {
      return;
    }
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const buttonGroupsClasses = {
      'toast-button-group': true,
      [`toast-button-group-${side}`]: true
    };
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: buttonGroupsClasses }, buttons.map(b => (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("button", { type: "button", class: buttonClass(b), tabIndex: 0, onClick: () => this.buttonClick(b), part: "button" }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "toast-button-inner" }, b.icon &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon", { icon: b.icon, slot: b.text === undefined ? 'icon-only' : undefined, class: "toast-button-icon" }), b.text), mode === 'md' && (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-ripple-effect", { type: b.icon !== undefined && b.text === undefined ? 'unbounded' : 'bounded' })))));
  }
  render() {
    const allButtons = this.getButtons();
    const startButtons = allButtons.filter(b => b.side === 'start');
    const endButtons = allButtons.filter(b => b.side !== 'start');
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(this);
    const wrapperClass = {
      'toast-wrapper': true,
      [`toast-${this.position}`]: true
    };
    const role = allButtons.length > 0 ? 'dialog' : 'status';
    return ((0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.H, Object.assign({ role: role, tabindex: "-1" }, this.htmlAttributes, { style: {
        zIndex: `${60000 + this.overlayIndex}`,
      }, class: (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.c)(this.color, Object.assign(Object.assign({ [mode]: true }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(this.cssClass)), { 'overlay-hidden': true, 'toast-translucent': this.translucent })), onIonToastWillDismiss: this.dispatchCancelHandler }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: wrapperClass }, (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "toast-container", part: "container" }, this.renderButtons(startButtons, 'start'), this.icon !== undefined &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("ion-icon", { class: "toast-icon", part: "icon", icon: this.icon, lazy: false, "aria-hidden": "true" }), (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "toast-content" }, this.header !== undefined &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "toast-header", part: "header" }, this.header), this.message !== undefined &&
      (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.h)("div", { class: "toast-message", part: "message", innerHTML: (0,_index_c841c933_js__WEBPACK_IMPORTED_MODULE_4__.s)(this.message) })), this.renderButtons(endButtons, 'end')))));
  }
  get el() { return (0,_index_06cd27b1_js__WEBPACK_IMPORTED_MODULE_0__.i)(this); }
};
const buttonClass = (button) => {
  return Object.assign({ 'toast-button': true, 'toast-button-icon-only': button.icon !== undefined && button.text === undefined, [`toast-button-${button.role}`]: button.role !== undefined, 'ion-focusable': true, 'ion-activatable': true }, (0,_theme_a24ff1ad_js__WEBPACK_IMPORTED_MODULE_5__.g)(button.cssClass));
};
Toast.style = {
  ios: toastIosCss,
  md: toastMdCss
};

let lastId = 0;
const activeAnimations = new WeakMap();
const createController = (tagName, customElement) => {
  return {
    create(options) {
      return createOverlay(tagName, options, customElement);
    },
    dismiss(data, role, id) {
      return dismissOverlay(document, data, role, tagName, id);
    },
    async getTop() {
      return getOverlay(document, tagName);
    }
  };
};
const alertController = /*@__PURE__*/ createController('ion-alert', Alert);
const actionSheetController = /*@__PURE__*/ createController('ion-action-sheet', ActionSheet);
const loadingController = /*@__PURE__*/ createController('ion-loading', Loading);
const modalController = /*@__PURE__*/ createController('ion-modal', Modal);
const pickerController = /*@__PURE__*/ createController('ion-picker', Picker);
const popoverController = /*@__PURE__*/ createController('ion-popover', Popover);
const toastController = /*@__PURE__*/ createController('ion-toast', Toast);
const prepareOverlay = (el) => {
  /* tslint:disable-next-line */
  if (typeof document !== 'undefined') {
    connectListeners(document);
  }
  const overlayIndex = lastId++;
  el.overlayIndex = overlayIndex;
  if (!el.hasAttribute('id')) {
    el.id = `ion-overlay-${overlayIndex}`;
  }
};
const createOverlay = (tagName, opts, customElement) => {
  /* tslint:disable-next-line */
  if (typeof window.customElements !== 'undefined') {
    if (typeof window !== 'undefined' &&
      window.customElements &&
      !window.customElements.get(tagName)) {
      window.customElements.define(tagName, customElement);
    }
    return window.customElements.whenDefined(tagName).then(() => {
      const element = document.createElement(tagName);
      element.classList.add('overlay-hidden');
      /**
       * Convert the passed in overlay options into props
       * that get passed down into the new overlay.
       */
      Object.assign(element, Object.assign(Object.assign({}, opts), { hasController: true }));
      // append the overlay element to the document body
      getAppRoot(document).appendChild(element);
      return new Promise(resolve => (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.c)(element, resolve));
    });
  }
  return Promise.resolve();
};
const focusableQueryString = '[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])';
const innerFocusableQueryString = 'input:not([type=hidden]), textarea, button, select';
const focusFirstDescendant = (ref, overlay) => {
  let firstInput = ref.querySelector(focusableQueryString);
  const shadowRoot = firstInput && firstInput.shadowRoot;
  if (shadowRoot) {
    // If there are no inner focusable elements, just focus the host element.
    firstInput = shadowRoot.querySelector(innerFocusableQueryString) || firstInput;
  }
  if (firstInput) {
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.f)(firstInput);
  }
  else {
    // Focus overlay instead of letting focus escape
    overlay.focus();
  }
};
const focusLastDescendant = (ref, overlay) => {
  const inputs = Array.from(ref.querySelectorAll(focusableQueryString));
  let lastInput = inputs.length > 0 ? inputs[inputs.length - 1] : null;
  const shadowRoot = lastInput && lastInput.shadowRoot;
  if (shadowRoot) {
    // If there are no inner focusable elements, just focus the host element.
    lastInput = shadowRoot.querySelector(innerFocusableQueryString) || lastInput;
  }
  if (lastInput) {
    lastInput.focus();
  }
  else {
    // Focus overlay instead of letting focus escape
    overlay.focus();
  }
};
/**
 * Traps keyboard focus inside of overlay components.
 * Based on https://w3c.github.io/aria-practices/examples/dialog-modal/alertdialog.html
 * This includes the following components: Action Sheet, Alert, Loading, Modal,
 * Picker, and Popover.
 * Should NOT include: Toast
 */
const trapKeyboardFocus = (ev, doc) => {
  const lastOverlay = getOverlay(doc);
  const target = ev.target;
  /**
   * If no active overlay, ignore this event.
   *
   * If this component uses the shadow dom,
   * this global listener is pointless
   * since it will not catch the focus
   * traps as they are inside the shadow root.
   * We need to add a listener to the shadow root
   * itself to ensure the focus trap works.
   */
  if (!lastOverlay || !target) {
    return;
  }
  const trapScopedFocus = () => {
    /**
     * If we are focusing the overlay, clear
     * the last focused element so that hitting
     * tab activates the first focusable element
     * in the overlay wrapper.
     */
    if (lastOverlay === target) {
      lastOverlay.lastFocus = undefined;
      /**
       * Otherwise, we must be focusing an element
       * inside of the overlay. The two possible options
       * here are an input/button/etc or the ion-focus-trap
       * element. The focus trap element is used to prevent
       * the keyboard focus from leaving the overlay when
       * using Tab or screen assistants.
       */
    }
    else {
      /**
       * We do not want to focus the traps, so get the overlay
       * wrapper element as the traps live outside of the wrapper.
       */
      const overlayRoot = (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.g)(lastOverlay);
      if (!overlayRoot.contains(target)) {
        return;
      }
      const overlayWrapper = overlayRoot.querySelector('.ion-overlay-wrapper');
      if (!overlayWrapper) {
        return;
      }
      /**
       * If the target is inside the wrapper, let the browser
       * focus as normal and keep a log of the last focused element.
       */
      if (overlayWrapper.contains(target)) {
        lastOverlay.lastFocus = target;
      }
      else {
        /**
         * Otherwise, we must have focused one of the focus traps.
         * We need to wrap the focus to either the first element
         * or the last element.
         */
        /**
         * Once we call `focusFirstDescendant` and focus the first
         * descendant, another focus event will fire which will
         * cause `lastOverlay.lastFocus` to be updated before
         * we can run the code after that. We will cache the value
         * here to avoid that.
         */
        const lastFocus = lastOverlay.lastFocus;
        // Focus the first element in the overlay wrapper
        focusFirstDescendant(overlayWrapper, lastOverlay);
        /**
         * If the cached last focused element is the
         * same as the active element, then we need
         * to wrap focus to the last descendant. This happens
         * when the first descendant is focused, and the user
         * presses Shift + Tab. The previous line will focus
         * the same descendant again (the first one), causing
         * last focus to equal the active element.
         */
        if (lastFocus === doc.activeElement) {
          focusLastDescendant(overlayWrapper, lastOverlay);
        }
        lastOverlay.lastFocus = doc.activeElement;
      }
    }
  };
  const trapShadowFocus = () => {
    /**
     * If the target is inside the wrapper, let the browser
     * focus as normal and keep a log of the last focused element.
     */
    if (lastOverlay.contains(target)) {
      lastOverlay.lastFocus = target;
    }
    else {
      /**
       * Otherwise, we are about to have focus
       * go out of the overlay. We need to wrap
       * the focus to either the first element
       * or the last element.
       */
      /**
       * Once we call `focusFirstDescendant` and focus the first
       * descendant, another focus event will fire which will
       * cause `lastOverlay.lastFocus` to be updated before
       * we can run the code after that. We will cache the value
       * here to avoid that.
       */
      const lastFocus = lastOverlay.lastFocus;
      // Focus the first element in the overlay wrapper
      focusFirstDescendant(lastOverlay, lastOverlay);
      /**
       * If the cached last focused element is the
       * same as the active element, then we need
       * to wrap focus to the last descendant. This happens
       * when the first descendant is focused, and the user
       * presses Shift + Tab. The previous line will focus
       * the same descendant again (the first one), causing
       * last focus to equal the active element.
       */
      if (lastFocus === doc.activeElement) {
        focusLastDescendant(lastOverlay, lastOverlay);
      }
      lastOverlay.lastFocus = doc.activeElement;
    }
  };
  if (lastOverlay.shadowRoot) {
    trapShadowFocus();
  }
  else {
    trapScopedFocus();
  }
};
const connectListeners = (doc) => {
  if (lastId === 0) {
    lastId = 1;
    doc.addEventListener('focus', ev => trapKeyboardFocus(ev, doc), true);
    // handle back-button click
    doc.addEventListener('ionBackButton', ev => {
      const lastOverlay = getTopOpenOverlay(doc);
      if (lastOverlay && lastOverlay.backdropDismiss) {
        ev.detail.register(_hardware_back_button_ace6a71b_js__WEBPACK_IMPORTED_MODULE_11__.OVERLAY_BACK_BUTTON_PRIORITY, () => {
          return lastOverlay.dismiss(undefined, BACKDROP);
        });
      }
    });
    // handle ESC to close overlay
    doc.addEventListener('keyup', ev => {
      if (ev.key === 'Escape') {
        const lastOverlay = getTopOpenOverlay(doc);
        if (lastOverlay && lastOverlay.backdropDismiss) {
          lastOverlay.dismiss(undefined, BACKDROP);
        }
      }
    });
  }
};
const dismissOverlay = (doc, data, role, overlayTag, id) => {
  const overlay = getOverlay(doc, overlayTag, id);
  if (!overlay) {
    return Promise.reject('overlay does not exist');
  }
  return overlay.dismiss(data, role);
};
const getOverlays = (doc, selector) => {
  if (selector === undefined) {
    selector = 'ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast';
  }
  return Array.from(doc.querySelectorAll(selector))
    .filter(c => c.overlayIndex > 0);
};
/**
 * Gets the top-most/last opened
 * overlay that is currently presented.
 */
const getTopOpenOverlay = (doc) => {
  const overlays = getOverlays(doc);
  for (let i = overlays.length - 1; i >= 0; i--) {
    const overlay = overlays[i];
    /**
     * Only consider overlays that
     * are presented. Presented overlays
     * will not have the .overlay-hidden
     * class on the host.
     */
    if (!overlay.classList.contains('overlay-hidden')) {
      return overlay;
    }
  }
  return;
};
const getOverlay = (doc, overlayTag, id) => {
  const overlays = getOverlays(doc, overlayTag);
  return (id === undefined)
    ? overlays[overlays.length - 1]
    : overlays.find(o => o.id === id);
};
/**
 * When an overlay is presented, the main
 * focus is the overlay not the page content.
 * We need to remove the page content from the
 * accessibility tree otherwise when
 * users use "read screen from top" gestures with
 * TalkBack and VoiceOver, the screen reader will begin
 * to read the content underneath the overlay.
 *
 * We need a container where all page components
 * exist that is separate from where the overlays
 * are added in the DOM. For most apps, this element
 * is the top most ion-router-outlet. In the event
 * that devs are not using a router,
 * they will need to add the "ion-view-container-root"
 * id to the element that contains all of their views.
 *
 * TODO: If Framework supports having multiple top
 * level router outlets we would need to update this.
 * Example: One outlet for side menu and one outlet
 * for main content.
 */
const setRootAriaHidden = (hidden = false) => {
  const root = getAppRoot(document);
  const viewContainer = root.querySelector('ion-router-outlet, ion-nav, #ion-view-container-root');
  if (!viewContainer) {
    return;
  }
  if (hidden) {
    viewContainer.setAttribute('aria-hidden', 'true');
  }
  else {
    viewContainer.removeAttribute('aria-hidden');
  }
};
const present = async (overlay, name, iosEnterAnimation, mdEnterAnimation, opts) => {
  var _a, _b;
  if (overlay.presented) {
    return;
  }
  setRootAriaHidden(true);
  overlay.presented = true;
  overlay.willPresent.emit();
  (_a = overlay.willPresentShorthand) === null || _a === void 0 ? void 0 : _a.emit();
  const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(overlay);
  // get the user's animation fn if one was provided
  const animationBuilder = (overlay.enterAnimation)
    ? overlay.enterAnimation
    : _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get(name, mode === 'ios' ? iosEnterAnimation : mdEnterAnimation);
  const completed = await overlayAnimation(overlay, animationBuilder, overlay.el, opts);
  if (completed) {
    overlay.didPresent.emit();
    (_b = overlay.didPresentShorthand) === null || _b === void 0 ? void 0 : _b.emit();
  }
  /**
   * When an overlay that steals focus
   * is dismissed, focus should be returned
   * to the element that was focused
   * prior to the overlay opening. Toast
   * does not steal focus and is excluded
   * from returning focus as a result.
   */
  if (overlay.el.tagName !== 'ION-TOAST') {
    focusPreviousElementOnDismiss(overlay.el);
  }
  if (overlay.keyboardClose) {
    overlay.el.focus();
  }
};
/**
 * When an overlay component is dismissed,
 * focus should be returned to the element
 * that presented the overlay. Otherwise
 * focus will be set on the body which
 * means that people using screen readers
 * or tabbing will need to re-navigate
 * to where they were before they
 * opened the overlay.
 */
const focusPreviousElementOnDismiss = async (overlayEl) => {
  let previousElement = document.activeElement;
  if (!previousElement) {
    return;
  }
  const shadowRoot = previousElement && previousElement.shadowRoot;
  if (shadowRoot) {
    // If there are no inner focusable elements, just focus the host element.
    previousElement = shadowRoot.querySelector(innerFocusableQueryString) || previousElement;
  }
  await overlayEl.onDidDismiss();
  previousElement.focus();
};
const dismiss = async (overlay, data, role, name, iosLeaveAnimation, mdLeaveAnimation, opts) => {
  var _a, _b;
  if (!overlay.presented) {
    return false;
  }
  setRootAriaHidden(false);
  overlay.presented = false;
  try {
    // Overlay contents should not be clickable during dismiss
    overlay.el.style.setProperty('pointer-events', 'none');
    overlay.willDismiss.emit({ data, role });
    (_a = overlay.willDismissShorthand) === null || _a === void 0 ? void 0 : _a.emit({ data, role });
    const mode = (0,_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.b)(overlay);
    const animationBuilder = (overlay.leaveAnimation)
      ? overlay.leaveAnimation
      : _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get(name, mode === 'ios' ? iosLeaveAnimation : mdLeaveAnimation);
    // If dismissed via gesture, no need to play leaving animation again
    if (role !== 'gesture') {
      await overlayAnimation(overlay, animationBuilder, overlay.el, opts);
    }
    overlay.didDismiss.emit({ data, role });
    (_b = overlay.didDismissShorthand) === null || _b === void 0 ? void 0 : _b.emit({ data, role });
    activeAnimations.delete(overlay);
    // Make overlay hidden again in case it is being reused
    overlay.el.classList.add('overlay-hidden');
  }
  catch (err) {
    console.error(err);
  }
  overlay.el.remove();
  return true;
};
const getAppRoot = (doc) => {
  return doc.querySelector('ion-app') || doc.body;
};
const overlayAnimation = async (overlay, animationBuilder, baseEl, opts) => {
  // Make overlay visible in case it's hidden
  baseEl.classList.remove('overlay-hidden');
  const aniRoot = overlay.el;
  const animation = animationBuilder(aniRoot, opts);
  if (!overlay.animated || !_ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.getBoolean('animated', true)) {
    animation.duration(0);
  }
  if (overlay.keyboardClose) {
    animation.beforeAddWrite(() => {
      const activeElement = baseEl.ownerDocument.activeElement;
      if (activeElement && activeElement.matches('input,ion-input, ion-textarea')) {
        activeElement.blur();
      }
    });
  }
  const activeAni = activeAnimations.get(overlay) || [];
  activeAnimations.set(overlay, [...activeAni, animation]);
  await animation.play();
  return true;
};
const eventMethod = (element, eventName) => {
  let resolve;
  const promise = new Promise(r => resolve = r);
  onceEvent(element, eventName, (event) => {
    resolve(event.detail);
  });
  return promise;
};
const onceEvent = (element, eventName, callback) => {
  const handler = (ev) => {
    (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.b)(element, eventName, handler);
    callback(ev);
  };
  (0,_helpers_eed79a2b_js__WEBPACK_IMPORTED_MODULE_8__.a)(element, eventName, handler);
};
const isCancel = (role) => {
  return role === 'cancel' || role === BACKDROP;
};
const defaultGate = (h) => h();
/**
 * Calls a developer provided method while avoiding
 * Angular Zones. Since the handler is provided by
 * the developer, we should throw any errors
 * received so that developer-provided bug
 * tracking software can log it.
 */
const safeCall = (handler, arg) => {
  if (typeof handler === 'function') {
    const jmp = _ionic_global_a049bcbf_js__WEBPACK_IMPORTED_MODULE_1__.c.get('_zoneGate', defaultGate);
    return jmp(() => {
      try {
        return handler(arg);
      }
      catch (e) {
        throw e;
      }
    });
  }
  return undefined;
};
const BACKDROP = 'backdrop';




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm/theme-a24ff1ad.js":
/*!********************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/theme-a24ff1ad.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "c": () => (/* binding */ createColorClasses),
/* harmony export */   "g": () => (/* binding */ getClassMap),
/* harmony export */   "h": () => (/* binding */ hostContext),
/* harmony export */   "o": () => (/* binding */ openURL)
/* harmony export */ });
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const hostContext = (selector, el) => {
  return el.closest(selector) !== null;
};
/**
 * Create the mode and color classes for the component based on the classes passed in
 */
const createColorClasses = (color, cssClassMap) => {
  return (typeof color === 'string' && color.length > 0) ? Object.assign({ 'ion-color': true, [`ion-color-${color}`]: true }, cssClassMap) : cssClassMap;
};
const getClassList = (classes) => {
  if (classes !== undefined) {
    const array = Array.isArray(classes) ? classes : classes.split(' ');
    return array
      .filter(c => c != null)
      .map(c => c.trim())
      .filter(c => c !== '');
  }
  return [];
};
const getClassMap = (classes) => {
  const map = {};
  getClassList(classes).forEach(c => map[c] = true);
  return map;
};
const SCHEME = /^[a-z][a-z0-9+\-.]*:/;
const openURL = async (url, ev, direction, animation) => {
  if (url != null && url[0] !== '#' && !SCHEME.test(url)) {
    const router = document.querySelector('ion-router');
    if (router) {
      if (ev != null) {
        ev.preventDefault();
      }
      return router.push(url, direction, animation);
    }
  }
  return false;
};




/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*************************************************************************************************************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/esm/ lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*************************************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./ion-accordion_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-accordion_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-accordion_2_entry_js"
	],
	"./ion-action-sheet.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-action-sheet.entry.js",
		"node_modules_ionic_core_dist_esm_ion-action-sheet_entry_js"
	],
	"./ion-alert.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-alert.entry.js",
		"node_modules_ionic_core_dist_esm_ion-alert_entry_js"
	],
	"./ion-app_8.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-app_8.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-app_8_entry_js"
	],
	"./ion-avatar_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-avatar_3.entry.js",
		"node_modules_ionic_core_dist_esm_ion-avatar_3_entry_js"
	],
	"./ion-back-button.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-back-button.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-back-button_entry_js"
	],
	"./ion-backdrop.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-backdrop.entry.js",
		"node_modules_ionic_core_dist_esm_ion-backdrop_entry_js"
	],
	"./ion-breadcrumb_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-breadcrumb_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-breadcrumb_2_entry_js"
	],
	"./ion-button_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-button_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-button_2_entry_js"
	],
	"./ion-card_5.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-card_5.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-card_5_entry_js"
	],
	"./ion-checkbox.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-checkbox.entry.js",
		"node_modules_ionic_core_dist_esm_ion-checkbox_entry_js"
	],
	"./ion-chip.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-chip.entry.js",
		"node_modules_ionic_core_dist_esm_ion-chip_entry_js"
	],
	"./ion-col_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-col_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-col_3_entry_js"
	],
	"./ion-datetime_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-datetime_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-datetime_3_entry_js"
	],
	"./ion-fab_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-fab_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-fab_3_entry_js"
	],
	"./ion-img.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-img.entry.js",
		"node_modules_ionic_core_dist_esm_ion-img_entry_js"
	],
	"./ion-infinite-scroll_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js"
	],
	"./ion-input.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-input.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-input_entry_js"
	],
	"./ion-item-option_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-item-option_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-item-option_3_entry_js"
	],
	"./ion-item_8.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-item_8.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-item_8_entry_js"
	],
	"./ion-loading.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-loading.entry.js",
		"node_modules_ionic_core_dist_esm_ion-loading_entry_js"
	],
	"./ion-menu_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-menu_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-menu_3_entry_js"
	],
	"./ion-modal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-modal.entry.js",
		"node_modules_ionic_core_dist_esm_ion-modal_entry_js"
	],
	"./ion-nav_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-nav_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-nav_2_entry_js"
	],
	"./ion-picker-column-internal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-picker-column-internal.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js"
	],
	"./ion-picker-internal.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-picker-internal.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-picker-internal_entry_js"
	],
	"./ion-popover.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-popover.entry.js",
		"node_modules_ionic_core_dist_esm_ion-popover_entry_js"
	],
	"./ion-progress-bar.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-progress-bar.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-progress-bar_entry_js"
	],
	"./ion-radio_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-radio_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-radio_2_entry_js"
	],
	"./ion-range.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-range.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-range_entry_js"
	],
	"./ion-refresher_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-refresher_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js"
	],
	"./ion-reorder_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-reorder_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js"
	],
	"./ion-ripple-effect.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-ripple-effect.entry.js",
		"node_modules_ionic_core_dist_esm_ion-ripple-effect_entry_js"
	],
	"./ion-route_4.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-route_4.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-route_4_entry_js"
	],
	"./ion-searchbar.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-searchbar.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-searchbar_entry_js"
	],
	"./ion-segment_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-segment_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-segment_2_entry_js"
	],
	"./ion-select_3.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-select_3.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-select_3_entry_js"
	],
	"./ion-slide_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-slide_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-slide_2_entry_js"
	],
	"./ion-spinner.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-spinner.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-spinner_entry_js"
	],
	"./ion-split-pane.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-split-pane.entry.js",
		"node_modules_ionic_core_dist_esm_ion-split-pane_entry_js"
	],
	"./ion-tab-bar_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-tab-bar_2.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-tab-bar_2_entry_js"
	],
	"./ion-tab_2.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js",
		"node_modules_ionic_core_dist_esm_ion-tab_2_entry_js"
	],
	"./ion-text.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-text.entry.js",
		"node_modules_ionic_core_dist_esm_ion-text_entry_js"
	],
	"./ion-textarea.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-textarea.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-textarea_entry_js"
	],
	"./ion-toast.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-toast.entry.js",
		"node_modules_ionic_core_dist_esm_ion-toast_entry_js"
	],
	"./ion-toggle.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-toggle.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-toggle_entry_js"
	],
	"./ion-virtual-scroll.entry.js": [
		"../../../node_modules/@ionic/core/dist/esm/ion-virtual-scroll.entry.js",
		"vendors-node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(() => {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return __webpack_require__.e(ids[1]).then(() => {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = () => (Object.keys(map));
webpackAsyncContext.id = "../../../node_modules/@ionic/core/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "../../../node_modules/@ionic/core/dist/index.js":
/*!*******************************************************!*\
  !*** ../../../node_modules/@ionic/core/dist/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IonicSafeString": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.IonicSafeString),
/* harmony export */   "IonicSlides": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.IonicSlides),
/* harmony export */   "IonicSwiper": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.IonicSwiper),
/* harmony export */   "LIFECYCLE_DID_ENTER": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.LIFECYCLE_DID_ENTER),
/* harmony export */   "LIFECYCLE_DID_LEAVE": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.LIFECYCLE_DID_LEAVE),
/* harmony export */   "LIFECYCLE_WILL_ENTER": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.LIFECYCLE_WILL_ENTER),
/* harmony export */   "LIFECYCLE_WILL_LEAVE": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.LIFECYCLE_WILL_LEAVE),
/* harmony export */   "LIFECYCLE_WILL_UNLOAD": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.LIFECYCLE_WILL_UNLOAD),
/* harmony export */   "actionSheetController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.actionSheetController),
/* harmony export */   "alertController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.alertController),
/* harmony export */   "componentOnReady": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.componentOnReady),
/* harmony export */   "createAnimation": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.createAnimation),
/* harmony export */   "createGesture": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.createGesture),
/* harmony export */   "getMode": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.getMode),
/* harmony export */   "getPlatforms": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.getPlatforms),
/* harmony export */   "getTimeGivenProgression": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.getTimeGivenProgression),
/* harmony export */   "initialize": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.initialize),
/* harmony export */   "iosTransitionAnimation": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.iosTransitionAnimation),
/* harmony export */   "isPlatform": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.isPlatform),
/* harmony export */   "loadingController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.loadingController),
/* harmony export */   "mdTransitionAnimation": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.mdTransitionAnimation),
/* harmony export */   "menuController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.menuController),
/* harmony export */   "modalController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.modalController),
/* harmony export */   "pickerController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.pickerController),
/* harmony export */   "popoverController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.popoverController),
/* harmony export */   "setupConfig": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.setupConfig),
/* harmony export */   "toastController": () => (/* reexport safe */ _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__.toastController)
/* harmony export */ });
/* harmony import */ var _esm_es5_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./esm-es5/index.js */ "../../../node_modules/@ionic/core/dist/esm-es5/index.js");


/***/ }),

/***/ "../../../node_modules/applicationstate/index.js":
/*!*******************************************************!*\
  !*** ../../../node_modules/applicationstate/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_application_state__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/application_state */ "../../../node_modules/applicationstate/src/application_state.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_src_application_state__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "../../../node_modules/applicationstate/plugins/indexeddb/index.js":
/*!*************************************************************************!*\
  !*** ../../../node_modules/applicationstate/plugins/indexeddb/index.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "StateLoader": () => (/* reexport safe */ _src_loader_js__WEBPACK_IMPORTED_MODULE_0__.StateLoader),
/* harmony export */   "StatePersistence": () => (/* reexport safe */ _src_persistence_js__WEBPACK_IMPORTED_MODULE_1__.StatePersistence),
/* harmony export */   "init": () => (/* binding */ init),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_loader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/loader.js */ "../../../node_modules/applicationstate/plugins/indexeddb/src/loader.js");
/* harmony import */ var _src_persistence_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/persistence.js */ "../../../node_modules/applicationstate/plugins/indexeddb/src/persistence.js");



const init = async (app_state, db_name) => {
    (0,_src_loader_js__WEBPACK_IMPORTED_MODULE_0__.setupLoader)(app_state);
    (0,_src_persistence_js__WEBPACK_IMPORTED_MODULE_1__.setupPersistence)(app_state);

    if (db_name) {
        new _src_persistence_js__WEBPACK_IMPORTED_MODULE_1__.StatePersistence(db_name);
        return _src_loader_js__WEBPACK_IMPORTED_MODULE_0__.StateLoader.load(db_name);
    }

    return Promise.resolve();
}


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({ StateLoader: _src_loader_js__WEBPACK_IMPORTED_MODULE_0__.StateLoader, StatePersistence: _src_persistence_js__WEBPACK_IMPORTED_MODULE_1__.StatePersistence, init });


/***/ }),

/***/ "../../../node_modules/applicationstate/plugins/indexeddb/src/loader.js":
/*!******************************************************************************!*\
  !*** ../../../node_modules/applicationstate/plugins/indexeddb/src/loader.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setupLoader": () => (/* binding */ setupLoader),
/* harmony export */   "StateLoader": () => (/* binding */ StateLoader)
/* harmony export */ });
/* harmony import */ var dexie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dexie */ "../../../node_modules/dexie/dist/dexie.es.js");



let ApplicationState;

const setupLoader = (app_state) => {
    ApplicationState = app_state;
}

/**
 * Utility class to handle loading saved state and setting up application state
 */
class StateLoader {
    /**
     * Initialize and load state for use with ApplicationState.
     * @param {String} db_name The name of the indexeddb to use to hold application state.
     */
    static async load(db_name) {
        if (!db_name) throw "The load method requires a database name";

        var state = {};
        let db = new dexie__WEBPACK_IMPORTED_MODULE_0__["default"](db_name);
        db.version(1).stores(
            {
                application_state: 'key'
            }
        );

        //prevent application from responding to state loading. also prevents wasted rewrite on
        //state persistence app listener
        ApplicationState.disable_notfication();

        let count = await db.application_state.count();
        if (!count)
            return ApplicationState.enable_notification();

        return db.application_state.each(
            (row) => {
                //if row is undefined, we've processed all rows
                if (!row) {
                    ApplicationState.enable_notification();
                }
                let { key, value } = row;
                //deserialize stringified literals, i.e. '1' -> 1
                // The try catch slows things down, but we don't have a choice.  For the most part
                // JSON.parse() just takes a value and passes it on if it's a number, date, object or array,
                // In the case of strings, it sometimes fails.
                try {
                    value = JSON.parse(value);
                } catch (e) {
                    //noop
                }
                //put 'app' back in the path
                try {
                    ApplicationState._assignValue("app." + key, value);
                } catch (e) {
                    // we can't do that
                }
            }
        )
            // Ensure that notifications are re-enabled after all rows are processed
            .then(() => {
                ApplicationState.enable_notification();
            })
            .catch((err) => {
                ApplicationState.enable_notification();
            });
    }

}


/***/ }),

/***/ "../../../node_modules/applicationstate/plugins/indexeddb/src/persistence.js":
/*!***********************************************************************************!*\
  !*** ../../../node_modules/applicationstate/plugins/indexeddb/src/persistence.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setupPersistence": () => (/* binding */ setupPersistence),
/* harmony export */   "StatePersistence": () => (/* binding */ StatePersistence)
/* harmony export */ });
/* harmony import */ var dexie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dexie */ "../../../node_modules/dexie/dist/dexie.es.js");




let ApplicationState;

const setupPersistence = (app_state) => {
    ApplicationState = app_state;
}

/**
 * Utility class that listens for changes to the root 'app' state and persists them to native storage
 * using React's AsyncStorage class
 */
class StatePersistence {
    /**
     * Construct a new instance of StatePersistence for the indicated database.
     * @param {String} db_name The name of the database to write to.
     */
    constructor(db_name) {
        let db = new dexie__WEBPACK_IMPORTED_MODULE_0__["default"](db_name);
        db.version(1).stores(
            {
                application_state: 'key'
            }
        );
        this.db = db;
        this.operation_queue = [];

        ApplicationState.listen('app', this.onAppChange.bind(this));
    }

    /**
     * Listen for a change in the application state and persist it in an optimized way.
     * We queue changes to ensure operations happen in order, since db writes and reads are async.
     * 
     * @param state
     * @param previous_state
     * @param modified_name
     */
    async onAppChange(state, previous_state, modified_name) {
        if (ApplicationState._options[modified_name]) {
            let persist = ApplicationState._options[modified_name]['persist'];
            if (!persist)
                return;
        }

        let sub_path = modified_name.replace('app.', '');

        //first we need to chop off the 'app.' part of the path, since the object we're receiving /is/ 'app'
        //modified_name = modified_name.replace('app.', '');
        let value = ApplicationState._resolvePath(sub_path, state);

        this.operation_queue.push({
            state: state,
            full_path: modified_name,
            sub_path: sub_path,
            //deep clone object so we have a copy to ensure it hasn't been changed by the time we process it
            value: (typeof value === 'undefined') ? value : JSON.parse(JSON.stringify(value))
        });
        //if there are already items in the queue, they are being worked by another 'thread'
        if (this.operation_queue.length > 1)
            return;

        try {
            await processQueue.bind(this)();
        }
        catch(err) {
            alert("Error saving state: " + JSON.stringify(error));
            console.trace(error);
        }

        async function processQueue() {
            if (this.operation_queue.length == 0)
                return;
            const item = this.operation_queue[0];

            //derive leaf keys and values from the state, if it's an object.
            //for an object, we only want to store leaf values, otherwise reconstruction
            //will be broken - i.e., if we pull a JSON object and assign it, but then we also pull a leaf
            //node that was set explicitly, who wins? to avoid that, we flatten all objects into a key list
            //and store the values associated with the flattened key. StateLoader will reverse this process
            let full_path = item.full_path;
            let sub_path = item.sub_path;
            let state = item.state;
            let value = item.value;

            //this code is a hellatious christmas tree because dexie hates async/await
            //first, clear the existing keys out
            //keys to remove
            let keys_to_remove = [];

            //TODO: at some point, try to make transactions work. after hours of struggle, can't get
            //dexie transactions to work right, so giving up.

            //get all the keys and check to see if they contain our path
            let primary_keys = await this.db.application_state.toCollection().primaryKeys();

            for (let i = 0; i < primary_keys.length; i++) {
                const key = primary_keys[i];
                if (key.indexOf(sub_path) == 0) {
                    //we need to make sure we're deleting the right stuff here.
                    //consider the case of setting 'app.location' while we have
                    //another setting that's 'locationPrevious'
                    if (key.length > sub_path.length)
                        if (key[sub_path.length] != '.')
                            continue;

                    keys_to_remove.push(primary_keys[i]);
                }

            }

            if (keys_to_remove.length)
                await this.db.application_state.bulkDelete(keys_to_remove);

            //now do an optimized write
            let immutable = ApplicationState._options[full_path] && ApplicationState._options[full_path]['immutable'];

            if (value && (typeof value === 'object') && !immutable) {
                let flattened = ApplicationState.flatten(value, sub_path);
                try {
                    await this.db.application_state.bulkPut(flattened);
                }
                catch(err) {
                    alert("Error saving state: " + JSON.stringify(error));
                    console.trace(error);
                }
            }
            else {
                let serialized_value = JSON.stringify(value);
                if (!serialized_value) serialized_value = "";
                try {
                    await this.db.application_state.put({ key: sub_path, value: serialized_value });
                }
                catch(err) {
                    alert("Error saving state: " + JSON.stringify(error));
                    console.trace(error);
                }
            }

            this.operation_queue.shift();
            await processQueue.bind(this)();
        }
    };
}


/***/ }),

/***/ "../../../node_modules/applicationstate/src/application_state.js":
/*!***********************************************************************!*\
  !*** ../../../node_modules/applicationstate/src/application_state.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/**
 * This class maintains the overall application state in a platform-agnostic way.
 * Application states are key-value pairs, where the value is normally an object, but can be any serializable
 * data type.
 * A useful feature of this class is that all changes to the application state are stored, and can be restored via
 * a simple call to undo(name)
 *
 * @author Clay Gulick
 */
class ApplicationState {

    /**
     * Return the value for the specific state instance
     * @param name
     * @returns {*}
     */
    static get(name) {
        name = ApplicationState._dereferencePath(name);
        return ApplicationState._resolvePath(name);
    }

    /**
     * Gets a specified path, or sets it with the default values if it's not present.
     * @param {String} name The path to either get or set.
     * @param {*} defaults The value to set if not present.
     * @param {Object} options The options object to use for this path.
     */
    static getOrSet(name, defaults, options) {
        const value = ApplicationState.get(name);
        if (value !== undefined) return value;

        ApplicationState.set(name, defaults, options);

        return ApplicationState.get(name);
    }

    /**
     * Register a callback for listening to changes to the state.
     * @param name
     * @param callback function Of the form callback(new_value, old_value) where value will be passed to the callback
     * @returns {String} The listener key to pass back when removing the listener.
     */
    static listen(name, callback) {
        if (!ApplicationState._listeners[name])
            ApplicationState._listeners[name] = [];
        ApplicationState._listenerKey++;
        callback._listenerKey = ApplicationState._listenerKey;
        ApplicationState._listeners[name].push(callback);
        return callback._listenerKey;
    }

    /**
     * Remove the listener on the specified name for the specified key
     * @param name
     * @param key
     */
    static removeListener(name, key) {
        if (!ApplicationState._listeners[name]) return;

        for (let index = 0; index < ApplicationState._listeners[name].length; index++) {
            if (ApplicationState._listeners[name][index]._listenerKey == key) {
                ApplicationState._listeners[name].splice(index, 1);
            }
        }
    }

    /**
     * Set the state value, triggers listeners.
     * If name is a dotted expression, i.e. app.jobs.12345 then any listeners on "parent" elements will also be
     * notified of the change. So, for example if set is called on 'app.jobs.12345' and there is a listener on 'app.jobs'
     * then the 'app.jobs' listener will also be notified, and so on.
     * @param name
     * @param value
     * @param options object {notify: true, immutable: false, persist: true}
     */
    static async set(name, value, options) {
        name = ApplicationState._dereferencePath(name);
        let default_options = {
            //trigger notifications?
            notify: true,
            //a specific list of paths to exclude from being notified
            exclude_notification_paths: [],
            //a list of specific listener keys that should not be notified of changes
            exclude_notification_listeners: [],
            //is this a changeable object?
            immutable: false,
            //should this value be persisted?
            persist: true,
            //do we want to maintain previous state?
            save_previous: true
        };
        options = Object.assign(default_options, options);
        ApplicationState._options[name] = options;
        if (!ApplicationState._previousState[name] && options.save_previous)
            ApplicationState._previousState[name] = [];
        if (options.save_previous) {
            let previous_value = ApplicationState._resolvePath(name);
            if (!(typeof previous_value === 'undefined'))
                ApplicationState._previousState[name].push(previous_value);
        }
        ApplicationState._assignValue(name, value);
        await ApplicationState.notify(name, false, options);
    }


    /**
     * Internal utility function to set value at a dotted path
     * @param path
     * @param value
     * @param object Object optional object that can be substituted for use instead of ApplicationState._state
     * @private
     */
    static _assignValue(path, value, object) {
        object = object || ApplicationState._state;

        const nodes = ApplicationState.walk(path);

        for (let index = 0; index < nodes.length; index++) {
            const node = nodes[index];
            switch (node.type) {
                case 'object':
                    if (typeof object[node.name] === 'undefined') {
                        object[node.name] = {};
                    }
                    object = object[node.name];
                    break;
                case 'array':
                    if (typeof object[node.name] === 'undefined') {
                        object[node.name] = [];
                    }
                    object = object[node.name];
                    break;
                case 'leaf':
                    return object[node.name] = value;
                    break;
            }
        }

        throw Error("We should have returned after setting the value.");
    }

    /**
     * Similar to *nix ln command, this creates a "symlink" between nodes
     * Example: ApplicationState.ln('app.assessments.1234', 'app.current_assessment');
     * @param target string The path to the real, existing node that a link is being created for
     * @param link_path string The path to the new symlink
     */
    static ln(target, link_path) {
        if (!ApplicationState._symlinks)
            ApplicationState._symlinks = {};
        //this is an optimization to store backrefs from targeted nodes. It makes lookups for notifications fast
        if (!ApplicationState._reverse_symlinks)
            ApplicationState._reverse_symlinks = {};

        target = ApplicationState._dereferencePath(target);
        let parts = link_path.split('.');
        let leaf = parts.slice(-1);
        //dereference the parent path so that its materialized.
        let parent_path = ApplicationState._dereferencePath(parts.slice(0, -1).join('.'));
        link_path = parent_path + '.' + leaf;

        ApplicationState._symlinks[link_path] = target;
        if (!(ApplicationState._reverse_symlinks[target]))
            ApplicationState._reverse_symlinks[target] = [];
        //a node can be referred to by multiple symlinks, so we store an array
        ApplicationState._reverse_symlinks[target].push(link_path);
    }

    /**
     * Delete the specified path. If the target is a symlink, only the symlink will be removed.
     * If a node pointed to by a symlink is deleted, the symlink will also be deleted.
     *
     * @param target
     * @param object an optional alternate object to operate on instead of ApplicationState._state
     */
    static async rm(target, object) {
        object = object || ApplicationState._state;
        let original_path = target; //save this for notifications
        if (target === 'app')
            return;
        if (!target)
            return;

        target = ApplicationState._materializePath(target);

        function removeSymlink(target, keep_referrers) {
            let link_target = ApplicationState._symlinks[target];
            delete ApplicationState._symlinks[target];

            if (!keep_referrers) {
                let referrers = ApplicationState._reverse_symlinks[link_target];
                referrers.splice(referrers.indexOf(target), 1);
            }
        }

        function isSymlink(target) {
            return !!(ApplicationState._symlinks && ApplicationState._symlinks[target]);
        }

        function referredTo(target) {
            return !!(ApplicationState._reverse_symlinks && ApplicationState._reverse_symlinks[target]);
        }

        //first, check to see if this is a symlink. If so, just remove it from the symlink trackers
        if (isSymlink(target))
            return removeSymlink(target);

        if (referredTo(target)) {
            for (let index = 0; index < ApplicationState._reverse_symlinks[target].length; index++) {
                removeSymlink(target, true);
            }
            delete ApplicationState._reverse_symlinks[target];
        }

        let parts = ApplicationState.walk(target);
        let leaf = parts.slice(-1)[0];
        //strip off the leaf
        parts = parts.slice(0, -1);

        for (let i = 0; i < parts.length; i++) {
            object = object[parts[i].name];
            if (typeof object === 'undefined')
                throw new Error('Undefined target in ApplicationState.rm: ' + target);
        }

        if (leaf.parent_type === "array") {
            object.splice(leaf.name, 1);
        } else {
            delete object[leaf.name];
        }

        let options = ApplicationState._options[original_path];
        if (!options)
            options = {
                //trigger notifications?
                notify: true,
                //a specific list of paths to exclude from being notified
                exclude_notification_paths: [],
                //a list of specific listener keys that should not be notified of changes
                exclude_notification_listeners: [],
                //is this a changeable object?
                immutable: false,
                //should this value be persisted?
                persist: true,
                //do we want to maintain previous state?
                save_previous: true
            };
        await ApplicationState.notify(original_path, false, options);
    }

    /**
     * Return a materialized path that follows symlinks in the original path.
     * Example:
     * ApplicationState.ln('app.assessments.1234','app.current_assessment');
     * ApplicationState.ln('app.current_assessment.topics.bathing', 'app.current_assessment.topics.current_topic');
     *
     * ApplicationState._dereferencePath('app.current_assessment.topics.current_topic')
     * returns: 'app.assessments.1234.topics.bathing'
     * @param path
     * @private
     */
    static _dereferencePath(path) {
        if (!ApplicationState._symlinks)
            return path;

        const nodes = ApplicationState.walk(path);

        for (let index = 0; index < nodes.length; index++) {
            const node = nodes[index];
            if (ApplicationState._symlinks[node.path]) {
                path = path.replace(node.path, ApplicationState._symlinks[node.path]);
                return ApplicationState._dereferencePath(path);
            }
        }

        return path;
    }

    /**
     * This essentially does the opposite of _dereferencePath, which is that it will return an array of all combinations
     * of symlinks that point to this path.
     * Example:
     * ApplicationState.ln('app.assessments.1234','app.current_assessment');
     * ApplicationState.ln('app.current_assessment.topics.bathing', 'app.current_assessment.topics.current_topic');
     *
     * ApplicationState._reverseSymlink('app.assessments.1234.topics.bathing.value')
     * returns: [
     * 'app.assessments.1234.topics.current_topic.value',
     * 'app.current_assessment.topics.current_topic.value',
     * 'app.current_assessment.topics.bathing.value'
     * ]
     * @param path
     * @private
     */
    static _reverseSymlink(path) {
        if (path.indexOf('.') < 0) return [];
        let symlinks = [];
        let resolved_symlinks = [];

        function addParentSymlinks(path) {
            let parts = path.split('.');
            let leaf = parts.slice(-1);
            let parent_path = parts.slice(0, -1).join('.');
            let parent_symlinks = ApplicationState._reverseSymlink(parent_path);
            for (let index = 0; index < parent_symlinks.length; index++) {
                resolved_symlinks.push(parent_symlinks[index] + "." + leaf);
            }
        }

        if (ApplicationState._reverse_symlinks[path])
            symlinks = ApplicationState._reverse_symlinks[path];

        for (let index = 0; index < symlinks.length; index++) {
            addParentSymlinks(symlinks[index]);
        }

        addParentSymlinks(path);

        return symlinks.concat(resolved_symlinks);
    }

    /**
     * This is similar to _deferencePath, except it will not completely dereference the path, it will only dereference
     * the parent path of the pointed to node
     * Example:
     * ApplicationState.ln('app.assessments.1234','app.current_assessment');
     * ApplicationState.ln('app.current_assessment.topics.bathing', 'app.current_assessment.topics.current_topic');
     *
     * ApplicationState._materializePath('app.current_assessment.topics.current_topic')
     * returns: 'app.assessments.1234.topics.current_topic'
     * Application.ln(
     * @param path
     * @private
     */
    static _materializePath(path) {
        let parts = path.split('.');
        let leaf = parts.slice(-1);
        //dereference the parent path so that its materialized.
        let parent_path = ApplicationState._dereferencePath(parts.slice(0, -1).join('.'));
        return parent_path + '.' + leaf;
    }

    /**
     * Internal utility function to dereference dotted path to a specific object/value
     * @param path either a simple string key, a dotted string or an array that indicates the path
     * @param object Object optional object that can be substituted for use instead of ApplicationState._state
     * @private
     */
    static _resolvePath(path, object) {
        if (typeof path !== 'string') throw Error("Requires a string, got an " + typeof path + " that " + Array.isArray(path) ? "is" : 0);

        object = object || ApplicationState._state;
        const nodes = ApplicationState.walk(path);

        for (let index = 0; index < nodes.length; index++) {
            const node = nodes[index];
            object = object[node.name];
            if (typeof object === 'undefined') return undefined;
            if (object === null) return null;
        }

        return object;
    }

    /**
     * Triggers a notification, or 'get' of a value in the application state.
     * @param name
     * @param explicit Boolean indicate whether to notify up/down the hierarchy
     */
    static async notify(name, explicit, options) {
        if (ApplicationState._disable_notification) return;

        /**
         * Send the actual notification.
         *
         * @param listener
         * @param name the place in the hierachy that's triggering the send
         * @param modified_name the name of the hierarchical key that was actually modified, may be different than `name`
         */
        async function send(listener, name, modified_name) {
            if (options.exclude_notification_listeners.indexOf(listener._listenerKey) >= 0)
                return;

            name = ApplicationState._dereferencePath(name);
            if (ApplicationState._previousState[name]) {
                return await listener(
                    ApplicationState._resolvePath(name),
                    ApplicationState._previousState[name][ApplicationState._previousState[name].length - 1],
                    modified_name
                );
            }

            //no previous state, set undefined
            await listener(ApplicationState._resolvePath(name), undefined, modified_name);
        }

        /**
         * If there's a symlink that points to this path, invoke any listeners on the symlink
         * @param name
         */
        async function notifySymlink(name) {
            if (!ApplicationState._symlinks)
                return;

            //if there's a symlink that refers to this path
            let symlinks = ApplicationState._reverseSymlink(name);
            //and there's a listener on that symlink, trigger that notification
            for (let index = 0; index < symlinks.length; index++) {
                const symlink = symlinks[index];
                if (!ApplicationState._listeners[symlink]) return;
                if (options.exclude_notification_paths.indexOf(symlink) >= 0) return;

                const symlink_listeners = ApplicationState._listeners[symlink];
                for (let listener_index = 0; listener_index < symlink_listeners.lenth; listener_index++) {
                    await send(symlink_listeners[listener_index], symlink);
                }
            }
        }

        //notify listeners up the hierarchy
        async function notifyUp(name) {
            const nodes = ApplicationState.walk(name);
            for (let index = 0; index < nodes.length; index++) {
                const node = nodes[index];
                if (node.type === "leaf") continue;
                await notifySymlink(node.path);
                if (options.exclude_notification_paths.indexOf(node.path) >= 0) continue;

                if (ApplicationState._listeners[node.path]) {
                    const listeners = ApplicationState._listeners[node.path];
                    for (let index = 0; index < listeners.length; index++) {
                        await send(listeners[index], node.path, name);
                    }
                }
            }
        }

        //notify on an explicit name
        async function notifyExplicit(name) {
            await notifySymlink(name);

            if (!ApplicationState._listeners[name]) return;
            if (options.exclude_notification_paths.indexOf(name) >= 0) return;

            const listeners = ApplicationState._listeners[name];
            for (let index = 0; index < listeners.length; index++) {
                await send(listeners[index], name);
            }
        }

        // recursively notify down the hierarchy
        // This function doesn't just notify down the chain of the string name, it goes across all sub-objects and arrays.
        async function notifyDown(name) {
            const obj = ApplicationState._resolvePath(name);
            if (!obj) return;
            if (!(typeof obj === 'object')) return;

            if (Array.isArray(obj)) {
                const lngth = obj.length;
                for (let index = 0; index < lngth; index++) {
                    const subname = name + "[" + index + "]";
                    await notifySymlink(subname);
                    if (options.exclude_notification_paths.indexOf(subname) >= 0)
                        return await notifyDown(subname);

                    if (ApplicationState._listeners[subname]) {
                        const subname_listeners = ApplicationState._listeners[subname];
                        for (let subname_index = 0; subname_index < subname_listeners.length; subname_index++) {
                            await send(subname_listeners[subname_index], subname, name);
                        }
                    }

                    await notifyDown(subname);
                }
            } else {
                const keys = Object.keys(obj);
                for (let index = 0; index < keys.length; index++) {
                    const subname = name + "." + keys[index];
                    await notifySymlink(subname);
                    if (options.exclude_notification_paths.indexOf(subname) >= 0)
                        return await notifyDown(subname);

                    if (ApplicationState._listeners[subname]) {
                        const listeners = ApplicationState._listeners[subname];
                        for (let subname_index = 0; subname_index < listeners.length; subname_index++) {
                            await send(listeners[subname_index], subname, name);
                        }
                    }

                    await notifyDown(subname);
                }
            }
        }

        if (!explicit)
            await notifyUp(name);

        await notifyExplicit(name);

        if (!explicit)
            await notifyDown(name);

    }

    /**
     * Revert changes to state for the specific name. Note: this honors the hierarchy, so it will navigate through all
     * child names and undo any changes below it. So, for example, if you were to call undo('app')  and 'app' was the top
     * level key in your application, any changes to any child of app will be rewound, 'app.login', 'app.user.role' etc...
     *
     * If there is no previous state for the specified value, it will be set to undefined.
     * @param name
     */
    static undo(name) {
        //this is just a regular key, no dotted path
        if (name.indexOf('.') < 0) {
            if (!ApplicationState._previousState[name])
                return ApplicationState._state[name] = undefined;
            ApplicationState._state[name] = ApplicationState._previousState[name].pop();
            return;
        }

        //we have a dotted name
        var names = name.split('.');
        for (let i = names.length; i > 0; i--) {
            name = names.slice(0, i).join('.');

            if (!ApplicationState._state[name]) continue;
            if (!ApplicationState._previousState[name])
                return ApplicationState._state[name] = undefined;
            ApplicationState._state[name] = ApplicationState._previousState[name].pop();
        }
    }

    /**
     * Allow for disabling notifications, in the case where application state needs to be modified without
     * triggering listeners
     */
    static disable_notfication() {
        ApplicationState._disable_notification = true;
    }

    /**
     * Reenable notifications
     */
    static enable_notification() {
        ApplicationState._disable_notification = false;
    }

    /**
     * Convert an object to a 2d array, where each element is [key,value]. Key is the full dotted path.
     * @param obj
     * @param path
     * @param flattened
     * @return object object containing keys and values of the flattened object
     */
    static flatten(obj, path, flattened) {
        if (!flattened) flattened = [];
        if (!path) path = "";

        // convert to a dotted path
        let keys = Object.keys(obj);
        let is_array = Array.isArray(obj);
        for (let i = 0; i < keys.length; i++) {
            let value = obj[keys[i]];
            let new_path;

            if (is_array) {
                new_path = path + (path ? "[" + keys[i] + "]" : "");
            } else {
                new_path = path + (path ? "." : "") + keys[i];
            }

            if (value && (typeof value === 'object')) {
                this.flatten(value, new_path, flattened);
                continue;
            }

            value = JSON.stringify(value);
            if (!value) value = JSON.stringify(null);
            flattened.push({ key: new_path, value: value });
        }

        return flattened;
    }

    static walk(reference) {
        let start_index = 0;
        let end_index;
        let ref;
        let path;
        let type;
        let parent_ref;
        let parent_path;
        let parent_type;

        const nodes = [];

        if (reference[0] === "[") {
            throw Error("Root node cannot be an array");
        }

        const evaluateParentPath = function (name, path, type) {
            let parent_path;
            if (!path) {
                return "";
            }

            if (type === "array") {
                parent_path = path.replace("[" + name + "]", "");
            } else {
                parent_path = path.replace("." + name, "");
            }

            return parent_path;
        };

        for (end_index = 0; end_index < reference.length; end_index++) {
            // We don't want to try to process if the indexes match
            if (start_index === end_index) continue;

            if (reference[start_index] === "." ||
                reference[start_index] === "[" ||
                reference[start_index] === "]"
            ) {
                start_index++;
            }

            if (reference[end_index] === ".") {
                ref = reference.substring(start_index, end_index);
                path = reference.substring(0, end_index);
                start_index = end_index + 1;
                type = "object";

                nodes.push({
                    name: ref,
                    path: path,
                    parent: parent_ref,
                    parent_path: evaluateParentPath(ref, path, parent_type),
                    parent_type: parent_type,
                    type: type
                });

                parent_ref = ref;
                parent_type = type;

                continue;
            }

            if (reference[end_index] === "[") {
                ref = reference.substring(start_index, end_index);
                path = reference.substring(0, end_index);
                start_index = end_index + 1;
                type = "array";

                nodes.push({
                    name: ref,
                    path: path,
                    parent: parent_ref,
                    parent_path: evaluateParentPath(ref, path, parent_type),
                    parent_type: parent_type,
                    type: type
                });

                parent_ref = ref;
                parent_type = type;

                continue;
            }

            if (reference[end_index] === "]") {
                ref = reference.substring(start_index, end_index);
                path = reference.substring(0, end_index + 1);

                // This is the end of the string
                if (end_index + 1 === reference.length) {
                    nodes.push({
                        name: parseInt(ref),
                        path: path,
                        parent: parent_ref,
                        parent_path: evaluateParentPath(ref, path, parent_type),
                        parent_type: parent_type,
                        type: "leaf"
                    });

                    parent_ref = ref;

                    return nodes;
                } else {
                    type = reference[end_index + 1] === "[" ? "array" : "object";
                    nodes.push({
                        name: parseInt(ref),
                        path: path,
                        parent: parent_ref,
                        parent_path: evaluateParentPath(ref, path, parent_type),
                        parent_type: parent_type,
                        type: type
                    });

                    parent_ref = ref;
                    parent_type = type;
                }

                start_index = end_index + 1;
            }
        }

        // we've made it all the way through, don't do a final yield
        if (start_index === end_index + 1) return nodes;

        nodes.push({
            name: reference.substring(start_index),
            path: reference,
            parent: parent_ref,
            parent_path: evaluateParentPath(reference, path, parent_type),
            parent_type: parent_type,
            type: "leaf"
        });

        return nodes;
    }
}

ApplicationState._previousState = {};
ApplicationState._state = {};
ApplicationState._listeners = [];
ApplicationState._listenerKey = 0;
ApplicationState._options = {};

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ApplicationState);


/***/ }),

/***/ "../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/@ionic/core/css/ionic.bundle.css":
/*!***********************************************************************************************************!*\
  !*** ../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/@ionic/core/css/ionic.bundle.css ***!
  \***********************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "../../../node_modules/css-loader/dist/runtime/api.js");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.id, "html.ios{--ion-default-font:-apple-system,BlinkMacSystemFont,\"Helvetica Neue\",\"Roboto\",sans-serif}html.md{--ion-default-font:\"Roboto\",\"Helvetica Neue\",sans-serif}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal ion-footer ion-toolbar:first-of-type,html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width:768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity:0.18}}ion-modal.modal-default:not(.overlay-hidden)~ion-modal.modal-default{--backdrop-opacity:0;--box-shadow:none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base:var(--ion-color-primary, #3880ff)!important;--ion-color-base-rgb:var(--ion-color-primary-rgb, 56, 128, 255)!important;--ion-color-contrast:var(--ion-color-primary-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-primary-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-primary-shade, #3171e0)!important;--ion-color-tint:var(--ion-color-primary-tint, #4c8dff)!important}.ion-color-secondary{--ion-color-base:var(--ion-color-secondary, #3dc2ff)!important;--ion-color-base-rgb:var(--ion-color-secondary-rgb, 61, 194, 255)!important;--ion-color-contrast:var(--ion-color-secondary-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-secondary-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-secondary-shade, #36abe0)!important;--ion-color-tint:var(--ion-color-secondary-tint, #50c8ff)!important}.ion-color-tertiary{--ion-color-base:var(--ion-color-tertiary, #5260ff)!important;--ion-color-base-rgb:var(--ion-color-tertiary-rgb, 82, 96, 255)!important;--ion-color-contrast:var(--ion-color-tertiary-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-tertiary-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-tertiary-shade, #4854e0)!important;--ion-color-tint:var(--ion-color-tertiary-tint, #6370ff)!important}.ion-color-success{--ion-color-base:var(--ion-color-success, #2dd36f)!important;--ion-color-base-rgb:var(--ion-color-success-rgb, 45, 211, 111)!important;--ion-color-contrast:var(--ion-color-success-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-success-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-success-shade, #28ba62)!important;--ion-color-tint:var(--ion-color-success-tint, #42d77d)!important}.ion-color-warning{--ion-color-base:var(--ion-color-warning, #ffc409)!important;--ion-color-base-rgb:var(--ion-color-warning-rgb, 255, 196, 9)!important;--ion-color-contrast:var(--ion-color-warning-contrast, #000)!important;--ion-color-contrast-rgb:var(--ion-color-warning-contrast-rgb, 0, 0, 0)!important;--ion-color-shade:var(--ion-color-warning-shade, #e0ac08)!important;--ion-color-tint:var(--ion-color-warning-tint, #ffca22)!important}.ion-color-danger{--ion-color-base:var(--ion-color-danger, #eb445a)!important;--ion-color-base-rgb:var(--ion-color-danger-rgb, 235, 68, 90)!important;--ion-color-contrast:var(--ion-color-danger-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-danger-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-danger-shade, #cf3c4f)!important;--ion-color-tint:var(--ion-color-danger-tint, #ed576b)!important}.ion-color-light{--ion-color-base:var(--ion-color-light, #f4f5f8)!important;--ion-color-base-rgb:var(--ion-color-light-rgb, 244, 245, 248)!important;--ion-color-contrast:var(--ion-color-light-contrast, #000)!important;--ion-color-contrast-rgb:var(--ion-color-light-contrast-rgb, 0, 0, 0)!important;--ion-color-shade:var(--ion-color-light-shade, #d7d8da)!important;--ion-color-tint:var(--ion-color-light-tint, #f5f6f9)!important}.ion-color-medium{--ion-color-base:var(--ion-color-medium, #92949c)!important;--ion-color-base-rgb:var(--ion-color-medium-rgb, 146, 148, 156)!important;--ion-color-contrast:var(--ion-color-medium-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-medium-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-medium-shade, #808289)!important;--ion-color-tint:var(--ion-color-medium-tint, #9d9fa6)!important}.ion-color-dark{--ion-color-base:var(--ion-color-dark, #222428)!important;--ion-color-base-rgb:var(--ion-color-dark-rgb, 34, 36, 40)!important;--ion-color-contrast:var(--ion-color-dark-contrast, #fff)!important;--ion-color-contrast-rgb:var(--ion-color-dark-contrast-rgb, 255, 255, 255)!important;--ion-color-shade:var(--ion-color-dark-shade, #1e2023)!important;--ion-color-tint:var(--ion-color-dark-tint, #383a3e)!important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;overflow:hidden;z-index:0}.split-pane-visible>.ion-page.split-pane-main{position:relative}.ion-page-hidden,[hidden],ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-menu-controller,ion-modal-controller,ion-nav-controller,ion-picker-controller,ion-popover-controller,ion-route,ion-route-redirect,ion-router,ion-select-option,ion-toast-controller{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding:20px}@supports (padding-top:20px){html{--ion-safe-area-top:var(--ion-statusbar-padding)}}@supports (padding-top:constant(safe-area-inset-top)){html{--ion-safe-area-top:constant(safe-area-inset-top);--ion-safe-area-bottom:constant(safe-area-inset-bottom);--ion-safe-area-left:constant(safe-area-inset-left);--ion-safe-area-right:constant(safe-area-inset-right)}}@supports (padding-top:env(safe-area-inset-top)){html{--ion-safe-area-top:env(safe-area-inset-top);--ion-safe-area-bottom:env(safe-area-inset-bottom);--ion-safe-area-left:env(safe-area-inset-left);--ion-safe-area-right:env(safe-area-inset-right)}}ion-card-header.ion-color .ion-inherit-color,ion-card.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translate3d(0,0,0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-push,.md .menu-content-reveal{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item{--border-width:0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:transform .3s cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion:reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width:0px;--inner-border-width:0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%;border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}input,label,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}.ion-tappable,[tappable],[tappable] div,[tappable] ion-icon,[tappable] ion-label,[tappable] span,a,a div,a ion-icon,a ion-label,a span,button,button div,button ion-icon,button ion-label,button span,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=checkbox],input[type=radio]{padding:0;box-sizing:border-box}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{--ion-font-family:var(--ion-default-font);width:100%;height:100%;text-size-adjust:100%;font-family:var(--ion-font-family)}html:not(.hydrated) body{display:none}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{background:var(--ion-background-color);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;text-size-adjust:none;margin:0;padding:0}a{background-color:transparent;color:var(--ion-color-primary,#3880ff)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:26px}h2{margin-top:18px;font-size:24px}h3{font-size:22px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-no-padding{--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;padding:0}.ion-padding{--padding-start:var(--ion-padding, 16px);--padding-end:var(--ion-padding, 16px);--padding-top:var(--ion-padding, 16px);--padding-bottom:var(--ion-padding, 16px);padding-left:var(--ion-padding,16px);padding-right:var(--ion-padding,16px);padding-top:var(--ion-padding,16px);padding-bottom:var(--ion-padding,16px)}@supports (margin-inline-start:0) or (-webkit-margin-start:0){.ion-padding{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-padding,16px);padding-inline-start:var(--ion-padding,16px);-webkit-padding-end:var(--ion-padding,16px);padding-inline-end:var(--ion-padding,16px)}}.ion-padding-top{--padding-top:var(--ion-padding, 16px);padding-top:var(--ion-padding,16px)}.ion-padding-start{--padding-start:var(--ion-padding, 16px);padding-left:var(--ion-padding,16px)}.ion-padding-end{--padding-end:var(--ion-padding, 16px);padding-right:var(--ion-padding,16px)}@supports (margin-inline-start:0) or (-webkit-margin-start:0){.ion-padding-start{padding-left:unset;-webkit-padding-start:var(--ion-padding,16px);padding-inline-start:var(--ion-padding,16px)}.ion-padding-end{padding-right:unset;-webkit-padding-end:var(--ion-padding,16px);padding-inline-end:var(--ion-padding,16px)}}.ion-padding-bottom{--padding-bottom:var(--ion-padding, 16px);padding-bottom:var(--ion-padding,16px)}.ion-padding-vertical{--padding-top:var(--ion-padding, 16px);--padding-bottom:var(--ion-padding, 16px);padding-top:var(--ion-padding,16px);padding-bottom:var(--ion-padding,16px)}.ion-padding-horizontal{--padding-start:var(--ion-padding, 16px);--padding-end:var(--ion-padding, 16px);padding-left:var(--ion-padding,16px);padding-right:var(--ion-padding,16px)}.ion-no-margin{--margin-start:0;--margin-end:0;--margin-top:0;--margin-bottom:0;margin:0}.ion-margin{--margin-start:var(--ion-margin, 16px);--margin-end:var(--ion-margin, 16px);--margin-top:var(--ion-margin, 16px);--margin-bottom:var(--ion-margin, 16px);margin-left:var(--ion-margin,16px);margin-right:var(--ion-margin,16px);margin-top:var(--ion-margin,16px);margin-bottom:var(--ion-margin,16px)}@supports (margin-inline-start:0) or (-webkit-margin-start:0){.ion-padding-horizontal{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-padding,16px);padding-inline-start:var(--ion-padding,16px);-webkit-padding-end:var(--ion-padding,16px);padding-inline-end:var(--ion-padding,16px)}.ion-margin{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--ion-margin,16px);margin-inline-start:var(--ion-margin,16px);-webkit-margin-end:var(--ion-margin,16px);margin-inline-end:var(--ion-margin,16px)}}.ion-margin-top{--margin-top:var(--ion-margin, 16px);margin-top:var(--ion-margin,16px)}.ion-margin-start{--margin-start:var(--ion-margin, 16px);margin-left:var(--ion-margin,16px)}.ion-margin-end{--margin-end:var(--ion-margin, 16px);margin-right:var(--ion-margin,16px)}@supports (margin-inline-start:0) or (-webkit-margin-start:0){.ion-margin-start{margin-left:unset;-webkit-margin-start:var(--ion-margin,16px);margin-inline-start:var(--ion-margin,16px)}.ion-margin-end{margin-right:unset;-webkit-margin-end:var(--ion-margin,16px);margin-inline-end:var(--ion-margin,16px)}}.ion-margin-bottom{--margin-bottom:var(--ion-margin, 16px);margin-bottom:var(--ion-margin,16px)}.ion-margin-vertical{--margin-top:var(--ion-margin, 16px);--margin-bottom:var(--ion-margin, 16px);margin-top:var(--ion-margin,16px);margin-bottom:var(--ion-margin,16px)}.ion-margin-horizontal{--margin-start:var(--ion-margin, 16px);--margin-end:var(--ion-margin, 16px);margin-left:var(--ion-margin,16px);margin-right:var(--ion-margin,16px)}@supports (margin-inline-start:0) or (-webkit-margin-start:0){.ion-margin-horizontal{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--ion-margin,16px);margin-inline-start:var(--ion-margin,16px);-webkit-margin-end:var(--ion-margin,16px);margin-inline-end:var(--ion-margin,16px)}}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start,[dir=rtl] .ion-float-start{float:right!important}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end,[dir=rtl] .ion-float-end{float:left!important}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}.ion-align-self-start{align-self:flex-start!important}.ion-align-self-end{align-self:flex-end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-evenly{justify-content:space-evenly!important}.ion-align-items-start{align-items:flex-start!important}.ion-align-items-center{align-items:center!important}.ion-align-items-end{align-items:flex-end!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}.ion-hide,.ion-hide-down,.ion-hide-up{display:none!important}@media (min-width:576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start,[dir=rtl] .ion-float-sm-start{float:right!important}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end,[dir=rtl] .ion-float-sm-end{float:left!important}.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}.ion-hide-sm-up{display:none!important}}@media (max-width:575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width:768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start,[dir=rtl] .ion-float-md-start{float:right!important}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end,[dir=rtl] .ion-float-md-end{float:left!important}.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}.ion-hide-md-up{display:none!important}}@media (max-width:767.98px){.ion-hide-md-down{display:none!important}}@media (min-width:992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start,[dir=rtl] .ion-float-lg-start{float:right!important}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end,[dir=rtl] .ion-float-lg-end{float:left!important}.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}.ion-hide-lg-up{display:none!important}}@media (max-width:991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width:1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start,[dir=rtl] .ion-float-xl-start{float:right!important}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end,[dir=rtl] .ion-float-xl-end{float:left!important}.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}.ion-hide-xl-up{display:none!important}}@media (max-width:1199.98px){.ion-hide-xl-down{display:none!important}}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "../../../node_modules/css-loader/dist/cjs.js!./css/theme.css":
/*!********************************************************************!*\
  !*** ../../../node_modules/css-loader/dist/cjs.js!./css/theme.css ***!
  \********************************************************************/
/***/ ((module, exports, __webpack_require__) => {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "../../../node_modules/css-loader/dist/runtime/api.js");
var ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/getUrl.js */ "../../../node_modules/css-loader/dist/runtime/getUrl.js");
var ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Thin.woff2 */ "./css/fonts/roboto/Roboto-Thin.woff2");
var ___CSS_LOADER_URL_IMPORT_1___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Thin.woff */ "./css/fonts/roboto/Roboto-Thin.woff");
var ___CSS_LOADER_URL_IMPORT_2___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Light.woff2 */ "./css/fonts/roboto/Roboto-Light.woff2");
var ___CSS_LOADER_URL_IMPORT_3___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Light.woff */ "./css/fonts/roboto/Roboto-Light.woff");
var ___CSS_LOADER_URL_IMPORT_4___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Regular.woff2 */ "./css/fonts/roboto/Roboto-Regular.woff2");
var ___CSS_LOADER_URL_IMPORT_5___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Regular.woff */ "./css/fonts/roboto/Roboto-Regular.woff");
var ___CSS_LOADER_URL_IMPORT_6___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Medium.woff2 */ "./css/fonts/roboto/Roboto-Medium.woff2");
var ___CSS_LOADER_URL_IMPORT_7___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Medium.woff */ "./css/fonts/roboto/Roboto-Medium.woff");
var ___CSS_LOADER_URL_IMPORT_8___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Bold.woff2 */ "./css/fonts/roboto/Roboto-Bold.woff2");
var ___CSS_LOADER_URL_IMPORT_9___ = __webpack_require__(/*! ./fonts/roboto/Roboto-Bold.woff */ "./css/fonts/roboto/Roboto-Bold.woff");
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
var ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);
var ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);
var ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);
var ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);
var ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);
var ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);
var ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);
var ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);
var ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);
// Module
exports.push([module.id, "\n:root {\n  --ion-color-primary: #00a79d;\n  --ion-color-primary-rgb: 0,167,157;\n  --ion-color-primary-contrast: #ffffff;\n  --ion-color-primary-contrast-rgb: 255,255,255;\n  --ion-color-primary-shade: #00938a;\n  --ion-color-primary-tint: #1ab0a7;\n\n\n  --ion-color-secondary: #0cd1e8;\n  --ion-color-secondary-rgb: 12,209,232;\n  --ion-color-secondary-contrast: #ffffff;\n  --ion-color-secondary-contrast-rgb: 255,255,255;\n  --ion-color-secondary-shade: #0bb8cc;\n  --ion-color-secondary-tint: #24d6ea;\n\n  --ion-color-tertiary: #7044ff;\n  --ion-color-tertiary-rgb: 112,68,255;\n  --ion-color-tertiary-contrast: #ffffff;\n  --ion-color-tertiary-contrast-rgb: 255,255,255;\n  --ion-color-tertiary-shade: #633ce0;\n  --ion-color-tertiary-tint: #7e57ff;\n\n  --ion-color-success: #10dc60;\n  --ion-color-success-rgb: 16,220,96;\n  --ion-color-success-contrast: #ffffff;\n  --ion-color-success-contrast-rgb: 255,255,255;\n  --ion-color-success-shade: #0ec254;\n  --ion-color-success-tint: #28e070;\n\n  --ion-color-warning: #ffce00;\n  --ion-color-warning-rgb: 255,206,0;\n  --ion-color-warning-contrast: #ffffff;\n  --ion-color-warning-contrast-rgb: 255,255,255;\n  --ion-color-warning-shade: #e0b500;\n  --ion-color-warning-tint: #ffd31a;\n\n  --ion-color-danger: #f04141;\n  --ion-color-danger-rgb: 245,61,61;\n  --ion-color-danger-contrast: #ffffff;\n  --ion-color-danger-contrast-rgb: 255,255,255;\n  --ion-color-danger-shade: #d33939;\n  --ion-color-danger-tint: #f25454;\n\n  --ion-color-dark: #222428;\n  --ion-color-dark-rgb: 34,34,34;\n  --ion-color-dark-contrast: #ffffff;\n  --ion-color-dark-contrast-rgb: 255,255,255;\n  --ion-color-dark-shade: #1e2023;\n  --ion-color-dark-tint: #383a3e;\n\n  --ion-color-medium: #989aa2;\n  --ion-color-medium-rgb: 152,154,162;\n  --ion-color-medium-contrast: #ffffff;\n  --ion-color-medium-contrast-rgb: 255,255,255;\n  --ion-color-medium-shade: #86888f;\n  --ion-color-medium-tint: #a2a4ab;\n\n  --ion-color-light: #f4f5f8;\n  --ion-color-light-rgb: 244,244,244;\n  --ion-color-light-contrast: #000000;\n  --ion-color-light-contrast-rgb: 0,0,0;\n  --ion-color-light-shade: #d7d8da;\n  --ion-color-light-tint: #f5f6f9;\n  }\n\n  @font-face {\n  font-family: \"Roboto\";\n  src: local(Roboto Thin), url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") format(\"woff2\"), url(" + ___CSS_LOADER_URL_REPLACEMENT_1___ + ") format(\"woff\");\n  font-weight: 100;\n  }\n\n  @font-face {\n  font-family: \"Roboto\";\n  src: local(Roboto Light), url(" + ___CSS_LOADER_URL_REPLACEMENT_2___ + ") format(\"woff2\"), url(" + ___CSS_LOADER_URL_REPLACEMENT_3___ + ") format(\"woff\");\n  font-weight: 300;\n  }\n\n  @font-face {\n  font-family: \"Roboto\";\n  src: local(Roboto Regular), url(" + ___CSS_LOADER_URL_REPLACEMENT_4___ + ") format(\"woff2\"), url(" + ___CSS_LOADER_URL_REPLACEMENT_5___ + ") format(\"woff\");\n  font-weight: 400;\n  }\n\n  @font-face {\n  font-family: \"Roboto\";\n  src: local(Roboto Medium), url(" + ___CSS_LOADER_URL_REPLACEMENT_6___ + ") format(\"woff2\"), url(" + ___CSS_LOADER_URL_REPLACEMENT_7___ + ") format(\"woff\");\n  font-weight: 500;\n  }\n\n  @font-face {\n  font-family: \"Roboto\";\n  src: local(Roboto Bold), url(" + ___CSS_LOADER_URL_REPLACEMENT_8___ + ") format(\"woff2\"), url(" + ___CSS_LOADER_URL_REPLACEMENT_9___ + ") format(\"woff\");\n  font-weight: 700;\n  }\n\n  /* responsive tables */\n  table { border: 1px solid #ccc; width: 100%; margin: 0; padding: 0; border-collapse: collapse; border-spacing: 0; }\n  table tr { border: 1px solid #ddd; padding: 5px; }\n  table th, table td { padding: 10px; text-align: center; }\n  table th { text-transform: uppercase; font-size: 14px; letter-spacing: 1px; }\n  table tr:hover { background-color: var(--ion-color-light);}\n\n  @media screen and (max-width: 600px) {\n    table { border: 0; }\n    table thead { display: none; }\n    table tr { margin-bottom: 10px; display: block; border-bottom: 2px solid #ddd; }\n    table td { display: block; text-align: right; font-size: 13px; border-bottom: 1px dotted #ccc; }\n    table td:last-child { border-bottom: 0; }\n    table td:before { content: attr(data-label); float: left; text-transform: uppercase; font-weight: bold; }\n  }\n", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "../../../node_modules/css-loader/dist/runtime/api.js":
/*!************************************************************!*\
  !*** ../../../node_modules/css-loader/dist/runtime/api.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join('');
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === 'string') {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring

  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return "/*# sourceURL=".concat(cssMapping.sourceRoot || '').concat(source, " */");
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
  return "/*# ".concat(data, " */");
}

/***/ }),

/***/ "../../../node_modules/css-loader/dist/runtime/getUrl.js":
/*!***************************************************************!*\
  !*** ../../../node_modules/css-loader/dist/runtime/getUrl.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== 'string') {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, '\\n'), "\"");
  }

  return url;
};

/***/ }),

/***/ "../../../node_modules/databroker/index.js":
/*!*************************************************!*\
  !*** ../../../node_modules/databroker/index.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _src_data_broker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./src/data_broker */ "../../../node_modules/databroker/src/data_broker.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_src_data_broker__WEBPACK_IMPORTED_MODULE_0__["default"]);


/***/ }),

/***/ "../../../node_modules/databroker/src/data_broker.js":
/*!***********************************************************!*\
  !*** ../../../node_modules/databroker/src/data_broker.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var applicationstate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! applicationstate */ "../../../node_modules/applicationstate/index.js");


//TODO: this needs to be moved to binding since it relys on a ton of native web funcationality - fetch, FormData, encodeURIComponent, etc..




/**
 * Data broker class, handles communication to the server and returns a promise.
 * Thin wrapper around fetch api.
 * Adds credentials to all requests.
 * Eventual expansion to support caching, etc...
 */
class Broker {

    /** Provide a singleton pattern, if needed */
    static getInstance() {
        if (!Broker._instance)
            Broker._instance = new Broker();
        return Broker._instance;
    }

    constructor(base_url) {
        let global_base_url = Broker?.config?.base_url;
        this.base_url = base_url || global_base_url || '';
    }

    addEventListener(event_name, listener) {
        if (!this._listeners)
            this._listeners = {};
        if (!this._listeners[event_name])
            this._listeners[event_name] = [];
        this._listeners[event_name].push(listener);
    }

    dispatchEvent(event_name, data) {
        if (!(this._listeners && this._listeners[event_name] && this._listeners[event_name].length))
            return;

        this._listeners[event_name].forEach(
            (listener) => listener(data)
        );
    }

    /**
     * Serialize an object to form data for multipart/form-data
     * @param object
     * @returns {string}
     */
    objectToFormData(object) {
        if ((object === undefined) || (object === null)) return '';
        if (typeof object !== 'object') return '';

        let form_data = new FormData();

        Object.keys(object).forEach(
            key => {
                    let val = object[key];
                    if (typeof val !== 'string') {
                        if(typeof val == 'FileList')
                            for(let file of val)
                                form_data.append(key,file);
                        else if(typeof val == 'File')
                            form_data.set(key, val);
                        else
                            form_data.set(key, JSON.stringify(val));
                }
        });
        return form_data;
    }

    serializeParams(params) {
        if(!params)
            return '';
        let serialized = Object.keys(params)
            .map(
                key => {
                    let val = params[key];
                    if (typeof val !== 'string') {
                        val = JSON.stringify(val);
                    }
                    return [key, val].map(encodeURIComponent)
                        .join("=")
                }
                ).join("&");  
        return serialized;
    }

    getBody(data, options) {
        let body = "";
        if (typeof data === 'string')
            body = data;
        if (typeof data === 'object' && options.json)
            body = JSON.stringify(data);
        if (typeof data === 'object' && (!options.json)) {
            if (options.multipart) {
                body = this.objectToFormData(data);
            }
            else {
                body = this.serializeParams(data);
            }
        }

        return body;
    }

    /**
     * Issue http GET, returns promise
     * @param url
     * @param data
     * @returns {*}
     */
    async get(url, data, options) {
        options = Object.assign({
            blob: false,
            arraybuffer: false,
            cache: false,
            timing: false
        }, options);
        this.dispatchEvent('loading');
        try {

            if(options.timing) console.time('broker-get-serialize-params');
            let query_string = this.serializeParams(data);
            if (data) query_string = "?" + query_string;
            let get_url = this.base_url + url + query_string;
            if(options.timing) console.timeEnd('broker-get-serialize-params');
            if(options.timing) console.time('broker-get-headers');
            let get_options = {
                    method: 'GET',
                    headers: this.getHeaders({cache: options.cache, blob: options.blob}),
                    credentials: 'include'
            };
            if(options.timing) console.timeEnd('broker-get-headers');
            if(!options.cache)
                get_options.cache = 'no-store';

            if(options.timing) console.time('broker-get-fetch');
            const response = await fetch(get_url, get_options);
            if(options.timing) console.timeEnd('broker-get-fetch');
            if(options.timing) console.time('broker-get-handle-response');
            let response_body = await this.handleResponse(response, options);
            if(options.timing) console.timeEnd('broker-get-handle-response');
            this.dispatchEvent('loading_complete');
            return response_body;
        }
        catch (err) {
            this.dispatchEvent('loading_complete');
            throw err;
        }
    }

    /**
     * Issue http PUT, returns promise
     * @param url
     * @param data
     * @param serialize_json
     * @returns {*}
     */
    async put(url, data, options) {
        let default_options = {
            json: false,
            multipart: false
        }
        options = Object.assign(default_options, options);
        this.dispatchEvent('loading');
        try {
            let put_url = this.base_url + url;
            const response = await fetch(put_url,
                {
                    method: 'PUT',
                    headers: this.getHeaders(options),
                    cache: 'no-store',
                    credentials: 'include',
                    body: this.getBody(data, options)
                });

            let response_body = await this.handleResponse(response);
            this.dispatchEvent('loading_complete');
            return response_body;
        }
        catch (err) {
            this.dispatchEvent('loading_complete');
            throw err;
        }
    }

    /**
     * Issue http POST, returns promise
     * @param url
     * @param data
     * @param serialize_json
     * @returns {*}
     */
    async post(url, data, options) {
        let default_options = {
            json: false,
            multipart: false
        }
        options = Object.assign(default_options, options);
        this.dispatchEvent('loading');
        try {
            let post_url = this.base_url + url;
            const response = await fetch(post_url,
                {
                    method: 'POST',
                    headers: this.getHeaders(options),
                    cache: 'no-store',
                    credentials: 'include',
                    body: this.getBody(data, options)
                });

            let response_body = await this.handleResponse(response);
            this.dispatchEvent('loading_complete');
            return response_body;
        }
        catch (err) {
            this.dispatchEvent('loading_complete');
            throw err;

        }
    }

    /**
     * Send a RFC 6902 compliant json-patch document to the server
     * @param {*} url 
     * @param {*} patch 
     * @param {*} options 
     */
    async patch(url, patch, options) {
        options = Object.assign({
            json: true,
            multipart: false
        },options);
        this.dispatchEvent('loading');
        try {
            let patch_url = this.base_url + url;
            const response = await fetch(patch_url,
                {
                    method: 'PATCH',
                    headers: this.getHeaders(options),
                    cache: 'no-store',
                    credentials: 'include',
                    body: this.getBody(patch, options)
                });

            let response_body = await this.handleResponse(response);
            this.dispatchEvent('loading_complete');
            return response_body;
        }
        catch (err) {
            this.dispatchEvent('loading_complete');
            throw err;
        }
    }

    /**
     * Issue http DELETE, returns promise
     *
     * Using the name del instead of delete because 'delete' is a reserved keyword
     * @param url
     * @param data
     * @returns {*}
     */
    async del(url, data) {
        this.dispatchEvent('loading');
        try {
            let query_string = data ? this.serialize(data) : "";
            if (data) query_string = "?" + query_string;
            let get_url = this.base_url + url + query_string;
            const response = await fetch(get_url,
                {
                    method: 'DELETE',
                    headers: this.getHeaders(),
                    cache: 'no-store',
                    credentials: 'include'
                });

            let response_body = await this.handleResponse(response);
            this.dispatchEvent('loading_complete');
            return response_body;
        }
        catch (err) {
            this.dispatchEvent('loading_complete');
            throw err;

        }
    }

    getHeaders(options) {
        let default_options = {
            json: false,
            multipart: false,
            cache: false,
            client_version: true
        }
        options = Object.assign(default_options, options);
        let content_type = 'application/x-www-form-urlencoded';
        if(options.json)
            content_type = 'application/json';
        if(options.multipart)
            content_type = 'multipart/form-data';

        let header_token = applicationstate__WEBPACK_IMPORTED_MODULE_0__["default"].get('app.jwt') || "";

        let headers = {
            'Content-Type': content_type,
            'Authorization': 'Bearer ' + header_token
        }
        if(!options.blob)
            headers['Accept'] = 'application/json';
        if(!options.cache)
            headers['Cache-Control'] = 'no-cache';
        if(options.client_version)
            headers['client-software-version'] = "0.1.0";
        return headers;
    }

    async handleResponse(response, options) {
        const status = response.status;
        let body;
        let err;

        switch (status) {
            case 400: //bad request
                body = await response.text();
                err = new Error("400 bad request");
                err.code = status;
                err.body = body;
                throw err;
                break;
            case 401: //forbidden - for missing credentials
                this.dispatchEvent('missing_credentials');
                throw new Error("401 forbidden")
                break;
            case 403: //unauthorized - don't have permission
                this.dispatchEvent('unauthorized');
                throw new Error("403 unauthorized")
                break;
            case 409: //client out of date
                this.dispatchEvent('need_update');
                throw new Error("409 out of date");
                break;
            case 418: //I'm a teapot
                body = await response.text();
                err = new Error("418 I'm a teapot");
                err.code = status;
                err.body = body;
                throw err;
            default: //check for success
                if(options && options.blob)
                    body = await response.blob();
                else if(options && options.arraybuffer)
                    body = await response.arrayBuffer();
                else
                    body = await response.json();
                if (!response.ok) {
                    err = new Error(`${response.status}: ${response.statusText} -- ${JSON.stringify(body)}`);
                    err.code = status;
                    err.body = body;
                    throw err;
                }
                return body;
                break;
        }

    }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Broker.getInstance());


/***/ }),

/***/ "../../../node_modules/dexie/dist/dexie.es.js":
/*!****************************************************!*\
  !*** ../../../node_modules/dexie/dist/dexie.es.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * By David Fahlander, david.fahlander@gmail.com
 *
 * Version {version}, {date}
 *
 * http://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/
 */
 
var keys = Object.keys;
var isArray = Array.isArray;
var _global = typeof self !== 'undefined' ? self :
    typeof window !== 'undefined' ? window :
        __webpack_require__.g;
function extend(obj, extension) {
    if (typeof extension !== 'object')
        return obj;
    keys(extension).forEach(function (key) {
        obj[key] = extension[key];
    });
    return obj;
}
var getProto = Object.getPrototypeOf;
var _hasOwn = {}.hasOwnProperty;
function hasOwn(obj, prop) {
    return _hasOwn.call(obj, prop);
}
function props(proto, extension) {
    if (typeof extension === 'function')
        extension = extension(getProto(proto));
    keys(extension).forEach(function (key) {
        setProp(proto, key, extension[key]);
    });
}
var defineProperty = Object.defineProperty;
function setProp(obj, prop, functionOrGetSet, options) {
    defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, "get") && typeof functionOrGetSet.get === 'function' ?
        { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :
        { value: functionOrGetSet, configurable: true, writable: true }, options));
}
function derive(Child) {
    return {
        from: function (Parent) {
            Child.prototype = Object.create(Parent.prototype);
            setProp(Child.prototype, "constructor", Child);
            return {
                extend: props.bind(null, Child.prototype)
            };
        }
    };
}
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
function getPropertyDescriptor(obj, prop) {
    var pd = getOwnPropertyDescriptor(obj, prop), proto;
    return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);
}
var _slice = [].slice;
function slice(args, start, end) {
    return _slice.call(args, start, end);
}
function override(origFunc, overridedFactory) {
    return overridedFactory(origFunc);
}
function assert(b) {
    if (!b)
        throw new Error("Assertion Failed");
}
function asap(fn) {
    if (_global.setImmediate)
        setImmediate(fn);
    else
        setTimeout(fn, 0);
}

/** Generate an object (hash map) based on given array.
 * @param extractor Function taking an array item and its index and returning an array of 2 items ([key, value]) to
 *        instert on the resulting object for each item in the array. If this function returns a falsy value, the
 *        current item wont affect the resulting object.
 */
function arrayToObject(array, extractor) {
    return array.reduce(function (result, item, i) {
        var nameAndValue = extractor(item, i);
        if (nameAndValue)
            result[nameAndValue[0]] = nameAndValue[1];
        return result;
    }, {});
}
function trycatcher(fn, reject) {
    return function () {
        try {
            fn.apply(this, arguments);
        }
        catch (e) {
            reject(e);
        }
    };
}
function tryCatch(fn, onerror, args) {
    try {
        fn.apply(null, args);
    }
    catch (ex) {
        onerror && onerror(ex);
    }
}
function getByKeyPath(obj, keyPath) {
    // http://www.w3.org/TR/IndexedDB/#steps-for-extracting-a-key-from-a-value-using-a-key-path
    if (hasOwn(obj, keyPath))
        return obj[keyPath]; // This line is moved from last to first for optimization purpose.
    if (!keyPath)
        return obj;
    if (typeof keyPath !== 'string') {
        var rv = [];
        for (var i = 0, l = keyPath.length; i < l; ++i) {
            var val = getByKeyPath(obj, keyPath[i]);
            rv.push(val);
        }
        return rv;
    }
    var period = keyPath.indexOf('.');
    if (period !== -1) {
        var innerObj = obj[keyPath.substr(0, period)];
        return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));
    }
    return undefined;
}
function setByKeyPath(obj, keyPath, value) {
    if (!obj || keyPath === undefined)
        return;
    if ('isFrozen' in Object && Object.isFrozen(obj))
        return;
    if (typeof keyPath !== 'string' && 'length' in keyPath) {
        assert(typeof value !== 'string' && 'length' in value);
        for (var i = 0, l = keyPath.length; i < l; ++i) {
            setByKeyPath(obj, keyPath[i], value[i]);
        }
    }
    else {
        var period = keyPath.indexOf('.');
        if (period !== -1) {
            var currentKeyPath = keyPath.substr(0, period);
            var remainingKeyPath = keyPath.substr(period + 1);
            if (remainingKeyPath === "")
                if (value === undefined)
                    delete obj[currentKeyPath];
                else
                    obj[currentKeyPath] = value;
            else {
                var innerObj = obj[currentKeyPath];
                if (!innerObj)
                    innerObj = (obj[currentKeyPath] = {});
                setByKeyPath(innerObj, remainingKeyPath, value);
            }
        }
        else {
            if (value === undefined)
                delete obj[keyPath];
            else
                obj[keyPath] = value;
        }
    }
}
function delByKeyPath(obj, keyPath) {
    if (typeof keyPath === 'string')
        setByKeyPath(obj, keyPath, undefined);
    else if ('length' in keyPath)
        [].map.call(keyPath, function (kp) {
            setByKeyPath(obj, kp, undefined);
        });
}
function shallowClone(obj) {
    var rv = {};
    for (var m in obj) {
        if (hasOwn(obj, m))
            rv[m] = obj[m];
    }
    return rv;
}
var concat = [].concat;
function flatten(a) {
    return concat.apply([], a);
}
//https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm
var intrinsicTypes = "Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set"
    .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return ["Int", "Uint", "Float"].map(function (t) { return t + num + "Array"; }); }))).filter(function (t) { return _global[t]; }).map(function (t) { return _global[t]; });
function deepClone(any) {
    if (!any || typeof any !== 'object')
        return any;
    var rv;
    if (isArray(any)) {
        rv = [];
        for (var i = 0, l = any.length; i < l; ++i) {
            rv.push(deepClone(any[i]));
        }
    }
    else if (intrinsicTypes.indexOf(any.constructor) >= 0) {
        rv = any;
    }
    else {
        rv = any.constructor ? Object.create(any.constructor.prototype) : {};
        for (var prop in any) {
            if (hasOwn(any, prop)) {
                rv[prop] = deepClone(any[prop]);
            }
        }
    }
    return rv;
}
function getObjectDiff(a, b, rv, prfx) {
    // Compares objects a and b and produces a diff object.
    rv = rv || {};
    prfx = prfx || '';
    keys(a).forEach(function (prop) {
        if (!hasOwn(b, prop))
            rv[prfx + prop] = undefined; // Property removed
        else {
            var ap = a[prop], bp = b[prop];
            if (typeof ap === 'object' && typeof bp === 'object' &&
                ap && bp &&
                // Now compare constructors are same (not equal because wont work in Safari)
                ('' + ap.constructor) === ('' + bp.constructor))
                // Same type of object but its properties may have changed
                getObjectDiff(ap, bp, rv, prfx + prop + ".");
            else if (ap !== bp)
                rv[prfx + prop] = b[prop]; // Primitive value changed
        }
    });
    keys(b).forEach(function (prop) {
        if (!hasOwn(a, prop)) {
            rv[prfx + prop] = b[prop]; // Property added
        }
    });
    return rv;
}
// If first argument is iterable or array-like, return it as an array
var iteratorSymbol = typeof Symbol !== 'undefined' && Symbol.iterator;
var getIteratorOf = iteratorSymbol ? function (x) {
    var i;
    return x != null && (i = x[iteratorSymbol]) && i.apply(x);
} : function () { return null; };
var NO_CHAR_ARRAY = {};
// Takes one or several arguments and returns an array based on the following criteras:
// * If several arguments provided, return arguments converted to an array in a way that
//   still allows javascript engine to optimize the code.
// * If single argument is an array, return a clone of it.
// * If this-pointer equals NO_CHAR_ARRAY, don't accept strings as valid iterables as a special
//   case to the two bullets below.
// * If single argument is an iterable, convert it to an array and return the resulting array.
// * If single argument is array-like (has length of type number), convert it to an array.
function getArrayOf(arrayLike) {
    var i, a, x, it;
    if (arguments.length === 1) {
        if (isArray(arrayLike))
            return arrayLike.slice();
        if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')
            return [arrayLike];
        if ((it = getIteratorOf(arrayLike))) {
            a = [];
            while ((x = it.next()), !x.done)
                a.push(x.value);
            return a;
        }
        if (arrayLike == null)
            return [arrayLike];
        i = arrayLike.length;
        if (typeof i === 'number') {
            a = new Array(i);
            while (i--)
                a[i] = arrayLike[i];
            return a;
        }
        return [arrayLike];
    }
    i = arguments.length;
    a = new Array(i);
    while (i--)
        a[i] = arguments[i];
    return a;
}

// By default, debug will be true only if platform is a web platform and its page is served from localhost.
// When debug = true, error's stacks will contain asyncronic long stacks.
var debug = typeof location !== 'undefined' &&
    // By default, use debug mode if served from localhost.
    /^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);
function setDebug(value, filter) {
    debug = value;
    libraryFilter = filter;
}
var libraryFilter = function () { return true; };
var NEEDS_THROW_FOR_STACK = !new Error("").stack;
function getErrorWithStack() {
    "use strict";
    if (NEEDS_THROW_FOR_STACK)
        try {
            // Doing something naughty in strict mode here to trigger a specific error
            // that can be explicitely ignored in debugger's exception settings.
            // If we'd just throw new Error() here, IE's debugger's exception settings
            // will just consider it as "exception thrown by javascript code" which is
            // something you wouldn't want it to ignore.
            getErrorWithStack.arguments;
            throw new Error(); // Fallback if above line don't throw.
        }
        catch (e) {
            return e;
        }
    return new Error();
}
function prettyStack(exception, numIgnoredFrames) {
    var stack = exception.stack;
    if (!stack)
        return "";
    numIgnoredFrames = (numIgnoredFrames || 0);
    if (stack.indexOf(exception.name) === 0)
        numIgnoredFrames += (exception.name + exception.message).split('\n').length;
    return stack.split('\n')
        .slice(numIgnoredFrames)
        .filter(libraryFilter)
        .map(function (frame) { return "\n" + frame; })
        .join('');
}
function deprecated(what, fn) {
    return function () {
        console.warn(what + " is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. " + prettyStack(getErrorWithStack(), 1));
        return fn.apply(this, arguments);
    };
}

var dexieErrorNames = [
    'Modify',
    'Bulk',
    'OpenFailed',
    'VersionChange',
    'Schema',
    'Upgrade',
    'InvalidTable',
    'MissingAPI',
    'NoSuchDatabase',
    'InvalidArgument',
    'SubTransaction',
    'Unsupported',
    'Internal',
    'DatabaseClosed',
    'PrematureCommit',
    'ForeignAwait'
];
var idbDomErrorNames = [
    'Unknown',
    'Constraint',
    'Data',
    'TransactionInactive',
    'ReadOnly',
    'Version',
    'NotFound',
    'InvalidState',
    'InvalidAccess',
    'Abort',
    'Timeout',
    'QuotaExceeded',
    'Syntax',
    'DataClone'
];
var errorList = dexieErrorNames.concat(idbDomErrorNames);
var defaultTexts = {
    VersionChanged: "Database version changed by other database connection",
    DatabaseClosed: "Database has been closed",
    Abort: "Transaction aborted",
    TransactionInactive: "Transaction has already completed or failed"
};
//
// DexieError - base class of all out exceptions.
//
function DexieError(name, msg) {
    // Reason we don't use ES6 classes is because:
    // 1. It bloats transpiled code and increases size of minified code.
    // 2. It doesn't give us much in this case.
    // 3. It would require sub classes to call super(), which
    //    is not needed when deriving from Error.
    this._e = getErrorWithStack();
    this.name = name;
    this.message = msg;
}
derive(DexieError).from(Error).extend({
    stack: {
        get: function () {
            return this._stack ||
                (this._stack = this.name + ": " + this.message + prettyStack(this._e, 2));
        }
    },
    toString: function () { return this.name + ": " + this.message; }
});
function getMultiErrorMessage(msg, failures) {
    return msg + ". Errors: " + failures
        .map(function (f) { return f.toString(); })
        .filter(function (v, i, s) { return s.indexOf(v) === i; }) // Only unique error strings
        .join('\n');
}
//
// ModifyError - thrown in Collection.modify()
// Specific constructor because it contains members failures and failedKeys.
//
function ModifyError(msg, failures, successCount, failedKeys) {
    this._e = getErrorWithStack();
    this.failures = failures;
    this.failedKeys = failedKeys;
    this.successCount = successCount;
}
derive(ModifyError).from(DexieError);
function BulkError(msg, failures) {
    this._e = getErrorWithStack();
    this.name = "BulkError";
    this.failures = failures;
    this.message = getMultiErrorMessage(msg, failures);
}
derive(BulkError).from(DexieError);
//
//
// Dynamically generate error names and exception classes based
// on the names in errorList.
//
//
// Map of {ErrorName -> ErrorName + "Error"}
var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + "Error", obj); }, {});
// Need an alias for DexieError because we're gonna create subclasses with the same name.
var BaseException = DexieError;
// Map of {ErrorName -> exception constructor}
var exceptions = errorList.reduce(function (obj, name) {
    // Let the name be "DexieError" because this name may
    // be shown in call stack and when debugging. DexieError is
    // the most true name because it derives from DexieError,
    // and we cannot change Function.name programatically without
    // dynamically create a Function object, which would be considered
    // 'eval-evil'.
    var fullName = name + "Error";
    function DexieError(msgOrInner, inner) {
        this._e = getErrorWithStack();
        this.name = fullName;
        if (!msgOrInner) {
            this.message = defaultTexts[name] || fullName;
            this.inner = null;
        }
        else if (typeof msgOrInner === 'string') {
            this.message = msgOrInner;
            this.inner = inner || null;
        }
        else if (typeof msgOrInner === 'object') {
            this.message = msgOrInner.name + " " + msgOrInner.message;
            this.inner = msgOrInner;
        }
    }
    derive(DexieError).from(BaseException);
    obj[name] = DexieError;
    return obj;
}, {});
// Use ECMASCRIPT standard exceptions where applicable:
exceptions.Syntax = SyntaxError;
exceptions.Type = TypeError;
exceptions.Range = RangeError;
var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {
    obj[name + "Error"] = exceptions[name];
    return obj;
}, {});
function mapError(domError, message) {
    if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])
        return domError;
    var rv = new exceptionMap[domError.name](message || domError.message, domError);
    if ("stack" in domError) {
        // Derive stack from inner exception if it has a stack
        setProp(rv, "stack", { get: function () {
                return this.inner.stack;
            } });
    }
    return rv;
}
var fullNameExceptions = errorList.reduce(function (obj, name) {
    if (["Syntax", "Type", "Range"].indexOf(name) === -1)
        obj[name + "Error"] = exceptions[name];
    return obj;
}, {});
fullNameExceptions.ModifyError = ModifyError;
fullNameExceptions.DexieError = DexieError;
fullNameExceptions.BulkError = BulkError;

function nop() { }
function mirror(val) { return val; }
function pureFunctionChain(f1, f2) {
    // Enables chained events that takes ONE argument and returns it to the next function in chain.
    // This pattern is used in the hook("reading") event.
    if (f1 == null || f1 === mirror)
        return f2;
    return function (val) {
        return f2(f1(val));
    };
}
function callBoth(on1, on2) {
    return function () {
        on1.apply(this, arguments);
        on2.apply(this, arguments);
    };
}
function hookCreatingChain(f1, f2) {
    // Enables chained events that takes several arguments and may modify first argument by making a modification and then returning the same instance.
    // This pattern is used in the hook("creating") event.
    if (f1 === nop)
        return f2;
    return function () {
        var res = f1.apply(this, arguments);
        if (res !== undefined)
            arguments[0] = res;
        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess
        onerror = this.onerror; // In case event listener has set this.onerror
        this.onsuccess = null;
        this.onerror = null;
        var res2 = f2.apply(this, arguments);
        if (onsuccess)
            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
        if (onerror)
            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        return res2 !== undefined ? res2 : res;
    };
}
function hookDeletingChain(f1, f2) {
    if (f1 === nop)
        return f2;
    return function () {
        f1.apply(this, arguments);
        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess
        onerror = this.onerror; // In case event listener has set this.onerror
        this.onsuccess = this.onerror = null;
        f2.apply(this, arguments);
        if (onsuccess)
            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
        if (onerror)
            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
    };
}
function hookUpdatingChain(f1, f2) {
    if (f1 === nop)
        return f2;
    return function (modifications) {
        var res = f1.apply(this, arguments);
        extend(modifications, res); // If f1 returns new modifications, extend caller's modifications with the result before calling next in chain.
        var onsuccess = this.onsuccess, // In case event listener has set this.onsuccess
        onerror = this.onerror; // In case event listener has set this.onerror
        this.onsuccess = null;
        this.onerror = null;
        var res2 = f2.apply(this, arguments);
        if (onsuccess)
            this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;
        if (onerror)
            this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;
        return res === undefined ?
            (res2 === undefined ? undefined : res2) :
            (extend(res, res2));
    };
}
function reverseStoppableEventChain(f1, f2) {
    if (f1 === nop)
        return f2;
    return function () {
        if (f2.apply(this, arguments) === false)
            return false;
        return f1.apply(this, arguments);
    };
}

function promisableChain(f1, f2) {
    if (f1 === nop)
        return f2;
    return function () {
        var res = f1.apply(this, arguments);
        if (res && typeof res.then === 'function') {
            var thiz = this, i = arguments.length, args = new Array(i);
            while (i--)
                args[i] = arguments[i];
            return res.then(function () {
                return f2.apply(thiz, args);
            });
        }
        return f2.apply(this, arguments);
    };
}

/*
 * Copyright (c) 2014-2017 David Fahlander
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/LICENSE-2.0
 */
//
// Promise and Zone (PSD) for Dexie library
//
// I started out writing this Promise class by copying promise-light (https://github.com/taylorhakes/promise-light) by
// https://github.com/taylorhakes - an A+ and ECMASCRIPT 6 compliant Promise implementation.
//
// In previous versions this was fixed by not calling setTimeout when knowing that the resolve() or reject() came from another
// tick. In Dexie v1.4.0, I've rewritten the Promise class entirely. Just some fragments of promise-light is left. I use
// another strategy now that simplifies everything a lot: to always execute callbacks in a new micro-task, but have an own micro-task
// engine that is indexedDB compliant across all browsers.
// Promise class has also been optimized a lot with inspiration from bluebird - to avoid closures as much as possible.
// Also with inspiration from bluebird, asyncronic stacks in debug mode.
//
// Specific non-standard features of this Promise class:
// * Custom zone support (a.k.a. PSD) with ability to keep zones also when using native promises as well as
//   native async / await.
// * Promise.follow() method built upon the custom zone engine, that allows user to track all promises created from current stack frame
//   and below + all promises that those promises creates or awaits.
// * Detect any unhandled promise in a PSD-scope (PSD.onunhandled). 
//
// David Fahlander, https://github.com/dfahlander
//
// Just a pointer that only this module knows about.
// Used in Promise constructor to emulate a private constructor.
var INTERNAL = {};
// Async stacks (long stacks) must not grow infinitely.
var LONG_STACKS_CLIP_LIMIT = 100;
var MAX_LONG_STACKS = 20;
var ZONE_ECHO_LIMIT = 7;
var nativePromiseInstanceAndProto = (function () {
    try {
        // Be able to patch native async functions
        return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")();
    }
    catch (e) {
        var P = _global.Promise;
        return P ?
            [P.resolve(), P.prototype, P.resolve()] :
            [];
    }
})();
var resolvedNativePromise = nativePromiseInstanceAndProto[0];
var nativePromiseProto = nativePromiseInstanceAndProto[1];
var resolvedGlobalPromise = nativePromiseInstanceAndProto[2];
var nativePromiseThen = nativePromiseProto && nativePromiseProto.then;
var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;
var AsyncFunction = nativePromiseInstanceAndProto[3];
var patchGlobalPromise = !!resolvedGlobalPromise;
var stack_being_generated = false;
/* The default function used only for the very first promise in a promise chain.
   As soon as then promise is resolved or rejected, all next tasks will be executed in micro ticks
   emulated in this module. For indexedDB compatibility, this means that every method needs to
   execute at least one promise before doing an indexedDB operation. Dexie will always call
   db.ready().then() for every operation to make sure the indexedDB event is started in an
   indexedDB-compatible emulated micro task loop.
*/
var schedulePhysicalTick = resolvedGlobalPromise ?
    function () { resolvedGlobalPromise.then(physicalTick); }
    :
        _global.setImmediate ?
            // setImmediate supported. Those modern platforms also supports Function.bind().
            setImmediate.bind(null, physicalTick) :
            _global.MutationObserver ?
                // MutationObserver supported
                function () {
                    var hiddenDiv = document.createElement("div");
                    (new MutationObserver(function () {
                        physicalTick();
                        hiddenDiv = null;
                    })).observe(hiddenDiv, { attributes: true });
                    hiddenDiv.setAttribute('i', '1');
                } :
                // No support for setImmediate or MutationObserver. No worry, setTimeout is only called
                // once time. Every tick that follows will be our emulated micro tick.
                // Could have uses setTimeout.bind(null, 0, physicalTick) if it wasnt for that FF13 and below has a bug 
                function () { setTimeout(physicalTick, 0); };
// Configurable through Promise.scheduler.
// Don't export because it would be unsafe to let unknown
// code call it unless they do try..catch within their callback.
// This function can be retrieved through getter of Promise.scheduler though,
// but users must not do Promise.scheduler = myFuncThatThrowsException
var asap$1 = function (callback, args) {
    microtickQueue.push([callback, args]);
    if (needsNewPhysicalTick) {
        schedulePhysicalTick();
        needsNewPhysicalTick = false;
    }
};
var isOutsideMicroTick = true;
var needsNewPhysicalTick = true;
var unhandledErrors = [];
var rejectingErrors = [];
var currentFulfiller = null;
var rejectionMapper = mirror; // Remove in next major when removing error mapping of DOMErrors and DOMExceptions
var globalPSD = {
    id: 'global',
    global: true,
    ref: 0,
    unhandleds: [],
    onunhandled: globalError,
    pgp: false,
    env: {},
    finalize: function () {
        this.unhandleds.forEach(function (uh) {
            try {
                globalError(uh[0], uh[1]);
            }
            catch (e) { }
        });
    }
};
var PSD = globalPSD;
var microtickQueue = []; // Callbacks to call in this or next physical tick.
var numScheduledCalls = 0; // Number of listener-calls left to do in this physical tick.
var tickFinalizers = []; // Finalizers to call when there are no more async calls scheduled within current physical tick.
function Promise(fn) {
    if (typeof this !== 'object')
        throw new TypeError('Promises must be constructed via new');
    this._listeners = [];
    this.onuncatched = nop; // Deprecate in next major. Not needed. Better to use global error handler.
    // A library may set `promise._lib = true;` after promise is created to make resolve() or reject()
    // execute the microtask engine implicitely within the call to resolve() or reject().
    // To remain A+ compliant, a library must only set `_lib=true` if it can guarantee that the stack
    // only contains library code when calling resolve() or reject().
    // RULE OF THUMB: ONLY set _lib = true for promises explicitely resolving/rejecting directly from
    // global scope (event handler, timer etc)!
    this._lib = false;
    // Current async scope
    var psd = (this._PSD = PSD);
    if (debug) {
        this._stackHolder = getErrorWithStack();
        this._prev = null;
        this._numPrev = 0; // Number of previous promises (for long stacks)
    }
    if (typeof fn !== 'function') {
        if (fn !== INTERNAL)
            throw new TypeError('Not a function');
        // Private constructor (INTERNAL, state, value).
        // Used internally by Promise.resolve() and Promise.reject().
        this._state = arguments[1];
        this._value = arguments[2];
        if (this._state === false)
            handleRejection(this, this._value); // Map error, set stack and addPossiblyUnhandledError().
        return;
    }
    this._state = null; // null (=pending), false (=rejected) or true (=resolved)
    this._value = null; // error or result
    ++psd.ref; // Refcounting current scope
    executePromiseTask(this, fn);
}
// Prepare a property descriptor to put onto Promise.prototype.then
var thenProp = {
    get: function () {
        var psd = PSD, microTaskId = totalEchoes;
        function then(onFulfilled, onRejected) {
            var _this = this;
            var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);
            if (possibleAwait)
                decrementExpectedAwaits();
            var rv = new Promise(function (resolve, reject) {
                propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait), resolve, reject, psd));
            });
            debug && linkToPreviousPromise(rv, this);
            return rv;
        }
        then.prototype = INTERNAL; // For idempotense, see setter below.
        return then;
    },
    // Be idempotent and allow another framework (such as zone.js or another instance of a Dexie.Promise module) to replace Promise.prototype.then
    // and when that framework wants to restore the original property, we must identify that and restore the original property descriptor.
    set: function (value) {
        setProp(this, 'then', value && value.prototype === INTERNAL ?
            thenProp : // Restore to original property descriptor.
            {
                get: function () {
                    return value; // Getter returning provided value (behaves like value is just changed)
                },
                set: thenProp.set // Keep a setter that is prepared to restore original.
            });
    }
};
props(Promise.prototype, {
    then: thenProp,
    _then: function (onFulfilled, onRejected) {
        // A little tinier version of then() that don't have to create a resulting promise.
        propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));
    },
    catch: function (onRejected) {
        if (arguments.length === 1)
            return this.then(null, onRejected);
        // First argument is the Error type to catch
        var type = arguments[0], handler = arguments[1];
        return typeof type === 'function' ? this.then(null, function (err) {
            // Catching errors by its constructor type (similar to java / c++ / c#)
            // Sample: promise.catch(TypeError, function (e) { ... });
            return err instanceof type ? handler(err) : PromiseReject(err);
        })
            : this.then(null, function (err) {
                // Catching errors by the error.name property. Makes sense for indexedDB where error type
                // is always DOMError but where e.name tells the actual error type.
                // Sample: promise.catch('ConstraintError', function (e) { ... });
                return err && err.name === type ? handler(err) : PromiseReject(err);
            });
    },
    finally: function (onFinally) {
        return this.then(function (value) {
            onFinally();
            return value;
        }, function (err) {
            onFinally();
            return PromiseReject(err);
        });
    },
    stack: {
        get: function () {
            if (this._stack)
                return this._stack;
            try {
                stack_being_generated = true;
                var stacks = getStack(this, [], MAX_LONG_STACKS);
                var stack = stacks.join("\nFrom previous: ");
                if (this._state !== null)
                    this._stack = stack; // Stack may be updated on reject.
                return stack;
            }
            finally {
                stack_being_generated = false;
            }
        }
    },
    timeout: function (ms, msg) {
        var _this = this;
        return ms < Infinity ?
            new Promise(function (resolve, reject) {
                var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);
                _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));
            }) : this;
    }
});
if (typeof Symbol !== 'undefined' && Symbol.toStringTag)
    setProp(Promise.prototype, Symbol.toStringTag, 'Promise');
// Now that Promise.prototype is defined, we have all it takes to set globalPSD.env.
// Environment globals snapshotted on leaving global zone
globalPSD.env = snapShot();
function Listener(onFulfilled, onRejected, resolve, reject, zone) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.resolve = resolve;
    this.reject = reject;
    this.psd = zone;
}
// Promise Static Properties
props(Promise, {
    all: function () {
        var values = getArrayOf.apply(null, arguments) // Supports iterables, implicit arguments and array-like.
            .map(onPossibleParallellAsync); // Handle parallell async/awaits 
        return new Promise(function (resolve, reject) {
            if (values.length === 0)
                resolve([]);
            var remaining = values.length;
            values.forEach(function (a, i) { return Promise.resolve(a).then(function (x) {
                values[i] = x;
                if (!--remaining)
                    resolve(values);
            }, reject); });
        });
    },
    resolve: function (value) {
        if (value instanceof Promise)
            return value;
        if (value && typeof value.then === 'function')
            return new Promise(function (resolve, reject) {
                value.then(resolve, reject);
            });
        var rv = new Promise(INTERNAL, true, value);
        linkToPreviousPromise(rv, currentFulfiller);
        return rv;
    },
    reject: PromiseReject,
    race: function () {
        var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);
        return new Promise(function (resolve, reject) {
            values.map(function (value) { return Promise.resolve(value).then(resolve, reject); });
        });
    },
    PSD: {
        get: function () { return PSD; },
        set: function (value) { return PSD = value; }
    },
    //totalEchoes: {get: ()=>totalEchoes},
    //task: {get: ()=>task},
    newPSD: newScope,
    usePSD: usePSD,
    scheduler: {
        get: function () { return asap$1; },
        set: function (value) { asap$1 = value; }
    },
    rejectionMapper: {
        get: function () { return rejectionMapper; },
        set: function (value) { rejectionMapper = value; } // Map reject failures
    },
    follow: function (fn, zoneProps) {
        return new Promise(function (resolve, reject) {
            return newScope(function (resolve, reject) {
                var psd = PSD;
                psd.unhandleds = []; // For unhandled standard- or 3rd party Promises. Checked at psd.finalize()
                psd.onunhandled = reject; // Triggered directly on unhandled promises of this library.
                psd.finalize = callBoth(function () {
                    var _this = this;
                    // Unhandled standard or 3rd part promises are put in PSD.unhandleds and
                    // examined upon scope completion while unhandled rejections in this Promise
                    // will trigger directly through psd.onunhandled
                    run_at_end_of_this_or_next_physical_tick(function () {
                        _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);
                    });
                }, psd.finalize);
                fn();
            }, zoneProps, resolve, reject);
        });
    }
});
/**
* Take a potentially misbehaving resolver function and make sure
* onFulfilled and onRejected are only called once.
*
* Makes no guarantees about asynchrony.
*/
function executePromiseTask(promise, fn) {
    // Promise Resolution Procedure:
    // https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
    try {
        fn(function (value) {
            if (promise._state !== null)
                return; // Already settled
            if (value === promise)
                throw new TypeError('A promise cannot be resolved with itself.');
            var shouldExecuteTick = promise._lib && beginMicroTickScope();
            if (value && typeof value.then === 'function') {
                executePromiseTask(promise, function (resolve, reject) {
                    value instanceof Promise ?
                        value._then(resolve, reject) :
                        value.then(resolve, reject);
                });
            }
            else {
                promise._state = true;
                promise._value = value;
                propagateAllListeners(promise);
            }
            if (shouldExecuteTick)
                endMicroTickScope();
        }, handleRejection.bind(null, promise)); // If Function.bind is not supported. Exception is handled in catch below
    }
    catch (ex) {
        handleRejection(promise, ex);
    }
}
function handleRejection(promise, reason) {
    rejectingErrors.push(reason);
    if (promise._state !== null)
        return;
    var shouldExecuteTick = promise._lib && beginMicroTickScope();
    reason = rejectionMapper(reason);
    promise._state = false;
    promise._value = reason;
    debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(function () {
        var origProp = getPropertyDescriptor(reason, "stack");
        reason._promise = promise;
        setProp(reason, "stack", {
            get: function () {
                return stack_being_generated ?
                    origProp && (origProp.get ?
                        origProp.get.apply(reason) :
                        origProp.value) :
                    promise.stack;
            }
        });
    });
    // Add the failure to a list of possibly uncaught errors
    addPossiblyUnhandledError(promise);
    propagateAllListeners(promise);
    if (shouldExecuteTick)
        endMicroTickScope();
}
function propagateAllListeners(promise) {
    //debug && linkToPreviousPromise(promise);
    var listeners = promise._listeners;
    promise._listeners = [];
    for (var i = 0, len = listeners.length; i < len; ++i) {
        propagateToListener(promise, listeners[i]);
    }
    var psd = promise._PSD;
    --psd.ref || psd.finalize(); // if psd.ref reaches zero, call psd.finalize();
    if (numScheduledCalls === 0) {
        // If numScheduledCalls is 0, it means that our stack is not in a callback of a scheduled call,
        // and that no deferreds where listening to this rejection or success.
        // Since there is a risk that our stack can contain application code that may
        // do stuff after this code is finished that may generate new calls, we cannot
        // call finalizers here.
        ++numScheduledCalls;
        asap$1(function () {
            if (--numScheduledCalls === 0)
                finalizePhysicalTick(); // Will detect unhandled errors
        }, []);
    }
}
function propagateToListener(promise, listener) {
    if (promise._state === null) {
        promise._listeners.push(listener);
        return;
    }
    var cb = promise._state ? listener.onFulfilled : listener.onRejected;
    if (cb === null) {
        // This Listener doesnt have a listener for the event being triggered (onFulfilled or onReject) so lets forward the event to any eventual listeners on the Promise instance returned by then() or catch()
        return (promise._state ? listener.resolve : listener.reject)(promise._value);
    }
    ++listener.psd.ref;
    ++numScheduledCalls;
    asap$1(callListener, [cb, promise, listener]);
}
function callListener(cb, promise, listener) {
    try {
        // Set static variable currentFulfiller to the promise that is being fullfilled,
        // so that we connect the chain of promises (for long stacks support)
        currentFulfiller = promise;
        // Call callback and resolve our listener with it's return value.
        var ret, value = promise._value;
        if (promise._state) {
            // cb is onResolved
            ret = cb(value);
        }
        else {
            // cb is onRejected
            if (rejectingErrors.length)
                rejectingErrors = [];
            ret = cb(value);
            if (rejectingErrors.indexOf(value) === -1)
                markErrorAsHandled(promise); // Callback didnt do Promise.reject(err) nor reject(err) onto another promise.
        }
        listener.resolve(ret);
    }
    catch (e) {
        // Exception thrown in callback. Reject our listener.
        listener.reject(e);
    }
    finally {
        // Restore env and currentFulfiller.
        currentFulfiller = null;
        if (--numScheduledCalls === 0)
            finalizePhysicalTick();
        --listener.psd.ref || listener.psd.finalize();
    }
}
function getStack(promise, stacks, limit) {
    if (stacks.length === limit)
        return stacks;
    var stack = "";
    if (promise._state === false) {
        var failure = promise._value, errorName, message;
        if (failure != null) {
            errorName = failure.name || "Error";
            message = failure.message || failure;
            stack = prettyStack(failure, 0);
        }
        else {
            errorName = failure; // If error is undefined or null, show that.
            message = "";
        }
        stacks.push(errorName + (message ? ": " + message : "") + stack);
    }
    if (debug) {
        stack = prettyStack(promise._stackHolder, 2);
        if (stack && stacks.indexOf(stack) === -1)
            stacks.push(stack);
        if (promise._prev)
            getStack(promise._prev, stacks, limit);
    }
    return stacks;
}
function linkToPreviousPromise(promise, prev) {
    // Support long stacks by linking to previous completed promise.
    var numPrev = prev ? prev._numPrev + 1 : 0;
    if (numPrev < LONG_STACKS_CLIP_LIMIT) {
        promise._prev = prev;
        promise._numPrev = numPrev;
    }
}
/* The callback to schedule with setImmediate() or setTimeout().
   It runs a virtual microtick and executes any callback registered in microtickQueue.
 */
function physicalTick() {
    beginMicroTickScope() && endMicroTickScope();
}
function beginMicroTickScope() {
    var wasRootExec = isOutsideMicroTick;
    isOutsideMicroTick = false;
    needsNewPhysicalTick = false;
    return wasRootExec;
}
/* Executes micro-ticks without doing try..catch.
   This can be possible because we only use this internally and
   the registered functions are exception-safe (they do try..catch
   internally before calling any external method). If registering
   functions in the microtickQueue that are not exception-safe, this
   would destroy the framework and make it instable. So we don't export
   our asap method.
*/
function endMicroTickScope() {
    var callbacks, i, l;
    do {
        while (microtickQueue.length > 0) {
            callbacks = microtickQueue;
            microtickQueue = [];
            l = callbacks.length;
            for (i = 0; i < l; ++i) {
                var item = callbacks[i];
                item[0].apply(null, item[1]);
            }
        }
    } while (microtickQueue.length > 0);
    isOutsideMicroTick = true;
    needsNewPhysicalTick = true;
}
function finalizePhysicalTick() {
    var unhandledErrs = unhandledErrors;
    unhandledErrors = [];
    unhandledErrs.forEach(function (p) {
        p._PSD.onunhandled.call(null, p._value, p);
    });
    var finalizers = tickFinalizers.slice(0); // Clone first because finalizer may remove itself from list.
    var i = finalizers.length;
    while (i)
        finalizers[--i]();
}
function run_at_end_of_this_or_next_physical_tick(fn) {
    function finalizer() {
        fn();
        tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);
    }
    tickFinalizers.push(finalizer);
    ++numScheduledCalls;
    asap$1(function () {
        if (--numScheduledCalls === 0)
            finalizePhysicalTick();
    }, []);
}
function addPossiblyUnhandledError(promise) {
    // Only add to unhandledErrors if not already there. The first one to add to this list
    // will be upon the first rejection so that the root cause (first promise in the
    // rejection chain) is the one listed.
    if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))
        unhandledErrors.push(promise);
}
function markErrorAsHandled(promise) {
    // Called when a reject handled is actually being called.
    // Search in unhandledErrors for any promise whos _value is this promise_value (list
    // contains only rejected promises, and only one item per error)
    var i = unhandledErrors.length;
    while (i)
        if (unhandledErrors[--i]._value === promise._value) {
            // Found a promise that failed with this same error object pointer,
            // Remove that since there is a listener that actually takes care of it.
            unhandledErrors.splice(i, 1);
            return;
        }
}
function PromiseReject(reason) {
    return new Promise(INTERNAL, false, reason);
}
function wrap(fn, errorCatcher) {
    var psd = PSD;
    return function () {
        var wasRootExec = beginMicroTickScope(), outerScope = PSD;
        try {
            switchToZone(psd, true);
            return fn.apply(this, arguments);
        }
        catch (e) {
            errorCatcher && errorCatcher(e);
        }
        finally {
            switchToZone(outerScope, false);
            if (wasRootExec)
                endMicroTickScope();
        }
    };
}
//
// variables used for native await support
//
var task = { awaits: 0, echoes: 0, id: 0 }; // The ongoing macro-task when using zone-echoing.
var taskCounter = 0; // ID counter for macro tasks.
var zoneStack = []; // Stack of left zones to restore asynchronically.
var zoneEchoes = 0; // zoneEchoes is a must in order to persist zones between native await expressions.
var totalEchoes = 0; // ID counter for micro-tasks. Used to detect possible native await in our Promise.prototype.then.
var zone_id_counter = 0;
function newScope(fn, props$$1, a1, a2) {
    var parent = PSD, psd = Object.create(parent);
    psd.parent = parent;
    psd.ref = 0;
    psd.global = false;
    psd.id = ++zone_id_counter;
    // Prepare for promise patching (done in usePSD):
    var globalEnv = globalPSD.env;
    psd.env = patchGlobalPromise ? {
        Promise: Promise,
        PromiseProp: { value: Promise, configurable: true, writable: true },
        all: Promise.all,
        race: Promise.race,
        resolve: Promise.resolve,
        reject: Promise.reject,
        nthen: getPatchedPromiseThen(globalEnv.nthen, psd),
        gthen: getPatchedPromiseThen(globalEnv.gthen, psd) // global then
    } : {};
    if (props$$1)
        extend(psd, props$$1);
    // unhandleds and onunhandled should not be specifically set here.
    // Leave them on parent prototype.
    // unhandleds.push(err) will push to parent's prototype
    // onunhandled() will call parents onunhandled (with this scope's this-pointer though!)
    ++parent.ref;
    psd.finalize = function () {
        --this.parent.ref || this.parent.finalize();
    };
    var rv = usePSD(psd, fn, a1, a2);
    if (psd.ref === 0)
        psd.finalize();
    return rv;
}
// Function to call if scopeFunc returns NativePromise
// Also for each NativePromise in the arguments to Promise.all()
function incrementExpectedAwaits() {
    if (!task.id)
        task.id = ++taskCounter;
    ++task.awaits;
    task.echoes += ZONE_ECHO_LIMIT;
    return task.id;
}
// Function to call when 'then' calls back on a native promise where onAwaitExpected() had been called.
// Also call this when a native await calls then method on a promise. In that case, don't supply
// sourceTaskId because we already know it refers to current task.
function decrementExpectedAwaits(sourceTaskId) {
    if (!task.awaits || (sourceTaskId && sourceTaskId !== task.id))
        return;
    if (--task.awaits === 0)
        task.id = 0;
    task.echoes = task.awaits * ZONE_ECHO_LIMIT; // Will reset echoes to 0 if awaits is 0.
}
// Call from Promise.all() and Promise.race()
function onPossibleParallellAsync(possiblePromise) {
    if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {
        incrementExpectedAwaits();
        return possiblePromise.then(function (x) {
            decrementExpectedAwaits();
            return x;
        }, function (e) {
            decrementExpectedAwaits();
            return rejection(e);
        });
    }
    return possiblePromise;
}
function zoneEnterEcho(targetZone) {
    ++totalEchoes;
    if (!task.echoes || --task.echoes === 0) {
        task.echoes = task.id = 0; // Cancel zone echoing.
    }
    zoneStack.push(PSD);
    switchToZone(targetZone, true);
}
function zoneLeaveEcho() {
    var zone = zoneStack[zoneStack.length - 1];
    zoneStack.pop();
    switchToZone(zone, false);
}
function switchToZone(targetZone, bEnteringZone) {
    var currentZone = PSD;
    if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {
        // Enter or leave zone asynchronically as well, so that tasks initiated during current tick
        // will be surrounded by the zone when they are invoked.
        enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);
    }
    if (targetZone === PSD)
        return;
    PSD = targetZone; // The actual zone switch occurs at this line.
    // Snapshot on every leave from global zone.
    if (currentZone === globalPSD)
        globalPSD.env = snapShot();
    if (patchGlobalPromise) {
        // Let's patch the global and native Promises (may be same or may be different)
        var GlobalPromise = globalPSD.env.Promise;
        // Swich environments (may be PSD-zone or the global zone. Both apply.)
        var targetEnv = targetZone.env;
        // Change Promise.prototype.then for native and global Promise (they MAY differ on polyfilled environments, but both can be accessed)
        // Must be done on each zone change because the patched method contains targetZone in its closure.
        nativePromiseProto.then = targetEnv.nthen;
        GlobalPromise.prototype.then = targetEnv.gthen;
        if (currentZone.global || targetZone.global) {
            // Leaving or entering global zone. It's time to patch / restore global Promise.
            // Set this Promise to window.Promise so that transiled async functions will work on Firefox, Safari and IE, as well as with Zonejs and angular.
            Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);
            // Support Promise.all() etc to work indexedDB-safe also when people are including es6-promise as a module (they might
            // not be accessing global.Promise but a local reference to it)
            GlobalPromise.all = targetEnv.all;
            GlobalPromise.race = targetEnv.race;
            GlobalPromise.resolve = targetEnv.resolve;
            GlobalPromise.reject = targetEnv.reject;
        }
    }
}
function snapShot() {
    var GlobalPromise = _global.Promise;
    return patchGlobalPromise ? {
        Promise: GlobalPromise,
        PromiseProp: Object.getOwnPropertyDescriptor(_global, "Promise"),
        all: GlobalPromise.all,
        race: GlobalPromise.race,
        resolve: GlobalPromise.resolve,
        reject: GlobalPromise.reject,
        nthen: nativePromiseProto.then,
        gthen: GlobalPromise.prototype.then
    } : {};
}
function usePSD(psd, fn, a1, a2, a3) {
    var outerScope = PSD;
    try {
        switchToZone(psd, true);
        return fn(a1, a2, a3);
    }
    finally {
        switchToZone(outerScope, false);
    }
}
function enqueueNativeMicroTask(job) {
    //
    // Precondition: nativePromiseThen !== undefined
    //
    nativePromiseThen.call(resolvedNativePromise, job);
}
function nativeAwaitCompatibleWrap(fn, zone, possibleAwait) {
    return typeof fn !== 'function' ? fn : function () {
        var outerZone = PSD;
        if (possibleAwait)
            incrementExpectedAwaits();
        switchToZone(zone, true);
        try {
            return fn.apply(this, arguments);
        }
        finally {
            switchToZone(outerZone, false);
        }
    };
}
function getPatchedPromiseThen(origThen, zone) {
    return function (onResolved, onRejected) {
        return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone, false), nativeAwaitCompatibleWrap(onRejected, zone, false));
    };
}
var UNHANDLEDREJECTION = "unhandledrejection";
function globalError(err, promise) {
    var rv;
    try {
        rv = promise.onuncatched(err);
    }
    catch (e) { }
    if (rv !== false)
        try {
            var event, eventData = { promise: promise, reason: err };
            if (_global.document && document.createEvent) {
                event = document.createEvent('Event');
                event.initEvent(UNHANDLEDREJECTION, true, true);
                extend(event, eventData);
            }
            else if (_global.CustomEvent) {
                event = new CustomEvent(UNHANDLEDREJECTION, { detail: eventData });
                extend(event, eventData);
            }
            if (event && _global.dispatchEvent) {
                dispatchEvent(event);
                if (!_global.PromiseRejectionEvent && _global.onunhandledrejection)
                    // No native support for PromiseRejectionEvent but user has set window.onunhandledrejection. Manually call it.
                    try {
                        _global.onunhandledrejection(event);
                    }
                    catch (_) { }
            }
            if (!event.defaultPrevented) {
                console.warn("Unhandled rejection: " + (err.stack || err));
            }
        }
        catch (e) { }
}
var rejection = Promise.reject;

function Events(ctx) {
    var evs = {};
    var rv = function (eventName, subscriber) {
        if (subscriber) {
            // Subscribe. If additional arguments than just the subscriber was provided, forward them as well.
            var i = arguments.length, args = new Array(i - 1);
            while (--i)
                args[i - 1] = arguments[i];
            evs[eventName].subscribe.apply(null, args);
            return ctx;
        }
        else if (typeof (eventName) === 'string') {
            // Return interface allowing to fire or unsubscribe from event
            return evs[eventName];
        }
    };
    rv.addEventType = add;
    for (var i = 1, l = arguments.length; i < l; ++i) {
        add(arguments[i]);
    }
    return rv;
    function add(eventName, chainFunction, defaultFunction) {
        if (typeof eventName === 'object')
            return addConfiguredEvents(eventName);
        if (!chainFunction)
            chainFunction = reverseStoppableEventChain;
        if (!defaultFunction)
            defaultFunction = nop;
        var context = {
            subscribers: [],
            fire: defaultFunction,
            subscribe: function (cb) {
                if (context.subscribers.indexOf(cb) === -1) {
                    context.subscribers.push(cb);
                    context.fire = chainFunction(context.fire, cb);
                }
            },
            unsubscribe: function (cb) {
                context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });
                context.fire = context.subscribers.reduce(chainFunction, defaultFunction);
            }
        };
        evs[eventName] = rv[eventName] = context;
        return context;
    }
    function addConfiguredEvents(cfg) {
        // events(this, {reading: [functionChain, nop]});
        keys(cfg).forEach(function (eventName) {
            var args = cfg[eventName];
            if (isArray(args)) {
                add(eventName, cfg[eventName][0], cfg[eventName][1]);
            }
            else if (args === 'asap') {
                // Rather than approaching event subscription using a functional approach, we here do it in a for-loop where subscriber is executed in its own stack
                // enabling that any exception that occur wont disturb the initiator and also not nescessary be catched and forgotten.
                var context = add(eventName, mirror, function fire() {
                    // Optimazation-safe cloning of arguments into args.
                    var i = arguments.length, args = new Array(i);
                    while (i--)
                        args[i] = arguments[i];
                    // All each subscriber:
                    context.subscribers.forEach(function (fn) {
                        asap(function fireEvent() {
                            fn.apply(null, args);
                        });
                    });
                });
            }
            else
                throw new exceptions.InvalidArgument("Invalid event config");
        });
    }
}

/*
 * Dexie.js - a minimalistic wrapper for IndexedDB
 * ===============================================
 *
 * Copyright (c) 2014-2017 David Fahlander
 *
 * Version {version}, {date}
 *
 * http://dexie.org
 *
 * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/LICENSE-2.0
 *
 */
var DEXIE_VERSION = '{version}';
var maxString = String.fromCharCode(65535);
var maxKey = (function () { try {
    IDBKeyRange.only([[]]);
    return [[]];
}
catch (e) {
    return maxString;
} })();
var minKey = -Infinity;
var INVALID_KEY_ARGUMENT = "Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";
var STRING_EXPECTED = "String expected.";
var connections = [];
var isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);
var hasIEDeleteObjectStoreBug = isIEOrEdge;
var hangsOnDeleteLargeKeyRange = isIEOrEdge;
var dexieStackFrameFilter = function (frame) { return !/(dexie\.js|dexie\.min\.js)/.test(frame); };
var dbNamesDB; // Global database for backing Dexie.getDatabaseNames() on browser without indexedDB.webkitGetDatabaseNames() 
// Init debug
setDebug(debug, dexieStackFrameFilter);
function Dexie(dbName, options) {
    /// <param name="options" type="Object" optional="true">Specify only if you wich to control which addons that should run on this instance</param>
    var deps = Dexie.dependencies;
    var opts = extend({
        // Default Options
        addons: Dexie.addons,
        autoOpen: true,
        indexedDB: deps.indexedDB,
        IDBKeyRange: deps.IDBKeyRange // Backend IDBKeyRange api. Default to browser env.
    }, options);
    var addons = opts.addons, autoOpen = opts.autoOpen, indexedDB = opts.indexedDB, IDBKeyRange = opts.IDBKeyRange;
    var globalSchema = this._dbSchema = {};
    var versions = [];
    var dbStoreNames = [];
    var allTables = {};
    ///<var type="IDBDatabase" />
    var idbdb = null; // Instance of IDBDatabase
    var dbOpenError = null;
    var isBeingOpened = false;
    var onReadyBeingFired = null;
    var openComplete = false;
    var READONLY = "readonly", READWRITE = "readwrite";
    var db = this;
    var dbReadyResolve, dbReadyPromise = new Promise(function (resolve) {
        dbReadyResolve = resolve;
    }), cancelOpen, openCanceller = new Promise(function (_, reject) {
        cancelOpen = reject;
    });
    var autoSchema = true;
    var hasNativeGetDatabaseNames = !!getNativeGetDatabaseNamesFn(indexedDB), hasGetAll;
    function init() {
        // Default subscribers to "versionchange" and "blocked".
        // Can be overridden by custom handlers. If custom handlers return false, these default
        // behaviours will be prevented.
        db.on("versionchange", function (ev) {
            // Default behavior for versionchange event is to close database connection.
            // Caller can override this behavior by doing db.on("versionchange", function(){ return false; });
            // Let's not block the other window from making it's delete() or open() call.
            // NOTE! This event is never fired in IE,Edge or Safari.
            if (ev.newVersion > 0)
                console.warn("Another connection wants to upgrade database '" + db.name + "'. Closing db now to resume the upgrade.");
            else
                console.warn("Another connection wants to delete database '" + db.name + "'. Closing db now to resume the delete request.");
            db.close();
            // In many web applications, it would be recommended to force window.reload()
            // when this event occurs. To do that, subscribe to the versionchange event
            // and call window.location.reload(true) if ev.newVersion > 0 (not a deletion)
            // The reason for this is that your current web app obviously has old schema code that needs
            // to be updated. Another window got a newer version of the app and needs to upgrade DB but
            // your window is blocking it unless we close it here.
        });
        db.on("blocked", function (ev) {
            if (!ev.newVersion || ev.newVersion < ev.oldVersion)
                console.warn("Dexie.delete('" + db.name + "') was blocked");
            else
                console.warn("Upgrade '" + db.name + "' blocked by other connection holding version " + ev.oldVersion / 10);
        });
    }
    //
    //
    //
    // ------------------------- Versioning Framework---------------------------
    //
    //
    //
    this.version = function (versionNumber) {
        /// <param name="versionNumber" type="Number"></param>
        /// <returns type="Version"></returns>
        if (idbdb || isBeingOpened)
            throw new exceptions.Schema("Cannot add version when database is open");
        this.verno = Math.max(this.verno, versionNumber);
        var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];
        if (versionInstance)
            return versionInstance;
        versionInstance = new Version(versionNumber);
        versions.push(versionInstance);
        versions.sort(lowerVersionFirst);
        // Disable autoschema mode, as at least one version is specified.
        autoSchema = false;
        return versionInstance;
    };
    function Version(versionNumber) {
        this._cfg = {
            version: versionNumber,
            storesSource: null,
            dbschema: {},
            tables: {},
            contentUpgrade: null
        };
        this.stores({}); // Derive earlier schemas by default.
    }
    extend(Version.prototype, {
        stores: function (stores) {
            /// <summary>
            ///   Defines the schema for a particular version
            /// </summary>
            /// <param name="stores" type="Object">
            /// Example: <br/>
            ///   {users: "id++,first,last,&amp;username,*email", <br/>
            ///   passwords: "id++,&amp;username"}<br/>
            /// <br/>
            /// Syntax: {Table: "[primaryKey][++],[&amp;][*]index1,[&amp;][*]index2,..."}<br/><br/>
            /// Special characters:<br/>
            ///  "&amp;"  means unique key, <br/>
            ///  "*"  means value is multiEntry, <br/>
            ///  "++" means auto-increment and only applicable for primary key <br/>
            /// </param>
            this._cfg.storesSource = this._cfg.storesSource ? extend(this._cfg.storesSource, stores) : stores;
            // Derive stores from earlier versions if they are not explicitely specified as null or a new syntax.
            var storesSpec = {};
            versions.forEach(function (version) {
                extend(storesSpec, version._cfg.storesSource);
            });
            var dbschema = (this._cfg.dbschema = {});
            this._parseStoresSpec(storesSpec, dbschema);
            // Update the latest schema to this version
            // Update API
            globalSchema = db._dbSchema = dbschema;
            removeTablesApi([allTables, db, Transaction.prototype]); // Keep Transaction.prototype even though it should be depr.
            setApiOnPlace([allTables, db, Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);
            dbStoreNames = keys(dbschema);
            return this;
        },
        upgrade: function (upgradeFunction) {
            this._cfg.contentUpgrade = upgradeFunction;
            return this;
        },
        _parseStoresSpec: function (stores, outSchema) {
            keys(stores).forEach(function (tableName) {
                if (stores[tableName] !== null) {
                    var instanceTemplate = {};
                    var indexes = parseIndexSyntax(stores[tableName]);
                    var primKey = indexes.shift();
                    if (primKey.multi)
                        throw new exceptions.Schema("Primary key cannot be multi-valued");
                    if (primKey.keyPath)
                        setByKeyPath(instanceTemplate, primKey.keyPath, primKey.auto ? 0 : primKey.keyPath);
                    indexes.forEach(function (idx) {
                        if (idx.auto)
                            throw new exceptions.Schema("Only primary key can be marked as autoIncrement (++)");
                        if (!idx.keyPath)
                            throw new exceptions.Schema("Index must have a name and cannot be an empty string");
                        setByKeyPath(instanceTemplate, idx.keyPath, idx.compound ? idx.keyPath.map(function () { return ""; }) : "");
                    });
                    outSchema[tableName] = new TableSchema(tableName, primKey, indexes, instanceTemplate);
                }
            });
        }
    });
    function runUpgraders(oldVersion, idbtrans, reject) {
        var trans = db._createTransaction(READWRITE, dbStoreNames, globalSchema);
        trans.create(idbtrans);
        trans._completion.catch(reject);
        var rejectTransaction = trans._reject.bind(trans);
        newScope(function () {
            PSD.trans = trans;
            if (oldVersion === 0) {
                // Create tables:
                keys(globalSchema).forEach(function (tableName) {
                    createTable(idbtrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);
                });
                Promise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);
            }
            else
                updateTablesAndIndexes(oldVersion, trans, idbtrans).catch(rejectTransaction);
        });
    }
    function updateTablesAndIndexes(oldVersion, trans, idbtrans) {
        // Upgrade version to version, step-by-step from oldest to newest version.
        // Each transaction object will contain the table set that was current in that version (but also not-yet-deleted tables from its previous version)
        var queue = [];
        var oldVersionStruct = versions.filter(function (version) { return version._cfg.version === oldVersion; })[0];
        if (!oldVersionStruct)
            throw new exceptions.Upgrade("Dexie specification of currently installed DB version is missing");
        globalSchema = db._dbSchema = oldVersionStruct._cfg.dbschema;
        var anyContentUpgraderHasRun = false;
        var versToRun = versions.filter(function (v) { return v._cfg.version > oldVersion; });
        versToRun.forEach(function (version) {
            /// <param name="version" type="Version"></param>
            queue.push(function () {
                var oldSchema = globalSchema;
                var newSchema = version._cfg.dbschema;
                adjustToExistingIndexNames(oldSchema, idbtrans);
                adjustToExistingIndexNames(newSchema, idbtrans);
                globalSchema = db._dbSchema = newSchema;
                var diff = getSchemaDiff(oldSchema, newSchema);
                // Add tables           
                diff.add.forEach(function (tuple) {
                    createTable(idbtrans, tuple[0], tuple[1].primKey, tuple[1].indexes);
                });
                // Change tables
                diff.change.forEach(function (change) {
                    if (change.recreate) {
                        throw new exceptions.Upgrade("Not yet support for changing primary key");
                    }
                    else {
                        var store = idbtrans.objectStore(change.name);
                        // Add indexes
                        change.add.forEach(function (idx) {
                            addIndex(store, idx);
                        });
                        // Update indexes
                        change.change.forEach(function (idx) {
                            store.deleteIndex(idx.name);
                            addIndex(store, idx);
                        });
                        // Delete indexes
                        change.del.forEach(function (idxName) {
                            store.deleteIndex(idxName);
                        });
                    }
                });
                if (version._cfg.contentUpgrade) {
                    anyContentUpgraderHasRun = true;
                    return Promise.follow(function () {
                        version._cfg.contentUpgrade(trans);
                    });
                }
            });
            queue.push(function (idbtrans) {
                if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {
                    var newSchema = version._cfg.dbschema;
                    // Delete old tables
                    deleteRemovedTables(newSchema, idbtrans);
                }
            });
        });
        // Now, create a queue execution engine
        function runQueue() {
            return queue.length ? Promise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :
                Promise.resolve();
        }
        return runQueue().then(function () {
            createMissingTables(globalSchema, idbtrans); // At last, make sure to create any missing tables. (Needed by addons that add stores to DB without specifying version)
        });
    }
    function getSchemaDiff(oldSchema, newSchema) {
        var diff = {
            del: [],
            add: [],
            change: [] // Array of {name: tableName, recreate: newDefinition, del: delIndexNames, add: newIndexDefs, change: changedIndexDefs}
        };
        for (var table in oldSchema) {
            if (!newSchema[table])
                diff.del.push(table);
        }
        for (table in newSchema) {
            var oldDef = oldSchema[table], newDef = newSchema[table];
            if (!oldDef) {
                diff.add.push([table, newDef]);
            }
            else {
                var change = {
                    name: table,
                    def: newDef,
                    recreate: false,
                    del: [],
                    add: [],
                    change: []
                };
                if (oldDef.primKey.src !== newDef.primKey.src) {
                    // Primary key has changed. Remove and re-add table.
                    change.recreate = true;
                    diff.change.push(change);
                }
                else {
                    // Same primary key. Just find out what differs:
                    var oldIndexes = oldDef.idxByName;
                    var newIndexes = newDef.idxByName;
                    for (var idxName in oldIndexes) {
                        if (!newIndexes[idxName])
                            change.del.push(idxName);
                    }
                    for (idxName in newIndexes) {
                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];
                        if (!oldIdx)
                            change.add.push(newIdx);
                        else if (oldIdx.src !== newIdx.src)
                            change.change.push(newIdx);
                    }
                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {
                        diff.change.push(change);
                    }
                }
            }
        }
        return diff;
    }
    function createTable(idbtrans, tableName, primKey, indexes) {
        /// <param name="idbtrans" type="IDBTransaction"></param>
        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ? { keyPath: primKey.keyPath, autoIncrement: primKey.auto } : { autoIncrement: primKey.auto });
        indexes.forEach(function (idx) { addIndex(store, idx); });
        return store;
    }
    function createMissingTables(newSchema, idbtrans) {
        keys(newSchema).forEach(function (tableName) {
            if (!idbtrans.db.objectStoreNames.contains(tableName)) {
                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);
            }
        });
    }
    function deleteRemovedTables(newSchema, idbtrans) {
        for (var i = 0; i < idbtrans.db.objectStoreNames.length; ++i) {
            var storeName = idbtrans.db.objectStoreNames[i];
            if (newSchema[storeName] == null) {
                idbtrans.db.deleteObjectStore(storeName);
            }
        }
    }
    function addIndex(store, idx) {
        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });
    }
    //
    //
    //      Dexie Protected API
    //
    //
    this._allTables = allTables;
    this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) {
        return new Transaction(mode, storeNames, dbschema, parentTransaction);
    };
    /* Generate a temporary transaction when db operations are done outside a transaction scope.
    */
    function tempTransaction(mode, storeNames, fn) {
        if (!openComplete && (!PSD.letThrough)) {
            if (!isBeingOpened) {
                if (!autoOpen)
                    return rejection(new exceptions.DatabaseClosed());
                db.open().catch(nop); // Open in background. If if fails, it will be catched by the final promise anyway.
            }
            return dbReadyPromise.then(function () { return tempTransaction(mode, storeNames, fn); });
        }
        else {
            var trans = db._createTransaction(mode, storeNames, globalSchema);
            try {
                trans.create();
            }
            catch (ex) {
                return rejection(ex);
            }
            return trans._promise(mode, function (resolve, reject) {
                return newScope(function () {
                    PSD.trans = trans;
                    return fn(resolve, reject, trans);
                });
            }).then(function (result) {
                // Instead of resolving value directly, wait with resolving it until transaction has completed.
                // Otherwise the data would not be in the DB if requesting it in the then() operation.
                // Specifically, to ensure that the following expression will work:
                //
                //   db.friends.put({name: "Arne"}).then(function () {
                //       db.friends.where("name").equals("Arne").count(function(count) {
                //           assert (count === 1);
                //       });
                //   });
                //
                return trans._completion.then(function () { return result; });
            }); /*.catch(err => { // Don't do this as of now. If would affect bulk- and modify methods in a way that could be more intuitive. But wait! Maybe change in next major.
                trans._reject(err);
                return rejection(err);
            });*/
        }
    }
    this._whenReady = function (fn) {
        return openComplete || PSD.letThrough ? fn() : new Promise(function (resolve, reject) {
            if (!isBeingOpened) {
                if (!autoOpen) {
                    reject(new exceptions.DatabaseClosed());
                    return;
                }
                db.open().catch(nop); // Open in background. If if fails, it will be catched by the final promise anyway.
            }
            dbReadyPromise.then(resolve, reject);
        }).then(fn);
    };
    //
    //
    //
    //
    //      Dexie API
    //
    //
    //
    this.verno = 0;
    this.open = function () {
        if (isBeingOpened || idbdb)
            return dbReadyPromise.then(function () { return dbOpenError ? rejection(dbOpenError) : db; });
        debug && (openCanceller._stackHolder = getErrorWithStack()); // Let stacks point to when open() was called rather than where new Dexie() was called.
        isBeingOpened = true;
        dbOpenError = null;
        openComplete = false;
        // Function pointers to call when the core opening process completes.
        var resolveDbReady = dbReadyResolve, 
        // upgradeTransaction to abort on failure.
        upgradeTransaction = null;
        return Promise.race([openCanceller, new Promise(function (resolve, reject) {
                // Multiply db.verno with 10 will be needed to workaround upgrading bug in IE:
                // IE fails when deleting objectStore after reading from it.
                // A future version of Dexie.js will stopover an intermediate version to workaround this.
                // At that point, we want to be backward compatible. Could have been multiplied with 2, but by using 10, it is easier to map the number to the real version number.
                // If no API, throw!
                if (!indexedDB)
                    throw new exceptions.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL " +
                        "(not locally). If using old Safari versions, make sure to include indexedDB polyfill.");
                var req = autoSchema ? indexedDB.open(dbName) : indexedDB.open(dbName, Math.round(db.verno * 10));
                if (!req)
                    throw new exceptions.MissingAPI("IndexedDB API not available"); // May happen in Safari private mode, see https://github.com/dfahlander/Dexie.js/issues/134
                req.onerror = eventRejectHandler(reject);
                req.onblocked = wrap(fireOnBlocked);
                req.onupgradeneeded = wrap(function (e) {
                    upgradeTransaction = req.transaction;
                    if (autoSchema && !db._allowEmptyDB) {
                        // Caller did not specify a version or schema. Doing that is only acceptable for opening alread existing databases.
                        // If onupgradeneeded is called it means database did not exist. Reject the open() promise and make sure that we
                        // do not create a new database by accident here.
                        req.onerror = preventDefault; // Prohibit onabort error from firing before we're done!
                        upgradeTransaction.abort(); // Abort transaction (would hope that this would make DB disappear but it doesnt.)
                        // Close database and delete it.
                        req.result.close();
                        var delreq = indexedDB.deleteDatabase(dbName); // The upgrade transaction is atomic, and javascript is single threaded - meaning that there is no risk that we delete someone elses database here!
                        delreq.onsuccess = delreq.onerror = wrap(function () {
                            reject(new exceptions.NoSuchDatabase("Database " + dbName + " doesnt exist"));
                        });
                    }
                    else {
                        upgradeTransaction.onerror = eventRejectHandler(reject);
                        var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion; // Safari 8 fix.
                        runUpgraders(oldVer / 10, upgradeTransaction, reject, req);
                    }
                }, reject);
                req.onsuccess = wrap(function () {
                    // Core opening procedure complete. Now let's just record some stuff.
                    upgradeTransaction = null;
                    idbdb = req.result;
                    connections.push(db); // Used for emulating versionchange event on IE/Edge/Safari.
                    if (autoSchema)
                        readGlobalSchema();
                    else if (idbdb.objectStoreNames.length > 0) {
                        try {
                            adjustToExistingIndexNames(globalSchema, idbdb.transaction(safariMultiStoreFix(idbdb.objectStoreNames), READONLY));
                        }
                        catch (e) {
                            // Safari may bail out if > 1 store names. However, this shouldnt be a showstopper. Issue #120.
                        }
                    }
                    idbdb.onversionchange = wrap(function (ev) {
                        db._vcFired = true; // detect implementations that not support versionchange (IE/Edge/Safari)
                        db.on("versionchange").fire(ev);
                    });
                    if (!hasNativeGetDatabaseNames && dbName !== '__dbnames') {
                        dbNamesDB.dbnames.put({ name: dbName }).catch(nop);
                    }
                    resolve();
                }, reject);
            })]).then(function () {
            // Before finally resolving the dbReadyPromise and this promise,
            // call and await all on('ready') subscribers:
            // Dexie.vip() makes subscribers able to use the database while being opened.
            // This is a must since these subscribers take part of the opening procedure.
            onReadyBeingFired = [];
            return Promise.resolve(Dexie.vip(db.on.ready.fire)).then(function fireRemainders() {
                if (onReadyBeingFired.length > 0) {
                    // In case additional subscribers to db.on('ready') were added during the time db.on.ready.fire was executed.
                    var remainders = onReadyBeingFired.reduce(promisableChain, nop);
                    onReadyBeingFired = [];
                    return Promise.resolve(Dexie.vip(remainders)).then(fireRemainders);
                }
            });
        }).finally(function () {
            onReadyBeingFired = null;
        }).then(function () {
            // Resolve the db.open() with the db instance.
            isBeingOpened = false;
            return db;
        }).catch(function (err) {
            try {
                // Did we fail within onupgradeneeded? Make sure to abort the upgrade transaction so it doesnt commit.
                upgradeTransaction && upgradeTransaction.abort();
            }
            catch (e) { }
            isBeingOpened = false; // Set before calling db.close() so that it doesnt reject openCanceller again (leads to unhandled rejection event).
            db.close(); // Closes and resets idbdb, removes connections, resets dbReadyPromise and openCanceller so that a later db.open() is fresh.
            // A call to db.close() may have made on-ready subscribers fail. Use dbOpenError if set, since err could be a follow-up error on that.
            dbOpenError = err; // Record the error. It will be used to reject further promises of db operations.
            return rejection(dbOpenError);
        }).finally(function () {
            openComplete = true;
            resolveDbReady(); // dbReadyPromise is resolved no matter if open() rejects or resolved. It's just to wake up waiters.
        });
    };
    this.close = function () {
        var idx = connections.indexOf(db);
        if (idx >= 0)
            connections.splice(idx, 1);
        if (idbdb) {
            try {
                idbdb.close();
            }
            catch (e) { }
            idbdb = null;
        }
        autoOpen = false;
        dbOpenError = new exceptions.DatabaseClosed();
        if (isBeingOpened)
            cancelOpen(dbOpenError);
        // Reset dbReadyPromise promise:
        dbReadyPromise = new Promise(function (resolve) {
            dbReadyResolve = resolve;
        });
        openCanceller = new Promise(function (_, reject) {
            cancelOpen = reject;
        });
    };
    this.delete = function () {
        var hasArguments = arguments.length > 0;
        return new Promise(function (resolve, reject) {
            if (hasArguments)
                throw new exceptions.InvalidArgument("Arguments not allowed in db.delete()");
            if (isBeingOpened) {
                dbReadyPromise.then(doDelete);
            }
            else {
                doDelete();
            }
            function doDelete() {
                db.close();
                var req = indexedDB.deleteDatabase(dbName);
                req.onsuccess = wrap(function () {
                    if (!hasNativeGetDatabaseNames) {
                        dbNamesDB.dbnames.delete(dbName).catch(nop);
                    }
                    resolve();
                });
                req.onerror = eventRejectHandler(reject);
                req.onblocked = fireOnBlocked;
            }
        });
    };
    this.backendDB = function () {
        return idbdb;
    };
    this.isOpen = function () {
        return idbdb !== null;
    };
    this.hasBeenClosed = function () {
        return dbOpenError && (dbOpenError instanceof exceptions.DatabaseClosed);
    };
    this.hasFailed = function () {
        return dbOpenError !== null;
    };
    this.dynamicallyOpened = function () {
        return autoSchema;
    };
    //
    // Properties
    //
    this.name = dbName;
    // db.tables - an array of all Table instances.
    props(this, {
        tables: {
            get: function () {
                /// <returns type="Array" elementType="Table" />
                return keys(allTables).map(function (name) { return allTables[name]; });
            }
        }
    });
    //
    // Events
    //
    this.on = Events(this, "populate", "blocked", "versionchange", { ready: [promisableChain, nop] });
    this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {
        return function (subscriber, bSticky) {
            Dexie.vip(function () {
                if (openComplete) {
                    // Database already open. Call subscriber asap.
                    if (!dbOpenError)
                        Promise.resolve().then(subscriber);
                    // bSticky: Also subscribe to future open sucesses (after close / reopen) 
                    if (bSticky)
                        subscribe(subscriber);
                }
                else if (onReadyBeingFired) {
                    // db.on('ready') subscribers are currently being executed and have not yet resolved or rejected
                    onReadyBeingFired.push(subscriber);
                    if (bSticky)
                        subscribe(subscriber);
                }
                else {
                    // Database not yet open. Subscribe to it.
                    subscribe(subscriber);
                    // If bSticky is falsy, make sure to unsubscribe subscriber when fired once.
                    if (!bSticky)
                        subscribe(function unsubscribe() {
                            db.on.ready.unsubscribe(subscriber);
                            db.on.ready.unsubscribe(unsubscribe);
                        });
                }
            });
        };
    });
    this.transaction = function () {
        /// <summary>
        ///
        /// </summary>
        /// <param name="mode" type="String">"r" for readonly, or "rw" for readwrite</param>
        /// <param name="tableInstances">Table instance, Array of Table instances, String or String Array of object stores to include in the transaction</param>
        /// <param name="scopeFunc" type="Function">Function to execute with transaction</param>
        var args = extractTransactionArgs.apply(this, arguments);
        return this._transaction.apply(this, args);
    };
    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {
        // Let table arguments be all arguments between mode and last argument.
        var i = arguments.length;
        if (i < 2)
            throw new exceptions.InvalidArgument("Too few arguments");
        // Prevent optimzation killer (https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments)
        // and clone arguments except the first one into local var 'args'.
        var args = new Array(i - 1);
        while (--i)
            args[i - 1] = arguments[i];
        // Let scopeFunc be the last argument and pop it so that args now only contain the table arguments.
        scopeFunc = args.pop();
        var tables = flatten(args); // Support using array as middle argument, or a mix of arrays and non-arrays.
        return [mode, tables, scopeFunc];
    }
    this._transaction = function (mode, tables, scopeFunc) {
        var parentTransaction = PSD.trans;
        // Check if parent transactions is bound to this db instance, and if caller wants to reuse it
        if (!parentTransaction || parentTransaction.db !== db || mode.indexOf('!') !== -1)
            parentTransaction = null;
        var onlyIfCompatible = mode.indexOf('?') !== -1;
        mode = mode.replace('!', '').replace('?', ''); // Ok. Will change arguments[0] as well but we wont touch arguments henceforth.
        try {
            //
            // Get storeNames from arguments. Either through given table instances, or through given table names.
            //
            var storeNames = tables.map(function (table) {
                var storeName = table instanceof Table ? table.name : table;
                if (typeof storeName !== 'string')
                    throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");
                return storeName;
            });
            //
            // Resolve mode. Allow shortcuts "r" and "rw".
            //
            if (mode == "r" || mode == READONLY)
                mode = READONLY;
            else if (mode == "rw" || mode == READWRITE)
                mode = READWRITE;
            else
                throw new exceptions.InvalidArgument("Invalid transaction mode: " + mode);
            if (parentTransaction) {
                // Basic checks
                if (parentTransaction.mode === READONLY && mode === READWRITE) {
                    if (onlyIfCompatible) {
                        // Spawn new transaction instead.
                        parentTransaction = null;
                    }
                    else
                        throw new exceptions.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");
                }
                if (parentTransaction) {
                    storeNames.forEach(function (storeName) {
                        if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {
                            if (onlyIfCompatible) {
                                // Spawn new transaction instead.
                                parentTransaction = null;
                            }
                            else
                                throw new exceptions.SubTransaction("Table " + storeName +
                                    " not included in parent transaction.");
                        }
                    });
                }
                if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {
                    // '?' mode should not keep using an inactive transaction.
                    parentTransaction = null;
                }
            }
        }
        catch (e) {
            return parentTransaction ?
                parentTransaction._promise(null, function (_, reject) { reject(e); }) :
                rejection(e);
        }
        // If this is a sub-transaction, lock the parent and then launch the sub-transaction.
        return (parentTransaction ?
            parentTransaction._promise(mode, enterTransactionScope, "lock") :
            PSD.trans ?
                // no parent transaction despite PSD.trans exists. Make sure also
                // that the zone we create is not a sub-zone of current, because
                // Promise.follow() should not wait for it if so.
                usePSD(PSD.transless, function () { return db._whenReady(enterTransactionScope); }) :
                db._whenReady(enterTransactionScope));
        function enterTransactionScope() {
            return Promise.resolve().then(function () {
                // Keep a pointer to last non-transactional PSD to use if someone calls Dexie.ignoreTransaction().
                var transless = PSD.transless || PSD;
                // Our transaction.
                //return new Promise((resolve, reject) => {
                var trans = db._createTransaction(mode, storeNames, globalSchema, parentTransaction);
                // Let the transaction instance be part of a Promise-specific data (PSD) value.
                var zoneProps = {
                    trans: trans,
                    transless: transless
                };
                if (parentTransaction) {
                    // Emulate transaction commit awareness for inner transaction (must 'commit' when the inner transaction has no more operations ongoing)
                    trans.idbtrans = parentTransaction.idbtrans;
                }
                else {
                    trans.create(); // Create the backend transaction so that complete() or error() will trigger even if no operation is made upon it.
                }
                // Support for native async await.
                if (scopeFunc.constructor === AsyncFunction) {
                    incrementExpectedAwaits();
                }
                var returnValue;
                var promiseFollowed = Promise.follow(function () {
                    // Finally, call the scope function with our table and transaction arguments.
                    returnValue = scopeFunc.call(trans, trans);
                    if (returnValue) {
                        if (returnValue.constructor === NativePromise) {
                            var decrementor = decrementExpectedAwaits.bind(null, null);
                            returnValue.then(decrementor, decrementor);
                        }
                        else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {
                            // scopeFunc returned an iterator with throw-support. Handle yield as await.
                            returnValue = awaitIterator(returnValue);
                        }
                    }
                }, zoneProps);
                return (returnValue && typeof returnValue.then === 'function' ?
                    // Promise returned. User uses promise-style transactions.
                    Promise.resolve(returnValue).then(function (x) { return trans.active ?
                        x // Transaction still active. Continue.
                        : rejection(new exceptions.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn")); })
                    // No promise returned. Wait for all outstanding promises before continuing. 
                    : promiseFollowed.then(function () { return returnValue; })).then(function (x) {
                    // sub transactions don't react to idbtrans.oncomplete. We must trigger a completion:
                    if (parentTransaction)
                        trans._resolve();
                    // wait for trans._completion
                    // (if root transaction, this means 'complete' event. If sub-transaction, we've just fired it ourselves)
                    return trans._completion.then(function () { return x; });
                }).catch(function (e) {
                    trans._reject(e); // Yes, above then-handler were maybe not called because of an unhandled rejection in scopeFunc!
                    return rejection(e);
                });
            });
        }
    };
    this.table = function (tableName) {
        /// <returns type="Table"></returns>
        if (!hasOwn(allTables, tableName)) {
            throw new exceptions.InvalidTable("Table " + tableName + " does not exist");
        }
        return allTables[tableName];
    };
    //
    //
    //
    // Table Class
    //
    //
    //
    function Table(name, tableSchema, optionalTrans) {
        /// <param name="name" type="String"></param>
        this.name = name;
        this.schema = tableSchema;
        this._tx = optionalTrans;
        this.hook = allTables[name] ? allTables[name].hook : Events(null, {
            "creating": [hookCreatingChain, nop],
            "reading": [pureFunctionChain, mirror],
            "updating": [hookUpdatingChain, nop],
            "deleting": [hookDeletingChain, nop]
        });
    }
    function BulkErrorHandlerCatchAll(errorList, done, supportHooks) {
        return (supportHooks ? hookedEventRejectHandler : eventRejectHandler)(function (e) {
            errorList.push(e);
            done && done();
        });
    }
    function bulkDelete(idbstore, trans, keysOrTuples, hasDeleteHook, deletingHook) {
        // If hasDeleteHook, keysOrTuples must be an array of tuples: [[key1, value2],[key2,value2],...],
        // else keysOrTuples must be just an array of keys: [key1, key2, ...].
        return new Promise(function (resolve, reject) {
            var len = keysOrTuples.length, lastItem = len - 1;
            if (len === 0)
                return resolve();
            if (!hasDeleteHook) {
                for (var i = 0; i < len; ++i) {
                    var req = idbstore.delete(keysOrTuples[i]);
                    req.onerror = eventRejectHandler(reject);
                    if (i === lastItem)
                        req.onsuccess = wrap(function () { return resolve(); });
                }
            }
            else {
                var hookCtx, errorHandler = hookedEventRejectHandler(reject), successHandler = hookedEventSuccessHandler(null);
                tryCatch(function () {
                    for (var i = 0; i < len; ++i) {
                        hookCtx = { onsuccess: null, onerror: null };
                        var tuple = keysOrTuples[i];
                        deletingHook.call(hookCtx, tuple[0], tuple[1], trans);
                        var req = idbstore.delete(tuple[0]);
                        req._hookCtx = hookCtx;
                        req.onerror = errorHandler;
                        if (i === lastItem)
                            req.onsuccess = hookedEventSuccessHandler(resolve);
                        else
                            req.onsuccess = successHandler;
                    }
                }, function (err) {
                    hookCtx.onerror && hookCtx.onerror(err);
                    throw err;
                });
            }
        });
    }
    props(Table.prototype, {
        //
        // Table Protected Methods
        //
        _trans: function getTransaction(mode, fn, writeLocked) {
            var trans = this._tx || PSD.trans;
            return trans && trans.db === db ?
                trans === PSD.trans ?
                    trans._promise(mode, fn, writeLocked) :
                    newScope(function () { return trans._promise(mode, fn, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :
                tempTransaction(mode, [this.name], fn);
        },
        _idbstore: function getIDBObjectStore(mode, fn, writeLocked) {
            var tableName = this.name;
            function supplyIdbStore(resolve, reject, trans) {
                if (trans.storeNames.indexOf(tableName) === -1)
                    throw new exceptions.NotFound("Table" + tableName + " not part of transaction");
                return fn(resolve, reject, trans.idbtrans.objectStore(tableName), trans);
            }
            return this._trans(mode, supplyIdbStore, writeLocked);
        },
        //
        // Table Public Methods
        //
        get: function (keyOrCrit, cb) {
            if (keyOrCrit && keyOrCrit.constructor === Object)
                return this.where(keyOrCrit).first(cb);
            var self = this;
            return this._idbstore(READONLY, function (resolve, reject, idbstore) {
                var req = idbstore.get(keyOrCrit);
                req.onerror = eventRejectHandler(reject);
                req.onsuccess = wrap(function () {
                    resolve(self.hook.reading.fire(req.result));
                }, reject);
            }).then(cb);
        },
        where: function (indexOrCrit) {
            if (typeof indexOrCrit === 'string')
                return new WhereClause(this, indexOrCrit);
            if (isArray(indexOrCrit))
                return new WhereClause(this, "[" + indexOrCrit.join('+') + "]");
            // indexOrCrit is an object map of {[keyPath]:value} 
            var keyPaths = keys(indexOrCrit);
            if (keyPaths.length === 1)
                // Only one critera. This was the easy case:
                return this
                    .where(keyPaths[0])
                    .equals(indexOrCrit[keyPaths[0]]);
            // Multiple criterias.
            // Let's try finding a compound index that matches all keyPaths in
            // arbritary order:
            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {
                return ix.compound &&
                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; }) &&
                    ix.keyPath.every(function (keyPath) { return keyPaths.indexOf(keyPath) >= 0; });
            })[0];
            if (compoundIndex && maxKey !== maxString)
                // Cool! We found such compound index
                // and this browser supports compound indexes (maxKey !== maxString)!
                return this
                    .where(compoundIndex.name)
                    .equals(compoundIndex.keyPath.map(function (kp) { return indexOrCrit[kp]; }));
            if (!compoundIndex)
                console.warn("The query " + JSON.stringify(indexOrCrit) + " on " + this.name + " would benefit of a " +
                    ("compound index [" + keyPaths.join('+') + "]"));
            // Ok, now let's fallback to finding at least one matching index
            // and filter the rest.
            var idxByName = this.schema.idxByName;
            var simpleIndex = keyPaths.reduce(function (r, keyPath) { return [
                r[0] || idxByName[keyPath],
                r[0] || !idxByName[keyPath] ?
                    combine(r[1], function (x) { return '' + getByKeyPath(x, keyPath) ==
                        '' + indexOrCrit[keyPath]; })
                    : r[1]
            ]; }, [null, null]);
            var idx = simpleIndex[0];
            return idx ?
                this.where(idx.name).equals(indexOrCrit[idx.keyPath])
                    .filter(simpleIndex[1]) :
                compoundIndex ?
                    this.filter(simpleIndex[1]) : // Has compound but browser bad. Allow filter.
                    this.where(keyPaths).equals(''); // No index at all. Fail lazily.
        },
        count: function (cb) {
            return this.toCollection().count(cb);
        },
        offset: function (offset) {
            return this.toCollection().offset(offset);
        },
        limit: function (numRows) {
            return this.toCollection().limit(numRows);
        },
        reverse: function () {
            return this.toCollection().reverse();
        },
        filter: function (filterFunction) {
            return this.toCollection().and(filterFunction);
        },
        each: function (fn) {
            return this.toCollection().each(fn);
        },
        toArray: function (cb) {
            return this.toCollection().toArray(cb);
        },
        orderBy: function (index) {
            return new Collection(new WhereClause(this, isArray(index) ?
                "[" + index.join('+') + "]" :
                index));
        },
        toCollection: function () {
            return new Collection(new WhereClause(this));
        },
        mapToClass: function (constructor, structure) {
            /// <summary>
            ///     Map table to a javascript constructor function. Objects returned from the database will be instances of this class, making
            ///     it possible to the instanceOf operator as well as extending the class using constructor.prototype.method = function(){...}.
            /// </summary>
            /// <param name="constructor">Constructor function representing the class.</param>
            /// <param name="structure" optional="true">Helps IDE code completion by knowing the members that objects contain and not just the indexes. Also
            /// know what type each member has. Example: {name: String, emailAddresses: [String], password}</param>
            this.schema.mappedClass = constructor;
            var instanceTemplate = Object.create(constructor.prototype);
            if (structure) {
                // structure and instanceTemplate is for IDE code competion only while constructor.prototype is for actual inheritance.
                applyStructure(instanceTemplate, structure);
            }
            this.schema.instanceTemplate = instanceTemplate;
            // Now, subscribe to the when("reading") event to make all objects that come out from this table inherit from given class
            // no matter which method to use for reading (Table.get() or Table.where(...)... )
            var readHook = function (obj) {
                if (!obj)
                    return obj; // No valid object. (Value is null). Return as is.
                // Create a new object that derives from constructor:
                var res = Object.create(constructor.prototype);
                // Clone members:
                for (var m in obj)
                    if (hasOwn(obj, m))
                        try {
                            res[m] = obj[m];
                        }
                        catch (_) { }
                return res;
            };
            if (this.schema.readHook) {
                this.hook.reading.unsubscribe(this.schema.readHook);
            }
            this.schema.readHook = readHook;
            this.hook("reading", readHook);
            return constructor;
        },
        defineClass: function (structure) {
            /// <summary>
            ///     Define all members of the class that represents the table. This will help code completion of when objects are read from the database
            ///     as well as making it possible to extend the prototype of the returned constructor function.
            /// </summary>
            /// <param name="structure">Helps IDE code completion by knowing the members that objects contain and not just the indexes. Also
            /// know what type each member has. Example: {name: String, emailAddresses: [String], properties: {shoeSize: Number}}</param>
            return this.mapToClass(Dexie.defineClass(structure), structure);
        },
        bulkDelete: function (keys$$1) {
            if (this.hook.deleting.fire === nop) {
                return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {
                    resolve(bulkDelete(idbstore, trans, keys$$1, false, nop));
                });
            }
            else {
                return this
                    .where(':id')
                    .anyOf(keys$$1)
                    .delete()
                    .then(function () { }); // Resolve with undefined.
            }
        },
        bulkPut: function (objects, keys$$1) {
            var _this = this;
            return this._idbstore(READWRITE, function (resolve, reject, idbstore) {
                if (!idbstore.keyPath && !_this.schema.primKey.auto && !keys$$1)
                    throw new exceptions.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");
                if (idbstore.keyPath && keys$$1)
                    throw new exceptions.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");
                if (keys$$1 && keys$$1.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                if (objects.length === 0)
                    return resolve(); // Caller provided empty list.
                var done = function (result) {
                    if (errorList.length === 0)
                        resolve(result);
                    else
                        reject(new BulkError(_this.name + ".bulkPut(): " + errorList.length + " of " + numObjs + " operations failed", errorList));
                };
                var req, errorList = [], errorHandler, numObjs = objects.length, table = _this;
                if (_this.hook.creating.fire === nop && _this.hook.updating.fire === nop) {
                    //
                    // Standard Bulk (no 'creating' or 'updating' hooks to care about)
                    //
                    errorHandler = BulkErrorHandlerCatchAll(errorList);
                    for (var i = 0, l = objects.length; i < l; ++i) {
                        req = keys$$1 ? idbstore.put(objects[i], keys$$1[i]) : idbstore.put(objects[i]);
                        req.onerror = errorHandler;
                    }
                    // Only need to catch success or error on the last operation
                    // according to the IDB spec.
                    req.onerror = BulkErrorHandlerCatchAll(errorList, done);
                    req.onsuccess = eventSuccessHandler(done);
                }
                else {
                    var effectiveKeys = keys$$1 || idbstore.keyPath && objects.map(function (o) { return getByKeyPath(o, idbstore.keyPath); });
                    // Generate map of {[key]: object}
                    var objectLookup = effectiveKeys && arrayToObject(effectiveKeys, function (key, i) { return key != null && [key, objects[i]]; });
                    var promise = !effectiveKeys ?
                        // Auto-incremented key-less objects only without any keys argument.
                        table.bulkAdd(objects) :
                        // Keys provided. Either as inbound in provided objects, or as a keys argument.
                        // Begin with updating those that exists in DB:
                        table.where(':id').anyOf(effectiveKeys.filter(function (key) { return key != null; })).modify(function () {
                            this.value = objectLookup[this.primKey];
                            objectLookup[this.primKey] = null; // Mark as "don't add this"
                        }).catch(ModifyError, function (e) {
                            errorList = e.failures; // No need to concat here. These are the first errors added.
                        }).then(function () {
                            // Now, let's examine which items didnt exist so we can add them:
                            var objsToAdd = [], keysToAdd = keys$$1 && [];
                            // Iterate backwards. Why? Because if same key was used twice, just add the last one.
                            for (var i = effectiveKeys.length - 1; i >= 0; --i) {
                                var key = effectiveKeys[i];
                                if (key == null || objectLookup[key]) {
                                    objsToAdd.push(objects[i]);
                                    keys$$1 && keysToAdd.push(key);
                                    if (key != null)
                                        objectLookup[key] = null; // Mark as "dont add again"
                                }
                            }
                            // The items are in reverse order so reverse them before adding.
                            // Could be important in order to get auto-incremented keys the way the caller
                            // would expect. Could have used unshift instead of push()/reverse(),
                            // but: http://jsperf.com/unshift-vs-reverse
                            objsToAdd.reverse();
                            keys$$1 && keysToAdd.reverse();
                            return table.bulkAdd(objsToAdd, keysToAdd);
                        }).then(function (lastAddedKey) {
                            // Resolve with key of the last object in given arguments to bulkPut():
                            var lastEffectiveKey = effectiveKeys[effectiveKeys.length - 1]; // Key was provided.
                            return lastEffectiveKey != null ? lastEffectiveKey : lastAddedKey;
                        });
                    promise.then(done).catch(BulkError, function (e) {
                        // Concat failure from ModifyError and reject using our 'done' method.
                        errorList = errorList.concat(e.failures);
                        done();
                    }).catch(reject);
                }
            }, "locked"); // If called from transaction scope, lock transaction til all steps are done.
        },
        bulkAdd: function (objects, keys$$1) {
            var self = this, creatingHook = this.hook.creating.fire;
            return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {
                if (!idbstore.keyPath && !self.schema.primKey.auto && !keys$$1)
                    throw new exceptions.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");
                if (idbstore.keyPath && keys$$1)
                    throw new exceptions.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");
                if (keys$$1 && keys$$1.length !== objects.length)
                    throw new exceptions.InvalidArgument("Arguments objects and keys must have the same length");
                if (objects.length === 0)
                    return resolve(); // Caller provided empty list.
                function done(result) {
                    if (errorList.length === 0)
                        resolve(result);
                    else
                        reject(new BulkError(self.name + ".bulkAdd(): " + errorList.length + " of " + numObjs + " operations failed", errorList));
                }
                var req, errorList = [], errorHandler, successHandler, numObjs = objects.length;
                if (creatingHook !== nop) {
                    //
                    // There are subscribers to hook('creating')
                    // Must behave as documented.
                    //
                    var keyPath = idbstore.keyPath, hookCtx;
                    errorHandler = BulkErrorHandlerCatchAll(errorList, null, true);
                    successHandler = hookedEventSuccessHandler(null);
                    tryCatch(function () {
                        for (var i = 0, l = objects.length; i < l; ++i) {
                            hookCtx = { onerror: null, onsuccess: null };
                            var key = keys$$1 && keys$$1[i];
                            var obj = objects[i], effectiveKey = keys$$1 ? key : keyPath ? getByKeyPath(obj, keyPath) : undefined, keyToUse = creatingHook.call(hookCtx, effectiveKey, obj, trans);
                            if (effectiveKey == null && keyToUse != null) {
                                if (keyPath) {
                                    obj = deepClone(obj);
                                    setByKeyPath(obj, keyPath, keyToUse);
                                }
                                else {
                                    key = keyToUse;
                                }
                            }
                            req = key != null ? idbstore.add(obj, key) : idbstore.add(obj);
                            req._hookCtx = hookCtx;
                            if (i < l - 1) {
                                req.onerror = errorHandler;
                                if (hookCtx.onsuccess)
                                    req.onsuccess = successHandler;
                            }
                        }
                    }, function (err) {
                        hookCtx.onerror && hookCtx.onerror(err);
                        throw err;
                    });
                    req.onerror = BulkErrorHandlerCatchAll(errorList, done, true);
                    req.onsuccess = hookedEventSuccessHandler(done);
                }
                else {
                    //
                    // Standard Bulk (no 'creating' hook to care about)
                    //
                    errorHandler = BulkErrorHandlerCatchAll(errorList);
                    for (var i = 0, l = objects.length; i < l; ++i) {
                        req = keys$$1 ? idbstore.add(objects[i], keys$$1[i]) : idbstore.add(objects[i]);
                        req.onerror = errorHandler;
                    }
                    // Only need to catch success or error on the last operation
                    // according to the IDB spec.
                    req.onerror = BulkErrorHandlerCatchAll(errorList, done);
                    req.onsuccess = eventSuccessHandler(done);
                }
            });
        },
        add: function (obj, key) {
            /// <summary>
            ///   Add an object to the database. In case an object with same primary key already exists, the object will not be added.
            /// </summary>
            /// <param name="obj" type="Object">A javascript object to insert</param>
            /// <param name="key" optional="true">Primary key</param>
            var creatingHook = this.hook.creating.fire;
            return this._idbstore(READWRITE, function (resolve, reject, idbstore, trans) {
                var hookCtx = { onsuccess: null, onerror: null };
                if (creatingHook !== nop) {
                    var effectiveKey = (key != null) ? key : (idbstore.keyPath ? getByKeyPath(obj, idbstore.keyPath) : undefined);
                    var keyToUse = creatingHook.call(hookCtx, effectiveKey, obj, trans); // Allow subscribers to when("creating") to generate the key.
                    if (effectiveKey == null && keyToUse != null) {
                        if (idbstore.keyPath)
                            setByKeyPath(obj, idbstore.keyPath, keyToUse);
                        else
                            key = keyToUse;
                    }
                }
                try {
                    var req = key != null ? idbstore.add(obj, key) : idbstore.add(obj);
                    req._hookCtx = hookCtx;
                    req.onerror = hookedEventRejectHandler(reject);
                    req.onsuccess = hookedEventSuccessHandler(function (result) {
                        // TODO: Remove these two lines in next major release (2.0?)
                        // It's no good practice to have side effects on provided parameters
                        var keyPath = idbstore.keyPath;
                        if (keyPath)
                            setByKeyPath(obj, keyPath, result);
                        resolve(result);
                    });
                }
                catch (e) {
                    if (hookCtx.onerror)
                        hookCtx.onerror(e);
                    throw e;
                }
            });
        },
        put: function (obj, key) {
            var _this = this;
            /// <summary>
            ///   Add an object to the database but in case an object with same primary key alread exists, the existing one will get updated.
            /// </summary>
            /// <param name="obj" type="Object">A javascript object to insert or update</param>
            /// <param name="key" optional="true">Primary key</param>
            var creatingHook = this.hook.creating.fire, updatingHook = this.hook.updating.fire;
            if (creatingHook !== nop || updatingHook !== nop) {
                //
                // People listens to when("creating") or when("updating") events!
                // We must know whether the put operation results in an CREATE or UPDATE.
                //
                var keyPath = this.schema.primKey.keyPath;
                var effectiveKey = (key !== undefined) ? key : (keyPath && getByKeyPath(obj, keyPath));
                if (effectiveKey == null)
                    return this.add(obj);
                // Since key is optional, make sure we get it from obj if not provided
                // Primary key exist. Lock transaction and try modifying existing. If nothing modified, call add().
                // clone obj before this async call. If caller modifies obj the line after put(), the IDB spec requires that it should not affect operation.
                obj = deepClone(obj);
                return this._trans(READWRITE, function () {
                    return _this.where(":id").equals(effectiveKey).modify(function () {
                        // Replace extisting value with our object
                        // CRUD event firing handled in Collection.modify()
                        this.value = obj;
                    }).then(function (count) { return count === 0 ? _this.add(obj, key) : effectiveKey; });
                }, "locked"); // Lock needed because operation is splitted into modify() and add().
            }
            else {
                // Use the standard IDB put() method.
                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {
                    var req = key !== undefined ? idbstore.put(obj, key) : idbstore.put(obj);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function (ev) {
                        var keyPath = idbstore.keyPath;
                        if (keyPath)
                            setByKeyPath(obj, keyPath, ev.target.result);
                        resolve(req.result);
                    });
                });
            }
        },
        'delete': function (key) {
            /// <param name="key">Primary key of the object to delete</param>
            if (this.hook.deleting.subscribers.length) {
                // People listens to when("deleting") event. Must implement delete using Collection.delete() that will
                // call the CRUD event. Only Collection.delete() will know whether an object was actually deleted.
                return this.where(":id").equals(key).delete();
            }
            else {
                // No one listens. Use standard IDB delete() method.
                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {
                    var req = idbstore.delete(key);
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function () {
                        resolve(req.result);
                    });
                });
            }
        },
        clear: function () {
            if (this.hook.deleting.subscribers.length) {
                // People listens to when("deleting") event. Must implement delete using Collection.delete() that will
                // call the CRUD event. Only Collection.delete() will knows which objects that are actually deleted.
                return this.toCollection().delete();
            }
            else {
                return this._idbstore(READWRITE, function (resolve, reject, idbstore) {
                    var req = idbstore.clear();
                    req.onerror = eventRejectHandler(reject);
                    req.onsuccess = wrap(function () {
                        resolve(req.result);
                    });
                });
            }
        },
        update: function (keyOrObject, modifications) {
            if (typeof modifications !== 'object' || isArray(modifications))
                throw new exceptions.InvalidArgument("Modifications must be an object.");
            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {
                // object to modify. Also modify given object with the modifications:
                keys(modifications).forEach(function (keyPath) {
                    setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);
                });
                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);
                if (key === undefined)
                    return rejection(new exceptions.InvalidArgument("Given object does not contain its primary key"));
                return this.where(":id").equals(key).modify(modifications);
            }
            else {
                // key to modify
                return this.where(":id").equals(keyOrObject).modify(modifications);
            }
        }
    });
    //
    //
    //
    // Transaction Class
    //
    //
    //
    function Transaction(mode, storeNames, dbschema, parent) {
        var _this = this;
        /// <summary>
        ///    Transaction class. Represents a database transaction. All operations on db goes through a Transaction.
        /// </summary>
        /// <param name="mode" type="String">Any of "readwrite" or "readonly"</param>
        /// <param name="storeNames" type="Array">Array of table names to operate on</param>
        this.db = db;
        this.mode = mode;
        this.storeNames = storeNames;
        this.idbtrans = null;
        this.on = Events(this, "complete", "error", "abort");
        this.parent = parent || null;
        this.active = true;
        this._reculock = 0;
        this._blockedFuncs = [];
        this._resolve = null;
        this._reject = null;
        this._waitingFor = null;
        this._waitingQueue = null;
        this._spinCount = 0; // Just for debugging waitFor()
        this._completion = new Promise(function (resolve, reject) {
            _this._resolve = resolve;
            _this._reject = reject;
        });
        this._completion.then(function () {
            _this.active = false;
            _this.on.complete.fire();
        }, function (e) {
            var wasActive = _this.active;
            _this.active = false;
            _this.on.error.fire(e);
            _this.parent ?
                _this.parent._reject(e) :
                wasActive && _this.idbtrans && _this.idbtrans.abort();
            return rejection(e); // Indicate we actually DO NOT catch this error.
        });
    }
    props(Transaction.prototype, {
        //
        // Transaction Protected Methods (not required by API users, but needed internally and eventually by dexie extensions)
        //
        _lock: function () {
            assert(!PSD.global); // Locking and unlocking reuires to be within a PSD scope.
            // Temporary set all requests into a pending queue if they are called before database is ready.
            ++this._reculock; // Recursive read/write lock pattern using PSD (Promise Specific Data) instead of TLS (Thread Local Storage)
            if (this._reculock === 1 && !PSD.global)
                PSD.lockOwnerFor = this;
            return this;
        },
        _unlock: function () {
            assert(!PSD.global); // Locking and unlocking reuires to be within a PSD scope.
            if (--this._reculock === 0) {
                if (!PSD.global)
                    PSD.lockOwnerFor = null;
                while (this._blockedFuncs.length > 0 && !this._locked()) {
                    var fnAndPSD = this._blockedFuncs.shift();
                    try {
                        usePSD(fnAndPSD[1], fnAndPSD[0]);
                    }
                    catch (e) { }
                }
            }
            return this;
        },
        _locked: function () {
            // Checks if any write-lock is applied on this transaction.
            // To simplify the Dexie API for extension implementations, we support recursive locks.
            // This is accomplished by using "Promise Specific Data" (PSD).
            // PSD data is bound to a Promise and any child Promise emitted through then() or resolve( new Promise() ).
            // PSD is local to code executing on top of the call stacks of any of any code executed by Promise():
            //         * callback given to the Promise() constructor  (function (resolve, reject){...})
            //         * callbacks given to then()/catch()/finally() methods (function (value){...})
            // If creating a new independant Promise instance from within a Promise call stack, the new Promise will derive the PSD from the call stack of the parent Promise.
            // Derivation is done so that the inner PSD __proto__ points to the outer PSD.
            // PSD.lockOwnerFor will point to current transaction object if the currently executing PSD scope owns the lock.
            return this._reculock && PSD.lockOwnerFor !== this;
        },
        create: function (idbtrans) {
            var _this = this;
            if (!this.mode)
                return this;
            assert(!this.idbtrans);
            if (!idbtrans && !idbdb) {
                switch (dbOpenError && dbOpenError.name) {
                    case "DatabaseClosedError":
                        // Errors where it is no difference whether it was caused by the user operation or an earlier call to db.open()
                        throw new exceptions.DatabaseClosed(dbOpenError);
                    case "MissingAPIError":
                        // Errors where it is no difference whether it was caused by the user operation or an earlier call to db.open()
                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);
                    default:
                        // Make it clear that the user operation was not what caused the error - the error had occurred earlier on db.open()!
                        throw new exceptions.OpenFailed(dbOpenError);
                }
            }
            if (!this.active)
                throw new exceptions.TransactionInactive();
            assert(this._completion._state === null);
            idbtrans = this.idbtrans = idbtrans || idbdb.transaction(safariMultiStoreFix(this.storeNames), this.mode);
            idbtrans.onerror = wrap(function (ev) {
                preventDefault(ev); // Prohibit default bubbling to window.error
                _this._reject(idbtrans.error);
            });
            idbtrans.onabort = wrap(function (ev) {
                preventDefault(ev);
                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));
                _this.active = false;
                _this.on("abort").fire(ev);
            });
            idbtrans.oncomplete = wrap(function () {
                _this.active = false;
                _this._resolve();
            });
            return this;
        },
        _promise: function (mode, fn, bWriteLock) {
            var _this = this;
            if (mode === READWRITE && this.mode !== READWRITE)
                return rejection(new exceptions.ReadOnly("Transaction is readonly"));
            if (!this.active)
                return rejection(new exceptions.TransactionInactive());
            if (this._locked()) {
                return new Promise(function (resolve, reject) {
                    _this._blockedFuncs.push([function () {
                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);
                        }, PSD]);
                });
            }
            else if (bWriteLock) {
                return newScope(function () {
                    var p = new Promise(function (resolve, reject) {
                        _this._lock();
                        var rv = fn(resolve, reject, _this);
                        if (rv && rv.then)
                            rv.then(resolve, reject);
                    });
                    p.finally(function () { return _this._unlock(); });
                    p._lib = true;
                    return p;
                });
            }
            else {
                var p = new Promise(function (resolve, reject) {
                    var rv = fn(resolve, reject, _this);
                    if (rv && rv.then)
                        rv.then(resolve, reject);
                });
                p._lib = true;
                return p;
            }
        },
        _root: function () {
            return this.parent ? this.parent._root() : this;
        },
        waitFor: function (promise) {
            // Always operate on the root transaction (in case this is a sub stransaction)
            var root = this._root();
            // For stability reasons, convert parameter to promise no matter what type is passed to waitFor().
            // (We must be able to call .then() on it.)
            promise = Promise.resolve(promise);
            if (root._waitingFor) {
                // Already called waitFor(). Wait for both to complete.
                root._waitingFor = root._waitingFor.then(function () { return promise; });
            }
            else {
                // We're not in waiting state. Start waiting state.
                root._waitingFor = promise;
                root._waitingQueue = [];
                // Start interacting with indexedDB until promise completes:
                var store = root.idbtrans.objectStore(root.storeNames[0]);
                (function spin() {
                    ++root._spinCount; // For debugging only
                    while (root._waitingQueue.length)
                        (root._waitingQueue.shift())();
                    if (root._waitingFor)
                        store.get(-Infinity).onsuccess = spin;
                }());
            }
            var currentWaitPromise = root._waitingFor;
            return new Promise(function (resolve, reject) {
                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {
                    if (root._waitingFor === currentWaitPromise) {
                        // No one added a wait after us. Safe to stop the spinning.
                        root._waitingFor = null;
                    }
                });
            });
        },
        //
        // Transaction Public Properties and Methods
        //
        abort: function () {
            this.active && this._reject(new exceptions.Abort());
            this.active = false;
        },
        tables: {
            get: deprecated("Transaction.tables", function () { return allTables; })
        },
        table: function (name) {
            var table = db.table(name); // Don't check that table is part of transaction. It must fail lazily!
            return new Table(name, table.schema, this);
        }
    });
    //
    //
    //
    // WhereClause
    //
    //
    //
    function WhereClause(table, index, orCollection) {
        /// <param name="table" type="Table"></param>
        /// <param name="index" type="String" optional="true"></param>
        /// <param name="orCollection" type="Collection" optional="true"></param>
        this._ctx = {
            table: table,
            index: index === ":id" ? null : index,
            or: orCollection
        };
    }
    props(WhereClause.prototype, function () {
        // WhereClause private methods
        function fail(collectionOrWhereClause, err, T) {
            var collection = collectionOrWhereClause instanceof WhereClause ?
                new Collection(collectionOrWhereClause) :
                collectionOrWhereClause;
            collection._ctx.error = T ? new T(err) : new TypeError(err);
            return collection;
        }
        function emptyCollection(whereClause) {
            return new Collection(whereClause, function () { return IDBKeyRange.only(""); }).limit(0);
        }
        function upperFactory(dir) {
            return dir === "next" ? function (s) { return s.toUpperCase(); } : function (s) { return s.toLowerCase(); };
        }
        function lowerFactory(dir) {
            return dir === "next" ? function (s) { return s.toLowerCase(); } : function (s) { return s.toUpperCase(); };
        }
        function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {
            var length = Math.min(key.length, lowerNeedle.length);
            var llp = -1;
            for (var i = 0; i < length; ++i) {
                var lwrKeyChar = lowerKey[i];
                if (lwrKeyChar !== lowerNeedle[i]) {
                    if (cmp(key[i], upperNeedle[i]) < 0)
                        return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);
                    if (cmp(key[i], lowerNeedle[i]) < 0)
                        return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);
                    if (llp >= 0)
                        return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);
                    return null;
                }
                if (cmp(key[i], lwrKeyChar) < 0)
                    llp = i;
            }
            if (length < lowerNeedle.length && dir === "next")
                return key + upperNeedle.substr(key.length);
            if (length < key.length && dir === "prev")
                return key.substr(0, upperNeedle.length);
            return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));
        }
        function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {
            /// <param name="needles" type="Array" elementType="String"></param>
            var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;
            if (!needles.every(function (s) { return typeof s === 'string'; })) {
                return fail(whereClause, STRING_EXPECTED);
            }
            function initDirection(dir) {
                upper = upperFactory(dir);
                lower = lowerFactory(dir);
                compare = (dir === "next" ? simpleCompare : simpleCompareReverse);
                var needleBounds = needles.map(function (needle) {
                    return { lower: lower(needle), upper: upper(needle) };
                }).sort(function (a, b) {
                    return compare(a.lower, b.lower);
                });
                upperNeedles = needleBounds.map(function (nb) { return nb.upper; });
                lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });
                direction = dir;
                nextKeySuffix = (dir === "next" ? "" : suffix);
            }
            initDirection("next");
            var c = new Collection(whereClause, function () {
                return IDBKeyRange.bound(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix);
            });
            c._ondirectionchange = function (direction) {
                // This event onlys occur before filter is called the first time.
                initDirection(direction);
            };
            var firstPossibleNeedle = 0;
            c._addAlgorithm(function (cursor, advance, resolve) {
                /// <param name="cursor" type="IDBCursor"></param>
                /// <param name="advance" type="Function"></param>
                /// <param name="resolve" type="Function"></param>
                var key = cursor.key;
                if (typeof key !== 'string')
                    return false;
                var lowerKey = lower(key);
                if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {
                    return true;
                }
                else {
                    var lowestPossibleCasing = null;
                    for (var i = firstPossibleNeedle; i < needlesLen; ++i) {
                        var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);
                        if (casing === null && lowestPossibleCasing === null)
                            firstPossibleNeedle = i + 1;
                        else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {
                            lowestPossibleCasing = casing;
                        }
                    }
                    if (lowestPossibleCasing !== null) {
                        advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });
                    }
                    else {
                        advance(resolve);
                    }
                    return false;
                }
            });
            return c;
        }
        //
        // WhereClause public methods
        //
        return {
            between: function (lower, upper, includeLower, includeUpper) {
                /// <summary>
                ///     Filter out records whose where-field lays between given lower and upper values. Applies to Strings, Numbers and Dates.
                /// </summary>
                /// <param name="lower"></param>
                /// <param name="upper"></param>
                /// <param name="includeLower" optional="true">Whether items that equals lower should be included. Default true.</param>
                /// <param name="includeUpper" optional="true">Whether items that equals upper should be included. Default false.</param>
                /// <returns type="Collection"></returns>
                includeLower = includeLower !== false; // Default to true
                includeUpper = includeUpper === true; // Default to false
                try {
                    if ((cmp(lower, upper) > 0) ||
                        (cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))
                        return emptyCollection(this); // Workaround for idiotic W3C Specification that DataError must be thrown if lower > upper. The natural result would be to return an empty collection.
                    return new Collection(this, function () { return IDBKeyRange.bound(lower, upper, !includeLower, !includeUpper); });
                }
                catch (e) {
                    return fail(this, INVALID_KEY_ARGUMENT);
                }
            },
            equals: function (value) {
                return new Collection(this, function () { return IDBKeyRange.only(value); });
            },
            above: function (value) {
                return new Collection(this, function () { return IDBKeyRange.lowerBound(value, true); });
            },
            aboveOrEqual: function (value) {
                return new Collection(this, function () { return IDBKeyRange.lowerBound(value); });
            },
            below: function (value) {
                return new Collection(this, function () { return IDBKeyRange.upperBound(value, true); });
            },
            belowOrEqual: function (value) {
                return new Collection(this, function () { return IDBKeyRange.upperBound(value); });
            },
            startsWith: function (str) {
                /// <param name="str" type="String"></param>
                if (typeof str !== 'string')
                    return fail(this, STRING_EXPECTED);
                return this.between(str, str + maxString, true, true);
            },
            startsWithIgnoreCase: function (str) {
                /// <param name="str" type="String"></param>
                if (str === "")
                    return this.startsWith(str);
                return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);
            },
            equalsIgnoreCase: function (str) {
                /// <param name="str" type="String"></param>
                return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], "");
            },
            anyOfIgnoreCase: function () {
                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
                if (set.length === 0)
                    return emptyCollection(this);
                return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, "");
            },
            startsWithAnyOfIgnoreCase: function () {
                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
                if (set.length === 0)
                    return emptyCollection(this);
                return addIgnoreCaseAlgorithm(this, function (x, a) {
                    return a.some(function (n) {
                        return x.indexOf(n) === 0;
                    });
                }, set, maxString);
            },
            anyOf: function () {
                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
                var compare = ascending;
                try {
                    set.sort(compare);
                }
                catch (e) {
                    return fail(this, INVALID_KEY_ARGUMENT);
                }
                if (set.length === 0)
                    return emptyCollection(this);
                var c = new Collection(this, function () { return IDBKeyRange.bound(set[0], set[set.length - 1]); });
                c._ondirectionchange = function (direction) {
                    compare = (direction === "next" ? ascending : descending);
                    set.sort(compare);
                };
                var i = 0;
                c._addAlgorithm(function (cursor, advance, resolve) {
                    var key = cursor.key;
                    while (compare(key, set[i]) > 0) {
                        // The cursor has passed beyond this key. Check next.
                        ++i;
                        if (i === set.length) {
                            // There is no next. Stop searching.
                            advance(resolve);
                            return false;
                        }
                    }
                    if (compare(key, set[i]) === 0) {
                        // The current cursor value should be included and we should continue a single step in case next item has the same key or possibly our next key in set.
                        return true;
                    }
                    else {
                        // cursor.key not yet at set[i]. Forward cursor to the next key to hunt for.
                        advance(function () { cursor.continue(set[i]); });
                        return false;
                    }
                });
                return c;
            },
            notEqual: function (value) {
                return this.inAnyRange([[minKey, value], [value, maxKey]], { includeLowers: false, includeUppers: false });
            },
            noneOf: function () {
                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
                if (set.length === 0)
                    return new Collection(this); // Return entire collection.
                try {
                    set.sort(ascending);
                }
                catch (e) {
                    return fail(this, INVALID_KEY_ARGUMENT);
                }
                // Transform ["a","b","c"] to a set of ranges for between/above/below: [[minKey,"a"], ["a","b"], ["b","c"], ["c",maxKey]]
                var ranges = set.reduce(function (res, val) { return res ? res.concat([[res[res.length - 1][1], val]]) : [[minKey, val]]; }, null);
                ranges.push([set[set.length - 1], maxKey]);
                return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });
            },
            /** Filter out values withing given set of ranges.
            * Example, give children and elders a rebate of 50%:
            *
            *   db.friends.where('age').inAnyRange([[0,18],[65,Infinity]]).modify({Rebate: 1/2});
            *
            * @param {(string|number|Date|Array)[][]} ranges
            * @param {{includeLowers: boolean, includeUppers: boolean}} options
            */
            inAnyRange: function (ranges, options) {
                if (ranges.length === 0)
                    return emptyCollection(this);
                if (!ranges.every(function (range) { return range[0] !== undefined && range[1] !== undefined && ascending(range[0], range[1]) <= 0; })) {
                    return fail(this, "First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower", exceptions.InvalidArgument);
                }
                var includeLowers = !options || options.includeLowers !== false; // Default to true
                var includeUppers = options && options.includeUppers === true; // Default to false
                function addRange(ranges, newRange) {
                    for (var i = 0, l = ranges.length; i < l; ++i) {
                        var range = ranges[i];
                        if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {
                            range[0] = min(range[0], newRange[0]);
                            range[1] = max(range[1], newRange[1]);
                            break;
                        }
                    }
                    if (i === l)
                        ranges.push(newRange);
                    return ranges;
                }
                var sortDirection = ascending;
                function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }
                // Join overlapping ranges
                var set;
                try {
                    set = ranges.reduce(addRange, []);
                    set.sort(rangeSorter);
                }
                catch (ex) {
                    return fail(this, INVALID_KEY_ARGUMENT);
                }
                var i = 0;
                var keyIsBeyondCurrentEntry = includeUppers ?
                    function (key) { return ascending(key, set[i][1]) > 0; } :
                    function (key) { return ascending(key, set[i][1]) >= 0; };
                var keyIsBeforeCurrentEntry = includeLowers ?
                    function (key) { return descending(key, set[i][0]) > 0; } :
                    function (key) { return descending(key, set[i][0]) >= 0; };
                function keyWithinCurrentRange(key) {
                    return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);
                }
                var checkKey = keyIsBeyondCurrentEntry;
                var c = new Collection(this, function () {
                    return IDBKeyRange.bound(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers);
                });
                c._ondirectionchange = function (direction) {
                    if (direction === "next") {
                        checkKey = keyIsBeyondCurrentEntry;
                        sortDirection = ascending;
                    }
                    else {
                        checkKey = keyIsBeforeCurrentEntry;
                        sortDirection = descending;
                    }
                    set.sort(rangeSorter);
                };
                c._addAlgorithm(function (cursor, advance, resolve) {
                    var key = cursor.key;
                    while (checkKey(key)) {
                        // The cursor has passed beyond this key. Check next.
                        ++i;
                        if (i === set.length) {
                            // There is no next. Stop searching.
                            advance(resolve);
                            return false;
                        }
                    }
                    if (keyWithinCurrentRange(key)) {
                        // The current cursor value should be included and we should continue a single step in case next item has the same key or possibly our next key in set.
                        return true;
                    }
                    else if (cmp(key, set[i][1]) === 0 || cmp(key, set[i][0]) === 0) {
                        // includeUpper or includeLower is false so keyWithinCurrentRange() returns false even though we are at range border.
                        // Continue to next key but don't include this one.
                        return false;
                    }
                    else {
                        // cursor.key not yet at set[i]. Forward cursor to the next key to hunt for.
                        advance(function () {
                            if (sortDirection === ascending)
                                cursor.continue(set[i][0]);
                            else
                                cursor.continue(set[i][1]);
                        });
                        return false;
                    }
                });
                return c;
            },
            startsWithAnyOf: function () {
                var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);
                if (!set.every(function (s) { return typeof s === 'string'; })) {
                    return fail(this, "startsWithAnyOf() only works with strings");
                }
                if (set.length === 0)
                    return emptyCollection(this);
                return this.inAnyRange(set.map(function (str) {
                    return [str, str + maxString];
                }));
            }
        };
    });
    //
    //
    //
    // Collection Class
    //
    //
    //
    function Collection(whereClause, keyRangeGenerator) {
        /// <summary>
        ///
        /// </summary>
        /// <param name="whereClause" type="WhereClause">Where clause instance</param>
        /// <param name="keyRangeGenerator" value="function(){ return IDBKeyRange.bound(0,1);}" optional="true"></param>
        var keyRange = null, error = null;
        if (keyRangeGenerator)
            try {
                keyRange = keyRangeGenerator();
            }
            catch (ex) {
                error = ex;
            }
        var whereCtx = whereClause._ctx, table = whereCtx.table;
        this._ctx = {
            table: table,
            index: whereCtx.index,
            isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),
            range: keyRange,
            keysOnly: false,
            dir: "next",
            unique: "",
            algorithm: null,
            filter: null,
            replayFilter: null,
            justLimit: true,
            isMatch: null,
            offset: 0,
            limit: Infinity,
            error: error,
            or: whereCtx.or,
            valueMapper: table.hook.reading.fire
        };
    }
    function isPlainKeyRange(ctx, ignoreLimitFilter) {
        return !(ctx.filter || ctx.algorithm || ctx.or) &&
            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);
    }
    props(Collection.prototype, function () {
        //
        // Collection Private Functions
        //
        function addFilter(ctx, fn) {
            ctx.filter = combine(ctx.filter, fn);
        }
        function addReplayFilter(ctx, factory, isLimitFilter) {
            var curr = ctx.replayFilter;
            ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;
            ctx.justLimit = isLimitFilter && !curr;
        }
        function addMatchFilter(ctx, fn) {
            ctx.isMatch = combine(ctx.isMatch, fn);
        }
        /** @param ctx {
         *      isPrimKey: boolean,
         *      table: Table,
         *      index: string
         * }
         * @param store IDBObjectStore
         **/
        function getIndexOrStore(ctx, store) {
            if (ctx.isPrimKey)
                return store;
            var indexSpec = ctx.table.schema.idxByName[ctx.index];
            if (!indexSpec)
                throw new exceptions.Schema("KeyPath " + ctx.index + " on object store " + store.name + " is not indexed");
            return store.index(indexSpec.name);
        }
        /** @param ctx {
         *      isPrimKey: boolean,
         *      table: Table,
         *      index: string,
         *      keysOnly: boolean,
         *      range?: IDBKeyRange,
         *      dir: "next" | "prev"
         * }
         */
        function openCursor(ctx, store) {
            var idxOrStore = getIndexOrStore(ctx, store);
            return ctx.keysOnly && 'openKeyCursor' in idxOrStore ?
                idxOrStore.openKeyCursor(ctx.range || null, ctx.dir + ctx.unique) :
                idxOrStore.openCursor(ctx.range || null, ctx.dir + ctx.unique);
        }
        function iter(ctx, fn, resolve, reject, idbstore) {
            var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;
            if (!ctx.or) {
                iterate(openCursor(ctx, idbstore), combine(ctx.algorithm, filter), fn, resolve, reject, !ctx.keysOnly && ctx.valueMapper);
            }
            else
                (function () {
                    var set = {};
                    var resolved = 0;
                    function resolveboth() {
                        if (++resolved === 2)
                            resolve(); // Seems like we just support or btwn max 2 expressions, but there are no limit because we do recursion.
                    }
                    function union(item, cursor, advance) {
                        if (!filter || filter(cursor, advance, resolveboth, reject)) {
                            var primaryKey = cursor.primaryKey;
                            var key = '' + primaryKey;
                            if (key === '[object ArrayBuffer]')
                                key = '' + new Uint8Array(primaryKey);
                            if (!hasOwn(set, key)) {
                                set[key] = true;
                                fn(item, cursor, advance);
                            }
                        }
                    }
                    ctx.or._iterate(union, resolveboth, reject, idbstore);
                    iterate(openCursor(ctx, idbstore), ctx.algorithm, union, resolveboth, reject, !ctx.keysOnly && ctx.valueMapper);
                })();
        }
        return {
            //
            // Collection Protected Functions
            //
            _read: function (fn, cb) {
                var ctx = this._ctx;
                return ctx.error ?
                    ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                    ctx.table._idbstore(READONLY, fn).then(cb);
            },
            _write: function (fn) {
                var ctx = this._ctx;
                return ctx.error ?
                    ctx.table._trans(null, rejection.bind(null, ctx.error)) :
                    ctx.table._idbstore(READWRITE, fn, "locked"); // When doing write operations on collections, always lock the operation so that upcoming operations gets queued.
            },
            _addAlgorithm: function (fn) {
                var ctx = this._ctx;
                ctx.algorithm = combine(ctx.algorithm, fn);
            },
            _iterate: function (fn, resolve, reject, idbstore) {
                return iter(this._ctx, fn, resolve, reject, idbstore);
            },
            clone: function (props$$1) {
                var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);
                if (props$$1)
                    extend(ctx, props$$1);
                rv._ctx = ctx;
                return rv;
            },
            raw: function () {
                this._ctx.valueMapper = null;
                return this;
            },
            //
            // Collection Public methods
            //
            each: function (fn) {
                var ctx = this._ctx;
                return this._read(function (resolve, reject, idbstore) {
                    iter(ctx, fn, resolve, reject, idbstore);
                });
            },
            count: function (cb) {
                var ctx = this._ctx;
                if (isPlainKeyRange(ctx, true)) {
                    // This is a plain key range. We can use the count() method if the index.
                    return this._read(function (resolve, reject, idbstore) {
                        var idx = getIndexOrStore(ctx, idbstore);
                        var req = (ctx.range ? idx.count(ctx.range) : idx.count());
                        req.onerror = eventRejectHandler(reject);
                        req.onsuccess = function (e) {
                            resolve(Math.min(e.target.result, ctx.limit));
                        };
                    }, cb);
                }
                else {
                    // Algorithms, filters or expressions are applied. Need to count manually.
                    var count = 0;
                    return this._read(function (resolve, reject, idbstore) {
                        iter(ctx, function () { ++count; return false; }, function () { resolve(count); }, reject, idbstore);
                    }, cb);
                }
            },
            sortBy: function (keyPath, cb) {
                /// <param name="keyPath" type="String"></param>
                var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;
                function getval(obj, i) {
                    if (i)
                        return getval(obj[parts[i]], i - 1);
                    return obj[lastPart];
                }
                var order = this._ctx.dir === "next" ? 1 : -1;
                function sorter(a, b) {
                    var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);
                    return aVal < bVal ? -order : aVal > bVal ? order : 0;
                }
                return this.toArray(function (a) {
                    return a.sort(sorter);
                }).then(cb);
            },
            toArray: function (cb) {
                var ctx = this._ctx;
                return this._read(function (resolve, reject, idbstore) {
                    if (hasGetAll && ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                        // Special optimation if we could use IDBObjectStore.getAll() or
                        // IDBKeyRange.getAll():
                        var readingHook = ctx.table.hook.reading.fire;
                        var idxOrStore = getIndexOrStore(ctx, idbstore);
                        var req = ctx.limit < Infinity ?
                            idxOrStore.getAll(ctx.range, ctx.limit) :
                            idxOrStore.getAll(ctx.range);
                        req.onerror = eventRejectHandler(reject);
                        req.onsuccess = readingHook === mirror ?
                            eventSuccessHandler(resolve) :
                            eventSuccessHandler(function (res) {
                                try {
                                    resolve(res.map(readingHook));
                                }
                                catch (e) {
                                    reject(e);
                                }
                            });
                    }
                    else {
                        // Getting array through a cursor.
                        var a = [];
                        iter(ctx, function (item) { a.push(item); }, function arrayComplete() {
                            resolve(a);
                        }, reject, idbstore);
                    }
                }, cb);
            },
            offset: function (offset) {
                var ctx = this._ctx;
                if (offset <= 0)
                    return this;
                ctx.offset += offset; // For count()
                if (isPlainKeyRange(ctx)) {
                    addReplayFilter(ctx, function () {
                        var offsetLeft = offset;
                        return function (cursor, advance) {
                            if (offsetLeft === 0)
                                return true;
                            if (offsetLeft === 1) {
                                --offsetLeft;
                                return false;
                            }
                            advance(function () {
                                cursor.advance(offsetLeft);
                                offsetLeft = 0;
                            });
                            return false;
                        };
                    });
                }
                else {
                    addReplayFilter(ctx, function () {
                        var offsetLeft = offset;
                        return function () { return (--offsetLeft < 0); };
                    });
                }
                return this;
            },
            limit: function (numRows) {
                this._ctx.limit = Math.min(this._ctx.limit, numRows); // For count()
                addReplayFilter(this._ctx, function () {
                    var rowsLeft = numRows;
                    return function (cursor, advance, resolve) {
                        if (--rowsLeft <= 0)
                            advance(resolve); // Stop after this item has been included
                        return rowsLeft >= 0; // If numRows is already below 0, return false because then 0 was passed to numRows initially. Otherwise we wouldnt come here.
                    };
                }, true);
                return this;
            },
            until: function (filterFunction, bIncludeStopEntry) {
                addFilter(this._ctx, function (cursor, advance, resolve) {
                    if (filterFunction(cursor.value)) {
                        advance(resolve);
                        return bIncludeStopEntry;
                    }
                    else {
                        return true;
                    }
                });
                return this;
            },
            first: function (cb) {
                return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);
            },
            last: function (cb) {
                return this.reverse().first(cb);
            },
            filter: function (filterFunction) {
                /// <param name="jsFunctionFilter" type="Function">function(val){return true/false}</param>
                addFilter(this._ctx, function (cursor) {
                    return filterFunction(cursor.value);
                });
                // match filters not used in Dexie.js but can be used by 3rd part libraries to test a
                // collection for a match without querying DB. Used by Dexie.Observable.
                addMatchFilter(this._ctx, filterFunction);
                return this;
            },
            and: function (filterFunction) {
                return this.filter(filterFunction);
            },
            or: function (indexName) {
                return new WhereClause(this._ctx.table, indexName, this);
            },
            reverse: function () {
                this._ctx.dir = (this._ctx.dir === "prev" ? "next" : "prev");
                if (this._ondirectionchange)
                    this._ondirectionchange(this._ctx.dir);
                return this;
            },
            desc: function () {
                return this.reverse();
            },
            eachKey: function (cb) {
                var ctx = this._ctx;
                ctx.keysOnly = !ctx.isMatch;
                return this.each(function (val, cursor) { cb(cursor.key, cursor); });
            },
            eachUniqueKey: function (cb) {
                this._ctx.unique = "unique";
                return this.eachKey(cb);
            },
            eachPrimaryKey: function (cb) {
                var ctx = this._ctx;
                ctx.keysOnly = !ctx.isMatch;
                return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });
            },
            keys: function (cb) {
                var ctx = this._ctx;
                ctx.keysOnly = !ctx.isMatch;
                var a = [];
                return this.each(function (item, cursor) {
                    a.push(cursor.key);
                }).then(function () {
                    return a;
                }).then(cb);
            },
            primaryKeys: function (cb) {
                var ctx = this._ctx;
                if (hasGetAll && ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {
                    // Special optimation if we could use IDBObjectStore.getAllKeys() or
                    // IDBKeyRange.getAllKeys():
                    return this._read(function (resolve, reject, idbstore) {
                        var idxOrStore = getIndexOrStore(ctx, idbstore);
                        var req = ctx.limit < Infinity ?
                            idxOrStore.getAllKeys(ctx.range, ctx.limit) :
                            idxOrStore.getAllKeys(ctx.range);
                        req.onerror = eventRejectHandler(reject);
                        req.onsuccess = eventSuccessHandler(resolve);
                    }).then(cb);
                }
                ctx.keysOnly = !ctx.isMatch;
                var a = [];
                return this.each(function (item, cursor) {
                    a.push(cursor.primaryKey);
                }).then(function () {
                    return a;
                }).then(cb);
            },
            uniqueKeys: function (cb) {
                this._ctx.unique = "unique";
                return this.keys(cb);
            },
            firstKey: function (cb) {
                return this.limit(1).keys(function (a) { return a[0]; }).then(cb);
            },
            lastKey: function (cb) {
                return this.reverse().firstKey(cb);
            },
            distinct: function () {
                var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];
                if (!idx || !idx.multi)
                    return this; // distinct() only makes differencies on multiEntry indexes.
                var set = {};
                addFilter(this._ctx, function (cursor) {
                    var strKey = cursor.primaryKey.toString(); // Converts any Date to String, String to String, Number to String and Array to comma-separated string
                    var found = hasOwn(set, strKey);
                    set[strKey] = true;
                    return !found;
                });
                return this;
            },
            //
            // Methods that mutate storage
            //
            modify: function (changes) {
                var self = this, ctx = this._ctx, hook = ctx.table.hook, updatingHook = hook.updating.fire, deletingHook = hook.deleting.fire;
                return this._write(function (resolve, reject, idbstore, trans) {
                    var modifyer;
                    if (typeof changes === 'function') {
                        // Changes is a function that may update, add or delete propterties or even require a deletion the object itself (delete this.item)
                        if (updatingHook === nop && deletingHook === nop) {
                            // Noone cares about what is being changed. Just let the modifier function be the given argument as is.
                            modifyer = changes;
                        }
                        else {
                            // People want to know exactly what is being modified or deleted.
                            // Let modifyer be a proxy function that finds out what changes the caller is actually doing
                            // and call the hooks accordingly!
                            modifyer = function (item) {
                                var origItem = deepClone(item); // Clone the item first so we can compare laters.
                                if (changes.call(this, item, this) === false)
                                    return false; // Call the real modifyer function (If it returns false explicitely, it means it dont want to modify anyting on this object)
                                if (!hasOwn(this, "value")) {
                                    // The real modifyer function requests a deletion of the object. Inform the deletingHook that a deletion is taking place.
                                    deletingHook.call(this, this.primKey, item, trans);
                                }
                                else {
                                    // No deletion. Check what was changed
                                    var objectDiff = getObjectDiff(origItem, this.value);
                                    var additionalChanges = updatingHook.call(this, objectDiff, this.primKey, origItem, trans);
                                    if (additionalChanges) {
                                        // Hook want to apply additional modifications. Make sure to fullfill the will of the hook.
                                        item = this.value;
                                        keys(additionalChanges).forEach(function (keyPath) {
                                            setByKeyPath(item, keyPath, additionalChanges[keyPath]); // Adding {keyPath: undefined} means that the keyPath should be deleted. Handled by setByKeyPath
                                        });
                                    }
                                }
                            };
                        }
                    }
                    else if (updatingHook === nop) {
                        // changes is a set of {keyPath: value} and no one is listening to the updating hook.
                        var keyPaths = keys(changes);
                        var numKeys = keyPaths.length;
                        modifyer = function (item) {
                            var anythingModified = false;
                            for (var i = 0; i < numKeys; ++i) {
                                var keyPath = keyPaths[i], val = changes[keyPath];
                                if (getByKeyPath(item, keyPath) !== val) {
                                    setByKeyPath(item, keyPath, val); // Adding {keyPath: undefined} means that the keyPath should be deleted. Handled by setByKeyPath
                                    anythingModified = true;
                                }
                            }
                            return anythingModified;
                        };
                    }
                    else {
                        // changes is a set of {keyPath: value} and people are listening to the updating hook so we need to call it and
                        // allow it to add additional modifications to make.
                        var origChanges = changes;
                        changes = shallowClone(origChanges); // Let's work with a clone of the changes keyPath/value set so that we can restore it in case a hook extends it.
                        modifyer = function (item) {
                            var anythingModified = false;
                            var additionalChanges = updatingHook.call(this, changes, this.primKey, deepClone(item), trans);
                            if (additionalChanges)
                                extend(changes, additionalChanges);
                            keys(changes).forEach(function (keyPath) {
                                var val = changes[keyPath];
                                if (getByKeyPath(item, keyPath) !== val) {
                                    setByKeyPath(item, keyPath, val);
                                    anythingModified = true;
                                }
                            });
                            if (additionalChanges)
                                changes = shallowClone(origChanges); // Restore original changes for next iteration
                            return anythingModified;
                        };
                    }
                    var count = 0;
                    var successCount = 0;
                    var iterationComplete = false;
                    var failures = [];
                    var failKeys = [];
                    var currentKey = null;
                    function modifyItem(item, cursor) {
                        currentKey = cursor.primaryKey;
                        var thisContext = {
                            primKey: cursor.primaryKey,
                            value: item,
                            onsuccess: null,
                            onerror: null
                        };
                        function onerror(e) {
                            failures.push(e);
                            failKeys.push(thisContext.primKey);
                            checkFinished();
                            return true; // Catch these errors and let a final rejection decide whether or not to abort entire transaction
                        }
                        if (modifyer.call(thisContext, item, thisContext) !== false) {
                            var bDelete = !hasOwn(thisContext, "value");
                            ++count;
                            tryCatch(function () {
                                var req = (bDelete ? cursor.delete() : cursor.update(thisContext.value));
                                req._hookCtx = thisContext;
                                req.onerror = hookedEventRejectHandler(onerror);
                                req.onsuccess = hookedEventSuccessHandler(function () {
                                    ++successCount;
                                    checkFinished();
                                });
                            }, onerror);
                        }
                        else if (thisContext.onsuccess) {
                            // Hook will expect either onerror or onsuccess to always be called!
                            thisContext.onsuccess(thisContext.value);
                        }
                    }
                    function doReject(e) {
                        if (e) {
                            failures.push(e);
                            failKeys.push(currentKey);
                        }
                        return reject(new ModifyError("Error modifying one or more objects", failures, successCount, failKeys));
                    }
                    function checkFinished() {
                        if (iterationComplete && successCount + failures.length === count) {
                            if (failures.length > 0)
                                doReject();
                            else
                                resolve(successCount);
                        }
                    }
                    self.clone().raw()._iterate(modifyItem, function () {
                        iterationComplete = true;
                        checkFinished();
                    }, doReject, idbstore);
                });
            },
            'delete': function () {
                var _this = this;
                var ctx = this._ctx, range = ctx.range, deletingHook = ctx.table.hook.deleting.fire, hasDeleteHook = deletingHook !== nop;
                if (!hasDeleteHook &&
                    isPlainKeyRange(ctx) &&
                    ((ctx.isPrimKey && !hangsOnDeleteLargeKeyRange) || !range)) {
                    // May use IDBObjectStore.delete(IDBKeyRange) in this case (Issue #208)
                    // For chromium, this is the way most optimized version.
                    // For IE/Edge, this could hang the indexedDB engine and make operating system instable
                    // (https://gist.github.com/dfahlander/5a39328f029de18222cf2125d56c38f7)
                    return this._write(function (resolve, reject, idbstore) {
                        // Our API contract is to return a count of deleted items, so we have to count() before delete().
                        var onerror = eventRejectHandler(reject), countReq = (range ? idbstore.count(range) : idbstore.count());
                        countReq.onerror = onerror;
                        countReq.onsuccess = function () {
                            var count = countReq.result;
                            tryCatch(function () {
                                var delReq = (range ? idbstore.delete(range) : idbstore.clear());
                                delReq.onerror = onerror;
                                delReq.onsuccess = function () { return resolve(count); };
                            }, function (err) { return reject(err); });
                        };
                    });
                }
                // Default version to use when collection is not a vanilla IDBKeyRange on the primary key.
                // Divide into chunks to not starve RAM.
                // If has delete hook, we will have to collect not just keys but also objects, so it will use
                // more memory and need lower chunk size.
                var CHUNKSIZE = hasDeleteHook ? 2000 : 10000;
                return this._write(function (resolve, reject, idbstore, trans) {
                    var totalCount = 0;
                    // Clone collection and change its table and set a limit of CHUNKSIZE on the cloned Collection instance.
                    var collection = _this
                        .clone({
                        keysOnly: !ctx.isMatch && !hasDeleteHook
                    }) // load just keys (unless filter() or and() or deleteHook has subscribers)
                        .distinct() // In case multiEntry is used, never delete same key twice because resulting count
                        .limit(CHUNKSIZE)
                        .raw(); // Don't filter through reading-hooks (like mapped classes etc)
                    var keysOrTuples = [];
                    // We're gonna do things on as many chunks that are needed.
                    // Use recursion of nextChunk function:
                    var nextChunk = function () { return collection.each(hasDeleteHook ? function (val, cursor) {
                        // Somebody subscribes to hook('deleting'). Collect all primary keys and their values,
                        // so that the hook can be called with its values in bulkDelete().
                        keysOrTuples.push([cursor.primaryKey, cursor.value]);
                    } : function (val, cursor) {
                        // No one subscribes to hook('deleting'). Collect only primary keys:
                        keysOrTuples.push(cursor.primaryKey);
                    }).then(function () {
                        // Chromium deletes faster when doing it in sort order.
                        hasDeleteHook ?
                            keysOrTuples.sort(function (a, b) { return ascending(a[0], b[0]); }) :
                            keysOrTuples.sort(ascending);
                        return bulkDelete(idbstore, trans, keysOrTuples, hasDeleteHook, deletingHook);
                    }).then(function () {
                        var count = keysOrTuples.length;
                        totalCount += count;
                        keysOrTuples = [];
                        return count < CHUNKSIZE ? totalCount : nextChunk();
                    }); };
                    resolve(nextChunk());
                });
            }
        };
    });
    //
    //
    //
    // ------------------------- Help functions ---------------------------
    //
    //
    //
    function lowerVersionFirst(a, b) {
        return a._cfg.version - b._cfg.version;
    }
    function setApiOnPlace(objs, tableNames, dbschema) {
        tableNames.forEach(function (tableName) {
            var schema = dbschema[tableName];
            objs.forEach(function (obj) {
                if (!(tableName in obj)) {
                    if (obj === Transaction.prototype || obj instanceof Transaction) {
                        // obj is a Transaction prototype (or prototype of a subclass to Transaction)
                        // Make the API a getter that returns this.table(tableName)
                        setProp(obj, tableName, { get: function () { return this.table(tableName); } });
                    }
                    else {
                        // Table will not be bound to a transaction (will use Dexie.currentTransaction)
                        obj[tableName] = new Table(tableName, schema);
                    }
                }
            });
        });
    }
    function removeTablesApi(objs) {
        objs.forEach(function (obj) {
            for (var key in obj) {
                if (obj[key] instanceof Table)
                    delete obj[key];
            }
        });
    }
    function iterate(req, filter, fn, resolve, reject, valueMapper) {
        // Apply valueMapper (hook('reading') or mappped class)
        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;
        // Wrap fn with PSD and microtick stuff from Promise.
        var wrappedFn = wrap(mappedFn, reject);
        if (!req.onerror)
            req.onerror = eventRejectHandler(reject);
        if (filter) {
            req.onsuccess = trycatcher(function filter_record() {
                var cursor = req.result;
                if (cursor) {
                    var c = function () { cursor.continue(); };
                    if (filter(cursor, function (advancer) { c = advancer; }, resolve, reject))
                        wrappedFn(cursor.value, cursor, function (advancer) { c = advancer; });
                    c();
                }
                else {
                    resolve();
                }
            }, reject);
        }
        else {
            req.onsuccess = trycatcher(function filter_record() {
                var cursor = req.result;
                if (cursor) {
                    var c = function () { cursor.continue(); };
                    wrappedFn(cursor.value, cursor, function (advancer) { c = advancer; });
                    c();
                }
                else {
                    resolve();
                }
            }, reject);
        }
    }
    function parseIndexSyntax(indexes) {
        /// <param name="indexes" type="String"></param>
        /// <returns type="Array" elementType="IndexSpec"></returns>
        var rv = [];
        indexes.split(',').forEach(function (index) {
            index = index.trim();
            var name = index.replace(/([&*]|\+\+)/g, ""); // Remove "&", "++" and "*"
            // Let keyPath of "[a+b]" be ["a","b"]:
            var keyPath = /^\[/.test(name) ? name.match(/^\[(.*)\]$/)[1].split('+') : name;
            rv.push(new IndexSpec(name, keyPath || null, /\&/.test(index), /\*/.test(index), /\+\+/.test(index), isArray(keyPath), /\./.test(index)));
        });
        return rv;
    }
    function cmp(key1, key2) {
        return indexedDB.cmp(key1, key2);
    }
    function min(a, b) {
        return cmp(a, b) < 0 ? a : b;
    }
    function max(a, b) {
        return cmp(a, b) > 0 ? a : b;
    }
    function ascending(a, b) {
        return indexedDB.cmp(a, b);
    }
    function descending(a, b) {
        return indexedDB.cmp(b, a);
    }
    function simpleCompare(a, b) {
        return a < b ? -1 : a === b ? 0 : 1;
    }
    function simpleCompareReverse(a, b) {
        return a > b ? -1 : a === b ? 0 : 1;
    }
    function combine(filter1, filter2) {
        return filter1 ?
            filter2 ?
                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :
                filter1 :
            filter2;
    }
    function readGlobalSchema() {
        db.verno = idbdb.version / 10;
        db._dbSchema = globalSchema = {};
        dbStoreNames = slice(idbdb.objectStoreNames, 0);
        if (dbStoreNames.length === 0)
            return; // Database contains no stores.
        var trans = idbdb.transaction(safariMultiStoreFix(dbStoreNames), 'readonly');
        dbStoreNames.forEach(function (storeName) {
            var store = trans.objectStore(storeName), keyPath = store.keyPath, dotted = keyPath && typeof keyPath === 'string' && keyPath.indexOf('.') !== -1;
            var primKey = new IndexSpec(keyPath, keyPath || "", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== 'string', dotted);
            var indexes = [];
            for (var j = 0; j < store.indexNames.length; ++j) {
                var idbindex = store.index(store.indexNames[j]);
                keyPath = idbindex.keyPath;
                dotted = keyPath && typeof keyPath === 'string' && keyPath.indexOf('.') !== -1;
                var index = new IndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== 'string', dotted);
                indexes.push(index);
            }
            globalSchema[storeName] = new TableSchema(storeName, primKey, indexes, {});
        });
        setApiOnPlace([allTables], keys(globalSchema), globalSchema);
    }
    function adjustToExistingIndexNames(schema, idbtrans) {
        /// <summary>
        /// Issue #30 Problem with existing db - adjust to existing index names when migrating from non-dexie db
        /// </summary>
        /// <param name="schema" type="Object">Map between name and TableSchema</param>
        /// <param name="idbtrans" type="IDBTransaction"></param>
        var storeNames = idbtrans.db.objectStoreNames;
        for (var i = 0; i < storeNames.length; ++i) {
            var storeName = storeNames[i];
            var store = idbtrans.objectStore(storeName);
            hasGetAll = 'getAll' in store;
            for (var j = 0; j < store.indexNames.length; ++j) {
                var indexName = store.indexNames[j];
                var keyPath = store.index(indexName).keyPath;
                var dexieName = typeof keyPath === 'string' ? keyPath : "[" + slice(keyPath).join('+') + "]";
                if (schema[storeName]) {
                    var indexSpec = schema[storeName].idxByName[dexieName];
                    if (indexSpec)
                        indexSpec.name = indexName;
                }
            }
        }
        // Bug with getAll() on Safari ver<604 on Workers only, see discussion following PR #579
        if (/Safari/.test(navigator.userAgent) &&
            !/(Chrome\/|Edge\/)/.test(navigator.userAgent) &&
            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&
            [].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1] < 604) {
            hasGetAll = false;
        }
    }
    function fireOnBlocked(ev) {
        db.on("blocked").fire(ev);
        // Workaround (not fully*) for missing "versionchange" event in IE,Edge and Safari:
        connections
            .filter(function (c) { return c.name === db.name && c !== db && !c._vcFired; })
            .map(function (c) { return c.on("versionchange").fire(ev); });
    }
    extend(this, {
        Collection: Collection,
        Table: Table,
        Transaction: Transaction,
        Version: Version,
        WhereClause: WhereClause
    });
    init();
    addons.forEach(function (fn) {
        fn(db);
    });
}
function parseType(type) {
    if (typeof type === 'function') {
        return new type();
    }
    else if (isArray(type)) {
        return [parseType(type[0])];
    }
    else if (type && typeof type === 'object') {
        var rv = {};
        applyStructure(rv, type);
        return rv;
    }
    else {
        return type;
    }
}
function applyStructure(obj, structure) {
    keys(structure).forEach(function (member) {
        var value = parseType(structure[member]);
        obj[member] = value;
    });
    return obj;
}
function hookedEventSuccessHandler(resolve) {
    // wrap() is needed when calling hooks because the rare scenario of:
    //  * hook does a db operation that fails immediately (IDB throws exception)
    //    For calling db operations on correct transaction, wrap makes sure to set PSD correctly.
    //    wrap() will also execute in a virtual tick.
    //  * If not wrapped in a virtual tick, direct exception will launch a new physical tick.
    //  * If this was the last event in the bulk, the promise will resolve after a physical tick
    //    and the transaction will have committed already.
    // If no hook, the virtual tick will be executed in the reject()/resolve of the final promise,
    // because it is always marked with _lib = true when created using Transaction._promise().
    return wrap(function (event) {
        var req = event.target, ctx = req._hookCtx, // Contains the hook error handler. Put here instead of closure to boost performance.
        result = ctx.value || req.result, // Pass the object value on updates. The result from IDB is the primary key.
        hookSuccessHandler = ctx && ctx.onsuccess;
        hookSuccessHandler && hookSuccessHandler(result);
        resolve && resolve(result);
    }, resolve);
}
function eventRejectHandler(reject) {
    return wrap(function (event) {
        preventDefault(event);
        reject(event.target.error);
        return false;
    });
}
function eventSuccessHandler(resolve) {
    return wrap(function (event) {
        resolve(event.target.result);
    });
}
function hookedEventRejectHandler(reject) {
    return wrap(function (event) {
        // See comment on hookedEventSuccessHandler() why wrap() is needed only when supporting hooks.
        var req = event.target, err = req.error, ctx = req._hookCtx, // Contains the hook error handler. Put here instead of closure to boost performance.
        hookErrorHandler = ctx && ctx.onerror;
        hookErrorHandler && hookErrorHandler(err);
        preventDefault(event);
        reject(err);
        return false;
    });
}
function preventDefault(event) {
    if (event.stopPropagation)
        event.stopPropagation();
    if (event.preventDefault)
        event.preventDefault();
}
function awaitIterator(iterator) {
    var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);
    function step(getNext) {
        return function (val) {
            var next = getNext(val), value = next.value;
            return next.done ? value :
                (!value || typeof value.then !== 'function' ?
                    isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :
                    value.then(onSuccess, onError));
        };
    }
    return step(callNext)();
}
//
// IndexSpec struct
//
function IndexSpec(name, keyPath, unique, multi, auto, compound, dotted) {
    /// <param name="name" type="String"></param>
    /// <param name="keyPath" type="String"></param>
    /// <param name="unique" type="Boolean"></param>
    /// <param name="multi" type="Boolean"></param>
    /// <param name="auto" type="Boolean"></param>
    /// <param name="compound" type="Boolean"></param>
    /// <param name="dotted" type="Boolean"></param>
    this.name = name;
    this.keyPath = keyPath;
    this.unique = unique;
    this.multi = multi;
    this.auto = auto;
    this.compound = compound;
    this.dotted = dotted;
    var keyPathSrc = typeof keyPath === 'string' ? keyPath : keyPath && ('[' + [].join.call(keyPath, '+') + ']');
    this.src = (unique ? '&' : '') + (multi ? '*' : '') + (auto ? "++" : "") + keyPathSrc;
}
//
// TableSchema struct
//
function TableSchema(name, primKey, indexes, instanceTemplate) {
    /// <param name="name" type="String"></param>
    /// <param name="primKey" type="IndexSpec"></param>
    /// <param name="indexes" type="Array" elementType="IndexSpec"></param>
    /// <param name="instanceTemplate" type="Object"></param>
    this.name = name;
    this.primKey = primKey || new IndexSpec();
    this.indexes = indexes || [new IndexSpec()];
    this.instanceTemplate = instanceTemplate;
    this.mappedClass = null;
    this.idxByName = arrayToObject(indexes, function (index) { return [index.name, index]; });
}
function safariMultiStoreFix(storeNames) {
    return storeNames.length === 1 ? storeNames[0] : storeNames;
}
function getNativeGetDatabaseNamesFn(indexedDB) {
    var fn = indexedDB && (indexedDB.getDatabaseNames || indexedDB.webkitGetDatabaseNames);
    return fn && fn.bind(indexedDB);
}
// Export Error classes
props(Dexie, fullNameExceptions); // Dexie.XXXError = class XXXError {...};
//
// Static methods and properties
// 
props(Dexie, {
    //
    // Static delete() method.
    //
    delete: function (databaseName) {
        var db = new Dexie(databaseName), promise = db.delete();
        promise.onblocked = function (fn) {
            db.on("blocked", fn);
            return this;
        };
        return promise;
    },
    //
    // Static exists() method.
    //
    exists: function (name) {
        return new Dexie(name).open().then(function (db) {
            db.close();
            return true;
        }).catch(Dexie.NoSuchDatabaseError, function () { return false; });
    },
    //
    // Static method for retrieving a list of all existing databases at current host.
    //
    getDatabaseNames: function (cb) {
        var getDatabaseNames = getNativeGetDatabaseNamesFn(Dexie.dependencies.indexedDB);
        return getDatabaseNames ? new Promise(function (resolve, reject) {
            var req = getDatabaseNames();
            req.onsuccess = function (event) {
                resolve(slice(event.target.result, 0)); // Converst DOMStringList to Array<String>
            };
            req.onerror = eventRejectHandler(reject);
        }).then(cb) : dbNamesDB.dbnames.toCollection().primaryKeys(cb);
    },
    defineClass: function () {
        // Default constructor able to copy given properties into this object.
        function Class(properties) {
            /// <param name="properties" type="Object" optional="true">Properties to initialize object with.
            /// </param>
            if (properties)
                extend(this, properties);
        }
        return Class;
    },
    applyStructure: applyStructure,
    ignoreTransaction: function (scopeFunc) {
        // In case caller is within a transaction but needs to create a separate transaction.
        // Example of usage:
        //
        // Let's say we have a logger function in our app. Other application-logic should be unaware of the
        // logger function and not need to include the 'logentries' table in all transaction it performs.
        // The logging should always be done in a separate transaction and not be dependant on the current
        // running transaction context. Then you could use Dexie.ignoreTransaction() to run code that starts a new transaction.
        //
        //     Dexie.ignoreTransaction(function() {
        //         db.logentries.add(newLogEntry);
        //     });
        //
        // Unless using Dexie.ignoreTransaction(), the above example would try to reuse the current transaction
        // in current Promise-scope.
        //
        // An alternative to Dexie.ignoreTransaction() would be setImmediate() or setTimeout(). The reason we still provide an
        // API for this because
        //  1) The intention of writing the statement could be unclear if using setImmediate() or setTimeout().
        //  2) setTimeout() would wait unnescessary until firing. This is however not the case with setImmediate().
        //  3) setImmediate() is not supported in the ES standard.
        //  4) You might want to keep other PSD state that was set in a parent PSD, such as PSD.letThrough.
        return PSD.trans ?
            usePSD(PSD.transless, scopeFunc) : // Use the closest parent that was non-transactional.
            scopeFunc(); // No need to change scope because there is no ongoing transaction.
    },
    vip: function (fn) {
        // To be used by subscribers to the on('ready') event.
        // This will let caller through to access DB even when it is blocked while the db.ready() subscribers are firing.
        // This would have worked automatically if we were certain that the Provider was using Dexie.Promise for all asyncronic operations. The promise PSD
        // from the provider.connect() call would then be derived all the way to when provider would call localDatabase.applyChanges(). But since
        // the provider more likely is using non-promise async APIs or other thenable implementations, we cannot assume that.
        // Note that this method is only useful for on('ready') subscribers that is returning a Promise from the event. If not using vip()
        // the database could deadlock since it wont open until the returned Promise is resolved, and any non-VIPed operation started by
        // the caller will not resolve until database is opened.
        return newScope(function () {
            PSD.letThrough = true; // Make sure we are let through if still blocking db due to onready is firing.
            return fn();
        });
    },
    async: function (generatorFn) {
        return function () {
            try {
                var rv = awaitIterator(generatorFn.apply(this, arguments));
                if (!rv || typeof rv.then !== 'function')
                    return Promise.resolve(rv);
                return rv;
            }
            catch (e) {
                return rejection(e);
            }
        };
    },
    spawn: function (generatorFn, args, thiz) {
        try {
            var rv = awaitIterator(generatorFn.apply(thiz, args || []));
            if (!rv || typeof rv.then !== 'function')
                return Promise.resolve(rv);
            return rv;
        }
        catch (e) {
            return rejection(e);
        }
    },
    // Dexie.currentTransaction property
    currentTransaction: {
        get: function () { return PSD.trans || null; }
    },
    waitFor: function (promiseOrFunction, optionalTimeout) {
        // If a function is provided, invoke it and pass the returning value to Transaction.waitFor()
        var promise = Promise.resolve(typeof promiseOrFunction === 'function' ? Dexie.ignoreTransaction(promiseOrFunction) : promiseOrFunction)
            .timeout(optionalTimeout || 60000); // Default the timeout to one minute. Caller may specify Infinity if required.       
        // Run given promise on current transaction. If no current transaction, just return a Dexie promise based
        // on given value.
        return PSD.trans ? PSD.trans.waitFor(promise) : promise;
    },
    // Export our Promise implementation since it can be handy as a standalone Promise implementation
    Promise: Promise,
    // Dexie.debug proptery:
    // Dexie.debug = false
    // Dexie.debug = true
    // Dexie.debug = "dexie" - don't hide dexie's stack frames.
    debug: {
        get: function () { return debug; },
        set: function (value) {
            setDebug(value, value === 'dexie' ? function () { return true; } : dexieStackFrameFilter);
        }
    },
    // Export our derive/extend/override methodology
    derive: derive,
    extend: extend,
    props: props,
    override: override,
    // Export our Events() function - can be handy as a toolkit
    Events: Events,
    // Utilities
    getByKeyPath: getByKeyPath,
    setByKeyPath: setByKeyPath,
    delByKeyPath: delByKeyPath,
    shallowClone: shallowClone,
    deepClone: deepClone,
    getObjectDiff: getObjectDiff,
    asap: asap,
    maxKey: maxKey,
    minKey: minKey,
    // Addon registry
    addons: [],
    // Global DB connection list
    connections: connections,
    MultiModifyError: exceptions.Modify,
    errnames: errnames,
    // Export other static classes
    IndexSpec: IndexSpec,
    TableSchema: TableSchema,
    //
    // Dependencies
    //
    // These will automatically work in browsers with indexedDB support, or where an indexedDB polyfill has been included.
    //
    // In node.js, however, these properties must be set "manually" before instansiating a new Dexie().
    // For node.js, you need to require indexeddb-js or similar and then set these deps.
    //
    dependencies: (function () {
        try {
            return {
                // Required:
                indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,
                IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange
            };
        }
        catch (e) {
            return {
                indexedDB: null,
                IDBKeyRange: null
            };
        }
    })(),
    // API Version Number: Type Number, make sure to always set a version number that can be comparable correctly. Example: 0.9, 0.91, 0.92, 1.0, 1.01, 1.1, 1.2, 1.21, etc.
    semVer: DEXIE_VERSION,
    version: DEXIE_VERSION.split('.')
        .map(function (n) { return parseInt(n); })
        .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }),
    // https://github.com/dfahlander/Dexie.js/issues/186
    // typescript compiler tsc in mode ts-->es5 & commonJS, will expect require() to return
    // x.default. Workaround: Set Dexie.default = Dexie.
    default: Dexie,
    // Make it possible to import {Dexie} (non-default import)
    // Reason 1: May switch to that in future.
    // Reason 2: We declare it both default and named exported in d.ts to make it possible
    // to let addons extend the Dexie interface with Typescript 2.1 (works only when explicitely
    // exporting the symbol, not just default exporting)
    Dexie: Dexie
});
// Map DOMErrors and DOMExceptions to corresponding Dexie errors. May change in Dexie v2.0.
Promise.rejectionMapper = mapError;
// Initialize dbNamesDB (won't ever be opened on chromium browsers')
dbNamesDB = new Dexie('__dbnames');
dbNamesDB.version(1).stores({ dbnames: 'name' });
(function () {
    // Migrate from Dexie 1.x database names stored in localStorage:
    var DBNAMES = 'Dexie.DatabaseNames';
    try {
        if (typeof localStorage !== undefined && _global.document !== undefined) {
            // Have localStorage and is not executing in a worker. Lets migrate from Dexie 1.x.
            JSON.parse(localStorage.getItem(DBNAMES) || "[]")
                .forEach(function (name) { return dbNamesDB.dbnames.put({ name: name }).catch(nop); });
            localStorage.removeItem(DBNAMES);
        }
    }
    catch (_e) { }
})();

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dexie);
//# sourceMappingURL=dexie.es.js.map


/***/ }),

/***/ "./css/fonts/roboto/Roboto-Bold.woff":
/*!*******************************************!*\
  !*** ./css/fonts/roboto/Roboto-Bold.woff ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Bold.woff");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Bold.woff2":
/*!********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Bold.woff2 ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Bold.woff2");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Light.woff":
/*!********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Light.woff ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Light.woff");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Light.woff2":
/*!*********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Light.woff2 ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Light.woff2");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Medium.woff":
/*!*********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Medium.woff ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Medium.woff");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Medium.woff2":
/*!**********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Medium.woff2 ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Medium.woff2");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Regular.woff":
/*!**********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Regular.woff ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Regular.woff");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Regular.woff2":
/*!***********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Regular.woff2 ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Regular.woff2");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Thin.woff":
/*!*******************************************!*\
  !*** ./css/fonts/roboto/Roboto-Thin.woff ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Thin.woff");

/***/ }),

/***/ "./css/fonts/roboto/Roboto-Thin.woff2":
/*!********************************************!*\
  !*** ./css/fonts/roboto/Roboto-Thin.woff2 ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "css/fonts/roboto/Roboto-Thin.woff2");

/***/ }),

/***/ "../../../node_modules/@ionic/core/css/ionic.bundle.css":
/*!**************************************************************!*\
  !*** ../../../node_modules/@ionic/core/css/ionic.bundle.css ***!
  \**************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var api = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js!./ionic.bundle.css */ "../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/@ionic/core/css/ionic.bundle.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.id, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ }),

/***/ "./css/theme.css":
/*!***********************!*\
  !*** ./css/theme.css ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var api = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!./theme.css */ "../../../node_modules/css-loader/dist/cjs.js!./css/theme.css");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.id, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);



module.exports = content.locals || {};

/***/ }),

/***/ "../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!***********************************************************************************!*\
  !*** ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


var isOldIE = function isOldIE() {
  var memo;
  return function memorize() {
    if (typeof memo === 'undefined') {
      // Test for IE <= 9 as proposed by Browserhacks
      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
      // Tests for existence of standard globals is to allow style-loader
      // to operate correctly into non-standard environments
      // @see https://github.com/webpack-contrib/style-loader/issues/177
      memo = Boolean(window && document && document.all && !window.atob);
    }

    return memo;
  };
}();

var getTarget = function getTarget() {
  var memo = {};
  return function memorize(target) {
    if (typeof memo[target] === 'undefined') {
      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
        try {
          // This will throw an exception if access to iframe is blocked
          // due to cross-origin restrictions
          styleTarget = styleTarget.contentDocument.head;
        } catch (e) {
          // istanbul ignore next
          styleTarget = null;
        }
      }

      memo[target] = styleTarget;
    }

    return memo[target];
  };
}();

var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function insertStyleElement(options) {
  var style = document.createElement('style');
  var attributes = options.attributes || {};

  if (typeof attributes.nonce === 'undefined') {
    var nonce =  true ? __webpack_require__.nc : 0;

    if (nonce) {
      attributes.nonce = nonce;
    }
  }

  Object.keys(attributes).forEach(function (key) {
    style.setAttribute(key, attributes[key]);
  });

  if (typeof options.insert === 'function') {
    options.insert(style);
  } else {
    var target = getTarget(options.insert || 'head');

    if (!target) {
      throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
    }

    target.appendChild(style);
  }

  return style;
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


var replaceText = function replaceText() {
  var textStore = [];
  return function replace(index, replacement) {
    textStore[index] = replacement;
    return textStore.filter(Boolean).join('\n');
  };
}();

function applyToSingletonTag(style, index, remove, obj) {
  var css = remove ? '' : obj.media ? "@media ".concat(obj.media, " {").concat(obj.css, "}") : obj.css; // For old IE

  /* istanbul ignore if  */

  if (style.styleSheet) {
    style.styleSheet.cssText = replaceText(index, css);
  } else {
    var cssNode = document.createTextNode(css);
    var childNodes = style.childNodes;

    if (childNodes[index]) {
      style.removeChild(childNodes[index]);
    }

    if (childNodes.length) {
      style.insertBefore(cssNode, childNodes[index]);
    } else {
      style.appendChild(cssNode);
    }
  }
}

function applyToTag(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute('media', media);
  } else {
    style.removeAttribute('media');
  }

  if (sourceMap && typeof btoa !== 'undefined') {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  if (style.styleSheet) {
    style.styleSheet.cssText = css;
  } else {
    while (style.firstChild) {
      style.removeChild(style.firstChild);
    }

    style.appendChild(document.createTextNode(css));
  }
}

var singleton = null;
var singletonCounter = 0;

function addStyle(obj, options) {
  var style;
  var update;
  var remove;

  if (options.singleton) {
    var styleIndex = singletonCounter++;
    style = singleton || (singleton = insertStyleElement(options));
    update = applyToSingletonTag.bind(null, style, styleIndex, false);
    remove = applyToSingletonTag.bind(null, style, styleIndex, true);
  } else {
    style = insertStyleElement(options);
    update = applyToTag.bind(null, style, options);

    remove = function remove() {
      removeStyleElement(style);
    };
  }

  update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      update(obj = newObj);
    } else {
      remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
  // tags it will allow on a page

  if (!options.singleton && typeof options.singleton !== 'boolean') {
    options.singleton = isOldIE();
  }

  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    if (Object.prototype.toString.call(newList) !== '[object Array]') {
      return;
    }

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "../../../node_modules/tslib/tslib.es6.js":
/*!************************************************!*\
  !*** ../../../node_modules/tslib/tslib.es6.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__spreadArray": () => (/* binding */ __spreadArray),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
});

function __exportStar(m, o) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

/** @deprecated */
function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

/** @deprecated */
function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}


/***/ }),

/***/ "./view/components/app/cards/component-card-user.js":
/*!**********************************************************!*\
  !*** ./view/components/app/cards/component-card-user.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */


class ComponentCardUser extends HTMLElement {


    static get styles() {
    }

    constructor() {
        super();
        this.user = {
            username: '',
            account: '',
            account_status: 'active',
            email_address: '',
            first_name: '',
            last_name: '',
            long_name: '',
            phone_cell: '',
            photo_path: '',
            last_login_date: '',
            user_created_date: '',
            role_name: '',
        }
    }

    connectedCallback() {
        this.template = () => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <ion-card style="background-color: white">
                <ion-item>
                    <ion-avatar style="position: relative" id="avatar_wrapper" name="pin" slot="start"}>
                        ${this.user.avatar? 
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                        <img style="
                            width: 100%;
                            height: 100%;
                            position: absolute;
                            top: 0px;
                            left: 0px;
                        
                        " id="avatar" src=${this.user.avatar}></div>
                        `
                        :
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                        <div style="
                            width: 100%;
                            height: 100%;
                            position: absolute;
                            top: 0px;
                            left: 0px;
                        " id="no_avatar">
                            <svg style="height: 100%" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 120 120.00001" version="1.1" id="svg8" >
                                <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-43.204007,-85.320039)"> 
                                    <rect style="opacity:0.98999999;fill:#e6e6e6;fill-opacity:0.24637681;stroke:#000000;stroke-width:0.06454252;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4576" width="119.49368" height="119.93546" x="43.457169" y="85.35231" />
                                    <g id="g4574" transform="translate(126.12414,-0.65106087)"> 
                                        <path d="m 37.047129,145.97115 a 59.967239,59.967209 0 0 1 -59.715003,59.96667 59.967239,59.967209 0 0 1 -60.217354,-59.46221 59.967239,59.967209 0 0 1 59.208425,-60.466899 59.967239,59.967209 0 0 1 60.715444,58.953529" id="path4498" style="opacity:0.98999999;fill:#999999;fill-opacity:0.77064221;stroke:#000000;stroke-width:0.06547602;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                                        <path id="path4500" transform="scale(0.26458333)" d="m -87.9375,395.13477 a 103.80704,103.80699 0 0 0 -102.49219,104.67187 103.80704,103.80699 0 0 0 41.75391,82.23828 141.61518,141.6151 0 0 0 -79.5625,128.29688 141.61518,141.6151 0 0 0 1.6582,19.33789 226.64785,226.64772 0 0 0 11.15235,8.40234 132.17416,132.17408 0 0 1 -3.36915,-27.82031 132.17416,132.17408 0 0 1 79.32032,-122.10352 103.80704,103.80699 0 0 0 53.285154,14.58008 103.80704,103.80699 0 0 0 52.429687,-14.5957 132.17416,132.17408 0 0 1 79.289063,118.78515 l 0.01953,2.22266 a 132.17416,132.17408 0 0 1 -3.242187,28.64063 226.64785,226.64772 0 0 0 11.042968,-7.89649 141.61518,141.6151 0 0 0 1.640625,-20.74414 l -0.01953,-2.38281 a 141.61518,141.6151 0 0 0 -79.412109,-124.84375 103.80704,103.80699 0 0 1 -0.259766,0.17578 103.80704,103.80699 0 0 0 41.882813,-83.16602 l -0.01367,-1.74804 A 103.80704,103.80699 0 0 0 -87.9375,395.13477 Z m 0.119141,9.43554 A 94.370033,94.36999 0 0 1 7.7285156,497.3457 l 0.013672,1.58789 a 94.370033,94.36999 0 0 1 -93.9726566,94.36914 94.370033,94.36999 0 0 1 -94.763671,-93.57617 94.370033,94.36999 0 0 1 93.175781,-95.15625 z" style="opacity:0.98999999;fill:#e6e6e6;fill-opacity:1;stroke:#000000;stroke-width:0.25984651;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                                    </g>
                                </g>
                            </svg>
                        </div>
                        `
                        }
                    </ion-avatar>
                    <ion-card-header>
                        <ion-card-subtitle>${this.user.username}</ion-card-subtitle>
                        <ion-card-title>${this.user.long_name}</ion-card-title>
                        ${this.user.account ?
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                        <ion-label style="margin-top: 5px;font-size: 12px;"><b>Account:</b> ${this.user.account} </ion-label>
                        `:''}
                        </ion-card-header>
                </ion-item>
                <ion-card-content>
                    <ion-button @click=${() => {this.handleViewUser()}} fill="outline" slot="end">View</ion-button>
                </ion-card-content>
            </ion-card>:
        `;
        this.render();

    }

    render() {
        if(this.template)
            (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(), this);
    }

    handleViewUser() {
        let router = document.querySelector('ion-router');
        router.push(`/users/${this.user._id}`)
    }

}

customElements.define('app-card-user', ComponentCardUser);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentCardUser);

/***/ }),

/***/ "./view/components/app/component-main.js":
/*!***********************************************!*\
  !*** ./view/components/app/component-main.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _ionic_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/core */ "../../../node_modules/@ionic/core/dist/index.js");
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/* harmony import */ var _scene_scene_home__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../scene/scene-home */ "./view/components/scene/scene-home.js");
/* harmony import */ var _scene_scene_notifications__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../scene/scene-notifications */ "./view/components/scene/scene-notifications.js");
/* harmony import */ var _scene_scene_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../scene/scene-user */ "./view/components/scene/scene-user.js");
/* harmony import */ var _scene_scene_users__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../scene/scene-users */ "./view/components/scene/scene-users.js");
/* harmony import */ var _scene_scene_invitations__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../scene/scene-invitations */ "./view/components/scene/scene-invitations.js");
/* harmony import */ var _scene_scene_invitation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../scene/scene-invitation */ "./view/components/scene/scene-invitation.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../scene/scene-communications'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../scene/scene-communication'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _scene_scene_export__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../scene/scene-export */ "./view/components/scene/scene-export.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module './login/component-login'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module './login/component-logout'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-logo'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var applicationstate__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! applicationstate */ "../../../node_modules/applicationstate/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */




















/**
 * This is the main application class
 */
class ComponentMain extends HTMLElement {

    constructor() {
        super();

        this.version = "0.1.0";
        this.environment = "local";
        this.app_name = "telos-admin";

        console.log(`Starting ${this.app_name} v${this.version} in ${this.environment} envioronment.`)

        this.notifications = [];

        //cache controller imports on window as recommended by ionic docs
        window.loadingController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.loadingController;
        window.alertController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.alertController;
        window.actionSheetController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.actionSheetController;
        window.modalController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.modalController;
        window.pickerController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.pickerController;
        window.toastController = _ionic_core__WEBPACK_IMPORTED_MODULE_1__.toastController;

        //TODO: make this work like family app login
        this._logged_in_promise = new Promise(
            (resolve, reject) => {
                this._logged_in_resolve = resolve;
            }
        );

        this._ready_promise = new Promise(
            (resolve, reject) => {
                this._ready_resolve = resolve;
            }
        );

        let handleError = async (message) => {
            let toast_controller = window.toastController;
            if(!toast_controller)
                return alert(message);
            if(!toast_controller.create)
                return alert(message);

            let toast = await toast_controller.create({
                message: message,
                position: 'top',
                showCloseButton: true
            });
            await toast.present();
        }

        //global error handler
        window.addEventListener('error',async (e) => {await handleError(e.message) });
        window.onunhandledrejection = async (e) => {await handleError(e.reason) };

        databroker__WEBPACK_IMPORTED_MODULE_2__["default"].addEventListener('missing_credentials', () => this.handleMissingCredentials());

    }

    get logged_in() {
        return this._logged_in_promise;
    }

    get ready() {
        return this._ready_promise;
    }

    connectedCallback() {
        this.template = () => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
        <style>
            .active {
                --ion-text-color: var(--ion-color-primary);
                border-left: 5px solid;
                border-left-color: var(--ion-color-primary);
            
            }

            .active ion-icon {
                --ion-text-color-rgb: var(--ion-color-primary);
            }
        </style>
        <ion-app>
            <ion-router @ionRouteDidChange=${(e) => this.handleRouteChange(e)}>
                <ion-route url='/' component='scene-home'></ion-route>
                <ion-route url='/notifications' component='scene-notifications'></ion-route>
                <ion-route url='/users' component='scene-users'></ion-route>
                <ion-route url='/users/:user_id' component='scene-user'>
                    <ion-route url='/profile' component='tab-profile'></ion-route>
                    <ion-route url='/history' component='tab-history'></ion-route>
                    <ion-route component='tab-profile'></ion-route>
                </ion-route>
                <ion-route url='/invitations' component='scene-invitations'></ion-route>
                <ion-route url='/invitations/:invitation_id' component='scene-invitation'>
                    <ion-route url='/view' component='tab-view'></ion-route>
                    <ion-route url='/history' component='tab-history'></ion-route>
                    <ion-route component="tab-view"></ion-route>
                </ion-route>
                <ion-route url='/communications' component='scene-communications'></ion-route>
                <ion-route url='/communications/:communication_id' component='scene-communication'>
                    <ion-route url='/view' component='tab-view'></ion-route>
                    <ion-route url='/history' component='tab-history'></ion-route>
                    <ion-route component="tab-view"></ion-route>
                </ion-route>
                <ion-route url='/export' component='scene-export'></ion-route>
            </ion-router>
            <ion-split-pane content-id="app_content" when="sm">
                <ion-menu content-id="app_content">
                    <ion-header>
                        <ion-toolbar color="primary">
                            <div style='display: flex; flex-direction: row; align-items: center; justify-content: center;'>
                                <app-logo style="height: 30px; margin-top: 0px" .mode=${'text'}></app-logo>
                            </div>
                        </ion-toolbar>
                    </ion-header>
        
                    <ion-content>
                        <ion-list id="left_menu_list" lines="none">
                            <ion-menu-toggle auto-hide="false">
                                <ion-item button href="">
                                    <ion-icon slot="start" name='home'></ion-icon>
                                    <ion-label>
                                        Home
                                    </ion-label>
                                </ion-item>
                                <ion-item button href="users"}>
                                    <ion-icon slot="start" name='people'></ion-icon>
                                    <ion-label>
                                        Users
                                    </ion-label>
                                </ion-item>
                                <ion-item button href="notifications">
                                    <ion-icon slot="start" name='notifications'></ion-icon>
                                    <ion-label>
                                       Notifications 
                                    </ion-label>
                                    ${this._notifications ? this._notifications.length ?
                                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-badge color="danger">${this._notifications.length}</ion-badge>`
                                        : '' : ''
                                    }
                                </ion-item>
                                <ion-item button href="invitations"}>
                                    <ion-icon slot="start" name='mail'></ion-icon>
                                    <ion-label>
                                        Invitations
                                    </ion-label>
                                </ion-item>
                                <ion-item button href="communications"}>
                                    <ion-icon slot="start" name='mail'></ion-icon>
                                    <ion-label>
                                        Communication
                                    </ion-label>
                                </ion-item>
                                <ion-item button href="export"}>
                                    <ion-icon slot="start" name='exit'></ion-icon>
                                    <ion-label>
                                        Export Data
                                    </ion-label>
                                </ion-item>
                                <ion-item-divider></ion-item-divider>
                                <ion-item button href="settings"} disabled=disabled>
                                    <ion-icon slot="start" name='settings'></ion-icon>
                                    <ion-label>
                                        Settings
                                    </ion-label>
                                </ion-item>
                            </ion-menu-toggle>
                        </ion-list>
                    </ion-content>
                </ion-menu>
                <ion-nav id="app_content" animated="true"></ion-nav>
            </ion-split-pane>
            <app-login></app-login>
            <ion-progress-bar style="opacity:0; transition: opacity 0.25s linear;" color="warning" type="indeterminate" value="0"></ion-progress-bar>
        </ion-app>
            `;

            this.render();
            this.init();
    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this);
    }

    async init() {
        let ion_app = this.querySelector("ion-app");
        //wait for ionic to load
        let loading_interval = setInterval(
            async () => {
                if(!ion_app.componentOnReady) {
                    console.warn("ionic not loaded, delaying 10ms...");
                    return;
                }

                clearInterval(loading_interval);

                await ion_app.componentOnReady();
                this._ready_resolve();
            }, 10
        );

        await this.ready;

        this.setActiveMenuItem();
        this.login_scene = this.querySelector('app-login');
        this.login_scene.addEventListener('login_success', this.handleLoginSuccess.bind(this));
        this.addEventListener('logout', this.handleLogout.bind(this));
        //this.addEventListener('missing_credentials', this.handleMissingCredentials.bind(this));
        this.addEventListener('navigate', this.handleNavigate.bind(this));
        databroker__WEBPACK_IMPORTED_MODULE_2__["default"].addEventListener('loading', this.handleLoading.bind(this));
        databroker__WEBPACK_IMPORTED_MODULE_2__["default"].addEventListener('loading_complete', this.handleLoadingComplete.bind(this));
        this.querySelector('ion-nav').addEventListener("ionNavWillChange", (e) => this.handleNavigate(e));
        this.loading_controller = window.loadingController;
        this.progress_bar = this.querySelector('ion-progress-bar');

        if(!this._notification_poll_interval_key)
            this._notification_poll_interval_key = setInterval(() => this.pollNotifications(), 5000);
    }

    async pollNotifications() {
        let user = applicationstate__WEBPACK_IMPORTED_MODULE_11__["default"].get('app.user');
        if(!user) {
            console.warn("Unable to poll for notifications, no valid user");
            return;
        }
        this._notifications = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get(`/api/notifications/admin/${user._id}`);
        this.render();
    }

    handleRouteChange(e) {
        let data = e.detail;
    }

    setActiveMenuItem(root_path) {
        let elements = this.querySelectorAll("ion-menu ion-item");
        for (const element of elements) {
            if(element.getAttribute('href') == root_path)
                element.classList.add('active');
            else
                element.classList.remove('active');
        }
    }

    handleNavigate(e) {
        let path_items = window.location.hash.split('/');
        let root_path = path_items[1]; //[#,users,123]
        this.setActiveMenuItem(root_path)
    }

    handleMissingCredentials() {
        this.login_scene.showLogin();
        this.login_scene.style.display = 'block';
    }

    async handleLoading() {
        this.progress_bar.style.opacity = 1;
    }

    handleLoadingComplete() {
        this.progress_bar.style.opacity = 0;
    }

    handleLogout() {
        let logout = this.querySelector('app-logout');
        logout.show();
    }

    handleLoginSuccess() {
        this.login_scene.style.display = 'none';
    }

}

customElements.define("component-main", ComponentMain);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentMain);

/***/ }),

/***/ "./view/components/app/invitation/component-invitation-history.js":
/*!************************************************************************!*\
  !*** ./view/components/app/invitation/component-invitation-history.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */



class ComponentInvitationHistory extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
    }

    get invitation() {
        return this._invitation;
    }

    set invitation(value) {
        this._invitation = value;
        this.render();
    }

    connectedCallback() {
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
        <ion-content>
            <ion-item-list>
                ${this.invitation.status_history.map(
                    history => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                    <ion-item>
                        <ion-label>
                            <h4><b>Status date: </b> ${new Date(history.date).toLocaleString()}</h4>
                            <h4><b>Old status: </b> ${history.old_status}</h4>
                            <h4><b>New status: </b> ${history.new_status}</h4>
                            <h5><b>Update user: </b> <a href="#/users/${history.user}">${history.username}</a></h5>
                        </ion-label>
                    </ion-item>
                    `
                )}
            </ion-item-list>
        </ion-content>
        `;

        this.render();
        this.init();
    }

    render() {
        if(this.template) {
            (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(), this);
        }

    }

    init() {

    }

}

customElements.define('app-invitation-history', ComponentInvitationHistory);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentInvitationHistory);

/***/ }),

/***/ "./view/components/app/invitation/component-invitation-view.js":
/*!*********************************************************************!*\
  !*** ./view/components/app/invitation/component-invitation-view.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */





class ComponentInvitationView extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
        this._invitation = {
            to: [],
            status: ''
        }
    }

    set invitation(value) {
        this._invitation = value;
        this.render();
    }

    get invitation() {
        return this._invitation;
    }

    connectedCallback() {
        this.attachShadow({mode: 'open'});
        this.template = (invitation) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                @media only screen and (min-width: 600px) {
                    :host {
                        margin: 4vw;
                    }
                }
                ion-select .button-effect {
                    display: none !important;
                }
            </style>
            <ion-content force-overscroll="false">
                <ion-item-group lines="inset">
                    <ion-item-divider>
                        <ion-label>Invitation Information</ion-label>
                        <span style="margin-left: 20px"></span>${this.getStatusChip(invitation.status)}
                    </ion-item-divider>
                    <ion-item>
                        <ion-label>User:</ion-label> 
                        ${invitation.user ?
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                            <a href='#/users/${invitation.user}'>${invitation.user}</a>
                        `
                        : ''
                        } 
                    </ion-item>
                    <ion-item>
                        <ion-label>Created on:</ion-label> ${new Date(invitation.created_date).toLocaleString()}
                    </ion-item>
                    <ion-item>
                        <ion-label>Status:</ion-label> ${invitation.status}
                    </ion-item>
                    <ion-item>
                        <ion-label>Status date:</ion-label> ${new Date(invitation.status_date).toLocaleDateString()}
                    </ion-item>
                    <ion-item>
                        <ion-label>Account:</ion-label> ${invitation.client_id}
                    </ion-item>
                    <ion-item>
                        <ion-label>Name:</ion-label> ${invitation.first_name} ${invitation.last_name}
                    </ion-item>
                    <ion-item>
                        <ion-label>Email:</ion-label> ${invitation.email_address}
                    </ion-item>
                    <ion-item>
                        <ion-label>Phone cell:</ion-label> ${invitation.phone_cell}
                    </ion-item>
                    <ion-item>
                        <ion-label>Created by:</ion-label> ${invitation.created_by ?
                            lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                            <a href="#/users/${invitation.created_by._id}">
                            ${invitation.created_by.first_name} ${invitation.created_by.last_name}
                            </a>
                            `:''
                        }
                    </ion-item>
                </ion-item-group>
            </ion-content>
        `;

        this.render();
        this.init()

    }

    render() {
        if(!this.template)
            return;
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(this.invitation), this.shadowRoot);
    }

    renderFields(invitation) {
        let keys = Object.keys(invitation.fields);
        return keys.map(
            (key) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                <ion-item>
                    ${invitation.status == 'created' ?
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                        <ion-label position="floating">${key}</ion-label>
                        <ion-input .value=${invitation.fields[key]} @change=${(e) => this.patch('/fields/' + key,e.target.value)}></ion-input>
                        `
                    :
                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-label>${key}:</ion-label>${invitation.fields[key]}`
                    }
                </ion-item>
            `)
    }

    getStatusChip(status) {
        switch(status) {
            case "created":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="success" name='checkmark'></ion-icon><ion-label>Created</ion-label></ion-chip>`;
            case "invited":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="secondary" name='code-working'></ion-icon><ion-label>Invited</ion-label></ion-chip>`;
            case "accepted":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="tertiary" name='code'></ion-icon><ion-label>Accepted</ion-label></ion-chip>`;
            case "cancelled":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="danger" name='close-circle'></ion-icon><ion-label>Cancelled</ion-label></ion-chip>`;
            case "expired":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="danger" name='close-circle'></ion-icon><ion-label>Expired</ion-label></ion-chip>`;
        }
    }

    async init() {
        //await this.load();
    }

    async load() {
    }

}

customElements.define('app-invitation-view', ComponentInvitationView);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentInvitationView);

/***/ }),

/***/ "./view/components/app/user/component-user-history.js":
/*!************************************************************!*\
  !*** ./view/components/app/user/component-user-history.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */



class ComponentUserHistory extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
    }

    connectedCallback() {
        this.attachShadow({mode: 'open'});
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
        `;

        this.render();
        this.init()

    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(this.data), this.shadowRoot);
    }

    init() {

    }

}

customElements.define('app-user-history', ComponentUserHistory);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentUserHistory);

/***/ }),

/***/ "./view/components/app/user/component-user-new.js":
/*!********************************************************!*\
  !*** ./view/components/app/user/component-user-new.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/ionic-text-mask'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */




class ComponentUserNew extends HTMLElement {
    constructor() {
        super();
        this._user = {
            first_name: '',
            last_name: '',
            email_address: '',
            phone_cell: '',
            role_name: 'member',
            profile: {}
        };
    }

    connectedCallback() {
        this.template = () => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="end">
                        <ion-button @click=${()=>this.handleCancel()}>
                            <ion-icon slot="icon-only" name="close-circle"></ion-icon>
                        </ion-button>
                    </ion-buttons>
                    <ion-title>New User</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content>
                <ion-item-group>
                    <ion-item>
                        <ion-label position="floating">User role</ion-label>
                        <ion-select @ionChange=${e => {
                                this._user.role_name = e.target.value; 
                                this.render();
                            }} 
                            value=${this._user.role_name}>
                            <ion-select-option value='member'>Member</ion-select-option>
                            <ion-select-option value='admin'>Admin</ion-select-option>
                        </ion-select>
                    </ion-item>
                </ion-item-group>
                ${this._user.role_name == 'member' ? 
                lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                <ion-item-group>
                    <ion-item>
                        <ion-label position="floating">Birth date</ion-label>
                        <ion-datetime .value=${this._user?.profile?.birth_date} display-format="MM/DD/YY"
                            @ionChange=${
                                e => {
                                    this._user.profile.birth_date = e.detail.value;
                                }
                            }></ion-datetime>
                    </ion-item>
                </ion-item-group>
                `:''}
                <ion-item-group>
                    <ion-item>
                        <ion-label position="floating">First name</ion-label>
                        <ion-input type="text" @ionChange=${e => this._user.first_name = e.target.value} value=${this._user.first_name}>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Last name</ion-label>
                        <ion-input type="text" @ionChange=${e => this._user.last_name = e.target.value} value=${this._user.last_name}>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Email address</ion-label>
                        <ion-input type="email" @ionChange=${e => this._user.email_address = e.target.value} value=${this._user.email_address}>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">Mobile number</ion-label>
                        <ion-input id="phone_cell" type="text" @ionChange=${e => this._user.phone_cell = e.target.value} value=${this._user.phone_cell}>
                    </ion-item>
                </ion-item-group>
            </ion-content>
            <ion-footer>
                <ion-toolbar>
                    <ion-buttons slot="primary">
                        <ion-button @click=${(e) => this.handleCancel()}>
                            <ion-icon slot="start" name="close-circle"></ion-icon>
                            <ion-label>Cancel</ion-label>
                        </ion-button>
                        <ion-button @click=${(e) => this.handleAddUser()}>
                            <ion-icon slot="start" name="checkmark"></ion-icon>
                            <ion-label>Add User</ion-label>
                        </ion-button>
                    </ion-buttons>
                </ion-toolbar>

            </ion-footer>
        `;

        this.render();
        this.init();

    }

    render() {
        if(this.template) {
            (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this);
        }
    }  
    
    async init() {
        let input_phone_cell = this.querySelector('#phone_cell');
        let mask = ['(', /[1-9]/, /\d/, /\d/, ')', ' ', /\d/, /\d/, /\d/, '-', /\d/, /\d/, /\d/, /\d/]
        this.mask_controller = Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/ionic-text-mask'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({
            inputElement: input_phone_cell,
            mask: mask,
            guide: false,
            placeholderChar: '\u2000'
        });
    }

    async handleCancel() {
        let modalController = window.modalController;
        await modalController.dismiss();
    }

    async handleAddUser() {
        let modalController = window.modalController;
        let valid = await this.validate();
        if(valid)
            await modalController.dismiss(this._user);
    }

    async validate() {
        if(!this._user.first_name)
            return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('First name is required');
        if(!this._user.last_name)
            return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Last name is required');
        if(!this._user.email_address)
            return Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Email is required');
        let email_regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        if(!email_regex.test(this._user.email_address)) 
            return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Please provide a valid email address (username@somewhere.com)');

        let phone_number = this._user.phone_cell;
        let phone_number_regex = /^(\+\d{1,2}\s)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}$/
        if(!phone_number_regex.test(this._user.phone_cell)) 
            return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Please provide a valid phone number (123-456-7890)');

        this._user.phone_cell = phone_number.replace(/[^0-9\+]/g,'');
        if(!this._user.role_name)
            return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Please select a valid role for the new user');

        if(this._user.role_name == 'member')
            if(!this._user?.profile?.birth_date)
                return await Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/binding/binding-messaging'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())('Birth date is required for members');

        return true;
    }
}

customElements.define('app-user-new', ComponentUserNew);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentUserNew);

/***/ }),

/***/ "./view/components/app/user/component-user-profile.js":
/*!************************************************************!*\
  !*** ./view/components/app/user/component-user-profile.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _cards_component_card_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cards/component-card-user */ "./view/components/app/cards/component-card-user.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-avatar-selector'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/isolate/isolate-constants'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/ionic-text-mask'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */






//import textMask from 'vanilla-text-mask';
//import textMask from '../../../../../../../text-mask/vanilla/src/vanillaTextMask';


class ComponentUserProfile extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
        this._user = {
            user_name: null,
            address: {
                line_1: null,
                line_2: null,
                city: null,
                state: null,
                zip_code: null
            }

        };
    }

    get user() {
        return this._user;
    }

    set user(value) {
        this._user = value;
        this.render();
    }

    connectedCallback() {
        //this.attachShadow({mode: 'open'});
        this.template = (user) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                @media only screen and (min-width: 600px) {
                    :host {
                        margin: 4vw;
                    }
                }
                #avatar_wrapper {
                    height: 10vh;
                }
                ion-select .button-effect {
                    display: none !important;
                }
                .error_message {
                    font-size: .7rem;
                    color: var(--ion-color-danger);
                    white-space: nowrap;
                }
                .error_input {
                    --color: var(--ion-color-danger) !important;
                    --placeholder-color: var(--ion-color-danger) !important;
                }
            </style>
            <ion-content>
                <ion-item-group lines="inset">
                    <ion-item-divider>
                        <ion-label>User Information</ion-label>
                    </ion-item-divider>
                        <ion-item lines="none">
                            <ion-avatar style="width: 128px; height: 128px" id="avatar_wrapper" name="pin" slot="start" @click=${(event) => this.handleAvatarClick(event)}>
                                ${user.avatar? 
                                lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                                <img style="height: 100%" id="avatar" src=${user.avatar}></div>
                                `
                                :
                                lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                                <div style="height: 100%" id="no_avatar">
                                    <svg style="height: 100%" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 120 120.00001" version="1.1" id="svg8" >
                                        <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(-43.204007,-85.320039)"> 
                                            <rect style="opacity:0.98999999;fill:#e6e6e6;fill-opacity:0.24637681;stroke:#000000;stroke-width:0.06454252;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" id="rect4576" width="119.49368" height="119.93546" x="43.457169" y="85.35231" />
                                            <g id="g4574" transform="translate(126.12414,-0.65106087)"> 
                                                <path d="m 37.047129,145.97115 a 59.967239,59.967209 0 0 1 -59.715003,59.96667 59.967239,59.967209 0 0 1 -60.217354,-59.46221 59.967239,59.967209 0 0 1 59.208425,-60.466899 59.967239,59.967209 0 0 1 60.715444,58.953529" id="path4498" style="opacity:0.98999999;fill:#999999;fill-opacity:0.77064221;stroke:#000000;stroke-width:0.06547602;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                                                <path id="path4500" transform="scale(0.26458333)" d="m -87.9375,395.13477 a 103.80704,103.80699 0 0 0 -102.49219,104.67187 103.80704,103.80699 0 0 0 41.75391,82.23828 141.61518,141.6151 0 0 0 -79.5625,128.29688 141.61518,141.6151 0 0 0 1.6582,19.33789 226.64785,226.64772 0 0 0 11.15235,8.40234 132.17416,132.17408 0 0 1 -3.36915,-27.82031 132.17416,132.17408 0 0 1 79.32032,-122.10352 103.80704,103.80699 0 0 0 53.285154,14.58008 103.80704,103.80699 0 0 0 52.429687,-14.5957 132.17416,132.17408 0 0 1 79.289063,118.78515 l 0.01953,2.22266 a 132.17416,132.17408 0 0 1 -3.242187,28.64063 226.64785,226.64772 0 0 0 11.042968,-7.89649 141.61518,141.6151 0 0 0 1.640625,-20.74414 l -0.01953,-2.38281 a 141.61518,141.6151 0 0 0 -79.412109,-124.84375 103.80704,103.80699 0 0 1 -0.259766,0.17578 103.80704,103.80699 0 0 0 41.882813,-83.16602 l -0.01367,-1.74804 A 103.80704,103.80699 0 0 0 -87.9375,395.13477 Z m 0.119141,9.43554 A 94.370033,94.36999 0 0 1 7.7285156,497.3457 l 0.013672,1.58789 a 94.370033,94.36999 0 0 1 -93.9726566,94.36914 94.370033,94.36999 0 0 1 -94.763671,-93.57617 94.370033,94.36999 0 0 1 93.175781,-95.15625 z" style="opacity:0.98999999;fill:#e6e6e6;fill-opacity:1;stroke:#000000;stroke-width:0.25984651;stroke-linecap:round;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1" />
                                            </g>
                                        </g>
                                    </svg>
                                </div>
                                `
                                }
                            </ion-avatar>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">First Name</ion-label>
                            <ion-input .value=${user.first_name} @change=${(e) => this.patch('/first_name',e.currentTarget)}></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Last Name</ion-label>
                            <ion-input .value=${user.last_name} @change=${(e) => this.patch('/last_name',e.currentTarget)}></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Email</ion-label>
                            <ion-input type="email" required="true" .value=${user.email_address} @change=${(e) => this.patch('/email_address',e.currentTarget)}></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Mobile Phone</ion-label>
                            <ion-input id="phone_cell" type="tel" .value=${user.phone_cell} @change=${(e) => this.patch('/phone_cell',e.currentTarget)}></ion-input>
                        </ion-item>
                        <ion-item>
                            <ion-label position="floating">Account</ion-label>
                            <ion-input id="account" .value=${user.account} @change=${(e) => this.patch('/account',e.currentTarget)}></ion-input>
                        </ion-item>

                </ion-item-group>
            </ion-content>
            <ion-footer>
                <ion-toolbar>
                        <ion-buttons slot="end">
                            <ion-button @click=${(e) => this.showSendCommunication()}><ion-icon name="mail" style="margin-right: 5px"></ion-icon> Send communication</ion-button>
                        </ion-buttons>
                </ion-toolbar>
            </ion-footer>
        `;

        this.render();
        this.init();
    }

    render() {
        //if we're not connected, don't render
        if(!this.template)
            return;
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(this.user), this);
        //make sure the text mask stays up-to-date
    }


    async init() {
        let input_phone_cell = this.querySelector('#phone_cell');
        let mask = ['(', /[1-9]/, /\d/, /\d/, ')', ' ', /\d/, /\d/, /\d/, '-', /\d/, /\d/, /\d/, /\d/]
        this.mask_controller = Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../../shared/view/ionic-text-mask'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({
            inputElement: input_phone_cell,
            mask: mask,
            guide: false,
            placeholderChar: '\u2000'
        });
    }

    async patch(path, target) {
        try {
            target.parentNode.color = 'initial';
            target.classList.remove('error_input');
            if(this.error_elements) {
                this.error_elements.forEach(
                    (error_element) => {
                        error_element.parentNode.removeChild(error_element);
                    }
                );
                this.error_elements = [];
            }
            let value = target.value;
            let user = await databroker__WEBPACK_IMPORTED_MODULE_3__["default"].patch(`/api/users/${this.user._id}`, [
                {op:'replace', path: path, value: value}
            ]);
            this.user = user;
        }
        catch(err) {
            if(err.code && err.code == 418) { //I'm a teapot, validation fail
                let body = JSON.parse(err.body);
                let prop = Object.keys(body.errors)[0];
                let message = body.errors[prop].message;
                target.classList.add('error_input');
                let error_div = document.createElement('div');
                error_div.innerText = message;
                error_div.slot = "end";
                error_div.className = "error_message";
                target.parentNode.appendChild(error_div);
                if(!this.error_elements)
                    this.error_elements = [];
                this.error_elements.push(error_div);
                return;
            }
            alert(err);
        }
    }


    async handleAvatarClick(e) {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-avatar-selector',
            componentProps: {
                viewport_type: 'square',
                image_height: 256,
                image_width: 256,
                onFileSelected: (result) => this.handleAvatarSelectionResult(result),
                onCancel: () => this.handleAvatarSelectionCancel()
            }
        });
        modal.present();

    }

    handleAvatarSelectionCancel() {
        let modal_controller = window.modalController;
        modal_controller.dismiss();

    }

    async handleAvatarSelectionResult(result) {
        this.user.profile_image = result;
        this.handleAvatarSelectionCancel();
        try {
            let user = await databroker__WEBPACK_IMPORTED_MODULE_3__["default"].patch(`/api/users/${this.user._id}`, [
                {op:'replace', path: '/avatar', value: this.user.profile_image}
            ]);
            this.user = user;
        }
        catch(err) {
            alert(err);
        }
    }

    async showSendCommunication() {
        let controller = window.actionSheetController;
        let communication = {
                to: [
                    {
                        reference: this.user._id,
                        reference_type: 'User',
                        to_address: ''
                    }
                ],
                fields: {
                    path: '/app',
                    hash: '',
                    subject: ''
                },
                communication_template: '',
                communication_type: ''
        };
        let action_sheet = await controller.create({
            header: "Send communication",
            buttons: [
                {
                    text: 'Send login sms',
                    icon: 'chatboxes',
                    handler: async () => {
                        communication.communication_template = '/communication/login-sms',
                        communication.communication_type = 'sms'
                        communication.to[0].to_address = this.user.phone_cell;
                        this.sendCommunication(communication);
                    }
                },
                {
                    text: 'Cancel',
                    icon: 'close',
                    role: 'cancel',
                    handler: async () => {
                        await controller.dismiss();
                    }
                }
            ]

        });
        await action_sheet.present();

    }

    async sendCommunication(communication) {
        let toast_controller = window.toastController;
        let new_communication = await databroker__WEBPACK_IMPORTED_MODULE_3__["default"].post('/api/communication/nonce', communication, {json: true});

        let message = await toast_controller.create({
            message: "Communication job scheduled",
            duration: 2000
        });
        await message.present();
    }
}

customElements.define('app-user-profile', ComponentUserProfile);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ComponentUserProfile);

/***/ }),

/***/ "./view/components/scene/scene-export.js":
/*!***********************************************!*\
  !*** ./view/components/scene/scene-export.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'downloadjs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */




class SceneExport extends HTMLElement {

    constructor() {
        super();
        this.models = [
            {
                model: 'user_report',
                label: 'Users',
                icon: 'people-circle-outline',
                description: 'Information about users, access and system usage.'
            },
            {
                model: 'project_report',
                label: 'Projects',
                icon: 'people',
                description: 'All projects in the system'
            },
            {
                model: 'Communication',
                label: 'Communications',
                icon: 'mail',
                description: 'All communication records for SMS or emails that have been generated by the system'
            },
        ]
    }

    connectedCallback() {
        this.template = () => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="start">
                        <ion-menu-toggle>
                            <ion-button>
                                <ion-icon slot="icon-only" name="menu"></ion-icon>
                            </ion-button>
                        </ion-menu-toggle>
                    </ion-buttons>
                    <ion-title id="title">Export Data</ion-title>
                </ion-toolbar>
            </ion-header>

            <ion-content padding style="text-align: center;">
                <ion-grid>
                    <ion-row>
                    ${
                        this.models.map(
                            (model) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`

                                <ion-col size="12" size-sm="12" size-md="6" size-lg="6">
                                    <ion-card style="background-color: white">
                                        <ion-item>
                                            <ion-card-header>
                                                <ion-card-title style="line-height: 24px"> <ion-icon name=${model.icon}></ion-icon> ${model.label}<ion-card-title>
                                                <ion-card-subtitle>${model.description}</ion-card-subtitle>
                                            </ion-card-header>
                                        </ion-item>

                                        <ion-card-content>
                                            <ion-button @click=${() => {this.handleExportClick(model.model)}} fill="outline" slot="end">Export</ion-button>
                                        </ion-card-content>
                                    </ion-card>
                                </ion-col>
                                        `
                                    )
                    }
                    </ion-row>
                </ion-grid>
            </ion-content>
        `;
        this.render();
    }

    async handleExportClick(model) {
        let now = new Date();
        let datestring = `${now.getFullYear()}${(now.getMonth() + 1).toString().padStart(2,'0')}${(now.getDate() + 1).toString().padStart(2,'0')}`;
        let result = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get(`/api/exports/collections/${model}`,null,{blob: true});
        Object(function webpackMissingModule() { var e = new Error("Cannot find module 'downloadjs'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(result, `${model}_export_${datestring}.csv`,'text/csv');
    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this);
    }

}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneExport);
customElements.define('scene-export', SceneExport);


/***/ }),

/***/ "./view/components/scene/scene-home.js":
/*!*********************************************!*\
  !*** ./view/components/scene/scene-home.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */


class SceneHome extends HTMLElement {
    connectedCallback() {
        this.attachShadow({mode: 'open'});
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                :host {
                }

                ion-col {
                    margin-top: 3vh;
                }


                /*
                #layout {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    width: 80%;
                }*/

            </style>

            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="start">
                        <ion-menu-toggle>
                            <ion-button>
                                <ion-icon slot="icon-only" name="menu"></ion-icon>
                            </ion-button>
                        </ion-menu-toggle>
                    </ion-buttons>
                    <ion-title id="title">Home</ion-title>
                </ion-toolbar>
            </ion-header>

            <ion-content padding style="text-align: center;">
                <p></p>
            </ion-content>
        `;

        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this.shadowRoot);

    }

}
customElements.define('scene-home', SceneHome);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneHome);

/***/ }),

/***/ "./view/components/scene/scene-invitation.js":
/*!***************************************************!*\
  !*** ./view/components/scene/scene-invitation.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/* harmony import */ var _app_invitation_component_invitation_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app/invitation/component-invitation-view */ "./view/components/app/invitation/component-invitation-view.js");
/* harmony import */ var _app_invitation_component_invitation_history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app/invitation/component-invitation-history */ "./view/components/app/invitation/component-invitation-history.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */







class SceneInvitation extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
        this.invitation = {
            invitation_template: '',
            invitation_type: '',
            fields: {},
            to: [],
        }

        //manually instantiate the components for the subroutes
        //this is so we can assign props and interact with them directly at the top level
        this.componentInvitationView = new _app_invitation_component_invitation_view__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.componentInvitationHistory = new _app_invitation_component_invitation_history__WEBPACK_IMPORTED_MODULE_4__["default"]();
    }

    get invitation_id() {
        return this._invitation_id;
    }

    /**
     * This is the id of the invitation being loaded. The Router should set this automatically from the URL param
     */
    set invitation_id(value) {
        this._invitation_id = value;
    }

    connectedCallback() {
        this.attachShadow({mode:'open'});
        this.shadowRoot.innerHTML = '<slot></slot>';
        this.template = (invitation) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
        <style>
                :host {
                    justify-content: flex-start !important;
                    position: relative;
                    background-color: #f0f0f0;
                }
                #scene_invitation_content {
                    --padding-top: 1vh;
                    --padding-bottom: 1vh;
                    --padding-start: 1vw;
                    --padding-end: 1vw;
                }
        </style>
        <ion-header>
            <ion-toolbar>
                <ion-buttons slot="start">
                    <ion-back-button default-href="/invitations"></ion-back-button>
                </ion-buttons>
                <ion-title id="title">Invitation: ${invitation.first_name} ${invitation.last_name} </ion-title>
            </ion-toolbar>
        </ion-header>
        <ion-content id="scene_invitation_content">
            <ion-tabs id="invitation_tabs" style="background-color: var(--ion-color-light)">
                <ion-tab tab="tab-view" .component=${this.componentInvitationView}>
                </ion-tab>

                <ion-tab tab="tab-history" .component=${this.componentInvitationHistory}>
                    <!--<ion-nav></ion-nav>-->
                </ion-tab>
                <ion-tab-bar slot="bottom">
                    <ion-tab-button tab="tab-view">
                        <ion-icon name="information-circle"></ion-icon>
                        <ion-label>Invitation</ion-label>
                    </ion-tab-button>

                    <ion-tab-button disabled=${invitation.status == 'created'} tab="tab-history">
                        <ion-icon name="time-outline"></ion-icon>
                        <ion-label>History</ion-label>
                    </ion-tab-button>
                </ion-tab-bar>
            </ion-tabs>
        </ion-content>
        `;

        this.render();
        this.init();

    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(this.invitation), this);
    }

    async init() {
        await this.loadInvitation();

    }

    async loadInvitation() {
        this.invitation = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get(`/api/invitations/id/${this.invitation_id}`);
        this.render();
        this.updateComponents(); //we do this manually because we're managing the lifecycle of these components manually
    }

    /**
     * Update sub components data
     */
    updateComponents() {
        this.componentInvitationView.invitation = this.invitation;
        this.componentInvitationHistory.invitation = this.invitation;
    }

}

customElements.define('scene-invitation', SceneInvitation);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneInvitation);

/***/ }),

/***/ "./view/components/scene/scene-invitations.js":
/*!****************************************************!*\
  !*** ./view/components/scene/scene-invitations.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-sort-selection'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */




class SceneInvitations extends HTMLElement {

    constructor() {
        super();
        this.invitations = [];
        this.sort_items = [
                    {label: 'Create Date', value: 'created_date', state: 0},
                    {label: 'Invitation Status', value: 'status', state: 0},
                    {label: 'Long Name', value: 'long_name', state: 0},
                    {label: 'Last Name', value: 'last_name', state: 0},
                    {label: 'Last Login', value: 'last_login_date', state: 0},
                    {label: 'Account', value: 'client_id', state: 0},
                ];
        this.filter_items = [
            {
                type: 'date-range', 
                filter_name: 'created_date',
                label: 'Create Date', 
                data: {
                    from: new Date(new Date().getTime() - (1000 * 60 * 60 * 24)),
                    to: new Date(new Date().getTime() + (1000 * 60 * 60 * 24))
                },
            },
            {
                type: 'switch', 
                label: 'Invitation Status', 
                filter_name: 'status',
                placeholder: 'Select one or more statuses',
                data: [
                    {value: 'created', label: 'Created'},
                    {value: 'invited', label: 'Invited'},
                    {value: 'accepted', label: 'Accepted'},
                    {value: 'cancelled', label: 'Cancelled'},
                    {value: 'expired', label: 'Expired'},
                ],
                value: null,
            },
            {
                type: 'date-range', 
                filter_name: 'last_login_date',
                label: 'Last Login Date', 
                data: {
                    from: new Date(new Date().getTime() - (1000 * 60 * 60 * 24)),
                    to: new Date(new Date().getTime() + (1000 * 60 * 60 * 24))
                },
            },
            {
                type: 'string', 
                filter_name: 'last_name',
                label: 'Last Name', 
            },
            {
                type: 'string', 
                filter_name: 'first_name',
                label: 'First Name', 
            },
            {
                type: 'string', 
                filter_name: 'client_id',
                label: 'Account', 
            },
        ]

        this.sort = "-created_date";
    }

    connectedCallback() {
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                :host {
                    justify-content: flex-start !important;
                    position: relative;
                    background-color: #f0f0f0;
                }
                #content {
                    --padding-top: 1vh;
                    --padding-bottom: 1vh;
                    --padding-start: 1vw;
                    --padding-end: 1vw;
                    --background: var(--light);
                }
                #checkbox_wrapper {
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    justify-content: space-around;
                    width: 100%;
                    height: 100%;
                }
                #checkbox_wrapper div {
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                }
                #checkbox_wrapper div ion-checkbox {
                    margin-right: 10px;
                }
            </style>

            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="start">
                        <ion-menu-toggle>
                            <ion-button>
                                <ion-icon slot="icon-only" name="menu"></ion-icon>
                            </ion-button>
                        </ion-menu-toggle>
                    </ion-buttons>
                    <ion-title id="title">Invitations</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content id="content">
                <ion-grid>
                    <ion-row>
                        <ion-col size="12" size-sm="12" size-md="6">
                            <ion-searchbar debounce="300" @ionChange=${(e)=>this.handleSearchbarChange(e)} placeholder="Search invitations" type="text"></ion-searchbar>
                        </ion-col>
                        <ion-col size="12" size-sm="12" size-md="6">
                            <ion-button @click=${(e) => this.showSort()}>
                                <ion-icon slot="start" name="options"></ion-icon>
                                Sort
                            </ion-button>
                            <ion-button @click=${(e) => this.showFilters()}>
                                <ion-icon slot="start" name="funnel"></ion-icon>
                                Filters
                                ${this.filters && Object.keys(this.filters).length ? 
                                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                                    <ion-badge style="margin-left: 5px; color: yellow !important; background: teal !important" color="warning" slot="end">${Object.keys(this.filters).length}</ion-badge>
                                    ` :''}
                            </ion-button>

                        </ion-col>
                    </ion-row>
                    <ion-row>
                    <table>
                        <thead>
                            <tr>
                                <th>Created Date</th>
                                <th>Status Date</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Account</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                    ${this.invitations.map(
                        (invitation) => 
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                            <tr @click=${(e) => {this.selectInvitation(invitation)}} style="cursor: pointer">
                                <td data-label="Created Date">${new Date(invitation.created_date).toLocaleString()}</td>
                                <td data-label="Status Date">${invitation.status_history.length?new Date(invitation.status_date).toLocaleString() : new Date(invitation.created_date).toLocaleString()}</td>
                                <td data-label="Name">${invitation.first_name} ${invitation.last_name}</td>
                                <td data-label="Email">${invitation.email_address}</td>
                                <td data-label="Phone">${invitation.phone_cell}</td>
                                <td data-label="Account">${invitation.client_id}</td>
                                <td data-label="Status">${this.getStatusChip(invitation.status)}</td>
                            </tr>
                        `
                        )
                    }
                        </tbody>
                    </table>
                    </ion-row>
                </ion-grid>
                <!--<ion-fab color="danger" @click=${() => {this.handleAddInvitation()}} vertical="bottom" horizontal="end" slot="fixed">
                    <ion-fab-button>
                        <ion-icon name="add"></ion-icon>
                    </ion-fab-button>
                </ion-fab>-->
            </ion-content>

        `;

        this.render();
        this.getInvitations();

    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this);
    }

    getStatusChip(status) {
        switch(status) {
            case "created":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="success" name='checkmark'></ion-icon><ion-label>Created</ion-label></ion-chip>`;
            case "invited":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="secondary" name='code-working'></ion-icon><ion-label>Invited</ion-label></ion-chip>`;
            case "accepted":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="tertiary" name='code'></ion-icon><ion-label>Accepted</ion-label></ion-chip>`;
            case "cancelled":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="danger" name='close-circle'></ion-icon><ion-label>Cancelled</ion-label></ion-chip>`;
            case "expired":
                return lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<ion-chip><ion-icon color="danger" name='close-circle'></ion-icon><ion-label>Expired</ion-label></ion-chip>`;
        }
    }

    async showSort() {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-sort-selection',
            componentProps: {
                items: this.sort_items
            }
        });
        modal.present();
        let result = await modal.onDidDismiss();
        this.sort = result.data.sort;
        this.sort_items = result.data.items;
        this.getInvitations();
    }

    async showFilters() {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-filter-selection',
            componentProps: {
                items: this.filter_items            }
        });
        modal.present();
        let result = await modal.onDidDismiss();
        if(!result.data)
            return;
        this.filters = result.data.filters;
        this.filter_items = result.data.items;
        await this.getInvitations();
    }

    selectInvitation(invitation) {
        let router = document.querySelector('ion-router');
        router.push('/invitations/' + invitation._id);
    }

    async handleSearchbarChange(e) {
        this.search = e.detail.value;
        await this.getInvitations();
    }

    async getInvitations() {
        let query = {
            limit: 50,
            sort: this.sort || ''
        };
        if(this.filters)
            query.filter = this.filters;

        if(this.search) {
            if(!query.filter)
                query.filter = {};
            query.filter.$text = { $search: this.search };
        }

        let result = await databroker__WEBPACK_IMPORTED_MODULE_1__["default"].get('/api/invitations', query);
        this.invitations = result;
        this.render();

    }

    async handleAddInvitation() {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-invitation-new'
        });
        modal.present();

    }

}
customElements.define('scene-invitations', SceneInvitations);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneInvitations);

/***/ }),

/***/ "./view/components/scene/scene-notifications.js":
/*!******************************************************!*\
  !*** ./view/components/scene/scene-notifications.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module 'lit-html/directives/unsafe-html'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */




class SceneNotifications extends HTMLElement {

    constructor() {
        super();
        this.notifications = [];
    }

    connectedCallback() {
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                :host {
                    justify-content: flex-start !important;
                    position: relative;
                    background-color: #f0f0f0;
                }
                #content {
                    --padding-top: 1vh;
                    --padding-bottom: 1vh;
                    --padding-start: 1vw;
                    --padding-end: 1vw;
                    --background: var(--light);
                }
            </style>

            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="start">
                        <ion-menu-toggle>
                            <ion-button>
                                <ion-icon slot="icon-only" name="menu"></ion-icon>
                            </ion-button>
                        </ion-menu-toggle>
                    </ion-buttons>
                    <ion-title id="title">Notifications</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content id="content">
                <ion-grid>
                    <ion-row>
                    <table>
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Created By</th>
                                <th>Message</th>
                            </tr>
                        </thead>
                        <tbody>
                    ${this.notifications.map(
                        (notification) => 
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                            <tr @click=${(e) => {this.selectNotification(notification)}} style="cursor: pointer">
                                <td data-label="Date">${new Date(notification.created_date).toLocaleString()}</td>
                                ${notification.create_user ? 
                                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<td style="text-transform: capitalize" data-label="Created By">${notification.create_user_info.long_name}</td>`
                                    :
                                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`<td data-label="Created By">System</td>`
                                }
                                <td data-label="Message">${Object(function webpackMissingModule() { var e = new Error("Cannot find module 'lit-html/directives/unsafe-html'"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(notification.message)}</td>
                            </tr>
                        `
                        )
                    }
                        </tbody>
                    </table>
                    </ion-row>
                </ion-grid>
                <ion-fab color="danger" @click=${() => { this.handleAddNotification() }} vertical="bottom" horizontal="end" slot="fixed">
                    <ion-fab-button>
                        <ion-icon name="add"></ion-icon>
                    </ion-fab-button>
                </ion-fab>
            </ion-content>

        `;

        this.render();
        this.getNotifications();
    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this);
    }

    selectNotification(notification) {
        //nothing to do for now

    }

    async handleAddNotification() {
        let notification = await this.promptNotification();
        if(!notification)
            return;

        //create the family object
        await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].post(`/api/notifications/admin`, {message: notification} );
        await this.getNotifications();
        this.render();
    }

    async promptNotification() {
        const alertController = window.alertController;

        const alert = await alertController.create({
            header: 'Add notification',
            inputs: [
                {
                    name: 'message',
                    id: 'message',
                    placeholder: 'New notification message'
                },
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    cssClass: 'secondary',
                }, {
                    text: 'Ok',
                    handler: (data) => {
                        alert.dismiss(data.message);
                    }
                }
            ]
        });
        await alert.present();
        let result = await alert.onDidDismiss();
        return result.data.values.message;
    }

    async getNotifications() {
        let date = new Date();

        let result = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get('/api/notifications/admin');
        this.notifications = result;
        this.render();

    }
}
customElements.define('scene-notifications', SceneNotifications);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneNotifications);

/***/ }),

/***/ "./view/components/scene/scene-user.js":
/*!*********************************************!*\
  !*** ./view/components/scene/scene-user.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/* harmony import */ var _app_user_component_user_profile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app/user/component-user-profile */ "./view/components/app/user/component-user-profile.js");
/* harmony import */ var _app_user_component_user_history__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../app/user/component-user-history */ "./view/components/app/user/component-user-history.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */







class SceneUser extends Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-base-vanilla'"); e.code = 'MODULE_NOT_FOUND'; throw e; }()) {
    constructor() {
        super();
        this.user = {
            username: '',
            email: '',
            first_name: '',
            last_name: ''
        }

        //manually instantiate the components for the subroutes
        //this is so we can assign props and interact with them directly at the top level
        this.componentUserProfile = new _app_user_component_user_profile__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.componentUserHistory = new _app_user_component_user_history__WEBPACK_IMPORTED_MODULE_4__["default"]();
    }

    get user_id() {
        return this._user_id;
    }

    /**
     * This is the id of the user being loaded. The Router should set this automatically from the URL param
     */
    set user_id(value) {
        this._user_id = value;
    }

    connectedCallback() {
        this.attachShadow({mode:'open'});
        this.shadowRoot.innerHTML = '<slot></slot>';
        this.template = (user) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
        <style>
                :host {
                    justify-content: flex-start !important;
                    position: relative;
                    background-color: #f0f0f0;
                }
                #scene_user_content {
                    --padding-top: 1vh;
                    --padding-bottom: 1vh;
                    --padding-start: 1vw;
                    --padding-end: 1vw;
                }
        </style>
        <ion-header>
            <ion-toolbar>
                <ion-buttons slot="start">
                    <ion-back-button default-href="/users"></ion-back-button>
                </ion-buttons>
                <ion-title id="title">${user.first_name} ${user.last_name} ${user.username}</ion-title>
            </ion-toolbar>
        </ion-header>
        <ion-content id="scene_user_content">
            <ion-fab vertical="top" horizontal="end" slot="fixed">
                <ion-fab-button>
                    <ion-icon name="chevron-down-circle-outline"></ion-icon>
                </ion-fab-button>
                <ion-fab-list side="bottom">
                    <ion-fab-button title="Set password" @click=${(e) => this.handleSetPassword()}><ion-icon name="lock-closed"></ion-icon></ion-fab-button>
                    <ion-fab-button title="Get login link" @click=${(e) => this.handleGetLoginLink()}><ion-icon name="link"></ion-icon></ion-fab-button>
                </ion-fab-list>

            </ion-fab>
            <ion-tabs id="user_tabs" style="background-color: var(--ion-color-light)">
                <ion-tab tab="tab-profile" .component=${this.componentUserProfile}>
                </ion-tab>

                <ion-tab tab="tab-history" .component=${this.componentUserHistory}>
                    <!--<ion-nav></ion-nav>-->
                </ion-tab>
                <ion-tab-bar slot="bottom">
                    <ion-tab-button tab="tab-profile">
                        <ion-icon name="information-circle"></ion-icon>
                        <ion-label>User</ion-label>
                    </ion-tab-button>

                    <ion-tab-button tab="tab-history">
                        <ion-icon name="time"></ion-icon>
                        <ion-label>History</ion-label>
                    </ion-tab-button>
                </ion-tab-bar>
            </ion-tabs>
        </ion-content>
        `;

        this.render();
        this.init();

    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template(this.user), this);
    }

    async init() {
        await this.loadUser();

    }

    async handleGetLoginLink() {
        let response = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get('/api/login/link/' + this.user._id);
        const alertController = window.alertController;
        
        const alert = await alertController.create({
            header: 'Login Link',
            message: "Here's a link that can be used to log in as the user",
            inputs: [
                {
                    name: 'link',
                    id: 'link',
                    value: response.url
                },
            ],
            buttons: [
                {
                    text: "Copy",
                    role: 'copy',
                    handler: async (...args) => {
                        let element = document.querySelector('ion-alert #link');
                        element.select();
                        element.setSelectionRange(0, 99999); /* For mobile devices */
                        document.execCommand("copy");
                        let toast_controller = window.toastController;
                        let toast = await toast_controller.create({
                            message: "Link copied",
                            position: 'bottom',
                            duration: 1500
                        });
                        await toast.present();
                    }

                },
                {
                    text: 'Ok',
                    role: 'cancel',
                    cssClass: 'secondary',
                }
            ]
        });
        await alert.present();

    }

    async promptNewPassword() {
        return new Promise(
            async (resolve, reject) => {
                const alertController = window.alertController;

                const alert = await alertController.create({
                    header: 'Set password',
                    message: "Enter the new password you'd like to set for the user",
                    inputs: [
                        {
                            name: 'password',
                            id: 'prompt_new_password',
                            placeholder: 'New Password',
                            type: 'password',
                            required: true
                        },
                    ],
                    buttons: [
                        {
                            text: 'Cancel',
                            role: 'cancel',
                            cssClass: 'secondary',
                        }, {
                            text: 'Ok',
                            handler: (data) => {
                                resolve(data.password);
                            }
                        }
                    ]
                });
                await alert.present();
            }
        )
    }

    async handleSetPassword() {
        let toast_controller = window.toastController;
        let new_password = await this.promptNewPassword();
        if(!new_password) {
            let message = await toast_controller.create({
                message: 'To add a new user, we need at least the first name, last name and email of the user',
                duration: 2000,
                buttons: [{
                    role: 'cancel',
                    icon: 'close'
                }]
            });
            await message.present();
            return;
        }
        this.user = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].patch(`/api/users/${this.user_id}`,
        [
            {op: 'replace', path: '/password', value: new_password}
        ]);

        this.render();
        this.updateComponents(); //we do this manually because we're managing the lifecycle of these components manually

        let message = await toast_controller.create({
            message: 'Password updated successfully',
            duration: 2000,
            buttons: [{
                role: 'cancel',
                icon: 'close'
            }]
        });
        await message.present();
    }

    async loadUser() {
        this.user = await databroker__WEBPACK_IMPORTED_MODULE_2__["default"].get(`/api/users/${this.user_id}`);
        this.render();
        this.updateComponents(); //we do this manually because we're managing the lifecycle of these components manually
    }

    /**
     * Update sub components data
     */
    updateComponents() {
        this.componentUserProfile.user = this.user;
        this.componentUserHistory.user = this.user;
    }

}

customElements.define('scene-user', SceneUser);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneUser);

/***/ }),

/***/ "./view/components/scene/scene-users.js":
/*!**********************************************!*\
  !*** ./view/components/scene/scene-users.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit-html */ "../../../node_modules/lit-html/development/lit-html.js");
/* harmony import */ var _app_cards_component_card_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app/cards/component-card-user */ "./view/components/app/cards/component-card-user.js");
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-sort-selection'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-filter-selection'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
Object(function webpackMissingModule() { var e = new Error("Cannot find module '../../../../shared/view/components/component-avatar-selector'"); e.code = 'MODULE_NOT_FOUND'; throw e; }());
/* harmony import */ var _app_user_component_user_new__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../app/user/component-user-new */ "./view/components/app/user/component-user-new.js");
/* harmony import */ var databroker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! databroker */ "../../../node_modules/databroker/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */








class SceneUsers extends HTMLElement {

    constructor() {
        super();
        this.users = [];
        this.sort_items = [
                    {label: 'Create Date', value: 'created_date', state: 0},
                    {label: 'Account Status', value: 'account_status', state: 0},
                    {label: 'Long Name', value: 'long_name', state: 0},
                    {label: 'Last Name', value: 'last_name', state: 0},
                    {label: 'Last Login', value: 'last_login_date', state: 0},
                    {label: 'Account', value: 'account', state: 0},
                ];
        this.filter_items = [
            {
                type: 'date-range', 
                filter_name: 'created_date',
                label: 'Create Date', 
                data: {
                    from: new Date(new Date().getTime() - (1000 * 60 * 60 * 24)),
                    to: new Date(new Date().getTime() + (1000 * 60 * 60 * 24))
                },
            },
            {
                type: 'switch', 
                label: 'Account Status', 
                filter_name: 'account_status',
                placeholder: 'Select one or more statuses',
                data: [
                    {value: 'active', label: 'Active'},
                    {value: 'inactive', label: 'Inactive'},
                    {value: 'locked', label: 'Locked'},
                ],
                value: null,
            },
            {
                type: 'date-range', 
                filter_name: 'last_login_date',
                label: 'Last Login Date', 
                data: {
                    from: new Date(new Date().getTime() - (1000 * 60 * 60 * 24)),
                    to: new Date(new Date().getTime() + (1000 * 60 * 60 * 24))
                },
            },
            {
                type: 'string', 
                filter_name: 'last_name',
                label: 'Last Name', 
            },
            {
                type: 'string', 
                filter_name: 'first_name',
                label: 'First Name', 
            },
            {
                type: 'string', 
                filter_name: 'account',
                label: 'Account', 
            },
        ]

        this.sort = "-created_date";
    }

    connectedCallback() {
        this.attachShadow({mode:'open'});
        this.template = (data) => lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
            <style>
                :host {
                    justify-content: flex-start !important;
                    position: relative;
                    background-color: #f0f0f0;
                }
                #content {
                    --padding-top: 1vh;
                    --padding-bottom: 1vh;
                    --padding-start: 1vw;
                    --padding-end: 1vw;
                    --background: var(--light);
                }
                #checkbox_wrapper {
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                    justify-content: space-around;
                    width: 100%;
                    height: 100%;
                }
                #checkbox_wrapper div {
                    white-space: nowrap;
                    display: flex;
                    align-items: center;
                }
                #checkbox_wrapper div ion-checkbox {
                    margin-right: 10px;
                }
            </style>

            <ion-header>
                <ion-toolbar>
                    <ion-buttons slot="start">
                        <ion-menu-toggle>
                            <ion-button>
                                <ion-icon slot="icon-only" name="menu"></ion-icon>
                            </ion-button>
                        </ion-menu-toggle>
                    </ion-buttons>
                    <ion-title id="title">Users</ion-title>
                </ion-toolbar>
            </ion-header>
            <ion-content id="content">
                <ion-grid>
                    <ion-row>
                        <ion-col size="12" size-sm="12" size-md="6">
                            <ion-searchbar debounce="300" @ionChange=${(e)=>this.handleSearchbarChange(e)} placeholder="Search users" type="text"></ion-searchbar>
                        </ion-col>
                        <ion-col size="12" size-sm="12" size-md="6">
                            <ion-button @click=${(e) => this.showSort()}>
                                <ion-icon slot="start" name="options"></ion-icon>
                                Sort
                                ${this.sort ? 
                                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                                    <ion-badge style="margin-left: 5px; color: yellow !important; background: teal !important" color="warning" slot="end">${this.sort.split(',').length}</ion-badge>
                                    ` :''}
                            </ion-button>
                            <ion-button @click=${(e) => this.showFilters()}>
                                <ion-icon slot="start" name="funnel"></ion-icon>
                                Filters
                                ${this.filters && Object.keys(this.filters).length ? 
                                    lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                                    <ion-badge style="margin-left: 5px; color: yellow !important; background: teal !important" color="warning" slot="end">${Object.keys(this.filters).length}</ion-badge>
                                    ` :''}
                            </ion-button>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                    ${this.users.map(
                        (user) => 
                        lit_html__WEBPACK_IMPORTED_MODULE_0__.html`
                            <ion-col size="12" size-sm="12" size-md="6" size-lg="6">
                                <app-card-user .user=${user}></app-card-user>
                            </ion-col>
                        `
                        )
                    }
                    </ion-row>
                </ion-grid>
                <ion-fab color="danger" @click=${() => {this.handleAddUser()}} vertical="bottom" horizontal="end" slot="fixed">
                    <ion-fab-button>
                        <ion-icon name="add"></ion-icon>
                    </ion-fab-button>
                </ion-fab>
            </ion-content>

        `;

        this.render();

    }

    render() {
        (0,lit_html__WEBPACK_IMPORTED_MODULE_0__.render)(this.template({}), this.shadowRoot);
    }

    async handleSearchbarChange(e) {
        this.search = e.detail.value;
        await this.getUsers();
    }

    async showSort() {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-sort-selection',
            componentProps: {
                items: this.sort_items
            }
        });
        modal.present();
        let result = await modal.onDidDismiss();
        if(!result.data)
            return;
        this.sort = result.data.sort;
        this.sort_items = result.data.items;
        await this.getUsers();
    }

    async showFilters() {
        let modal_controller = window.modalController;
        let modal = await modal_controller.create({
            component: 'app-filter-selection',
            componentProps: {
                items: this.filter_items            }
        });
        modal.present();
        let result = await modal.onDidDismiss();
        if(!result.data)
            return;
        this.filters = result.data.filters;
        this.filter_items = result.data.items;
        await this.getUsers();
    }

    async getUsers() {
        let query = {
            limit: 50,
            sort: this.sort || ''
        };
        if(this.filters)
            query.filter = this.filters;

        if(this.search) {
            if(!query.filter)
                query.filter = {};
            query.filter.$text = { $search: this.search };
        }

        let result = await databroker__WEBPACK_IMPORTED_MODULE_4__["default"].get('/api/users', query);
        this.users = result;
        this.render();

    }
    
    async promptNewUser() {
        let modalController = window.modalController;
        let modal = await modalController.create({
            component: 'app-user-new'
        });
        await modal.present();
        let result = await modal.onDidDismiss();
        return result.data;
    }
    
    async handleAddUser() {
        let new_user = await this.promptNewUser();
        if(!new_user)
            return;

        let created_user;
        try {
            created_user = await databroker__WEBPACK_IMPORTED_MODULE_4__["default"].post('/api/users', new_user, {json: true});
        }
        catch(err) {
            alert(`Error adding user: ${err}`);
        }

        //redirect to the created user
        let router = document.querySelector('ion-router');
        router.push(`/users/${created_user._id}`);

    }


}
customElements.define('scene-users', SceneUsers);
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SceneUsers);

/***/ }),

/***/ "../../../node_modules/lit-html/development/lit-html.js":
/*!**************************************************************!*\
  !*** ../../../node_modules/lit-html/development/lit-html.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "INTERNAL": () => (/* binding */ INTERNAL),
/* harmony export */   "html": () => (/* binding */ html),
/* harmony export */   "svg": () => (/* binding */ svg),
/* harmony export */   "noChange": () => (/* binding */ noChange),
/* harmony export */   "nothing": () => (/* binding */ nothing),
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "_$LH": () => (/* binding */ _$LH)
/* harmony export */ });
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var _a, _b, _c, _d;
const DEV_MODE = true;
const ENABLE_EXTRA_SECURITY_HOOKS = true;
const ENABLE_SHADYDOM_NOPATCH = true;
/**
 * `true` if we're building for google3 with temporary back-compat helpers.
 * This export is not present in prod builds.
 * @internal
 */
const INTERNAL = true;
let issueWarning;
if (DEV_MODE) {
    (_a = globalThis.litIssuedWarnings) !== null && _a !== void 0 ? _a : (globalThis.litIssuedWarnings = new Set());
    // Issue a warning, if we haven't already.
    issueWarning = (code, warning) => {
        warning += code
            ? ` See https://lit.dev/msg/${code} for more information.`
            : '';
        if (!globalThis.litIssuedWarnings.has(warning)) {
            console.warn(warning);
            globalThis.litIssuedWarnings.add(warning);
        }
    };
    issueWarning('dev-mode', `Lit is in dev mode. Not recommended for production!`);
}
const wrap = ENABLE_SHADYDOM_NOPATCH &&
    ((_b = window.ShadyDOM) === null || _b === void 0 ? void 0 : _b.inUse) &&
    ((_c = window.ShadyDOM) === null || _c === void 0 ? void 0 : _c.noPatch) === true
    ? window.ShadyDOM.wrap
    : (node) => node;
const trustedTypes = globalThis.trustedTypes;
/**
 * Our TrustedTypePolicy for HTML which is declared using the html template
 * tag function.
 *
 * That HTML is a developer-authored constant, and is parsed with innerHTML
 * before any untrusted expressions have been mixed in. Therefor it is
 * considered safe by construction.
 */
const policy = trustedTypes
    ? trustedTypes.createPolicy('lit-html', {
        createHTML: (s) => s,
    })
    : undefined;
const identityFunction = (value) => value;
const noopSanitizer = (_node, _name, _type) => identityFunction;
/** Sets the global sanitizer factory. */
const setSanitizer = (newSanitizer) => {
    if (!ENABLE_EXTRA_SECURITY_HOOKS) {
        return;
    }
    if (sanitizerFactoryInternal !== noopSanitizer) {
        throw new Error(`Attempted to overwrite existing lit-html security policy.` +
            ` setSanitizeDOMValueFactory should be called at most once.`);
    }
    sanitizerFactoryInternal = newSanitizer;
};
/**
 * Only used in internal tests, not a part of the public API.
 */
const _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {
    sanitizerFactoryInternal = noopSanitizer;
};
const createSanitizer = (node, name, type) => {
    return sanitizerFactoryInternal(node, name, type);
};
// Added to an attribute name to mark the attribute as bound so we can find
// it easily.
const boundAttributeSuffix = '$lit$';
// This marker is used in many syntactic positions in HTML, so it must be
// a valid element name and attribute name. We don't support dynamic names (yet)
// but this at least ensures that the parse tree is closer to the template
// intention.
const marker = `lit$${String(Math.random()).slice(9)}$`;
// String used to tell if a comment is a marker comment
const markerMatch = '?' + marker;
// Text used to insert a comment marker node. We use processing instruction
// syntax because it's slightly smaller, but parses as a comment node.
const nodeMarker = `<${markerMatch}>`;
const d = document;
// Creates a dynamic marker. We never have to search for these in the DOM.
const createMarker = (v = '') => d.createComment(v);
const isPrimitive = (value) => value === null || (typeof value != 'object' && typeof value != 'function');
const isArray = Array.isArray;
const isIterable = (value) => {
    var _a;
    return isArray(value) ||
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        typeof ((_a = value) === null || _a === void 0 ? void 0 : _a[Symbol.iterator]) === 'function';
};
const SPACE_CHAR = `[ \t\n\f\r]`;
const ATTR_VALUE_CHAR = `[^ \t\n\f\r"'\`<>=]`;
const NAME_CHAR = `[^\\s"'>=/]`;
// These regexes represent the five parsing states that we care about in the
// Template's HTML scanner. They match the *end* of the state they're named
// after.
// Depending on the match, we transition to a new state. If there's no match,
// we stay in the same state.
// Note that the regexes are stateful. We utilize lastIndex and sync it
// across the multiple regexes used. In addition to the five regexes below
// we also dynamically create a regex to find the matching end tags for raw
// text elements.
/**
 * End of text is: `<` followed by:
 *   (comment start) or (tag) or (dynamic tag binding)
 */
const textEndRegex = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g;
const COMMENT_START = 1;
const TAG_NAME = 2;
const DYNAMIC_TAG_NAME = 3;
const commentEndRegex = /-->/g;
/**
 * Comments not started with <!--, like </{, can be ended by a single `>`
 */
const comment2EndRegex = />/g;
/**
 * The tagEnd regex matches the end of the "inside an opening" tag syntax
 * position. It either matches a `>`, an attribute-like sequence, or the end
 * of the string after a space (attribute-name position ending).
 *
 * See attributes in the HTML spec:
 * https://www.w3.org/TR/html5/syntax.html#elements-attributes
 *
 * " \t\n\f\r" are HTML space characters:
 * https://infra.spec.whatwg.org/#ascii-whitespace
 *
 * So an attribute is:
 *  * The name: any character except a whitespace character, ("), ('), ">",
 *    "=", or "/". Note: this is different from the HTML spec which also excludes control characters.
 *  * Followed by zero or more space characters
 *  * Followed by "="
 *  * Followed by zero or more space characters
 *  * Followed by:
 *    * Any character except space, ('), ("), "<", ">", "=", (`), or
 *    * (") then any non-("), or
 *    * (') then any non-(')
 */
const tagEndRegex = new RegExp(`>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|("|')|))|$)`, 'g');
const ENTIRE_MATCH = 0;
const ATTRIBUTE_NAME = 1;
const SPACES_AND_EQUALS = 2;
const QUOTE_CHAR = 3;
const singleQuoteAttrEndRegex = /'/g;
const doubleQuoteAttrEndRegex = /"/g;
/**
 * Matches the raw text elements.
 *
 * Comments are not parsed within raw text elements, so we need to search their
 * text content for marker strings.
 */
const rawTextElement = /^(?:script|style|textarea)$/i;
/** TemplateResult types */
const HTML_RESULT = 1;
const SVG_RESULT = 2;
// TemplatePart types
// IMPORTANT: these must match the values in PartType
const ATTRIBUTE_PART = 1;
const CHILD_PART = 2;
const PROPERTY_PART = 3;
const BOOLEAN_ATTRIBUTE_PART = 4;
const EVENT_PART = 5;
const ELEMENT_PART = 6;
const COMMENT_PART = 7;
/**
 * Generates a template literal tag function that returns a TemplateResult with
 * the given result type.
 */
const tag = (type) => (strings, ...values) => {
    // Warn against templates octal escape sequences
    // We do this here rather than in render so that the warning is closer to the
    // template definition.
    if (DEV_MODE && strings.some((s) => s === undefined)) {
        console.warn('Some template strings are undefined.\n' +
            'This is probably caused by illegal octal escape sequences.');
    }
    return {
        // This property needs to remain unminified.
        ['_$litType$']: type,
        strings,
        values,
    };
};
/**
 * Interprets a template literal as an HTML template that can efficiently
 * render to and update a container.
 *
 * ```ts
 * const header = (title: string) => html`<h1>${title}</h1>`;
 * ```
 *
 * The `html` tag returns a description of the DOM to render as a value. It is
 * lazy, meaning no work is done until the template is rendered. When rendering,
 * if a template comes from the same expression as a previously rendered result,
 * it's efficiently updated instead of replaced.
 */
const html = tag(HTML_RESULT);
/**
 * Interprets a template literal as an SVG template that can efficiently
 * render to and update a container.
 */
const svg = tag(SVG_RESULT);
/**
 * A sentinel value that signals that a value was handled by a directive and
 * should not be written to the DOM.
 */
const noChange = Symbol.for('lit-noChange');
/**
 * A sentinel value that signals a ChildPart to fully clear its content.
 *
 * ```ts
 * const button = html`${
 *  user.isAdmin
 *    ? html`<button>DELETE</button>`
 *    : nothing
 * }`;
 * ```
 *
 * Prefer using `nothing` over other falsy values as it provides a consistent
 * behavior between various expression binding contexts.
 *
 * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the
 * same and render no nodes. In attribute expressions, `nothing` _removes_ the
 * attribute, while `undefined` and `null` will render an empty string. In
 * property expressions `nothing` becomes `undefined`.
 */
const nothing = Symbol.for('lit-nothing');
/**
 * The cache of prepared templates, keyed by the tagged TemplateStringsArray
 * and _not_ accounting for the specific template tag used. This means that
 * template tags cannot be dynamic - the must statically be one of html, svg,
 * or attr. This restriction simplifies the cache lookup, which is on the hot
 * path for rendering.
 */
const templateCache = new WeakMap();
/**
 * Renders a value, usually a lit-html TemplateResult, to the container.
 * @param value
 * @param container
 * @param options
 */
const render = (value, container, options) => {
    var _a, _b, _c;
    const partOwnerNode = (_a = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _a !== void 0 ? _a : container;
    // This property needs to remain unminified.
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    let part = partOwnerNode['_$litPart$'];
    if (part === undefined) {
        const endNode = (_b = options === null || options === void 0 ? void 0 : options.renderBefore) !== null && _b !== void 0 ? _b : null;
        // Internal modification: don't clear container to match lit-html 2.0
        if (INTERNAL &&
            ((_c = options) === null || _c === void 0 ? void 0 : _c.clearContainerForLit2MigrationOnly) ===
                true) {
            let n = container.firstChild;
            // Clear only up to the `endNode` aka `renderBefore` node.
            while (n && n !== endNode) {
                const next = n.nextSibling;
                n.remove();
                n = next;
            }
        }
        // This property needs to remain unminified.
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        partOwnerNode['_$litPart$'] = part = new ChildPart(container.insertBefore(createMarker(), endNode), endNode, undefined, options !== null && options !== void 0 ? options : {});
    }
    part._$setValue(value);
    return part;
};
if (ENABLE_EXTRA_SECURITY_HOOKS) {
    render.setSanitizer = setSanitizer;
    render.createSanitizer = createSanitizer;
    if (DEV_MODE) {
        render._testOnlyClearSanitizerFactoryDoNotCallOrElse =
            _testOnlyClearSanitizerFactoryDoNotCallOrElse;
    }
}
const walker = d.createTreeWalker(d, 129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */, null, false);
let sanitizerFactoryInternal = noopSanitizer;
/**
 * Returns an HTML string for the given TemplateStringsArray and result type
 * (HTML or SVG), along with the case-sensitive bound attribute names in
 * template order. The HTML contains comment comment markers denoting the
 * `ChildPart`s and suffixes on bound attributes denoting the `AttributeParts`.
 *
 * @param strings template strings array
 * @param type HTML or SVG
 * @return Array containing `[html, attrNames]` (array returned for terseness,
 *     to avoid object fields since this code is shared with non-minified SSR
 *     code)
 */
const getTemplateHtml = (strings, type) => {
    // Insert makers into the template HTML to represent the position of
    // bindings. The following code scans the template strings to determine the
    // syntactic position of the bindings. They can be in text position, where
    // we insert an HTML comment, attribute value position, where we insert a
    // sentinel string and re-write the attribute name, or inside a tag where
    // we insert the sentinel string.
    const l = strings.length - 1;
    // Stores the case-sensitive bound attribute names in the order of their
    // parts. ElementParts are also reflected in this array as undefined
    // rather than a string, to disambiguate from attribute bindings.
    const attrNames = [];
    let html = type === SVG_RESULT ? '<svg>' : '';
    // When we're inside a raw text tag (not it's text content), the regex
    // will still be tagRegex so we can find attributes, but will switch to
    // this regex when the tag ends.
    let rawTextEndRegex;
    // The current parsing state, represented as a reference to one of the
    // regexes
    let regex = textEndRegex;
    for (let i = 0; i < l; i++) {
        const s = strings[i];
        // The index of the end of the last attribute name. When this is
        // positive at end of a string, it means we're in an attribute value
        // position and need to rewrite the attribute name.
        // We also use a special value of -2 to indicate that we encountered
        // the end of a string in attribute name position.
        let attrNameEndIndex = -1;
        let attrName;
        let lastIndex = 0;
        let match;
        // The conditions in this loop handle the current parse state, and the
        // assignments to the `regex` variable are the state transitions.
        while (lastIndex < s.length) {
            // Make sure we start searching from where we previously left off
            regex.lastIndex = lastIndex;
            match = regex.exec(s);
            if (match === null) {
                break;
            }
            lastIndex = regex.lastIndex;
            if (regex === textEndRegex) {
                if (match[COMMENT_START] === '!--') {
                    regex = commentEndRegex;
                }
                else if (match[COMMENT_START] !== undefined) {
                    // We started a weird comment, like </{
                    regex = comment2EndRegex;
                }
                else if (match[TAG_NAME] !== undefined) {
                    if (rawTextElement.test(match[TAG_NAME])) {
                        // Record if we encounter a raw-text element. We'll switch to
                        // this regex at the end of the tag.
                        rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');
                    }
                    regex = tagEndRegex;
                }
                else if (match[DYNAMIC_TAG_NAME] !== undefined) {
                    if (DEV_MODE) {
                        throw new Error('Bindings in tag names are not supported. Please use static templates instead. ' +
                            'See https://lit.dev/docs/templates/expressions/#static-expressions');
                    }
                    regex = tagEndRegex;
                }
            }
            else if (regex === tagEndRegex) {
                if (match[ENTIRE_MATCH] === '>') {
                    // End of a tag. If we had started a raw-text element, use that
                    // regex
                    regex = rawTextEndRegex !== null && rawTextEndRegex !== void 0 ? rawTextEndRegex : textEndRegex;
                    // We may be ending an unquoted attribute value, so make sure we
                    // clear any pending attrNameEndIndex
                    attrNameEndIndex = -1;
                }
                else if (match[ATTRIBUTE_NAME] === undefined) {
                    // Attribute name position
                    attrNameEndIndex = -2;
                }
                else {
                    attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;
                    attrName = match[ATTRIBUTE_NAME];
                    regex =
                        match[QUOTE_CHAR] === undefined
                            ? tagEndRegex
                            : match[QUOTE_CHAR] === '"'
                                ? doubleQuoteAttrEndRegex
                                : singleQuoteAttrEndRegex;
                }
            }
            else if (regex === doubleQuoteAttrEndRegex ||
                regex === singleQuoteAttrEndRegex) {
                regex = tagEndRegex;
            }
            else if (regex === commentEndRegex || regex === comment2EndRegex) {
                regex = textEndRegex;
            }
            else {
                // Not one of the five state regexes, so it must be the dynamically
                // created raw text regex and we're at the close of that element.
                regex = tagEndRegex;
                rawTextEndRegex = undefined;
            }
        }
        if (DEV_MODE) {
            // If we have a attrNameEndIndex, which indicates that we should
            // rewrite the attribute name, assert that we're in a valid attribute
            // position - either in a tag, or a quoted attribute value.
            console.assert(attrNameEndIndex === -1 ||
                regex === tagEndRegex ||
                regex === singleQuoteAttrEndRegex ||
                regex === doubleQuoteAttrEndRegex, 'unexpected parse state B');
        }
        // We have four cases:
        //  1. We're in text position, and not in a raw text element
        //     (regex === textEndRegex): insert a comment marker.
        //  2. We have a non-negative attrNameEndIndex which means we need to
        //     rewrite the attribute name to add a bound attribute suffix.
        //  3. We're at the non-first binding in a multi-binding attribute, use a
        //     plain marker.
        //  4. We're somewhere else inside the tag. If we're in attribute name
        //     position (attrNameEndIndex === -2), add a sequential suffix to
        //     generate a unique attribute name.
        // Detect a binding next to self-closing tag end and insert a space to
        // separate the marker from the tag end:
        const end = regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';
        html +=
            regex === textEndRegex
                ? s + nodeMarker
                : attrNameEndIndex >= 0
                    ? (attrNames.push(attrName),
                        s.slice(0, attrNameEndIndex) +
                            boundAttributeSuffix +
                            s.slice(attrNameEndIndex)) +
                        marker +
                        end
                    : s +
                        marker +
                        (attrNameEndIndex === -2 ? (attrNames.push(undefined), i) : end);
    }
    const htmlResult = html + (strings[l] || '<?>') + (type === SVG_RESULT ? '</svg>' : '');
    // Returned as an array for terseness
    return [
        policy !== undefined
            ? policy.createHTML(htmlResult)
            : htmlResult,
        attrNames,
    ];
};
class Template {
    constructor(
    // This property needs to remain unminified.
    { strings, ['_$litType$']: type }, options) {
        /** @internal */
        this.parts = [];
        let node;
        let nodeIndex = 0;
        let attrNameIndex = 0;
        const partCount = strings.length - 1;
        const parts = this.parts;
        // Create template element
        const [html, attrNames] = getTemplateHtml(strings, type);
        this.el = Template.createElement(html, options);
        walker.currentNode = this.el.content;
        // Reparent SVG nodes into template root
        if (type === SVG_RESULT) {
            const content = this.el.content;
            const svgElement = content.firstChild;
            svgElement.remove();
            content.append(...svgElement.childNodes);
        }
        // Walk the template to find binding markers and create TemplateParts
        while ((node = walker.nextNode()) !== null && parts.length < partCount) {
            if (node.nodeType === 1) {
                if (DEV_MODE) {
                    const tag = node.localName;
                    // Warn if `textarea` includes an expression and throw if `template`
                    // does since these are not supported. We do this by checking
                    // innerHTML for anything that looks like a marker. This catches
                    // cases like bindings in textarea there markers turn into text nodes.
                    if (/^(?:textarea|template)$/i.test(tag) &&
                        node.innerHTML.includes(marker)) {
                        const m = `Expressions are not supported inside \`${tag}\` ` +
                            `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +
                            `information.`;
                        if (tag === 'template') {
                            throw new Error(m);
                        }
                        else
                            issueWarning('', m);
                    }
                }
                // TODO (justinfagnani): for attempted dynamic tag names, we don't
                // increment the bindingIndex, and it'll be off by 1 in the element
                // and off by two after it.
                if (node.hasAttributes()) {
                    // We defer removing bound attributes because on IE we might not be
                    // iterating attributes in their template order, and would sometimes
                    // remove an attribute that we still need to create a part for.
                    const attrsToRemove = [];
                    for (const name of node.getAttributeNames()) {
                        // `name` is the name of the attribute we're iterating over, but not
                        // _neccessarily_ the name of the attribute we will create a part
                        // for. They can be different in browsers that don't iterate on
                        // attributes in source order. In that case the attrNames array
                        // contains the attribute name we'll process next. We only need the
                        // attribute name here to know if we should process a bound attribute
                        // on this element.
                        if (name.endsWith(boundAttributeSuffix) ||
                            name.startsWith(marker)) {
                            const realName = attrNames[attrNameIndex++];
                            attrsToRemove.push(name);
                            if (realName !== undefined) {
                                // Lowercase for case-sensitive SVG attributes like viewBox
                                const value = node.getAttribute(realName.toLowerCase() + boundAttributeSuffix);
                                const statics = value.split(marker);
                                const m = /([.?@])?(.*)/.exec(realName);
                                parts.push({
                                    type: ATTRIBUTE_PART,
                                    index: nodeIndex,
                                    name: m[2],
                                    strings: statics,
                                    ctor: m[1] === '.'
                                        ? PropertyPart
                                        : m[1] === '?'
                                            ? BooleanAttributePart
                                            : m[1] === '@'
                                                ? EventPart
                                                : AttributePart,
                                });
                            }
                            else {
                                parts.push({
                                    type: ELEMENT_PART,
                                    index: nodeIndex,
                                });
                            }
                        }
                    }
                    for (const name of attrsToRemove) {
                        node.removeAttribute(name);
                    }
                }
                // TODO (justinfagnani): benchmark the regex against testing for each
                // of the 3 raw text element names.
                if (rawTextElement.test(node.tagName)) {
                    // For raw text elements we need to split the text content on
                    // markers, create a Text node for each segment, and create
                    // a TemplatePart for each marker.
                    const strings = node.textContent.split(marker);
                    const lastIndex = strings.length - 1;
                    if (lastIndex > 0) {
                        node.textContent = trustedTypes
                            ? trustedTypes.emptyScript
                            : '';
                        // Generate a new text node for each literal section
                        // These nodes are also used as the markers for node parts
                        // We can't use empty text nodes as markers because they're
                        // normalized when cloning in IE (could simplify when
                        // IE is no longer supported)
                        for (let i = 0; i < lastIndex; i++) {
                            node.append(strings[i], createMarker());
                            // Walk past the marker node we just added
                            walker.nextNode();
                            parts.push({ type: CHILD_PART, index: ++nodeIndex });
                        }
                        // Note because this marker is added after the walker's current
                        // node, it will be walked to in the outer loop (and ignored), so
                        // we don't need to adjust nodeIndex here
                        node.append(strings[lastIndex], createMarker());
                    }
                }
            }
            else if (node.nodeType === 8) {
                const data = node.data;
                if (data === markerMatch) {
                    parts.push({ type: CHILD_PART, index: nodeIndex });
                }
                else {
                    let i = -1;
                    while ((i = node.data.indexOf(marker, i + 1)) !== -1) {
                        // Comment node has a binding marker inside, make an inactive part
                        // The binding won't work, but subsequent bindings will
                        parts.push({ type: COMMENT_PART, index: nodeIndex });
                        // Move to the end of the match
                        i += marker.length - 1;
                    }
                }
            }
            nodeIndex++;
        }
    }
    // Overridden via `litHtmlPolyfillSupport` to provide platform support.
    /** @nocollapse */
    static createElement(html, _options) {
        const el = d.createElement('template');
        el.innerHTML = html;
        return el;
    }
}
function resolveDirective(part, value, parent = part, attributeIndex) {
    var _a, _b, _c;
    var _d;
    // Bail early if the value is explicitly noChange. Note, this means any
    // nested directive is still attached and is not run.
    if (value === noChange) {
        return value;
    }
    let currentDirective = attributeIndex !== undefined
        ? (_a = parent.__directives) === null || _a === void 0 ? void 0 : _a[attributeIndex]
        : parent.__directive;
    const nextDirectiveConstructor = isPrimitive(value)
        ? undefined
        : // This property needs to remain unminified.
            value['_$litDirective$'];
    if ((currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective.constructor) !== nextDirectiveConstructor) {
        // This property needs to remain unminified.
        (_b = currentDirective === null || currentDirective === void 0 ? void 0 : currentDirective['_$notifyDirectiveConnectionChanged']) === null || _b === void 0 ? void 0 : _b.call(currentDirective, false);
        if (nextDirectiveConstructor === undefined) {
            currentDirective = undefined;
        }
        else {
            currentDirective = new nextDirectiveConstructor(part);
            currentDirective._$initialize(part, parent, attributeIndex);
        }
        if (attributeIndex !== undefined) {
            ((_c = (_d = parent).__directives) !== null && _c !== void 0 ? _c : (_d.__directives = []))[attributeIndex] =
                currentDirective;
        }
        else {
            parent.__directive = currentDirective;
        }
    }
    if (currentDirective !== undefined) {
        value = resolveDirective(part, currentDirective._$resolve(part, value.values), currentDirective, attributeIndex);
    }
    return value;
}
/**
 * An updateable instance of a Template. Holds references to the Parts used to
 * update the template instance.
 */
class TemplateInstance {
    constructor(template, parent) {
        /** @internal */
        this._parts = [];
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$template = template;
        this._$parent = parent;
    }
    // Called by ChildPart parentNode getter
    get parentNode() {
        return this._$parent.parentNode;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    // This method is separate from the constructor because we need to return a
    // DocumentFragment and we don't want to hold onto it with an instance field.
    _clone(options) {
        var _a;
        const { el: { content }, parts: parts, } = this._$template;
        const fragment = ((_a = options === null || options === void 0 ? void 0 : options.creationScope) !== null && _a !== void 0 ? _a : d).importNode(content, true);
        walker.currentNode = fragment;
        let node = walker.nextNode();
        let nodeIndex = 0;
        let partIndex = 0;
        let templatePart = parts[0];
        while (templatePart !== undefined) {
            if (nodeIndex === templatePart.index) {
                let part;
                if (templatePart.type === CHILD_PART) {
                    part = new ChildPart(node, node.nextSibling, this, options);
                }
                else if (templatePart.type === ATTRIBUTE_PART) {
                    part = new templatePart.ctor(node, templatePart.name, templatePart.strings, this, options);
                }
                else if (templatePart.type === ELEMENT_PART) {
                    part = new ElementPart(node, this, options);
                }
                this._parts.push(part);
                templatePart = parts[++partIndex];
            }
            if (nodeIndex !== (templatePart === null || templatePart === void 0 ? void 0 : templatePart.index)) {
                node = walker.nextNode();
                nodeIndex++;
            }
        }
        return fragment;
    }
    _update(values) {
        let i = 0;
        for (const part of this._parts) {
            if (part !== undefined) {
                if (part.strings !== undefined) {
                    part._$setValue(values, part, i);
                    // The number of values the part consumes is part.strings.length - 1
                    // since values are in between template spans. We increment i by 1
                    // later in the loop, so increment it by part.strings.length - 2 here
                    i += part.strings.length - 2;
                }
                else {
                    part._$setValue(values[i]);
                }
            }
            i++;
        }
    }
}
class ChildPart {
    constructor(startNode, endNode, parent, options) {
        var _a;
        this.type = CHILD_PART;
        this._$committedValue = nothing;
        // The following fields will be patched onto ChildParts when required by
        // AsyncDirective
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$startNode = startNode;
        this._$endNode = endNode;
        this._$parent = parent;
        this.options = options;
        // Note __isConnected is only ever accessed on RootParts (i.e. when there is
        // no _$parent); the value on a non-root-part is "don't care", but checking
        // for parent would be more code
        this.__isConnected = (_a = options === null || options === void 0 ? void 0 : options.isConnected) !== null && _a !== void 0 ? _a : true;
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            // Explicitly initialize for consistent class shape.
            this._textSanitizer = undefined;
        }
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        var _a, _b;
        // ChildParts that are not at the root should always be created with a
        // parent; only RootChildNode's won't, so they return the local isConnected
        // state
        return (_b = (_a = this._$parent) === null || _a === void 0 ? void 0 : _a._$isConnected) !== null && _b !== void 0 ? _b : this.__isConnected;
    }
    /**
     * The parent node into which the part renders its content.
     *
     * A ChildPart's content consists of a range of adjacent child nodes of
     * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and
     * `.endNode`).
     *
     * - If both `.startNode` and `.endNode` are non-null, then the part's content
     * consists of all siblings between `.startNode` and `.endNode`, exclusively.
     *
     * - If `.startNode` is non-null but `.endNode` is null, then the part's
     * content consists of all siblings following `.startNode`, up to and
     * including the last child of `.parentNode`. If `.endNode` is non-null, then
     * `.startNode` will always be non-null.
     *
     * - If both `.endNode` and `.startNode` are null, then the part's content
     * consists of all child nodes of `.parentNode`.
     */
    get parentNode() {
        let parentNode = wrap(this._$startNode).parentNode;
        const parent = this._$parent;
        if (parent !== undefined &&
            parentNode.nodeType === 11 /* Node.DOCUMENT_FRAGMENT */) {
            // If the parentNode is a DocumentFragment, it may be because the DOM is
            // still in the cloned fragment during initial render; if so, get the real
            // parentNode the part will be committed into by asking the parent.
            parentNode = parent.parentNode;
        }
        return parentNode;
    }
    /**
     * The part's leading marker node, if any. See `.parentNode` for more
     * information.
     */
    get startNode() {
        return this._$startNode;
    }
    /**
     * The part's trailing marker node, if any. See `.parentNode` for more
     * information.
     */
    get endNode() {
        return this._$endNode;
    }
    _$setValue(value, directiveParent = this) {
        if (DEV_MODE && this.parentNode === null) {
            throw new Error(`This \`ChildPart\` has no \`parentNode\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \`innerHTML\` or \`textContent\` can do this.`);
        }
        value = resolveDirective(this, value, directiveParent);
        if (isPrimitive(value)) {
            // Non-rendering child values. It's important that these do not render
            // empty text nodes to avoid issues with preventing default <slot>
            // fallback content.
            if (value === nothing || value == null || value === '') {
                if (this._$committedValue !== nothing) {
                    this._$clear();
                }
                this._$committedValue = nothing;
            }
            else if (value !== this._$committedValue && value !== noChange) {
                this._commitText(value);
            }
            // This property needs to remain unminified.
        }
        else if (value['_$litType$'] !== undefined) {
            this._commitTemplateResult(value);
        }
        else if (value.nodeType !== undefined) {
            this._commitNode(value);
        }
        else if (isIterable(value)) {
            this._commitIterable(value);
        }
        else {
            // Fallback, will render the string representation
            this._commitText(value);
        }
    }
    _insert(node, ref = this._$endNode) {
        return wrap(wrap(this._$startNode).parentNode).insertBefore(node, ref);
    }
    _commitNode(value) {
        var _a;
        if (this._$committedValue !== value) {
            this._$clear();
            if (ENABLE_EXTRA_SECURITY_HOOKS &&
                sanitizerFactoryInternal !== noopSanitizer) {
                const parentNodeName = (_a = this._$startNode.parentNode) === null || _a === void 0 ? void 0 : _a.nodeName;
                if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {
                    let message = 'Forbidden';
                    if (DEV_MODE) {
                        if (parentNodeName === 'STYLE') {
                            message =
                                `Lit does not support binding inside style nodes. ` +
                                    `This is a security risk, as style injection attacks can ` +
                                    `exfiltrate data and spoof UIs. ` +
                                    `Consider instead using css\`...\` literals ` +
                                    `to compose styles, and make do dynamic styling with ` +
                                    `css custom properties, ::parts, <slot>s, ` +
                                    `and by mutating the DOM rather than stylesheets.`;
                        }
                        else {
                            message =
                                `Lit does not support binding inside script nodes. ` +
                                    `This is a security risk, as it could allow arbitrary ` +
                                    `code execution.`;
                        }
                    }
                    throw new Error(message);
                }
            }
            this._$committedValue = this._insert(value);
        }
    }
    _commitText(value) {
        // If the committed value is a primitive it means we called _commitText on
        // the previous render, and we know that this._$startNode.nextSibling is a
        // Text node. We can now just replace the text content (.data) of the node.
        if (this._$committedValue !== nothing &&
            isPrimitive(this._$committedValue)) {
            const node = wrap(this._$startNode).nextSibling;
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                if (this._textSanitizer === undefined) {
                    this._textSanitizer = createSanitizer(node, 'data', 'property');
                }
                value = this._textSanitizer(value);
            }
            node.data = value;
        }
        else {
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                const textNode = document.createTextNode('');
                this._commitNode(textNode);
                // When setting text content, for security purposes it matters a lot
                // what the parent is. For example, <style> and <script> need to be
                // handled with care, while <span> does not. So first we need to put a
                // text node into the document, then we can sanitize its contentx.
                if (this._textSanitizer === undefined) {
                    this._textSanitizer = createSanitizer(textNode, 'data', 'property');
                }
                value = this._textSanitizer(value);
                textNode.data = value;
            }
            else {
                this._commitNode(d.createTextNode(value));
            }
        }
        this._$committedValue = value;
    }
    _commitTemplateResult(result) {
        var _a;
        // This property needs to remain unminified.
        const { values, ['_$litType$']: type } = result;
        // If $litType$ is a number, result is a plain TemplateResult and we get
        // the template from the template cache. If not, result is a
        // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need
        // to create the <template> element the first time we see it.
        const template = typeof type === 'number'
            ? this._$getTemplate(result)
            : (type.el === undefined &&
                (type.el = Template.createElement(type.h, this.options)),
                type);
        if (((_a = this._$committedValue) === null || _a === void 0 ? void 0 : _a._$template) === template) {
            this._$committedValue._update(values);
        }
        else {
            const instance = new TemplateInstance(template, this);
            const fragment = instance._clone(this.options);
            instance._update(values);
            this._commitNode(fragment);
            this._$committedValue = instance;
        }
    }
    // Overridden via `litHtmlPolyfillSupport` to provide platform support.
    /** @internal */
    _$getTemplate(result) {
        let template = templateCache.get(result.strings);
        if (template === undefined) {
            templateCache.set(result.strings, (template = new Template(result)));
        }
        return template;
    }
    _commitIterable(value) {
        // For an Iterable, we create a new InstancePart per item, then set its
        // value to the item. This is a little bit of overhead for every item in
        // an Iterable, but it lets us recurse easily and efficiently update Arrays
        // of TemplateResults that will be commonly returned from expressions like:
        // array.map((i) => html`${i}`), by reusing existing TemplateInstances.
        // If value is an array, then the previous render was of an
        // iterable and value will contain the ChildParts from the previous
        // render. If value is not an array, clear this part and make a new
        // array for ChildParts.
        if (!isArray(this._$committedValue)) {
            this._$committedValue = [];
            this._$clear();
        }
        // Lets us keep track of how many items we stamped so we can clear leftover
        // items from a previous render
        const itemParts = this._$committedValue;
        let partIndex = 0;
        let itemPart;
        for (const item of value) {
            if (partIndex === itemParts.length) {
                // If no existing part, create a new one
                // TODO (justinfagnani): test perf impact of always creating two parts
                // instead of sharing parts between nodes
                // https://github.com/lit/lit/issues/1266
                itemParts.push((itemPart = new ChildPart(this._insert(createMarker()), this._insert(createMarker()), this, this.options)));
            }
            else {
                // Reuse an existing part
                itemPart = itemParts[partIndex];
            }
            itemPart._$setValue(item);
            partIndex++;
        }
        if (partIndex < itemParts.length) {
            // itemParts always have end nodes
            this._$clear(itemPart && wrap(itemPart._$endNode).nextSibling, partIndex);
            // Truncate the parts array so _value reflects the current state
            itemParts.length = partIndex;
        }
    }
    /**
     * Removes the nodes contained within this Part from the DOM.
     *
     * @param start Start node to clear from, for clearing a subset of the part's
     *     DOM (used when truncating iterables)
     * @param from  When `start` is specified, the index within the iterable from
     *     which ChildParts are being removed, used for disconnecting directives in
     *     those Parts.
     *
     * @internal
     */
    _$clear(start = wrap(this._$startNode).nextSibling, from) {
        var _a;
        (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, false, true, from);
        while (start && start !== this._$endNode) {
            const n = wrap(start).nextSibling;
            wrap(start).remove();
            start = n;
        }
    }
    /**
     * Implementation of RootPart's `isConnected`. Note that this metod
     * should only be called on `RootPart`s (the `ChildPart` returned from a
     * top-level `render()` call). It has no effect on non-root ChildParts.
     * @param isConnected Whether to set
     * @internal
     */
    setConnected(isConnected) {
        var _a;
        if (this._$parent === undefined) {
            this.__isConnected = isConnected;
            (_a = this._$notifyConnectionChanged) === null || _a === void 0 ? void 0 : _a.call(this, isConnected);
        }
        else if (DEV_MODE) {
            throw new Error('part.setConnected() may only be called on a ' +
                'RootPart returned from render().');
        }
    }
}
class AttributePart {
    constructor(element, name, strings, parent, options) {
        this.type = ATTRIBUTE_PART;
        /** @internal */
        this._$committedValue = nothing;
        /** @internal */
        this._$disconnectableChildren = undefined;
        this.element = element;
        this.name = name;
        this._$parent = parent;
        this.options = options;
        if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {
            this._$committedValue = new Array(strings.length - 1).fill(new String());
            this.strings = strings;
        }
        else {
            this._$committedValue = nothing;
        }
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            this._sanitizer = undefined;
        }
    }
    get tagName() {
        return this.element.tagName;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    /**
     * Sets the value of this part by resolving the value from possibly multiple
     * values and static strings and committing it to the DOM.
     * If this part is single-valued, `this._strings` will be undefined, and the
     * method will be called with a single value argument. If this part is
     * multi-value, `this._strings` will be defined, and the method is called
     * with the value array of the part's owning TemplateInstance, and an offset
     * into the value array from which the values should be read.
     * This method is overloaded this way to eliminate short-lived array slices
     * of the template instance values, and allow a fast-path for single-valued
     * parts.
     *
     * @param value The part value, or an array of values for multi-valued parts
     * @param valueIndex the index to start reading values from. `undefined` for
     *   single-valued parts
     * @param noCommit causes the part to not commit its value to the DOM. Used
     *   in hydration to prime attribute parts with their first-rendered value,
     *   but not set the attribute, and in SSR to no-op the DOM operation and
     *   capture the value for serialization.
     *
     * @internal
     */
    _$setValue(value, directiveParent = this, valueIndex, noCommit) {
        const strings = this.strings;
        // Whether any of the values has changed, for dirty-checking
        let change = false;
        if (strings === undefined) {
            // Single-value binding case
            value = resolveDirective(this, value, directiveParent, 0);
            change =
                !isPrimitive(value) ||
                    (value !== this._$committedValue && value !== noChange);
            if (change) {
                this._$committedValue = value;
            }
        }
        else {
            // Interpolation case
            const values = value;
            value = strings[0];
            let i, v;
            for (i = 0; i < strings.length - 1; i++) {
                v = resolveDirective(this, values[valueIndex + i], directiveParent, i);
                if (v === noChange) {
                    // If the user-provided value is `noChange`, use the previous value
                    v = this._$committedValue[i];
                }
                change || (change = !isPrimitive(v) || v !== this._$committedValue[i]);
                if (v === nothing) {
                    value = nothing;
                }
                else if (value !== nothing) {
                    value += (v !== null && v !== void 0 ? v : '') + strings[i + 1];
                }
                // We always record each value, even if one is `nothing`, for future
                // change detection.
                this._$committedValue[i] = v;
            }
        }
        if (change && !noCommit) {
            this._commitValue(value);
        }
    }
    /** @internal */
    _commitValue(value) {
        if (value === nothing) {
            wrap(this.element).removeAttribute(this.name);
        }
        else {
            if (ENABLE_EXTRA_SECURITY_HOOKS) {
                if (this._sanitizer === undefined) {
                    this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'attribute');
                }
                value = this._sanitizer(value !== null && value !== void 0 ? value : '');
            }
            wrap(this.element).setAttribute(this.name, (value !== null && value !== void 0 ? value : ''));
        }
    }
}
class PropertyPart extends AttributePart {
    constructor() {
        super(...arguments);
        this.type = PROPERTY_PART;
    }
    /** @internal */
    _commitValue(value) {
        if (ENABLE_EXTRA_SECURITY_HOOKS) {
            if (this._sanitizer === undefined) {
                this._sanitizer = sanitizerFactoryInternal(this.element, this.name, 'property');
            }
            value = this._sanitizer(value);
        }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.element[this.name] = value === nothing ? undefined : value;
    }
}
// Temporary workaround for https://crbug.com/993268
// Currently, any attribute starting with "on" is considered to be a
// TrustedScript source. Such boolean attributes must be set to the equivalent
// trusted emptyScript value.
const emptyStringForBooleanAttribute = trustedTypes
    ? trustedTypes.emptyScript
    : '';
class BooleanAttributePart extends AttributePart {
    constructor() {
        super(...arguments);
        this.type = BOOLEAN_ATTRIBUTE_PART;
    }
    /** @internal */
    _commitValue(value) {
        if (value && value !== nothing) {
            wrap(this.element).setAttribute(this.name, emptyStringForBooleanAttribute);
        }
        else {
            wrap(this.element).removeAttribute(this.name);
        }
    }
}
class EventPart extends AttributePart {
    constructor(element, name, strings, parent, options) {
        super(element, name, strings, parent, options);
        this.type = EVENT_PART;
        if (DEV_MODE && this.strings !== undefined) {
            throw new Error(`A \`<${element.localName}>\` has a \`@${name}=...\` listener with ` +
                'invalid content. Event listeners in templates must have exactly ' +
                'one expression and no surrounding text.');
        }
    }
    // EventPart does not use the base _$setValue/_resolveValue implementation
    // since the dirty checking is more complex
    /** @internal */
    _$setValue(newListener, directiveParent = this) {
        var _a;
        newListener =
            (_a = resolveDirective(this, newListener, directiveParent, 0)) !== null && _a !== void 0 ? _a : nothing;
        if (newListener === noChange) {
            return;
        }
        const oldListener = this._$committedValue;
        // If the new value is nothing or any options change we have to remove the
        // part as a listener.
        const shouldRemoveListener = (newListener === nothing && oldListener !== nothing) ||
            newListener.capture !==
                oldListener.capture ||
            newListener.once !==
                oldListener.once ||
            newListener.passive !==
                oldListener.passive;
        // If the new value is not nothing and we removed the listener, we have
        // to add the part as a listener.
        const shouldAddListener = newListener !== nothing &&
            (oldListener === nothing || shouldRemoveListener);
        if (shouldRemoveListener) {
            this.element.removeEventListener(this.name, this, oldListener);
        }
        if (shouldAddListener) {
            // Beware: IE11 and Chrome 41 don't like using the listener as the
            // options object. Figure out how to deal w/ this in IE11 - maybe
            // patch addEventListener?
            this.element.addEventListener(this.name, this, newListener);
        }
        this._$committedValue = newListener;
    }
    handleEvent(event) {
        var _a, _b;
        if (typeof this._$committedValue === 'function') {
            this._$committedValue.call((_b = (_a = this.options) === null || _a === void 0 ? void 0 : _a.host) !== null && _b !== void 0 ? _b : this.element, event);
        }
        else {
            this._$committedValue.handleEvent(event);
        }
    }
}
class ElementPart {
    constructor(element, parent, options) {
        this.element = element;
        this.type = ELEMENT_PART;
        /** @internal */
        this._$disconnectableChildren = undefined;
        this._$parent = parent;
        this.options = options;
    }
    // See comment in Disconnectable interface for why this is a getter
    get _$isConnected() {
        return this._$parent._$isConnected;
    }
    _$setValue(value) {
        resolveDirective(this, value);
    }
}
/**
 * END USERS SHOULD NOT RELY ON THIS OBJECT.
 *
 * Private exports for use by other Lit packages, not intended for use by
 * external users.
 *
 * We currently do not make a mangled rollup build of the lit-ssr code. In order
 * to keep a number of (otherwise private) top-level exports  mangled in the
 * client side code, we export a _$LH object containing those members (or
 * helper methods for accessing private fields of those members), and then
 * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the
 * client-side code is being used in `dev` mode or `prod` mode.
 *
 * This has a unique name, to disambiguate it from private exports in
 * lit-element, which re-exports all of lit-html.
 *
 * @private
 */
const _$LH = {
    // Used in lit-ssr
    _boundAttributeSuffix: boundAttributeSuffix,
    _marker: marker,
    _markerMatch: markerMatch,
    _HTML_RESULT: HTML_RESULT,
    _getTemplateHtml: getTemplateHtml,
    // Used in hydrate
    _TemplateInstance: TemplateInstance,
    _isIterable: isIterable,
    _resolveDirective: resolveDirective,
    // Used in tests and private-ssr-support
    _ChildPart: ChildPart,
    _AttributePart: AttributePart,
    _BooleanAttributePart: BooleanAttributePart,
    _EventPart: EventPart,
    _PropertyPart: PropertyPart,
    _ElementPart: ElementPart,
};
// Apply polyfills if available
const polyfillSupport = DEV_MODE
    ? window.litHtmlPolyfillSupportDevMode
    : window.litHtmlPolyfillSupport;
polyfillSupport === null || polyfillSupport === void 0 ? void 0 : polyfillSupport(Template, ChildPart);
// IMPORTANT: do not change the property name or the assignment expression.
// This line will be used in regexes to search for lit-html usage.
((_d = globalThis.litHtmlVersions) !== null && _d !== void 0 ? _d : (globalThis.litHtmlVersions = [])).push('2.0.2');
if (DEV_MODE && globalThis.litHtmlVersions.length > 1) {
    issueWarning('multiple-versions', `Multiple versions of Lit loaded. ` +
        `Loading multiple versions is not recommended.`);
}
//# sourceMappingURL=lit-html.js.map

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "chunks/" + chunkId + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		// data-webpack is not used as build has no uniqueName
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"app": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunk"] = self["webpackChunk"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!****************!*\
  !*** ./app.js ***!
  \****************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ionic_core_dist_esm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ionic/core/dist/esm */ "../../../node_modules/@ionic/core/dist/esm/index.js");
/* harmony import */ var _ionic_core_dist_esm_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/core/dist/esm/loader */ "../../../node_modules/@ionic/core/dist/esm/loader.js");
/* harmony import */ var _ionic_core_css_ionic_bundle_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/core/css/ionic.bundle.css */ "../../../node_modules/@ionic/core/css/ionic.bundle.css");
/* harmony import */ var _ionic_core_css_ionic_bundle_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ionic_core_css_ionic_bundle_css__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _css_theme_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./css/theme.css */ "./css/theme.css");
/* harmony import */ var _css_theme_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_css_theme_css__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _view_components_app_component_main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./view/components/app/component-main */ "./view/components/app/component-main.js");
/* harmony import */ var applicationstate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! applicationstate */ "../../../node_modules/applicationstate/index.js");
/* harmony import */ var applicationstate_plugins_indexeddb__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! applicationstate/plugins/indexeddb */ "../../../node_modules/applicationstate/plugins/indexeddb/index.js");
/*
 *   Copyright (c) 2020 Ratio Software, LLC 
 *   All rights reserved.
 *   @author Clayton Gulick <clay@ratiosoftware.com>
 */

/**
 * app.js
 *
 * This is the entry point for the application.
 *
 * @author Clay Gulick
 * @email clay@ratiosoftware.com
 */

//global scripts
//global scripts





//the main application component


//load the state from indexedDB



//load application state before we do anything else
console.log('Starting up: ' + "local" + ' admin');
(0,applicationstate_plugins_indexeddb__WEBPACK_IMPORTED_MODULE_6__.init)(applicationstate__WEBPACK_IMPORTED_MODULE_5__["default"], "local" + "_admin")
    .then(
        async () => {
            await (0,_ionic_core_dist_esm_loader__WEBPACK_IMPORTED_MODULE_1__.defineCustomElements)();
            //create the main component and kick off application
            let body = document.querySelector('body');
            body.style.overflowY='auto';
            body.appendChild(new _view_components_app_component_main__WEBPACK_IMPORTED_MODULE_4__["default"]());
        }
    );
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDOU1BO0FBQ0E7QUFDQTtBQUNpRDs7QUFFakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFNBQVMsSUFBSSxvQkFBb0I7QUFDN0Q7QUFDQTtBQUNBLGNBQWMsYUFBYSxJQUFJLEVBQUUsd0JBQXdCO0FBQ3pELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixNQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZUFBZSxZQUFZLGdCQUFnQixFQUFFLGlCQUFpQixHQUFHLGVBQWUsWUFBWSxhQUFhLE9BQU8sRUFBRSxnQkFBZ0I7QUFDaks7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNCQUFzQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdURBQUc7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxjQUFjO0FBQ3pFO0FBQ0Esd0RBQXdELFdBQVc7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0EsUUFBUSx1REFBRztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG9DQUFvQyxxQkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1REFBRztBQUNQO0FBQ0E7QUFDQSwyREFBMkQsY0FBYztBQUN6RTtBQUNBLGdGQUFnRixxQkFBcUIsU0FBUyxXQUFXO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGFBQWE7QUFDdEU7QUFDQSxRQUFRLHVEQUFHO0FBQ1g7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQUc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdURBQUc7QUFDWDtBQUNBLFVBQVUsdURBQUc7QUFDYixTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsdUJBQXVCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsVUFBVSxlQUFlO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW1DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2pNbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLE9BQU87QUFDakMsR0FBRztBQUNIO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQyxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZ0JBQWdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVvSTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVHcEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxHQUFHO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZ0NBQWdDO0FBQzFEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxzQ0FBc0M7O0FBRStFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdEVySDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsWUFBWTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLFlBQVk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsS0FBSztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JUaFg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQixVQUFVLG1CQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxrQkFBa0IsSUFBSSxRQUFRO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsSUFBSSxRQUFRO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGNBQWM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0NBQWdDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxvQkFBb0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxVQUFVO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxRQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMEJBQTBCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMEJBQTBCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFVBQVUsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPLEdBQUcsT0FBTyxHQUFHLE1BQU0sR0FBRyxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFFBQVE7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsYUFBYSxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLE1BQU07QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYSxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsTUFBTSxHQUFHLE1BQU0sR0FBRyxTQUFTO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGVBQWUsR0FBRyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSw0QkFBNEI7QUFDM0M7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVDQUF1QztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrQkFBa0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrS0FJUCxHQUFHLEVBQUUsU0FBUyxVQUFlLENBQUM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW9TOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxZ0VwUztBQUNBO0FBQ0E7QUFDMkU7QUFDQTs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsZ0RBQWdELFNBQVM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzR0FBc0c7QUFDNUk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNEVBQWdDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xjekI7QUFDQTtBQUNBO0FBQytFO0FBQ2pCO0FBQ0Q7QUFDRTs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseURBQWU7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFlO0FBQ3ZDLDRCQUE0Qix5REFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsUUFBUSxrQkFBa0IsUUFBUTtBQUN6RSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBZTtBQUN2QztBQUNBLHVDQUF1QyxZQUFZO0FBQ25ELDJCQUEyQix5REFBZTtBQUMxQztBQUNBLDBEQUEwRCxlQUFlO0FBQ3pFLDRCQUE0Qix5REFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0Esc0JBQXNCLHlEQUFlO0FBQ3JDO0FBQ0EsMERBQTBELFFBQVE7QUFDbEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHVEQUFnQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsd0ZBQXlCO0FBQ3BEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRStCOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3BUL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELG1CQUFtQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG1DQUFtQztBQUNwRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0NBQWdDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMEJBQTBCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFd0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZJeEQ7QUFDQTtBQUNBO0FBQ2lFO0FBQ087O0FBRXhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDLGlNQUFzQztBQUMzRSxvQ0FBb0MsK0xBQXFDO0FBQ3pFO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsMkRBQWU7QUFDbEQ7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsdURBQWdCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsdURBQUc7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFNk87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDbk83TztBQUNBO0FBQ0E7QUFDK0Q7QUFDTztBQUNGO0FBQ007QUFDdEI7QUFDNkM7QUFDQztBQUNwQztBQUNIO0FBQ2dIO0FBQ2pIO0FBQ21KO0FBQ25LO0FBQ2I7QUFDZTtBQUNkO0FBQ0Q7QUFDYTs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdURBQUc7QUFDVDtBQUNBLFFBQVEsdURBQW1CO0FBQzNCLE9BQU87QUFDUDtBQUNBLElBQUksdURBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdURBQW1CO0FBQ3ZCO0FBQ0EsRUFBRSx1REFBZ0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTBEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4UTFEO0FBQ0E7QUFDQTtBQUMwRjs7QUFFMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsRUFBRTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixxREFBTztBQUN4QjtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUscURBQWtCO0FBQ3BCO0FBQ0E7QUFDQSw0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N0I7QUFDQTtBQUNBLElBQUksdURBQUc7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNEZBQTRCO0FBQ3ZEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNERBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixZQUFZO0FBQzNDLHVGQUF1RixZQUFZO0FBQ25HLGlCQUFpQiw0REFBVTtBQUMzQjtBQUNBO0FBQ0EsUUFBUSw0REFBVTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixZQUFZO0FBQzFDLHNGQUFzRixZQUFZO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtRUFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1REFBbUI7QUFDdkI7QUFDQTtBQUNBLEVBQUUsdURBQWdCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRTZSOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDamtJN1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsaUNBQWlDLE1BQU0sVUFBVTtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVxRjs7Ozs7Ozs7Ozs7QUN6Q3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBRTlNdUQ7QUFDdkQ7QUFDQSxpRUFBZSw4REFBZ0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDRjJCO0FBQ2U7QUFDMUU7QUFDQTtBQUNBLElBQUksMkRBQVc7QUFDZixJQUFJLHFFQUFnQjtBQUNwQjtBQUNBO0FBQ0EsWUFBWSxpRUFBZ0I7QUFDNUIsZUFBZSw0REFBZ0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM4QztBQUM5QyxpRUFBZSxFQUFFLFdBQVcsMkVBQWtCLDJFQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQnpDO0FBQ2I7QUFDMEI7QUFDMUI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkNBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyRWE7QUFDYjtBQUMwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQSxxQkFBcUIsNkNBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCx3Q0FBd0M7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDakpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLEdBQUc7QUFDbEIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWtEO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywyREFBMkQ7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FB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SUFBSTtBQUN0RztBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsSUFBSTtBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFD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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMscUNBQXFDO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsV0FBVyxNQUFNLFVBQVUsS0FBSyxXQUFXLElBQUksV0FBVyxNQUFNLGdCQUFnQjtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxNQUFNO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFMQUFxTDtBQUNyTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsaUJBQWlCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixPQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0JBQWdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwrQkFBK0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxJQUFJO0FBQ2hGLCtFQUErRSxLQUFLO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxlQUFlO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxzQ0FBc0M7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxvQ0FBb0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNDQUFzQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNLFNBQVMsa0JBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxFQUFFO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQixlQUFlLEtBQUs7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O1VDaHZDQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOztVQUVBO1VBQ0E7Ozs7O1dDekJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUMsV0FBVztXQUM1QztXQUNBOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxFQUFFO1dBQ0Y7Ozs7O1dDUkE7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7Ozs7V0NKQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLEdBQUc7V0FDSDtXQUNBO1dBQ0EsQ0FBQzs7Ozs7V0NQRDs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLHVCQUF1Qiw0QkFBNEI7V0FDbkQ7V0FDQTtXQUNBO1dBQ0EsaUJBQWlCLG9CQUFvQjtXQUNyQztXQUNBLHNDQUFzQyxZQUFZO1dBQ2xEO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7O1dBRUE7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EsbUVBQW1FLGlDQUFpQztXQUNwRztXQUNBO1dBQ0E7V0FDQTs7Ozs7V0N6Q0E7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7OztXQ05BOzs7OztXQ0FBOztXQUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUM7O1dBRWpDO1dBQ0E7V0FDQTtXQUNBLEtBQUs7V0FDTCxlQUFlO1dBQ2Y7V0FDQTtXQUNBOztXQUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxNQUFNO1dBQ047V0FDQTtXQUNBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBOztXQUVBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTtXQUNBLE1BQU0scUJBQXFCO1dBQzNCO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQTs7V0FFQTs7V0FFQTtXQUNBO1dBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDOEI7QUFDbUM7QUFDdkI7QUFDakI7O0FBRXpCO0FBQ3dEOztBQUV4RDtBQUNnRDtBQUNVOztBQUUxRDtBQUNBLDhCQUE4QixPQUFTO0FBQ3ZDLHdFQUFJLENBQUMsd0RBQWdCLEVBQUUsT0FBUztBQUNoQztBQUNBO0FBQ0Esa0JBQWtCLGlGQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsMkVBQUk7QUFDckM7QUFDQSxNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvYW5pbWF0aW9uLWM5YzJhMzU5LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2N1YmljLWJlemllci0xNTRhNTNhNS5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9mcmFtZXdvcmstZGVsZWdhdGUtYTkyMjAxOGMuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvZ2VzdHVyZS1jb250cm9sbGVyLTY4YzAyM2E0LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2hhcHRpYy05YTlhYTdlYy5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9oYXJkd2FyZS1iYWNrLWJ1dHRvbi1hY2U2YTcxYi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9oZWxwZXJzLWVlZDc5YTJiLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LTA2Y2QyN2IxLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LTQxYmY0MWYyLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LTQ0NjRkMmRjLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LWM4NDFjOTMzLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LWM4ZWY1NWI1LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2luZGV4LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbmljLWdsb2JhbC1hMDQ5YmNiZi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb3MudHJhbnNpdGlvbi00YTAzMTAzYi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9tZC50cmFuc2l0aW9uLTgyNzcwMjljLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L292ZXJsYXlzLWYyZTU1ZTNhLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L3RoZW1lLWEyNGZmMWFkLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1fGxhenl8L15cXC5cXC8uKlxcLmVudHJ5XFwuanMkL3xncm91cE9wdGlvbnM6IHt9fG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9hbmltYXRpb24tYzljMmEzNTkuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9hcHAtZ2xvYmFscy0zNjc1ZGQ3Yi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2N1YmljLWJlemllci0xNTRhNTNhNS5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2ZyYW1ld29yay1kZWxlZ2F0ZS1hOTIyMDE4Yy5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2dlc3R1cmUtY29udHJvbGxlci02OGMwMjNhNC5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2hhcHRpYy05YTlhYTdlYy5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2hhcmR3YXJlLWJhY2stYnV0dG9uLWFjZTZhNzFiLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaGVscGVycy1lZWQ3OWEyYi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2luZGV4LTA2Y2QyN2IxLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW5kZXgtNDFiZjQxZjIuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC00NDY0ZDJkYy5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2luZGV4LWM4NDFjOTMzLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW5kZXgtYzhlZjU1YjUuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbmljLWdsb2JhbC1hMDQ5YmNiZi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvcy50cmFuc2l0aW9uLTRhMDMxMDNiLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vbG9hZGVyLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vbWQudHJhbnNpdGlvbi04Mjc3MDI5Yy5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL292ZXJsYXlzLWYyZTU1ZTNhLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vdGhlbWUtYTI0ZmYxYWQuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbXxsYXp5fC9eXFwuXFwvLipcXC5lbnRyeVxcLmpzJC98aW5jbHVkZTogL1xcLmVudHJ5XFwuanMkL3xleGNsdWRlOiAvXFwuc3lzdGVtXFwuZW50cnlcXC5qcyQvfGdyb3VwT3B0aW9uczoge318bmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9hcHBsaWNhdGlvbnN0YXRlL2luZGV4LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYXBwbGljYXRpb25zdGF0ZS9wbHVnaW5zL2luZGV4ZWRkYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2FwcGxpY2F0aW9uc3RhdGUvcGx1Z2lucy9pbmRleGVkZGIvc3JjL2xvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2FwcGxpY2F0aW9uc3RhdGUvcGx1Z2lucy9pbmRleGVkZGIvc3JjL3BlcnNpc3RlbmNlLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYXBwbGljYXRpb25zdGF0ZS9zcmMvYXBwbGljYXRpb25fc3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9jc3MvaW9uaWMuYnVuZGxlLmNzcyIsIndlYnBhY2s6Ly8vLi9jc3MvdGhlbWUuY3NzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGF0YWJyb2tlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGFicm9rZXIvc3JjL2RhdGFfYnJva2VyLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZGV4aWUvZGlzdC9kZXhpZS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9jc3MvZm9udHMvcm9ib3RvL1JvYm90by1Cb2xkLndvZmYiLCJ3ZWJwYWNrOi8vLy4vY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tQm9sZC53b2ZmMiIsIndlYnBhY2s6Ly8vLi9jc3MvZm9udHMvcm9ib3RvL1JvYm90by1MaWdodC53b2ZmIiwid2VicGFjazovLy8uL2Nzcy9mb250cy9yb2JvdG8vUm9ib3RvLUxpZ2h0LndvZmYyIiwid2VicGFjazovLy8uL2Nzcy9mb250cy9yb2JvdG8vUm9ib3RvLU1lZGl1bS53b2ZmIiwid2VicGFjazovLy8uL2Nzcy9mb250cy9yb2JvdG8vUm9ib3RvLU1lZGl1bS53b2ZmMiIsIndlYnBhY2s6Ly8vLi9jc3MvZm9udHMvcm9ib3RvL1JvYm90by1SZWd1bGFyLndvZmYiLCJ3ZWJwYWNrOi8vLy4vY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tUmVndWxhci53b2ZmMiIsIndlYnBhY2s6Ly8vLi9jc3MvZm9udHMvcm9ib3RvL1JvYm90by1UaGluLndvZmYiLCJ3ZWJwYWNrOi8vLy4vY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tVGhpbi53b2ZmMiIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Nzcy9pb25pYy5idW5kbGUuY3NzPzYyMzgiLCJ3ZWJwYWNrOi8vLy4vY3NzL3RoZW1lLmNzcz8xNTM3Iiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vdmlldy9jb21wb25lbnRzL2FwcC9jYXJkcy9jb21wb25lbnQtY2FyZC11c2VyLmpzIiwid2VicGFjazovLy8uL3ZpZXcvY29tcG9uZW50cy9hcHAvY29tcG9uZW50LW1haW4uanMiLCJ3ZWJwYWNrOi8vLy4vdmlldy9jb21wb25lbnRzL2FwcC9pbnZpdGF0aW9uL2NvbXBvbmVudC1pbnZpdGF0aW9uLWhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vdmlldy9jb21wb25lbnRzL2FwcC9pbnZpdGF0aW9uL2NvbXBvbmVudC1pbnZpdGF0aW9uLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vdmlldy9jb21wb25lbnRzL2FwcC91c2VyL2NvbXBvbmVudC11c2VyLWhpc3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vdmlldy9jb21wb25lbnRzL2FwcC91c2VyL2NvbXBvbmVudC11c2VyLW5ldy5qcyIsIndlYnBhY2s6Ly8vLi92aWV3L2NvbXBvbmVudHMvYXBwL3VzZXIvY29tcG9uZW50LXVzZXItcHJvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi92aWV3L2NvbXBvbmVudHMvc2NlbmUvc2NlbmUtZXhwb3J0LmpzIiwid2VicGFjazovLy8uL3ZpZXcvY29tcG9uZW50cy9zY2VuZS9zY2VuZS1ob21lLmpzIiwid2VicGFjazovLy8uL3ZpZXcvY29tcG9uZW50cy9zY2VuZS9zY2VuZS1pbnZpdGF0aW9uLmpzIiwid2VicGFjazovLy8uL3ZpZXcvY29tcG9uZW50cy9zY2VuZS9zY2VuZS1pbnZpdGF0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi92aWV3L2NvbXBvbmVudHMvc2NlbmUvc2NlbmUtbm90aWZpY2F0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi92aWV3L2NvbXBvbmVudHMvc2NlbmUvc2NlbmUtdXNlci5qcyIsIndlYnBhY2s6Ly8vLi92aWV3L2NvbXBvbmVudHMvc2NlbmUvc2NlbmUtdXNlcnMuanMiLCJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kZXZlbG9wbWVudC9saXQtaHRtbC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9lbnN1cmUgY2h1bmsiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2xvYWQgc2NyaXB0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vLy4vYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtfX3NwcmVhZEFycmF5fWZyb21cInRzbGliXCI7XG4vKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL2ltcG9ydHtyIGFzIHJhZn1mcm9tXCIuL2hlbHBlcnMtZWVkNzlhMmIuanNcIjt2YXIgYW5pbWF0aW9uUHJlZml4O3ZhciBwcm9jZXNzS2V5ZnJhbWVzPWZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciBuIGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciByPWVbbl07aWYobj09PVwiZWFzaW5nXCIpe3ZhciB0PVwiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiO2VbdF09cjtkZWxldGUgZVtuXX1lbHNle3ZhciB0PWNvbnZlcnRDYW1lbENhc2VUb0h5cGVuKG4pO2lmKHQhPT1uKXtlW3RdPXI7ZGVsZXRlIGVbbl19fX19fSkpO3JldHVybiBlfTt2YXIgY29udmVydENhbWVsQ2FzZVRvSHlwZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCl9O3ZhciBnZXRBbmltYXRpb25QcmVmaXg9ZnVuY3Rpb24oZSl7aWYoYW5pbWF0aW9uUHJlZml4PT09dW5kZWZpbmVkKXt2YXIgbj1lLnN0eWxlLmFuaW1hdGlvbk5hbWUhPT11bmRlZmluZWQ7dmFyIHI9ZS5zdHlsZS53ZWJraXRBbmltYXRpb25OYW1lIT09dW5kZWZpbmVkO2FuaW1hdGlvblByZWZpeD0hbiYmcj9cIi13ZWJraXQtXCI6XCJcIn1yZXR1cm4gYW5pbWF0aW9uUHJlZml4fTt2YXIgc2V0U3R5bGVQcm9wZXJ0eT1mdW5jdGlvbihlLG4scil7dmFyIHQ9bi5zdGFydHNXaXRoKFwiYW5pbWF0aW9uXCIpP2dldEFuaW1hdGlvblByZWZpeChlKTpcIlwiO2Uuc3R5bGUuc2V0UHJvcGVydHkodCtuLHIpfTt2YXIgcmVtb3ZlU3R5bGVQcm9wZXJ0eT1mdW5jdGlvbihlLG4pe3ZhciByPW4uc3RhcnRzV2l0aChcImFuaW1hdGlvblwiKT9nZXRBbmltYXRpb25QcmVmaXgoZSk6XCJcIjtlLnN0eWxlLnJlbW92ZVByb3BlcnR5KHIrbil9O3ZhciBhbmltYXRpb25FbmQ9ZnVuY3Rpb24oZSxuKXt2YXIgcjt2YXIgdD17cGFzc2l2ZTp0cnVlfTt2YXIgYT1mdW5jdGlvbigpe2lmKHIpe3IoKX19O3ZhciBpPWZ1bmN0aW9uKHIpe2lmKGU9PT1yLnRhcmdldCl7YSgpO24ocil9fTtpZihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRBbmltYXRpb25FbmRcIixpLHQpO2UuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGksdCk7cj1mdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdEFuaW1hdGlvbkVuZFwiLGksdCk7ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsaSx0KX19cmV0dXJuIGF9O3ZhciBnZW5lcmF0ZUtleWZyYW1lUnVsZXM9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCl7ZT1bXX1yZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPWUub2Zmc2V0O3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KHQpJiZ0IT09XCJvZmZzZXRcIil7ci5wdXNoKHQrXCI6IFwiK2VbdF0rXCI7XCIpfX1yZXR1cm4gbioxMDArXCIlIHsgXCIrci5qb2luKFwiIFwiKStcIiB9XCJ9KSkuam9pbihcIiBcIil9O3ZhciBrZXlmcmFtZUlkcz1bXTt2YXIgZ2VuZXJhdGVLZXlmcmFtZU5hbWU9ZnVuY3Rpb24oZSl7dmFyIG49a2V5ZnJhbWVJZHMuaW5kZXhPZihlKTtpZihuPDApe249a2V5ZnJhbWVJZHMucHVzaChlKS0xfXJldHVyblwiaW9uLWFuaW1hdGlvbi1cIitufTt2YXIgZ2V0U3R5bGVDb250YWluZXI9ZnVuY3Rpb24oZSl7dmFyIG49ZS5nZXRSb290Tm9kZSgpO3JldHVybiBuLmhlYWR8fG59O3ZhciBjcmVhdGVLZXlmcmFtZVN0eWxlc2hlZXQ9ZnVuY3Rpb24oZSxuLHIpe3ZhciB0PWdldFN0eWxlQ29udGFpbmVyKHIpO3ZhciBhPWdldEFuaW1hdGlvblByZWZpeChyKTt2YXIgaT10LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrZSk7aWYoaSl7cmV0dXJuIGl9dmFyIG89KHIub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtvLmlkPWU7by50ZXh0Q29udGVudD1cIkBcIithK1wia2V5ZnJhbWVzIFwiK2UrXCIgeyBcIituK1wiIH0gQFwiK2ErXCJrZXlmcmFtZXMgXCIrZStcIi1hbHQgeyBcIituK1wiIH1cIjt0LmFwcGVuZENoaWxkKG8pO3JldHVybiBvfTt2YXIgYWRkQ2xhc3NUb0FycmF5PWZ1bmN0aW9uKGUsbil7aWYoZT09PXZvaWQgMCl7ZT1bXX1pZihuIT09dW5kZWZpbmVkKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP246W25dO3JldHVybiBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sZSkscil9cmV0dXJuIGV9O3ZhciBjcmVhdGVBbmltYXRpb249ZnVuY3Rpb24oZSl7dmFyIG47dmFyIHI7dmFyIHQ7dmFyIGE7dmFyIGk7dmFyIG87dmFyIGY9W107dmFyIHU9W107dmFyIHM9W107dmFyIGM9ZmFsc2U7dmFyIHY7dmFyIGw9e307dmFyIGQ9W107dmFyIHk9W107dmFyIG09e307dmFyIHA9MDt2YXIgaD1mYWxzZTt2YXIgZz1mYWxzZTt2YXIgRTt2YXIgUDt2YXIgUzt2YXIgQTt2YXIgQz10cnVlO3ZhciBUPWZhbHNlO3ZhciBiPXRydWU7dmFyIGs7dmFyIHc7dmFyIHg9ZTt2YXIgSz1bXTt2YXIgXz1bXTt2YXIgST1bXTt2YXIgRD1bXTt2YXIgTD1bXTt2YXIgTj1bXTt2YXIgUj1bXTt2YXIgRj1bXTt2YXIgTz1bXTt2YXIgVz1bXTt2YXIgaj10eXBlb2YgQW5pbWF0aW9uRWZmZWN0PT09XCJmdW5jdGlvblwifHx0eXBlb2Ygd2luZG93LkFuaW1hdGlvbkVmZmVjdD09PVwiZnVuY3Rpb25cIjt2YXIgSD10eXBlb2YgRWxlbWVudD09PVwiZnVuY3Rpb25cIiYmdHlwZW9mIEVsZW1lbnQucHJvdG90eXBlLmFuaW1hdGU9PT1cImZ1bmN0aW9uXCImJmo7dmFyIE09MTAwO3ZhciAkPWZ1bmN0aW9uKCl7cmV0dXJuIFd9O3ZhciBxPWZ1bmN0aW9uKGUpe0QuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5kZXN0cm95KGUpfSkpO3ooZSk7SS5sZW5ndGg9MDtELmxlbmd0aD0wO2YubGVuZ3RoPTA7RygpO2M9ZmFsc2U7Yj10cnVlO3JldHVybiB3fTt2YXIgej1mdW5jdGlvbihlKXtKKCk7aWYoZSl7USgpfX07dmFyIFo9ZnVuY3Rpb24oKXtoPWZhbHNlO2c9ZmFsc2U7Yj10cnVlO1A9dW5kZWZpbmVkO1M9dW5kZWZpbmVkO0E9dW5kZWZpbmVkO3A9MDtUPWZhbHNlO0M9dHJ1ZX07dmFyIEI9ZnVuY3Rpb24oZSxuKXt2YXIgcj1uJiZuLm9uZVRpbWVDYWxsYmFjaz9fOks7ci5wdXNoKHtjOmUsbzpufSk7cmV0dXJuIHd9O3ZhciBHPWZ1bmN0aW9uKCl7Sy5sZW5ndGg9MDtfLmxlbmd0aD0wO3JldHVybiB3fTt2YXIgSj1mdW5jdGlvbigpe2lmKEgpe1cuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYW5jZWwoKX0pKTtXLmxlbmd0aD0wfWVsc2V7dmFyIGU9SS5zbGljZSgpO3JhZigoZnVuY3Rpb24oKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1uYW1lXCIpO3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1kdXJhdGlvblwiKTtyZW1vdmVTdHlsZVByb3BlcnR5KGUsXCJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uXCIpO3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIik7cmVtb3ZlU3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLWRlbGF5XCIpO3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIpO3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1maWxsLW1vZGVcIik7cmVtb3ZlU3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLWRpcmVjdGlvblwiKX0pKX0pKX19O3ZhciBRPWZ1bmN0aW9uKCl7TC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlJiZlLnBhcmVudE5vZGUpe2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX19KSk7TC5sZW5ndGg9MH07dmFyIFU9ZnVuY3Rpb24oZSl7Ti5wdXNoKGUpO3JldHVybiB3fTt2YXIgVj1mdW5jdGlvbihlKXtSLnB1c2goZSk7cmV0dXJuIHd9O3ZhciBYPWZ1bmN0aW9uKGUpe0YucHVzaChlKTtyZXR1cm4gd307dmFyIFk9ZnVuY3Rpb24oZSl7Ty5wdXNoKGUpO3JldHVybiB3fTt2YXIgZWU9ZnVuY3Rpb24oZSl7dT1hZGRDbGFzc1RvQXJyYXkodSxlKTtyZXR1cm4gd307dmFyIG5lPWZ1bmN0aW9uKGUpe3M9YWRkQ2xhc3NUb0FycmF5KHMsZSk7cmV0dXJuIHd9O3ZhciByZT1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwKXtlPXt9fWw9ZTtyZXR1cm4gd307dmFyIHRlPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDApe2U9W119Zm9yKHZhciBuPTAscj1lO248ci5sZW5ndGg7bisrKXt2YXIgdD1yW25dO2xbdF09XCJcIn1yZXR1cm4gd307dmFyIGFlPWZ1bmN0aW9uKGUpe2Q9YWRkQ2xhc3NUb0FycmF5KGQsZSk7cmV0dXJuIHd9O3ZhciBpZT1mdW5jdGlvbihlKXt5PWFkZENsYXNzVG9BcnJheSh5LGUpO3JldHVybiB3fTt2YXIgb2U9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCl7ZT17fX1tPWU7cmV0dXJuIHd9O3ZhciBmZT1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwKXtlPVtdfWZvcih2YXIgbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7dmFyIHQ9cltuXTttW3RdPVwiXCJ9cmV0dXJuIHd9O3ZhciB1ZT1mdW5jdGlvbigpe2lmKGkhPT11bmRlZmluZWQpe3JldHVybiBpfWlmKHYpe3JldHVybiB2LmdldEZpbGwoKX1yZXR1cm5cImJvdGhcIn07dmFyIHNlPWZ1bmN0aW9uKCl7aWYoUCE9PXVuZGVmaW5lZCl7cmV0dXJuIFB9aWYobyE9PXVuZGVmaW5lZCl7cmV0dXJuIG99aWYodil7cmV0dXJuIHYuZ2V0RGlyZWN0aW9uKCl9cmV0dXJuXCJub3JtYWxcIn07dmFyIGNlPWZ1bmN0aW9uKCl7aWYoaCl7cmV0dXJuXCJsaW5lYXJcIn1pZih0IT09dW5kZWZpbmVkKXtyZXR1cm4gdH1pZih2KXtyZXR1cm4gdi5nZXRFYXNpbmcoKX1yZXR1cm5cImxpbmVhclwifTt2YXIgdmU9ZnVuY3Rpb24oKXtpZihnKXtyZXR1cm4gMH1pZihTIT09dW5kZWZpbmVkKXtyZXR1cm4gU31pZihyIT09dW5kZWZpbmVkKXtyZXR1cm4gcn1pZih2KXtyZXR1cm4gdi5nZXREdXJhdGlvbigpfXJldHVybiAwfTt2YXIgbGU9ZnVuY3Rpb24oKXtpZihhIT09dW5kZWZpbmVkKXtyZXR1cm4gYX1pZih2KXtyZXR1cm4gdi5nZXRJdGVyYXRpb25zKCl9cmV0dXJuIDF9O3ZhciBkZT1mdW5jdGlvbigpe2lmKEEhPT11bmRlZmluZWQpe3JldHVybiBBfWlmKG4hPT11bmRlZmluZWQpe3JldHVybiBufWlmKHYpe3JldHVybiB2LmdldERlbGF5KCl9cmV0dXJuIDB9O3ZhciB5ZT1mdW5jdGlvbigpe3JldHVybiBmfTt2YXIgbWU9ZnVuY3Rpb24oZSl7bz1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgcGU9ZnVuY3Rpb24oZSl7aT1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgaGU9ZnVuY3Rpb24oZSl7bj1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgZ2U9ZnVuY3Rpb24oZSl7dD1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgRWU9ZnVuY3Rpb24oZSl7aWYoIUgmJmU9PT0wKXtlPTF9cj1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgUGU9ZnVuY3Rpb24oZSl7YT1lO1JlKHRydWUpO3JldHVybiB3fTt2YXIgU2U9ZnVuY3Rpb24oZSl7dj1lO3JldHVybiB3fTt2YXIgQWU9ZnVuY3Rpb24oZSl7aWYoZSE9bnVsbCl7aWYoZS5ub2RlVHlwZT09PTEpe0kucHVzaChlKX1lbHNlIGlmKGUubGVuZ3RoPj0wKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7SS5wdXNoKGVbbl0pfX1lbHNle2NvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGFkZEVsZW1lbnQgdmFsdWVcIil9fXJldHVybiB3fTt2YXIgQ2U9ZnVuY3Rpb24oZSl7aWYoZSE9bnVsbCl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBuPTAscj1lO248ci5sZW5ndGg7bisrKXt2YXIgdD1yW25dO3QucGFyZW50KHcpO0QucHVzaCh0KX19ZWxzZXtlLnBhcmVudCh3KTtELnB1c2goZSl9fXJldHVybiB3fTt2YXIgVGU9ZnVuY3Rpb24oZSl7dmFyIG49ZiE9PWU7Zj1lO2lmKG4pe2JlKGYpfXJldHVybiB3fTt2YXIgYmU9ZnVuY3Rpb24oZSl7aWYoSCl7JCgpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKG4uZWZmZWN0LnNldEtleWZyYW1lcyl7bi5lZmZlY3Quc2V0S2V5ZnJhbWVzKGUpfWVsc2V7dmFyIHI9bmV3IEtleWZyYW1lRWZmZWN0KG4uZWZmZWN0LnRhcmdldCxlLG4uZWZmZWN0LmdldFRpbWluZygpKTtuLmVmZmVjdD1yfX0pKX1lbHNle0tlKCl9fTt2YXIga2U9ZnVuY3Rpb24oKXtOLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSk7Ui5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpO3ZhciBlPXU7dmFyIG49czt2YXIgcj1sO0kuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGE9dC5jbGFzc0xpc3Q7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5hZGQoZSl9KSk7bi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5yZW1vdmUoZSl9KSk7Zm9yKHZhciBpIGluIHIpe2lmKHIuaGFzT3duUHJvcGVydHkoaSkpe3NldFN0eWxlUHJvcGVydHkodCxpLHJbaV0pfX19KSl9O3ZhciB3ZT1mdW5jdGlvbigpeyRlKCk7Ri5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpO08uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pKTt2YXIgZT1DPzE6MDt2YXIgbj1kO3ZhciByPXk7dmFyIHQ9bTtJLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPWUuY2xhc3NMaXN0O24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYWRkKGUpfSkpO3IuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucmVtb3ZlKGUpfSkpO2Zvcih2YXIgaSBpbiB0KXtpZih0Lmhhc093blByb3BlcnR5KGkpKXtzZXRTdHlsZVByb3BlcnR5KGUsaSx0W2ldKX19fSkpO0suZm9yRWFjaCgoZnVuY3Rpb24obil7cmV0dXJuIG4uYyhlLHcpfSkpO18uZm9yRWFjaCgoZnVuY3Rpb24obil7cmV0dXJuIG4uYyhlLHcpfSkpO18ubGVuZ3RoPTA7Yj10cnVlO2lmKEMpe1Q9dHJ1ZX1DPXRydWV9O3ZhciB4ZT1mdW5jdGlvbigpe2lmKHA9PT0wKXtyZXR1cm59cC0tO2lmKHA9PT0wKXt3ZSgpO2lmKHYpe3YuYW5pbWF0aW9uRmluaXNoKCl9fX07dmFyIEtlPWZ1bmN0aW9uKG4pe2lmKG49PT12b2lkIDApe249dHJ1ZX1RKCk7dmFyIHI9cHJvY2Vzc0tleWZyYW1lcyhmKTtJLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHIubGVuZ3RoPjApe3ZhciBhPWdlbmVyYXRlS2V5ZnJhbWVSdWxlcyhyKTtrPWUhPT11bmRlZmluZWQ/ZTpnZW5lcmF0ZUtleWZyYW1lTmFtZShhKTt2YXIgaT1jcmVhdGVLZXlmcmFtZVN0eWxlc2hlZXQoayxhLHQpO0wucHVzaChpKTtzZXRTdHlsZVByb3BlcnR5KHQsXCJhbmltYXRpb24tZHVyYXRpb25cIix2ZSgpK1wibXNcIik7c2V0U3R5bGVQcm9wZXJ0eSh0LFwiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiLGNlKCkpO3NldFN0eWxlUHJvcGVydHkodCxcImFuaW1hdGlvbi1kZWxheVwiLGRlKCkrXCJtc1wiKTtzZXRTdHlsZVByb3BlcnR5KHQsXCJhbmltYXRpb24tZmlsbC1tb2RlXCIsdWUoKSk7c2V0U3R5bGVQcm9wZXJ0eSh0LFwiYW5pbWF0aW9uLWRpcmVjdGlvblwiLHNlKCkpO3ZhciBvPWxlKCk9PT1JbmZpbml0eT9cImluZmluaXRlXCI6bGUoKS50b1N0cmluZygpO3NldFN0eWxlUHJvcGVydHkodCxcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIixvKTtzZXRTdHlsZVByb3BlcnR5KHQsXCJhbmltYXRpb24tcGxheS1zdGF0ZVwiLFwicGF1c2VkXCIpO2lmKG4pe3NldFN0eWxlUHJvcGVydHkodCxcImFuaW1hdGlvbi1uYW1lXCIsaS5pZCtcIi1hbHRcIil9cmFmKChmdW5jdGlvbigpe3NldFN0eWxlUHJvcGVydHkodCxcImFuaW1hdGlvbi1uYW1lXCIsaS5pZHx8bnVsbCl9KSl9fSkpfTt2YXIgX2U9ZnVuY3Rpb24oKXtJLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUuYW5pbWF0ZShmLHtpZDp4LGRlbGF5OmRlKCksZHVyYXRpb246dmUoKSxlYXNpbmc6Y2UoKSxpdGVyYXRpb25zOmxlKCksZmlsbDp1ZSgpLGRpcmVjdGlvbjpzZSgpfSk7bi5wYXVzZSgpO1cucHVzaChuKX0pKTtpZihXLmxlbmd0aD4wKXtXWzBdLm9uZmluaXNoPWZ1bmN0aW9uKCl7eGUoKX19fTt2YXIgSWU9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCl7ZT10cnVlfWtlKCk7aWYoZi5sZW5ndGg+MCl7aWYoSCl7X2UoKX1lbHNle0tlKGUpfX1jPXRydWV9O3ZhciBEZT1mdW5jdGlvbihlKXtlPU1hdGgubWluKE1hdGgubWF4KGUsMCksLjk5OTkpO2lmKEgpe1cuZm9yRWFjaCgoZnVuY3Rpb24obil7bi5jdXJyZW50VGltZT1uLmVmZmVjdC5nZXRDb21wdXRlZFRpbWluZygpLmRlbGF5K3ZlKCkqZTtuLnBhdXNlKCl9KSl9ZWxzZXt2YXIgbj1cIi1cIit2ZSgpKmUrXCJtc1wiO0kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZi5sZW5ndGg+MCl7c2V0U3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLWRlbGF5XCIsbik7c2V0U3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcIixcInBhdXNlZFwiKX19KSl9fTt2YXIgTGU9ZnVuY3Rpb24oZSl7Vy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmVmZmVjdC51cGRhdGVUaW1pbmcoe2RlbGF5OmRlKCksZHVyYXRpb246dmUoKSxlYXNpbmc6Y2UoKSxpdGVyYXRpb25zOmxlKCksZmlsbDp1ZSgpLGRpcmVjdGlvbjpzZSgpfSl9KSk7aWYoZSE9PXVuZGVmaW5lZCl7RGUoZSl9fTt2YXIgTmU9ZnVuY3Rpb24oZSxuKXtpZihlPT09dm9pZCAwKXtlPXRydWV9cmFmKChmdW5jdGlvbigpe0kuZm9yRWFjaCgoZnVuY3Rpb24ocil7c2V0U3R5bGVQcm9wZXJ0eShyLFwiYW5pbWF0aW9uLW5hbWVcIixrfHxudWxsKTtzZXRTdHlsZVByb3BlcnR5KHIsXCJhbmltYXRpb24tZHVyYXRpb25cIix2ZSgpK1wibXNcIik7c2V0U3R5bGVQcm9wZXJ0eShyLFwiYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblwiLGNlKCkpO3NldFN0eWxlUHJvcGVydHkocixcImFuaW1hdGlvbi1kZWxheVwiLG4hPT11bmRlZmluZWQ/XCItXCIrbip2ZSgpK1wibXNcIjpkZSgpK1wibXNcIik7c2V0U3R5bGVQcm9wZXJ0eShyLFwiYW5pbWF0aW9uLWZpbGwtbW9kZVwiLHVlKCl8fG51bGwpO3NldFN0eWxlUHJvcGVydHkocixcImFuaW1hdGlvbi1kaXJlY3Rpb25cIixzZSgpfHxudWxsKTt2YXIgdD1sZSgpPT09SW5maW5pdHk/XCJpbmZpbml0ZVwiOmxlKCkudG9TdHJpbmcoKTtzZXRTdHlsZVByb3BlcnR5KHIsXCJhbmltYXRpb24taXRlcmF0aW9uLWNvdW50XCIsdCk7aWYoZSl7c2V0U3R5bGVQcm9wZXJ0eShyLFwiYW5pbWF0aW9uLW5hbWVcIixrK1wiLWFsdFwiKX1yYWYoKGZ1bmN0aW9uKCl7c2V0U3R5bGVQcm9wZXJ0eShyLFwiYW5pbWF0aW9uLW5hbWVcIixrfHxudWxsKX0pKX0pKX0pKX07dmFyIFJlPWZ1bmN0aW9uKGUsbixyKXtpZihlPT09dm9pZCAwKXtlPWZhbHNlfWlmKG49PT12b2lkIDApe249dHJ1ZX1pZihlKXtELmZvckVhY2goKGZ1bmN0aW9uKHQpe3QudXBkYXRlKGUsbixyKX0pKX1pZihIKXtMZShyKX1lbHNle05lKG4scil9cmV0dXJuIHd9O3ZhciBGZT1mdW5jdGlvbihlLG4pe2lmKGU9PT12b2lkIDApe2U9ZmFsc2V9RC5mb3JFYWNoKChmdW5jdGlvbihyKXtyLnByb2dyZXNzU3RhcnQoZSxuKX0pKTtqZSgpO2g9ZTtpZighYyl7SWUoKX1SZShmYWxzZSx0cnVlLG4pO3JldHVybiB3fTt2YXIgT2U9ZnVuY3Rpb24oZSl7RC5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnByb2dyZXNzU3RlcChlKX0pKTtEZShlKTtyZXR1cm4gd307dmFyIFdlPWZ1bmN0aW9uKGUsbixyKXtoPWZhbHNlO0QuZm9yRWFjaCgoZnVuY3Rpb24odCl7dC5wcm9ncmVzc0VuZChlLG4scil9KSk7aWYociE9PXVuZGVmaW5lZCl7Uz1yfVQ9ZmFsc2U7Qz10cnVlO2lmKGU9PT0wKXtQPXNlKCk9PT1cInJldmVyc2VcIj9cIm5vcm1hbFwiOlwicmV2ZXJzZVwiO2lmKFA9PT1cInJldmVyc2VcIil7Qz1mYWxzZX1pZihIKXtSZSgpO0RlKDEtbil9ZWxzZXtBPSgxLW4pKnZlKCkqLTE7UmUoZmFsc2UsZmFsc2UpfX1lbHNlIGlmKGU9PT0xKXtpZihIKXtSZSgpO0RlKG4pfWVsc2V7QT1uKnZlKCkqLTE7UmUoZmFsc2UsZmFsc2UpfX1pZihlIT09dW5kZWZpbmVkKXtCKChmdW5jdGlvbigpe1M9dW5kZWZpbmVkO1A9dW5kZWZpbmVkO0E9dW5kZWZpbmVkfSkse29uZVRpbWVDYWxsYmFjazp0cnVlfSk7aWYoIXYpe0dlKCl9fXJldHVybiB3fTt2YXIgamU9ZnVuY3Rpb24oKXtpZihjKXtpZihIKXtXLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucGF1c2UoKX0pKX1lbHNle0kuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c2V0U3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLXBsYXktc3RhdGVcIixcInBhdXNlZFwiKX0pKX19fTt2YXIgSGU9ZnVuY3Rpb24oKXtELmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucGF1c2UoKX0pKTtqZSgpO3JldHVybiB3fTt2YXIgTWU9ZnVuY3Rpb24oKXtFPXVuZGVmaW5lZDt4ZSgpfTt2YXIgJGU9ZnVuY3Rpb24oKXtpZihFKXtjbGVhclRpbWVvdXQoRSl9fTt2YXIgcWU9ZnVuY3Rpb24oKXskZSgpO3JhZigoZnVuY3Rpb24oKXtJLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGYubGVuZ3RoPjApe3NldFN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsXCJydW5uaW5nXCIpfX0pKX0pKTtpZihmLmxlbmd0aD09PTB8fEkubGVuZ3RoPT09MCl7eGUoKX1lbHNle3ZhciBlPWRlKCl8fDA7dmFyIG49dmUoKXx8MDt2YXIgcj1sZSgpfHwxO2lmKGlzRmluaXRlKHIpKXtFPXNldFRpbWVvdXQoTWUsZStuKnIrTSl9YW5pbWF0aW9uRW5kKElbMF0sKGZ1bmN0aW9uKCl7JGUoKTtyYWYoKGZ1bmN0aW9uKCl7emUoKTtyYWYoeGUpfSkpfSkpfX07dmFyIHplPWZ1bmN0aW9uKCl7SS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZW1vdmVTdHlsZVByb3BlcnR5KGUsXCJhbmltYXRpb24tZHVyYXRpb25cIik7cmVtb3ZlU3R5bGVQcm9wZXJ0eShlLFwiYW5pbWF0aW9uLWRlbGF5XCIpO3JlbW92ZVN0eWxlUHJvcGVydHkoZSxcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIpfSkpfTt2YXIgWmU9ZnVuY3Rpb24oKXtXLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucGxheSgpfSkpO2lmKGYubGVuZ3RoPT09MHx8SS5sZW5ndGg9PT0wKXt4ZSgpfX07dmFyIEJlPWZ1bmN0aW9uKCl7aWYoSCl7RGUoMCk7TGUoKX1lbHNle05lKCl9fTt2YXIgR2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuKXtpZihlJiZlLnN5bmMpe2c9dHJ1ZTtCKChmdW5jdGlvbigpe3JldHVybiBnPWZhbHNlfSkse29uZVRpbWVDYWxsYmFjazp0cnVlfSl9aWYoIWMpe0llKCl9aWYoVCl7QmUoKTtUPWZhbHNlfWlmKGIpe3A9RC5sZW5ndGgrMTtiPWZhbHNlfUIoKGZ1bmN0aW9uKCl7cmV0dXJuIG4oKX0pLHtvbmVUaW1lQ2FsbGJhY2s6dHJ1ZX0pO0QuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5wbGF5KCl9KSk7aWYoSCl7WmUoKX1lbHNle3FlKCl9fSkpfTt2YXIgSmU9ZnVuY3Rpb24oKXtELmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RvcCgpfSkpO2lmKGMpe0ooKTtjPWZhbHNlfVooKX07dmFyIFFlPWZ1bmN0aW9uKGUsbil7dmFyIHI7dmFyIHQ9ZlswXTtpZih0IT09dW5kZWZpbmVkJiYodC5vZmZzZXQ9PT11bmRlZmluZWR8fHQub2Zmc2V0PT09MCkpe3RbZV09bn1lbHNle2Y9X19zcHJlYWRBcnJheShbKHI9e29mZnNldDowfSxyW2VdPW4scildLGYpfXJldHVybiB3fTt2YXIgVWU9ZnVuY3Rpb24oZSxuKXt2YXIgcjt2YXIgdD1mW2YubGVuZ3RoLTFdO2lmKHQhPT11bmRlZmluZWQmJih0Lm9mZnNldD09PXVuZGVmaW5lZHx8dC5vZmZzZXQ9PT0xKSl7dFtlXT1ufWVsc2V7Zj1fX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sZiksWyhyPXtvZmZzZXQ6MX0scltlXT1uLHIpXSl9cmV0dXJuIHd9O3ZhciBWZT1mdW5jdGlvbihlLG4scil7cmV0dXJuIFFlKGUsbikudG8oZSxyKX07cmV0dXJuIHc9e3BhcmVudEFuaW1hdGlvbjp2LGVsZW1lbnRzOkksY2hpbGRBbmltYXRpb25zOkQsaWQ6eCxhbmltYXRpb25GaW5pc2g6eGUsZnJvbTpRZSx0bzpVZSxmcm9tVG86VmUscGFyZW50OlNlLHBsYXk6R2UscGF1c2U6SGUsc3RvcDpKZSxkZXN0cm95OnEsa2V5ZnJhbWVzOlRlLGFkZEFuaW1hdGlvbjpDZSxhZGRFbGVtZW50OkFlLHVwZGF0ZTpSZSxmaWxsOnBlLGRpcmVjdGlvbjptZSxpdGVyYXRpb25zOlBlLGR1cmF0aW9uOkVlLGVhc2luZzpnZSxkZWxheTpoZSxnZXRXZWJBbmltYXRpb25zOiQsZ2V0S2V5ZnJhbWVzOnllLGdldEZpbGw6dWUsZ2V0RGlyZWN0aW9uOnNlLGdldERlbGF5OmRlLGdldEl0ZXJhdGlvbnM6bGUsZ2V0RWFzaW5nOmNlLGdldER1cmF0aW9uOnZlLGFmdGVyQWRkUmVhZDpYLGFmdGVyQWRkV3JpdGU6WSxhZnRlckNsZWFyU3R5bGVzOmZlLGFmdGVyU3R5bGVzOm9lLGFmdGVyUmVtb3ZlQ2xhc3M6aWUsYWZ0ZXJBZGRDbGFzczphZSxiZWZvcmVBZGRSZWFkOlUsYmVmb3JlQWRkV3JpdGU6VixiZWZvcmVDbGVhclN0eWxlczp0ZSxiZWZvcmVTdHlsZXM6cmUsYmVmb3JlUmVtb3ZlQ2xhc3M6bmUsYmVmb3JlQWRkQ2xhc3M6ZWUsb25GaW5pc2g6Qixwcm9ncmVzc1N0YXJ0OkZlLHByb2dyZXNzU3RlcDpPZSxwcm9ncmVzc0VuZDpXZX19O2V4cG9ydHtjcmVhdGVBbmltYXRpb24gYXMgY307IiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbnZhciBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbj1mdW5jdGlvbih0LHIsYSxlLG8pe3JldHVybiBzb2x2ZUN1YmljQmV6aWVyKHRbMV0sclsxXSxhWzFdLGVbMV0sbykubWFwKChmdW5jdGlvbihvKXtyZXR1cm4gc29sdmVDdWJpY1BhcmFtZXRyaWNFcXVhdGlvbih0WzBdLHJbMF0sYVswXSxlWzBdLG8pfSkpfTt2YXIgc29sdmVDdWJpY1BhcmFtZXRyaWNFcXVhdGlvbj1mdW5jdGlvbih0LHIsYSxlLG8pe3ZhciBpPTMqcipNYXRoLnBvdyhvLTEsMik7dmFyIG49LTMqYSpvKzMqYStlKm87dmFyIHU9dCpNYXRoLnBvdyhvLTEsMyk7cmV0dXJuIG8qKGkrbypuKS11fTt2YXIgc29sdmVDdWJpY0Jlemllcj1mdW5jdGlvbih0LHIsYSxlLG8pe3QtPW87ci09bzthLT1vO2UtPW87dmFyIGk9c29sdmVDdWJpY0VxdWF0aW9uKGUtMyphKzMqci10LDMqYS02KnIrMyp0LDMqci0zKnQsdCk7cmV0dXJuIGkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDw9MX0pKX07dmFyIHNvbHZlUXVhZHJhdGljRXF1YXRpb249ZnVuY3Rpb24odCxyLGEpe3ZhciBlPXIqci00KnQqYTtpZihlPDApe3JldHVybltdfWVsc2V7cmV0dXJuWygtcitNYXRoLnNxcnQoZSkpLygyKnQpLCgtci1NYXRoLnNxcnQoZSkpLygyKnQpXX19O3ZhciBzb2x2ZUN1YmljRXF1YXRpb249ZnVuY3Rpb24odCxyLGEsZSl7aWYodD09PTApe3JldHVybiBzb2x2ZVF1YWRyYXRpY0VxdWF0aW9uKHIsYSxlKX1yLz10O2EvPXQ7ZS89dDt2YXIgbz0oMyphLXIqcikvMzt2YXIgaT0oMipyKnIqci05KnIqYSsyNyplKS8yNztpZihvPT09MCl7cmV0dXJuW01hdGgucG93KC1pLDEvMyldfWVsc2UgaWYoaT09PTApe3JldHVybltNYXRoLnNxcnQoLW8pLC1NYXRoLnNxcnQoLW8pXX12YXIgbj1NYXRoLnBvdyhpLzIsMikrTWF0aC5wb3coby8zLDMpO2lmKG49PT0wKXtyZXR1cm5bTWF0aC5wb3coaS8yLDEvMiktci8zXX1lbHNlIGlmKG4+MCl7cmV0dXJuW01hdGgucG93KC0oaS8yKStNYXRoLnNxcnQobiksMS8zKS1NYXRoLnBvdyhpLzIrTWF0aC5zcXJ0KG4pLDEvMyktci8zXX12YXIgdT1NYXRoLnNxcnQoTWF0aC5wb3coLShvLzMpLDMpKTt2YXIgcz1NYXRoLmFjb3MoLShpLygyKk1hdGguc3FydChNYXRoLnBvdygtKG8vMyksMykpKSkpO3ZhciB2PTIqTWF0aC5wb3codSwxLzMpO3JldHVyblt2Kk1hdGguY29zKHMvMyktci8zLHYqTWF0aC5jb3MoKHMrMipNYXRoLlBJKS8zKS1yLzMsdipNYXRoLmNvcygocys0Kk1hdGguUEkpLzMpLXIvM119O2V4cG9ydHtnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiBhcyBnfTsiLCJpbXBvcnR7X19hd2FpdGVyLF9fZ2VuZXJhdG9yfWZyb21cInRzbGliXCI7XG4vKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL2ltcG9ydHtjIGFzIGNvbXBvbmVudE9uUmVhZHl9ZnJvbVwiLi9oZWxwZXJzLWVlZDc5YTJiLmpzXCI7dmFyIGF0dGFjaENvbXBvbmVudD1mdW5jdGlvbihlLG4scix0LG8sYSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDppZihlKXtyZXR1cm5bMixlLmF0dGFjaFZpZXdUb0RvbShuLHIsbyx0KV19aWYoIWEmJnR5cGVvZiByIT09XCJzdHJpbmdcIiYmIShyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKXt0aHJvdyBuZXcgRXJyb3IoXCJmcmFtZXdvcmsgZGVsZWdhdGUgaXMgbWlzc2luZ1wiKX1pPXR5cGVvZiByPT09XCJzdHJpbmdcIj9uLm93bmVyRG9jdW1lbnQmJm4ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHIpOnI7aWYodCl7dC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5jbGFzc0xpc3QuYWRkKGUpfSkpfWlmKG8pe09iamVjdC5hc3NpZ24oaSxvKX1uLmFwcGVuZENoaWxkKGkpO3JldHVybls0LG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gY29tcG9uZW50T25SZWFkeShpLGUpfSkpXTtjYXNlIDE6Yy5zZW50KCk7cmV0dXJuWzIsaV19fSkpfSkpfTt2YXIgZGV0YWNoQ29tcG9uZW50PWZ1bmN0aW9uKGUsbil7aWYobil7aWYoZSl7dmFyIHI9bi5wYXJlbnRFbGVtZW50O3JldHVybiBlLnJlbW92ZVZpZXdGcm9tRG9tKHIsbil9bi5yZW1vdmUoKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O3ZhciBDb3JlRGVsZWdhdGU9ZnVuY3Rpb24oKXt2YXIgZTt2YXIgbjt2YXIgcj1mdW5jdGlvbihyLHQsbyxhKXtpZihvPT09dm9pZCAwKXtvPXt9fWlmKGE9PT12b2lkIDApe2E9W119cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgaSxjO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihzKXtzd2l0Y2gocy5sYWJlbCl7Y2FzZSAwOmU9cjtpZighdClyZXR1cm5bMywyXTtpPXR5cGVvZiB0PT09XCJzdHJpbmdcIj9lLm93bmVyRG9jdW1lbnQmJmUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpOnQ7YS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5jbGFzc0xpc3QuYWRkKGUpfSkpO09iamVjdC5hc3NpZ24oaSxvKTtlLmFwcGVuZENoaWxkKGkpO3JldHVybls0LG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gY29tcG9uZW50T25SZWFkeShpLGUpfSkpXTtjYXNlIDE6cy5zZW50KCk7cy5sYWJlbD0yO2Nhc2UgMjpjPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpb24tYXBwXCIpfHxkb2N1bWVudC5ib2R5O249ZG9jdW1lbnQuY3JlYXRlQ29tbWVudChcImlvbmljIHRlbGVwb3J0XCIpO2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobixlKTtjLmFwcGVuZENoaWxkKGUpO3JldHVyblsyLGVdfX0pKX0pKX07dmFyIHQ9ZnVuY3Rpb24oKXtpZihlJiZuKXtuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsbik7bi5yZW1vdmUoKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O3JldHVybnthdHRhY2hWaWV3VG9Eb206cixyZW1vdmVWaWV3RnJvbURvbTp0fX07ZXhwb3J0e0NvcmVEZWxlZ2F0ZSBhcyBDLGF0dGFjaENvbXBvbmVudCBhcyBhLGRldGFjaENvbXBvbmVudCBhcyBkfTsiLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xudmFyIEdlc3R1cmVDb250cm9sbGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZ2VzdHVyZUlkPTA7dGhpcy5yZXF1ZXN0ZWRTdGFydD1uZXcgTWFwO3RoaXMuZGlzYWJsZWRHZXN0dXJlcz1uZXcgTWFwO3RoaXMuZGlzYWJsZWRTY3JvbGw9bmV3IFNldH10LnByb3RvdHlwZS5jcmVhdGVHZXN0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgR2VzdHVyZURlbGVnYXRlKHRoaXMsdGhpcy5uZXdJRCgpLHQubmFtZSx0LnByaW9yaXR5fHwwLCEhdC5kaXNhYmxlU2Nyb2xsKX07dC5wcm90b3R5cGUuY3JlYXRlQmxvY2tlcj1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwKXt0PXt9fXJldHVybiBuZXcgQmxvY2tlckRlbGVnYXRlKHRoaXMsdGhpcy5uZXdJRCgpLHQuZGlzYWJsZSwhIXQuZGlzYWJsZVNjcm9sbCl9O3QucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQsZSxyKXtpZighdGhpcy5jYW5TdGFydCh0KSl7dGhpcy5yZXF1ZXN0ZWRTdGFydC5kZWxldGUoZSk7cmV0dXJuIGZhbHNlfXRoaXMucmVxdWVzdGVkU3RhcnQuc2V0KGUscik7cmV0dXJuIHRydWV9O3QucHJvdG90eXBlLmNhcHR1cmU9ZnVuY3Rpb24odCxlLHIpe2lmKCF0aGlzLnN0YXJ0KHQsZSxyKSl7cmV0dXJuIGZhbHNlfXZhciBpPXRoaXMucmVxdWVzdGVkU3RhcnQ7dmFyIHM9LTFlNDtpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3M9TWF0aC5tYXgocyx0KX0pKTtpZihzPT09cil7dGhpcy5jYXB0dXJlZElkPWU7aS5jbGVhcigpO3ZhciBsPW5ldyBDdXN0b21FdmVudChcImlvbkdlc3R1cmVDYXB0dXJlZFwiLHtkZXRhaWw6e2dlc3R1cmVOYW1lOnR9fSk7ZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChsKTtyZXR1cm4gdHJ1ZX1pLmRlbGV0ZShlKTtyZXR1cm4gZmFsc2V9O3QucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24odCl7dGhpcy5yZXF1ZXN0ZWRTdGFydC5kZWxldGUodCk7aWYodGhpcy5jYXB0dXJlZElkPT09dCl7dGhpcy5jYXB0dXJlZElkPXVuZGVmaW5lZH19O3QucHJvdG90eXBlLmRpc2FibGVHZXN0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldCh0KTtpZihyPT09dW5kZWZpbmVkKXtyPW5ldyBTZXQ7dGhpcy5kaXNhYmxlZEdlc3R1cmVzLnNldCh0LHIpfXIuYWRkKGUpfTt0LnByb3RvdHlwZS5lbmFibGVHZXN0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldCh0KTtpZihyIT09dW5kZWZpbmVkKXtyLmRlbGV0ZShlKX19O3QucHJvdG90eXBlLmRpc2FibGVTY3JvbGw9ZnVuY3Rpb24odCl7dGhpcy5kaXNhYmxlZFNjcm9sbC5hZGQodCk7aWYodGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplPT09MSl7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKEJBQ0tEUk9QX05PX1NDUk9MTCl9fTt0LnByb3RvdHlwZS5lbmFibGVTY3JvbGw9ZnVuY3Rpb24odCl7dGhpcy5kaXNhYmxlZFNjcm9sbC5kZWxldGUodCk7aWYodGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplPT09MCl7ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKEJBQ0tEUk9QX05PX1NDUk9MTCl9fTt0LnByb3RvdHlwZS5jYW5TdGFydD1mdW5jdGlvbih0KXtpZih0aGlzLmNhcHR1cmVkSWQhPT11bmRlZmluZWQpe3JldHVybiBmYWxzZX1pZih0aGlzLmlzRGlzYWJsZWQodCkpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX07dC5wcm90b3R5cGUuaXNDYXB0dXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhcHR1cmVkSWQhPT11bmRlZmluZWR9O3QucHJvdG90eXBlLmlzU2Nyb2xsRGlzYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplPjB9O3QucHJvdG90eXBlLmlzRGlzYWJsZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldCh0KTtpZihlJiZlLnNpemU+MCl7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfTt0LnByb3RvdHlwZS5uZXdJRD1mdW5jdGlvbigpe3RoaXMuZ2VzdHVyZUlkKys7cmV0dXJuIHRoaXMuZ2VzdHVyZUlkfTtyZXR1cm4gdH0oKTt2YXIgR2VzdHVyZURlbGVnYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscixpLHMpe3RoaXMuaWQ9ZTt0aGlzLm5hbWU9cjt0aGlzLmRpc2FibGVTY3JvbGw9czt0aGlzLnByaW9yaXR5PWkqMWU2K2U7dGhpcy5jdHJsPXR9dC5wcm90b3R5cGUuY2FuU3RhcnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5jdHJsKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRoaXMuY3RybC5jYW5TdGFydCh0aGlzLm5hbWUpfTt0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe2lmKCF0aGlzLmN0cmwpe3JldHVybiBmYWxzZX1yZXR1cm4gdGhpcy5jdHJsLnN0YXJ0KHRoaXMubmFtZSx0aGlzLmlkLHRoaXMucHJpb3JpdHkpfTt0LnByb3RvdHlwZS5jYXB0dXJlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY3RybCl7cmV0dXJuIGZhbHNlfXZhciB0PXRoaXMuY3RybC5jYXB0dXJlKHRoaXMubmFtZSx0aGlzLmlkLHRoaXMucHJpb3JpdHkpO2lmKHQmJnRoaXMuZGlzYWJsZVNjcm9sbCl7dGhpcy5jdHJsLmRpc2FibGVTY3JvbGwodGhpcy5pZCl9cmV0dXJuIHR9O3QucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXtpZih0aGlzLmN0cmwpe3RoaXMuY3RybC5yZWxlYXNlKHRoaXMuaWQpO2lmKHRoaXMuZGlzYWJsZVNjcm9sbCl7dGhpcy5jdHJsLmVuYWJsZVNjcm9sbCh0aGlzLmlkKX19fTt0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5yZWxlYXNlKCk7dGhpcy5jdHJsPXVuZGVmaW5lZH07cmV0dXJuIHR9KCk7dmFyIEJsb2NrZXJEZWxlZ2F0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIsaSl7dGhpcy5pZD1lO3RoaXMuZGlzYWJsZT1yO3RoaXMuZGlzYWJsZVNjcm9sbD1pO3RoaXMuY3RybD10fXQucHJvdG90eXBlLmJsb2NrPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY3RybCl7cmV0dXJufWlmKHRoaXMuZGlzYWJsZSl7Zm9yKHZhciB0PTAsZT10aGlzLmRpc2FibGU7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07dGhpcy5jdHJsLmRpc2FibGVHZXN0dXJlKHIsdGhpcy5pZCl9fWlmKHRoaXMuZGlzYWJsZVNjcm9sbCl7dGhpcy5jdHJsLmRpc2FibGVTY3JvbGwodGhpcy5pZCl9fTt0LnByb3RvdHlwZS51bmJsb2NrPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY3RybCl7cmV0dXJufWlmKHRoaXMuZGlzYWJsZSl7Zm9yKHZhciB0PTAsZT10aGlzLmRpc2FibGU7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07dGhpcy5jdHJsLmVuYWJsZUdlc3R1cmUocix0aGlzLmlkKX19aWYodGhpcy5kaXNhYmxlU2Nyb2xsKXt0aGlzLmN0cmwuZW5hYmxlU2Nyb2xsKHRoaXMuaWQpfX07dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudW5ibG9jaygpO3RoaXMuY3RybD11bmRlZmluZWR9O3JldHVybiB0fSgpO3ZhciBCQUNLRFJPUF9OT19TQ1JPTEw9XCJiYWNrZHJvcC1uby1zY3JvbGxcIjt2YXIgR0VTVFVSRV9DT05UUk9MTEVSPW5ldyBHZXN0dXJlQ29udHJvbGxlcjtleHBvcnR7R0VTVFVSRV9DT05UUk9MTEVSIGFzIEd9OyIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG52YXIgSGFwdGljRW5naW5lPXtnZXRFbmdpbmU6ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3c7cmV0dXJuIHQuVGFwdGljRW5naW5lfHx0LkNhcGFjaXRvciYmdC5DYXBhY2l0b3IuaXNQbHVnaW5BdmFpbGFibGUoXCJIYXB0aWNzXCIpJiZ0LkNhcGFjaXRvci5QbHVnaW5zLkhhcHRpY3N9LGF2YWlsYWJsZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5nZXRFbmdpbmUoKX0saXNDb3Jkb3ZhOmZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuVGFwdGljRW5naW5lfSxpc0NhcGFjaXRvcjpmdW5jdGlvbigpe3ZhciB0PXdpbmRvdztyZXR1cm4hIXQuQ2FwYWNpdG9yfSxpbXBhY3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRFbmdpbmUoKTtpZighaSl7cmV0dXJufXZhciBuPXRoaXMuaXNDYXBhY2l0b3IoKT90LnN0eWxlLnRvVXBwZXJDYXNlKCk6dC5zdHlsZTtpLmltcGFjdCh7c3R5bGU6bn0pfSxub3RpZmljYXRpb246ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5nZXRFbmdpbmUoKTtpZighaSl7cmV0dXJufXZhciBuPXRoaXMuaXNDYXBhY2l0b3IoKT90LnN0eWxlLnRvVXBwZXJDYXNlKCk6dC5zdHlsZTtpLm5vdGlmaWNhdGlvbih7c3R5bGU6bn0pfSxzZWxlY3Rpb246ZnVuY3Rpb24oKXt0aGlzLmltcGFjdCh7c3R5bGU6XCJsaWdodFwifSl9LHNlbGVjdGlvblN0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRFbmdpbmUoKTtpZighdCl7cmV0dXJufWlmKHRoaXMuaXNDYXBhY2l0b3IoKSl7dC5zZWxlY3Rpb25TdGFydCgpfWVsc2V7dC5nZXN0dXJlU2VsZWN0aW9uU3RhcnQoKX19LHNlbGVjdGlvbkNoYW5nZWQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEVuZ2luZSgpO2lmKCF0KXtyZXR1cm59aWYodGhpcy5pc0NhcGFjaXRvcigpKXt0LnNlbGVjdGlvbkNoYW5nZWQoKX1lbHNle3QuZ2VzdHVyZVNlbGVjdGlvbkNoYW5nZWQoKX19LHNlbGVjdGlvbkVuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0RW5naW5lKCk7aWYoIXQpe3JldHVybn1pZih0aGlzLmlzQ2FwYWNpdG9yKCkpe3Quc2VsZWN0aW9uRW5kKCl9ZWxzZXt0Lmdlc3R1cmVTZWxlY3Rpb25FbmQoKX19fTt2YXIgaGFwdGljU2VsZWN0aW9uPWZ1bmN0aW9uKCl7SGFwdGljRW5naW5lLnNlbGVjdGlvbigpfTt2YXIgaGFwdGljU2VsZWN0aW9uU3RhcnQ9ZnVuY3Rpb24oKXtIYXB0aWNFbmdpbmUuc2VsZWN0aW9uU3RhcnQoKX07dmFyIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oKXtIYXB0aWNFbmdpbmUuc2VsZWN0aW9uQ2hhbmdlZCgpfTt2YXIgaGFwdGljU2VsZWN0aW9uRW5kPWZ1bmN0aW9uKCl7SGFwdGljRW5naW5lLnNlbGVjdGlvbkVuZCgpfTt2YXIgaGFwdGljSW1wYWN0PWZ1bmN0aW9uKHQpe0hhcHRpY0VuZ2luZS5pbXBhY3QodCl9O2V4cG9ydHtoYXB0aWNTZWxlY3Rpb25TdGFydCBhcyBhLGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQgYXMgYixoYXB0aWNTZWxlY3Rpb24gYXMgYyxoYXB0aWNJbXBhY3QgYXMgZCxoYXB0aWNTZWxlY3Rpb25FbmQgYXMgaH07IiwiaW1wb3J0e19fYXdhaXRlcixfX2dlbmVyYXRvcn1mcm9tXCJ0c2xpYlwiO1xuLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi92YXIgYmxvY2tIYXJkd2FyZUJhY2tCdXR0b249ZnVuY3Rpb24oKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiYmFja2J1dHRvblwiLChmdW5jdGlvbigpe30pKX07dmFyIHN0YXJ0SGFyZHdhcmVCYWNrQnV0dG9uPWZ1bmN0aW9uKCl7dmFyIHI9ZG9jdW1lbnQ7dmFyIHQ9ZmFsc2U7ci5hZGRFdmVudExpc3RlbmVyKFwiYmFja2J1dHRvblwiLChmdW5jdGlvbigpe2lmKHQpe3JldHVybn12YXIgbj0wO3ZhciBlPVtdO3ZhciBhPW5ldyBDdXN0b21FdmVudChcImlvbkJhY2tCdXR0b25cIix7YnViYmxlczpmYWxzZSxkZXRhaWw6e3JlZ2lzdGVyOmZ1bmN0aW9uKHIsdCl7ZS5wdXNoKHtwcmlvcml0eTpyLGhhbmRsZXI6dCxpZDpuKyt9KX19fSk7ci5kaXNwYXRjaEV2ZW50KGEpO3ZhciBpPWZ1bmN0aW9uKHIpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDplLnRyeXMucHVzaChbMCwzLCw0XSk7aWYoIShyJiZyLmhhbmRsZXIpKXJldHVyblszLDJdO3Q9ci5oYW5kbGVyKG8pO2lmKCEodCE9bnVsbCkpcmV0dXJuWzMsMl07cmV0dXJuWzQsdF07Y2FzZSAxOmUuc2VudCgpO2UubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzMsNF07Y2FzZSAzOm49ZS5zZW50KCk7Y29uc29sZS5lcnJvcihuKTtyZXR1cm5bMyw0XTtjYXNlIDQ6cmV0dXJuWzJdfX0pKX0pKX07dmFyIG89ZnVuY3Rpb24oKXtpZihlLmxlbmd0aD4wKXt2YXIgcj17cHJpb3JpdHk6TnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsaGFuZGxlcjpmdW5jdGlvbigpe3JldHVybiB1bmRlZmluZWR9LGlkOi0xfTtlLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKHQucHJpb3JpdHk+PXIucHJpb3JpdHkpe3I9dH19KSk7dD10cnVlO2U9ZS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkIT09ci5pZH0pKTtpKHIpLnRoZW4oKGZ1bmN0aW9uKCl7cmV0dXJuIHQ9ZmFsc2V9KSl9fTtvKCl9KSl9O3ZhciBPVkVSTEFZX0JBQ0tfQlVUVE9OX1BSSU9SSVRZPTEwMDt2YXIgTUVOVV9CQUNLX0JVVFRPTl9QUklPUklUWT05OTtleHBvcnR7TUVOVV9CQUNLX0JVVFRPTl9QUklPUklUWSxPVkVSTEFZX0JBQ0tfQlVUVE9OX1BSSU9SSVRZLGJsb2NrSGFyZHdhcmVCYWNrQnV0dG9uLHN0YXJ0SGFyZHdhcmVCYWNrQnV0dG9ufTsiLCJpbXBvcnR7X19zcHJlYWRBcnJheX1mcm9tXCJ0c2xpYlwiO1xuLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi92YXIgdHJhbnNpdGlvbkVuZEFzeW5jPWZ1bmN0aW9uKGUsbil7aWYobj09PXZvaWQgMCl7bj0wfXJldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7dHJhbnNpdGlvbkVuZChlLG4sdCl9KSl9O3ZhciB0cmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGUsbix0KXtpZihuPT09dm9pZCAwKXtuPTB9dmFyIHI7dmFyIGk7dmFyIGE9e3Bhc3NpdmU6dHJ1ZX07dmFyIG89NTAwO3ZhciB1PWZ1bmN0aW9uKCl7aWYocil7cigpfX07dmFyIHM9ZnVuY3Rpb24obil7aWYobj09PXVuZGVmaW5lZHx8ZT09PW4udGFyZ2V0KXt1KCk7dChuKX19O2lmKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdFRyYW5zaXRpb25FbmRcIixzLGEpO2UuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIixzLGEpO2k9c2V0VGltZW91dChzLG4rbyk7cj1mdW5jdGlvbigpe2lmKGkpe2NsZWFyVGltZW91dChpKTtpPXVuZGVmaW5lZH1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIscyxhKTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIscyxhKX19cmV0dXJuIHV9O3ZhciBjb21wb25lbnRPblJlYWR5PWZ1bmN0aW9uKGUsbil7aWYoZS5jb21wb25lbnRPblJlYWR5KXtlLmNvbXBvbmVudE9uUmVhZHkoKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pKX1lbHNle3JhZigoZnVuY3Rpb24oKXtyZXR1cm4gbihlKX0pKX19O3ZhciBpbmhlcml0QXR0cmlidXRlcz1mdW5jdGlvbihlLG4pe2lmKG49PT12b2lkIDApe249W119dmFyIHQ9e307bi5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihlLmhhc0F0dHJpYnV0ZShuKSl7dmFyIHI9ZS5nZXRBdHRyaWJ1dGUobik7aWYociE9PW51bGwpe3Rbbl09ZS5nZXRBdHRyaWJ1dGUobil9ZS5yZW1vdmVBdHRyaWJ1dGUobil9fSkpO3JldHVybiB0fTt2YXIgYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLG4sdCxyKXtpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7dmFyIGk9d2luZG93O3ZhciBhPWkmJmkuSW9uaWMmJmkuSW9uaWMuY29uZmlnO2lmKGEpe3ZhciBvPWEuZ2V0KFwiX2FlbFwiKTtpZihvKXtyZXR1cm4gbyhlLG4sdCxyKX1lbHNlIGlmKGEuX2FlbCl7cmV0dXJuIGEuX2FlbChlLG4sdCxyKX19fXJldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIobix0LHIpfTt2YXIgcmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLG4sdCxyKXtpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7dmFyIGk9d2luZG93O3ZhciBhPWkmJmkuSW9uaWMmJmkuSW9uaWMuY29uZmlnO2lmKGEpe3ZhciBvPWEuZ2V0KFwiX3JlbFwiKTtpZihvKXtyZXR1cm4gbyhlLG4sdCxyKX1lbHNlIGlmKGEuX3JlbCl7cmV0dXJuIGEuX3JlbChlLG4sdCxyKX19fXJldHVybiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIobix0LHIpfTt2YXIgZ2V0RWxlbWVudFJvb3Q9ZnVuY3Rpb24oZSxuKXtpZihuPT09dm9pZCAwKXtuPWV9cmV0dXJuIGUuc2hhZG93Um9vdHx8bn07dmFyIHJhZj1mdW5jdGlvbihlKXtpZih0eXBlb2YgX196b25lX3N5bWJvbF9fcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT09XCJmdW5jdGlvblwiKXtyZXR1cm4gX196b25lX3N5bWJvbF9fcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpfWlmKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU9PT1cImZ1bmN0aW9uXCIpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9cmV0dXJuIHNldFRpbWVvdXQoZSl9O3ZhciBoYXNTaGFkb3dEb209ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnNoYWRvd1Jvb3QmJiEhZS5hdHRhY2hTaGFkb3d9O3ZhciBmaW5kSXRlbUxhYmVsPWZ1bmN0aW9uKGUpe3ZhciBuPWUuY2xvc2VzdChcImlvbi1pdGVtXCIpO2lmKG4pe3JldHVybiBuLnF1ZXJ5U2VsZWN0b3IoXCJpb24tbGFiZWxcIil9cmV0dXJuIG51bGx9O3ZhciBmb2N1c0VsZW1lbnQ9ZnVuY3Rpb24oZSl7ZS5mb2N1cygpO2lmKGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW9uLWZvY3VzYWJsZVwiKSl7dmFyIG49ZS5jbG9zZXN0KFwiaW9uLWFwcFwiKTtpZihuKXtuLnNldEZvY3VzKFtlXSl9fX07dmFyIGdldEFyaWFMYWJlbD1mdW5jdGlvbihlLG4pe3ZhciB0O3ZhciByPWUuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIpO3ZhciBpPWUuaWQ7dmFyIGE9ciE9PW51bGwmJnIudHJpbSgpIT09XCJcIj9yOm4rXCItbGJsXCI7dmFyIG89ciE9PW51bGwmJnIudHJpbSgpIT09XCJcIj9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTpmaW5kSXRlbUxhYmVsKGUpO2lmKG8pe2lmKHI9PT1udWxsKXtvLmlkPWF9dD1vLnRleHRDb250ZW50O28uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIil9ZWxzZSBpZihpLnRyaW0oKSE9PVwiXCIpe289ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGFiZWxbZm9yPVwiJytpKydcIl0nKTtpZihvKXtpZihvLmlkIT09XCJcIil7YT1vLmlkfWVsc2V7by5pZD1hPWkrXCItbGJsXCJ9dD1vLnRleHRDb250ZW50fX1yZXR1cm57bGFiZWw6byxsYWJlbElkOmEsbGFiZWxUZXh0OnR9fTt2YXIgcmVuZGVySGlkZGVuSW5wdXQ9ZnVuY3Rpb24oZSxuLHQscixpKXtpZihlfHxoYXNTaGFkb3dEb20obikpe3ZhciBhPW4ucXVlcnlTZWxlY3RvcihcImlucHV0LmF1eC1pbnB1dFwiKTtpZighYSl7YT1uLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2EudHlwZT1cImhpZGRlblwiO2EuY2xhc3NMaXN0LmFkZChcImF1eC1pbnB1dFwiKTtuLmFwcGVuZENoaWxkKGEpfWEuZGlzYWJsZWQ9aTthLm5hbWU9dDthLnZhbHVlPXJ8fFwiXCJ9fTt2YXIgY2xhbXA9ZnVuY3Rpb24oZSxuLHQpe3JldHVybiBNYXRoLm1heChlLE1hdGgubWluKG4sdCkpfTt2YXIgYXNzZXJ0PWZ1bmN0aW9uKGUsbil7aWYoIWUpe3ZhciB0PVwiQVNTRVJUOiBcIituO2NvbnNvbGUuZXJyb3IodCk7ZGVidWdnZXI7dGhyb3cgbmV3IEVycm9yKHQpfX07dmFyIG5vdz1mdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9O3ZhciBwb2ludGVyQ29vcmQ9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIG49ZS5jaGFuZ2VkVG91Y2hlcztpZihuJiZuLmxlbmd0aD4wKXt2YXIgdD1uWzBdO3JldHVybnt4OnQuY2xpZW50WCx5OnQuY2xpZW50WX19aWYoZS5wYWdlWCE9PXVuZGVmaW5lZCl7cmV0dXJue3g6ZS5wYWdlWCx5OmUucGFnZVl9fX1yZXR1cm57eDowLHk6MH19O3ZhciBpc0VuZFNpZGU9ZnVuY3Rpb24oZSl7dmFyIG49ZG9jdW1lbnQuZGlyPT09XCJydGxcIjtzd2l0Y2goZSl7Y2FzZVwic3RhcnRcIjpyZXR1cm4gbjtjYXNlXCJlbmRcIjpyZXR1cm4hbjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcignXCInK2UrJ1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBbc2lkZV0uIFVzZSBcInN0YXJ0XCIgb3IgXCJlbmRcIiBpbnN0ZWFkLicpfX07dmFyIGRlYm91bmNlRXZlbnQ9ZnVuY3Rpb24oZSxuKXt2YXIgdD1lLl9vcmlnaW5hbHx8ZTtyZXR1cm57X29yaWdpbmFsOmUsZW1pdDpkZWJvdW5jZSh0LmVtaXQuYmluZCh0KSxuKX19O3ZhciBkZWJvdW5jZT1mdW5jdGlvbihlLG4pe2lmKG49PT12b2lkIDApe249MH12YXIgdDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcj1bXTtmb3IodmFyIGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXtyW2ldPWFyZ3VtZW50c1tpXX1jbGVhclRpbWVvdXQodCk7dD1zZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCxfX3NwcmVhZEFycmF5KFtlLG5dLHIpKX19O2V4cG9ydHthZGRFdmVudExpc3RlbmVyIGFzIGEscmVtb3ZlRXZlbnRMaXN0ZW5lciBhcyBiLGNvbXBvbmVudE9uUmVhZHkgYXMgYyxjbGFtcCBhcyBkLGdldEFyaWFMYWJlbCBhcyBlLGZvY3VzRWxlbWVudCBhcyBmLGdldEVsZW1lbnRSb290IGFzIGcscmVuZGVySGlkZGVuSW5wdXQgYXMgaCxpbmhlcml0QXR0cmlidXRlcyBhcyBpLGRlYm91bmNlRXZlbnQgYXMgaixmaW5kSXRlbUxhYmVsIGFzIGssaGFzU2hhZG93RG9tIGFzIGwsYXNzZXJ0IGFzIG0saXNFbmRTaWRlIGFzIG4sZGVib3VuY2UgYXMgbyxwb2ludGVyQ29vcmQgYXMgcCxub3cgYXMgcSxyYWYgYXMgcix0cmFuc2l0aW9uRW5kQXN5bmMgYXMgdH07IiwiaW1wb3J0e19fYXdhaXRlcixfX2V4dGVuZHMsX19nZW5lcmF0b3IsX19zcHJlYWRBcnJheX1mcm9tXCJ0c2xpYlwiO1xuLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi92YXIgTkFNRVNQQUNFPVwiaW9uaWNcIjt2YXIgc2NvcGVJZDt2YXIgY29udGVudFJlZjt2YXIgaG9zdFRhZ05hbWU7dmFyIHVzZU5hdGl2ZVNoYWRvd0RvbT1mYWxzZTt2YXIgY2hlY2tTbG90RmFsbGJhY2tWaXNpYmlsaXR5PWZhbHNlO3ZhciBjaGVja1Nsb3RSZWxvY2F0ZT1mYWxzZTt2YXIgaXNTdmdNb2RlPWZhbHNlO3ZhciBxdWV1ZVBlbmRpbmc9ZmFsc2U7dmFyIHdpbj10eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIj93aW5kb3c6e307dmFyIGRvYz13aW4uZG9jdW1lbnR8fHtoZWFkOnt9fTt2YXIgcGx0PXskZmxhZ3MkOjAsJHJlc291cmNlc1VybCQ6XCJcIixqbXA6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0scmFmOmZ1bmN0aW9uKGUpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSl9LGFlbDpmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHQscixuKX0scmVsOmZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyLG4pfSxjZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgQ3VzdG9tRXZlbnQoZSx0KX19O3ZhciBzZXRQbGF0Zm9ybUhlbHBlcnM9ZnVuY3Rpb24oZSl7T2JqZWN0LmFzc2lnbihwbHQsZSl9O3ZhciBzdXBwb3J0c1NoYWRvdz10cnVlO3ZhciBwcm9taXNlUmVzb2x2ZT1mdW5jdGlvbihlKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUpfTt2YXIgc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHM9ZnVuY3Rpb24oKXt0cnl7bmV3IENTU1N0eWxlU2hlZXQ7cmV0dXJuIHR5cGVvZihuZXcgQ1NTU3R5bGVTaGVldCkucmVwbGFjZT09PVwiZnVuY3Rpb25cIn1jYXRjaChlKXt9cmV0dXJuIGZhbHNlfSgpO3ZhciBhZGRIb3N0RXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0LHIsbil7aWYocil7ci5tYXAoKGZ1bmN0aW9uKHIpe3ZhciBuPXJbMF0sYT1yWzFdLG89clsyXTt2YXIgcz1nZXRIb3N0TGlzdGVuZXJUYXJnZXQoZSxuKTt2YXIgaT1ob3N0TGlzdGVuZXJQcm94eSh0LG8pO3ZhciBsPWhvc3RMaXN0ZW5lck9wdHMobik7cGx0LmFlbChzLGEsaSxsKTsodC4kcm1MaXN0ZW5lcnMkPXQuJHJtTGlzdGVuZXJzJHx8W10pLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIHBsdC5yZWwocyxhLGksbCl9KSl9KSl9fTt2YXIgaG9zdExpc3RlbmVyUHJveHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24ocil7dHJ5e3tpZihlLiRmbGFncyQmMjU2KXtlLiRsYXp5SW5zdGFuY2UkW3RdKHIpfWVsc2V7KGUuJHF1ZXVlZExpc3RlbmVycyQ9ZS4kcXVldWVkTGlzdGVuZXJzJHx8W10pLnB1c2goW3Qscl0pfX19Y2F0Y2goZSl7Y29uc29sZUVycm9yKGUpfX19O3ZhciBnZXRIb3N0TGlzdGVuZXJUYXJnZXQ9ZnVuY3Rpb24oZSx0KXtpZih0JjQpcmV0dXJuIGRvYztpZih0JjgpcmV0dXJuIHdpbjtpZih0JjE2KXJldHVybiBkb2MuYm9keTtyZXR1cm4gZX07dmFyIGhvc3RMaXN0ZW5lck9wdHM9ZnVuY3Rpb24oZSl7cmV0dXJuKGUmMikhPT0wfTt2YXIgQ09OVEVOVF9SRUZfSUQ9XCJyXCI7dmFyIE9SR19MT0NBVElPTl9JRD1cIm9cIjt2YXIgU0xPVF9OT0RFX0lEPVwic1wiO3ZhciBURVhUX05PREVfSUQ9XCJ0XCI7dmFyIEhZRFJBVEVfSUQ9XCJzLWlkXCI7dmFyIEhZRFJBVEVEX1NUWUxFX0lEPVwic3R5LWlkXCI7dmFyIEhZRFJBVEVfQ0hJTERfSUQ9XCJjLWlkXCI7dmFyIEhZRFJBVEVEX0NTUz1cInt2aXNpYmlsaXR5OmhpZGRlbn0uaHlkcmF0ZWR7dmlzaWJpbGl0eTppbmhlcml0fVwiO3ZhciBYTElOS19OUz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIjt2YXIgY3JlYXRlVGltZT1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDApe3Q9XCJcIn17cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJufX19O3ZhciB1bmlxdWVUaW1lPWZ1bmN0aW9uKGUsdCl7e3JldHVybiBmdW5jdGlvbigpe3JldHVybn19fTt2YXIgcm9vdEFwcGxpZWRTdHlsZXM9bmV3IFdlYWtNYXA7dmFyIHJlZ2lzdGVyU3R5bGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXN0eWxlcy5nZXQoZSk7aWYoc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMmJnIpe249bnx8bmV3IENTU1N0eWxlU2hlZXQ7bi5yZXBsYWNlKHQpfWVsc2V7bj10fXN0eWxlcy5zZXQoZSxuKX07dmFyIGFkZFN0eWxlPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPWdldFNjb3BlSWQodCxyKTt2YXIgbz1zdHlsZXMuZ2V0KGEpO2U9ZS5ub2RlVHlwZT09PTExP2U6ZG9jO2lmKG8pe2lmKHR5cGVvZiBvPT09XCJzdHJpbmdcIil7ZT1lLmhlYWR8fGU7dmFyIHM9cm9vdEFwcGxpZWRTdHlsZXMuZ2V0KGUpO3ZhciBpPXZvaWQgMDtpZighcyl7cm9vdEFwcGxpZWRTdHlsZXMuc2V0KGUscz1uZXcgU2V0KX1pZighcy5oYXMoYSkpe2lmKGUuaG9zdCYmKGk9ZS5xdWVyeVNlbGVjdG9yKFwiW1wiK0hZRFJBVEVEX1NUWUxFX0lEKyc9XCInK2ErJ1wiXScpKSl7aS5pbm5lckhUTUw9b31lbHNle3tpPWRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aS5pbm5lckhUTUw9b31lLmluc2VydEJlZm9yZShpLGUucXVlcnlTZWxlY3RvcihcImxpbmtcIikpfWlmKHMpe3MuYWRkKGEpfX19ZWxzZSBpZighZS5hZG9wdGVkU3R5bGVTaGVldHMuaW5jbHVkZXMobykpe2UuYWRvcHRlZFN0eWxlU2hlZXRzPV9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSxlLmFkb3B0ZWRTdHlsZVNoZWV0cyksW29dKX19cmV0dXJuIGF9O3ZhciBhdHRhY2hTdHlsZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS4kY21wTWV0YSQ7dmFyIHI9ZS4kaG9zdEVsZW1lbnQkO3ZhciBuPXQuJGZsYWdzJDt2YXIgYT1jcmVhdGVUaW1lKFwiYXR0YWNoU3R5bGVzXCIsdC4kdGFnTmFtZSQpO3ZhciBvPWFkZFN0eWxlKHIuc2hhZG93Um9vdD9yLnNoYWRvd1Jvb3Q6ci5nZXRSb290Tm9kZSgpLHQsZS4kbW9kZU5hbWUkKTtpZihuJjEwKXtyW1wicy1zY1wiXT1vO3IuY2xhc3NMaXN0LmFkZChvK1wiLWhcIik7aWYobiYyKXtyLmNsYXNzTGlzdC5hZGQobytcIi1zXCIpfX1hKCl9O3ZhciBnZXRTY29wZUlkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzYy1cIisodCYmZS4kZmxhZ3MkJjMyP2UuJHRhZ05hbWUkK1wiLVwiK3Q6ZS4kdGFnTmFtZSQpfTt2YXIgY29udmVydFNjb3BlZFRvU2hhZG93PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcL1xcKiFAKFteXFwvXSspXFwqXFwvW15cXHtdK1xcey9nLFwiJDF7XCIpfTt2YXIgY29tcHV0ZU1vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG1vZGVSZXNvbHV0aW9uQ2hhaW4ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pKS5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSl9O3ZhciBzZXRNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBtb2RlUmVzb2x1dGlvbkNoYWluLnB1c2goZSl9O3ZhciBnZXRNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBnZXRIb3N0UmVmKGUpLiRtb2RlTmFtZSR9O3ZhciBFTVBUWV9PQko9e307dmFyIFNWR19OUz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7dmFyIEhUTUxfTlM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7dmFyIGlzRGVmPWZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsfTt2YXIgaXNDb21wbGV4VHlwZT1mdW5jdGlvbihlKXtlPXR5cGVvZiBlO3JldHVybiBlPT09XCJvYmplY3RcInx8ZT09PVwiZnVuY3Rpb25cIn07dmFyIGg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtmb3IodmFyIG49MjtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXtyW24tMl09YXJndW1lbnRzW25dfXZhciBhPW51bGw7dmFyIG89bnVsbDt2YXIgcz1udWxsO3ZhciBpPWZhbHNlO3ZhciBsPWZhbHNlO3ZhciAkPVtdO3ZhciBjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXthPXRbcl07aWYoQXJyYXkuaXNBcnJheShhKSl7YyhhKX1lbHNlIGlmKGEhPW51bGwmJnR5cGVvZiBhIT09XCJib29sZWFuXCIpe2lmKGk9dHlwZW9mIGUhPT1cImZ1bmN0aW9uXCImJiFpc0NvbXBsZXhUeXBlKGEpKXthPVN0cmluZyhhKX1pZihpJiZsKXskWyQubGVuZ3RoLTFdLiR0ZXh0JCs9YX1lbHNleyQucHVzaChpP25ld1ZOb2RlKG51bGwsYSk6YSl9bD1pfX19O2Mocik7aWYodCl7aWYodC5rZXkpe289dC5rZXl9aWYodC5uYW1lKXtzPXQubmFtZX17dmFyIGY9dC5jbGFzc05hbWV8fHQuY2xhc3M7aWYoZil7dC5jbGFzcz10eXBlb2YgZiE9PVwib2JqZWN0XCI/ZjpPYmplY3Qua2V5cyhmKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmW2VdfSkpLmpvaW4oXCIgXCIpfX19aWYodHlwZW9mIGU9PT1cImZ1bmN0aW9uXCIpe3JldHVybiBlKHQ9PT1udWxsP3t9OnQsJCx2ZG9tRm5VdGlscyl9dmFyIHU9bmV3Vk5vZGUoZSxudWxsKTt1LiRhdHRycyQ9dDtpZigkLmxlbmd0aD4wKXt1LiRjaGlsZHJlbiQ9JH17dS4ka2V5JD1vfXt1LiRuYW1lJD1zfXJldHVybiB1fTt2YXIgbmV3Vk5vZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj17JGZsYWdzJDowLCR0YWckOmUsJHRleHQkOnQsJGVsbSQ6bnVsbCwkY2hpbGRyZW4kOm51bGx9O3tyLiRhdHRycyQ9bnVsbH17ci4ka2V5JD1udWxsfXtyLiRuYW1lJD1udWxsfXJldHVybiByfTt2YXIgSG9zdD17fTt2YXIgaXNIb3N0PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLiR0YWckPT09SG9zdH07dmFyIHZkb21GblV0aWxzPXtmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWFwKGNvbnZlcnRUb1B1YmxpYykuZm9yRWFjaCh0KX0sbWFwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWFwKGNvbnZlcnRUb1B1YmxpYykubWFwKHQpLm1hcChjb252ZXJ0VG9Qcml2YXRlKX19O3ZhciBjb252ZXJ0VG9QdWJsaWM9ZnVuY3Rpb24oZSl7cmV0dXJue3ZhdHRyczplLiRhdHRycyQsdmNoaWxkcmVuOmUuJGNoaWxkcmVuJCx2a2V5OmUuJGtleSQsdm5hbWU6ZS4kbmFtZSQsdnRhZzplLiR0YWckLHZ0ZXh0OmUuJHRleHQkfX07dmFyIGNvbnZlcnRUb1ByaXZhdGU9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUudnRhZz09PVwiZnVuY3Rpb25cIil7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSxlLnZhdHRycyk7aWYoZS52a2V5KXt0LmtleT1lLnZrZXl9aWYoZS52bmFtZSl7dC5uYW1lPWUudm5hbWV9cmV0dXJuIGguYXBwbHkodm9pZCAwLF9fc3ByZWFkQXJyYXkoW2UudnRhZyx0XSxlLnZjaGlsZHJlbnx8W10pKX12YXIgcj1uZXdWTm9kZShlLnZ0YWcsZS52dGV4dCk7ci4kYXR0cnMkPWUudmF0dHJzO3IuJGNoaWxkcmVuJD1lLnZjaGlsZHJlbjtyLiRrZXkkPWUudmtleTtyLiRuYW1lJD1lLnZuYW1lO3JldHVybiByfTt2YXIgc2V0QWNjZXNzb3I9ZnVuY3Rpb24oZSx0LHIsbixhLG8pe2lmKHIhPT1uKXt2YXIgcz1pc01lbWJlckluRWxlbWVudChlLHQpO3ZhciBpPXQudG9Mb3dlckNhc2UoKTtpZih0PT09XCJjbGFzc1wiKXt2YXIgbD1lLmNsYXNzTGlzdDt2YXIgJD1wYXJzZUNsYXNzTGlzdChyKTt2YXIgYz1wYXJzZUNsYXNzTGlzdChuKTtsLnJlbW92ZS5hcHBseShsLCQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmIWMuaW5jbHVkZXMoZSl9KSkpO2wuYWRkLmFwcGx5KGwsYy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiYhJC5pbmNsdWRlcyhlKX0pKSl9ZWxzZSBpZih0PT09XCJzdHlsZVwiKXt7Zm9yKHZhciBmIGluIHIpe2lmKCFufHxuW2ZdPT1udWxsKXtpZihmLmluY2x1ZGVzKFwiLVwiKSl7ZS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShmKX1lbHNle2Uuc3R5bGVbZl09XCJcIn19fX1mb3IodmFyIGYgaW4gbil7aWYoIXJ8fG5bZl0hPT1yW2ZdKXtpZihmLmluY2x1ZGVzKFwiLVwiKSl7ZS5zdHlsZS5zZXRQcm9wZXJ0eShmLG5bZl0pfWVsc2V7ZS5zdHlsZVtmXT1uW2ZdfX19fWVsc2UgaWYodD09PVwia2V5XCIpO2Vsc2UgaWYodD09PVwicmVmXCIpe2lmKG4pe24oZSl9fWVsc2UgaWYoIXMmJnRbMF09PT1cIm9cIiYmdFsxXT09PVwiblwiKXtpZih0WzJdPT09XCItXCIpe3Q9dC5zbGljZSgzKX1lbHNlIGlmKGlzTWVtYmVySW5FbGVtZW50KHdpbixpKSl7dD1pLnNsaWNlKDIpfWVsc2V7dD1pWzJdK3Quc2xpY2UoMyl9aWYocil7cGx0LnJlbChlLHQscixmYWxzZSl9aWYobil7cGx0LmFlbChlLHQsbixmYWxzZSl9fWVsc2V7dmFyIHU9aXNDb21wbGV4VHlwZShuKTtpZigoc3x8dSYmbiE9PW51bGwpJiYhYSl7dHJ5e2lmKCFlLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpKXt2YXIgZD1uPT1udWxsP1wiXCI6bjtpZih0PT09XCJsaXN0XCIpe3M9ZmFsc2V9ZWxzZSBpZihyPT1udWxsfHxlW3RdIT1kKXtlW3RdPWR9fWVsc2V7ZVt0XT1ufX1jYXRjaChlKXt9fXZhciB2PWZhbHNlO3tpZihpIT09KGk9aS5yZXBsYWNlKC9eeGxpbmtcXDo/LyxcIlwiKSkpe3Q9aTt2PXRydWV9fWlmKG49PW51bGx8fG49PT1mYWxzZSl7aWYobiE9PWZhbHNlfHxlLmdldEF0dHJpYnV0ZSh0KT09PVwiXCIpe2lmKHYpe2UucmVtb3ZlQXR0cmlidXRlTlMoWExJTktfTlMsdCl9ZWxzZXtlLnJlbW92ZUF0dHJpYnV0ZSh0KX19fWVsc2UgaWYoKCFzfHxvJjR8fGEpJiYhdSl7bj1uPT09dHJ1ZT9cIlwiOm47aWYodil7ZS5zZXRBdHRyaWJ1dGVOUyhYTElOS19OUyx0LG4pfWVsc2V7ZS5zZXRBdHRyaWJ1dGUodCxuKX19fX19O3ZhciBwYXJzZUNsYXNzTGlzdFJlZ2V4PS9cXHMvO3ZhciBwYXJzZUNsYXNzTGlzdD1mdW5jdGlvbihlKXtyZXR1cm4hZT9bXTplLnNwbGl0KHBhcnNlQ2xhc3NMaXN0UmVnZXgpfTt2YXIgdXBkYXRlRWxlbWVudD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10LiRlbG0kLm5vZGVUeXBlPT09MTEmJnQuJGVsbSQuaG9zdD90LiRlbG0kLmhvc3Q6dC4kZWxtJDt2YXIgbz1lJiZlLiRhdHRycyR8fEVNUFRZX09CSjt2YXIgcz10LiRhdHRycyR8fEVNUFRZX09CSjt7Zm9yKG4gaW4gbyl7aWYoIShuIGluIHMpKXtzZXRBY2Nlc3NvcihhLG4sb1tuXSx1bmRlZmluZWQscix0LiRmbGFncyQpfX19Zm9yKG4gaW4gcyl7c2V0QWNjZXNzb3IoYSxuLG9bbl0sc1tuXSxyLHQuJGZsYWdzJCl9fTt2YXIgY3JlYXRlRWxtPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXQuJGNoaWxkcmVuJFtyXTt2YXIgbz0wO3ZhciBzO3ZhciBpO3ZhciBsO2lmKCF1c2VOYXRpdmVTaGFkb3dEb20pe2NoZWNrU2xvdFJlbG9jYXRlPXRydWU7aWYoYS4kdGFnJD09PVwic2xvdFwiKXtpZihzY29wZUlkKXtuLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCtcIi1zXCIpfWEuJGZsYWdzJHw9YS4kY2hpbGRyZW4kPzI6MX19aWYoYS4kdGV4dCQhPT1udWxsKXtzPWEuJGVsbSQ9ZG9jLmNyZWF0ZVRleHROb2RlKGEuJHRleHQkKX1lbHNlIGlmKGEuJGZsYWdzJCYxKXtzPWEuJGVsbSQ9ZG9jLmNyZWF0ZVRleHROb2RlKFwiXCIpfWVsc2V7aWYoIWlzU3ZnTW9kZSl7aXNTdmdNb2RlPWEuJHRhZyQ9PT1cInN2Z1wifXM9YS4kZWxtJD1kb2MuY3JlYXRlRWxlbWVudE5TKGlzU3ZnTW9kZT9TVkdfTlM6SFRNTF9OUyxhLiRmbGFncyQmMj9cInNsb3QtZmJcIjphLiR0YWckKTtpZihpc1N2Z01vZGUmJmEuJHRhZyQ9PT1cImZvcmVpZ25PYmplY3RcIil7aXNTdmdNb2RlPWZhbHNlfXt1cGRhdGVFbGVtZW50KG51bGwsYSxpc1N2Z01vZGUpfWlmKGlzRGVmKHNjb3BlSWQpJiZzW1wicy1zaVwiXSE9PXNjb3BlSWQpe3MuY2xhc3NMaXN0LmFkZChzW1wicy1zaVwiXT1zY29wZUlkKX1pZihhLiRjaGlsZHJlbiQpe2ZvcihvPTA7bzxhLiRjaGlsZHJlbiQubGVuZ3RoOysrbyl7aT1jcmVhdGVFbG0oZSxhLG8scyk7aWYoaSl7cy5hcHBlbmRDaGlsZChpKX19fXtpZihhLiR0YWckPT09XCJzdmdcIil7aXNTdmdNb2RlPWZhbHNlfWVsc2UgaWYocy50YWdOYW1lPT09XCJmb3JlaWduT2JqZWN0XCIpe2lzU3ZnTW9kZT10cnVlfX19e3NbXCJzLWhuXCJdPWhvc3RUYWdOYW1lO2lmKGEuJGZsYWdzJCYoMnwxKSl7c1tcInMtc3JcIl09dHJ1ZTtzW1wicy1jclwiXT1jb250ZW50UmVmO3NbXCJzLXNuXCJdPWEuJG5hbWUkfHxcIlwiO2w9ZSYmZS4kY2hpbGRyZW4kJiZlLiRjaGlsZHJlbiRbcl07aWYobCYmbC4kdGFnJD09PWEuJHRhZyQmJmUuJGVsbSQpe3B1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24oZS4kZWxtJCxmYWxzZSl9fX1yZXR1cm4gc307dmFyIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb249ZnVuY3Rpb24oZSx0KXtwbHQuJGZsYWdzJHw9MTt2YXIgcj1lLmNoaWxkTm9kZXM7Zm9yKHZhciBuPXIubGVuZ3RoLTE7bj49MDtuLS0pe3ZhciBhPXJbbl07aWYoYVtcInMtaG5cIl0hPT1ob3N0VGFnTmFtZSYmYVtcInMtb2xcIl0pe3BhcmVudFJlZmVyZW5jZU5vZGUoYSkuaW5zZXJ0QmVmb3JlKGEscmVmZXJlbmNlTm9kZShhKSk7YVtcInMtb2xcIl0ucmVtb3ZlKCk7YVtcInMtb2xcIl09dW5kZWZpbmVkO2NoZWNrU2xvdFJlbG9jYXRlPXRydWV9aWYodCl7cHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihhLHQpfX1wbHQuJGZsYWdzJCY9fjF9O3ZhciBhZGRWbm9kZXM9ZnVuY3Rpb24oZSx0LHIsbixhLG8pe3ZhciBzPWVbXCJzLWNyXCJdJiZlW1wicy1jclwiXS5wYXJlbnROb2RlfHxlO3ZhciBpO2lmKHMuc2hhZG93Um9vdCYmcy50YWdOYW1lPT09aG9zdFRhZ05hbWUpe3M9cy5zaGFkb3dSb290fWZvcig7YTw9bzsrK2Epe2lmKG5bYV0pe2k9Y3JlYXRlRWxtKG51bGwscixhLGUpO2lmKGkpe25bYV0uJGVsbSQ9aTtzLmluc2VydEJlZm9yZShpLHJlZmVyZW5jZU5vZGUodCkpfX19fTt2YXIgcmVtb3ZlVm5vZGVzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7Zm9yKDt0PD1yOysrdCl7aWYobj1lW3RdKXthPW4uJGVsbSQ7Y2FsbE5vZGVSZWZzKG4pO3tjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHk9dHJ1ZTtpZihhW1wicy1vbFwiXSl7YVtcInMtb2xcIl0ucmVtb3ZlKCl9ZWxzZXtwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKGEsdHJ1ZSl9fWEucmVtb3ZlKCl9fX07dmFyIHVwZGF0ZUNoaWxkcmVuPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPTA7dmFyIG89MDt2YXIgcz0wO3ZhciBpPTA7dmFyIGw9dC5sZW5ndGgtMTt2YXIgJD10WzBdO3ZhciBjPXRbbF07dmFyIGY9bi5sZW5ndGgtMTt2YXIgdT1uWzBdO3ZhciBkPW5bZl07dmFyIHY7dmFyIHA7d2hpbGUoYTw9bCYmbzw9Zil7aWYoJD09bnVsbCl7JD10WysrYV19ZWxzZSBpZihjPT1udWxsKXtjPXRbLS1sXX1lbHNlIGlmKHU9PW51bGwpe3U9blsrK29dfWVsc2UgaWYoZD09bnVsbCl7ZD1uWy0tZl19ZWxzZSBpZihpc1NhbWVWbm9kZSgkLHUpKXtwYXRjaCgkLHUpOyQ9dFsrK2FdO3U9blsrK29dfWVsc2UgaWYoaXNTYW1lVm5vZGUoYyxkKSl7cGF0Y2goYyxkKTtjPXRbLS1sXTtkPW5bLS1mXX1lbHNlIGlmKGlzU2FtZVZub2RlKCQsZCkpe2lmKCQuJHRhZyQ9PT1cInNsb3RcInx8ZC4kdGFnJD09PVwic2xvdFwiKXtwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKCQuJGVsbSQucGFyZW50Tm9kZSxmYWxzZSl9cGF0Y2goJCxkKTtlLmluc2VydEJlZm9yZSgkLiRlbG0kLGMuJGVsbSQubmV4dFNpYmxpbmcpOyQ9dFsrK2FdO2Q9blstLWZdfWVsc2UgaWYoaXNTYW1lVm5vZGUoYyx1KSl7aWYoJC4kdGFnJD09PVwic2xvdFwifHxkLiR0YWckPT09XCJzbG90XCIpe3B1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24oYy4kZWxtJC5wYXJlbnROb2RlLGZhbHNlKX1wYXRjaChjLHUpO2UuaW5zZXJ0QmVmb3JlKGMuJGVsbSQsJC4kZWxtJCk7Yz10Wy0tbF07dT1uWysrb119ZWxzZXtzPS0xO3tmb3IoaT1hO2k8PWw7KytpKXtpZih0W2ldJiZ0W2ldLiRrZXkkIT09bnVsbCYmdFtpXS4ka2V5JD09PXUuJGtleSQpe3M9aTticmVha319fWlmKHM+PTApe3A9dFtzXTtpZihwLiR0YWckIT09dS4kdGFnJCl7dj1jcmVhdGVFbG0odCYmdFtvXSxyLHMsZSl9ZWxzZXtwYXRjaChwLHUpO3Rbc109dW5kZWZpbmVkO3Y9cC4kZWxtJH11PW5bKytvXX1lbHNle3Y9Y3JlYXRlRWxtKHQmJnRbb10scixvLGUpO3U9blsrK29dfWlmKHYpe3twYXJlbnRSZWZlcmVuY2VOb2RlKCQuJGVsbSQpLmluc2VydEJlZm9yZSh2LHJlZmVyZW5jZU5vZGUoJC4kZWxtJCkpfX19fWlmKGE+bCl7YWRkVm5vZGVzKGUsbltmKzFdPT1udWxsP251bGw6bltmKzFdLiRlbG0kLHIsbixvLGYpfWVsc2UgaWYobz5mKXtyZW1vdmVWbm9kZXModCxhLGwpfX07dmFyIGlzU2FtZVZub2RlPWZ1bmN0aW9uKGUsdCl7aWYoZS4kdGFnJD09PXQuJHRhZyQpe2lmKGUuJHRhZyQ9PT1cInNsb3RcIil7cmV0dXJuIGUuJG5hbWUkPT09dC4kbmFtZSR9e3JldHVybiBlLiRrZXkkPT09dC4ka2V5JH19cmV0dXJuIGZhbHNlfTt2YXIgcmVmZXJlbmNlTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZVtcInMtb2xcIl18fGV9O3ZhciBwYXJlbnRSZWZlcmVuY2VOb2RlPWZ1bmN0aW9uKGUpe3JldHVybihlW1wicy1vbFwiXT9lW1wicy1vbFwiXTplKS5wYXJlbnROb2RlfTt2YXIgcGF0Y2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LiRlbG0kPWUuJGVsbSQ7dmFyIG49ZS4kY2hpbGRyZW4kO3ZhciBhPXQuJGNoaWxkcmVuJDt2YXIgbz10LiR0YWckO3ZhciBzPXQuJHRleHQkO3ZhciBpO2lmKHM9PT1udWxsKXt7aXNTdmdNb2RlPW89PT1cInN2Z1wiP3RydWU6bz09PVwiZm9yZWlnbk9iamVjdFwiP2ZhbHNlOmlzU3ZnTW9kZX17aWYobz09PVwic2xvdFwiKTtlbHNle3VwZGF0ZUVsZW1lbnQoZSx0LGlzU3ZnTW9kZSl9fWlmKG4hPT1udWxsJiZhIT09bnVsbCl7dXBkYXRlQ2hpbGRyZW4ocixuLHQsYSl9ZWxzZSBpZihhIT09bnVsbCl7aWYoZS4kdGV4dCQhPT1udWxsKXtyLnRleHRDb250ZW50PVwiXCJ9YWRkVm5vZGVzKHIsbnVsbCx0LGEsMCxhLmxlbmd0aC0xKX1lbHNlIGlmKG4hPT1udWxsKXtyZW1vdmVWbm9kZXMobiwwLG4ubGVuZ3RoLTEpfWlmKGlzU3ZnTW9kZSYmbz09PVwic3ZnXCIpe2lzU3ZnTW9kZT1mYWxzZX19ZWxzZSBpZihpPXJbXCJzLWNyXCJdKXtpLnBhcmVudE5vZGUudGV4dENvbnRlbnQ9c31lbHNlIGlmKGUuJHRleHQkIT09cyl7ci5kYXRhPXN9fTt2YXIgdXBkYXRlRmFsbGJhY2tTbG90VmlzaWJpbGl0eT1mdW5jdGlvbihlKXt2YXIgdD1lLmNoaWxkTm9kZXM7dmFyIHI7dmFyIG47dmFyIGE7dmFyIG87dmFyIHM7dmFyIGk7Zm9yKG49MCxhPXQubGVuZ3RoO248YTtuKyspe3I9dFtuXTtpZihyLm5vZGVUeXBlPT09MSl7aWYocltcInMtc3JcIl0pe3M9cltcInMtc25cIl07ci5oaWRkZW49ZmFsc2U7Zm9yKG89MDtvPGE7bysrKXtpPXRbb10ubm9kZVR5cGU7aWYodFtvXVtcInMtaG5cIl0hPT1yW1wicy1oblwiXXx8cyE9PVwiXCIpe2lmKGk9PT0xJiZzPT09dFtvXS5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpKXtyLmhpZGRlbj10cnVlO2JyZWFrfX1lbHNle2lmKGk9PT0xfHxpPT09MyYmdFtvXS50ZXh0Q29udGVudC50cmltKCkhPT1cIlwiKXtyLmhpZGRlbj10cnVlO2JyZWFrfX19fXVwZGF0ZUZhbGxiYWNrU2xvdFZpc2liaWxpdHkocil9fX07dmFyIHJlbG9jYXRlTm9kZXM9W107dmFyIHJlbG9jYXRlU2xvdENvbnRlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7dmFyIHI7dmFyIG47dmFyIGE7dmFyIG87dmFyIHM7dmFyIGk9MDt2YXIgbD1lLmNoaWxkTm9kZXM7dmFyICQ9bC5sZW5ndGg7Zm9yKDtpPCQ7aSsrKXt0PWxbaV07aWYodFtcInMtc3JcIl0mJihyPXRbXCJzLWNyXCJdKSYmci5wYXJlbnROb2RlKXtuPXIucGFyZW50Tm9kZS5jaGlsZE5vZGVzO2E9dFtcInMtc25cIl07Zm9yKHM9bi5sZW5ndGgtMTtzPj0wO3MtLSl7cj1uW3NdO2lmKCFyW1wicy1jblwiXSYmIXJbXCJzLW5yXCJdJiZyW1wicy1oblwiXSE9PXRbXCJzLWhuXCJdKXtpZihpc05vZGVMb2NhdGVkSW5TbG90KHIsYSkpe289cmVsb2NhdGVOb2Rlcy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS4kbm9kZVRvUmVsb2NhdGUkPT09cn0pKTtjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHk9dHJ1ZTtyW1wicy1zblwiXT1yW1wicy1zblwiXXx8YTtpZihvKXtvLiRzbG90UmVmTm9kZSQ9dH1lbHNle3JlbG9jYXRlTm9kZXMucHVzaCh7JHNsb3RSZWZOb2RlJDp0LCRub2RlVG9SZWxvY2F0ZSQ6cn0pfWlmKHJbXCJzLXNyXCJdKXtyZWxvY2F0ZU5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7aWYoaXNOb2RlTG9jYXRlZEluU2xvdChlLiRub2RlVG9SZWxvY2F0ZSQscltcInMtc25cIl0pKXtvPXJlbG9jYXRlTm9kZXMuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuJG5vZGVUb1JlbG9jYXRlJD09PXJ9KSk7aWYobyYmIWUuJHNsb3RSZWZOb2RlJCl7ZS4kc2xvdFJlZk5vZGUkPW8uJHNsb3RSZWZOb2RlJH19fSkpfX1lbHNlIGlmKCFyZWxvY2F0ZU5vZGVzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLiRub2RlVG9SZWxvY2F0ZSQ9PT1yfSkpKXtyZWxvY2F0ZU5vZGVzLnB1c2goeyRub2RlVG9SZWxvY2F0ZSQ6cn0pfX19fWlmKHQubm9kZVR5cGU9PT0xKXtyZWxvY2F0ZVNsb3RDb250ZW50KHQpfX19O3ZhciBpc05vZGVMb2NhdGVkSW5TbG90PWZ1bmN0aW9uKGUsdCl7aWYoZS5ub2RlVHlwZT09PTEpe2lmKGUuZ2V0QXR0cmlidXRlKFwic2xvdFwiKT09PW51bGwmJnQ9PT1cIlwiKXtyZXR1cm4gdHJ1ZX1pZihlLmdldEF0dHJpYnV0ZShcInNsb3RcIik9PT10KXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9aWYoZVtcInMtc25cIl09PT10KXtyZXR1cm4gdHJ1ZX1yZXR1cm4gdD09PVwiXCJ9O3ZhciBjYWxsTm9kZVJlZnM9ZnVuY3Rpb24oZSl7e2UuJGF0dHJzJCYmZS4kYXR0cnMkLnJlZiYmZS4kYXR0cnMkLnJlZihudWxsKTtlLiRjaGlsZHJlbiQmJmUuJGNoaWxkcmVuJC5tYXAoY2FsbE5vZGVSZWZzKX19O3ZhciByZW5kZXJWZG9tPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS4kaG9zdEVsZW1lbnQkO3ZhciBuPWUuJGNtcE1ldGEkO3ZhciBhPWUuJHZub2RlJHx8bmV3Vk5vZGUobnVsbCxudWxsKTt2YXIgbz1pc0hvc3QodCk/dDpoKG51bGwsbnVsbCx0KTtob3N0VGFnTmFtZT1yLnRhZ05hbWU7aWYobi4kYXR0cnNUb1JlZmxlY3QkKXtvLiRhdHRycyQ9by4kYXR0cnMkfHx7fTtuLiRhdHRyc1RvUmVmbGVjdCQubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXTtyZXR1cm4gby4kYXR0cnMkW25dPXJbdF19KSl9by4kdGFnJD1udWxsO28uJGZsYWdzJHw9NDtlLiR2bm9kZSQ9bztvLiRlbG0kPWEuJGVsbSQ9ci5zaGFkb3dSb290fHxyO3tzY29wZUlkPXJbXCJzLXNjXCJdfXtjb250ZW50UmVmPXJbXCJzLWNyXCJdO3VzZU5hdGl2ZVNoYWRvd0RvbT0obi4kZmxhZ3MkJjEpIT09MDtjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHk9ZmFsc2V9cGF0Y2goYSxvKTt7cGx0LiRmbGFncyR8PTE7aWYoY2hlY2tTbG90UmVsb2NhdGUpe3JlbG9jYXRlU2xvdENvbnRlbnQoby4kZWxtJCk7dmFyIHM9dm9pZCAwO3ZhciBpPXZvaWQgMDt2YXIgbD12b2lkIDA7dmFyICQ9dm9pZCAwO3ZhciBjPXZvaWQgMDt2YXIgZj12b2lkIDA7dmFyIHU9MDtmb3IoO3U8cmVsb2NhdGVOb2Rlcy5sZW5ndGg7dSsrKXtzPXJlbG9jYXRlTm9kZXNbdV07aT1zLiRub2RlVG9SZWxvY2F0ZSQ7aWYoIWlbXCJzLW9sXCJdKXtsPWRvYy5jcmVhdGVUZXh0Tm9kZShcIlwiKTtsW1wicy1uclwiXT1pO2kucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaVtcInMtb2xcIl09bCxpKX19Zm9yKHU9MDt1PHJlbG9jYXRlTm9kZXMubGVuZ3RoO3UrKyl7cz1yZWxvY2F0ZU5vZGVzW3VdO2k9cy4kbm9kZVRvUmVsb2NhdGUkO2lmKHMuJHNsb3RSZWZOb2RlJCl7JD1zLiRzbG90UmVmTm9kZSQucGFyZW50Tm9kZTtjPXMuJHNsb3RSZWZOb2RlJC5uZXh0U2libGluZztsPWlbXCJzLW9sXCJdO3doaWxlKGw9bC5wcmV2aW91c1NpYmxpbmcpe2Y9bFtcInMtbnJcIl07aWYoZiYmZltcInMtc25cIl09PT1pW1wicy1zblwiXSYmJD09PWYucGFyZW50Tm9kZSl7Zj1mLm5leHRTaWJsaW5nO2lmKCFmfHwhZltcInMtbnJcIl0pe2M9ZjticmVha319fWlmKCFjJiYkIT09aS5wYXJlbnROb2RlfHxpLm5leHRTaWJsaW5nIT09Yyl7aWYoaSE9PWMpe2lmKCFpW1wicy1oblwiXSYmaVtcInMtb2xcIl0pe2lbXCJzLWhuXCJdPWlbXCJzLW9sXCJdLnBhcmVudE5vZGUubm9kZU5hbWV9JC5pbnNlcnRCZWZvcmUoaSxjKX19fWVsc2V7aWYoaS5ub2RlVHlwZT09PTEpe2kuaGlkZGVuPXRydWV9fX19aWYoY2hlY2tTbG90RmFsbGJhY2tWaXNpYmlsaXR5KXt1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5KG8uJGVsbSQpfXBsdC4kZmxhZ3MkJj1+MTtyZWxvY2F0ZU5vZGVzLmxlbmd0aD0wfX07dmFyIGdldEVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGdldEhvc3RSZWYoZSkuJGhvc3RFbGVtZW50JH07dmFyIGNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1nZXRFbGVtZW50KGUpO3JldHVybntlbWl0OmZ1bmN0aW9uKGUpe3JldHVybiBlbWl0RXZlbnQobix0LHtidWJibGVzOiEhKHImNCksY29tcG9zZWQ6ISEociYyKSxjYW5jZWxhYmxlOiEhKHImMSksZGV0YWlsOmV9KX19fTt2YXIgZW1pdEV2ZW50PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1wbHQuY2UodCxyKTtlLmRpc3BhdGNoRXZlbnQobik7cmV0dXJuIG59O3ZhciBhdHRhY2hUb0FuY2VzdG9yPWZ1bmN0aW9uKGUsdCl7aWYodCYmIWUuJG9uUmVuZGVyUmVzb2x2ZSQmJnRbXCJzLXBcIl0pe3RbXCJzLXBcIl0ucHVzaChuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIGUuJG9uUmVuZGVyUmVzb2x2ZSQ9dH0pKSl9fTt2YXIgc2NoZWR1bGVVcGRhdGU9ZnVuY3Rpb24oZSx0KXt7ZS4kZmxhZ3MkfD0xNn1pZihlLiRmbGFncyQmNCl7ZS4kZmxhZ3MkfD01MTI7cmV0dXJufWF0dGFjaFRvQW5jZXN0b3IoZSxlLiRhbmNlc3RvckNvbXBvbmVudCQpO3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIGRpc3BhdGNoSG9va3MoZSx0KX07cmV0dXJuIHdyaXRlVGFzayhyKX07dmFyIGRpc3BhdGNoSG9va3M9ZnVuY3Rpb24oZSx0KXt2YXIgcj1jcmVhdGVUaW1lKFwic2NoZWR1bGVVcGRhdGVcIixlLiRjbXBNZXRhJC4kdGFnTmFtZSQpO3ZhciBuPWUuJGxhenlJbnN0YW5jZSQ7dmFyIGE7aWYodCl7e2UuJGZsYWdzJHw9MjU2O2lmKGUuJHF1ZXVlZExpc3RlbmVycyQpe2UuJHF1ZXVlZExpc3RlbmVycyQubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lWzBdLHI9ZVsxXTtyZXR1cm4gc2FmZUNhbGwobix0LHIpfSkpO2UuJHF1ZXVlZExpc3RlbmVycyQ9bnVsbH19e2E9c2FmZUNhbGwobixcImNvbXBvbmVudFdpbGxMb2FkXCIpfX17YT10aGVuKGEsKGZ1bmN0aW9uKCl7cmV0dXJuIHNhZmVDYWxsKG4sXCJjb21wb25lbnRXaWxsUmVuZGVyXCIpfSkpfXIoKTtyZXR1cm4gdGhlbihhLChmdW5jdGlvbigpe3JldHVybiB1cGRhdGVDb21wb25lbnQoZSxuLHQpfSkpfTt2YXIgdXBkYXRlQ29tcG9uZW50PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGEsbyxzLGksbDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oJCl7bj1lLiRob3N0RWxlbWVudCQ7YT1jcmVhdGVUaW1lKFwidXBkYXRlXCIsZS4kY21wTWV0YSQuJHRhZ05hbWUkKTtvPW5bXCJzLXJjXCJdO2lmKHIpe2F0dGFjaFN0eWxlcyhlKX1zPWNyZWF0ZVRpbWUoXCJyZW5kZXJcIixlLiRjbXBNZXRhJC4kdGFnTmFtZSQpO3tjYWxsUmVuZGVyKGUsdCl9aWYobyl7by5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSk7bltcInMtcmNcIl09dW5kZWZpbmVkfXMoKTthKCk7e2k9bltcInMtcFwiXTtsPWZ1bmN0aW9uKCl7cmV0dXJuIHBvc3RVcGRhdGVDb21wb25lbnQoZSl9O2lmKGkubGVuZ3RoPT09MCl7bCgpfWVsc2V7UHJvbWlzZS5hbGwoaSkudGhlbihsKTtlLiRmbGFncyR8PTQ7aS5sZW5ndGg9MH19cmV0dXJuWzJdfSkpfSkpfTt2YXIgY2FsbFJlbmRlcj1mdW5jdGlvbihlLHQscil7dHJ5e3Q9dC5yZW5kZXImJnQucmVuZGVyKCk7e2UuJGZsYWdzJCY9fjE2fXtlLiRmbGFncyR8PTJ9e3t7cmVuZGVyVmRvbShlLHQpfX19fWNhdGNoKHQpe2NvbnNvbGVFcnJvcih0LGUuJGhvc3RFbGVtZW50JCl9cmV0dXJuIG51bGx9O3ZhciBwb3N0VXBkYXRlQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuJGNtcE1ldGEkLiR0YWdOYW1lJDt2YXIgcj1lLiRob3N0RWxlbWVudCQ7dmFyIG49Y3JlYXRlVGltZShcInBvc3RVcGRhdGVcIix0KTt2YXIgYT1lLiRsYXp5SW5zdGFuY2UkO3ZhciBvPWUuJGFuY2VzdG9yQ29tcG9uZW50JDtpZighKGUuJGZsYWdzJCY2NCkpe2UuJGZsYWdzJHw9NjQ7e2FkZEh5ZHJhdGVkRmxhZyhyKX17c2FmZUNhbGwoYSxcImNvbXBvbmVudERpZExvYWRcIil9bigpO3tlLiRvblJlYWR5UmVzb2x2ZSQocik7aWYoIW8pe2FwcERpZExvYWQoKX19fWVsc2V7e3NhZmVDYWxsKGEsXCJjb21wb25lbnREaWRVcGRhdGVcIil9bigpfXtlLiRvbkluc3RhbmNlUmVzb2x2ZSQocil9e2lmKGUuJG9uUmVuZGVyUmVzb2x2ZSQpe2UuJG9uUmVuZGVyUmVzb2x2ZSQoKTtlLiRvblJlbmRlclJlc29sdmUkPXVuZGVmaW5lZH1pZihlLiRmbGFncyQmNTEyKXtuZXh0VGljaygoZnVuY3Rpb24oKXtyZXR1cm4gc2NoZWR1bGVVcGRhdGUoZSxmYWxzZSl9KSl9ZS4kZmxhZ3MkJj1+KDR8NTEyKX19O3ZhciBmb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt7dmFyIHQ9Z2V0SG9zdFJlZihlKTt2YXIgcj10LiRob3N0RWxlbWVudCQuaXNDb25uZWN0ZWQ7aWYociYmKHQuJGZsYWdzJCYoMnwxNikpPT09Mil7c2NoZWR1bGVVcGRhdGUodCxmYWxzZSl9cmV0dXJuIHJ9fTt2YXIgYXBwRGlkTG9hZD1mdW5jdGlvbihlKXt7YWRkSHlkcmF0ZWRGbGFnKGRvYy5kb2N1bWVudEVsZW1lbnQpfW5leHRUaWNrKChmdW5jdGlvbigpe3JldHVybiBlbWl0RXZlbnQod2luLFwiYXBwbG9hZFwiLHtkZXRhaWw6e25hbWVzcGFjZTpOQU1FU1BBQ0V9fSl9KSl9O3ZhciBzYWZlQ2FsbD1mdW5jdGlvbihlLHQscil7aWYoZSYmZVt0XSl7dHJ5e3JldHVybiBlW3RdKHIpfWNhdGNoKGUpe2NvbnNvbGVFcnJvcihlKX19cmV0dXJuIHVuZGVmaW5lZH07dmFyIHRoZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZS50aGVuP2UudGhlbih0KTp0KCl9O3ZhciBhZGRIeWRyYXRlZEZsYWc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZChcImh5ZHJhdGVkXCIpfTt2YXIgaW5pdGlhbGl6ZUNsaWVudEh5ZHJhdGU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9Y3JlYXRlVGltZShcImh5ZHJhdGVDbGllbnRcIix0KTt2YXIgbz1lLnNoYWRvd1Jvb3Q7dmFyIHM9W107dmFyIGk9W107dmFyIGw9bz9bXTpudWxsO3ZhciAkPW4uJHZub2RlJD1uZXdWTm9kZSh0LG51bGwpO2lmKCFwbHQuJG9yZ0xvY05vZGVzJCl7aW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShkb2MuYm9keSxwbHQuJG9yZ0xvY05vZGVzJD1uZXcgTWFwKX1lW0hZRFJBVEVfSURdPXI7ZS5yZW1vdmVBdHRyaWJ1dGUoSFlEUkFURV9JRCk7Y2xpZW50SHlkcmF0ZSgkLHMsaSxsLGUsZSxyKTtzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS4kaG9zdElkJCtcIi5cIitlLiRub2RlSWQkO3ZhciBuPXBsdC4kb3JnTG9jTm9kZXMkLmdldChyKTt2YXIgYT1lLiRlbG0kO2lmKG4mJnN1cHBvcnRzU2hhZG93JiZuW1wicy1lblwiXT09PVwiXCIpe24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxuLm5leHRTaWJsaW5nKX1pZighbyl7YVtcInMtaG5cIl09dDtpZihuKXthW1wicy1vbFwiXT1uO2FbXCJzLW9sXCJdW1wicy1uclwiXT1hfX1wbHQuJG9yZ0xvY05vZGVzJC5kZWxldGUocil9KSk7aWYobyl7bC5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUpe28uYXBwZW5kQ2hpbGQoZSl9fSkpfWEoKX07dmFyIGNsaWVudEh5ZHJhdGU9ZnVuY3Rpb24oZSx0LHIsbixhLG8scyl7dmFyIGk7dmFyIGw7dmFyICQ7dmFyIGM7aWYoby5ub2RlVHlwZT09PTEpe2k9by5nZXRBdHRyaWJ1dGUoSFlEUkFURV9DSElMRF9JRCk7aWYoaSl7bD1pLnNwbGl0KFwiLlwiKTtpZihsWzBdPT09c3x8bFswXT09PVwiMFwiKXskPXskZmxhZ3MkOjAsJGhvc3RJZCQ6bFswXSwkbm9kZUlkJDpsWzFdLCRkZXB0aCQ6bFsyXSwkaW5kZXgkOmxbM10sJHRhZyQ6by50YWdOYW1lLnRvTG93ZXJDYXNlKCksJGVsbSQ6bywkYXR0cnMkOm51bGwsJGNoaWxkcmVuJDpudWxsLCRrZXkkOm51bGwsJG5hbWUkOm51bGwsJHRleHQkOm51bGx9O3QucHVzaCgkKTtvLnJlbW92ZUF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lEKTtpZighZS4kY2hpbGRyZW4kKXtlLiRjaGlsZHJlbiQ9W119ZS4kY2hpbGRyZW4kWyQuJGluZGV4JF09JDtlPSQ7aWYobiYmJC4kZGVwdGgkPT09XCIwXCIpe25bJC4kaW5kZXgkXT0kLiRlbG0kfX19Zm9yKGM9by5jaGlsZE5vZGVzLmxlbmd0aC0xO2M+PTA7Yy0tKXtjbGllbnRIeWRyYXRlKGUsdCxyLG4sYSxvLmNoaWxkTm9kZXNbY10scyl9aWYoby5zaGFkb3dSb290KXtmb3IoYz1vLnNoYWRvd1Jvb3QuY2hpbGROb2Rlcy5sZW5ndGgtMTtjPj0wO2MtLSl7Y2xpZW50SHlkcmF0ZShlLHQscixuLGEsby5zaGFkb3dSb290LmNoaWxkTm9kZXNbY10scyl9fX1lbHNlIGlmKG8ubm9kZVR5cGU9PT04KXtsPW8ubm9kZVZhbHVlLnNwbGl0KFwiLlwiKTtpZihsWzFdPT09c3x8bFsxXT09PVwiMFwiKXtpPWxbMF07JD17JGZsYWdzJDowLCRob3N0SWQkOmxbMV0sJG5vZGVJZCQ6bFsyXSwkZGVwdGgkOmxbM10sJGluZGV4JDpsWzRdLCRlbG0kOm8sJGF0dHJzJDpudWxsLCRjaGlsZHJlbiQ6bnVsbCwka2V5JDpudWxsLCRuYW1lJDpudWxsLCR0YWckOm51bGwsJHRleHQkOm51bGx9O2lmKGk9PT1URVhUX05PREVfSUQpeyQuJGVsbSQ9by5uZXh0U2libGluZztpZigkLiRlbG0kJiYkLiRlbG0kLm5vZGVUeXBlPT09Myl7JC4kdGV4dCQ9JC4kZWxtJC50ZXh0Q29udGVudDt0LnB1c2goJCk7by5yZW1vdmUoKTtpZighZS4kY2hpbGRyZW4kKXtlLiRjaGlsZHJlbiQ9W119ZS4kY2hpbGRyZW4kWyQuJGluZGV4JF09JDtpZihuJiYkLiRkZXB0aCQ9PT1cIjBcIil7blskLiRpbmRleCRdPSQuJGVsbSR9fX1lbHNlIGlmKCQuJGhvc3RJZCQ9PT1zKXtpZihpPT09U0xPVF9OT0RFX0lEKXskLiR0YWckPVwic2xvdFwiO2lmKGxbNV0pe29bXCJzLXNuXCJdPSQuJG5hbWUkPWxbNV19ZWxzZXtvW1wicy1zblwiXT1cIlwifW9bXCJzLXNyXCJdPXRydWU7aWYobil7JC4kZWxtJD1kb2MuY3JlYXRlRWxlbWVudCgkLiR0YWckKTtpZigkLiRuYW1lJCl7JC4kZWxtJC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsJC4kbmFtZSQpfW8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoJC4kZWxtJCxvKTtvLnJlbW92ZSgpO2lmKCQuJGRlcHRoJD09PVwiMFwiKXtuWyQuJGluZGV4JF09JC4kZWxtJH19ci5wdXNoKCQpO2lmKCFlLiRjaGlsZHJlbiQpe2UuJGNoaWxkcmVuJD1bXX1lLiRjaGlsZHJlbiRbJC4kaW5kZXgkXT0kfWVsc2UgaWYoaT09PUNPTlRFTlRfUkVGX0lEKXtpZihuKXtvLnJlbW92ZSgpfWVsc2V7YVtcInMtY3JcIl09bztvW1wicy1jblwiXT10cnVlfX19fX1lbHNlIGlmKGUmJmUuJHRhZyQ9PT1cInN0eWxlXCIpe3ZhciBmPW5ld1ZOb2RlKG51bGwsby50ZXh0Q29udGVudCk7Zi4kZWxtJD1vO2YuJGluZGV4JD1cIjBcIjtlLiRjaGlsZHJlbiQ9W2ZdfX07dmFyIGluaXRpYWxpemVEb2N1bWVudEh5ZHJhdGU9ZnVuY3Rpb24oZSx0KXtpZihlLm5vZGVUeXBlPT09MSl7dmFyIHI9MDtmb3IoO3I8ZS5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2luaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUoZS5jaGlsZE5vZGVzW3JdLHQpfWlmKGUuc2hhZG93Um9vdCl7Zm9yKHI9MDtyPGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzLmxlbmd0aDtyKyspe2luaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUoZS5zaGFkb3dSb290LmNoaWxkTm9kZXNbcl0sdCl9fX1lbHNlIGlmKGUubm9kZVR5cGU9PT04KXt2YXIgbj1lLm5vZGVWYWx1ZS5zcGxpdChcIi5cIik7aWYoblswXT09PU9SR19MT0NBVElPTl9JRCl7dC5zZXQoblsxXStcIi5cIituWzJdLGUpO2Uubm9kZVZhbHVlPVwiXCI7ZVtcInMtZW5cIl09blszXX19fTt2YXIgcGFyc2VQcm9wZXJ0eVZhbHVlPWZ1bmN0aW9uKGUsdCl7aWYoZSE9bnVsbCYmIWlzQ29tcGxleFR5cGUoZSkpe2lmKHQmNCl7cmV0dXJuIGU9PT1cImZhbHNlXCI/ZmFsc2U6ZT09PVwiXCJ8fCEhZX1pZih0JjIpe3JldHVybiBwYXJzZUZsb2F0KGUpfWlmKHQmMSl7cmV0dXJuIFN0cmluZyhlKX1yZXR1cm4gZX1yZXR1cm4gZX07dmFyIGdldFZhbHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGdldEhvc3RSZWYoZSkuJGluc3RhbmNlVmFsdWVzJC5nZXQodCl9O3ZhciBzZXRWYWx1ZT1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1nZXRIb3N0UmVmKGUpO3ZhciBvPWEuJGhvc3RFbGVtZW50JDt2YXIgcz1hLiRpbnN0YW5jZVZhbHVlcyQuZ2V0KHQpO3ZhciBpPWEuJGZsYWdzJDt2YXIgbD1hLiRsYXp5SW5zdGFuY2UkO3I9cGFyc2VQcm9wZXJ0eVZhbHVlKHIsbi4kbWVtYmVycyRbdF1bMF0pO2lmKCghKGkmOCl8fHM9PT11bmRlZmluZWQpJiZyIT09cyl7YS4kaW5zdGFuY2VWYWx1ZXMkLnNldCh0LHIpO2lmKGwpe2lmKG4uJHdhdGNoZXJzJCYmaSYxMjgpe3ZhciAkPW4uJHdhdGNoZXJzJFt0XTtpZigkKXskLm1hcCgoZnVuY3Rpb24oZSl7dHJ5e2xbZV0ocixzLHQpfWNhdGNoKGUpe2NvbnNvbGVFcnJvcihlLG8pfX0pKX19aWYoKGkmKDJ8MTYpKT09PTIpe3NjaGVkdWxlVXBkYXRlKGEsZmFsc2UpfX19fTt2YXIgcHJveHlDb21wb25lbnQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHQuJG1lbWJlcnMkKXtpZihlLndhdGNoZXJzKXt0LiR3YXRjaGVycyQ9ZS53YXRjaGVyc312YXIgbj1PYmplY3QuZW50cmllcyh0LiRtZW1iZXJzJCk7dmFyIGE9ZS5wcm90b3R5cGU7bi5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBuPWVbMF0sbz1lWzFdWzBdO2lmKG8mMzF8fHImMiYmbyYzMil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsbix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldFZhbHVlKHRoaXMsbil9LHNldDpmdW5jdGlvbihlKXtzZXRWYWx1ZSh0aGlzLG4sZSx0KX0sY29uZmlndXJhYmxlOnRydWUsZW51bWVyYWJsZTp0cnVlfSl9ZWxzZSBpZihyJjEmJm8mNjQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLG4se3ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7ZVt0XT1hcmd1bWVudHNbdF19dmFyIHI9Z2V0SG9zdFJlZih0aGlzKTtyZXR1cm4gci4kb25JbnN0YW5jZVByb21pc2UkLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9ci4kbGF6eUluc3RhbmNlJClbbl0uYXBwbHkodCxlKX0pKX19KX19KSk7aWYociYxKXt2YXIgbz1uZXcgTWFwO2EuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzO3BsdC5qbXAoKGZ1bmN0aW9uKCl7dmFyIHQ9by5nZXQoZSk7aWYobi5oYXNPd25Qcm9wZXJ0eSh0KSl7cj1uW3RdO2RlbGV0ZSBuW3RdfWVsc2UgaWYoYS5oYXNPd25Qcm9wZXJ0eSh0KSYmdHlwZW9mIG5bdF09PT1cIm51bWJlclwiJiZuW3RdPT1yKXtyZXR1cm59blt0XT1yPT09bnVsbCYmdHlwZW9mIG5bdF09PT1cImJvb2xlYW5cIj9mYWxzZTpyfSkpfTtlLm9ic2VydmVkQXR0cmlidXRlcz1uLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV07cmV0dXJuIHJbMF0mMTV9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lWzBdLG49ZVsxXTt2YXIgYT1uWzFdfHxyO28uc2V0KGEscik7aWYoblswXSY1MTIpe3QuJGF0dHJzVG9SZWZsZWN0JC5wdXNoKFtyLGFdKX1yZXR1cm4gYX0pKX19cmV0dXJuIGV9O3ZhciBpbml0aWFsaXplQ29tcG9uZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbixvLHMsaSxsLCQsYztyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDppZighKCh0LiRmbGFncyQmMzIpPT09MCkpcmV0dXJuWzMsM107dC4kZmxhZ3MkfD0zMjthPWxvYWRNb2R1bGUocik7aWYoIWEudGhlbilyZXR1cm5bMywyXTtuPXVuaXF1ZVRpbWUoKTtyZXR1cm5bNCxhXTtjYXNlIDE6YT1mLnNlbnQoKTtuKCk7Zi5sYWJlbD0yO2Nhc2UgMjppZighYS5pc1Byb3hpZWQpe3tyLiR3YXRjaGVycyQ9YS53YXRjaGVyc31wcm94eUNvbXBvbmVudChhLHIsMik7YS5pc1Byb3hpZWQ9dHJ1ZX1vPWNyZWF0ZVRpbWUoXCJjcmVhdGVJbnN0YW5jZVwiLHIuJHRhZ05hbWUkKTt7dC4kZmxhZ3MkfD04fXRyeXtuZXcgYSh0KX1jYXRjaChlKXtjb25zb2xlRXJyb3IoZSl9e3QuJGZsYWdzJCY9fjh9e3QuJGZsYWdzJHw9MTI4fW8oKTtmaXJlQ29ubmVjdGVkQ2FsbGJhY2sodC4kbGF6eUluc3RhbmNlJCk7aWYoYS5zdHlsZSl7cz1hLnN0eWxlO2lmKHR5cGVvZiBzIT09XCJzdHJpbmdcIil7cz1zW3QuJG1vZGVOYW1lJD1jb21wdXRlTW9kZShlKV19aT1nZXRTY29wZUlkKHIsdC4kbW9kZU5hbWUkKTtpZighc3R5bGVzLmhhcyhpKSl7bD1jcmVhdGVUaW1lKFwicmVnaXN0ZXJTdHlsZXNcIixyLiR0YWdOYW1lJCk7cmVnaXN0ZXJTdHlsZShpLHMsISEoci4kZmxhZ3MkJjEpKTtsKCl9fWYubGFiZWw9MztjYXNlIDM6JD10LiRhbmNlc3RvckNvbXBvbmVudCQ7Yz1mdW5jdGlvbigpe3JldHVybiBzY2hlZHVsZVVwZGF0ZSh0LHRydWUpfTtpZigkJiYkW1wicy1yY1wiXSl7JFtcInMtcmNcIl0ucHVzaChjKX1lbHNle2MoKX1yZXR1cm5bMl19fSkpfSkpfTt2YXIgZmlyZUNvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGUpe3tzYWZlQ2FsbChlLFwiY29ubmVjdGVkQ2FsbGJhY2tcIil9fTt2YXIgY29ubmVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7aWYoKHBsdC4kZmxhZ3MkJjEpPT09MCl7dmFyIHQ9Z2V0SG9zdFJlZihlKTt2YXIgcj10LiRjbXBNZXRhJDt2YXIgbj1jcmVhdGVUaW1lKFwiY29ubmVjdGVkQ2FsbGJhY2tcIixyLiR0YWdOYW1lJCk7aWYoISh0LiRmbGFncyQmMSkpe3QuJGZsYWdzJHw9MTt2YXIgYT12b2lkIDA7e2E9ZS5nZXRBdHRyaWJ1dGUoSFlEUkFURV9JRCk7aWYoYSl7aWYoci4kZmxhZ3MkJjEpe3ZhciBvPWFkZFN0eWxlKGUuc2hhZG93Um9vdCxyLGUuZ2V0QXR0cmlidXRlKFwicy1tb2RlXCIpKTtlLmNsYXNzTGlzdC5yZW1vdmUobytcIi1oXCIsbytcIi1zXCIpfWluaXRpYWxpemVDbGllbnRIeWRyYXRlKGUsci4kdGFnTmFtZSQsYSx0KX19aWYoIWEpe2lmKHIuJGZsYWdzJCYoNHw4KSl7c2V0Q29udGVudFJlZmVyZW5jZShlKX19e3ZhciBzPWU7d2hpbGUocz1zLnBhcmVudE5vZGV8fHMuaG9zdCl7aWYocy5ub2RlVHlwZT09PTEmJnMuaGFzQXR0cmlidXRlKFwicy1pZFwiKSYmc1tcInMtcFwiXXx8c1tcInMtcFwiXSl7YXR0YWNoVG9BbmNlc3Rvcih0LHQuJGFuY2VzdG9yQ29tcG9uZW50JD1zKTticmVha319fWlmKHIuJG1lbWJlcnMkKXtPYmplY3QuZW50cmllcyhyLiRtZW1iZXJzJCkubWFwKChmdW5jdGlvbih0KXt2YXIgcj10WzBdLG49dFsxXVswXTtpZihuJjMxJiZlLmhhc093blByb3BlcnR5KHIpKXt2YXIgYT1lW3JdO2RlbGV0ZSBlW3JdO2Vbcl09YX19KSl9e25leHRUaWNrKChmdW5jdGlvbigpe3JldHVybiBpbml0aWFsaXplQ29tcG9uZW50KGUsdCxyKX0pKX19ZWxzZXthZGRIb3N0RXZlbnRMaXN0ZW5lcnMoZSx0LHIuJGxpc3RlbmVycyQpO2ZpcmVDb25uZWN0ZWRDYWxsYmFjayh0LiRsYXp5SW5zdGFuY2UkKX1uKCl9fTt2YXIgc2V0Q29udGVudFJlZmVyZW5jZT1mdW5jdGlvbihlKXt2YXIgdD1lW1wicy1jclwiXT1kb2MuY3JlYXRlQ29tbWVudChcIlwiKTt0W1wicy1jblwiXT10cnVlO2UuaW5zZXJ0QmVmb3JlKHQsZS5maXJzdENoaWxkKX07dmFyIGRpc2Nvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGUpe2lmKChwbHQuJGZsYWdzJCYxKT09PTApe3ZhciB0PWdldEhvc3RSZWYoZSk7dmFyIHI9dC4kbGF6eUluc3RhbmNlJDt7aWYodC4kcm1MaXN0ZW5lcnMkKXt0LiRybUxpc3RlbmVycyQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpO3QuJHJtTGlzdGVuZXJzJD11bmRlZmluZWR9fXtzYWZlQ2FsbChyLFwiZGlzY29ubmVjdGVkQ2FsbGJhY2tcIil9fX07dmFyIGJvb3RzdHJhcExhenk9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwKXt0PXt9fXZhciByPWNyZWF0ZVRpbWUoKTt2YXIgbj1bXTt2YXIgYT10LmV4Y2x1ZGV8fFtdO3ZhciBvPXdpbi5jdXN0b21FbGVtZW50czt2YXIgcz1kb2MuaGVhZDt2YXIgaT1zLnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW2NoYXJzZXRdXCIpO3ZhciBsPWRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7dmFyICQ9W107dmFyIGM9ZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrSFlEUkFURURfU1RZTEVfSUQrXCJdXCIpO3ZhciBmO3ZhciB1PXRydWU7dmFyIGQ9MDtPYmplY3QuYXNzaWduKHBsdCx0KTtwbHQuJHJlc291cmNlc1VybCQ9bmV3IFVSTCh0LnJlc291cmNlc1VybHx8XCIuL1wiLGRvYy5iYXNlVVJJKS5ocmVmO3twbHQuJGZsYWdzJHw9Mn17Zm9yKDtkPGMubGVuZ3RoO2QrKyl7cmVnaXN0ZXJTdHlsZShjW2RdLmdldEF0dHJpYnV0ZShIWURSQVRFRF9TVFlMRV9JRCksY29udmVydFNjb3BlZFRvU2hhZG93KGNbZF0uaW5uZXJIVE1MKSx0cnVlKX19ZS5tYXAoKGZ1bmN0aW9uKGUpe2VbMV0ubWFwKChmdW5jdGlvbih0KXt2YXIgcj17JGZsYWdzJDp0WzBdLCR0YWdOYW1lJDp0WzFdLCRtZW1iZXJzJDp0WzJdLCRsaXN0ZW5lcnMkOnRbM119O3tyLiRtZW1iZXJzJD10WzJdfXtyLiRsaXN0ZW5lcnMkPXRbM119e3IuJGF0dHJzVG9SZWZsZWN0JD1bXX17ci4kd2F0Y2hlcnMkPXt9fXZhciBzPXIuJHRhZ05hbWUkO3ZhciBpPWZ1bmN0aW9uKGUpe19fZXh0ZW5kcyh0LGUpO2Z1bmN0aW9uIHQodCl7dmFyIG49ZS5jYWxsKHRoaXMsdCl8fHRoaXM7dD1uO3JlZ2lzdGVySG9zdCh0LHIpO2lmKHIuJGZsYWdzJCYxKXt7e3QuYXR0YWNoU2hhZG93KHttb2RlOlwib3BlblwiLGRlbGVnYXRlc0ZvY3VzOiEhKHIuJGZsYWdzJCYxNil9KX19fXJldHVybiBufXQucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZihmKXtjbGVhclRpbWVvdXQoZik7Zj1udWxsfWlmKHUpeyQucHVzaCh0aGlzKX1lbHNle3BsdC5qbXAoKGZ1bmN0aW9uKCl7cmV0dXJuIGNvbm5lY3RlZENhbGxiYWNrKGUpfSkpfX07dC5wcm90b3R5cGUuZGlzY29ubmVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3BsdC5qbXAoKGZ1bmN0aW9uKCl7cmV0dXJuIGRpc2Nvbm5lY3RlZENhbGxiYWNrKGUpfSkpfTt0LnByb3RvdHlwZS5jb21wb25lbnRPblJlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIGdldEhvc3RSZWYodGhpcykuJG9uUmVhZHlQcm9taXNlJH07cmV0dXJuIHR9KEhUTUxFbGVtZW50KTtyLiRsYXp5QnVuZGxlSWQkPWVbMF07aWYoIWEuaW5jbHVkZXMocykmJiFvLmdldChzKSl7bi5wdXNoKHMpO28uZGVmaW5lKHMscHJveHlDb21wb25lbnQoaSxyLDEpKX19KSl9KSk7e2wuaW5uZXJIVE1MPW4rSFlEUkFURURfQ1NTO2wuc2V0QXR0cmlidXRlKFwiZGF0YS1zdHlsZXNcIixcIlwiKTtzLmluc2VydEJlZm9yZShsLGk/aS5uZXh0U2libGluZzpzLmZpcnN0Q2hpbGQpfXU9ZmFsc2U7aWYoJC5sZW5ndGgpeyQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25uZWN0ZWRDYWxsYmFjaygpfSkpfWVsc2V7e3BsdC5qbXAoKGZ1bmN0aW9uKCl7cmV0dXJuIGY9c2V0VGltZW91dChhcHBEaWRMb2FkLDMwKX0pKX19cigpfTt2YXIgZ2V0QXNzZXRQYXRoPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVUkwoZSxwbHQuJHJlc291cmNlc1VybCQpO3JldHVybiB0Lm9yaWdpbiE9PXdpbi5sb2NhdGlvbi5vcmlnaW4/dC5ocmVmOnQucGF0aG5hbWV9O3ZhciBob3N0UmVmcz1uZXcgV2Vha01hcDt2YXIgZ2V0SG9zdFJlZj1mdW5jdGlvbihlKXtyZXR1cm4gaG9zdFJlZnMuZ2V0KGUpfTt2YXIgcmVnaXN0ZXJJbnN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBob3N0UmVmcy5zZXQodC4kbGF6eUluc3RhbmNlJD1lLHQpfTt2YXIgcmVnaXN0ZXJIb3N0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9eyRmbGFncyQ6MCwkaG9zdEVsZW1lbnQkOmUsJGNtcE1ldGEkOnQsJGluc3RhbmNlVmFsdWVzJDpuZXcgTWFwfTt7ci4kb25JbnN0YW5jZVByb21pc2UkPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gci4kb25JbnN0YW5jZVJlc29sdmUkPWV9KSl9e3IuJG9uUmVhZHlQcm9taXNlJD1uZXcgUHJvbWlzZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHIuJG9uUmVhZHlSZXNvbHZlJD1lfSkpO2VbXCJzLXBcIl09W107ZVtcInMtcmNcIl09W119YWRkSG9zdEV2ZW50TGlzdGVuZXJzKGUscix0LiRsaXN0ZW5lcnMkKTtyZXR1cm4gaG9zdFJlZnMuc2V0KGUscil9O3ZhciBpc01lbWJlckluRWxlbWVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0IGluIGV9O3ZhciBjb25zb2xlRXJyb3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oMCxjb25zb2xlLmVycm9yKShlLHQpfTt2YXIgY21wTW9kdWxlcz1uZXcgTWFwO3ZhciBsb2FkTW9kdWxlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLiR0YWdOYW1lJC5yZXBsYWNlKC8tL2csXCJfXCIpO3ZhciBhPWUuJGxhenlCdW5kbGVJZCQ7dmFyIG89Y21wTW9kdWxlcy5nZXQoYSk7aWYobyl7cmV0dXJuIG9bbl19cmV0dXJuIGltcG9ydChcIi4vXCIrYStcIi5lbnRyeS5qc1wiK1wiXCIpLnRoZW4oKGZ1bmN0aW9uKGUpe3tjbXBNb2R1bGVzLnNldChhLGUpfXJldHVybiBlW25dfSksY29uc29sZUVycm9yKX07dmFyIHN0eWxlcz1uZXcgTWFwO3ZhciBtb2RlUmVzb2x1dGlvbkNoYWluPVtdO3ZhciBxdWV1ZURvbVJlYWRzPVtdO3ZhciBxdWV1ZURvbVdyaXRlcz1bXTt2YXIgcXVldWVUYXNrPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIpe2UucHVzaChyKTtpZighcXVldWVQZW5kaW5nKXtxdWV1ZVBlbmRpbmc9dHJ1ZTtpZih0JiZwbHQuJGZsYWdzJCY0KXtuZXh0VGljayhmbHVzaCl9ZWxzZXtwbHQucmFmKGZsdXNoKX19fX07dmFyIGNvbnN1bWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3RyeXtlW3RdKHBlcmZvcm1hbmNlLm5vdygpKX1jYXRjaChlKXtjb25zb2xlRXJyb3IoZSl9fWUubGVuZ3RoPTB9O3ZhciBmbHVzaD1mdW5jdGlvbigpe2NvbnN1bWUocXVldWVEb21SZWFkcyk7e2NvbnN1bWUocXVldWVEb21Xcml0ZXMpO2lmKHF1ZXVlUGVuZGluZz1xdWV1ZURvbVJlYWRzLmxlbmd0aD4wKXtwbHQucmFmKGZsdXNoKX19fTt2YXIgbmV4dFRpY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHByb21pc2VSZXNvbHZlKCkudGhlbihlKX07dmFyIHJlYWRUYXNrPXF1ZXVlVGFzayhxdWV1ZURvbVJlYWRzLGZhbHNlKTt2YXIgd3JpdGVUYXNrPXF1ZXVlVGFzayhxdWV1ZURvbVdyaXRlcyx0cnVlKTt2YXIgQnVpbGQ9e2lzRGV2OmZhbHNlLGlzQnJvd3Nlcjp0cnVlLGlzU2VydmVyOmZhbHNlLGlzVGVzdGluZzpmYWxzZX07ZXhwb3J0e0J1aWxkIGFzIEIsSG9zdCBhcyBILE5BTUVTUEFDRSBhcyBOLHNldE1vZGUgYXMgYSxib290c3RyYXBMYXp5IGFzIGIsd3JpdGVUYXNrIGFzIGMsZG9jIGFzIGQsY3JlYXRlRXZlbnQgYXMgZSxyZWFkVGFzayBhcyBmLGdldE1vZGUgYXMgZyxoLGdldEVsZW1lbnQgYXMgaSxmb3JjZVVwZGF0ZSBhcyBqLGdldEFzc2V0UGF0aCBhcyBrLHByb21pc2VSZXNvbHZlIGFzIHAscmVnaXN0ZXJJbnN0YW5jZSBhcyByLHNldFBsYXRmb3JtSGVscGVycyBhcyBzLHdpbiBhcyB3fTsiLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0e0cgYXMgR0VTVFVSRV9DT05UUk9MTEVSfWZyb21cIi4vZ2VzdHVyZS1jb250cm9sbGVyLTY4YzAyM2E0LmpzXCI7ZXhwb3J0e0cgYXMgR0VTVFVSRV9DT05UUk9MTEVSfWZyb21cIi4vZ2VzdHVyZS1jb250cm9sbGVyLTY4YzAyM2E0LmpzXCI7dmFyIGFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIG49c3VwcG9ydHNQYXNzaXZlKGUpP3tjYXB0dXJlOiEhYS5jYXB0dXJlLHBhc3NpdmU6ISFhLnBhc3NpdmV9OiEhYS5jYXB0dXJlO3ZhciBpO3ZhciB1O2lmKGVbXCJfX3pvbmVfc3ltYm9sX19hZGRFdmVudExpc3RlbmVyXCJdKXtpPVwiX196b25lX3N5bWJvbF9fYWRkRXZlbnRMaXN0ZW5lclwiO3U9XCJfX3pvbmVfc3ltYm9sX19yZW1vdmVFdmVudExpc3RlbmVyXCJ9ZWxzZXtpPVwiYWRkRXZlbnRMaXN0ZW5lclwiO3U9XCJyZW1vdmVFdmVudExpc3RlbmVyXCJ9ZVtpXShyLHQsbik7cmV0dXJuIGZ1bmN0aW9uKCl7ZVt1XShyLHQsbil9fTt2YXIgc3VwcG9ydHNQYXNzaXZlPWZ1bmN0aW9uKGUpe2lmKF9zUGFzc2l2ZT09PXVuZGVmaW5lZCl7dHJ5e3ZhciByPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInBhc3NpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7X3NQYXNzaXZlPXRydWV9fSk7ZS5hZGRFdmVudExpc3RlbmVyKFwib3B0c1Rlc3RcIiwoZnVuY3Rpb24oKXtyZXR1cm59KSxyKX1jYXRjaChlKXtfc1Bhc3NpdmU9ZmFsc2V9fXJldHVybiEhX3NQYXNzaXZlfTt2YXIgX3NQYXNzaXZlO3ZhciBNT1VTRV9XQUlUPTJlMzt2YXIgY3JlYXRlUG9pbnRlckV2ZW50cz1mdW5jdGlvbihlLHIsdCxhLG4pe3ZhciBpO3ZhciB1O3ZhciBzO3ZhciB2O3ZhciBmO3ZhciBvO3ZhciBjO3ZhciBsPTA7dmFyIGQ9ZnVuY3Rpb24oYSl7bD1EYXRlLm5vdygpK01PVVNFX1dBSVQ7aWYoIXIoYSkpe3JldHVybn1pZighdSYmdCl7dT1hZGRFdmVudExpc3RlbmVyKGUsXCJ0b3VjaG1vdmVcIix0LG4pfWlmKCFzKXtzPWFkZEV2ZW50TGlzdGVuZXIoYS50YXJnZXQsXCJ0b3VjaGVuZFwiLHAsbil9aWYoIXYpe3Y9YWRkRXZlbnRMaXN0ZW5lcihhLnRhcmdldCxcInRvdWNoY2FuY2VsXCIscCxuKX19O3ZhciBtPWZ1bmN0aW9uKGEpe2lmKGw+RGF0ZS5ub3coKSl7cmV0dXJufWlmKCFyKGEpKXtyZXR1cm59aWYoIW8mJnQpe289YWRkRXZlbnRMaXN0ZW5lcihnZXREb2N1bWVudChlKSxcIm1vdXNlbW92ZVwiLHQsbil9aWYoIWMpe2M9YWRkRXZlbnRMaXN0ZW5lcihnZXREb2N1bWVudChlKSxcIm1vdXNldXBcIixFLG4pfX07dmFyIHA9ZnVuY3Rpb24oZSl7XygpO2lmKGEpe2EoZSl9fTt2YXIgRT1mdW5jdGlvbihlKXtnKCk7aWYoYSl7YShlKX19O3ZhciBfPWZ1bmN0aW9uKCl7aWYodSl7dSgpfWlmKHMpe3MoKX1pZih2KXt2KCl9dT1zPXY9dW5kZWZpbmVkfTt2YXIgZz1mdW5jdGlvbigpe2lmKG8pe28oKX1pZihjKXtjKCl9bz1jPXVuZGVmaW5lZH07dmFyIHk9ZnVuY3Rpb24oKXtfKCk7ZygpfTt2YXIgWD1mdW5jdGlvbihyKXtpZihyPT09dm9pZCAwKXtyPXRydWV9aWYoIXIpe2lmKGkpe2koKX1pZihmKXtmKCl9aT1mPXVuZGVmaW5lZDt5KCl9ZWxzZXtpZighaSl7aT1hZGRFdmVudExpc3RlbmVyKGUsXCJ0b3VjaHN0YXJ0XCIsZCxuKX1pZighZil7Zj1hZGRFdmVudExpc3RlbmVyKGUsXCJtb3VzZWRvd25cIixtLG4pfX19O3ZhciBZPWZ1bmN0aW9uKCl7WChmYWxzZSk7YT10PXI9dW5kZWZpbmVkfTtyZXR1cm57ZW5hYmxlOlgsc3RvcDp5LGRlc3Ryb3k6WX19O3ZhciBnZXREb2N1bWVudD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIERvY3VtZW50P2U6ZS5vd25lckRvY3VtZW50fTt2YXIgY3JlYXRlUGFuUmVjb2duaXplcj1mdW5jdGlvbihlLHIsdCl7dmFyIGE9dCooTWF0aC5QSS8xODApO3ZhciBuPWU9PT1cInhcIjt2YXIgaT1NYXRoLmNvcyhhKTt2YXIgdT1yKnI7dmFyIHM9MDt2YXIgdj0wO3ZhciBmPWZhbHNlO3ZhciBvPTA7cmV0dXJue3N0YXJ0OmZ1bmN0aW9uKGUscil7cz1lO3Y9cjtvPTA7Zj10cnVlfSxkZXRlY3Q6ZnVuY3Rpb24oZSxyKXtpZighZil7cmV0dXJuIGZhbHNlfXZhciB0PWUtczt2YXIgYT1yLXY7dmFyIGM9dCp0K2EqYTtpZihjPHUpe3JldHVybiBmYWxzZX12YXIgbD1NYXRoLnNxcnQoYyk7dmFyIGQ9KG4/dDphKS9sO2lmKGQ+aSl7bz0xfWVsc2UgaWYoZDwtaSl7bz0tMX1lbHNle289MH1mPWZhbHNlO3JldHVybiB0cnVlfSxpc0dlc3R1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gbyE9PTB9LGdldERpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBvfX19O3ZhciBjcmVhdGVHZXN0dXJlPWZ1bmN0aW9uKGUpe3ZhciByPWZhbHNlO3ZhciB0PWZhbHNlO3ZhciBhPXRydWU7dmFyIG49ZmFsc2U7dmFyIGk9T2JqZWN0LmFzc2lnbih7ZGlzYWJsZVNjcm9sbDpmYWxzZSxkaXJlY3Rpb246XCJ4XCIsZ2VzdHVyZVByaW9yaXR5OjAscGFzc2l2ZTp0cnVlLG1heEFuZ2xlOjQwLHRocmVzaG9sZDoxMH0sZSk7dmFyIHU9aS5jYW5TdGFydDt2YXIgcz1pLm9uV2lsbFN0YXJ0O3ZhciB2PWkub25TdGFydDt2YXIgZj1pLm9uRW5kO3ZhciBvPWkubm90Q2FwdHVyZWQ7dmFyIGM9aS5vbk1vdmU7dmFyIGw9aS50aHJlc2hvbGQ7dmFyIGQ9aS5wYXNzaXZlO3ZhciBtPWkuYmx1ck9uU3RhcnQ7dmFyIHA9e3R5cGU6XCJwYW5cIixzdGFydFg6MCxzdGFydFk6MCxzdGFydFRpbWU6MCxjdXJyZW50WDowLGN1cnJlbnRZOjAsdmVsb2NpdHlYOjAsdmVsb2NpdHlZOjAsZGVsdGFYOjAsZGVsdGFZOjAsY3VycmVudFRpbWU6MCxldmVudDp1bmRlZmluZWQsZGF0YTp1bmRlZmluZWR9O3ZhciBFPWNyZWF0ZVBhblJlY29nbml6ZXIoaS5kaXJlY3Rpb24saS50aHJlc2hvbGQsaS5tYXhBbmdsZSk7dmFyIF89R0VTVFVSRV9DT05UUk9MTEVSLmNyZWF0ZUdlc3R1cmUoe25hbWU6ZS5nZXN0dXJlTmFtZSxwcmlvcml0eTplLmdlc3R1cmVQcmlvcml0eSxkaXNhYmxlU2Nyb2xsOmUuZGlzYWJsZVNjcm9sbH0pO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciByPW5vdyhlKTtpZih0fHwhYSl7cmV0dXJuIGZhbHNlfXVwZGF0ZURldGFpbChlLHApO3Auc3RhcnRYPXAuY3VycmVudFg7cC5zdGFydFk9cC5jdXJyZW50WTtwLnN0YXJ0VGltZT1wLmN1cnJlbnRUaW1lPXI7cC52ZWxvY2l0eVg9cC52ZWxvY2l0eVk9cC5kZWx0YVg9cC5kZWx0YVk9MDtwLmV2ZW50PWU7aWYodSYmdShwKT09PWZhbHNlKXtyZXR1cm4gZmFsc2V9Xy5yZWxlYXNlKCk7aWYoIV8uc3RhcnQoKSl7cmV0dXJuIGZhbHNlfXQ9dHJ1ZTtpZihsPT09MCl7cmV0dXJuIFkoKX1FLnN0YXJ0KHAuc3RhcnRYLHAuc3RhcnRZKTtyZXR1cm4gdHJ1ZX07dmFyIHk9ZnVuY3Rpb24oZSl7aWYocil7aWYoIW4mJmEpe249dHJ1ZTtjYWxjR2VzdHVyZURhdGEocCxlKTtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoWCl9cmV0dXJufWNhbGNHZXN0dXJlRGF0YShwLGUpO2lmKEUuZGV0ZWN0KHAuY3VycmVudFgscC5jdXJyZW50WSkpe2lmKCFFLmlzR2VzdHVyZSgpfHwhWSgpKXtiKCl9fX07dmFyIFg9ZnVuY3Rpb24oKXtpZighcil7cmV0dXJufW49ZmFsc2U7aWYoYyl7YyhwKX19O3ZhciBZPWZ1bmN0aW9uKCl7aWYoXyYmIV8uY2FwdHVyZSgpKXtyZXR1cm4gZmFsc2V9cj10cnVlO2E9ZmFsc2U7cC5zdGFydFg9cC5jdXJyZW50WDtwLnN0YXJ0WT1wLmN1cnJlbnRZO3Auc3RhcnRUaW1lPXAuY3VycmVudFRpbWU7aWYocyl7cyhwKS50aGVuKGgpfWVsc2V7aCgpfXJldHVybiB0cnVlfTt2YXIgTD1mdW5jdGlvbigpe2lmKHR5cGVvZiBkb2N1bWVudCE9PVwidW5kZWZpbmVkXCIpe3ZhciBlPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYoZSE9PW51bGwmJmUuYmx1cil7ZS5ibHVyKCl9fX07dmFyIGg9ZnVuY3Rpb24oKXtpZihtKXtMKCl9aWYodil7dihwKX1hPXRydWV9O3ZhciBUPWZ1bmN0aW9uKCl7cj1mYWxzZTt0PWZhbHNlO249ZmFsc2U7YT10cnVlO18ucmVsZWFzZSgpfTt2YXIgRD1mdW5jdGlvbihlKXt2YXIgdD1yO3ZhciBuPWE7VCgpO2lmKCFuKXtyZXR1cm59Y2FsY0dlc3R1cmVEYXRhKHAsZSk7aWYodCl7aWYoZil7ZihwKX1yZXR1cm59aWYobyl7byhwKX19O3ZhciBQPWNyZWF0ZVBvaW50ZXJFdmVudHMoaS5lbCxnLHksRCx7Y2FwdHVyZTpmYWxzZSxwYXNzaXZlOmR9KTt2YXIgYj1mdW5jdGlvbigpe1QoKTtQLnN0b3AoKTtpZihvKXtvKHApfX07cmV0dXJue2VuYWJsZTpmdW5jdGlvbihlKXtpZihlPT09dm9pZCAwKXtlPXRydWV9aWYoIWUpe2lmKHIpe0QodW5kZWZpbmVkKX1UKCl9UC5lbmFibGUoZSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtfLmRlc3Ryb3koKTtQLmRlc3Ryb3koKX19fTt2YXIgY2FsY0dlc3R1cmVEYXRhPWZ1bmN0aW9uKGUscil7aWYoIXIpe3JldHVybn12YXIgdD1lLmN1cnJlbnRYO3ZhciBhPWUuY3VycmVudFk7dmFyIG49ZS5jdXJyZW50VGltZTt1cGRhdGVEZXRhaWwocixlKTt2YXIgaT1lLmN1cnJlbnRYO3ZhciB1PWUuY3VycmVudFk7dmFyIHM9ZS5jdXJyZW50VGltZT1ub3cocik7dmFyIHY9cy1uO2lmKHY+MCYmdjwxMDApe3ZhciBmPShpLXQpL3Y7dmFyIG89KHUtYSkvdjtlLnZlbG9jaXR5WD1mKi43K2UudmVsb2NpdHlYKi4zO2UudmVsb2NpdHlZPW8qLjcrZS52ZWxvY2l0eVkqLjN9ZS5kZWx0YVg9aS1lLnN0YXJ0WDtlLmRlbHRhWT11LWUuc3RhcnRZO2UuZXZlbnQ9cn07dmFyIHVwZGF0ZURldGFpbD1mdW5jdGlvbihlLHIpe3ZhciB0PTA7dmFyIGE9MDtpZihlKXt2YXIgbj1lLmNoYW5nZWRUb3VjaGVzO2lmKG4mJm4ubGVuZ3RoPjApe3ZhciBpPW5bMF07dD1pLmNsaWVudFg7YT1pLmNsaWVudFl9ZWxzZSBpZihlLnBhZ2VYIT09dW5kZWZpbmVkKXt0PWUucGFnZVg7YT1lLnBhZ2VZfX1yLmN1cnJlbnRYPXQ7ci5jdXJyZW50WT1hfTt2YXIgbm93PWZ1bmN0aW9uKGUpe3JldHVybiBlLnRpbWVTdGFtcHx8RGF0ZS5ub3coKX07ZXhwb3J0e2NyZWF0ZUdlc3R1cmV9OyIsImltcG9ydHtfX2F3YWl0ZXIsX19nZW5lcmF0b3J9ZnJvbVwidHNsaWJcIjtcbi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovaW1wb3J0e01FTlVfQkFDS19CVVRUT05fUFJJT1JJVFl9ZnJvbVwiLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi1hY2U2YTcxYi5qc1wiO2ltcG9ydHtjIGFzIGNvbXBvbmVudE9uUmVhZHl9ZnJvbVwiLi9oZWxwZXJzLWVlZDc5YTJiLmpzXCI7aW1wb3J0e2IgYXMgZ2V0SW9uTW9kZX1mcm9tXCIuL2lvbmljLWdsb2JhbC1hMDQ5YmNiZi5qc1wiO2ltcG9ydHtjIGFzIGNyZWF0ZUFuaW1hdGlvbn1mcm9tXCIuL2FuaW1hdGlvbi1jOWMyYTM1OS5qc1wiO3ZhciBiYXNlQW5pbWF0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiBjcmVhdGVBbmltYXRpb24oKS5kdXJhdGlvbihuPzQwMDozMDApfTt2YXIgbWVudU92ZXJsYXlBbmltYXRpb249ZnVuY3Rpb24obil7dmFyIGU7dmFyIHI7dmFyIHQ9bi53aWR0aCs4O3ZhciBpPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBhPWNyZWF0ZUFuaW1hdGlvbigpO2lmKG4uaXNFbmRTaWRlKXtlPXQrXCJweFwiO3I9XCIwcHhcIn1lbHNle2U9LXQrXCJweFwiO3I9XCIwcHhcIn1pLmFkZEVsZW1lbnQobi5tZW51SW5uZXJFbCkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2UrXCIpXCIsXCJ0cmFuc2xhdGVYKFwiK3IrXCIpXCIpO3ZhciBvPWdldElvbk1vZGUobik7dmFyIHU9bz09PVwiaW9zXCI7dmFyIHM9dT8uMjouMjU7YS5hZGRFbGVtZW50KG4uYmFja2Ryb3BFbCkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSxzKTtyZXR1cm4gYmFzZUFuaW1hdGlvbih1KS5hZGRBbmltYXRpb24oW2ksYV0pfTt2YXIgbWVudVB1c2hBbmltYXRpb249ZnVuY3Rpb24obil7dmFyIGU7dmFyIHI7dmFyIHQ9Z2V0SW9uTW9kZShuKTt2YXIgaT1uLndpZHRoO2lmKG4uaXNFbmRTaWRlKXtlPS1pK1wicHhcIjtyPWkrXCJweFwifWVsc2V7ZT1pK1wicHhcIjtyPS1pK1wicHhcIn12YXIgYT1jcmVhdGVBbmltYXRpb24oKS5hZGRFbGVtZW50KG4ubWVudUlubmVyRWwpLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIityK1wiKVwiLFwidHJhbnNsYXRlWCgwcHgpXCIpO3ZhciBvPWNyZWF0ZUFuaW1hdGlvbigpLmFkZEVsZW1lbnQobi5jb250ZW50RWwpLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWCgwcHgpXCIsXCJ0cmFuc2xhdGVYKFwiK2UrXCIpXCIpO3ZhciB1PWNyZWF0ZUFuaW1hdGlvbigpLmFkZEVsZW1lbnQobi5iYWNrZHJvcEVsKS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLC4zMik7cmV0dXJuIGJhc2VBbmltYXRpb24odD09PVwiaW9zXCIpLmFkZEFuaW1hdGlvbihbYSxvLHVdKX07dmFyIG1lbnVSZXZlYWxBbmltYXRpb249ZnVuY3Rpb24obil7dmFyIGU9Z2V0SW9uTW9kZShuKTt2YXIgcj1uLndpZHRoKihuLmlzRW5kU2lkZT8tMToxKStcInB4XCI7dmFyIHQ9Y3JlYXRlQW5pbWF0aW9uKCkuYWRkRWxlbWVudChuLmNvbnRlbnRFbCkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKDBweClcIixcInRyYW5zbGF0ZVgoXCIrcitcIilcIik7cmV0dXJuIGJhc2VBbmltYXRpb24oZT09PVwiaW9zXCIpLmFkZEFuaW1hdGlvbih0KX07dmFyIGNyZWF0ZU1lbnVDb250cm9sbGVyPWZ1bmN0aW9uKCl7dmFyIG49bmV3IE1hcDt2YXIgZT1bXTt2YXIgcj1mdW5jdGlvbihuKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGMobildO2Nhc2UgMTplPXIuc2VudCgpO2lmKGUpe3JldHVyblsyLGUub3BlbigpXX1yZXR1cm5bMixmYWxzZV19fSkpfSkpfTt2YXIgdD1mdW5jdGlvbihuKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG4hPT11bmRlZmluZWQ/YyhuKTpmKCldO2Nhc2UgMTplPXIuc2VudCgpO2lmKGUhPT11bmRlZmluZWQpe3JldHVyblsyLGUuY2xvc2UoKV19cmV0dXJuWzIsZmFsc2VdfX0pKX0pKX07dmFyIGk9ZnVuY3Rpb24obil7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxjKG4pXTtjYXNlIDE6ZT1yLnNlbnQoKTtpZihlKXtyZXR1cm5bMixlLnRvZ2dsZSgpXX1yZXR1cm5bMixmYWxzZV19fSkpfSkpfTt2YXIgYT1mdW5jdGlvbihuLGUpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsYyhlKV07Y2FzZSAxOnI9dC5zZW50KCk7aWYocil7ci5kaXNhYmxlZD0hbn1yZXR1cm5bMixyXX19KSl9KSl9O3ZhciBvPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxjKGUpXTtjYXNlIDE6cj10LnNlbnQoKTtpZihyKXtyLnN3aXBlR2VzdHVyZT1ufXJldHVyblsyLHJdfX0pKX0pKX07dmFyIHU9ZnVuY3Rpb24obil7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOmlmKCEobiE9bnVsbCkpcmV0dXJuWzMsMl07cmV0dXJuWzQsYyhuKV07Y2FzZSAxOmU9ci5zZW50KCk7cmV0dXJuWzIsZSE9PXVuZGVmaW5lZCYmZS5pc09wZW4oKV07Y2FzZSAyOnJldHVybls0LGYoKV07Y2FzZSAzOmU9ci5zZW50KCk7cmV0dXJuWzIsZSE9PXVuZGVmaW5lZF19fSkpfSkpfTt2YXIgcz1mdW5jdGlvbihuKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGMobildO2Nhc2UgMTplPXIuc2VudCgpO2lmKGUpe3JldHVyblsyLCFlLmRpc2FibGVkXX1yZXR1cm5bMixmYWxzZV19fSkpfSkpfTt2YXIgYz1mdW5jdGlvbihuKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciByLHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsTygpXTtjYXNlIDE6aS5zZW50KCk7aWYobj09PVwic3RhcnRcInx8bj09PVwiZW5kXCIpe3I9RSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2lkZT09PW4mJiFlLmRpc2FibGVkfSkpO2lmKHIpe3JldHVyblsyLHJdfXJldHVyblsyLEUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNpZGU9PT1ufSkpXX1lbHNlIGlmKG4hPW51bGwpe3JldHVyblsyLEUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLm1lbnVJZD09PW59KSldfXQ9RSgoZnVuY3Rpb24obil7cmV0dXJuIW4uZGlzYWJsZWR9KSk7aWYodCl7cmV0dXJuWzIsdF19cmV0dXJuWzIsZS5sZW5ndGg+MD9lWzBdLmVsOnVuZGVmaW5lZF19fSkpfSkpfTt2YXIgZj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKG4pe3N3aXRjaChuLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsTygpXTtjYXNlIDE6bi5zZW50KCk7cmV0dXJuWzIsZygpXX19KSl9KSl9O3ZhciBkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24obil7c3dpdGNoKG4ubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxPKCldO2Nhc2UgMTpuLnNlbnQoKTtyZXR1cm5bMix3KCldfX0pKX0pKX07dmFyIHY9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LE8oKV07Y2FzZSAxOm4uc2VudCgpO3JldHVyblsyLEEoKV19fSkpfSkpfTt2YXIgbD1mdW5jdGlvbihlLHIpe24uc2V0KGUscil9O3ZhciBtPWZ1bmN0aW9uKG4pe2lmKGUuaW5kZXhPZihuKTwwKXtpZighbi5kaXNhYmxlZCl7cChuKX1lLnB1c2gobil9fTt2YXIgXz1mdW5jdGlvbihuKXt2YXIgcj1lLmluZGV4T2Yobik7aWYocj4tMSl7ZS5zcGxpY2UociwxKX19O3ZhciBwPWZ1bmN0aW9uKG4pe3ZhciByPW4uc2lkZTtlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2lkZT09PXImJmUhPT1ufSkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybiBuLmRpc2FibGVkPXRydWV9KSl9O3ZhciBiPWZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOmlmKEEoKSl7cmV0dXJuWzIsZmFsc2VdfWlmKCFlKXJldHVyblszLDNdO3JldHVybls0LGYoKV07Y2FzZSAxOnQ9aS5zZW50KCk7aWYoISh0JiZuLmVsIT09dCkpcmV0dXJuWzMsM107cmV0dXJuWzQsdC5zZXRPcGVuKGZhbHNlLGZhbHNlKV07Y2FzZSAyOmkuc2VudCgpO2kubGFiZWw9MztjYXNlIDM6cmV0dXJuWzIsbi5fc2V0T3BlbihlLHIpXX19KSl9KSl9O3ZhciBoPWZ1bmN0aW9uKGUscil7dmFyIHQ9bi5nZXQoZSk7aWYoIXQpe3Rocm93IG5ldyBFcnJvcihcImFuaW1hdGlvbiBub3QgcmVnaXN0ZXJlZFwiKX12YXIgaT10KHIpO3JldHVybiBpfTt2YXIgZz1mdW5jdGlvbigpe3JldHVybiBFKChmdW5jdGlvbihuKXtyZXR1cm4gbi5faXNPcGVufSkpfTt2YXIgdz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIG4uZWx9KSl9O3ZhciBBPWZ1bmN0aW9uKCl7cmV0dXJuIGUuc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIG4uaXNBbmltYXRpbmd9KSl9O3ZhciBFPWZ1bmN0aW9uKG4pe3ZhciByPWUuZmluZChuKTtpZihyIT09dW5kZWZpbmVkKXtyZXR1cm4gci5lbH1yZXR1cm4gdW5kZWZpbmVkfTt2YXIgTz1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpb24tbWVudVwiKSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3JldHVybiBjb21wb25lbnRPblJlYWR5KG4sZSl9KSl9KSkpfTtsKFwicmV2ZWFsXCIsbWVudVJldmVhbEFuaW1hdGlvbik7bChcInB1c2hcIixtZW51UHVzaEFuaW1hdGlvbik7bChcIm92ZXJsYXlcIixtZW51T3ZlcmxheUFuaW1hdGlvbik7aWYodHlwZW9mIGRvY3VtZW50IT09XCJ1bmRlZmluZWRcIil7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlvbkJhY2tCdXR0b25cIiwoZnVuY3Rpb24obil7dmFyIGU9ZygpO2lmKGUpe24uZGV0YWlsLnJlZ2lzdGVyKE1FTlVfQkFDS19CVVRUT05fUFJJT1JJVFksKGZ1bmN0aW9uKCl7cmV0dXJuIGUuY2xvc2UoKX0pKX19KSl9cmV0dXJue3JlZ2lzdGVyQW5pbWF0aW9uOmwsZ2V0OmMsZ2V0TWVudXM6ZCxnZXRPcGVuOmYsaXNFbmFibGVkOnMsc3dpcGVHZXN0dXJlOm8saXNBbmltYXRpbmc6dixpc09wZW46dSxlbmFibGU6YSx0b2dnbGU6aSxjbG9zZTp0LG9wZW46cixfZ2V0T3BlblN5bmM6ZyxfY3JlYXRlQW5pbWF0aW9uOmgsX3JlZ2lzdGVyOm0sX3VucmVnaXN0ZXI6Xyxfc2V0T3BlbjpiLF9zZXRBY3RpdmVNZW51OnB9fTt2YXIgbWVudUNvbnRyb2xsZXI9Y3JlYXRlTWVudUNvbnRyb2xsZXIoKTtleHBvcnR7bWVudUNvbnRyb2xsZXIgYXMgbX07IiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbnZhciBzYW5pdGl6ZURPTVN0cmluZz1mdW5jdGlvbihlKXt0cnl7aWYoZSBpbnN0YW5jZW9mIElvbmljU2FmZVN0cmluZyl7cmV0dXJuIGUudmFsdWV9aWYoIWlzU2FuaXRpemVyRW5hYmxlZCgpfHx0eXBlb2YgZSE9PVwic3RyaW5nXCJ8fGU9PT1cIlwiKXtyZXR1cm4gZX12YXIgcj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmFwcGVuZENoaWxkKG4pO24uaW5uZXJIVE1MPWU7YmxvY2tlZFRhZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ci5xdWVyeVNlbGVjdG9yQWxsKGUpO2Zvcih2YXIgdD1uLmxlbmd0aC0xO3Q+PTA7dC0tKXt2YXIgaT1uW3RdO2lmKGkucGFyZW50Tm9kZSl7aS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpfWVsc2V7ci5yZW1vdmVDaGlsZChpKX12YXIgYT1nZXRFbGVtZW50Q2hpbGRyZW4oaSk7Zm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKyspe3Nhbml0aXplRWxlbWVudChhW2xdKX19fSkpO3ZhciB0PWdldEVsZW1lbnRDaGlsZHJlbihyKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7c2FuaXRpemVFbGVtZW50KHRbaV0pfXZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZChyKTt2YXIgbD1hLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIik7cmV0dXJuIGwhPT1udWxsP2wuaW5uZXJIVE1MOmEuaW5uZXJIVE1MfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSk7cmV0dXJuXCJcIn19O3ZhciBzYW5pdGl6ZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYoZS5ub2RlVHlwZSYmZS5ub2RlVHlwZSE9PTEpe3JldHVybn1mb3IodmFyIHI9ZS5hdHRyaWJ1dGVzLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbj1lLmF0dHJpYnV0ZXMuaXRlbShyKTt2YXIgdD1uLm5hbWU7aWYoIWFsbG93ZWRBdHRyaWJ1dGVzLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkpe2UucmVtb3ZlQXR0cmlidXRlKHQpO2NvbnRpbnVlfXZhciBpPW4udmFsdWU7aWYoaSE9bnVsbCYmaS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiamF2YXNjcmlwdDpcIikpe2UucmVtb3ZlQXR0cmlidXRlKHQpfX12YXIgYT1nZXRFbGVtZW50Q2hpbGRyZW4oZSk7Zm9yKHZhciByPTA7cjxhLmxlbmd0aDtyKyspe3Nhbml0aXplRWxlbWVudChhW3JdKX19O3ZhciBnZXRFbGVtZW50Q2hpbGRyZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hpbGRyZW4hPW51bGw/ZS5jaGlsZHJlbjplLmNoaWxkTm9kZXN9O3ZhciBpc1Nhbml0aXplckVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3c7dmFyIHI9ZSYmZS5Jb25pYyYmZS5Jb25pYy5jb25maWc7aWYocil7aWYoci5nZXQpe3JldHVybiByLmdldChcInNhbml0aXplckVuYWJsZWRcIix0cnVlKX1lbHNle3JldHVybiByLnNhbml0aXplckVuYWJsZWQ9PT10cnVlfHxyLnNhbml0aXplckVuYWJsZWQ9PT11bmRlZmluZWR9fXJldHVybiB0cnVlfTt2YXIgYWxsb3dlZEF0dHJpYnV0ZXM9W1wiY2xhc3NcIixcImlkXCIsXCJocmVmXCIsXCJzcmNcIixcIm5hbWVcIixcInNsb3RcIl07dmFyIGJsb2NrZWRUYWdzPVtcInNjcmlwdFwiLFwic3R5bGVcIixcImlmcmFtZVwiLFwibWV0YVwiLFwibGlua1wiLFwib2JqZWN0XCIsXCJlbWJlZFwiXTt2YXIgSW9uaWNTYWZlU3RyaW5nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLnZhbHVlPWV9cmV0dXJuIGV9KCk7ZXhwb3J0e0lvbmljU2FmZVN0cmluZyBhcyBJLHNhbml0aXplRE9NU3RyaW5nIGFzIHN9OyIsImltcG9ydHtfX2F3YWl0ZXIsX19nZW5lcmF0b3J9ZnJvbVwidHNsaWJcIjtcbi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovaW1wb3J0e2MgYXMgd3JpdGVUYXNrLEIgYXMgQnVpbGR9ZnJvbVwiLi9pbmRleC0wNmNkMjdiMS5qc1wiO2ltcG9ydHtjIGFzIGNvbXBvbmVudE9uUmVhZHksciBhcyByYWZ9ZnJvbVwiLi9oZWxwZXJzLWVlZDc5YTJiLmpzXCI7dmFyIExJRkVDWUNMRV9XSUxMX0VOVEVSPVwiaW9uVmlld1dpbGxFbnRlclwiO3ZhciBMSUZFQ1lDTEVfRElEX0VOVEVSPVwiaW9uVmlld0RpZEVudGVyXCI7dmFyIExJRkVDWUNMRV9XSUxMX0xFQVZFPVwiaW9uVmlld1dpbGxMZWF2ZVwiO3ZhciBMSUZFQ1lDTEVfRElEX0xFQVZFPVwiaW9uVmlld0RpZExlYXZlXCI7dmFyIExJRkVDWUNMRV9XSUxMX1VOTE9BRD1cImlvblZpZXdXaWxsVW5sb2FkXCI7dmFyIGlvc1RyYW5zaXRpb25BbmltYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gaW1wb3J0KFwiLi9pb3MudHJhbnNpdGlvbi00YTAzMTAzYi5qc1wiKX07dmFyIG1kVHJhbnNpdGlvbkFuaW1hdGlvbj1mdW5jdGlvbigpe3JldHVybiBpbXBvcnQoXCIuL21kLnRyYW5zaXRpb24tODI3NzAyOWMuanNcIil9O3ZhciB0cmFuc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt3cml0ZVRhc2soKGZ1bmN0aW9uKCl7YmVmb3JlVHJhbnNpdGlvbihlKTtydW5UcmFuc2l0aW9uKGUpLnRoZW4oKGZ1bmN0aW9uKGkpe2lmKGkuYW5pbWF0aW9uKXtpLmFuaW1hdGlvbi5kZXN0cm95KCl9YWZ0ZXJUcmFuc2l0aW9uKGUpO24oaSl9KSwoZnVuY3Rpb24obil7YWZ0ZXJUcmFuc2l0aW9uKGUpO2kobil9KSl9KSl9KSl9O3ZhciBiZWZvcmVUcmFuc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZW50ZXJpbmdFbDt2YXIgaT1lLmxlYXZpbmdFbDtzZXRaSW5kZXgobixpLGUuZGlyZWN0aW9uKTtpZihlLnNob3dHb0JhY2spe24uY2xhc3NMaXN0LmFkZChcImNhbi1nby1iYWNrXCIpfWVsc2V7bi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FuLWdvLWJhY2tcIil9c2V0UGFnZUhpZGRlbihuLGZhbHNlKTtuLnN0eWxlLnNldFByb3BlcnR5KFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIik7aWYoaSl7c2V0UGFnZUhpZGRlbihpLGZhbHNlKTtpLnN0eWxlLnNldFByb3BlcnR5KFwicG9pbnRlci1ldmVudHNcIixcIm5vbmVcIil9fTt2YXIgcnVuVHJhbnNpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGk7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsZ2V0QW5pbWF0aW9uQnVpbGRlcihlKV07Y2FzZSAxOm49ci5zZW50KCk7aT1uJiZCdWlsZC5pc0Jyb3dzZXI/YW5pbWF0aW9uKG4sZSk6bm9BbmltYXRpb24oZSk7cmV0dXJuWzIsaV19fSkpfSkpfTt2YXIgYWZ0ZXJUcmFuc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciBuPWUuZW50ZXJpbmdFbDt2YXIgaT1lLmxlYXZpbmdFbDtuLmNsYXNzTGlzdC5yZW1vdmUoXCJpb24tcGFnZS1pbnZpc2libGVcIik7bi5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInBvaW50ZXItZXZlbnRzXCIpO2lmKGkhPT11bmRlZmluZWQpe2kuY2xhc3NMaXN0LnJlbW92ZShcImlvbi1wYWdlLWludmlzaWJsZVwiKTtpLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwicG9pbnRlci1ldmVudHNcIil9fTt2YXIgZ2V0QW5pbWF0aW9uQnVpbGRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBuLGk7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYoIWUubGVhdmluZ0VsfHwhZS5hbmltYXRlZHx8ZS5kdXJhdGlvbj09PTApe3JldHVyblsyLHVuZGVmaW5lZF19aWYoZS5hbmltYXRpb25CdWlsZGVyKXtyZXR1cm5bMixlLmFuaW1hdGlvbkJ1aWxkZXJdfWlmKCEoZS5tb2RlPT09XCJpb3NcIikpcmV0dXJuWzMsMl07cmV0dXJuWzQsaW9zVHJhbnNpdGlvbkFuaW1hdGlvbigpXTtjYXNlIDE6aT1yLnNlbnQoKS5pb3NUcmFuc2l0aW9uQW5pbWF0aW9uO3JldHVyblszLDRdO2Nhc2UgMjpyZXR1cm5bNCxtZFRyYW5zaXRpb25BbmltYXRpb24oKV07Y2FzZSAzOmk9ci5zZW50KCkubWRUcmFuc2l0aW9uQW5pbWF0aW9uO3IubGFiZWw9NDtjYXNlIDQ6bj1pO3JldHVyblsyLG5dfX0pKX0pKX07dmFyIGFuaW1hdGlvbj1mdW5jdGlvbihlLG4pe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGkscjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx3YWl0Rm9yUmVhZHkobix0cnVlKV07Y2FzZSAxOnQuc2VudCgpO2k9ZShuLmJhc2VFbCxuKTtmaXJlV2lsbEV2ZW50cyhuLmVudGVyaW5nRWwsbi5sZWF2aW5nRWwpO3JldHVybls0LHBsYXlUcmFuc2l0aW9uKGksbildO2Nhc2UgMjpyPXQuc2VudCgpO2lmKG4ucHJvZ3Jlc3NDYWxsYmFjayl7bi5wcm9ncmVzc0NhbGxiYWNrKHVuZGVmaW5lZCl9aWYocil7ZmlyZURpZEV2ZW50cyhuLmVudGVyaW5nRWwsbi5sZWF2aW5nRWwpfXJldHVyblsyLHtoYXNDb21wbGV0ZWQ6cixhbmltYXRpb246aX1dfX0pKX0pKX07dmFyIG5vQW5pbWF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDpuPWUuZW50ZXJpbmdFbDtpPWUubGVhdmluZ0VsO3JldHVybls0LHdhaXRGb3JSZWFkeShlLGZhbHNlKV07Y2FzZSAxOnIuc2VudCgpO2ZpcmVXaWxsRXZlbnRzKG4saSk7ZmlyZURpZEV2ZW50cyhuLGkpO3JldHVyblsyLHtoYXNDb21wbGV0ZWQ6dHJ1ZX1dfX0pKX0pKX07dmFyIHdhaXRGb3JSZWFkeT1mdW5jdGlvbihlLG4pe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGkscjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppPWUuZGVlcFdhaXQhPT11bmRlZmluZWQ/ZS5kZWVwV2FpdDpuO3I9aT9bZGVlcFJlYWR5KGUuZW50ZXJpbmdFbCksZGVlcFJlYWR5KGUubGVhdmluZ0VsKV06W3NoYWxsb3dSZWFkeShlLmVudGVyaW5nRWwpLHNoYWxsb3dSZWFkeShlLmxlYXZpbmdFbCldO3JldHVybls0LFByb21pc2UuYWxsKHIpXTtjYXNlIDE6dC5zZW50KCk7cmV0dXJuWzQsbm90aWZ5Vmlld1JlYWR5KGUudmlld0lzUmVhZHksZS5lbnRlcmluZ0VsKV07Y2FzZSAyOnQuc2VudCgpO3JldHVyblsyXX19KSl9KSl9O3ZhciBub3RpZnlWaWV3UmVhZHk9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gX19hd2FpdGVyKHZvaWQgMCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOmlmKCFlKXJldHVyblszLDJdO3JldHVybls0LGUobildO2Nhc2UgMTppLnNlbnQoKTtpLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KSl9KSl9O3ZhciBwbGF5VHJhbnNpdGlvbj1mdW5jdGlvbihlLG4pe3ZhciBpPW4ucHJvZ3Jlc3NDYWxsYmFjazt2YXIgcj1uZXcgUHJvbWlzZSgoZnVuY3Rpb24obil7ZS5vbkZpbmlzaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4oZT09PTEpfSkpfSkpO2lmKGkpe2UucHJvZ3Jlc3NTdGFydCh0cnVlKTtpKGUpfWVsc2V7ZS5wbGF5KCl9cmV0dXJuIHJ9O3ZhciBmaXJlV2lsbEV2ZW50cz1mdW5jdGlvbihlLG4pe2xpZmVjeWNsZShuLExJRkVDWUNMRV9XSUxMX0xFQVZFKTtsaWZlY3ljbGUoZSxMSUZFQ1lDTEVfV0lMTF9FTlRFUil9O3ZhciBmaXJlRGlkRXZlbnRzPWZ1bmN0aW9uKGUsbil7bGlmZWN5Y2xlKGUsTElGRUNZQ0xFX0RJRF9FTlRFUik7bGlmZWN5Y2xlKG4sTElGRUNZQ0xFX0RJRF9MRUFWRSl9O3ZhciBsaWZlY3ljbGU9ZnVuY3Rpb24oZSxuKXtpZihlKXt2YXIgaT1uZXcgQ3VzdG9tRXZlbnQobix7YnViYmxlczpmYWxzZSxjYW5jZWxhYmxlOmZhbHNlfSk7ZS5kaXNwYXRjaEV2ZW50KGkpfX07dmFyIHNoYWxsb3dSZWFkeT1mdW5jdGlvbihlKXtpZihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4pe3JldHVybiBjb21wb25lbnRPblJlYWR5KGUsbil9KSl9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTt2YXIgZGVlcFJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4saSxyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOm49ZTtpZighbilyZXR1cm5bMyw2XTtpZighKG4uY29tcG9uZW50T25SZWFkeSE9bnVsbCkpcmV0dXJuWzMsMl07cmV0dXJuWzQsbi5jb21wb25lbnRPblJlYWR5KCldO2Nhc2UgMTppPXQuc2VudCgpO2lmKGkhPW51bGwpe3JldHVyblsyXX1yZXR1cm5bMyw0XTtjYXNlIDI6aWYoIShuLl9fcmVnaXN0ZXJIb3N0IT1udWxsKSlyZXR1cm5bMyw0XTtyPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gcmFmKGUpfSkpO3JldHVybls0LHJdO2Nhc2UgMzp0LnNlbnQoKTtyZXR1cm5bMl07Y2FzZSA0OnJldHVybls0LFByb21pc2UuYWxsKEFycmF5LmZyb20obi5jaGlsZHJlbikubWFwKGRlZXBSZWFkeSkpXTtjYXNlIDU6dC5zZW50KCk7dC5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bMl19fSkpfSkpfTt2YXIgc2V0UGFnZUhpZGRlbj1mdW5jdGlvbihlLG4pe2lmKG4pe2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIik7ZS5jbGFzc0xpc3QuYWRkKFwiaW9uLXBhZ2UtaGlkZGVuXCIpfWVsc2V7ZS5oaWRkZW49ZmFsc2U7ZS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKTtlLmNsYXNzTGlzdC5yZW1vdmUoXCJpb24tcGFnZS1oaWRkZW5cIil9fTt2YXIgc2V0WkluZGV4PWZ1bmN0aW9uKGUsbixpKXtpZihlIT09dW5kZWZpbmVkKXtlLnN0eWxlLnpJbmRleD1pPT09XCJiYWNrXCI/XCI5OVwiOlwiMTAxXCJ9aWYobiE9PXVuZGVmaW5lZCl7bi5zdHlsZS56SW5kZXg9XCIxMDBcIn19O3ZhciBnZXRJb25QYWdlRWxlbWVudD1mdW5jdGlvbihlKXtpZihlLmNsYXNzTGlzdC5jb250YWlucyhcImlvbi1wYWdlXCIpKXtyZXR1cm4gZX12YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzXCIpO2lmKG4pe3JldHVybiBufXJldHVybiBlfTtleHBvcnR7TElGRUNZQ0xFX1dJTExfRU5URVIgYXMgTCxMSUZFQ1lDTEVfRElEX0VOVEVSIGFzIGEsTElGRUNZQ0xFX1dJTExfTEVBVkUgYXMgYixMSUZFQ1lDTEVfRElEX0xFQVZFIGFzIGMsTElGRUNZQ0xFX1dJTExfVU5MT0FEIGFzIGQsZGVlcFJlYWR5IGFzIGUsZ2V0SW9uUGFnZUVsZW1lbnQgYXMgZyxsaWZlY3ljbGUgYXMgbCxzZXRQYWdlSGlkZGVuIGFzIHMsdHJhbnNpdGlvbiBhcyB0fTsiLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuZXhwb3J0e2MgYXMgY3JlYXRlQW5pbWF0aW9ufWZyb21cIi4vYW5pbWF0aW9uLWM5YzJhMzU5LmpzXCI7ZXhwb3J0e2lvc1RyYW5zaXRpb25BbmltYXRpb259ZnJvbVwiLi9pb3MudHJhbnNpdGlvbi00YTAzMTAzYi5qc1wiO2V4cG9ydHttZFRyYW5zaXRpb25BbmltYXRpb259ZnJvbVwiLi9tZC50cmFuc2l0aW9uLTgyNzcwMjljLmpzXCI7ZXhwb3J0e2cgYXMgZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb259ZnJvbVwiLi9jdWJpYy1iZXppZXItMTU0YTUzYTUuanNcIjtleHBvcnR7Y3JlYXRlR2VzdHVyZX1mcm9tXCIuL2luZGV4LTQxYmY0MWYyLmpzXCI7ZXhwb3J0e2cgYXMgZ2V0UGxhdGZvcm1zLGkgYXMgaW5pdGlhbGl6ZSxhIGFzIGlzUGxhdGZvcm19ZnJvbVwiLi9pb25pYy1nbG9iYWwtYTA0OWJjYmYuanNcIjtpbXBvcnR7YSBhcyBhZGRFdmVudExpc3RlbmVyLHIgYXMgcmFmLGIgYXMgcmVtb3ZlRXZlbnRMaXN0ZW5lcn1mcm9tXCIuL2hlbHBlcnMtZWVkNzlhMmIuanNcIjtleHBvcnR7YyBhcyBjb21wb25lbnRPblJlYWR5fWZyb21cIi4vaGVscGVycy1lZWQ3OWEyYi5qc1wiO2V4cG9ydHtJIGFzIElvbmljU2FmZVN0cmluZ31mcm9tXCIuL2luZGV4LWM4NDFjOTMzLmpzXCI7ZXhwb3J0e2EgYXMgTElGRUNZQ0xFX0RJRF9FTlRFUixjIGFzIExJRkVDWUNMRV9ESURfTEVBVkUsTCBhcyBMSUZFQ1lDTEVfV0lMTF9FTlRFUixiIGFzIExJRkVDWUNMRV9XSUxMX0xFQVZFLGQgYXMgTElGRUNZQ0xFX1dJTExfVU5MT0FEfWZyb21cIi4vaW5kZXgtYzhlZjU1YjUuanNcIjtleHBvcnR7bSBhcyBtZW51Q29udHJvbGxlcn1mcm9tXCIuL2luZGV4LTQ0NjRkMmRjLmpzXCI7ZXhwb3J0e2IgYXMgYWN0aW9uU2hlZXRDb250cm9sbGVyLGEgYXMgYWxlcnRDb250cm9sbGVyLGwgYXMgbG9hZGluZ0NvbnRyb2xsZXIsbSBhcyBtb2RhbENvbnRyb2xsZXIscCBhcyBwaWNrZXJDb250cm9sbGVyLGMgYXMgcG9wb3ZlckNvbnRyb2xsZXIsdCBhcyB0b2FzdENvbnRyb2xsZXJ9ZnJvbVwiLi9vdmVybGF5cy1mMmU1NWUzYS5qc1wiO2ltcG9ydFwiLi9nZXN0dXJlLWNvbnRyb2xsZXItNjhjMDIzYTQuanNcIjtpbXBvcnRcIi4vaW5kZXgtMDZjZDI3YjEuanNcIjtpbXBvcnRcIi4vaGFyZHdhcmUtYmFjay1idXR0b24tYWNlNmE3MWIuanNcIjtpbXBvcnRcIi4vaGFwdGljLTlhOWFhN2VjLmpzXCI7aW1wb3J0XCIuL3RoZW1lLWEyNGZmMWFkLmpzXCI7aW1wb3J0XCIuL2ZyYW1ld29yay1kZWxlZ2F0ZS1hOTIyMDE4Yy5qc1wiO3ZhciBzZXR1cENvbmZpZz1mdW5jdGlvbihlKXt2YXIgaT13aW5kb3c7dmFyIG89aS5Jb25pYztpZihvJiZvLmNvbmZpZyYmby5jb25maWcuY29uc3RydWN0b3IubmFtZSE9PVwiT2JqZWN0XCIpe3JldHVybn1pLklvbmljPWkuSW9uaWN8fHt9O2kuSW9uaWMuY29uZmlnPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxpLklvbmljLmNvbmZpZyksZSk7cmV0dXJuIGkuSW9uaWMuY29uZmlnfTt2YXIgZ2V0TW9kZT1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdzt2YXIgaT1lJiZlLklvbmljJiZlLklvbmljLmNvbmZpZztpZihpKXtpZihpLm1vZGUpe3JldHVybiBpLm1vZGV9ZWxzZXtyZXR1cm4gaS5nZXQoXCJtb2RlXCIpfX1yZXR1cm5cIm1kXCJ9O3ZhciBzZXR1cFN3aXBlckluSW9uaWM9ZnVuY3Rpb24oZSxpKXtpZihpPT09dm9pZCAwKXtpPXRydWV9aWYodHlwZW9mIHdpbmRvdz09PVwidW5kZWZpbmVkXCIpe3JldHVybn12YXIgbz1lLmVsO3ZhciB0PW8uY2xvc2VzdChcIi5pb24tcGFnZVwiKTtpZighdCl7aWYoaSl7dmFyIHI9by5nZXRSb290Tm9kZSgpO2lmKHIudGFnTmFtZT09PVwiRElWXCIpe3ZhciBhPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihpKXt2YXIgbz1pWzBdO3ZhciB0PW8ub2xkVmFsdWU9PT1udWxsO3ZhciBzPXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaW9uLXBhZ2VcIik7aWYodCYmcyl7YS5kaXNjb25uZWN0KCk7c2V0dXBTd2lwZXJJbklvbmljKGUsZmFsc2UpfX0pKTthLm9ic2VydmUocix7YXR0cmlidXRlRmlsdGVyOltcImNsYXNzXCJdLGF0dHJpYnV0ZU9sZFZhbHVlOnRydWV9KX19cmV0dXJufXZhciBzPW8uY2xvc2VzdChcImlvbi1tb2RhbCwgaW9uLXBvcG92ZXJcIik7aWYocyl7dmFyIG49cy50YWdOYW1lPT09XCJJT04tTU9EQUxcIj9cImlvbk1vZGFsV2lsbFByZXNlbnRcIjpcImlvblBvcG92ZXJXaWxsUHJlc2VudFwiO3ZhciBsPWZ1bmN0aW9uKCl7cmFmKChmdW5jdGlvbigpe28uc3dpcGVyLnVwZGF0ZSgpO3JlbW92ZUV2ZW50TGlzdGVuZXIocyxuLGwpfSkpfTthZGRFdmVudExpc3RlbmVyKHMsbixsKX1lbHNle3ZhciBjPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihlKXt2YXIgaTt2YXIgcj1lWzBdO3ZhciBhPShpPXIub2xkVmFsdWUpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5pbmNsdWRlcyhcImlvbi1wYWdlLWludmlzaWJsZVwiKTt2YXIgcz10LmNsYXNzTGlzdC5jb250YWlucyhcImlvbi1wYWdlLWludmlzaWJsZVwiKTtpZighcyYmcyE9PWEpe28uc3dpcGVyLnVwZGF0ZSgpfX0pKTtjLm9ic2VydmUodCx7YXR0cmlidXRlRmlsdGVyOltcImNsYXNzXCJdLGF0dHJpYnV0ZU9sZFZhbHVlOnRydWV9KX12YXIgZD1mdW5jdGlvbigpe28uc3dpcGVyLnVwZGF0ZSgpO3JlbW92ZUV2ZW50TGlzdGVuZXIod2luZG93LFwiYXBwbG9hZFwiLGQpfTthZGRFdmVudExpc3RlbmVyKHdpbmRvdyxcImFwcGxvYWRcIixkKX07dmFyIElvbmljU3dpcGVyPXtuYW1lOlwiaW9uaWNcIixvbjp7YWZ0ZXJJbml0OmZ1bmN0aW9uKGUpe2NvbnNvbGUud2FybihcIltEZXByZWNhdGlvbiBXYXJuaW5nXTogVGhlIElvbmljU3dpcGVyIG1vZHVsZSBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBJb25TbGlkZXMgbW9kdWxlLiBUaGlzIGNoYW5nZSB3YXMgbWFkZSB0byBiZXR0ZXIgc3VwcG9ydCB0aGUgU3dpcGVyIDcgcmVsZWFzZS4gVGhlIElvbmljU3dpcGVyIG1vZHVsZSB3aWxsIGJlIHJlbW92ZWQgaW4gSW9uaWMgNy4wLiBTZWUgaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9hcGkvc2xpZGVzI21pZ3JhdGlvbiBmb3IgcmV2aXNlZCBtaWdyYXRpb24gc3RlcHMuXCIpO3NldHVwU3dpcGVySW5Jb25pYyhlKX19fTt2YXIgSW9uaWNTbGlkZXM9ZnVuY3Rpb24oZSl7dmFyIGk9ZS5zd2lwZXIsbz1lLmV4dGVuZFBhcmFtczt2YXIgdD17ZWZmZWN0OnVuZGVmaW5lZCxkaXJlY3Rpb246XCJob3Jpem9udGFsXCIsaW5pdGlhbFNsaWRlOjAsbG9vcDpmYWxzZSxwYXJhbGxheDpmYWxzZSxzbGlkZXNQZXJWaWV3OjEsc3BhY2VCZXR3ZWVuOjAsc3BlZWQ6MzAwLHNsaWRlc1BlckNvbHVtbjoxLHNsaWRlc1BlckNvbHVtbkZpbGw6XCJjb2x1bW5cIixzbGlkZXNQZXJHcm91cDoxLGNlbnRlcmVkU2xpZGVzOmZhbHNlLHNsaWRlc09mZnNldEJlZm9yZTowLHNsaWRlc09mZnNldEFmdGVyOjAsdG91Y2hFdmVudHNUYXJnZXQ6XCJjb250YWluZXJcIixhdXRvcGxheTpmYWxzZSxmcmVlTW9kZTpmYWxzZSxmcmVlTW9kZU1vbWVudHVtOnRydWUsZnJlZU1vZGVNb21lbnR1bVJhdGlvOjEsZnJlZU1vZGVNb21lbnR1bUJvdW5jZTp0cnVlLGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzoxLGZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvOjEsZnJlZU1vZGVTdGlja3k6ZmFsc2UsZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6LjAyLGF1dG9IZWlnaHQ6ZmFsc2Usc2V0V3JhcHBlclNpemU6ZmFsc2Usem9vbTp7bWF4UmF0aW86MyxtaW5SYXRpbzoxLHRvZ2dsZTpmYWxzZX0sdG91Y2hSYXRpbzoxLHRvdWNoQW5nbGU6NDUsc2ltdWxhdGVUb3VjaDp0cnVlLHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDpmYWxzZSxzaG9ydFN3aXBlczp0cnVlLGxvbmdTd2lwZXM6dHJ1ZSxsb25nU3dpcGVzUmF0aW86LjUsbG9uZ1N3aXBlc01zOjMwMCxmb2xsb3dGaW5nZXI6dHJ1ZSx0aHJlc2hvbGQ6MCx0b3VjaE1vdmVTdG9wUHJvcGFnYXRpb246dHJ1ZSx0b3VjaFJlbGVhc2VPbkVkZ2VzOmZhbHNlLGlPU0VkZ2VTd2lwZURldGVjdGlvbjpmYWxzZSxpT1NFZGdlU3dpcGVUaHJlc2hvbGQ6MjAscmVzaXN0YW5jZTp0cnVlLHJlc2lzdGFuY2VSYXRpbzouODUsd2F0Y2hTbGlkZXNQcm9ncmVzczpmYWxzZSx3YXRjaFNsaWRlc1Zpc2liaWxpdHk6ZmFsc2UscHJldmVudENsaWNrczp0cnVlLHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjp0cnVlLHNsaWRlVG9DbGlja2VkU2xpZGU6ZmFsc2UsbG9vcEFkZGl0aW9uYWxTbGlkZXM6MCxub1N3aXBpbmc6dHJ1ZSxydW5DYWxsYmFja3NPbkluaXQ6dHJ1ZSxjb3ZlcmZsb3dFZmZlY3Q6e3JvdGF0ZTo1MCxzdHJldGNoOjAsZGVwdGg6MTAwLG1vZGlmaWVyOjEsc2xpZGVTaGFkb3dzOnRydWV9LGZsaXBFZmZlY3Q6e3NsaWRlU2hhZG93czp0cnVlLGxpbWl0Um90YXRpb246dHJ1ZX0sY3ViZUVmZmVjdDp7c2xpZGVTaGFkb3dzOnRydWUsc2hhZG93OnRydWUsc2hhZG93T2Zmc2V0OjIwLHNoYWRvd1NjYWxlOi45NH0sZmFkZUVmZmVjdDp7Y3Jvc3NGYWRlOmZhbHNlfSxhMTF5OntwcmV2U2xpZGVNZXNzYWdlOlwiUHJldmlvdXMgc2xpZGVcIixuZXh0U2xpZGVNZXNzYWdlOlwiTmV4dCBzbGlkZVwiLGZpcnN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGVcIixsYXN0U2xpZGVNZXNzYWdlOlwiVGhpcyBpcyB0aGUgbGFzdCBzbGlkZVwifX07aWYoaS5wYWdpbmF0aW9uKXt0LnBhZ2luYXRpb249e3R5cGU6XCJidWxsZXRzXCIsY2xpY2thYmxlOmZhbHNlLGhpZGVPbkNsaWNrOmZhbHNlfX1pZihpLnNjcm9sbGJhcil7dC5zY3JvbGxiYXI9e2hpZGU6dHJ1ZX19byh0KX07ZXhwb3J0e0lvbmljU2xpZGVzLElvbmljU3dpcGVyLGdldE1vZGUsc2V0dXBDb25maWd9OyIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnR7cyBhcyBzZXRQbGF0Zm9ybUhlbHBlcnMsZyBhcyBnZXRNb2RlLGEgYXMgc2V0TW9kZX1mcm9tXCIuL2luZGV4LTA2Y2QyN2IxLmpzXCI7dmFyIENvbmZpZz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLm09bmV3IE1hcH10LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0KXt0aGlzLm09bmV3IE1hcChPYmplY3QuZW50cmllcyh0KSl9O3QucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMubS5nZXQodCk7cmV0dXJuIG4hPT11bmRlZmluZWQ/bjplfTt0LnByb3RvdHlwZS5nZXRCb29sZWFuPWZ1bmN0aW9uKHQsZSl7aWYoZT09PXZvaWQgMCl7ZT1mYWxzZX12YXIgbj10aGlzLm0uZ2V0KHQpO2lmKG49PT11bmRlZmluZWQpe3JldHVybiBlfWlmKHR5cGVvZiBuPT09XCJzdHJpbmdcIil7cmV0dXJuIG49PT1cInRydWVcIn1yZXR1cm4hIW59O3QucHJvdG90eXBlLmdldE51bWJlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXBhcnNlRmxvYXQodGhpcy5tLmdldCh0KSk7cmV0dXJuIGlzTmFOKG4pP2UhPT11bmRlZmluZWQ/ZTpOYU46bn07dC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5tLnNldCh0LGUpfTtyZXR1cm4gdH0oKTt2YXIgY29uZmlnPW5ldyBDb25maWc7dmFyIGNvbmZpZ0Zyb21TZXNzaW9uPWZ1bmN0aW9uKHQpe3RyeXt2YXIgZT10LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oSU9OSUNfU0VTU0lPTl9LRVkpO3JldHVybiBlIT09bnVsbD9KU09OLnBhcnNlKGUpOnt9fWNhdGNoKHQpe3JldHVybnt9fX07dmFyIHNhdmVDb25maWc9ZnVuY3Rpb24odCxlKXt0cnl7dC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKElPTklDX1NFU1NJT05fS0VZLEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaCh0KXtyZXR1cm59fTt2YXIgY29uZmlnRnJvbVVSTD1mdW5jdGlvbih0KXt2YXIgZT17fTt0LmxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdChcIiZcIikubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdChcIj1cIil9KSkubWFwKChmdW5jdGlvbih0KXt2YXIgZT10WzBdLG49dFsxXTtyZXR1cm5bZGVjb2RlVVJJQ29tcG9uZW50KGUpLGRlY29kZVVSSUNvbXBvbmVudChuKV19KSkuZmlsdGVyKChmdW5jdGlvbih0KXt2YXIgZT10WzBdO3JldHVybiBzdGFydHNXaXRoKGUsSU9OSUNfUFJFRklYKX0pKS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdO3JldHVybltlLnNsaWNlKElPTklDX1BSRUZJWC5sZW5ndGgpLG5dfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXRbMF0saT10WzFdO2Vbbl09aX0pKTtyZXR1cm4gZX07dmFyIHN0YXJ0c1dpdGg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdWJzdHIoMCxlLmxlbmd0aCk9PT1lfTt2YXIgSU9OSUNfUFJFRklYPVwiaW9uaWM6XCI7dmFyIElPTklDX1NFU1NJT05fS0VZPVwiaW9uaWMtcGVyc2lzdC1jb25maWdcIjt2YXIgZ2V0UGxhdGZvcm1zPWZ1bmN0aW9uKHQpe3JldHVybiBzZXR1cFBsYXRmb3Jtcyh0KX07dmFyIGlzUGxhdGZvcm09ZnVuY3Rpb24odCxlKXtpZih0eXBlb2YgdD09PVwic3RyaW5nXCIpe2U9dDt0PXVuZGVmaW5lZH1yZXR1cm4gZ2V0UGxhdGZvcm1zKHQpLmluY2x1ZGVzKGUpfTt2YXIgc2V0dXBQbGF0Zm9ybXM9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCl7dD13aW5kb3d9aWYodHlwZW9mIHQ9PT1cInVuZGVmaW5lZFwiKXtyZXR1cm5bXX10LklvbmljPXQuSW9uaWN8fHt9O3ZhciBlPXQuSW9uaWMucGxhdGZvcm1zO2lmKGU9PW51bGwpe2U9dC5Jb25pYy5wbGF0Zm9ybXM9ZGV0ZWN0UGxhdGZvcm1zKHQpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwbHQtXCIrZSl9KSl9cmV0dXJuIGV9O3ZhciBkZXRlY3RQbGF0Zm9ybXM9ZnVuY3Rpb24odCl7dmFyIGU9Y29uZmlnLmdldChcInBsYXRmb3JtXCIpO3JldHVybiBPYmplY3Qua2V5cyhQTEFURk9STVNfTUFQKS5maWx0ZXIoKGZ1bmN0aW9uKG4pe3ZhciBpPWUmJmVbbl07cmV0dXJuIHR5cGVvZiBpPT09XCJmdW5jdGlvblwiP2kodCk6UExBVEZPUk1TX01BUFtuXSh0KX0pKX07dmFyIGlzTW9iaWxlV2ViPWZ1bmN0aW9uKHQpe3JldHVybiBpc01vYmlsZSh0KSYmIWlzSHlicmlkKHQpfTt2YXIgaXNJcGFkPWZ1bmN0aW9uKHQpe2lmKHRlc3RVc2VyQWdlbnQodCwvaVBhZC9pKSl7cmV0dXJuIHRydWV9aWYodGVzdFVzZXJBZ2VudCh0LC9NYWNpbnRvc2gvaSkmJmlzTW9iaWxlKHQpKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9O3ZhciBpc0lwaG9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdGVzdFVzZXJBZ2VudCh0LC9pUGhvbmUvaSl9O3ZhciBpc0lPUz1mdW5jdGlvbih0KXtyZXR1cm4gdGVzdFVzZXJBZ2VudCh0LC9pUGhvbmV8aVBvZC9pKXx8aXNJcGFkKHQpfTt2YXIgaXNBbmRyb2lkPWZ1bmN0aW9uKHQpe3JldHVybiB0ZXN0VXNlckFnZW50KHQsL2FuZHJvaWR8c2luay9pKX07dmFyIGlzQW5kcm9pZFRhYmxldD1mdW5jdGlvbih0KXtyZXR1cm4gaXNBbmRyb2lkKHQpJiYhdGVzdFVzZXJBZ2VudCh0LC9tb2JpbGUvaSl9O3ZhciBpc1BoYWJsZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbm5lcldpZHRoO3ZhciBuPXQuaW5uZXJIZWlnaHQ7dmFyIGk9TWF0aC5taW4oZSxuKTt2YXIgcj1NYXRoLm1heChlLG4pO3JldHVybiBpPjM5MCYmaTw1MjAmJihyPjYyMCYmcjw4MDApfTt2YXIgaXNUYWJsZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5pbm5lcldpZHRoO3ZhciBuPXQuaW5uZXJIZWlnaHQ7dmFyIGk9TWF0aC5taW4oZSxuKTt2YXIgcj1NYXRoLm1heChlLG4pO3JldHVybiBpc0lwYWQodCl8fGlzQW5kcm9pZFRhYmxldCh0KXx8aT40NjAmJmk8ODIwJiYocj43ODAmJnI8MTQwMCl9O3ZhciBpc01vYmlsZT1mdW5jdGlvbih0KXtyZXR1cm4gbWF0Y2hNZWRpYSh0LFwiKGFueS1wb2ludGVyOmNvYXJzZSlcIil9O3ZhciBpc0Rlc2t0b3A9ZnVuY3Rpb24odCl7cmV0dXJuIWlzTW9iaWxlKHQpfTt2YXIgaXNIeWJyaWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGlzQ29yZG92YSh0KXx8aXNDYXBhY2l0b3JOYXRpdmUodCl9O3ZhciBpc0NvcmRvdmE9ZnVuY3Rpb24odCl7cmV0dXJuISEodFtcImNvcmRvdmFcIl18fHRbXCJwaG9uZWdhcFwiXXx8dFtcIlBob25lR2FwXCJdKX07dmFyIGlzQ2FwYWNpdG9yTmF0aXZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRbXCJDYXBhY2l0b3JcIl07cmV0dXJuISEoZSYmZS5pc05hdGl2ZSl9O3ZhciBpc0VsZWN0cm9uPWZ1bmN0aW9uKHQpe3JldHVybiB0ZXN0VXNlckFnZW50KHQsL2VsZWN0cm9uL2kpfTt2YXIgaXNQV0E9ZnVuY3Rpb24odCl7cmV0dXJuISEodC5tYXRjaE1lZGlhJiZ0Lm1hdGNoTWVkaWEoXCIoZGlzcGxheS1tb2RlOiBzdGFuZGFsb25lKVwiKS5tYXRjaGVzfHx0Lm5hdmlnYXRvci5zdGFuZGFsb25lKX07dmFyIHRlc3RVc2VyQWdlbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50ZXN0KHQubmF2aWdhdG9yLnVzZXJBZ2VudCl9O3ZhciBtYXRjaE1lZGlhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWF0Y2hNZWRpYSYmdC5tYXRjaE1lZGlhKGUpLm1hdGNoZXN9O3ZhciBQTEFURk9STVNfTUFQPXtpcGFkOmlzSXBhZCxpcGhvbmU6aXNJcGhvbmUsaW9zOmlzSU9TLGFuZHJvaWQ6aXNBbmRyb2lkLHBoYWJsZXQ6aXNQaGFibGV0LHRhYmxldDppc1RhYmxldCxjb3Jkb3ZhOmlzQ29yZG92YSxjYXBhY2l0b3I6aXNDYXBhY2l0b3JOYXRpdmUsZWxlY3Ryb246aXNFbGVjdHJvbixwd2E6aXNQV0EsbW9iaWxlOmlzTW9iaWxlLG1vYmlsZXdlYjppc01vYmlsZVdlYixkZXNrdG9wOmlzRGVza3RvcCxoeWJyaWQ6aXNIeWJyaWR9O3ZhciBkZWZhdWx0TW9kZTt2YXIgZ2V0SW9uTW9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmZ2V0TW9kZSh0KXx8ZGVmYXVsdE1vZGV9O3ZhciBpbml0aWFsaXplPWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDApe3Q9e319aWYodHlwZW9mIHdpbmRvdz09PVwidW5kZWZpbmVkXCIpe3JldHVybn12YXIgZT13aW5kb3cuZG9jdW1lbnQ7dmFyIG49d2luZG93O3ZhciBpPW4uSW9uaWM9bi5Jb25pY3x8e307dmFyIHI9e307aWYodC5fYWVsKXtyLmFlbD10Ll9hZWx9aWYodC5fcmVsKXtyLnJlbD10Ll9yZWx9aWYodC5fY2Upe3IuY2U9dC5fY2V9c2V0UGxhdGZvcm1IZWxwZXJzKHIpO3ZhciBvPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxjb25maWdGcm9tU2Vzc2lvbihuKSkse3BlcnNpc3RDb25maWc6ZmFsc2V9KSxpLmNvbmZpZyksY29uZmlnRnJvbVVSTChuKSksdCk7Y29uZmlnLnJlc2V0KG8pO2lmKGNvbmZpZy5nZXRCb29sZWFuKFwicGVyc2lzdENvbmZpZ1wiKSl7c2F2ZUNvbmZpZyhuLG8pfXNldHVwUGxhdGZvcm1zKG4pO2kuY29uZmlnPWNvbmZpZztpLm1vZGU9ZGVmYXVsdE1vZGU9Y29uZmlnLmdldChcIm1vZGVcIixlLmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJtb2RlXCIpfHwoaXNQbGF0Zm9ybShuLFwiaW9zXCIpP1wiaW9zXCI6XCJtZFwiKSk7Y29uZmlnLnNldChcIm1vZGVcIixkZWZhdWx0TW9kZSk7ZS5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwibW9kZVwiLGRlZmF1bHRNb2RlKTtlLmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKGRlZmF1bHRNb2RlKTtpZihjb25maWcuZ2V0Qm9vbGVhbihcIl90ZXN0aW5nXCIpKXtjb25maWcuc2V0KFwiYW5pbWF0ZWRcIixmYWxzZSl9dmFyIGE9ZnVuY3Rpb24odCl7cmV0dXJuIHQudGFnTmFtZSYmdC50YWdOYW1lLnN0YXJ0c1dpdGgoXCJJT04tXCIpfTt2YXIgcz1mdW5jdGlvbih0KXtyZXR1cm5bXCJpb3NcIixcIm1kXCJdLmluY2x1ZGVzKHQpfTtzZXRNb2RlKChmdW5jdGlvbih0KXt3aGlsZSh0KXt2YXIgZT10Lm1vZGV8fHQuZ2V0QXR0cmlidXRlKFwibW9kZVwiKTtpZihlKXtpZihzKGUpKXtyZXR1cm4gZX1lbHNlIGlmKGEodCkpe2NvbnNvbGUud2FybignSW52YWxpZCBpb25pYyBtb2RlOiBcIicrZSsnXCIsIGV4cGVjdGVkOiBcImlvc1wiIG9yIFwibWRcIicpfX10PXQucGFyZW50RWxlbWVudH1yZXR1cm4gZGVmYXVsdE1vZGV9KSl9O2V4cG9ydHtpc1BsYXRmb3JtIGFzIGEsZ2V0SW9uTW9kZSBhcyBiLGNvbmZpZyBhcyBjLGdldFBsYXRmb3JtcyBhcyBnLGluaXRpYWxpemUgYXMgaX07IiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydHtjIGFzIGNyZWF0ZUFuaW1hdGlvbn1mcm9tXCIuL2FuaW1hdGlvbi1jOWMyYTM1OS5qc1wiO2ltcG9ydHtnIGFzIGdldElvblBhZ2VFbGVtZW50fWZyb21cIi4vaW5kZXgtYzhlZjU1YjUuanNcIjtpbXBvcnRcIi4vaGVscGVycy1lZWQ3OWEyYi5qc1wiO2ltcG9ydFwiLi9pbmRleC0wNmNkMjdiMS5qc1wiO3ZhciBEVVJBVElPTj01NDA7dmFyIGdldENsb25lZEVsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZStcIi5pb24tY2xvbmVkLWVsZW1lbnRcIil9O3ZhciBzaGFkb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2hhZG93Um9vdHx8ZX07dmFyIGdldExhcmdlVGl0bGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YWdOYW1lPT09XCJJT04tVEFCU1wiP2U6ZS5xdWVyeVNlbGVjdG9yKFwiaW9uLXRhYnNcIik7dmFyIGE9XCJpb24tY29udGVudCBpb24taGVhZGVyOm5vdCguaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlKSBpb24tdGl0bGUudGl0bGUtbGFyZ2VcIjtpZih0IT1udWxsKXt2YXIgcj10LnF1ZXJ5U2VsZWN0b3IoXCJpb24tdGFiOm5vdCgudGFiLWhpZGRlbiksIC5pb24tcGFnZTpub3QoLmlvbi1wYWdlLWhpZGRlbilcIik7cmV0dXJuIHIhPW51bGw/ci5xdWVyeVNlbGVjdG9yKGEpOm51bGx9cmV0dXJuIGUucXVlcnlTZWxlY3RvcihhKX07dmFyIGdldEJhY2tCdXR0b249ZnVuY3Rpb24oZSx0KXt2YXIgYT1lLnRhZ05hbWU9PT1cIklPTi1UQUJTXCI/ZTplLnF1ZXJ5U2VsZWN0b3IoXCJpb24tdGFic1wiKTt2YXIgcj1bXTtpZihhIT1udWxsKXt2YXIgbz1hLnF1ZXJ5U2VsZWN0b3IoXCJpb24tdGFiOm5vdCgudGFiLWhpZGRlbiksIC5pb24tcGFnZTpub3QoLmlvbi1wYWdlLWhpZGRlbilcIik7aWYobyE9bnVsbCl7cj1vLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpb24tYnV0dG9uc1wiKX19ZWxzZXtyPWUucXVlcnlTZWxlY3RvckFsbChcImlvbi1idXR0b25zXCIpfWZvcih2YXIgbj0wLGk9cjtuPGkubGVuZ3RoO24rKyl7dmFyIGw9aVtuXTt2YXIgcz1sLmNsb3Nlc3QoXCJpb24taGVhZGVyXCIpO3ZhciBjPXMmJiFzLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1jb2xsYXBzZS1jb25kZW5zZS1pbmFjdGl2ZVwiKTt2YXIgZj1sLnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFjay1idXR0b25cIik7dmFyIGQ9bC5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b25zLWNvbGxhcHNlXCIpO3ZhciBtPWwuc2xvdD09PVwic3RhcnRcInx8bC5zbG90PT09XCJcIjtpZihmIT09bnVsbCYmbSYmKGQmJmMmJnR8fCFkKSl7cmV0dXJuIGZ9fXJldHVybiBudWxsfTt2YXIgY3JlYXRlTGFyZ2VUaXRsZVRyYW5zaXRpb249ZnVuY3Rpb24oZSx0LGEscixvKXt2YXIgbj1nZXRCYWNrQnV0dG9uKHIsYSk7dmFyIGk9Z2V0TGFyZ2VUaXRsZShvKTt2YXIgbD1nZXRMYXJnZVRpdGxlKHIpO3ZhciBzPWdldEJhY2tCdXR0b24obyxhKTt2YXIgYz1uIT09bnVsbCYmaSE9PW51bGwmJiFhO3ZhciBmPWwhPT1udWxsJiZzIT09bnVsbCYmYTtpZihjKXt2YXIgZD1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBtPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7YW5pbWF0ZUxhcmdlVGl0bGUoZSx0LGEsaSxkLG0pO2FuaW1hdGVCYWNrQnV0dG9uKGUsdCxhLG4sZCxtKX1lbHNlIGlmKGYpe3ZhciB2PWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIHA9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthbmltYXRlTGFyZ2VUaXRsZShlLHQsYSxsLHYscCk7YW5pbWF0ZUJhY2tCdXR0b24oZSx0LGEscyx2LHApfXJldHVybntmb3J3YXJkOmMsYmFja3dhcmQ6Zn19O3ZhciBhbmltYXRlQmFja0J1dHRvbj1mdW5jdGlvbihlLHQsYSxyLG8sbil7dmFyIGk9dD9cImNhbGMoMTAwJSAtIFwiKyhuLnJpZ2h0KzQpK1wicHgpXCI6bi5sZWZ0LTQrXCJweFwiO3ZhciBsPXQ/XCI3cHhcIjpcIi03cHhcIjt2YXIgcz10P1wiLTRweFwiOlwiNHB4XCI7dmFyIGM9dD9cIi00cHhcIjpcIjRweFwiO3ZhciBmPXQ/XCJyaWdodFwiOlwibGVmdFwiO3ZhciBkPXQ/XCJsZWZ0XCI6XCJyaWdodFwiO3ZhciBtPVt7b2Zmc2V0OjAsb3BhY2l0eTowLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK2wrXCIsIFwiKyhvLnRvcC00MCkrXCJweCwgMCkgc2NhbGUoMi4xKVwifSx7b2Zmc2V0OjEsb3BhY2l0eToxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK3MrXCIsIFwiKyhuLnRvcC00NikrXCJweCwgMCkgc2NhbGUoMSlcIn1dO3ZhciB2PVt7b2Zmc2V0OjAsb3BhY2l0eToxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK3MrXCIsIFwiKyhuLnRvcC00NikrXCJweCwgMCkgc2NhbGUoMSlcIn0se29mZnNldDouNixvcGFjaXR5OjB9LHtvZmZzZXQ6MSxvcGFjaXR5OjAsdHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoXCIrbCtcIiwgXCIrKG8udG9wLTQwKStcInB4LCAwKSBzY2FsZSgyLjEpXCJ9XTt2YXIgcD1hP3Y6bTt2YXIgeT1be29mZnNldDowLG9wYWNpdHk6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitjK1wiLCBcIisobi50b3AtNDEpK1wicHgsIDApIHNjYWxlKDAuNilcIn0se29mZnNldDoxLG9wYWNpdHk6MSx0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitjK1wiLCBcIisobi50b3AtNDYpK1wicHgsIDApIHNjYWxlKDEpXCJ9XTt2YXIgdT1be29mZnNldDowLG9wYWNpdHk6MSx0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitjK1wiLCBcIisobi50b3AtNDYpK1wicHgsIDApIHNjYWxlKDEpXCJ9LHtvZmZzZXQ6LjIsb3BhY2l0eTowLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK2MrXCIsIFwiKyhuLnRvcC00MSkrXCJweCwgMCkgc2NhbGUoMC42KVwifSx7b2Zmc2V0OjEsb3BhY2l0eTowLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK2MrXCIsIFwiKyhuLnRvcC00MSkrXCJweCwgMCkgc2NhbGUoMC42KVwifV07dmFyIGc9YT91Onk7dmFyIGI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIEE9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIFM9Z2V0Q2xvbmVkRWxlbWVudChcImlvbi1iYWNrLWJ1dHRvblwiKTt2YXIgVD1zaGFkb3coUykucXVlcnlTZWxlY3RvcihcIi5idXR0b24tdGV4dFwiKTt2YXIgaD1zaGFkb3coUykucXVlcnlTZWxlY3RvcihcImlvbi1pY29uXCIpO1MudGV4dD1yLnRleHQ7Uy5tb2RlPXIubW9kZTtTLmljb249ci5pY29uO1MuY29sb3I9ci5jb2xvcjtTLmRpc2FibGVkPXIuZGlzYWJsZWQ7Uy5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcImJsb2NrXCIpO1Muc3R5bGUuc2V0UHJvcGVydHkoXCJwb3NpdGlvblwiLFwiZml4ZWRcIik7QS5hZGRFbGVtZW50KGgpO2IuYWRkRWxlbWVudChUKTtiLmJlZm9yZVN0eWxlcyh7XCJ0cmFuc2Zvcm0tb3JpZ2luXCI6ZitcIiBjZW50ZXJcIn0pLmJlZm9yZUFkZFdyaXRlKChmdW5jdGlvbigpe3Iuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJub25lXCIpO1Muc3R5bGUuc2V0UHJvcGVydHkoZixpKX0pKS5hZnRlckFkZFdyaXRlKChmdW5jdGlvbigpe3Iuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJcIik7Uy5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIik7Uy5zdHlsZS5yZW1vdmVQcm9wZXJ0eShmKX0pKS5rZXlmcmFtZXMocCk7QS5iZWZvcmVTdHlsZXMoe1widHJhbnNmb3JtLW9yaWdpblwiOmQrXCIgY2VudGVyXCJ9KS5rZXlmcmFtZXMoZyk7ZS5hZGRBbmltYXRpb24oW2IsQV0pfTt2YXIgYW5pbWF0ZUxhcmdlVGl0bGU9ZnVuY3Rpb24oZSx0LGEscixvLG4pe3ZhciBpO3ZhciBsPXQ/XCJjYWxjKDEwMCUgLSBcIitvLnJpZ2h0K1wicHgpXCI6by5sZWZ0K1wicHhcIjt2YXIgcz10P1wiLTE4cHhcIjpcIjE4cHhcIjt2YXIgYz10P1wicmlnaHRcIjpcImxlZnRcIjt2YXIgZj1be29mZnNldDowLG9wYWNpdHk6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitzK1wiLCBcIisobi50b3AtNCkrXCJweCwgMCkgc2NhbGUoMC40OSlcIn0se29mZnNldDouMSxvcGFjaXR5OjB9LHtvZmZzZXQ6MSxvcGFjaXR5OjEsdHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoMCwgXCIrKG8udG9wLTIpK1wicHgsIDApIHNjYWxlKDEpXCJ9XTt2YXIgZD1be29mZnNldDowLG9wYWNpdHk6Ljk5LHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKDAsIFwiKyhvLnRvcC0yKStcInB4LCAwKSBzY2FsZSgxKVwifSx7b2Zmc2V0Oi42LG9wYWNpdHk6MH0se29mZnNldDoxLG9wYWNpdHk6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitzK1wiLCBcIisobi50b3AtNCkrXCJweCwgMCkgc2NhbGUoMC41KVwifV07dmFyIG09YT9mOmQ7dmFyIHY9Z2V0Q2xvbmVkRWxlbWVudChcImlvbi10aXRsZVwiKTt2YXIgcD1jcmVhdGVBbmltYXRpb24oKTt2LmlubmVyVGV4dD1yLmlubmVyVGV4dDt2LnNpemU9ci5zaXplO3YuY29sb3I9ci5jb2xvcjtwLmFkZEVsZW1lbnQodik7cC5iZWZvcmVTdHlsZXMoKGk9e1widHJhbnNmb3JtLW9yaWdpblwiOmMrXCIgY2VudGVyXCIsaGVpZ2h0OlwiNDZweFwiLGRpc3BsYXk6XCJcIixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9LGlbY109bCxpKSkuYmVmb3JlQWRkV3JpdGUoKGZ1bmN0aW9uKCl7ci5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIil9KSkuYWZ0ZXJBZGRXcml0ZSgoZnVuY3Rpb24oKXtyLnN0eWxlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwiXCIpO3Yuc3R5bGUuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsXCJub25lXCIpfSkpLmtleWZyYW1lcyhtKTtlLmFkZEFuaW1hdGlvbihwKX07dmFyIGlvc1RyYW5zaXRpb25BbmltYXRpb249ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIGE9XCJjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSlcIjt2YXIgcj1cIm9wYWNpdHlcIjt2YXIgbz1cInRyYW5zZm9ybVwiO3ZhciBuPVwiMCVcIjt2YXIgaT0uODt2YXIgbD1lLm93bmVyRG9jdW1lbnQuZGlyPT09XCJydGxcIjt2YXIgcz1sP1wiLTk5LjUlXCI6XCI5OS41JVwiO3ZhciBjPWw/XCIzMyVcIjpcIi0zMyVcIjt2YXIgZj10LmVudGVyaW5nRWw7dmFyIGQ9dC5sZWF2aW5nRWw7dmFyIG09dC5kaXJlY3Rpb249PT1cImJhY2tcIjt2YXIgdj1mLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiBpb24tY29udGVudFwiKTt2YXIgcD1mLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgPiBpb24taGVhZGVyID4gKjpub3QoaW9uLXRvb2xiYXIpLCA6c2NvcGUgPiBpb24tZm9vdGVyID4gKlwiKTt2YXIgeT1mLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgPiBpb24taGVhZGVyID4gaW9uLXRvb2xiYXJcIik7dmFyIHU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGc9Y3JlYXRlQW5pbWF0aW9uKCk7dS5hZGRFbGVtZW50KGYpLmR1cmF0aW9uKHQuZHVyYXRpb258fERVUkFUSU9OKS5lYXNpbmcodC5lYXNpbmd8fGEpLmZpbGwoXCJib3RoXCIpLmJlZm9yZVJlbW92ZUNsYXNzKFwiaW9uLXBhZ2UtaW52aXNpYmxlXCIpO2lmKGQmJmUpe3ZhciBiPWNyZWF0ZUFuaW1hdGlvbigpO2IuYWRkRWxlbWVudChlKTt1LmFkZEFuaW1hdGlvbihiKX1pZighdiYmeS5sZW5ndGg9PT0wJiZwLmxlbmd0aD09PTApe2cuYWRkRWxlbWVudChmLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzXCIpKX1lbHNle2cuYWRkRWxlbWVudCh2KTtnLmFkZEVsZW1lbnQocCl9dS5hZGRBbmltYXRpb24oZyk7aWYobSl7Zy5iZWZvcmVDbGVhclN0eWxlcyhbcl0pLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIitjK1wiKVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiKS5mcm9tVG8ocixpLDEpfWVsc2V7Zy5iZWZvcmVDbGVhclN0eWxlcyhbcl0pLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIitzK1wiKVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiKX1pZih2KXt2YXIgQT1zaGFkb3codikucXVlcnlTZWxlY3RvcihcIi50cmFuc2l0aW9uLWVmZmVjdFwiKTtpZihBKXt2YXIgUz1BLnF1ZXJ5U2VsZWN0b3IoXCIudHJhbnNpdGlvbi1jb3ZlclwiKTt2YXIgVD1BLnF1ZXJ5U2VsZWN0b3IoXCIudHJhbnNpdGlvbi1zaGFkb3dcIik7dmFyIGg9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHg9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIEU9Y3JlYXRlQW5pbWF0aW9uKCk7aC5hZGRFbGVtZW50KEEpLmJlZm9yZVN0eWxlcyh7b3BhY2l0eTpcIjFcIixkaXNwbGF5OlwiYmxvY2tcIn0pLmFmdGVyU3R5bGVzKHtvcGFjaXR5OlwiXCIsZGlzcGxheTpcIlwifSk7eC5hZGRFbGVtZW50KFMpLmJlZm9yZUNsZWFyU3R5bGVzKFtyXSkuZnJvbVRvKHIsMCwuMSk7RS5hZGRFbGVtZW50KFQpLmJlZm9yZUNsZWFyU3R5bGVzKFtyXSkuZnJvbVRvKHIsLjAzLC43KTtoLmFkZEFuaW1hdGlvbihbeCxFXSk7Zy5hZGRBbmltYXRpb24oW2hdKX19dmFyIHE9Zi5xdWVyeVNlbGVjdG9yKFwiaW9uLWhlYWRlci5oZWFkZXItY29sbGFwc2UtY29uZGVuc2VcIik7dmFyIFg9Y3JlYXRlTGFyZ2VUaXRsZVRyYW5zaXRpb24odSxsLG0sZixkKSxDPVguZm9yd2FyZCxrPVguYmFja3dhcmQ7eS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1jcmVhdGVBbmltYXRpb24oKTt0LmFkZEVsZW1lbnQoZSk7dS5hZGRBbmltYXRpb24odCk7dmFyIGE9Y3JlYXRlQW5pbWF0aW9uKCk7YS5hZGRFbGVtZW50KGUucXVlcnlTZWxlY3RvcihcImlvbi10aXRsZVwiKSk7dmFyIG89Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9QXJyYXkuZnJvbShlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpb24tYnV0dG9ucyxbbWVudVRvZ2dsZV1cIikpO3ZhciBmPWUuY2xvc2VzdChcImlvbi1oZWFkZXJcIik7dmFyIGQ9ZiYmZi5jbGFzc0xpc3QuY29udGFpbnMoXCJoZWFkZXItY29sbGFwc2UtY29uZGVuc2UtaW5hY3RpdmVcIik7dmFyIHY7aWYobSl7dj1pLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b25zLWNvbGxhcHNlXCIpO3JldHVybiB0JiYhZHx8IXR9KSl9ZWxzZXt2PWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b25zLWNvbGxhcHNlXCIpfSkpfW8uYWRkRWxlbWVudCh2KTt2YXIgcD1jcmVhdGVBbmltYXRpb24oKTtwLmFkZEVsZW1lbnQoZS5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlID4gKjpub3QoaW9uLXRpdGxlKTpub3QoaW9uLWJ1dHRvbnMpOm5vdChbbWVudVRvZ2dsZV0pXCIpKTt2YXIgeT1jcmVhdGVBbmltYXRpb24oKTt5LmFkZEVsZW1lbnQoc2hhZG93KGUpLnF1ZXJ5U2VsZWN0b3IoXCIudG9vbGJhci1iYWNrZ3JvdW5kXCIpKTt2YXIgZz1jcmVhdGVBbmltYXRpb24oKTt2YXIgYj1lLnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFjay1idXR0b25cIik7aWYoYil7Zy5hZGRFbGVtZW50KGIpfXQuYWRkQW5pbWF0aW9uKFthLG8scCx5LGddKTtvLmZyb21UbyhyLC4wMSwxKTtwLmZyb21UbyhyLC4wMSwxKTtpZihtKXtpZighZCl7YS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoXCIrYytcIilcIixcInRyYW5zbGF0ZVgoXCIrbitcIilcIikuZnJvbVRvKHIsLjAxLDEpfXAuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK2MrXCIpXCIsXCJ0cmFuc2xhdGVYKFwiK24rXCIpXCIpO2cuZnJvbVRvKHIsLjAxLDEpfWVsc2V7aWYoIXEpe2EuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK3MrXCIpXCIsXCJ0cmFuc2xhdGVYKFwiK24rXCIpXCIpLmZyb21UbyhyLC4wMSwxKX1wLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIitzK1wiKVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiKTt5LmJlZm9yZUNsZWFyU3R5bGVzKFtyLFwidHJhbnNmb3JtXCJdKTt2YXIgQT1mPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi50cmFuc2x1Y2VudDtpZighQSl7eS5mcm9tVG8ociwuMDEsXCJ2YXIoLS1vcGFjaXR5KVwiKX1lbHNle3kuZnJvbVRvKFwidHJhbnNmb3JtXCIsbD9cInRyYW5zbGF0ZVgoLTEwMCUpXCI6XCJ0cmFuc2xhdGVYKDEwMCUpXCIsXCJ0cmFuc2xhdGVYKDBweClcIil9aWYoIUMpe2cuZnJvbVRvKHIsLjAxLDEpfWlmKGImJiFDKXt2YXIgUz1jcmVhdGVBbmltYXRpb24oKTtTLmFkZEVsZW1lbnQoc2hhZG93KGIpLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLXRleHRcIikpLmZyb21UbyhcInRyYW5zZm9ybVwiLGw/XCJ0cmFuc2xhdGVYKC0xMDBweClcIjpcInRyYW5zbGF0ZVgoMTAwcHgpXCIsXCJ0cmFuc2xhdGVYKDBweClcIik7dC5hZGRBbmltYXRpb24oUyl9fX0pKTtpZihkKXt2YXIgdz1jcmVhdGVBbmltYXRpb24oKTt2YXIgQj1kLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgPiBpb24tY29udGVudFwiKTt2YXIgTD1kLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6c2NvcGUgPiBpb24taGVhZGVyID4gaW9uLXRvb2xiYXJcIik7dmFyIFA9ZC5xdWVyeVNlbGVjdG9yQWxsKFwiOnNjb3BlID4gaW9uLWhlYWRlciA+ICo6bm90KGlvbi10b29sYmFyKSwgOnNjb3BlID4gaW9uLWZvb3RlciA+ICpcIik7aWYoIUImJkwubGVuZ3RoPT09MCYmUC5sZW5ndGg9PT0wKXt3LmFkZEVsZW1lbnQoZC5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlID4gLmlvbi1wYWdlLCA6c2NvcGUgPiBpb24tbmF2LCA6c2NvcGUgPiBpb24tdGFic1wiKSl9ZWxzZXt3LmFkZEVsZW1lbnQoQik7dy5hZGRFbGVtZW50KFApfXUuYWRkQW5pbWF0aW9uKHcpO2lmKG0pe3cuYmVmb3JlQ2xlYXJTdHlsZXMoW3JdKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoXCIrbitcIilcIixsP1widHJhbnNsYXRlWCgtMTAwJSlcIjpcInRyYW5zbGF0ZVgoMTAwJSlcIik7dmFyIFI9Z2V0SW9uUGFnZUVsZW1lbnQoZCk7dS5hZnRlckFkZFdyaXRlKChmdW5jdGlvbigpe2lmKHUuZ2V0RGlyZWN0aW9uKCk9PT1cIm5vcm1hbFwiKXtSLnN0eWxlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiKX19KSl9ZWxzZXt3LmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiLFwidHJhbnNsYXRlWChcIitjK1wiKVwiKS5mcm9tVG8ociwxLGkpfWlmKEIpe3ZhciBJPXNoYWRvdyhCKS5xdWVyeVNlbGVjdG9yKFwiLnRyYW5zaXRpb24tZWZmZWN0XCIpO2lmKEkpe3ZhciBOPUkucXVlcnlTZWxlY3RvcihcIi50cmFuc2l0aW9uLWNvdmVyXCIpO3ZhciBXPUkucXVlcnlTZWxlY3RvcihcIi50cmFuc2l0aW9uLXNoYWRvd1wiKTt2YXIgaj1jcmVhdGVBbmltYXRpb24oKTt2YXIgRD1jcmVhdGVBbmltYXRpb24oKTt2YXIgTz1jcmVhdGVBbmltYXRpb24oKTtqLmFkZEVsZW1lbnQoSSkuYmVmb3JlU3R5bGVzKHtvcGFjaXR5OlwiMVwiLGRpc3BsYXk6XCJibG9ja1wifSkuYWZ0ZXJTdHlsZXMoe29wYWNpdHk6XCJcIixkaXNwbGF5OlwiXCJ9KTtELmFkZEVsZW1lbnQoTikuYmVmb3JlQ2xlYXJTdHlsZXMoW3JdKS5mcm9tVG8ociwuMSwwKTtPLmFkZEVsZW1lbnQoVykuYmVmb3JlQ2xlYXJTdHlsZXMoW3JdKS5mcm9tVG8ociwuNywuMDMpO2ouYWRkQW5pbWF0aW9uKFtELE9dKTt3LmFkZEFuaW1hdGlvbihbal0pfX1MLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWNyZWF0ZUFuaW1hdGlvbigpO3QuYWRkRWxlbWVudChlKTt2YXIgYT1jcmVhdGVBbmltYXRpb24oKTthLmFkZEVsZW1lbnQoZS5xdWVyeVNlbGVjdG9yKFwiaW9uLXRpdGxlXCIpKTt2YXIgaT1jcmVhdGVBbmltYXRpb24oKTt2YXIgcz1lLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpb24tYnV0dG9ucyxbbWVudVRvZ2dsZV1cIik7dmFyIGY9ZS5jbG9zZXN0KFwiaW9uLWhlYWRlclwiKTt2YXIgZD1mJiZmLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1jb2xsYXBzZS1jb25kZW5zZS1pbmFjdGl2ZVwiKTt2YXIgdj1BcnJheS5mcm9tKHMpLmZpbHRlcigoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jbGFzc0xpc3QuY29udGFpbnMoXCJidXR0b25zLWNvbGxhcHNlXCIpO3JldHVybiB0JiYhZHx8IXR9KSk7aS5hZGRFbGVtZW50KHYpO3ZhciBwPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciB5PWUucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+ICo6bm90KGlvbi10aXRsZSk6bm90KGlvbi1idXR0b25zKTpub3QoW21lbnVUb2dnbGVdKVwiKTtpZih5Lmxlbmd0aD4wKXtwLmFkZEVsZW1lbnQoeSl9dmFyIGc9Y3JlYXRlQW5pbWF0aW9uKCk7Zy5hZGRFbGVtZW50KHNoYWRvdyhlKS5xdWVyeVNlbGVjdG9yKFwiLnRvb2xiYXItYmFja2dyb3VuZFwiKSk7dmFyIGI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIEE9ZS5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2stYnV0dG9uXCIpO2lmKEEpe2IuYWRkRWxlbWVudChBKX10LmFkZEFuaW1hdGlvbihbYSxpLHAsYixnXSk7dS5hZGRBbmltYXRpb24odCk7Yi5mcm9tVG8ociwuOTksMCk7aS5mcm9tVG8ociwuOTksMCk7cC5mcm9tVG8ociwuOTksMCk7aWYobSl7aWYoIWQpe2EuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVYKFwiK24rXCIpXCIsbD9cInRyYW5zbGF0ZVgoLTEwMCUpXCI6XCJ0cmFuc2xhdGVYKDEwMCUpXCIpLmZyb21UbyhyLC45OSwwKX1wLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiLGw/XCJ0cmFuc2xhdGVYKC0xMDAlKVwiOlwidHJhbnNsYXRlWCgxMDAlKVwiKTtnLmJlZm9yZUNsZWFyU3R5bGVzKFtyLFwidHJhbnNmb3JtXCJdKTt2YXIgUz1mPT09bnVsbHx8Zj09PXZvaWQgMD92b2lkIDA6Zi50cmFuc2x1Y2VudDtpZighUyl7Zy5mcm9tVG8ocixcInZhcigtLW9wYWNpdHkpXCIsMCl9ZWxzZXtnLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWCgwcHgpXCIsbD9cInRyYW5zbGF0ZVgoLTEwMCUpXCI6XCJ0cmFuc2xhdGVYKDEwMCUpXCIpfWlmKEEmJiFrKXt2YXIgVD1jcmVhdGVBbmltYXRpb24oKTtULmFkZEVsZW1lbnQoc2hhZG93KEEpLnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLXRleHRcIikpLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiLFwidHJhbnNsYXRlWChcIisoKGw/LTEyNDoxMjQpK1wicHhcIikrXCIpXCIpO3QuYWRkQW5pbWF0aW9uKFQpfX1lbHNle2lmKCFkKXthLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWChcIituK1wiKVwiLFwidHJhbnNsYXRlWChcIitjK1wiKVwiKS5mcm9tVG8ociwuOTksMCkuYWZ0ZXJDbGVhclN0eWxlcyhbbyxyXSl9cC5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVgoXCIrbitcIilcIixcInRyYW5zbGF0ZVgoXCIrYytcIilcIikuYWZ0ZXJDbGVhclN0eWxlcyhbbyxyXSk7Yi5hZnRlckNsZWFyU3R5bGVzKFtyXSk7YS5hZnRlckNsZWFyU3R5bGVzKFtyXSk7aS5hZnRlckNsZWFyU3R5bGVzKFtyXSl9fSkpfXJldHVybiB1fWNhdGNoKGUpe3Rocm93IGV9fTtleHBvcnR7aW9zVHJhbnNpdGlvbkFuaW1hdGlvbixzaGFkb3d9OyIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnR7YyBhcyBjcmVhdGVBbmltYXRpb259ZnJvbVwiLi9hbmltYXRpb24tYzljMmEzNTkuanNcIjtpbXBvcnR7ZyBhcyBnZXRJb25QYWdlRWxlbWVudH1mcm9tXCIuL2luZGV4LWM4ZWY1NWI1LmpzXCI7aW1wb3J0XCIuL2hlbHBlcnMtZWVkNzlhMmIuanNcIjtpbXBvcnRcIi4vaW5kZXgtMDZjZDI3YjEuanNcIjt2YXIgbWRUcmFuc2l0aW9uQW5pbWF0aW9uPWZ1bmN0aW9uKGUsbil7dmFyIGE9XCI0MHB4XCI7dmFyIGk9XCIwcHhcIjt2YXIgdD1uLmRpcmVjdGlvbj09PVwiYmFja1wiO3ZhciByPW4uZW50ZXJpbmdFbDt2YXIgbz1uLmxlYXZpbmdFbDt2YXIgbT1nZXRJb25QYWdlRWxlbWVudChyKTt2YXIgcz1tLnF1ZXJ5U2VsZWN0b3IoXCJpb24tdG9vbGJhclwiKTt2YXIgbD1jcmVhdGVBbmltYXRpb24oKTtsLmFkZEVsZW1lbnQobSkuZmlsbChcImJvdGhcIikuYmVmb3JlUmVtb3ZlQ2xhc3MoXCJpb24tcGFnZS1pbnZpc2libGVcIik7aWYodCl7bC5kdXJhdGlvbihuLmR1cmF0aW9ufHwyMDApLmVhc2luZyhcImN1YmljLWJlemllcigwLjQ3LDAsMC43NDUsMC43MTUpXCIpfWVsc2V7bC5kdXJhdGlvbihuLmR1cmF0aW9ufHwyODApLmVhc2luZyhcImN1YmljLWJlemllcigwLjM2LDAuNjYsMC4wNCwxKVwiKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoXCIrYStcIilcIixcInRyYW5zbGF0ZVkoXCIraStcIilcIikuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSwxKX1pZihzKXt2YXIgZD1jcmVhdGVBbmltYXRpb24oKTtkLmFkZEVsZW1lbnQocyk7bC5hZGRBbmltYXRpb24oZCl9aWYobyYmdCl7bC5kdXJhdGlvbihuLmR1cmF0aW9ufHwyMDApLmVhc2luZyhcImN1YmljLWJlemllcigwLjQ3LDAsMC43NDUsMC43MTUpXCIpO3ZhciBjPWNyZWF0ZUFuaW1hdGlvbigpO2MuYWRkRWxlbWVudChnZXRJb25QYWdlRWxlbWVudChvKSkub25GaW5pc2goKGZ1bmN0aW9uKGUpe2lmKGU9PT0xJiZjLmVsZW1lbnRzLmxlbmd0aD4wKXtjLmVsZW1lbnRzWzBdLnN0eWxlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiKX19KSkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKFwiK2krXCIpXCIsXCJ0cmFuc2xhdGVZKFwiK2ErXCIpXCIpLmZyb21UbyhcIm9wYWNpdHlcIiwxLDApO2wuYWRkQW5pbWF0aW9uKGMpfXJldHVybiBsfTtleHBvcnR7bWRUcmFuc2l0aW9uQW5pbWF0aW9ufTsiLCJpbXBvcnR7X19hd2FpdGVyLF9fZ2VuZXJhdG9yLF9fc3ByZWFkQXJyYXl9ZnJvbVwidHNsaWJcIjtcbi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovaW1wb3J0e2MgYXMgd3JpdGVUYXNrLHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSxlIGFzIGNyZWF0ZUV2ZW50LGYgYXMgcmVhZFRhc2ssaCxIIGFzIEhvc3QsaSBhcyBnZXRFbGVtZW50LGogYXMgZm9yY2VVcGRhdGV9ZnJvbVwiLi9pbmRleC0wNmNkMjdiMS5qc1wiO2ltcG9ydHtiIGFzIGdldElvbk1vZGUsYyBhcyBjb25maWcsYSBhcyBpc1BsYXRmb3JtfWZyb21cIi4vaW9uaWMtZ2xvYmFsLWEwNDliY2JmLmpzXCI7aW1wb3J0e2ggYXMgaGFwdGljU2VsZWN0aW9uRW5kLGEgYXMgaGFwdGljU2VsZWN0aW9uU3RhcnQsYiBhcyBoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkfWZyb21cIi4vaGFwdGljLTlhOWFhN2VjLmpzXCI7aW1wb3J0e2NyZWF0ZUdlc3R1cmV9ZnJvbVwiLi9pbmRleC00MWJmNDFmMi5qc1wiO2ltcG9ydHtzIGFzIHNhbml0aXplRE9NU3RyaW5nfWZyb21cIi4vaW5kZXgtYzg0MWM5MzMuanNcIjtpbXBvcnR7ZyBhcyBnZXRDbGFzc01hcCxjIGFzIGNyZWF0ZUNvbG9yQ2xhc3Nlc31mcm9tXCIuL3RoZW1lLWEyNGZmMWFkLmpzXCI7aW1wb3J0e2MgYXMgY3JlYXRlQW5pbWF0aW9ufWZyb21cIi4vYW5pbWF0aW9uLWM5YzJhMzU5LmpzXCI7aW1wb3J0e0MgYXMgQ29yZURlbGVnYXRlLGEgYXMgYXR0YWNoQ29tcG9uZW50LGQgYXMgZGV0YWNoQ29tcG9uZW50fWZyb21cIi4vZnJhbWV3b3JrLWRlbGVnYXRlLWE5MjIwMThjLmpzXCI7aW1wb3J0e2QgYXMgY2xhbXAsZyBhcyBnZXRFbGVtZW50Um9vdCxyIGFzIHJhZixhIGFzIGFkZEV2ZW50TGlzdGVuZXIsYyBhcyBjb21wb25lbnRPblJlYWR5LGYgYXMgZm9jdXNFbGVtZW50LGIgYXMgcmVtb3ZlRXZlbnRMaXN0ZW5lcn1mcm9tXCIuL2hlbHBlcnMtZWVkNzlhMmIuanNcIjtpbXBvcnR7ZSBhcyBkZWVwUmVhZHl9ZnJvbVwiLi9pbmRleC1jOGVmNTViNS5qc1wiO2ltcG9ydHtnIGFzIGdldFRpbWVHaXZlblByb2dyZXNzaW9ufWZyb21cIi4vY3ViaWMtYmV6aWVyLTE1NGE1M2E1LmpzXCI7aW1wb3J0e09WRVJMQVlfQkFDS19CVVRUT05fUFJJT1JJVFl9ZnJvbVwiLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi1hY2U2YTcxYi5qc1wiO3ZhciBjcmVhdGVCdXR0b25BY3RpdmVHZXN0dXJlPWZ1bmN0aW9uKHQsZSl7dmFyIHI7dmFyIGk7dmFyIG89ZnVuY3Rpb24odCxpLG8pe2lmKHR5cGVvZiBkb2N1bWVudD09PVwidW5kZWZpbmVkXCIpe3JldHVybn12YXIgcz1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQsaSk7aWYoIXN8fCFlKHMpKXthKCk7cmV0dXJufWlmKHMhPT1yKXthKCk7bihzLG8pfX07dmFyIG49ZnVuY3Rpb24odCxlKXtyPXQ7aWYoIWkpe2k9cn12YXIgbz1yO3dyaXRlVGFzaygoZnVuY3Rpb24oKXtyZXR1cm4gby5jbGFzc0xpc3QuYWRkKFwiaW9uLWFjdGl2YXRlZFwiKX0pKTtlKCl9O3ZhciBhPWZ1bmN0aW9uKHQpe2lmKHQ9PT12b2lkIDApe3Q9ZmFsc2V9aWYoIXIpe3JldHVybn12YXIgZT1yO3dyaXRlVGFzaygoZnVuY3Rpb24oKXtyZXR1cm4gZS5jbGFzc0xpc3QucmVtb3ZlKFwiaW9uLWFjdGl2YXRlZFwiKX0pKTtpZih0JiZpIT09cil7ci5jbGljaygpfXI9dW5kZWZpbmVkfTtyZXR1cm4gY3JlYXRlR2VzdHVyZSh7ZWw6dCxnZXN0dXJlTmFtZTpcImJ1dHRvbkFjdGl2ZURyYWdcIix0aHJlc2hvbGQ6MCxvblN0YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiBvKHQuY3VycmVudFgsdC5jdXJyZW50WSxoYXB0aWNTZWxlY3Rpb25TdGFydCl9LG9uTW92ZTpmdW5jdGlvbih0KXtyZXR1cm4gbyh0LmN1cnJlbnRYLHQuY3VycmVudFksaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCl9LG9uRW5kOmZ1bmN0aW9uKCl7YSh0cnVlKTtoYXB0aWNTZWxlY3Rpb25FbmQoKTtpPXVuZGVmaW5lZH19KX07dmFyIGlvc0VudGVyQW5pbWF0aW9uJDY9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSxcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIpLmJlZm9yZVN0eWxlcyh7XCJwb2ludGVyLWV2ZW50c1wiOlwibm9uZVwifSkuYWZ0ZXJDbGVhclN0eWxlcyhbXCJwb2ludGVyLWV2ZW50c1wiXSk7aS5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcIi5hY3Rpb24tc2hlZXQtd3JhcHBlclwiKSkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKDEwMCUpXCIsXCJ0cmFuc2xhdGVZKDAlKVwiKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImN1YmljLWJlemllciguMzYsLjY2LC4wNCwxKVwiKS5kdXJhdGlvbig0MDApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBpb3NMZWF2ZUFuaW1hdGlvbiQ2PWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciByPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBpPWNyZWF0ZUFuaW1hdGlvbigpO3IuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIixcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIsMCk7aS5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcIi5hY3Rpb24tc2hlZXQtd3JhcHBlclwiKSkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKDAlKVwiLFwidHJhbnNsYXRlWSgxMDAlKVwiKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImN1YmljLWJlemllciguMzYsLjY2LC4wNCwxKVwiKS5kdXJhdGlvbig0NTApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBtZEVudGVyQW5pbWF0aW9uJDU9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSxcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIpLmJlZm9yZVN0eWxlcyh7XCJwb2ludGVyLWV2ZW50c1wiOlwibm9uZVwifSkuYWZ0ZXJDbGVhclN0eWxlcyhbXCJwb2ludGVyLWV2ZW50c1wiXSk7aS5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcIi5hY3Rpb24tc2hlZXQtd3JhcHBlclwiKSkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKDEwMCUpXCIsXCJ0cmFuc2xhdGVZKDAlKVwiKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImN1YmljLWJlemllciguMzYsLjY2LC4wNCwxKVwiKS5kdXJhdGlvbig0MDApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBtZExlYXZlQW5pbWF0aW9uJDU9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIiwwKTtpLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiLmFjdGlvbi1zaGVldC13cmFwcGVyXCIpKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoMCUpXCIsXCJ0cmFuc2xhdGVZKDEwMCUpXCIpO3JldHVybiBlLmFkZEVsZW1lbnQodCkuZWFzaW5nKFwiY3ViaWMtYmV6aWVyKC4zNiwuNjYsLjA0LDEpXCIpLmR1cmF0aW9uKDQ1MCkuYWRkQW5pbWF0aW9uKFtyLGldKX07dmFyIGFjdGlvblNoZWV0SW9zQ3NzPScuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MtaHstLWNvbG9yOmluaXRpYWw7LS1idXR0b24tY29sb3ItYWN0aXZhdGVkOnZhcigtLWJ1dHRvbi1jb2xvcik7LS1idXR0b24tY29sb3ItZm9jdXNlZDp2YXIoLS1idXR0b24tY29sb3IpOy0tYnV0dG9uLWNvbG9yLWhvdmVyOnZhcigtLWJ1dHRvbi1jb2xvcik7LS1idXR0b24tY29sb3Itc2VsZWN0ZWQ6dmFyKC0tYnV0dG9uLWNvbG9yKTstLW1pbi13aWR0aDphdXRvOy0td2lkdGg6MTAwJTstLW1heC13aWR0aDo1MDBweDstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDoxMDAlOy0tbWF4LWhlaWdodDpjYWxjKDEwMCUgLSAodmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20pKSk7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpmaXhlZDtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6MTAwMX0ub3ZlcmxheS1oaWRkZW4uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MtaHtkaXNwbGF5Om5vbmV9LmFjdGlvbi1zaGVldC13cmFwcGVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDp2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSwgMCk7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7ei1pbmRleDoxMDtwb2ludGVyLWV2ZW50czpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC13cmFwcGVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvcik7Zm9udC1mYW1pbHk6aW5oZXJpdDtvdmVyZmxvdzpoaWRkZW59LmFjdGlvbi1zaGVldC1idXR0b24taW5uZXIuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7LW1zLWZsZXgtZmxvdzpyb3cgbm93cmFwO2ZsZXgtZmxvdzpyb3cgbm93cmFwOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MX0uYWN0aW9uLXNoZWV0LWNvbnRhaW5lci5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1mbG93OmNvbHVtbjtmbGV4LWZsb3c6Y29sdW1uOy1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtoZWlnaHQ6MTAwJTttYXgtaGVpZ2h0OjEwMCV9LmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3stbXMtZmxleC1uZWdhdGl2ZToyO2ZsZXgtc2hyaW5rOjI7b3ZlcnNjcm9sbC1iZWhhdmlvci15OmNvbnRhaW47b3ZlcmZsb3cteTphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO3BvaW50ZXItZXZlbnRzOmFsbDtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpfS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0uYWN0aW9uLXNoZWV0LWdyb3VwLWNhbmNlbC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3stbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7b3ZlcmZsb3c6aGlkZGVufS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOjphZnRlcntsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OlwiXCI7b3BhY2l0eTowfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLXNlbGVjdGVkKX0uYWN0aW9uLXNoZWV0LXNlbGVjdGVkLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkLW9wYWNpdHkpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLWFjdGl2YXRlZCl9LmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQpO29wYWNpdHk6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtYWN0aXZhdGVkLW9wYWNpdHkpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLmlvbi1mb2N1c2VkLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvci1mb2N1c2VkKX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eSl9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczpob3Zlcntjb2xvcjp2YXIoLS1idXR0b24tY29sb3ItaG92ZXIpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyLW9wYWNpdHkpfX0uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZjlmOWY5KSk7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjQpOy0tYnV0dG9uLWJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCksIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkgNTAlLCB0cmFuc3BhcmVudCA1MCUpIGJvdHRvbS8xMDAlIDFweCBuby1yZXBlYXQgdHJhbnNwYXJlbnQ7LS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApOy0tYnV0dG9uLWJhY2tncm91bmQtYWN0aXZhdGVkLW9wYWNpdHk6LjA4Oy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXI6Y3VycmVudENvbG9yOy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eTouMDQ7LS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eTouMTI7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZDp2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSk7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZC1vcGFjaXR5OjE7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KTt0ZXh0LWFsaWduOmNlbnRlcn0uYWN0aW9uLXNoZWV0LWNvbnRhaW5lci5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6OHB4O3BhZGRpbmctcmlnaHQ6OHB4O3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hY3Rpb24tc2hlZXQtY29udGFpbmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo4cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OHB4O3BhZGRpbmctaW5saW5lLWVuZDo4cHh9fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Ym9yZGVyLXJhZGl1czoxM3B4O21hcmdpbi1ib3R0b206OHB4fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDoxMHB4fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjEwcHh9QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXsuYWN0aW9uLXNoZWV0LXRyYW5zbHVjZW50LnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zLWggLmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDI4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDI4MCUpIGJsdXIoMjBweCl9LmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtdGl0bGUuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MsLmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBmcm9tKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSksIHRvKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSkpLCAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBmcm9tKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC40KSksIGNvbG9yLXN0b3AoNTAlLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuNCkpLCBjb2xvci1zdG9wKDUwJSwgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpKSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCkgMTAwJSksIGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuNCksIHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC40KSA1MCUsIHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSA1MCUpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOnRvcCwgYm90dG9tO2JhY2tncm91bmQtc2l6ZToxMDAlIGNhbGMoMTAwJSAtIDFweCksIDEwMCUgMXB4Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDEyMCUpO2JhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxMjAlKX0uYWN0aW9uLXNoZWV0LXRyYW5zbHVjZW50LnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zLWggLmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC43KTtiYWNrZ3JvdW5kLWltYWdlOm5vbmV9LmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtY2FuY2VsLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQpfX0uYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgYm90dG9tLCBsZWZ0IHRvcCwgZnJvbShyZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMDgpKSwgY29sb3Itc3RvcCg1MCUsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkpLCBjb2xvci1zdG9wKDUwJSwgdHJhbnNwYXJlbnQpKSBib3R0b20vMTAwJSAxcHggbm8tcmVwZWF0IHRyYW5zcGFyZW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCksIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkgNTAlLCB0cmFuc3BhcmVudCA1MCUpIGJvdHRvbS8xMDAlIDFweCBuby1yZXBlYXQgdHJhbnNwYXJlbnR9LmFjdGlvbi1zaGVldC10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXJpZ2h0OjEwcHg7cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxM3B4O2NvbG9yOnZhcigtLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LXNpemU6MTNweDtmb250LXdlaWdodDo0MDA7dGV4dC1hbGlnbjpjZW50ZXJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxMHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEwcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMHB4O3BhZGRpbmctaW5saW5lLWVuZDoxMHB4fX0uYWN0aW9uLXNoZWV0LXRpdGxlLmFjdGlvbi1zaGVldC1oYXMtc3ViLXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2ZvbnQtd2VpZ2h0OjYwMH0uYWN0aW9uLXNoZWV0LXN1Yi10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6NnB4O3BhZGRpbmctYm90dG9tOjA7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NDAwfS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDoxOHB4O3BhZGRpbmctcmlnaHQ6MThweDtwYWRkaW5nLXRvcDoxOHB4O3BhZGRpbmctYm90dG9tOjE4cHg7aGVpZ2h0OjU2cHg7Zm9udC1zaXplOjIwcHg7Y29udGFpbjpzdHJpY3R9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MThweDtwYWRkaW5nLWlubGluZS1zdGFydDoxOHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MThweDtwYWRkaW5nLWlubGluZS1lbmQ6MThweH19LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MgLmFjdGlvbi1zaGVldC1pY29uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze21hcmdpbi1yaWdodDowLjNlbTtmb250LXNpemU6MjhweDtwb2ludGVyLWV2ZW50czpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MgLmFjdGlvbi1zaGVldC1pY29uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1lbmQ6MC4zZW07bWFyZ2luLWlubGluZS1lbmQ6MC4zZW19fS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOmxhc3QtY2hpbGR7YmFja2dyb3VuZC1pbWFnZTpub25lfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Zm9udC13ZWlnaHQ6Ym9sZH0uYWN0aW9uLXNoZWV0LWNhbmNlbC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tmb250LXdlaWdodDo2MDB9LmFjdGlvbi1zaGVldC1jYW5jZWwuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQpO29wYWNpdHk6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQtb3BhY2l0eSl9LmFjdGlvbi1zaGVldC1kZXN0cnVjdGl2ZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcywuYWN0aW9uLXNoZWV0LWRlc3RydWN0aXZlLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MsLmFjdGlvbi1zaGVldC1kZXN0cnVjdGl2ZS5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tjb2xvcjp2YXIoLS1pb24tY29sb3ItZGFuZ2VyLCAjZWI0NDVhKX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey5hY3Rpb24tc2hlZXQtZGVzdHJ1Y3RpdmUuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6aG92ZXJ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWRhbmdlciwgI2ViNDQ1YSl9fSc7dmFyIGFjdGlvblNoZWV0TWRDc3M9Jy5zYy1pb24tYWN0aW9uLXNoZWV0LW1kLWh7LS1jb2xvcjppbml0aWFsOy0tYnV0dG9uLWNvbG9yLWFjdGl2YXRlZDp2YXIoLS1idXR0b24tY29sb3IpOy0tYnV0dG9uLWNvbG9yLWZvY3VzZWQ6dmFyKC0tYnV0dG9uLWNvbG9yKTstLWJ1dHRvbi1jb2xvci1ob3Zlcjp2YXIoLS1idXR0b24tY29sb3IpOy0tYnV0dG9uLWNvbG9yLXNlbGVjdGVkOnZhcigtLWJ1dHRvbi1jb2xvcik7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOjEwMCU7LS1tYXgtd2lkdGg6NTAwcHg7LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6MTAwJTstLW1heC1oZWlnaHQ6Y2FsYygxMDAlIC0gKHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSArIHZhcigtLWlvbi1zYWZlLWFyZWEtYm90dG9tKSkpOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246Zml4ZWQ7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQtaHtkaXNwbGF5Om5vbmV9LmFjdGlvbi1zaGVldC13cmFwcGVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bzttYXJnaW4tdG9wOnZhcigtLWlvbi1zYWZlLWFyZWEtdG9wLCAwKTttYXJnaW4tYm90dG9tOnZhcigtLWlvbi1zYWZlLWFyZWEtYm90dG9tLCAwKTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTt6LWluZGV4OjEwO3BvaW50ZXItZXZlbnRzOm5vbmV9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LXdyYXBwZXIuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0b319LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7Ym9yZGVyOjA7b3V0bGluZTpub25lO2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvcik7Zm9udC1mYW1pbHk6aW5oZXJpdDtvdmVyZmxvdzpoaWRkZW59LmFjdGlvbi1zaGVldC1idXR0b24taW5uZXIuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwb2ludGVyLWV2ZW50czpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDoxfS5hY3Rpb24tc2hlZXQtY29udGFpbmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZmxvdzpjb2x1bW47ZmxleC1mbG93OmNvbHVtbjstbXMtZmxleC1wYWNrOmVuZDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7aGVpZ2h0OjEwMCU7bWF4LWhlaWdodDoxMDAlfS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHstbXMtZmxleC1uZWdhdGl2ZToyO2ZsZXgtc2hyaW5rOjI7b3ZlcnNjcm9sbC1iZWhhdmlvci15OmNvbnRhaW47b3ZlcmZsb3cteTphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO3BvaW50ZXItZXZlbnRzOmFsbDtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpfS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1tZDo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS5hY3Rpb24tc2hlZXQtZ3JvdXAtY2FuY2VsLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowO292ZXJmbG93OmhpZGRlbn0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOjphZnRlcntsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OlwiXCI7b3BhY2l0eTowfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtjb2xvcjp2YXIoLS1idXR0b24tY29sb3Itc2VsZWN0ZWQpfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1tZDo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZCk7b3BhY2l0eTp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZC1vcGFjaXR5KX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tYWN0aXZhdGVkLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLWFjdGl2YXRlZCl9LmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWFjdGl2YXRlZCk7b3BhY2l0eTp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQtb3BhY2l0eSl9LmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWZvY3VzZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtjb2xvcjp2YXIoLS1idXR0b24tY29sb3ItZm9jdXNlZCl9LmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWZvY3VzZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1tZDo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eSl9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOmhvdmVye2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvci1ob3Zlcil9LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1tZDpob3Zlcjo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1ob3Zlcik7b3BhY2l0eTp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1ob3Zlci1vcGFjaXR5KX19LnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvciwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpKTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMzIpOy0tYnV0dG9uLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZDpjdXJyZW50Q29sb3I7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZC1vcGFjaXR5OjA7LS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6dHJhbnNwYXJlbnQ7LS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQtb3BhY2l0eTowOy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXI6Y3VycmVudENvbG9yOy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eTouMDQ7LS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eTouMTI7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtODUwLCAjMjYyNjI2KTstLWNvbG9yOnJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC41NCl9LmFjdGlvbi1zaGVldC10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDoyMHB4O3BhZGRpbmctYm90dG9tOjE3cHg7bWluLWhlaWdodDo2MHB4O2NvbG9yOnZhcigtLWNvbG9yLCByZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuNTQpKTtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOnN0YXJ0fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxNnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjE2cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxNnB4O3BhZGRpbmctaW5saW5lLWVuZDoxNnB4fX0uYWN0aW9uLXNoZWV0LXN1Yi10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDoxNnB4O3BhZGRpbmctYm90dG9tOjA7Zm9udC1zaXplOjE0cHh9LmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOmZpcnN0LWNoaWxke3BhZGRpbmctdG9wOjB9LmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOmxhc3QtY2hpbGR7cGFkZGluZy1ib3R0b206MH0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7cG9zaXRpb246cmVsYXRpdmU7aGVpZ2h0OjUycHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpzdGFydDtjb250YWluOnN0cmljdDtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxNnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjE2cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxNnB4O3BhZGRpbmctaW5saW5lLWVuZDoxNnB4fX0uYWN0aW9uLXNoZWV0LWljb24uc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtwYWRkaW5nLWJvdHRvbTo0cHg7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MzJweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2NvbG9yOnZhcigtLWNvbG9yKTtmb250LXNpemU6MjRweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hY3Rpb24tc2hlZXQtaWNvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDowO21hcmdpbi1pbmxpbmUtc3RhcnQ6MDstd2Via2l0LW1hcmdpbi1lbmQ6MzJweDttYXJnaW4taW5saW5lLWVuZDozMnB4fX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWN0aW9uLXNoZWV0LW1key1tcy1mbGV4LXBhY2s6c3RhcnQ7anVzdGlmeS1jb250ZW50OmZsZXgtc3RhcnR9LmFjdGlvbi1zaGVldC1zZWxlY3RlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke2ZvbnQtd2VpZ2h0OmJvbGR9Jzt2YXIgQWN0aW9uU2hlZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7cmVnaXN0ZXJJbnN0YW5jZSh0aGlzLHQpO3RoaXMuZGlkUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uQWN0aW9uU2hlZXREaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uQWN0aW9uU2hlZXRXaWxsUHJlc2VudFwiLDcpO3RoaXMud2lsbERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvbkFjdGlvblNoZWV0V2lsbERpc21pc3NcIiw3KTt0aGlzLmRpZERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvbkFjdGlvblNoZWV0RGlkRGlzbWlzc1wiLDcpO3RoaXMucHJlc2VudGVkPWZhbHNlO3RoaXMua2V5Ym9hcmRDbG9zZT10cnVlO3RoaXMuYnV0dG9ucz1bXTt0aGlzLmJhY2tkcm9wRGlzbWlzcz10cnVlO3RoaXMudHJhbnNsdWNlbnQ9ZmFsc2U7dGhpcy5hbmltYXRlZD10cnVlO3RoaXMub25CYWNrZHJvcFRhcD1mdW5jdGlvbigpe2UuZGlzbWlzcyh1bmRlZmluZWQsQkFDS0RST1ApfTt0aGlzLmRpc3BhdGNoQ2FuY2VsSGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgcj10LmRldGFpbC5yb2xlO2lmKGlzQ2FuY2VsKHIpKXt2YXIgaT1lLmdldEJ1dHRvbnMoKS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb2xlPT09XCJjYW5jZWxcIn0pKTtlLmNhbGxCdXR0b25IYW5kbGVyKGkpfX19dC5wcm90b3R5cGUucHJlc2VudD1mdW5jdGlvbigpe3JldHVybiBwcmVzZW50KHRoaXMsXCJhY3Rpb25TaGVldEVudGVyXCIsaW9zRW50ZXJBbmltYXRpb24kNixtZEVudGVyQW5pbWF0aW9uJDUpfTt0LnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ByZXBhcmVPdmVybGF5KHRoaXMuZWwpfTt0LnByb3RvdHlwZS5kaXNtaXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRpc21pc3ModGhpcyx0LGUsXCJhY3Rpb25TaGVldExlYXZlXCIsaW9zTGVhdmVBbmltYXRpb24kNixtZExlYXZlQW5pbWF0aW9uJDUpfTt0LnByb3RvdHlwZS5vbkRpZERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvbkFjdGlvblNoZWV0RGlkRGlzbWlzc1wiKX07dC5wcm90b3R5cGUub25XaWxsRGlzbWlzcz1mdW5jdGlvbigpe3JldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLFwiaW9uQWN0aW9uU2hlZXRXaWxsRGlzbWlzc1wiKX07dC5wcm90b3R5cGUuYnV0dG9uQ2xpY2s9ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDplPXQucm9sZTtpZihpc0NhbmNlbChlKSl7cmV0dXJuWzIsdGhpcy5kaXNtaXNzKHQuZGF0YSxlKV19cmV0dXJuWzQsdGhpcy5jYWxsQnV0dG9uSGFuZGxlcih0KV07Y2FzZSAxOnI9aS5zZW50KCk7aWYocil7cmV0dXJuWzIsdGhpcy5kaXNtaXNzKHQuZGF0YSx0LnJvbGUpXX1yZXR1cm5bMixQcm9taXNlLnJlc29sdmUoKV19fSkpfSkpfTt0LnByb3RvdHlwZS5jYWxsQnV0dG9uSGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDppZighdClyZXR1cm5bMywyXTtyZXR1cm5bNCxzYWZlQ2FsbCh0LmhhbmRsZXIpXTtjYXNlIDE6ZT1yLnNlbnQoKTtpZihlPT09ZmFsc2Upe3JldHVyblsyLGZhbHNlXX1yLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLHRydWVdfX0pKX0pKX07dC5wcm90b3R5cGUuZ2V0QnV0dG9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1dHRvbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHQ9PT1cInN0cmluZ1wiP3t0ZXh0OnR9OnR9KSl9O3QucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5nZXN0dXJlKXt0aGlzLmdlc3R1cmUuZGVzdHJveSgpO3RoaXMuZ2VzdHVyZT11bmRlZmluZWR9fTt0LnByb3RvdHlwZS5jb21wb25lbnREaWRMb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2YXIgZT10aGlzLHI9ZS5ncm91cEVsLGk9ZS53cmFwcGVyRWw7aWYodGhpcy5nZXN0dXJlfHxnZXRJb25Nb2RlKHRoaXMpPT09XCJtZFwifHwhaXx8IXIpe3JldHVybn1yZWFkVGFzaygoZnVuY3Rpb24oKXt2YXIgZT1yLnNjcm9sbEhlaWdodD5yLmNsaWVudEhlaWdodDtpZighZSl7dC5nZXN0dXJlPWNyZWF0ZUJ1dHRvbkFjdGl2ZUdlc3R1cmUoaSwoZnVuY3Rpb24odCl7cmV0dXJuIHQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aW9uLXNoZWV0LWJ1dHRvblwiKX0pKTt0Lmdlc3R1cmUuZW5hYmxlKHRydWUpfX0pKX07dC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ7dmFyIGU9dGhpczt2YXIgcj10aGlzLmh0bWxBdHRyaWJ1dGVzO3ZhciBpPWdldElvbk1vZGUodGhpcyk7dmFyIG89dGhpcy5nZXRCdXR0b25zKCk7dmFyIG49by5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb2xlPT09XCJjYW5jZWxcIn0pKTt2YXIgYT1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQucm9sZSE9PVwiY2FuY2VsXCJ9KSk7cmV0dXJuIGgoSG9zdCxPYmplY3QuYXNzaWduKHtyb2xlOlwiZGlhbG9nXCIsXCJhcmlhLW1vZGFsXCI6XCJ0cnVlXCIsdGFiaW5kZXg6XCItMVwifSxyLHtzdHlsZTp7ekluZGV4OlwiXCIrKDJlNCt0aGlzLm92ZXJsYXlJbmRleCl9LGNsYXNzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbigodD17fSx0W2ldPXRydWUsdCksZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLHtcIm92ZXJsYXktaGlkZGVuXCI6dHJ1ZSxcImFjdGlvbi1zaGVldC10cmFuc2x1Y2VudFwiOnRoaXMudHJhbnNsdWNlbnR9KSxvbklvbkFjdGlvblNoZWV0V2lsbERpc21pc3M6dGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXIsb25Jb25CYWNrZHJvcFRhcDp0aGlzLm9uQmFja2Ryb3BUYXB9KSxoKFwiaW9uLWJhY2tkcm9wXCIse3RhcHBhYmxlOnRoaXMuYmFja2Ryb3BEaXNtaXNzfSksaChcImRpdlwiLHt0YWJpbmRleDpcIjBcIn0pLGgoXCJkaXZcIix7Y2xhc3M6XCJhY3Rpb24tc2hlZXQtd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIscm9sZTpcImRpYWxvZ1wiLHJlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS53cmFwcGVyRWw9dH19LGgoXCJkaXZcIix7Y2xhc3M6XCJhY3Rpb24tc2hlZXQtY29udGFpbmVyXCJ9LGgoXCJkaXZcIix7Y2xhc3M6XCJhY3Rpb24tc2hlZXQtZ3JvdXBcIixyZWY6ZnVuY3Rpb24odCl7cmV0dXJuIGUuZ3JvdXBFbD10fX0sdGhpcy5oZWFkZXIhPT11bmRlZmluZWQmJmgoXCJkaXZcIix7Y2xhc3M6e1wiYWN0aW9uLXNoZWV0LXRpdGxlXCI6dHJ1ZSxcImFjdGlvbi1zaGVldC1oYXMtc3ViLXRpdGxlXCI6dGhpcy5zdWJIZWFkZXIhPT11bmRlZmluZWR9fSx0aGlzLmhlYWRlcix0aGlzLnN1YkhlYWRlciYmaChcImRpdlwiLHtjbGFzczpcImFjdGlvbi1zaGVldC1zdWItdGl0bGVcIn0sdGhpcy5zdWJIZWFkZXIpKSxhLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGgoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLGlkOnQuaWQsY2xhc3M6YnV0dG9uQ2xhc3MkMyh0KSxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGUuYnV0dG9uQ2xpY2sodCl9fSxoKFwic3BhblwiLHtjbGFzczpcImFjdGlvbi1zaGVldC1idXR0b24taW5uZXJcIn0sdC5pY29uJiZoKFwiaW9uLWljb25cIix7aWNvbjp0Lmljb24sbGF6eTpmYWxzZSxjbGFzczpcImFjdGlvbi1zaGVldC1pY29uXCJ9KSx0LnRleHQpLGk9PT1cIm1kXCImJmgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLG51bGwpKX0pKSksbiYmaChcImRpdlwiLHtjbGFzczpcImFjdGlvbi1zaGVldC1ncm91cCBhY3Rpb24tc2hlZXQtZ3JvdXAtY2FuY2VsXCJ9LGgoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLGNsYXNzOmJ1dHRvbkNsYXNzJDMobiksb25DbGljazpmdW5jdGlvbigpe3JldHVybiBlLmJ1dHRvbkNsaWNrKG4pfX0saChcInNwYW5cIix7Y2xhc3M6XCJhY3Rpb24tc2hlZXQtYnV0dG9uLWlubmVyXCJ9LG4uaWNvbiYmaChcImlvbi1pY29uXCIse2ljb246bi5pY29uLGxhenk6ZmFsc2UsY2xhc3M6XCJhY3Rpb24tc2hlZXQtaWNvblwifSksbi50ZXh0KSxpPT09XCJtZFwiJiZoKFwiaW9uLXJpcHBsZS1lZmZlY3RcIixudWxsKSkpKSksaChcImRpdlwiLHt0YWJpbmRleDpcIjBcIn0pKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldEVsZW1lbnQodGhpcyl9LGVudW1lcmFibGU6ZmFsc2UsY29uZmlndXJhYmxlOnRydWV9KTtyZXR1cm4gdH0oKTt2YXIgYnV0dG9uQ2xhc3MkMz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0LmFzc2lnbigoZT17XCJhY3Rpb24tc2hlZXQtYnV0dG9uXCI6dHJ1ZSxcImlvbi1hY3RpdmF0YWJsZVwiOnRydWUsXCJpb24tZm9jdXNhYmxlXCI6dHJ1ZX0sZVtcImFjdGlvbi1zaGVldC1cIit0LnJvbGVdPXQucm9sZSE9PXVuZGVmaW5lZCxlKSxnZXRDbGFzc01hcCh0LmNzc0NsYXNzKSl9O0FjdGlvblNoZWV0LnN0eWxlPXtpb3M6YWN0aW9uU2hlZXRJb3NDc3MsbWQ6YWN0aW9uU2hlZXRNZENzc307dmFyIGlvc0VudGVyQW5pbWF0aW9uJDU9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSxcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIpLmJlZm9yZVN0eWxlcyh7XCJwb2ludGVyLWV2ZW50c1wiOlwibm9uZVwifSkuYWZ0ZXJDbGVhclN0eWxlcyhbXCJwb2ludGVyLWV2ZW50c1wiXSk7aS5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcIi5hbGVydC13cmFwcGVyXCIpKS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxvcGFjaXR5OlwiMC4wMVwiLHRyYW5zZm9ybTpcInNjYWxlKDEuMSlcIn0se29mZnNldDoxLG9wYWNpdHk6XCIxXCIsdHJhbnNmb3JtOlwic2NhbGUoMSlcIn1dKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImVhc2UtaW4tb3V0XCIpLmR1cmF0aW9uKDIwMCkuYWRkQW5pbWF0aW9uKFtyLGldKX07dmFyIGlvc0xlYXZlQW5pbWF0aW9uJDU9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIiwwKTtpLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiLmFsZXJ0LXdyYXBwZXJcIikpLmtleWZyYW1lcyhbe29mZnNldDowLG9wYWNpdHk6Ljk5LHRyYW5zZm9ybTpcInNjYWxlKDEpXCJ9LHtvZmZzZXQ6MSxvcGFjaXR5OjAsdHJhbnNmb3JtOlwic2NhbGUoMC45KVwifV0pO3JldHVybiBlLmFkZEVsZW1lbnQodCkuZWFzaW5nKFwiZWFzZS1pbi1vdXRcIikuZHVyYXRpb24oMjAwKS5hZGRBbmltYXRpb24oW3IsaV0pfTt2YXIgbWRFbnRlckFuaW1hdGlvbiQ0PWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciByPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBpPWNyZWF0ZUFuaW1hdGlvbigpO3IuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiKS5iZWZvcmVTdHlsZXMoe1wicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pLmFmdGVyQ2xlYXJTdHlsZXMoW1wicG9pbnRlci1ldmVudHNcIl0pO2kuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCIuYWxlcnQtd3JhcHBlclwiKSkua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsb3BhY2l0eTpcIjAuMDFcIix0cmFuc2Zvcm06XCJzY2FsZSgwLjkpXCJ9LHtvZmZzZXQ6MSxvcGFjaXR5OlwiMVwiLHRyYW5zZm9ybTpcInNjYWxlKDEpXCJ9XSk7cmV0dXJuIGUuYWRkRWxlbWVudCh0KS5lYXNpbmcoXCJlYXNlLWluLW91dFwiKS5kdXJhdGlvbigxNTApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBtZExlYXZlQW5pbWF0aW9uJDQ9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIiwwKTtpLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiLmFsZXJ0LXdyYXBwZXJcIikpLmZyb21UbyhcIm9wYWNpdHlcIiwuOTksMCk7cmV0dXJuIGUuYWRkRWxlbWVudCh0KS5lYXNpbmcoXCJlYXNlLWluLW91dFwiKS5kdXJhdGlvbigxNTApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBhbGVydElvc0Nzcz1cIi5zYy1pb24tYWxlcnQtaW9zLWh7LS1taW4td2lkdGg6MjUwcHg7LS13aWR0aDphdXRvOy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OjkwJTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1hbGVydC1pb3MtaHtkaXNwbGF5Om5vbmV9LmFsZXJ0LXRvcC5zYy1pb24tYWxlcnQtaW9zLWh7cGFkZGluZy10b3A6NTBweDstbXMtZmxleC1hbGlnbjpzdGFydDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0fS5hbGVydC13cmFwcGVyLnNjLWlvbi1hbGVydC1pb3N7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRhaW46Y29udGVudDtvcGFjaXR5OjA7ei1pbmRleDoxMH0uYWxlcnQtdGl0bGUuc2MtaW9uLWFsZXJ0LWlvc3ttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MH0uYWxlcnQtc3ViLXRpdGxlLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjVweDttYXJnaW4tYm90dG9tOjA7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MDtmb250LXdlaWdodDpub3JtYWx9LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LWlvc3std2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7b3ZlcmZsb3cteTphdXRvO292ZXJzY3JvbGwtYmVoYXZpb3IteTpjb250YWlufS5hbGVydC1jaGVja2JveC1ncm91cC5zYy1pb24tYWxlcnQtaW9zOjotd2Via2l0LXNjcm9sbGJhciwuYWxlcnQtcmFkaW8tZ3JvdXAuc2MtaW9uLWFsZXJ0LWlvczo6LXdlYmtpdC1zY3JvbGxiYXIsLmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LWlvczo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7d2lkdGg6MTAwJTtib3JkZXI6MDtiYWNrZ3JvdW5kOmluaGVyaXQ7Zm9udDppbmhlcml0Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveH0uYWxlcnQtYnV0dG9uLWdyb3VwLnNjLWlvbi1hbGVydC1pb3N7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7d2lkdGg6MTAwJX0uYWxlcnQtYnV0dG9uLWdyb3VwLXZlcnRpY2FsLnNjLWlvbi1hbGVydC1pb3N7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtd3JhcDpub3dyYXA7ZmxleC13cmFwOm5vd3JhcH0uYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2Rpc3BsYXk6YmxvY2s7Ym9yZGVyOjA7Zm9udC1zaXplOjE0cHg7bGluZS1oZWlnaHQ6MjBweDt6LWluZGV4OjB9LmFsZXJ0LWJ1dHRvbi5pb24tZm9jdXNlZC5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC10YXBwYWJsZS5pb24tZm9jdXNlZC5zYy1pb24tYWxlcnQtaW9ze2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZTZlNmU2KX0uYWxlcnQtYnV0dG9uLWlubmVyLnNjLWlvbi1hbGVydC1pb3N7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZmxvdzpyb3cgbm93cmFwO2ZsZXgtZmxvdzpyb3cgbm93cmFwOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uYWxlcnQtaW5wdXQtZGlzYWJsZWQuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtY2hlY2tib3gtYnV0dG9uLWRpc2FibGVkLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1yYWRpby1idXR0b24tZGlzYWJsZWQuc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtYnV0dG9uLWlubmVyLnNjLWlvbi1hbGVydC1pb3N7Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTowLjU7cG9pbnRlci1ldmVudHM6bm9uZX0uYWxlcnQtdGFwcGFibGUuc2MtaW9uLWFsZXJ0LWlvc3ttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDt3aWR0aDoxMDAlO2JvcmRlcjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Zm9udC1zaXplOmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5pdGlhbDt0ZXh0LWFsaWduOnN0YXJ0Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lOy1tb3otYXBwZWFyYW5jZTpub25lO2FwcGVhcmFuY2U6bm9uZTtjb250YWluOnN0cmljdH0uYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWNoZWNrYm94LnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LXJhZGlvLnNjLWlvbi1hbGVydC1pb3N7b3V0bGluZTpub25lfS5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtY2hlY2tib3gtaW5uZXIuc2MtaW9uLWFsZXJ0LWlvc3std2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9dGV4dGFyZWEuYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvc3ttaW4taGVpZ2h0OjM3cHg7cmVzaXplOm5vbmV9LnNjLWlvbi1hbGVydC1pb3MtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZjlmOWY5KSk7LS1tYXgtd2lkdGg6MjcwcHg7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjMpO2ZvbnQtc2l6ZToxNHB4fS5hbGVydC13cmFwcGVyLnNjLWlvbi1hbGVydC1pb3N7Ym9yZGVyLXJhZGl1czoxM3B4Oy13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZTtvdmVyZmxvdzpoaWRkZW59LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1idXR0b24taW5uZXIuc2MtaW9uLWFsZXJ0LWlvc3twb2ludGVyLWV2ZW50czpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSBvciAoYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSl7LmFsZXJ0LXRyYW5zbHVjZW50LnNjLWlvbi1hbGVydC1pb3MtaCAuYWxlcnQtd3JhcHBlci5zYy1pb24tYWxlcnQtaW9ze2JhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjkpOy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCl9fS5hbGVydC1oZWFkLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OjE2cHg7cGFkZGluZy1yaWdodDoxNnB4O3BhZGRpbmctdG9wOjEycHg7cGFkZGluZy1ib3R0b206N3B4O3RleHQtYWxpZ246Y2VudGVyfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWhlYWQuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTZweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTZweDtwYWRkaW5nLWlubGluZS1lbmQ6MTZweH19LmFsZXJ0LXRpdGxlLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLXRvcDo4cHg7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtc2l6ZToxN3B4O2ZvbnQtd2VpZ2h0OjYwMH0uYWxlcnQtc3ViLXRpdGxlLnNjLWlvbi1hbGVydC1pb3N7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNjAwLCAjNjY2NjY2KTtmb250LXNpemU6MTRweH0uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1pbnB1dC1ncm91cC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjIxcHg7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtc2l6ZToxM3B4O3RleHQtYWxpZ246Y2VudGVyfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtaW5wdXQtZ3JvdXAuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTZweDtwYWRkaW5nLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTZweDtwYWRkaW5nLWlubGluZS1lbmQ6MTZweH19LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LWlvc3ttYXgtaGVpZ2h0OjI0MHB4fS5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1pb3M6ZW1wdHl7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MTJweH0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvc3tib3JkZXItcmFkaXVzOjRweDttYXJnaW4tdG9wOjEwcHg7cGFkZGluZy1sZWZ0OjZweDtwYWRkaW5nLXJpZ2h0OjZweDtwYWRkaW5nLXRvcDo2cHg7cGFkZGluZy1ib3R0b206NnB4O2JvcmRlcjowLjU1cHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMjUwLCAjYmZiZmJmKTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmV9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6NnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjZweDstd2Via2l0LXBhZGRpbmctZW5kOjZweDtwYWRkaW5nLWlubGluZS1lbmQ6NnB4fX0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvczo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjp2YXIoLS1pb24tcGxhY2Vob2xkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTQwMCwgIzk5OTk5OSkpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvczo6LW1vei1wbGFjZWhvbGRlcntjb2xvcjp2YXIoLS1pb24tcGxhY2Vob2xkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTQwMCwgIzk5OTk5OSkpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvczotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6Oi1tcy1pbnB1dC1wbGFjZWhvbGRlcntjb2xvcjp2YXIoLS1pb24tcGxhY2Vob2xkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTQwMCwgIzk5OTk5OSkpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdH0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvczo6cGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6Oi1tcy1jbGVhcntkaXNwbGF5Om5vbmV9LmFsZXJ0LXJhZGlvLWdyb3VwLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWNoZWNrYm94LWdyb3VwLnNjLWlvbi1hbGVydC1pb3N7LW1zLXNjcm9sbC1jaGFpbmluZzpub25lO292ZXJzY3JvbGwtYmVoYXZpb3I6Y29udGFpbjttYXgtaGVpZ2h0OjI0MHB4O2JvcmRlci10b3A6MC41NXB4IHNvbGlkIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4yKTtvdmVyZmxvdy15OmF1dG87LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2h9LmFsZXJ0LXRhcHBhYmxlLnNjLWlvbi1hbGVydC1pb3N7aGVpZ2h0OjQ0cHh9LmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OjEzcHg7cGFkZGluZy1yaWdodDoxM3B4O3BhZGRpbmctdG9wOjEzcHg7cGFkZGluZy1ib3R0b206MTNweDstbXMtZmxleDoxO2ZsZXg6MTstbXMtZmxleC1vcmRlcjowO29yZGVyOjA7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1yYWRpby1sYWJlbC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxM3B4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEzcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxM3B4O3BhZGRpbmctaW5saW5lLWVuZDoxM3B4fX1bYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1pb3N7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfS5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1pb3N7cG9zaXRpb246cmVsYXRpdmU7LW1zLWZsZXgtb3JkZXI6MTtvcmRlcjoxO21pbi13aWR0aDozMHB4fVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtcmFkaW8taW5uZXIuc2MtaW9uLWFsZXJ0LWlvc3tsZWZ0OjdweDt0b3A6LTdweDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2cHg7aGVpZ2h0OjEycHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtib3JkZXItd2lkdGg6MnB4O2JvcmRlci10b3Atd2lkdGg6MDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtaW9zIFthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtcmFkaW8taW5uZXIuc2MtaW9uLWFsZXJ0LWlvcyxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcy1oIFthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtcmFkaW8taW5uZXIuc2MtaW9uLWFsZXJ0LWlvcyxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1pb3MtaCBbYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1pb3N7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDo3cHh9LmFsZXJ0LWNoZWNrYm94LWxhYmVsLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OjEzcHg7cGFkZGluZy1yaWdodDoxM3B4O3BhZGRpbmctdG9wOjEzcHg7cGFkZGluZy1ib3R0b206MTNweDstbXMtZmxleDoxO2ZsZXg6MTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWNoZWNrYm94LWxhYmVsLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEzcHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTNweDstd2Via2l0LXBhZGRpbmctZW5kOjEzcHg7cGFkZGluZy1pbmxpbmUtZW5kOjEzcHh9fS5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1pb3N7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6MTZweDttYXJnaW4tcmlnaHQ6NnB4O21hcmdpbi10b3A6MTBweDttYXJnaW4tYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtib3JkZXItd2lkdGg6MXB4O2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0taW9uLWl0ZW0tYm9yZGVyLWNvbG9yLCB2YXIoLS1pb24tYm9yZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC0yNTAsICNjOGM3Y2MpKSk7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pb24taXRlbS1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpO2NvbnRhaW46c3RyaWN0fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LWlvc3ttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHg7LXdlYmtpdC1tYXJnaW4tZW5kOjZweDttYXJnaW4taW5saW5lLWVuZDo2cHh9fVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtaW9ze2JvcmRlci1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZil9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtaW9ze2xlZnQ6OXB4O3RvcDo0cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NXB4O2hlaWdodDoxMnB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItdG9wLXdpZHRoOjA7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKX1bZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcyBbYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1pb3MsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MtaCBbYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1pb3MsW2Rpcj1ydGxdIC5zYy1pb24tYWxlcnQtaW9zLWggW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtaW9ze2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6OXB4fS5hbGVydC1idXR0b24tZ3JvdXAuc2MtaW9uLWFsZXJ0LWlvc3ttYXJnaW4tcmlnaHQ6LTAuNTVweDstbXMtZmxleC13cmFwOndyYXA7ZmxleC13cmFwOndyYXB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtYnV0dG9uLWdyb3VwLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLWVuZDotMC41NXB4O21hcmdpbi1pbmxpbmUtZW5kOi0wLjU1cHh9fS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvc3ttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7Ym9yZGVyLXJhZGl1czowOy1tcy1mbGV4OjEgMSBhdXRvO2ZsZXg6MSAxIGF1dG87bWluLXdpZHRoOjUwJTtoZWlnaHQ6NDRweDtib3JkZXItdG9wOjAuNTVweCBzb2xpZCByZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMik7Ym9yZGVyLXJpZ2h0OjAuNTVweCBzb2xpZCByZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMik7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7Zm9udC1zaXplOjE3cHg7b3ZlcmZsb3c6aGlkZGVufVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvczpmaXJzdC1jaGlsZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcy1oIC5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvczpmaXJzdC1jaGlsZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1pb3MtaCAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6Zmlyc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0OjB9LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9zOmxhc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0OjA7Zm9udC13ZWlnaHQ6Ym9sZH1bZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6bGFzdC1jaGlsZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcy1oIC5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvczpsYXN0LWNoaWxkLFtkaXI9cnRsXSAuc2MtaW9uLWFsZXJ0LWlvcy1oIC5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvczpsYXN0LWNoaWxke2JvcmRlci1yaWdodDowLjU1cHggc29saWQgcmdiYSh2YXIoLS1pb24tdGV4dC1jb2xvci1yZ2IsIDAsIDAsIDApLCAwLjIpfS5hbGVydC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWxlcnQtaW9ze2JhY2tncm91bmQtY29sb3I6cmdiYSh2YXIoLS1pb24tdGV4dC1jb2xvci1yZ2IsIDAsIDAsIDApLCAwLjEpfS5hbGVydC1idXR0b24tcm9sZS1kZXN0cnVjdGl2ZS5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1idXR0b24tcm9sZS1kZXN0cnVjdGl2ZS5pb24tYWN0aXZhdGVkLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWJ1dHRvbi1yb2xlLWRlc3RydWN0aXZlLmlvbi1mb2N1c2VkLnNjLWlvbi1hbGVydC1pb3N7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWRhbmdlciwgI2ViNDQ1YSl9XCI7dmFyIGFsZXJ0TWRDc3M9XCIuc2MtaW9uLWFsZXJ0LW1kLWh7LS1taW4td2lkdGg6MjUwcHg7LS13aWR0aDphdXRvOy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OjkwJTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1hbGVydC1tZC1oe2Rpc3BsYXk6bm9uZX0uYWxlcnQtdG9wLnNjLWlvbi1hbGVydC1tZC1oe3BhZGRpbmctdG9wOjUwcHg7LW1zLWZsZXgtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uYWxlcnQtd3JhcHBlci5zYy1pb24tYWxlcnQtbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRhaW46Y29udGVudDtvcGFjaXR5OjA7ei1pbmRleDoxMH0uYWxlcnQtdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowfS5hbGVydC1zdWItdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7Zm9udC13ZWlnaHQ6bm9ybWFsfS5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZHstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7b3ZlcmZsb3cteTphdXRvO292ZXJzY3JvbGwtYmVoYXZpb3IteTpjb250YWlufS5hbGVydC1jaGVja2JveC1ncm91cC5zYy1pb24tYWxlcnQtbWQ6Oi13ZWJraXQtc2Nyb2xsYmFyLC5hbGVydC1yYWRpby1ncm91cC5zYy1pb24tYWxlcnQtbWQ6Oi13ZWJraXQtc2Nyb2xsYmFyLC5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZDo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweDt3aWR0aDoxMDAlO2JvcmRlcjowO2JhY2tncm91bmQ6aW5oZXJpdDtmb250OmluaGVyaXQ7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5hbGVydC1idXR0b24tZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3dpZHRoOjEwMCV9LmFsZXJ0LWJ1dHRvbi1ncm91cC12ZXJ0aWNhbC5zYy1pb24tYWxlcnQtbWR7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtd3JhcDpub3dyYXA7ZmxleC13cmFwOm5vd3JhcH0uYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1tZHttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7ZGlzcGxheTpibG9jaztib3JkZXI6MDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O3otaW5kZXg6MH0uYWxlcnQtYnV0dG9uLmlvbi1mb2N1c2VkLnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtdGFwcGFibGUuaW9uLWZvY3VzZWQuc2MtaW9uLWFsZXJ0LW1ke2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZTZlNmU2KX0uYWxlcnQtYnV0dG9uLWlubmVyLnNjLWlvbi1hbGVydC1tZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5hbGVydC1pbnB1dC1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWNoZWNrYm94LWJ1dHRvbi1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LXJhZGlvLWJ1dHRvbi1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtbWR7Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTowLjU7cG9pbnRlci1ldmVudHM6bm9uZX0uYWxlcnQtdGFwcGFibGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtmb250LXNpemU6aW5oZXJpdDtsaW5lLWhlaWdodDppbml0aWFsO3RleHQtYWxpZ246c3RhcnQ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO2NvbnRhaW46c3RyaWN0fS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LW1kLC5hbGVydC1jaGVja2JveC5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtcmFkaW8uc2MtaW9uLWFsZXJ0LW1ke291dGxpbmU6bm9uZX0uYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LW1kLC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtbWR7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fXRleHRhcmVhLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZHttaW4taGVpZ2h0OjM3cHg7cmVzaXplOm5vbmV9LnNjLWlvbi1hbGVydC1tZC1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpOy0tbWF4LXdpZHRoOjI4MHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMik7Zm9udC1zaXplOjE0cHh9LmFsZXJ0LXdyYXBwZXIuc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1yYWRpdXM6NHB4Oy13ZWJraXQtYm94LXNoYWRvdzowIDExcHggMTVweCAtN3B4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAyNHB4IDM4cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgOXB4IDQ2cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xMik7Ym94LXNoYWRvdzowIDExcHggMTVweCAtN3B4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAyNHB4IDM4cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgOXB4IDQ2cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xMil9LmFsZXJ0LWhlYWQuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDoyM3B4O3BhZGRpbmctcmlnaHQ6MjNweDtwYWRkaW5nLXRvcDoyMHB4O3BhZGRpbmctYm90dG9tOjE1cHg7dGV4dC1hbGlnbjpzdGFydH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1oZWFkLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MjNweDtwYWRkaW5nLWlubGluZS1zdGFydDoyM3B4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjNweDtwYWRkaW5nLWlubGluZS1lbmQ6MjNweH19LmFsZXJ0LXRpdGxlLnNjLWlvbi1hbGVydC1tZHtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1zaXplOjIwcHg7Zm9udC13ZWlnaHQ6NTAwfS5hbGVydC1zdWItdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LXNpemU6MTZweH0uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LWdyb3VwLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6MjRweDtwYWRkaW5nLXJpZ2h0OjI0cHg7cGFkZGluZy10b3A6MjBweDtwYWRkaW5nLWJvdHRvbToyMHB4O2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myl9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LWdyb3VwLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MjRweDtwYWRkaW5nLWlubGluZS1zdGFydDoyNHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjRweDtwYWRkaW5nLWlubGluZS1lbmQ6MjRweH19LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LW1ke21heC1oZWlnaHQ6MjY2cHg7Zm9udC1zaXplOjE2cHh9LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LW1kOmVtcHR5e3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjB9LmFsZXJ0LWhlYWQuc2MtaW9uLWFsZXJ0LW1kKy5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLXRvcDowfS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWR7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjVweDttYXJnaW4tYm90dG9tOjVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsICNkOWQ5ZDkpO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LW1kOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6OnBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6Oi1tcy1jbGVhcntkaXNwbGF5Om5vbmV9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDpmb2N1c3ttYXJnaW4tYm90dG9tOjRweDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZil9LmFsZXJ0LXJhZGlvLWdyb3VwLnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtY2hlY2tib3gtZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke3Bvc2l0aW9uOnJlbGF0aXZlO21heC1oZWlnaHQ6MjY2cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCAjZDlkOWQ5KTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsICNkOWQ5ZDkpO292ZXJmbG93OmF1dG99LmFsZXJ0LXRhcHBhYmxlLnNjLWlvbi1hbGVydC1tZHtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6NDhweDtvdmVyZmxvdzpoaWRkZW59LmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6NTJweDtwYWRkaW5nLXJpZ2h0OjI2cHg7cGFkZGluZy10b3A6MTNweDtwYWRkaW5nLWJvdHRvbToxM3B4Oy1tcy1mbGV4OjE7ZmxleDoxO2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTg1MCwgIzI2MjYyNik7Zm9udC1zaXplOjE2cHg7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6NTJweDtwYWRkaW5nLWlubGluZS1zdGFydDo1MnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjZweDtwYWRkaW5nLWlubGluZS1lbmQ6MjZweH19LmFsZXJ0LXJhZGlvLWljb24uc2MtaW9uLWFsZXJ0LW1ke2xlZnQ6MjZweDt0b3A6MDtib3JkZXItcmFkaXVzOjUwJTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7Ym9yZGVyLXdpZHRoOjJweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myl9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZCAuYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtbWQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjI2cHh9LmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZHtsZWZ0OjNweDt0b3A6M3B4O2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgwLCAwLCAwKTt0cmFuc2Zvcm06c2NhbGUzZCgwLCAwLCAwKTstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMjgwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDI4MG1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMjgwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAyODBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpLCAtd2Via2l0LXRyYW5zZm9ybSAyODBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO2JhY2tncm91bmQtY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LW1kLWggLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pbm5lci5zYy1pb24tYWxlcnQtbWR7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpfVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZHtib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1yYWRpby1pbm5lci5zYy1pb24tYWxlcnQtbWR7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLCAxLCAxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLCAxLCAxKX0uYWxlcnQtY2hlY2tib3gtbGFiZWwuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDo1M3B4O3BhZGRpbmctcmlnaHQ6MjZweDtwYWRkaW5nLXRvcDoxM3B4O3BhZGRpbmctYm90dG9tOjEzcHg7LW1zLWZsZXg6MTtmbGV4OjE7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtODUwLCAjMjYyNjI2KTtmb250LXNpemU6MTZweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtY2hlY2tib3gtbGFiZWwuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo1M3B4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjUzcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoyNnB4O3BhZGRpbmctaW5saW5lLWVuZDoyNnB4fX0uYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtbWR7bGVmdDoyNnB4O3RvcDowO2JvcmRlci1yYWRpdXM6MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXdpZHRoOjJweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myk7Y29udGFpbjpzdHJpY3R9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZCAuYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtbWQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjI2cHh9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZil9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZHtsZWZ0OjNweDt0b3A6MDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2cHg7aGVpZ2h0OjEwcHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtib3JkZXItd2lkdGg6MnB4O2JvcmRlci10b3Atd2lkdGg6MDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QsICNmZmYpfVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtbWQgW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LW1kLWggW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIFthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtbWR7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9LmFsZXJ0LWJ1dHRvbi1ncm91cC5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OjhweDtwYWRkaW5nLXJpZ2h0OjhweDtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDstbXMtZmxleC13cmFwOndyYXAtcmV2ZXJzZTtmbGV4LXdyYXA6d3JhcC1yZXZlcnNlOy1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1idXR0b24tZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo4cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OHB4O3BhZGRpbmctaW5saW5lLWVuZDo4cHh9fS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1yYWRpdXM6MnB4O21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjhweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDoxMHB4O3BhZGRpbmctcmlnaHQ6MTBweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7Zm9udC13ZWlnaHQ6NTAwO3RleHQtYWxpZ246ZW5kO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1tZHttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MDttYXJnaW4taW5saW5lLXN0YXJ0OjA7LXdlYmtpdC1tYXJnaW4tZW5kOjhweDttYXJnaW4taW5saW5lLWVuZDo4cHh9fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEwcHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTBweDstd2Via2l0LXBhZGRpbmctZW5kOjEwcHg7cGFkZGluZy1pbmxpbmUtZW5kOjEwcHh9fS5hbGVydC1idXR0b24taW5uZXIuc2MtaW9uLWFsZXJ0LW1key1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH1cIjt2YXIgQWxlcnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7cmVnaXN0ZXJJbnN0YW5jZSh0aGlzLHQpO3RoaXMuZGlkUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uQWxlcnREaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uQWxlcnRXaWxsUHJlc2VudFwiLDcpO3RoaXMud2lsbERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvbkFsZXJ0V2lsbERpc21pc3NcIiw3KTt0aGlzLmRpZERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvbkFsZXJ0RGlkRGlzbWlzc1wiLDcpO3RoaXMucHJvY2Vzc2VkSW5wdXRzPVtdO3RoaXMucHJvY2Vzc2VkQnV0dG9ucz1bXTt0aGlzLnByZXNlbnRlZD1mYWxzZTt0aGlzLmtleWJvYXJkQ2xvc2U9dHJ1ZTt0aGlzLmJ1dHRvbnM9W107dGhpcy5pbnB1dHM9W107dGhpcy5iYWNrZHJvcERpc21pc3M9dHJ1ZTt0aGlzLnRyYW5zbHVjZW50PWZhbHNlO3RoaXMuYW5pbWF0ZWQ9dHJ1ZTt0aGlzLm9uQmFja2Ryb3BUYXA9ZnVuY3Rpb24oKXtlLmRpc21pc3ModW5kZWZpbmVkLEJBQ0tEUk9QKX07dGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIHI9dC5kZXRhaWwucm9sZTtpZihpc0NhbmNlbChyKSl7dmFyIGk9ZS5wcm9jZXNzZWRCdXR0b25zLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJvbGU9PT1cImNhbmNlbFwifSkpO2UuY2FsbEJ1dHRvbkhhbmRsZXIoaSl9fX10LnByb3RvdHlwZS5vbktleWRvd249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFNldCh0aGlzLnByb2Nlc3NlZElucHV0cy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnR5cGV9KSkpO2lmKCFlLmhhcyhcInJhZGlvXCIpfHx0LnRhcmdldCYmIXRoaXMuZWwuY29udGFpbnModC50YXJnZXQpfHx0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhbGVydC1idXR0b25cIikpe3JldHVybn12YXIgcj10aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWxlcnQtcmFkaW9cIik7dmFyIGk9QXJyYXkuZnJvbShyKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiF0LmRpc2FibGVkfSkpO3ZhciBvPWkuZmluZEluZGV4KChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZD09PXQudGFyZ2V0LmlkfSkpO3ZhciBuO2lmKFtcIkFycm93RG93blwiLFwiQXJyb3dSaWdodFwiXS5pbmNsdWRlcyh0LmNvZGUpKXtuPW89PT1pLmxlbmd0aC0xP2lbMF06aVtvKzFdfWlmKFtcIkFycm93VXBcIixcIkFycm93TGVmdFwiXS5pbmNsdWRlcyh0LmNvZGUpKXtuPW89PT0wP2lbaS5sZW5ndGgtMV06aVtvLTFdfWlmKG4mJmkuaW5jbHVkZXMobikpe3ZhciBhPXRoaXMucHJvY2Vzc2VkSW5wdXRzLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09KG49PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmlkKX0pKTtpZihhKXt0aGlzLnJiQ2xpY2soYSk7bi5mb2N1cygpfX19O3QucHJvdG90eXBlLmJ1dHRvbnNDaGFuZ2VkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5idXR0b25zO3RoaXMucHJvY2Vzc2VkQnV0dG9ucz10Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT09XCJzdHJpbmdcIj97dGV4dDp0LHJvbGU6dC50b0xvd2VyQ2FzZSgpPT09XCJjYW5jZWxcIj9cImNhbmNlbFwiOnVuZGVmaW5lZH06dH0pKX07dC5wcm90b3R5cGUuaW5wdXRzQ2hhbmdlZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dmFyIGU9dGhpcy5pbnB1dHM7dmFyIHI9ZS5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4hdC5kaXNhYmxlZH0pKTt2YXIgaT1lLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrZWQmJiF0LmRpc2FibGVkfSkpO3ZhciBvPWl8fHI7dmFyIG49bmV3IFNldChlLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudHlwZX0pKSk7aWYobi5oYXMoXCJjaGVja2JveFwiKSYmbi5oYXMoXCJyYWRpb1wiKSl7Y29uc29sZS53YXJuKFwiQWxlcnQgY2Fubm90IG1peCBpbnB1dCB0eXBlczogXCIrQXJyYXkuZnJvbShuLnZhbHVlcygpKS5qb2luKFwiL1wiKStcIi4gUGxlYXNlIHNlZSBhbGVydCBkb2NzIGZvciBtb3JlIGluZm8uXCIpfXRoaXMuaW5wdXRUeXBlPW4udmFsdWVzKCkubmV4dCgpLnZhbHVlO3RoaXMucHJvY2Vzc2VkSW5wdXRzPWUubWFwKChmdW5jdGlvbihlLHIpe3JldHVybnt0eXBlOmUudHlwZXx8XCJ0ZXh0XCIsbmFtZTplLm5hbWV8fFwiXCIrcixwbGFjZWhvbGRlcjplLnBsYWNlaG9sZGVyfHxcIlwiLHZhbHVlOmUudmFsdWUsbGFiZWw6ZS5sYWJlbCxjaGVja2VkOiEhZS5jaGVja2VkLGRpc2FibGVkOiEhZS5kaXNhYmxlZCxpZDplLmlkfHxcImFsZXJ0LWlucHV0LVwiK3Qub3ZlcmxheUluZGV4K1wiLVwiK3IsaGFuZGxlcjplLmhhbmRsZXIsbWluOmUubWluLG1heDplLm1heCxjc3NDbGFzczplLmNzc0NsYXNzfHxcIlwiLGF0dHJpYnV0ZXM6ZS5hdHRyaWJ1dGVzfHx7fSx0YWJpbmRleDplLnR5cGU9PT1cInJhZGlvXCImJmUhPT1vPy0xOjB9fSkpfTt0LnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ByZXBhcmVPdmVybGF5KHRoaXMuZWwpfTt0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTG9hZD1mdW5jdGlvbigpe3RoaXMuaW5wdXRzQ2hhbmdlZCgpO3RoaXMuYnV0dG9uc0NoYW5nZWQoKX07dC5wcm90b3R5cGUuZGlzY29ubmVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXtpZih0aGlzLmdlc3R1cmUpe3RoaXMuZ2VzdHVyZS5kZXN0cm95KCk7dGhpcy5nZXN0dXJlPXVuZGVmaW5lZH19O3QucHJvdG90eXBlLmNvbXBvbmVudERpZExvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmdlc3R1cmV8fGdldElvbk1vZGUodGhpcyk9PT1cIm1kXCJ8fCF0aGlzLndyYXBwZXJFbCl7cmV0dXJufXRoaXMuZ2VzdHVyZT1jcmVhdGVCdXR0b25BY3RpdmVHZXN0dXJlKHRoaXMud3JhcHBlckVsLChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc0xpc3QuY29udGFpbnMoXCJhbGVydC1idXR0b25cIil9KSk7dGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKX07dC5wcm90b3R5cGUucHJlc2VudD1mdW5jdGlvbigpe3JldHVybiBwcmVzZW50KHRoaXMsXCJhbGVydEVudGVyXCIsaW9zRW50ZXJBbmltYXRpb24kNSxtZEVudGVyQW5pbWF0aW9uJDQpfTt0LnByb3RvdHlwZS5kaXNtaXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGRpc21pc3ModGhpcyx0LGUsXCJhbGVydExlYXZlXCIsaW9zTGVhdmVBbmltYXRpb24kNSxtZExlYXZlQW5pbWF0aW9uJDQpfTt0LnByb3RvdHlwZS5vbkRpZERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvbkFsZXJ0RGlkRGlzbWlzc1wiKX07dC5wcm90b3R5cGUub25XaWxsRGlzbWlzcz1mdW5jdGlvbigpe3JldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLFwiaW9uQWxlcnRXaWxsRGlzbWlzc1wiKX07dC5wcm90b3R5cGUucmJDbGljaz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMucHJvY2Vzc2VkSW5wdXRzO2U8ci5sZW5ndGg7ZSsrKXt2YXIgaT1yW2VdO2kuY2hlY2tlZD1pPT09dDtpLnRhYmluZGV4PWk9PT10PzA6LTF9dGhpcy5hY3RpdmVJZD10LmlkO3NhZmVDYWxsKHQuaGFuZGxlcix0KTtmb3JjZVVwZGF0ZSh0aGlzKX07dC5wcm90b3R5cGUuY2JDbGljaz1mdW5jdGlvbih0KXt0LmNoZWNrZWQ9IXQuY2hlY2tlZDtzYWZlQ2FsbCh0LmhhbmRsZXIsdCk7Zm9yY2VVcGRhdGUodGhpcyl9O3QucHJvdG90eXBlLmJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXQucm9sZTt2YXIgcj10aGlzLmdldFZhbHVlcygpO2lmKGlzQ2FuY2VsKGUpKXtyZXR1cm4gdGhpcy5kaXNtaXNzKHt2YWx1ZXM6cn0sZSl9dmFyIGk9dGhpcy5jYWxsQnV0dG9uSGFuZGxlcih0LHIpO2lmKGkhPT1mYWxzZSl7cmV0dXJuIHRoaXMuZGlzbWlzcyhPYmplY3QuYXNzaWduKHt2YWx1ZXM6cn0saSksdC5yb2xlKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKX07dC5wcm90b3R5cGUuY2FsbEJ1dHRvbkhhbmRsZXI9ZnVuY3Rpb24odCxlKXtpZih0JiZ0LmhhbmRsZXIpe3ZhciByPXNhZmVDYWxsKHQuaGFuZGxlcixlKTtpZihyPT09ZmFsc2Upe3JldHVybiBmYWxzZX1pZih0eXBlb2Ygcj09PVwib2JqZWN0XCIpe3JldHVybiByfX1yZXR1cm57fX07dC5wcm90b3R5cGUuZ2V0VmFsdWVzPWZ1bmN0aW9uKCl7aWYodGhpcy5wcm9jZXNzZWRJbnB1dHMubGVuZ3RoPT09MCl7cmV0dXJuIHVuZGVmaW5lZH1pZih0aGlzLmlucHV0VHlwZT09PVwicmFkaW9cIil7dmFyIHQ9dGhpcy5wcm9jZXNzZWRJbnB1dHMuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuISF0LmNoZWNrZWR9KSk7cmV0dXJuIHQ/dC52YWx1ZTp1bmRlZmluZWR9aWYodGhpcy5pbnB1dFR5cGU9PT1cImNoZWNrYm94XCIpe3JldHVybiB0aGlzLnByb2Nlc3NlZElucHV0cy5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrZWR9KSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWx1ZX0pKX12YXIgZT17fTt0aGlzLnByb2Nlc3NlZElucHV0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlW3QubmFtZV09dC52YWx1ZXx8XCJcIn0pKTtyZXR1cm4gZX07dC5wcm90b3R5cGUucmVuZGVyQWxlcnRJbnB1dHM9ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5pbnB1dFR5cGUpe2Nhc2VcImNoZWNrYm94XCI6cmV0dXJuIHRoaXMucmVuZGVyQ2hlY2tib3goKTtjYXNlXCJyYWRpb1wiOnJldHVybiB0aGlzLnJlbmRlclJhZGlvKCk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5yZW5kZXJJbnB1dCgpfX07dC5wcm90b3R5cGUucmVuZGVyQ2hlY2tib3g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3ZhciBlPXRoaXMucHJvY2Vzc2VkSW5wdXRzO3ZhciByPWdldElvbk1vZGUodGhpcyk7aWYoZS5sZW5ndGg9PT0wKXtyZXR1cm4gbnVsbH1yZXR1cm4gaChcImRpdlwiLHtjbGFzczpcImFsZXJ0LWNoZWNrYm94LWdyb3VwXCJ9LGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaChcImJ1dHRvblwiLHt0eXBlOlwiYnV0dG9uXCIsb25DbGljazpmdW5jdGlvbigpe3JldHVybiB0LmNiQ2xpY2soZSl9LFwiYXJpYS1jaGVja2VkXCI6XCJcIitlLmNoZWNrZWQsaWQ6ZS5pZCxkaXNhYmxlZDplLmRpc2FibGVkLHRhYkluZGV4OmUudGFiaW5kZXgscm9sZTpcImNoZWNrYm94XCIsY2xhc3M6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGdldENsYXNzTWFwKGUuY3NzQ2xhc3MpKSx7XCJhbGVydC10YXBwYWJsZVwiOnRydWUsXCJhbGVydC1jaGVja2JveFwiOnRydWUsXCJhbGVydC1jaGVja2JveC1idXR0b25cIjp0cnVlLFwiaW9uLWZvY3VzYWJsZVwiOnRydWUsXCJhbGVydC1jaGVja2JveC1idXR0b24tZGlzYWJsZWRcIjplLmRpc2FibGVkfHxmYWxzZX0pfSxoKFwiZGl2XCIse2NsYXNzOlwiYWxlcnQtYnV0dG9uLWlubmVyXCJ9LGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1jaGVja2JveC1pY29uXCJ9LGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1jaGVja2JveC1pbm5lclwifSkpLGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1jaGVja2JveC1sYWJlbFwifSxlLmxhYmVsKSkscj09PVwibWRcIiYmaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsbnVsbCkpfSkpKX07dC5wcm90b3R5cGUucmVuZGVyUmFkaW89ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3ZhciBlPXRoaXMucHJvY2Vzc2VkSW5wdXRzO2lmKGUubGVuZ3RoPT09MCl7cmV0dXJuIG51bGx9cmV0dXJuIGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1yYWRpby1ncm91cFwiLHJvbGU6XCJyYWRpb2dyb3VwXCIsXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjp0aGlzLmFjdGl2ZUlkfSxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGgoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdC5yYkNsaWNrKGUpfSxcImFyaWEtY2hlY2tlZFwiOlwiXCIrZS5jaGVja2VkLGRpc2FibGVkOmUuZGlzYWJsZWQsaWQ6ZS5pZCx0YWJJbmRleDplLnRhYmluZGV4LGNsYXNzOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxnZXRDbGFzc01hcChlLmNzc0NsYXNzKSkse1wiYWxlcnQtcmFkaW8tYnV0dG9uXCI6dHJ1ZSxcImFsZXJ0LXRhcHBhYmxlXCI6dHJ1ZSxcImFsZXJ0LXJhZGlvXCI6dHJ1ZSxcImlvbi1mb2N1c2FibGVcIjp0cnVlLFwiYWxlcnQtcmFkaW8tYnV0dG9uLWRpc2FibGVkXCI6ZS5kaXNhYmxlZHx8ZmFsc2V9KSxyb2xlOlwicmFkaW9cIn0saChcImRpdlwiLHtjbGFzczpcImFsZXJ0LWJ1dHRvbi1pbm5lclwifSxoKFwiZGl2XCIse2NsYXNzOlwiYWxlcnQtcmFkaW8taWNvblwifSxoKFwiZGl2XCIse2NsYXNzOlwiYWxlcnQtcmFkaW8taW5uZXJcIn0pKSxoKFwiZGl2XCIse2NsYXNzOlwiYWxlcnQtcmFkaW8tbGFiZWxcIn0sZS5sYWJlbCkpKX0pKSl9O3QucHJvdG90eXBlLnJlbmRlcklucHV0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9jZXNzZWRJbnB1dHM7aWYodC5sZW5ndGg9PT0wKXtyZXR1cm4gbnVsbH1yZXR1cm4gaChcImRpdlwiLHtjbGFzczpcImFsZXJ0LWlucHV0LWdyb3VwXCJ9LHQubWFwKChmdW5jdGlvbih0KXt2YXIgZSxyLGksbztpZih0LnR5cGU9PT1cInRleHRhcmVhXCIpe3JldHVybiBoKFwiZGl2XCIse2NsYXNzOlwiYWxlcnQtaW5wdXQtd3JhcHBlclwifSxoKFwidGV4dGFyZWFcIixPYmplY3QuYXNzaWduKHtwbGFjZWhvbGRlcjp0LnBsYWNlaG9sZGVyLHZhbHVlOnQudmFsdWUsaWQ6dC5pZCx0YWJJbmRleDp0LnRhYmluZGV4fSx0LmF0dHJpYnV0ZXMse2Rpc2FibGVkOihyPShlPXQuYXR0cmlidXRlcyk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmRpc2FibGVkKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0LmRpc2FibGVkLGNsYXNzOmlucHV0Q2xhc3ModCksb25JbnB1dDpmdW5jdGlvbihlKXt2YXIgcjt0LnZhbHVlPWUudGFyZ2V0LnZhbHVlO2lmKChyPXQuYXR0cmlidXRlcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLm9uSW5wdXQpe3QuYXR0cmlidXRlcy5vbklucHV0KGUpfX19KSkpfWVsc2V7cmV0dXJuIGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1pbnB1dC13cmFwcGVyXCJ9LGgoXCJpbnB1dFwiLE9iamVjdC5hc3NpZ24oe3BsYWNlaG9sZGVyOnQucGxhY2Vob2xkZXIsdHlwZTp0LnR5cGUsbWluOnQubWluLG1heDp0Lm1heCx2YWx1ZTp0LnZhbHVlLGlkOnQuaWQsdGFiSW5kZXg6dC50YWJpbmRleH0sdC5hdHRyaWJ1dGVzLHtkaXNhYmxlZDoobz0oaT10LmF0dHJpYnV0ZXMpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5kaXNhYmxlZCkhPT1udWxsJiZvIT09dm9pZCAwP286dC5kaXNhYmxlZCxjbGFzczppbnB1dENsYXNzKHQpLG9uSW5wdXQ6ZnVuY3Rpb24oZSl7dmFyIHI7dC52YWx1ZT1lLnRhcmdldC52YWx1ZTtpZigocj10LmF0dHJpYnV0ZXMpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5vbklucHV0KXt0LmF0dHJpYnV0ZXMub25JbnB1dChlKX19fSkpKX19KSkpfTt0LnByb3RvdHlwZS5yZW5kZXJBbGVydEJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3ZhciBlPXRoaXMucHJvY2Vzc2VkQnV0dG9uczt2YXIgcj1nZXRJb25Nb2RlKHRoaXMpO3ZhciBpPXtcImFsZXJ0LWJ1dHRvbi1ncm91cFwiOnRydWUsXCJhbGVydC1idXR0b24tZ3JvdXAtdmVydGljYWxcIjplLmxlbmd0aD4yfTtyZXR1cm4gaChcImRpdlwiLHtjbGFzczppfSxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGgoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLGlkOmUuaWQsY2xhc3M6YnV0dG9uQ2xhc3MkMihlKSx0YWJJbmRleDowLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdC5idXR0b25DbGljayhlKX19LGgoXCJzcGFuXCIse2NsYXNzOlwiYWxlcnQtYnV0dG9uLWlubmVyXCJ9LGUudGV4dCkscj09PVwibWRcIiYmaChcImlvbi1yaXBwbGUtZWZmZWN0XCIsbnVsbCkpfSkpKX07dC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQ7dmFyIGU9dGhpczt2YXIgcj10aGlzLGk9ci5vdmVybGF5SW5kZXgsbz1yLmhlYWRlcixuPXIuc3ViSGVhZGVyLGE9ci5odG1sQXR0cmlidXRlczt2YXIgcz1nZXRJb25Nb2RlKHRoaXMpO3ZhciBsPVwiYWxlcnQtXCIraStcIi1oZHJcIjt2YXIgZD1cImFsZXJ0LVwiK2krXCItc3ViLWhkclwiO3ZhciBjPVwiYWxlcnQtXCIraStcIi1tc2dcIjt2YXIgcD10aGlzLmlucHV0cy5sZW5ndGg+MHx8dGhpcy5idXR0b25zLmxlbmd0aD4wP1wiYWxlcnRkaWFsb2dcIjpcImFsZXJ0XCI7cmV0dXJuIGgoSG9zdCxPYmplY3QuYXNzaWduKHtyb2xlOnAsXCJhcmlhLW1vZGFsXCI6XCJ0cnVlXCIsdGFiaW5kZXg6XCItMVwifSxhLHtzdHlsZTp7ekluZGV4OlwiXCIrKDJlNCtpKX0sY2xhc3M6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSwodD17fSx0W3NdPXRydWUsdFtcIm92ZXJsYXktaGlkZGVuXCJdPXRydWUsdFtcImFsZXJ0LXRyYW5zbHVjZW50XCJdPXRoaXMudHJhbnNsdWNlbnQsdCkpLG9uSW9uQWxlcnRXaWxsRGlzbWlzczp0aGlzLmRpc3BhdGNoQ2FuY2VsSGFuZGxlcixvbklvbkJhY2tkcm9wVGFwOnRoaXMub25CYWNrZHJvcFRhcH0pLGgoXCJpb24tYmFja2Ryb3BcIix7dGFwcGFibGU6dGhpcy5iYWNrZHJvcERpc21pc3N9KSxoKFwiZGl2XCIse3RhYmluZGV4OlwiMFwifSksaChcImRpdlwiLHtjbGFzczpcImFsZXJ0LXdyYXBwZXIgaW9uLW92ZXJsYXktd3JhcHBlclwiLHJlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS53cmFwcGVyRWw9dH19LGgoXCJkaXZcIix7Y2xhc3M6XCJhbGVydC1oZWFkXCJ9LG8mJmgoXCJoMlwiLHtpZDpsLGNsYXNzOlwiYWxlcnQtdGl0bGVcIn0sbyksbiYmaChcImgyXCIse2lkOmQsY2xhc3M6XCJhbGVydC1zdWItdGl0bGVcIn0sbikpLGgoXCJkaXZcIix7aWQ6YyxjbGFzczpcImFsZXJ0LW1lc3NhZ2VcIixpbm5lckhUTUw6c2FuaXRpemVET01TdHJpbmcodGhpcy5tZXNzYWdlKX0pLHRoaXMucmVuZGVyQWxlcnRJbnB1dHMoKSx0aGlzLnJlbmRlckFsZXJ0QnV0dG9ucygpKSxoKFwiZGl2XCIse3RhYmluZGV4OlwiMFwifSkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0RWxlbWVudCh0aGlzKX0sZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwid2F0Y2hlcnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue2J1dHRvbnM6W1wiYnV0dG9uc0NoYW5nZWRcIl0saW5wdXRzOltcImlucHV0c0NoYW5nZWRcIl19fSxlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7cmV0dXJuIHR9KCk7dmFyIGlucHV0Q2xhc3M9ZnVuY3Rpb24odCl7dmFyIGUscixpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe1wiYWxlcnQtaW5wdXRcIjp0cnVlLFwiYWxlcnQtaW5wdXQtZGlzYWJsZWRcIjooKHI9KGU9dC5hdHRyaWJ1dGVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGlzYWJsZWQpIT09bnVsbCYmciE9PXZvaWQgMD9yOnQuZGlzYWJsZWQpfHxmYWxzZX0sZ2V0Q2xhc3NNYXAodC5jc3NDbGFzcykpLGdldENsYXNzTWFwKHQuYXR0cmlidXRlcz8oaT10LmF0dHJpYnV0ZXMuY2xhc3MpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50b1N0cmluZygpOlwiXCIpKX07dmFyIGJ1dHRvbkNsYXNzJDI9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIE9iamVjdC5hc3NpZ24oKGU9e1wiYWxlcnQtYnV0dG9uXCI6dHJ1ZSxcImlvbi1mb2N1c2FibGVcIjp0cnVlLFwiaW9uLWFjdGl2YXRhYmxlXCI6dHJ1ZX0sZVtcImFsZXJ0LWJ1dHRvbi1yb2xlLVwiK3Qucm9sZV09dC5yb2xlIT09dW5kZWZpbmVkLGUpLGdldENsYXNzTWFwKHQuY3NzQ2xhc3MpKX07QWxlcnQuc3R5bGU9e2lvczphbGVydElvc0NzcyxtZDphbGVydE1kQ3NzfTt2YXIgaW9zRW50ZXJBbmltYXRpb24kND1mdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVBbmltYXRpb24oKTt2YXIgcj1jcmVhdGVBbmltYXRpb24oKTt2YXIgaT1jcmVhdGVBbmltYXRpb24oKTtyLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2tkcm9wXCIpKS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIikuYmVmb3JlU3R5bGVzKHtcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KS5hZnRlckNsZWFyU3R5bGVzKFtcInBvaW50ZXItZXZlbnRzXCJdKTtpLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRpbmctd3JhcHBlclwiKSkua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsb3BhY2l0eTouMDEsdHJhbnNmb3JtOlwic2NhbGUoMS4xKVwifSx7b2Zmc2V0OjEsb3BhY2l0eToxLHRyYW5zZm9ybTpcInNjYWxlKDEpXCJ9XSk7cmV0dXJuIGUuYWRkRWxlbWVudCh0KS5lYXNpbmcoXCJlYXNlLWluLW91dFwiKS5kdXJhdGlvbigyMDApLmFkZEFuaW1hdGlvbihbcixpXSl9O3ZhciBpb3NMZWF2ZUFuaW1hdGlvbiQ0PWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciByPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBpPWNyZWF0ZUFuaW1hdGlvbigpO3IuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIixcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIsMCk7aS5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLXdyYXBwZXJcIikpLmtleWZyYW1lcyhbe29mZnNldDowLG9wYWNpdHk6Ljk5LHRyYW5zZm9ybTpcInNjYWxlKDEpXCJ9LHtvZmZzZXQ6MSxvcGFjaXR5OjAsdHJhbnNmb3JtOlwic2NhbGUoMC45KVwifV0pO3JldHVybiBlLmFkZEVsZW1lbnQodCkuZWFzaW5nKFwiZWFzZS1pbi1vdXRcIikuZHVyYXRpb24oMjAwKS5hZGRBbmltYXRpb24oW3IsaV0pfTt2YXIgbWRFbnRlckFuaW1hdGlvbiQzPWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciByPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBpPWNyZWF0ZUFuaW1hdGlvbigpO3IuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiKS5iZWZvcmVTdHlsZXMoe1wicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pLmFmdGVyQ2xlYXJTdHlsZXMoW1wicG9pbnRlci1ldmVudHNcIl0pO2kuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy13cmFwcGVyXCIpKS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxvcGFjaXR5Oi4wMSx0cmFuc2Zvcm06XCJzY2FsZSgxLjEpXCJ9LHtvZmZzZXQ6MSxvcGFjaXR5OjEsdHJhbnNmb3JtOlwic2NhbGUoMSlcIn1dKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImVhc2UtaW4tb3V0XCIpLmR1cmF0aW9uKDIwMCkuYWRkQW5pbWF0aW9uKFtyLGldKX07dmFyIG1kTGVhdmVBbmltYXRpb24kMz1mdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVBbmltYXRpb24oKTt2YXIgcj1jcmVhdGVBbmltYXRpb24oKTt2YXIgaT1jcmVhdGVBbmltYXRpb24oKTtyLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2tkcm9wXCIpKS5mcm9tVG8oXCJvcGFjaXR5XCIsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiLDApO2kuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGluZy13cmFwcGVyXCIpKS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxvcGFjaXR5Oi45OSx0cmFuc2Zvcm06XCJzY2FsZSgxKVwifSx7b2Zmc2V0OjEsb3BhY2l0eTowLHRyYW5zZm9ybTpcInNjYWxlKDAuOSlcIn1dKTtyZXR1cm4gZS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImVhc2UtaW4tb3V0XCIpLmR1cmF0aW9uKDIwMCkuYWRkQW5pbWF0aW9uKFtyLGldKX07dmFyIGxvYWRpbmdJb3NDc3M9XCIuc2MtaW9uLWxvYWRpbmctaW9zLWh7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6YXV0bzstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1sb2FkaW5nLWlvcy1oe2Rpc3BsYXk6bm9uZX0ubG9hZGluZy13cmFwcGVyLnNjLWlvbi1sb2FkaW5nLWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjppbmhlcml0O2FsaWduLWl0ZW1zOmluaGVyaXQ7LW1zLWZsZXgtcGFjazppbmhlcml0O2p1c3RpZnktY29udGVudDppbmhlcml0O3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtvcGFjaXR5OjA7ei1pbmRleDoxMH0uc3Bpbm5lci1saW5lcy5zYy1pb24tbG9hZGluZy1pb3MsLnNwaW5uZXItbGluZXMtc21hbGwuc2MtaW9uLWxvYWRpbmctaW9zLC5zcGlubmVyLWJ1YmJsZXMuc2MtaW9uLWxvYWRpbmctaW9zLC5zcGlubmVyLWNpcmNsZXMuc2MtaW9uLWxvYWRpbmctaW9zLC5zcGlubmVyLWNyZXNjZW50LnNjLWlvbi1sb2FkaW5nLWlvcywuc3Bpbm5lci1kb3RzLnNjLWlvbi1sb2FkaW5nLWlvc3tjb2xvcjp2YXIoLS1zcGlubmVyLWNvbG9yKX0uc2MtaW9uLWxvYWRpbmctaW9zLWh7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2Y5ZjlmOSkpOy0tbWF4LXdpZHRoOjI3MHB4Oy0tbWF4LWhlaWdodDo5MCU7LS1zcGlubmVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nik7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjMpO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LXNpemU6MTRweH0ubG9hZGluZy13cmFwcGVyLnNjLWlvbi1sb2FkaW5nLWlvc3tib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nLWxlZnQ6MzRweDtwYWRkaW5nLXJpZ2h0OjM0cHg7cGFkZGluZy10b3A6MjRweDtwYWRkaW5nLWJvdHRvbToyNHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmxvYWRpbmctd3JhcHBlci5zYy1pb24tbG9hZGluZy1pb3N7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjM0cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MzRweDstd2Via2l0LXBhZGRpbmctZW5kOjM0cHg7cGFkZGluZy1pbmxpbmUtZW5kOjM0cHh9fUBzdXBwb3J0cyAoKC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSBvciAoYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSl7LmxvYWRpbmctdHJhbnNsdWNlbnQuc2MtaW9uLWxvYWRpbmctaW9zLWggLmxvYWRpbmctd3JhcHBlci5zYy1pb24tbG9hZGluZy1pb3N7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCk7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KTtiYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KX19LmxvYWRpbmctY29udGVudC5zYy1pb24tbG9hZGluZy1pb3N7Zm9udC13ZWlnaHQ6Ym9sZH0ubG9hZGluZy1zcGlubmVyLnNjLWlvbi1sb2FkaW5nLWlvcysubG9hZGluZy1jb250ZW50LnNjLWlvbi1sb2FkaW5nLWlvc3ttYXJnaW4tbGVmdDoxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmxvYWRpbmctc3Bpbm5lci5zYy1pb24tbG9hZGluZy1pb3MrLmxvYWRpbmctY29udGVudC5zYy1pb24tbG9hZGluZy1pb3N7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHh9fVwiO3ZhciBsb2FkaW5nTWRDc3M9XCIuc2MtaW9uLWxvYWRpbmctbWQtaHstLW1pbi13aWR0aDphdXRvOy0td2lkdGg6YXV0bzstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDphdXRvOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6MTAwMX0ub3ZlcmxheS1oaWRkZW4uc2MtaW9uLWxvYWRpbmctbWQtaHtkaXNwbGF5Om5vbmV9LmxvYWRpbmctd3JhcHBlci5zYy1pb24tbG9hZGluZy1tZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjppbmhlcml0O2FsaWduLWl0ZW1zOmluaGVyaXQ7LW1zLWZsZXgtcGFjazppbmhlcml0O2p1c3RpZnktY29udGVudDppbmhlcml0O3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtvcGFjaXR5OjA7ei1pbmRleDoxMH0uc3Bpbm5lci1saW5lcy5zYy1pb24tbG9hZGluZy1tZCwuc3Bpbm5lci1saW5lcy1zbWFsbC5zYy1pb24tbG9hZGluZy1tZCwuc3Bpbm5lci1idWJibGVzLnNjLWlvbi1sb2FkaW5nLW1kLC5zcGlubmVyLWNpcmNsZXMuc2MtaW9uLWxvYWRpbmctbWQsLnNwaW5uZXItY3Jlc2NlbnQuc2MtaW9uLWxvYWRpbmctbWQsLnNwaW5uZXItZG90cy5zYy1pb24tbG9hZGluZy1tZHtjb2xvcjp2YXIoLS1zcGlubmVyLWNvbG9yKX0uc2MtaW9uLWxvYWRpbmctbWQtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNTAsICNmMmYyZjIpOy0tbWF4LXdpZHRoOjI4MHB4Oy0tbWF4LWhlaWdodDo5MCU7LS1zcGlubmVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMzIpO2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTg1MCwgIzI2MjYyNik7Zm9udC1zaXplOjE0cHh9LmxvYWRpbmctd3JhcHBlci5zYy1pb24tbG9hZGluZy1tZHtib3JkZXItcmFkaXVzOjJweDtwYWRkaW5nLWxlZnQ6MjRweDtwYWRkaW5nLXJpZ2h0OjI0cHg7cGFkZGluZy10b3A6MjRweDtwYWRkaW5nLWJvdHRvbToyNHB4Oy13ZWJraXQtYm94LXNoYWRvdzowIDE2cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCk7Ym94LXNoYWRvdzowIDE2cHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCl9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubG9hZGluZy13cmFwcGVyLnNjLWlvbi1sb2FkaW5nLW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoyNHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjI0cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoyNHB4O3BhZGRpbmctaW5saW5lLWVuZDoyNHB4fX0ubG9hZGluZy1zcGlubmVyLnNjLWlvbi1sb2FkaW5nLW1kKy5sb2FkaW5nLWNvbnRlbnQuc2MtaW9uLWxvYWRpbmctbWR7bWFyZ2luLWxlZnQ6MTZweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5sb2FkaW5nLXNwaW5uZXIuc2MtaW9uLWxvYWRpbmctbWQrLmxvYWRpbmctY29udGVudC5zYy1pb24tbG9hZGluZy1tZHttYXJnaW4tbGVmdDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDoxNnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6MTZweH19XCI7dmFyIExvYWRpbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7cmVnaXN0ZXJJbnN0YW5jZSh0aGlzLHQpO3RoaXMuZGlkUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uTG9hZGluZ0RpZFByZXNlbnRcIiw3KTt0aGlzLndpbGxQcmVzZW50PWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25Mb2FkaW5nV2lsbFByZXNlbnRcIiw3KTt0aGlzLndpbGxEaXNtaXNzPWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25Mb2FkaW5nV2lsbERpc21pc3NcIiw3KTt0aGlzLmRpZERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvbkxvYWRpbmdEaWREaXNtaXNzXCIsNyk7dGhpcy5wcmVzZW50ZWQ9ZmFsc2U7dGhpcy5rZXlib2FyZENsb3NlPXRydWU7dGhpcy5kdXJhdGlvbj0wO3RoaXMuYmFja2Ryb3BEaXNtaXNzPWZhbHNlO3RoaXMuc2hvd0JhY2tkcm9wPXRydWU7dGhpcy50cmFuc2x1Y2VudD1mYWxzZTt0aGlzLmFuaW1hdGVkPXRydWU7dGhpcy5vbkJhY2tkcm9wVGFwPWZ1bmN0aW9uKCl7ZS5kaXNtaXNzKHVuZGVmaW5lZCxCQUNLRFJPUCl9fXQucHJvdG90eXBlLmNvbm5lY3RlZENhbGxiYWNrPWZ1bmN0aW9uKCl7cHJlcGFyZU92ZXJsYXkodGhpcy5lbCl9O3QucHJvdG90eXBlLmNvbXBvbmVudFdpbGxMb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5zcGlubmVyPT09dW5kZWZpbmVkKXt2YXIgdD1nZXRJb25Nb2RlKHRoaXMpO3RoaXMuc3Bpbm5lcj1jb25maWcuZ2V0KFwibG9hZGluZ1NwaW5uZXJcIixjb25maWcuZ2V0KFwic3Bpbm5lclwiLHQ9PT1cImlvc1wiP1wibGluZXNcIjpcImNyZXNjZW50XCIpKX19O3QucHJvdG90eXBlLnByZXNlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHByZXNlbnQodGhpcyxcImxvYWRpbmdFbnRlclwiLGlvc0VudGVyQW5pbWF0aW9uJDQsbWRFbnRlckFuaW1hdGlvbiQzLHVuZGVmaW5lZCldO2Nhc2UgMTplLnNlbnQoKTtpZih0aGlzLmR1cmF0aW9uPjApe3RoaXMuZHVyYXRpb25UaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGlzbWlzcygpfSksdGhpcy5kdXJhdGlvbisxMCl9cmV0dXJuWzJdfX0pKX0pKX07dC5wcm90b3R5cGUuZGlzbWlzcz1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZHVyYXRpb25UaW1lb3V0KXtjbGVhclRpbWVvdXQodGhpcy5kdXJhdGlvblRpbWVvdXQpfXJldHVybiBkaXNtaXNzKHRoaXMsdCxlLFwibG9hZGluZ0xlYXZlXCIsaW9zTGVhdmVBbmltYXRpb24kNCxtZExlYXZlQW5pbWF0aW9uJDMpfTt0LnByb3RvdHlwZS5vbkRpZERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvbkxvYWRpbmdEaWREaXNtaXNzXCIpfTt0LnByb3RvdHlwZS5vbldpbGxEaXNtaXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsXCJpb25Mb2FkaW5nV2lsbERpc21pc3NcIil9O3QucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3ZhciBlPXRoaXMscj1lLm1lc3NhZ2UsaT1lLnNwaW5uZXIsbz1lLmh0bWxBdHRyaWJ1dGVzO3ZhciBuPWdldElvbk1vZGUodGhpcyk7cmV0dXJuIGgoSG9zdCxPYmplY3QuYXNzaWduKHt0YWJpbmRleDpcIi0xXCJ9LG8se3N0eWxlOnt6SW5kZXg6XCJcIisoNGU0K3RoaXMub3ZlcmxheUluZGV4KX0sb25Jb25CYWNrZHJvcFRhcDp0aGlzLm9uQmFja2Ryb3BUYXAsY2xhc3M6T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSwodD17fSx0W25dPXRydWUsdFtcIm92ZXJsYXktaGlkZGVuXCJdPXRydWUsdFtcImxvYWRpbmctdHJhbnNsdWNlbnRcIl09dGhpcy50cmFuc2x1Y2VudCx0KSl9KSxoKFwiaW9uLWJhY2tkcm9wXCIse3Zpc2libGU6dGhpcy5zaG93QmFja2Ryb3AsdGFwcGFibGU6dGhpcy5iYWNrZHJvcERpc21pc3N9KSxoKFwiZGl2XCIse3RhYmluZGV4OlwiMFwifSksaChcImRpdlwiLHtjbGFzczpcImxvYWRpbmctd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIscm9sZTpcImRpYWxvZ1wifSxpJiZoKFwiZGl2XCIse2NsYXNzOlwibG9hZGluZy1zcGlubmVyXCJ9LGgoXCJpb24tc3Bpbm5lclwiLHtuYW1lOmksXCJhcmlhLWhpZGRlblwiOlwidHJ1ZVwifSkpLHImJmgoXCJkaXZcIix7Y2xhc3M6XCJsb2FkaW5nLWNvbnRlbnRcIixpbm5lckhUTUw6c2FuaXRpemVET01TdHJpbmcocil9KSksaChcImRpdlwiLHt0YWJpbmRleDpcIjBcIn0pKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldEVsZW1lbnQodGhpcyl9LGVudW1lcmFibGU6ZmFsc2UsY29uZmlndXJhYmxlOnRydWV9KTtyZXR1cm4gdH0oKTtMb2FkaW5nLnN0eWxlPXtpb3M6bG9hZGluZ0lvc0NzcyxtZDpsb2FkaW5nTWRDc3N9O3ZhciBTd2lwZVRvQ2xvc2VEZWZhdWx0cz17TUlOX1BSRVNFTlRJTkdfU0NBTEU6LjkzfTt2YXIgY3JlYXRlU3dpcGVUb0Nsb3NlR2VzdHVyZT1mdW5jdGlvbih0LGUscil7dmFyIGk9dC5vZmZzZXRIZWlnaHQ7dmFyIG89ZmFsc2U7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudC50YXJnZXQ7aWYoZT09PW51bGx8fCFlLmNsb3Nlc3Qpe3JldHVybiB0cnVlfXZhciByPWUuY2xvc2VzdChcImlvbi1jb250ZW50LCBpb24tZm9vdGVyXCIpO2lmKHI9PT1udWxsKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9O3ZhciBhPWZ1bmN0aW9uKCl7ZS5wcm9ncmVzc1N0YXJ0KHRydWUsbz8xOjApfTt2YXIgcz1mdW5jdGlvbih0KXt2YXIgcj1jbGFtcCgxZS00LHQuZGVsdGFZL2ksLjk5OTkpO2UucHJvZ3Jlc3NTdGVwKHIpfTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgbj10LnZlbG9jaXR5WTt2YXIgYT1jbGFtcCgxZS00LHQuZGVsdGFZL2ksLjk5OTkpO3ZhciBzPSh0LmRlbHRhWStuKjFlMykvaTt2YXIgbD1zPj0uNTt2YXIgYz1sPy0uMDAxOi4wMDE7aWYoIWwpe2UuZWFzaW5nKFwiY3ViaWMtYmV6aWVyKDEsIDAsIDAuNjgsIDAuMjgpXCIpO2MrPWdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLDBdLFsxLDBdLFsuNjgsLjI4XSxbMSwxXSxhKVswXX1lbHNle2UuZWFzaW5nKFwiY3ViaWMtYmV6aWVyKDAuMzIsIDAuNzIsIDAsIDEpXCIpO2MrPWdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLDBdLFsuMzIsLjcyXSxbMCwxXSxbMSwxXSxhKVswXX12YXIgcD1sP2NvbXB1dGVEdXJhdGlvbihhKmksbik6Y29tcHV0ZUR1cmF0aW9uKCgxLWEpKmksbik7bz1sO2QuZW5hYmxlKGZhbHNlKTtlLm9uRmluaXNoKChmdW5jdGlvbigpe2lmKCFsKXtkLmVuYWJsZSh0cnVlKX19KSkucHJvZ3Jlc3NFbmQobD8xOjAsYyxwKTtpZihsKXtyKCl9fTt2YXIgZD1jcmVhdGVHZXN0dXJlKHtlbDp0LGdlc3R1cmVOYW1lOlwibW9kYWxTd2lwZVRvQ2xvc2VcIixnZXN0dXJlUHJpb3JpdHk6NDAsZGlyZWN0aW9uOlwieVwiLHRocmVzaG9sZDoxMCxjYW5TdGFydDpuLG9uU3RhcnQ6YSxvbk1vdmU6cyxvbkVuZDpsfSk7cmV0dXJuIGR9O3ZhciBjb21wdXRlRHVyYXRpb249ZnVuY3Rpb24odCxlKXtyZXR1cm4gY2xhbXAoNDAwLHQvTWF0aC5hYnMoZSoxLjEpLDUwMCl9O3ZhciBnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj0xLygxLWUpO3ZhciBpPS0oZSpyKTtyZXR1cm4gdCpyK2l9O3ZhciBjcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXQuY3VycmVudEJyZWFrcG9pbnQscj10LmJhY2tkcm9wQnJlYWtwb2ludDt2YXIgaT1yPT09dW5kZWZpbmVkfHxyPGU7dmFyIG89aT9cImNhbGModmFyKC0tYmFja2Ryb3Atb3BhY2l0eSkgKiBcIitlK1wiKVwiOlwiMFwiO3ZhciBuPWNyZWF0ZUFuaW1hdGlvbihcImJhY2tkcm9wQW5pbWF0aW9uXCIpLmZyb21UbyhcIm9wYWNpdHlcIiwwLG8pO3ZhciBhPWNyZWF0ZUFuaW1hdGlvbihcIndyYXBwZXJBbmltYXRpb25cIikua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsb3BhY2l0eToxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMTAwJSlcIn0se29mZnNldDoxLG9wYWNpdHk6MSx0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKFwiKygxMDAtZSoxMDApK1wiJSlcIn1dKTtyZXR1cm57d3JhcHBlckFuaW1hdGlvbjphLGJhY2tkcm9wQW5pbWF0aW9uOm59fTt2YXIgY3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10LmN1cnJlbnRCcmVha3BvaW50LHI9dC5iYWNrZHJvcEJyZWFrcG9pbnQ7dmFyIGk9XCJjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogXCIrZ2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0KGUscikrXCIpXCI7dmFyIG89W3tvZmZzZXQ6MCxvcGFjaXR5Oml9LHtvZmZzZXQ6MSxvcGFjaXR5OjB9XTt2YXIgbj1be29mZnNldDowLG9wYWNpdHk6aX0se29mZnNldDpyLG9wYWNpdHk6MH0se29mZnNldDoxLG9wYWNpdHk6MH1dO3ZhciBhPWNyZWF0ZUFuaW1hdGlvbihcImJhY2tkcm9wQW5pbWF0aW9uXCIpLmtleWZyYW1lcyhyIT09MD9uOm8pO3ZhciBzPWNyZWF0ZUFuaW1hdGlvbihcIndyYXBwZXJBbmltYXRpb25cIikua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsb3BhY2l0eToxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrKDEwMC1lKjEwMCkrXCIlKVwifSx7b2Zmc2V0OjEsb3BhY2l0eToxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMTAwJSlcIn1dKTtyZXR1cm57d3JhcHBlckFuaW1hdGlvbjpzLGJhY2tkcm9wQW5pbWF0aW9uOmF9fTt2YXIgY3JlYXRlRW50ZXJBbmltYXRpb24kMT1mdW5jdGlvbigpe3ZhciB0PWNyZWF0ZUFuaW1hdGlvbigpLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiKTt2YXIgZT1jcmVhdGVBbmltYXRpb24oKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoMTAwdmgpXCIsXCJ0cmFuc2xhdGVZKDB2aClcIik7cmV0dXJue2JhY2tkcm9wQW5pbWF0aW9uOnQsd3JhcHBlckFuaW1hdGlvbjplfX07dmFyIGlvc0VudGVyQW5pbWF0aW9uJDM9ZnVuY3Rpb24odCxlKXt2YXIgcj1lLnByZXNlbnRpbmdFbCxpPWUuY3VycmVudEJyZWFrcG9pbnQ7dmFyIG89Z2V0RWxlbWVudFJvb3QodCk7dmFyIG49aSE9PXVuZGVmaW5lZD9jcmVhdGVTaGVldEVudGVyQW5pbWF0aW9uKGUpOmNyZWF0ZUVudGVyQW5pbWF0aW9uJDEoKSxhPW4ud3JhcHBlckFuaW1hdGlvbixzPW4uYmFja2Ryb3BBbmltYXRpb247cy5hZGRFbGVtZW50KG8ucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuYmVmb3JlU3R5bGVzKHtcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KS5hZnRlckNsZWFyU3R5bGVzKFtcInBvaW50ZXItZXZlbnRzXCJdKTthLmFkZEVsZW1lbnQoby5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLXdyYXBwZXIsIC5tb2RhbC1zaGFkb3dcIikpLmJlZm9yZVN0eWxlcyh7b3BhY2l0eToxfSk7dmFyIGw9Y3JlYXRlQW5pbWF0aW9uKFwiZW50ZXJpbmctYmFzZVwiKS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImN1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKVwiKS5kdXJhdGlvbig1MDApLmFkZEFuaW1hdGlvbihhKTtpZihyKXt2YXIgZD13aW5kb3cuaW5uZXJXaWR0aDw3Njg7dmFyIGM9ci50YWdOYW1lPT09XCJJT04tTU9EQUxcIiYmci5wcmVzZW50aW5nRWxlbWVudCE9PXVuZGVmaW5lZDt2YXIgcD1nZXRFbGVtZW50Um9vdChyKTt2YXIgdT1jcmVhdGVBbmltYXRpb24oKS5iZWZvcmVTdHlsZXMoe3RyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMClcIixcInRyYW5zZm9ybS1vcmlnaW5cIjpcInRvcCBjZW50ZXJcIixvdmVyZmxvdzpcImhpZGRlblwifSk7dmFyIGg9ZG9jdW1lbnQuYm9keTtpZihkKXt2YXIgbT0hQ1NTLnN1cHBvcnRzKFwid2lkdGhcIixcIm1heCgwcHgsIDFweClcIik/XCIzMHB4XCI6XCJtYXgoMzBweCwgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApKVwiO3ZhciBnPWM/XCItMTBweFwiOm07dmFyIGY9U3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU7dmFyIGI9XCJ0cmFuc2xhdGVZKFwiK2crXCIpIHNjYWxlKFwiK2YrXCIpXCI7dS5hZnRlclN0eWxlcyh7dHJhbnNmb3JtOmJ9KS5iZWZvcmVBZGRXcml0ZSgoZnVuY3Rpb24oKXtyZXR1cm4gaC5zdHlsZS5zZXRQcm9wZXJ0eShcImJhY2tncm91bmQtY29sb3JcIixcImJsYWNrXCIpfSkpLmFkZEVsZW1lbnQocikua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsZmlsdGVyOlwiY29udHJhc3QoMSlcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKDBweCkgc2NhbGUoMSlcIixib3JkZXJSYWRpdXM6XCIwcHhcIn0se29mZnNldDoxLGZpbHRlcjpcImNvbnRyYXN0KDAuODUpXCIsdHJhbnNmb3JtOmIsYm9yZGVyUmFkaXVzOlwiMTBweCAxMHB4IDAgMFwifV0pO2wuYWRkQW5pbWF0aW9uKHUpfWVsc2V7bC5hZGRBbmltYXRpb24ocyk7aWYoIWMpe2EuZnJvbVRvKFwib3BhY2l0eVwiLFwiMFwiLFwiMVwiKX1lbHNle3ZhciBmPWM/U3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU6MTt2YXIgYj1cInRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKFwiK2YrXCIpXCI7dS5hZnRlclN0eWxlcyh7dHJhbnNmb3JtOmJ9KS5hZGRFbGVtZW50KHAucXVlcnlTZWxlY3RvcihcIi5tb2RhbC13cmFwcGVyXCIpKS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxmaWx0ZXI6XCJjb250cmFzdCgxKVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMCkgc2NhbGUoMSlcIn0se29mZnNldDoxLGZpbHRlcjpcImNvbnRyYXN0KDAuODUpXCIsdHJhbnNmb3JtOmJ9XSk7dmFyIHY9Y3JlYXRlQW5pbWF0aW9uKCkuYWZ0ZXJTdHlsZXMoe3RyYW5zZm9ybTpifSkuYWRkRWxlbWVudChwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtc2hhZG93XCIpKS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxvcGFjaXR5OlwiMVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMCkgc2NhbGUoMSlcIn0se29mZnNldDoxLG9wYWNpdHk6XCIwXCIsdHJhbnNmb3JtOmJ9XSk7bC5hZGRBbmltYXRpb24oW3Usdl0pfX19ZWxzZXtsLmFkZEFuaW1hdGlvbihzKX1yZXR1cm4gbH07dmFyIGNyZWF0ZUxlYXZlQW5pbWF0aW9uJDE9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVBbmltYXRpb24oKS5mcm9tVG8oXCJvcGFjaXR5XCIsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiLDApO3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWSgwdmgpXCIsXCJ0cmFuc2xhdGVZKDEwMHZoKVwiKTtyZXR1cm57YmFja2Ryb3BBbmltYXRpb246dCx3cmFwcGVyQW5pbWF0aW9uOmV9fTt2YXIgaW9zTGVhdmVBbmltYXRpb24kMz1mdW5jdGlvbih0LGUscil7aWYocj09PXZvaWQgMCl7cj01MDB9dmFyIGk9ZS5wcmVzZW50aW5nRWwsbz1lLmN1cnJlbnRCcmVha3BvaW50O3ZhciBuPWdldEVsZW1lbnRSb290KHQpO3ZhciBhPW8hPT11bmRlZmluZWQ/Y3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbihlKTpjcmVhdGVMZWF2ZUFuaW1hdGlvbiQxKCkscz1hLndyYXBwZXJBbmltYXRpb24sbD1hLmJhY2tkcm9wQW5pbWF0aW9uO2wuYWRkRWxlbWVudChuLnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpO3MuYWRkRWxlbWVudChuLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvd1wiKSkuYmVmb3JlU3R5bGVzKHtvcGFjaXR5OjF9KTt2YXIgZD1jcmVhdGVBbmltYXRpb24oXCJsZWF2aW5nLWJhc2VcIikuYWRkRWxlbWVudCh0KS5lYXNpbmcoXCJjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSlcIikuZHVyYXRpb24ocikuYWRkQW5pbWF0aW9uKHMpO2lmKGkpe3ZhciBjPXdpbmRvdy5pbm5lcldpZHRoPDc2ODt2YXIgcD1pLnRhZ05hbWU9PT1cIklPTi1NT0RBTFwiJiZpLnByZXNlbnRpbmdFbGVtZW50IT09dW5kZWZpbmVkO3ZhciB1PWdldEVsZW1lbnRSb290KGkpO3ZhciBoPWNyZWF0ZUFuaW1hdGlvbigpLmJlZm9yZUNsZWFyU3R5bGVzKFtcInRyYW5zZm9ybVwiXSkuYWZ0ZXJDbGVhclN0eWxlcyhbXCJ0cmFuc2Zvcm1cIl0pLm9uRmluaXNoKChmdW5jdGlvbih0KXtpZih0IT09MSl7cmV0dXJufWkuc3R5bGUuc2V0UHJvcGVydHkoXCJvdmVyZmxvd1wiLFwiXCIpO3ZhciBlPUFycmF5LmZyb20obS5xdWVyeVNlbGVjdG9yQWxsKFwiaW9uLW1vZGFsXCIpKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnByZXNlbnRpbmdFbGVtZW50IT09dW5kZWZpbmVkfSkpLmxlbmd0aDtpZihlPD0xKXttLnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1jb2xvclwiLFwiXCIpfX0pKTt2YXIgbT1kb2N1bWVudC5ib2R5O2lmKGMpe3ZhciBnPSFDU1Muc3VwcG9ydHMoXCJ3aWR0aFwiLFwibWF4KDBweCwgMXB4KVwiKT9cIjMwcHhcIjpcIm1heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpXCI7dmFyIGY9cD9cIi0xMHB4XCI6Zzt2YXIgYj1Td2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRTt2YXIgdj1cInRyYW5zbGF0ZVkoXCIrZitcIikgc2NhbGUoXCIrYitcIilcIjtoLmFkZEVsZW1lbnQoaSkua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsZmlsdGVyOlwiY29udHJhc3QoMC44NSlcIix0cmFuc2Zvcm06dixib3JkZXJSYWRpdXM6XCIxMHB4IDEwcHggMCAwXCJ9LHtvZmZzZXQ6MSxmaWx0ZXI6XCJjb250cmFzdCgxKVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMHB4KSBzY2FsZSgxKVwiLGJvcmRlclJhZGl1czpcIjBweFwifV0pO2QuYWRkQW5pbWF0aW9uKGgpfWVsc2V7ZC5hZGRBbmltYXRpb24obCk7aWYoIXApe3MuZnJvbVRvKFwib3BhY2l0eVwiLFwiMVwiLFwiMFwiKX1lbHNle3ZhciBiPXA/U3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU6MTt2YXIgdj1cInRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKFwiK2IrXCIpXCI7aC5hZGRFbGVtZW50KHUucXVlcnlTZWxlY3RvcihcIi5tb2RhbC13cmFwcGVyXCIpKS5hZnRlclN0eWxlcyh7dHJhbnNmb3JtOlwidHJhbnNsYXRlM2QoMCwgMCwgMClcIn0pLmtleWZyYW1lcyhbe29mZnNldDowLGZpbHRlcjpcImNvbnRyYXN0KDAuODUpXCIsdHJhbnNmb3JtOnZ9LHtvZmZzZXQ6MSxmaWx0ZXI6XCJjb250cmFzdCgxKVwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMCkgc2NhbGUoMSlcIn1dKTt2YXIgeD1jcmVhdGVBbmltYXRpb24oKS5hZGRFbGVtZW50KHUucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1zaGFkb3dcIikpLmFmdGVyU3R5bGVzKHt0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKDApIHNjYWxlKDEpXCJ9KS5rZXlmcmFtZXMoW3tvZmZzZXQ6MCxvcGFjaXR5OlwiMFwiLHRyYW5zZm9ybTp2fSx7b2Zmc2V0OjEsb3BhY2l0eTpcIjFcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKDApIHNjYWxlKDEpXCJ9XSk7ZC5hZGRBbmltYXRpb24oW2gseF0pfX19ZWxzZXtkLmFkZEFuaW1hdGlvbihsKX1yZXR1cm4gZH07dmFyIGNyZWF0ZUVudGVyQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9Y3JlYXRlQW5pbWF0aW9uKCkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSxcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIpO3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpLmtleWZyYW1lcyhbe29mZnNldDowLG9wYWNpdHk6LjAxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoNDBweClcIn0se29mZnNldDoxLG9wYWNpdHk6MSx0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKDBweClcIn1dKTtyZXR1cm57YmFja2Ryb3BBbmltYXRpb246dCx3cmFwcGVyQW5pbWF0aW9uOmV9fTt2YXIgbWRFbnRlckFuaW1hdGlvbiQyPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS5jdXJyZW50QnJlYWtwb2ludDt2YXIgaT1nZXRFbGVtZW50Um9vdCh0KTt2YXIgbz1yIT09dW5kZWZpbmVkP2NyZWF0ZVNoZWV0RW50ZXJBbmltYXRpb24oZSk6Y3JlYXRlRW50ZXJBbmltYXRpb24oKSxuPW8ud3JhcHBlckFuaW1hdGlvbixhPW8uYmFja2Ryb3BBbmltYXRpb247YS5hZGRFbGVtZW50KGkucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuYmVmb3JlU3R5bGVzKHtcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KS5hZnRlckNsZWFyU3R5bGVzKFtcInBvaW50ZXItZXZlbnRzXCJdKTtuLmFkZEVsZW1lbnQoaS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLXdyYXBwZXJcIikpO3JldHVybiBjcmVhdGVBbmltYXRpb24oKS5hZGRFbGVtZW50KHQpLmVhc2luZyhcImN1YmljLWJlemllcigwLjM2LDAuNjYsMC4wNCwxKVwiKS5kdXJhdGlvbigyODApLmFkZEFuaW1hdGlvbihbYSxuXSl9O3ZhciBjcmVhdGVMZWF2ZUFuaW1hdGlvbj1mdW5jdGlvbigpe3ZhciB0PWNyZWF0ZUFuaW1hdGlvbigpLmZyb21UbyhcIm9wYWNpdHlcIixcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIsMCk7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCkua2V5ZnJhbWVzKFt7b2Zmc2V0OjAsb3BhY2l0eTouOTksdHJhbnNmb3JtOlwidHJhbnNsYXRlWSgwcHgpXCJ9LHtvZmZzZXQ6MSxvcGFjaXR5OjAsdHJhbnNmb3JtOlwidHJhbnNsYXRlWSg0MHB4KVwifV0pO3JldHVybntiYWNrZHJvcEFuaW1hdGlvbjp0LHdyYXBwZXJBbmltYXRpb246ZX19O3ZhciBtZExlYXZlQW5pbWF0aW9uJDI9ZnVuY3Rpb24odCxlKXt2YXIgcj1lLmN1cnJlbnRCcmVha3BvaW50O3ZhciBpPWdldEVsZW1lbnRSb290KHQpO3ZhciBvPXIhPT11bmRlZmluZWQ/Y3JlYXRlU2hlZXRMZWF2ZUFuaW1hdGlvbihlKTpjcmVhdGVMZWF2ZUFuaW1hdGlvbigpLG49by53cmFwcGVyQW5pbWF0aW9uLGE9by5iYWNrZHJvcEFuaW1hdGlvbjthLmFkZEVsZW1lbnQoaS5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2tkcm9wXCIpKTtuLmFkZEVsZW1lbnQoaS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLXdyYXBwZXJcIikpO3JldHVybiBjcmVhdGVBbmltYXRpb24oKS5lYXNpbmcoXCJjdWJpYy1iZXppZXIoMC40NywwLDAuNzQ1LDAuNzE1KVwiKS5kdXJhdGlvbigyMDApLmFkZEFuaW1hdGlvbihbYSxuXSl9O3ZhciBjcmVhdGVTaGVldEdlc3R1cmU9ZnVuY3Rpb24odCxlLHIsaSxvLG4sYSxzLGwpe2lmKGE9PT12b2lkIDApe2E9W119dmFyIGQ9W3tvZmZzZXQ6MCxvcGFjaXR5OlwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIn0se29mZnNldDoxLG9wYWNpdHk6LjAxfV07dmFyIGM9W3tvZmZzZXQ6MCxvcGFjaXR5OlwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIn0se29mZnNldDoxLW8sb3BhY2l0eTowfSx7b2Zmc2V0OjEsb3BhY2l0eTowfV07dmFyIHA9e1dSQVBQRVJfS0VZRlJBTUVTOlt7b2Zmc2V0OjAsdHJhbnNmb3JtOlwidHJhbnNsYXRlWSgwJSlcIn0se29mZnNldDoxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoMTAwJSlcIn1dLEJBQ0tEUk9QX0tFWUZSQU1FUzpvIT09MD9jOmR9O3ZhciB1PXQucXVlcnlTZWxlY3RvcihcImlvbi1jb250ZW50XCIpO3ZhciBoPXIuY2xpZW50SGVpZ2h0O3ZhciBtPWk7dmFyIGc9MDt2YXIgZj1uLmNoaWxkQW5pbWF0aW9ucy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PVwid3JhcHBlckFuaW1hdGlvblwifSkpO3ZhciBiPW4uY2hpbGRBbmltYXRpb25zLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09XCJiYWNrZHJvcEFuaW1hdGlvblwifSkpO3ZhciB2PWFbYS5sZW5ndGgtMV07aWYoZiYmYil7Zi5rZXlmcmFtZXMoX19zcHJlYWRBcnJheShbXSxwLldSQVBQRVJfS0VZRlJBTUVTKSk7Yi5rZXlmcmFtZXMoX19zcHJlYWRBcnJheShbXSxwLkJBQ0tEUk9QX0tFWUZSQU1FUykpO24ucHJvZ3Jlc3NTdGFydCh0cnVlLDEtbSk7dmFyIHg9bT5vO2Uuc3R5bGUuc2V0UHJvcGVydHkoXCJwb2ludGVyLWV2ZW50c1wiLHg/XCJhdXRvXCI6XCJub25lXCIpfWlmKHUmJm0hPT12KXt1LnNjcm9sbFk9ZmFsc2V9dmFyIGs9ZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudC50YXJnZXQuY2xvc2VzdChcImlvbi1jb250ZW50XCIpO2lmKG09PT0xJiZlKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRydWV9O3ZhciB3PWZ1bmN0aW9uKCl7aWYodSl7dS5zY3JvbGxZPWZhbHNlfW4ucHJvZ3Jlc3NTdGFydCh0cnVlLDEtbSl9O3ZhciB5PWZ1bmN0aW9uKHQpe3ZhciBlPTEtbTtnPWNsYW1wKDFlLTQsZSt0LmRlbHRhWS9oLC45OTk5KTtuLnByb2dyZXNzU3RlcChnKX07dmFyIEE9ZnVuY3Rpb24odCl7dmFyIHI9dC52ZWxvY2l0eVk7dmFyIGk9KHQuZGVsdGFZK3IqMTAwKS9oO3ZhciBkPW0taTt2YXIgYz1hLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gTWF0aC5hYnMoZS1kKTxNYXRoLmFicyh0LWQpP2U6dH0pKTt2YXIgdj1jIT09MDttPTA7aWYoZiYmYil7Zi5rZXlmcmFtZXMoW3tvZmZzZXQ6MCx0cmFuc2Zvcm06XCJ0cmFuc2xhdGVZKFwiK2cqMTAwK1wiJSlcIn0se29mZnNldDoxLHRyYW5zZm9ybTpcInRyYW5zbGF0ZVkoXCIrKDEtYykqMTAwK1wiJSlcIn1dKTtiLmtleWZyYW1lcyhbe29mZnNldDowLG9wYWNpdHk6XCJjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogXCIrZ2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0KDEtZyxvKStcIilcIn0se29mZnNldDoxLG9wYWNpdHk6XCJjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogXCIrZ2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0KGMsbykrXCIpXCJ9XSk7bi5wcm9ncmVzc1N0ZXAoMCl9RS5lbmFibGUoZmFsc2UpO24ub25GaW5pc2goKGZ1bmN0aW9uKCl7aWYodil7aWYoZiYmYil7cmFmKChmdW5jdGlvbigpe2Yua2V5ZnJhbWVzKF9fc3ByZWFkQXJyYXkoW10scC5XUkFQUEVSX0tFWUZSQU1FUykpO2Iua2V5ZnJhbWVzKF9fc3ByZWFkQXJyYXkoW10scC5CQUNLRFJPUF9LRVlGUkFNRVMpKTtuLnByb2dyZXNzU3RhcnQodHJ1ZSwxLWMpO209YztsKG0pO2lmKHUmJm09PT1hW2EubGVuZ3RoLTFdKXt1LnNjcm9sbFk9dHJ1ZX12YXIgdD1tPm87ZS5zdHlsZS5zZXRQcm9wZXJ0eShcInBvaW50ZXItZXZlbnRzXCIsdD9cImF1dG9cIjpcIm5vbmVcIik7RS5lbmFibGUodHJ1ZSl9KSl9ZWxzZXtFLmVuYWJsZSh0cnVlKX19fSkse29uZVRpbWVDYWxsYmFjazp0cnVlfSkucHJvZ3Jlc3NFbmQoMSwwLDUwMCk7aWYoIXYpe3MoKX19O3ZhciBFPWNyZWF0ZUdlc3R1cmUoe2VsOnIsZ2VzdHVyZU5hbWU6XCJtb2RhbFNoZWV0XCIsZ2VzdHVyZVByaW9yaXR5OjQwLGRpcmVjdGlvbjpcInlcIix0aHJlc2hvbGQ6MTAsY2FuU3RhcnQ6ayxvblN0YXJ0Oncsb25Nb3ZlOnksb25FbmQ6QX0pO3JldHVybiBFfTt2YXIgbW9kYWxJb3NDc3M9XCI6aG9zdHstLXdpZHRoOjEwMCU7LS1taW4td2lkdGg6YXV0bzstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OjEwMCU7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS1vdmVyZmxvdzpoaWRkZW47LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OjA7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb250YWluOnN0cmljdDtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5tb2RhbC1pbnRlcmFjdGl2ZSkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLWludGVyYWN0aXZlKSBpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6YXV0b306aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlciwubW9kYWwtc2hhZG93e2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjUwMHB4Oy0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1ib3R0b206MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4fX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDc2OHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0ubW9kYWwtaGFuZGxle2xlZnQ6MHB4O3JpZ2h0OjBweDt0b3A6NXB4O2JvcmRlci1yYWRpdXM6OHB4O21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpO3otaW5kZXg6MTF9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubW9kYWwtaGFuZGxle21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX06aG9zdCgubW9kYWwtc2hlZXQpey0taGVpZ2h0OmNhbGMoMTAwJSAtICh2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyAxMHB4KSl9Omhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtd3JhcHBlciw6aG9zdCgubW9kYWwtc2hlZXQpIC5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjB9Omhvc3R7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjQpfTpob3N0KC5tb2RhbC1jYXJkKSw6aG9zdCgubW9kYWwtc2hlZXQpey0tYm9yZGVyLXJhZGl1czoxMHB4fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpIGFuZCAobWluLWhlaWdodDogNjAwcHgpezpob3N0ey0tYm9yZGVyLXJhZGl1czoxMHB4fX0ubW9kYWwtd3JhcHBlcnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2N3B4KXtAc3VwcG9ydHMgKHdpZHRoOiBtYXgoMHB4LCAxcHgpKXs6aG9zdCgubW9kYWwtY2FyZCl7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gbWF4KDMwcHgsIHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSkgLSAxMHB4KX19QHN1cHBvcnRzIG5vdCAod2lkdGg6IG1heCgwcHgsIDFweCkpezpob3N0KC5tb2RhbC1jYXJkKXstLWhlaWdodDpjYWxjKDEwMCUgLSA0MHB4KX19Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5tb2RhbC1jYXJkIC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Omhvc3QoLm1vZGFsLWNhcmQpey0tYmFja2Ryb3Atb3BhY2l0eTowOy0td2lkdGg6MTAwJTstbXMtZmxleC1hbGlnbjplbmQ7YWxpZ24taXRlbXM6ZmxleC1lbmR9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC1zaGFkb3d7ZGlzcGxheTpub25lfTpob3N0KC5tb2RhbC1jYXJkKSBpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6bm9uZX19QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzY4cHgpezpob3N0KC5tb2RhbC1jYXJkKXstLXdpZHRoOmNhbGMoMTAwJSAtIDEyMHB4KTstLWhlaWdodDpjYWxjKDEwMCUgLSAoMTIwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSkpKTstLW1heC13aWR0aDo3MjBweDstLW1heC1oZWlnaHQ6MTAwMHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTowOy0tYm94LXNoYWRvdzowcHggMHB4IDMwcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAwLjVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIDAuNXMgZWFzZS1pbi1vdXR9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC13cmFwcGVyey13ZWJraXQtYm94LXNoYWRvdzpub25lO2JveC1zaGFkb3c6bm9uZX06aG9zdCgubW9kYWwtY2FyZCkgLm1vZGFsLXNoYWRvd3std2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KX19Omhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtd3JhcHBlcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLm1vZGFsLXNoZWV0IC5tb2RhbC13cmFwcGVye2JvcmRlci10b3AtbGVmdC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9XCI7dmFyIG1vZGFsTWRDc3M9XCI6aG9zdHstLXdpZHRoOjEwMCU7LS1taW4td2lkdGg6YXV0bzstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OjEwMCU7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS1vdmVyZmxvdzpoaWRkZW47LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OjA7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb250YWluOnN0cmljdDtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5tb2RhbC1pbnRlcmFjdGl2ZSkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLWludGVyYWN0aXZlKSBpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6YXV0b306aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlciwubW9kYWwtc2hhZG93e2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjUwMHB4Oy0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1ib3R0b206MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4fX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDc2OHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0ubW9kYWwtaGFuZGxle2xlZnQ6MHB4O3JpZ2h0OjBweDt0b3A6NXB4O2JvcmRlci1yYWRpdXM6OHB4O21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpO3otaW5kZXg6MTF9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubW9kYWwtaGFuZGxle21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX06aG9zdCgubW9kYWwtc2hlZXQpey0taGVpZ2h0OmNhbGMoMTAwJSAtICh2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyAxMHB4KSl9Omhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtd3JhcHBlciw6aG9zdCgubW9kYWwtc2hlZXQpIC5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjB9Omhvc3R7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjMyKX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLWJvcmRlci1yYWRpdXM6MnB4Oy0tYm94LXNoYWRvdzowIDI4cHggNDhweCByZ2JhKDAsIDAsIDAsIDAuNCl9fS5tb2RhbC13cmFwcGVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7b3BhY2l0eTowLjAxfVwiO3ZhciBNb2RhbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpcztyZWdpc3Rlckluc3RhbmNlKHRoaXMsdCk7dGhpcy5kaWRQcmVzZW50PWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25Nb2RhbERpZFByZXNlbnRcIiw3KTt0aGlzLndpbGxQcmVzZW50PWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25Nb2RhbFdpbGxQcmVzZW50XCIsNyk7dGhpcy53aWxsRGlzbWlzcz1jcmVhdGVFdmVudCh0aGlzLFwiaW9uTW9kYWxXaWxsRGlzbWlzc1wiLDcpO3RoaXMuZGlkRGlzbWlzcz1jcmVhdGVFdmVudCh0aGlzLFwiaW9uTW9kYWxEaWREaXNtaXNzXCIsNyk7dGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kPWNyZWF0ZUV2ZW50KHRoaXMsXCJkaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudFNob3J0aGFuZD1jcmVhdGVFdmVudCh0aGlzLFwid2lsbFByZXNlbnRcIiw3KTt0aGlzLndpbGxEaXNtaXNzU2hvcnRoYW5kPWNyZWF0ZUV2ZW50KHRoaXMsXCJ3aWxsRGlzbWlzc1wiLDcpO3RoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZD1jcmVhdGVFdmVudCh0aGlzLFwiZGlkRGlzbWlzc1wiLDcpO3RoaXMubW9kYWxJbmRleD1tb2RhbElkcysrO3RoaXMuY29yZURlbGVnYXRlPUNvcmVEZWxlZ2F0ZSgpO3RoaXMuaXNTaGVldE1vZGFsPWZhbHNlO3RoaXMuaW5saW5lPWZhbHNlO3RoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3Npbmc9ZmFsc2U7dGhpcy5wcmVzZW50ZWQ9ZmFsc2U7dGhpcy5oYXNDb250cm9sbGVyPWZhbHNlO3RoaXMua2V5Ym9hcmRDbG9zZT10cnVlO3RoaXMuYmFja2Ryb3BCcmVha3BvaW50PTA7dGhpcy5iYWNrZHJvcERpc21pc3M9dHJ1ZTt0aGlzLnNob3dCYWNrZHJvcD10cnVlO3RoaXMuYW5pbWF0ZWQ9dHJ1ZTt0aGlzLnN3aXBlVG9DbG9zZT1mYWxzZTt0aGlzLmlzT3Blbj1mYWxzZTt0aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbj1mdW5jdGlvbigpe3ZhciB0PWUscj10LnRyaWdnZXIsaT10LmVsLG89dC5kZXN0cm95VHJpZ2dlckludGVyYWN0aW9uO2lmKG8pe28oKX12YXIgbj1yIT09dW5kZWZpbmVkP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpOm51bGw7aWYoIW4pe3JldHVybn12YXIgYT1mdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKCl7ZS5wcmVzZW50KCl9O3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIscik7cmV0dXJuIGZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixyKX19O2UuZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbj1hKG4saSl9O3RoaXMub25CYWNrZHJvcFRhcD1mdW5jdGlvbigpe2UuZGlzbWlzcyh1bmRlZmluZWQsQkFDS0RST1ApfTt0aGlzLm9uRGlzbWlzcz1mdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpO3QucHJldmVudERlZmF1bHQoKTtlLmRpc21pc3MoKX07dGhpcy5vbkxpZmVjeWNsZT1mdW5jdGlvbih0KXt2YXIgcj1lLnVzZXJzRWxlbWVudDt2YXIgaT1MSUZFQ1lDTEVfTUFQJDFbdC50eXBlXTtpZihyJiZpKXt2YXIgbz1uZXcgQ3VzdG9tRXZlbnQoaSx7YnViYmxlczpmYWxzZSxjYW5jZWxhYmxlOmZhbHNlLGRldGFpbDp0LmRldGFpbH0pO3IuZGlzcGF0Y2hFdmVudChvKX19fXQucHJvdG90eXBlLm9uSXNPcGVuQ2hhbmdlPWZ1bmN0aW9uKHQsZSl7aWYodD09PXRydWUmJmU9PT1mYWxzZSl7dGhpcy5wcmVzZW50KCl9ZWxzZSBpZih0PT09ZmFsc2UmJmU9PT10cnVlKXt0aGlzLmRpc21pc3MoKX19O3QucHJvdG90eXBlLm9uVHJpZ2dlckNoYW5nZT1mdW5jdGlvbigpe3RoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCl9O3QucHJvdG90eXBlLnN3aXBlVG9DbG9zZUNoYW5nZWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5nZXN0dXJlKXt0aGlzLmdlc3R1cmUuZW5hYmxlKHQpfWVsc2UgaWYodCl7dGhpcy5pbml0U3dpcGVUb0Nsb3NlKCl9fTt0LnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ByZXBhcmVPdmVybGF5KHRoaXMuZWwpfTt0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LmJyZWFrcG9pbnRzLHI9dC5pbml0aWFsQnJlYWtwb2ludDt0aGlzLm1vZGFsSWQ9dGhpcy5lbC5oYXNBdHRyaWJ1dGUoXCJpZFwiKT90aGlzLmVsLmdldEF0dHJpYnV0ZShcImlkXCIpOlwiaW9uLW1vZGFsLVwiK3RoaXMubW9kYWxJbmRleDt0aGlzLmlzU2hlZXRNb2RhbD1lIT09dW5kZWZpbmVkJiZyIT09dW5kZWZpbmVkO2lmKGUhPT11bmRlZmluZWQmJnIhPT11bmRlZmluZWQmJiFlLmluY2x1ZGVzKHIpKXtjb25zb2xlLndhcm4oXCJbSW9uaWMgV2FybmluZ106IFlvdXIgYnJlYWtwb2ludHMgYXJyYXkgbXVzdCBpbmNsdWRlIHRoZSBpbml0aWFsQnJlYWtwb2ludCB2YWx1ZS5cIil9fTt0LnByb3RvdHlwZS5jb21wb25lbnREaWRMb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZih0aGlzLmlzT3Blbj09PXRydWUpe3JhZigoZnVuY3Rpb24oKXtyZXR1cm4gdC5wcmVzZW50KCl9KSl9dGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKX07dC5wcm90b3R5cGUuZ2V0RGVsZWdhdGU9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCl7dD1mYWxzZX1pZih0aGlzLndvcmtpbmdEZWxlZ2F0ZSYmIXQpe3JldHVybntkZWxlZ2F0ZTp0aGlzLndvcmtpbmdEZWxlZ2F0ZSxpbmxpbmU6dGhpcy5pbmxpbmV9fXZhciBlPXRoaXMuZWwucGFyZW50Tm9kZTt2YXIgcj10aGlzLmlubGluZT1lIT09bnVsbCYmIXRoaXMuaGFzQ29udHJvbGxlcjt2YXIgaT10aGlzLndvcmtpbmdEZWxlZ2F0ZT1yP3RoaXMuZGVsZWdhdGV8fHRoaXMuY29yZURlbGVnYXRlOnRoaXMuZGVsZWdhdGU7cmV0dXJue2lubGluZTpyLGRlbGVnYXRlOml9fTt0LnByb3RvdHlwZS5wcmVzZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQsZSxyLGksbzt2YXIgbj10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihhKXtzd2l0Y2goYS5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMucHJlc2VudGVkKXtyZXR1cm5bMl19aWYoISh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uIT09dW5kZWZpbmVkKSlyZXR1cm5bMywyXTtyZXR1cm5bNCx0aGlzLmN1cnJlbnRUcmFuc2l0aW9uXTtjYXNlIDE6YS5zZW50KCk7YS5sYWJlbD0yO2Nhc2UgMjp0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLmNvbXBvbmVudFByb3BzKSx7bW9kYWw6dGhpcy5lbH0pO2U9dGhpcy5nZXREZWxlZ2F0ZSh0cnVlKSxyPWUuaW5saW5lLGk9ZS5kZWxlZ2F0ZTtvPXRoaXM7cmV0dXJuWzQsYXR0YWNoQ29tcG9uZW50KGksdGhpcy5lbCx0aGlzLmNvbXBvbmVudCxbXCJpb24tcGFnZVwiXSx0LHIpXTtjYXNlIDM6by51c2Vyc0VsZW1lbnQ9YS5zZW50KCk7cmV0dXJuWzQsZGVlcFJlYWR5KHRoaXMudXNlcnNFbGVtZW50KV07Y2FzZSA0OmEuc2VudCgpO3dyaXRlVGFzaygoZnVuY3Rpb24oKXtyZXR1cm4gbi5lbC5jbGFzc0xpc3QuYWRkKFwic2hvdy1tb2RhbFwiKX0pKTt0aGlzLmN1cnJlbnRUcmFuc2l0aW9uPXByZXNlbnQodGhpcyxcIm1vZGFsRW50ZXJcIixpb3NFbnRlckFuaW1hdGlvbiQzLG1kRW50ZXJBbmltYXRpb24kMix7cHJlc2VudGluZ0VsOnRoaXMucHJlc2VudGluZ0VsZW1lbnQsY3VycmVudEJyZWFrcG9pbnQ6dGhpcy5pbml0aWFsQnJlYWtwb2ludCxiYWNrZHJvcEJyZWFrcG9pbnQ6dGhpcy5iYWNrZHJvcEJyZWFrcG9pbnR9KTtyZXR1cm5bNCx0aGlzLmN1cnJlbnRUcmFuc2l0aW9uXTtjYXNlIDU6YS5zZW50KCk7aWYodGhpcy5pc1NoZWV0TW9kYWwpe3RoaXMuaW5pdFNoZWV0R2VzdHVyZSgpfWVsc2UgaWYodGhpcy5zd2lwZVRvQ2xvc2Upe3RoaXMuaW5pdFN3aXBlVG9DbG9zZSgpfXRoaXMuY3VycmVudFRyYW5zaXRpb249dW5kZWZpbmVkO3JldHVyblsyXX19KSl9KSl9O3QucHJvdG90eXBlLmluaXRTd2lwZVRvQ2xvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKGdldElvbk1vZGUodGhpcykhPT1cImlvc1wiKXtyZXR1cm59dmFyIGU9dGhpcy5sZWF2ZUFuaW1hdGlvbnx8Y29uZmlnLmdldChcIm1vZGFsTGVhdmVcIixpb3NMZWF2ZUFuaW1hdGlvbiQzKTt2YXIgcj10aGlzLmFuaW1hdGlvbj1lKHRoaXMuZWwse3ByZXNlbnRpbmdFbDp0aGlzLnByZXNlbnRpbmdFbGVtZW50fSk7dGhpcy5nZXN0dXJlPWNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUodGhpcy5lbCxyLChmdW5jdGlvbigpe3QuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3Npbmc9dHJ1ZTt0LmFuaW1hdGlvbi5vbkZpbmlzaCgoZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHQsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRpc21pc3ModW5kZWZpbmVkLFwiZ2VzdHVyZVwiKV07Y2FzZSAxOnQuc2VudCgpO3RoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3Npbmc9ZmFsc2U7cmV0dXJuWzJdfX0pKX0pKX0pKX0pKTt0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpfTt0LnByb3RvdHlwZS5pbml0U2hlZXRHZXN0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt2YXIgZTt2YXIgcj10aGlzLGk9ci53cmFwcGVyRWwsbz1yLmluaXRpYWxCcmVha3BvaW50LG49ci5iYWNrZHJvcEJyZWFrcG9pbnQ7aWYoIWl8fG89PT11bmRlZmluZWQpe3JldHVybn12YXIgYT10aGlzLmVudGVyQW5pbWF0aW9ufHxjb25maWcuZ2V0KFwibW9kYWxFbnRlclwiLGlvc0VudGVyQW5pbWF0aW9uJDMpO3ZhciBzPXRoaXMuYW5pbWF0aW9uPWEodGhpcy5lbCx7cHJlc2VudGluZ0VsOnRoaXMucHJlc2VudGluZ0VsZW1lbnQsY3VycmVudEJyZWFrcG9pbnQ6byxiYWNrZHJvcEJyZWFrcG9pbnQ6bn0pO3MucHJvZ3Jlc3NTdGFydCh0cnVlLDEpO3ZhciBsPSgoZT10aGlzLmJyZWFrcG9pbnRzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuc29ydCgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC1lfSkpKXx8W107dGhpcy5nZXN0dXJlPWNyZWF0ZVNoZWV0R2VzdHVyZSh0aGlzLmVsLHRoaXMuYmFja2Ryb3BFbCxpLG8sbixzLGwsKGZ1bmN0aW9uKCl7dC5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZz10cnVlO3QuYW5pbWF0aW9uLm9uRmluaXNoKChmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodCx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsXCJnZXN0dXJlXCIpXTtjYXNlIDE6dC5zZW50KCk7dGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZz1mYWxzZTtyZXR1cm5bMl19fSkpfSkpfSkpfSksKGZ1bmN0aW9uKGUpe3QuY3VycmVudEJyZWFrcG9pbnQ9ZX0pKTt0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpfTt0LnByb3RvdHlwZS5kaXNtaXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHIsaSxvO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcmJmUhPT1cImdlc3R1cmVcIil7cmV0dXJuWzIsZmFsc2VdfWlmKCEodGhpcy5jdXJyZW50VHJhbnNpdGlvbiE9PXVuZGVmaW5lZCkpcmV0dXJuWzMsMl07cmV0dXJuWzQsdGhpcy5jdXJyZW50VHJhbnNpdGlvbl07Y2FzZSAxOm4uc2VudCgpO24ubGFiZWw9MjtjYXNlIDI6cj1hY3RpdmVBbmltYXRpb25zLmdldCh0aGlzKXx8W107dGhpcy5jdXJyZW50VHJhbnNpdGlvbj1kaXNtaXNzKHRoaXMsdCxlLFwibW9kYWxMZWF2ZVwiLGlvc0xlYXZlQW5pbWF0aW9uJDMsbWRMZWF2ZUFuaW1hdGlvbiQyLHtwcmVzZW50aW5nRWw6dGhpcy5wcmVzZW50aW5nRWxlbWVudCxjdXJyZW50QnJlYWtwb2ludDp0aGlzLmN1cnJlbnRCcmVha3BvaW50fHx0aGlzLmluaXRpYWxCcmVha3BvaW50LGJhY2tkcm9wQnJlYWtwb2ludDp0aGlzLmJhY2tkcm9wQnJlYWtwb2ludH0pO3JldHVybls0LHRoaXMuY3VycmVudFRyYW5zaXRpb25dO2Nhc2UgMzppPW4uc2VudCgpO2lmKCFpKXJldHVyblszLDVdO289dGhpcy5nZXREZWxlZ2F0ZSgpLmRlbGVnYXRlO3JldHVybls0LGRldGFjaENvbXBvbmVudChvLHRoaXMudXNlcnNFbGVtZW50KV07Y2FzZSA0Om4uc2VudCgpO2lmKHRoaXMuYW5pbWF0aW9uKXt0aGlzLmFuaW1hdGlvbi5kZXN0cm95KCl9aWYodGhpcy5nZXN0dXJlKXt0aGlzLmdlc3R1cmUuZGVzdHJveSgpfXIuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuZGVzdHJveSgpfSkpO24ubGFiZWw9NTtjYXNlIDU6dGhpcy5jdXJyZW50VHJhbnNpdGlvbj11bmRlZmluZWQ7dGhpcy5hbmltYXRpb249dW5kZWZpbmVkO3JldHVyblsyLGldfX0pKX0pKX07dC5wcm90b3R5cGUub25EaWREaXNtaXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsXCJpb25Nb2RhbERpZERpc21pc3NcIil9O3QucHJvdG90eXBlLm9uV2lsbERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvbk1vZGFsV2lsbERpc21pc3NcIil9O3QucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3ZhciBlPXRoaXM7dmFyIHI9dGhpcyxpPXIuaGFuZGxlLG89ci5pc1NoZWV0TW9kYWwsbj1yLnByZXNlbnRpbmdFbGVtZW50LGE9ci5odG1sQXR0cmlidXRlczt2YXIgcz1pIT09ZmFsc2UmJm87dmFyIGw9Z2V0SW9uTW9kZSh0aGlzKTt2YXIgZD10aGlzLGM9ZC5wcmVzZW50ZWQscD1kLm1vZGFsSWQ7dmFyIHU9biE9PXVuZGVmaW5lZCYmbD09PVwiaW9zXCI7cmV0dXJuIGgoSG9zdCxPYmplY3QuYXNzaWduKHtcIm5vLXJvdXRlclwiOnRydWUsXCJhcmlhLW1vZGFsXCI6XCJ0cnVlXCIsdGFiaW5kZXg6XCItMVwifSxhLHtzdHlsZTp7ekluZGV4OlwiXCIrKDJlNCt0aGlzLm92ZXJsYXlJbmRleCl9LGNsYXNzOk9iamVjdC5hc3NpZ24oKHQ9e30sdFtsXT10cnVlLHRbXCJtb2RhbC1kZWZhdWx0XCJdPSF1JiYhbyx0W1wibW9kYWwtY2FyZFwiXT11LHRbXCJtb2RhbC1zaGVldFwiXT1vLHRbXCJvdmVybGF5LWhpZGRlblwiXT10cnVlLHRbXCJtb2RhbC1pbnRlcmFjdGl2ZVwiXT1jLHQpLGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSxpZDpwLG9uSW9uQmFja2Ryb3BUYXA6dGhpcy5vbkJhY2tkcm9wVGFwLG9uSW9uRGlzbWlzczp0aGlzLm9uRGlzbWlzcyxvbklvbk1vZGFsRGlkUHJlc2VudDp0aGlzLm9uTGlmZWN5Y2xlLG9uSW9uTW9kYWxXaWxsUHJlc2VudDp0aGlzLm9uTGlmZWN5Y2xlLG9uSW9uTW9kYWxXaWxsRGlzbWlzczp0aGlzLm9uTGlmZWN5Y2xlLG9uSW9uTW9kYWxEaWREaXNtaXNzOnRoaXMub25MaWZlY3ljbGV9KSxoKFwiaW9uLWJhY2tkcm9wXCIse3JlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS5iYWNrZHJvcEVsPXR9LHZpc2libGU6dGhpcy5zaG93QmFja2Ryb3AsdGFwcGFibGU6dGhpcy5iYWNrZHJvcERpc21pc3MscGFydDpcImJhY2tkcm9wXCJ9KSxsPT09XCJpb3NcIiYmaChcImRpdlwiLHtjbGFzczpcIm1vZGFsLXNoYWRvd1wifSksaChcImRpdlwiLHtyb2xlOlwiZGlhbG9nXCIsY2xhc3M6XCJtb2RhbC13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIixwYXJ0OlwiY29udGVudFwiLHJlZjpmdW5jdGlvbih0KXtyZXR1cm4gZS53cmFwcGVyRWw9dH19LHMmJmgoXCJkaXZcIix7Y2xhc3M6XCJtb2RhbC1oYW5kbGVcIixwYXJ0OlwiaGFuZGxlXCJ9KSxoKFwic2xvdFwiLG51bGwpKSl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImVsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBnZXRFbGVtZW50KHRoaXMpfSxlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3YXRjaGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57aXNPcGVuOltcIm9uSXNPcGVuQ2hhbmdlXCJdLHRyaWdnZXI6W1wib25UcmlnZ2VyQ2hhbmdlXCJdLHN3aXBlVG9DbG9zZTpbXCJzd2lwZVRvQ2xvc2VDaGFuZ2VkXCJdfX0sZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZX0pO3JldHVybiB0fSgpO3ZhciBMSUZFQ1lDTEVfTUFQJDE9e2lvbk1vZGFsRGlkUHJlc2VudDpcImlvblZpZXdEaWRFbnRlclwiLGlvbk1vZGFsV2lsbFByZXNlbnQ6XCJpb25WaWV3V2lsbEVudGVyXCIsaW9uTW9kYWxXaWxsRGlzbWlzczpcImlvblZpZXdXaWxsTGVhdmVcIixpb25Nb2RhbERpZERpc21pc3M6XCJpb25WaWV3RGlkTGVhdmVcIn07dmFyIG1vZGFsSWRzPTA7TW9kYWwuc3R5bGU9e2lvczptb2RhbElvc0NzcyxtZDptb2RhbE1kQ3NzfTt2YXIgaW9zRW50ZXJBbmltYXRpb24kMj1mdW5jdGlvbih0KXt2YXIgZT1jcmVhdGVBbmltYXRpb24oKTt2YXIgcj1jcmVhdGVBbmltYXRpb24oKTt2YXIgaT1jcmVhdGVBbmltYXRpb24oKTtyLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2tkcm9wXCIpKS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIikuYmVmb3JlU3R5bGVzKHtcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KS5hZnRlckNsZWFyU3R5bGVzKFtcInBvaW50ZXItZXZlbnRzXCJdKTtpLmFkZEVsZW1lbnQodC5xdWVyeVNlbGVjdG9yKFwiLnBpY2tlci13cmFwcGVyXCIpKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoMTAwJSlcIixcInRyYW5zbGF0ZVkoMCUpXCIpO3JldHVybiBlLmFkZEVsZW1lbnQodCkuZWFzaW5nKFwiY3ViaWMtYmV6aWVyKC4zNiwuNjYsLjA0LDEpXCIpLmR1cmF0aW9uKDQwMCkuYWRkQW5pbWF0aW9uKFtyLGldKX07dmFyIGlvc0xlYXZlQW5pbWF0aW9uJDI9ZnVuY3Rpb24odCl7dmFyIGU9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7ci5hZGRFbGVtZW50KHQucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIiwuMDEpO2kuYWRkRWxlbWVudCh0LnF1ZXJ5U2VsZWN0b3IoXCIucGlja2VyLXdyYXBwZXJcIikpLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWSgwJSlcIixcInRyYW5zbGF0ZVkoMTAwJSlcIik7cmV0dXJuIGUuYWRkRWxlbWVudCh0KS5lYXNpbmcoXCJjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSlcIikuZHVyYXRpb24oNDAwKS5hZGRBbmltYXRpb24oW3IsaV0pfTt2YXIgcGlja2VySW9zQ3NzPVwiLnNjLWlvbi1waWNrZXItaW9zLWh7LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItc3R5bGU6c29saWQ7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOjEwMCU7LS1tYXgtd2lkdGg6NTAwcHg7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7bGVmdDowO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLWlvcy1oLFtkaXI9cnRsXSAuc2MtaW9uLXBpY2tlci1pb3MtaHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1waWNrZXItaW9zLWh7ZGlzcGxheTpub25lfS5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLWlvc3tib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bzstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXdpZHRoOnZhcigtLWJvcmRlci13aWR0aCk7Ym9yZGVyLXN0eWxlOnZhcigtLWJvcmRlci1zdHlsZSk7Ym9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtjb250YWluOnN0cmljdDtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDoxMH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLWlvc3ttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0b319LnBpY2tlci10b29sYmFyLnNjLWlvbi1waWNrZXItaW9ze3dpZHRoOjEwMCU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb250YWluOnN0cmljdDt6LWluZGV4OjF9LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3N7Ym9yZGVyOjA7Zm9udC1mYW1pbHk6aW5oZXJpdH0ucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLWlvczphY3RpdmUsLnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3M6Zm9jdXN7b3V0bGluZTpub25lfS5waWNrZXItY29sdW1ucy5zYy1pb24tcGlja2VyLWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1ib3R0b206dmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDApO2NvbnRhaW46c3RyaWN0O2RpcmVjdGlvbjpsdHI7b3ZlcmZsb3c6aGlkZGVufS5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9zLC5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2Rpc3BsYXk6bm9uZTtwb2ludGVyLWV2ZW50czpub25lfS5zYy1pb24tcGlja2VyLWlvcy1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3JkZXItd2lkdGg6MXB4IDAgMDstLWJvcmRlci1jb2xvcjp2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTI1MCwgI2M4YzdjYykpKTstLWhlaWdodDoyNjBweDstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMjYpO2NvbG9yOnZhcigtLWlvbi1pdGVtLWNvbG9yLCB2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCkpfS5waWNrZXItdG9vbGJhci5zYy1pb24tcGlja2VyLWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtoZWlnaHQ6NDRweDtib3JkZXItYm90dG9tOjAuNTVweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpfS5waWNrZXItdG9vbGJhci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3N7LW1zLWZsZXg6MTtmbGV4OjE7dGV4dC1hbGlnbjplbmR9LnBpY2tlci10b29sYmFyLWJ1dHRvbi5zYy1pb24tcGlja2VyLWlvczpsYXN0LWNoaWxkIC5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9ze2ZvbnQtd2VpZ2h0OjYwMH0ucGlja2VyLXRvb2xiYXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9zOmZpcnN0LWNoaWxke2ZvbnQtd2VpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0fS5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9zLC5waWNrZXItYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLXBpY2tlci1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDoxZW07cGFkZGluZy1yaWdodDoxZW07cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2hlaWdodDo0NHB4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpO2ZvbnQtc2l6ZToxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3MsLnBpY2tlci1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tcGlja2VyLWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MWVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjFlbTstd2Via2l0LXBhZGRpbmctZW5kOjFlbTtwYWRkaW5nLWlubGluZS1lbmQ6MWVtfX0ucGlja2VyLWNvbHVtbnMuc2MtaW9uLXBpY2tlci1pb3N7aGVpZ2h0OjIxNXB4Oy13ZWJraXQtcGVyc3BlY3RpdmU6MTAwMHB4O3BlcnNwZWN0aXZlOjEwMDBweH0ucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvc3tsZWZ0OjA7dG9wOjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjgxcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMjAlLCB2YXIoLS1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpKSwgdG8ocmdiYSh2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSksIDAuOCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHZhcigtLWJhY2tncm91bmQsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSkgMjAlLCByZ2JhKHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSwgMC44KSAxMDAlKTt6LWluZGV4OjEwfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLWlvcyAucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvcyxbZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1pb3MtaCAucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvcyxbZGlyPXJ0bF0gLnNjLWlvbi1waWNrZXItaW9zLWggLnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3N7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfS5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2xlZnQ6MDt0b3A6MTE1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjExOXB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBjb2xvci1zdG9wKDMwJSwgdmFyKC0tYmFja2dyb3VuZCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpKSksIHRvKHJnYmEodmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpLCAwLjgpKSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gdG9wLCB2YXIoLS1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpIDMwJSwgcmdiYSh2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSksIDAuOCkgMTAwJSk7ei1pbmRleDoxMX1bZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1pb3MgLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3MsW2Rpcj1ydGxdLnNjLWlvbi1waWNrZXItaW9zLWggLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3MsW2Rpcj1ydGxdIC5zYy1pb24tcGlja2VyLWlvcy1oIC5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1cIjt2YXIgcGlja2VyTWRDc3M9XCIuc2MtaW9uLXBpY2tlci1tZC1oey0tYm9yZGVyLXJhZGl1czowOy0tYm9yZGVyLXN0eWxlOnNvbGlkOy0tbWluLXdpZHRoOmF1dG87LS13aWR0aDoxMDAlOy0tbWF4LXdpZHRoOjUwMHB4Oy0tbWluLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2xlZnQ6MDt0b3A6MDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6MTAwMX1bZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1tZC1oLFtkaXI9cnRsXSAuc2MtaW9uLXBpY2tlci1tZC1oe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH0ub3ZlcmxheS1oaWRkZW4uc2MtaW9uLXBpY2tlci1tZC1oe2Rpc3BsYXk6bm9uZX0ucGlja2VyLXdyYXBwZXIuc2MtaW9uLXBpY2tlci1tZHtib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bzstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXdpZHRoOnZhcigtLWJvcmRlci13aWR0aCk7Ym9yZGVyLXN0eWxlOnZhcigtLWJvcmRlci1zdHlsZSk7Ym9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtjb250YWluOnN0cmljdDtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDoxMH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLW1ke21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX0ucGlja2VyLXRvb2xiYXIuc2MtaW9uLXBpY2tlci1tZHt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29udGFpbjpzdHJpY3Q7ei1pbmRleDoxfS5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItbWR7Ym9yZGVyOjA7Zm9udC1mYW1pbHk6aW5oZXJpdH0ucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLW1kOmFjdGl2ZSwucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLW1kOmZvY3Vze291dGxpbmU6bm9uZX0ucGlja2VyLWNvbHVtbnMuc2MtaW9uLXBpY2tlci1tZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1ib3R0b206dmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDApO2NvbnRhaW46c3RyaWN0O2RpcmVjdGlvbjpsdHI7b3ZlcmZsb3c6aGlkZGVufS5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWQsLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZHtkaXNwbGF5Om5vbmU7cG9pbnRlci1ldmVudHM6bm9uZX0uc2MtaW9uLXBpY2tlci1tZC1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3JkZXItd2lkdGg6MC41NXB4IDAgMDstLWJvcmRlci1jb2xvcjp2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTE1MCwgcmdiYSgwLCAwLCAwLCAwLjEzKSkpKTstLWhlaWdodDoyNjBweDstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMjYpO2NvbG9yOnZhcigtLWlvbi1pdGVtLWNvbG9yLCB2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCkpfS5waWNrZXItdG9vbGJhci5zYy1pb24tcGlja2VyLW1ke2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZDtoZWlnaHQ6NDRweH0ucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLW1kLC5waWNrZXItYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLXBpY2tlci1tZHttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7cGFkZGluZy1sZWZ0OjEuMWVtO3BhZGRpbmctcmlnaHQ6MS4xZW07cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2hlaWdodDo0NHB4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7Ym94LXNoYWRvdzpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1tZCwucGlja2VyLWJ1dHRvbi5pb24tYWN0aXZhdGVkLnNjLWlvbi1waWNrZXItbWR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEuMWVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjEuMWVtOy13ZWJraXQtcGFkZGluZy1lbmQ6MS4xZW07cGFkZGluZy1pbmxpbmUtZW5kOjEuMWVtfX0ucGlja2VyLWNvbHVtbnMuc2MtaW9uLXBpY2tlci1tZHtoZWlnaHQ6MjE2cHg7LXdlYmtpdC1wZXJzcGVjdGl2ZToxODAwcHg7cGVyc3BlY3RpdmU6MTgwMHB4fS5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWR7bGVmdDowO3RvcDowOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAwLCAgOTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAwLCAgOTBweCk7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6ODFweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTE1MCwgcmdiYSgwLCAwLCAwLCAwLjEzKSkpKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMjAlLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpLCB0byhyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSAyMCUsIHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSAxMDAlKTt6LWluZGV4OjEwfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLW1kIC5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWQsW2Rpcj1ydGxdLnNjLWlvbi1waWNrZXItbWQtaCAucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLW1kLFtkaXI9cnRsXSAuc2MtaW9uLXBpY2tlci1tZC1oIC5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWR7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfS5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWR7bGVmdDowO3RvcDoxMTVweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDkwcHgpO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDkwcHgpO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjExOXB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCByZ2JhKDAsIDAsIDAsIDAuMTMpKSkpO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgYm90dG9tLCBsZWZ0IHRvcCwgY29sb3Itc3RvcCgzMCUsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSksIHRvKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSkpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIHRvcCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpIDMwJSwgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpIDEwMCUpO3otaW5kZXg6MTF9W2Rpcj1ydGxdLnNjLWlvbi1waWNrZXItbWQgLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZCxbZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1tZC1oIC5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWQsW2Rpcj1ydGxdIC5zYy1pb24tcGlja2VyLW1kLWggLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9XCI7dmFyIFBpY2tlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpcztyZWdpc3Rlckluc3RhbmNlKHRoaXMsdCk7dGhpcy5kaWRQcmVzZW50PWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25QaWNrZXJEaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uUGlja2VyV2lsbFByZXNlbnRcIiw3KTt0aGlzLndpbGxEaXNtaXNzPWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25QaWNrZXJXaWxsRGlzbWlzc1wiLDcpO3RoaXMuZGlkRGlzbWlzcz1jcmVhdGVFdmVudCh0aGlzLFwiaW9uUGlja2VyRGlkRGlzbWlzc1wiLDcpO3RoaXMucHJlc2VudGVkPWZhbHNlO3RoaXMua2V5Ym9hcmRDbG9zZT10cnVlO3RoaXMuYnV0dG9ucz1bXTt0aGlzLmNvbHVtbnM9W107dGhpcy5kdXJhdGlvbj0wO3RoaXMuc2hvd0JhY2tkcm9wPXRydWU7dGhpcy5iYWNrZHJvcERpc21pc3M9dHJ1ZTt0aGlzLmFuaW1hdGVkPXRydWU7dGhpcy5vbkJhY2tkcm9wVGFwPWZ1bmN0aW9uKCl7ZS5kaXNtaXNzKHVuZGVmaW5lZCxCQUNLRFJPUCl9O3RoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciByPXQuZGV0YWlsLnJvbGU7aWYoaXNDYW5jZWwocikpe3ZhciBpPWUuYnV0dG9ucy5maW5kKChmdW5jdGlvbih0KXtyZXR1cm4gdC5yb2xlPT09XCJjYW5jZWxcIn0pKTtlLmNhbGxCdXR0b25IYW5kbGVyKGkpfX19dC5wcm90b3R5cGUuY29ubmVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oKXtwcmVwYXJlT3ZlcmxheSh0aGlzLmVsKX07dC5wcm90b3R5cGUucHJlc2VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGUpe3N3aXRjaChlLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQscHJlc2VudCh0aGlzLFwicGlja2VyRW50ZXJcIixpb3NFbnRlckFuaW1hdGlvbiQyLGlvc0VudGVyQW5pbWF0aW9uJDIsdW5kZWZpbmVkKV07Y2FzZSAxOmUuc2VudCgpO2lmKHRoaXMuZHVyYXRpb24+MCl7dGhpcy5kdXJhdGlvblRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNtaXNzKCl9KSx0aGlzLmR1cmF0aW9uKX1yZXR1cm5bMl19fSkpfSkpfTt0LnByb3RvdHlwZS5kaXNtaXNzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kdXJhdGlvblRpbWVvdXQpe2NsZWFyVGltZW91dCh0aGlzLmR1cmF0aW9uVGltZW91dCl9cmV0dXJuIGRpc21pc3ModGhpcyx0LGUsXCJwaWNrZXJMZWF2ZVwiLGlvc0xlYXZlQW5pbWF0aW9uJDIsaW9zTGVhdmVBbmltYXRpb24kMil9O3QucHJvdG90eXBlLm9uRGlkRGlzbWlzcz1mdW5jdGlvbigpe3JldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLFwiaW9uUGlja2VyRGlkRGlzbWlzc1wiKX07dC5wcm90b3R5cGUub25XaWxsRGlzbWlzcz1mdW5jdGlvbigpe3JldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLFwiaW9uUGlja2VyV2lsbERpc21pc3NcIil9O3QucHJvdG90eXBlLmdldENvbHVtbj1mdW5jdGlvbih0KXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29sdW1ucy5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT09dH0pKSl9O3QucHJvdG90eXBlLmJ1dHRvbkNsaWNrPWZ1bmN0aW9uKHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGkpe3N3aXRjaChpLmxhYmVsKXtjYXNlIDA6ZT10LnJvbGU7aWYoaXNDYW5jZWwoZSkpe3JldHVyblsyLHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsZSldfXJldHVybls0LHRoaXMuY2FsbEJ1dHRvbkhhbmRsZXIodCldO2Nhc2UgMTpyPWkuc2VudCgpO2lmKHIpe3JldHVyblsyLHRoaXMuZGlzbWlzcyh0aGlzLmdldFNlbGVjdGVkKCksdC5yb2xlKV19cmV0dXJuWzIsUHJvbWlzZS5yZXNvbHZlKCldfX0pKX0pKX07dC5wcm90b3R5cGUuY2FsbEJ1dHRvbkhhbmRsZXI9ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6aWYoIXQpcmV0dXJuWzMsMl07cmV0dXJuWzQsc2FmZUNhbGwodC5oYW5kbGVyLHRoaXMuZ2V0U2VsZWN0ZWQoKSldO2Nhc2UgMTplPXIuc2VudCgpO2lmKGU9PT1mYWxzZSl7cmV0dXJuWzIsZmFsc2VdfXIubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzIsdHJ1ZV19fSkpfSkpfTt0LnByb3RvdHlwZS5nZXRTZWxlY3RlZD1mdW5jdGlvbigpe3ZhciB0PXt9O3RoaXMuY29sdW1ucy5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3ZhciBpPWUuc2VsZWN0ZWRJbmRleCE9PXVuZGVmaW5lZD9lLm9wdGlvbnNbZS5zZWxlY3RlZEluZGV4XTp1bmRlZmluZWQ7dFtlLm5hbWVdPXt0ZXh0Omk/aS50ZXh0OnVuZGVmaW5lZCx2YWx1ZTppP2kudmFsdWU6dW5kZWZpbmVkLGNvbHVtbkluZGV4OnJ9fSkpO3JldHVybiB0fTt0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdDt2YXIgZT10aGlzO3ZhciByPXRoaXMuaHRtbEF0dHJpYnV0ZXM7dmFyIGk9Z2V0SW9uTW9kZSh0aGlzKTtyZXR1cm4gaChIb3N0LE9iamVjdC5hc3NpZ24oe1wiYXJpYS1tb2RhbFwiOlwidHJ1ZVwiLHRhYmluZGV4OlwiLTFcIn0scix7c3R5bGU6e3pJbmRleDpcIlwiKygyZTQrdGhpcy5vdmVybGF5SW5kZXgpfSxjbGFzczpPYmplY3QuYXNzaWduKCh0PXt9LHRbaV09dHJ1ZSx0W1wicGlja2VyLVwiK2ldPXRydWUsdFtcIm92ZXJsYXktaGlkZGVuXCJdPXRydWUsdCksZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLG9uSW9uQmFja2Ryb3BUYXA6dGhpcy5vbkJhY2tkcm9wVGFwLG9uSW9uUGlja2VyV2lsbERpc21pc3M6dGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXJ9KSxoKFwiaW9uLWJhY2tkcm9wXCIse3Zpc2libGU6dGhpcy5zaG93QmFja2Ryb3AsdGFwcGFibGU6dGhpcy5iYWNrZHJvcERpc21pc3N9KSxoKFwiZGl2XCIse3RhYmluZGV4OlwiMFwifSksaChcImRpdlwiLHtjbGFzczpcInBpY2tlci13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIixyb2xlOlwiZGlhbG9nXCJ9LGgoXCJkaXZcIix7Y2xhc3M6XCJwaWNrZXItdG9vbGJhclwifSx0aGlzLmJ1dHRvbnMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaChcImRpdlwiLHtjbGFzczpidXR0b25XcmFwcGVyQ2xhc3ModCl9LGgoXCJidXR0b25cIix7dHlwZTpcImJ1dHRvblwiLG9uQ2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZS5idXR0b25DbGljayh0KX0sY2xhc3M6YnV0dG9uQ2xhc3MkMSh0KX0sdC50ZXh0KSl9KSkpLGgoXCJkaXZcIix7Y2xhc3M6XCJwaWNrZXItY29sdW1uc1wifSxoKFwiZGl2XCIse2NsYXNzOlwicGlja2VyLWFib3ZlLWhpZ2hsaWdodFwifSksdGhpcy5wcmVzZW50ZWQmJnRoaXMuY29sdW1ucy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBoKFwiaW9uLXBpY2tlci1jb2x1bW5cIix7Y29sOnR9KX0pKSxoKFwiZGl2XCIse2NsYXNzOlwicGlja2VyLWJlbG93LWhpZ2hsaWdodFwifSkpKSxoKFwiZGl2XCIse3RhYmluZGV4OlwiMFwifSkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0RWxlbWVudCh0aGlzKX0sZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZX0pO3JldHVybiB0fSgpO3ZhciBidXR0b25XcmFwcGVyQ2xhc3M9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGU9e30sZVtcInBpY2tlci10b29sYmFyLVwiK3Qucm9sZV09dC5yb2xlIT09dW5kZWZpbmVkLGVbXCJwaWNrZXItdG9vbGJhci1idXR0b25cIl09dHJ1ZSxlfTt2YXIgYnV0dG9uQ2xhc3MkMT1mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih7XCJwaWNrZXItYnV0dG9uXCI6dHJ1ZSxcImlvbi1hY3RpdmF0YWJsZVwiOnRydWV9LGdldENsYXNzTWFwKHQuY3NzQ2xhc3MpKX07UGlja2VyLnN0eWxlPXtpb3M6cGlja2VySW9zQ3NzLG1kOnBpY2tlck1kQ3NzfTt2YXIgZ2V0QXJyb3dEaW1lbnNpb25zPWZ1bmN0aW9uKHQpe2lmKCF0KXtyZXR1cm57YXJyb3dXaWR0aDowLGFycm93SGVpZ2h0OjB9fXZhciBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1lLndpZHRoLGk9ZS5oZWlnaHQ7cmV0dXJue2Fycm93V2lkdGg6cixhcnJvd0hlaWdodDppfX07dmFyIGdldFBvcG92ZXJEaW1lbnNpb25zPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciBvPWkuaGVpZ2h0O3ZhciBuPWkud2lkdGg7aWYodD09PVwiY292ZXJcIiYmcil7dmFyIGE9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtuPWEud2lkdGh9cmV0dXJue2NvbnRlbnRXaWR0aDpuLGNvbnRlbnRIZWlnaHQ6b319O3ZhciBjb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb249ZnVuY3Rpb24odCxlLHIsaSl7dmFyIG89W107dmFyIG49Z2V0RWxlbWVudFJvb3QoaSk7dmFyIGE9bi5xdWVyeVNlbGVjdG9yKFwiLnBvcG92ZXItY29udGVudFwiKTtzd2l0Y2goZSl7Y2FzZVwiaG92ZXJcIjpvPVt7ZXZlbnROYW1lOlwibW91c2VlbnRlclwiLGNhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciBpPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZS5jbGllbnRYLGUuY2xpZW50WSk7aWYoaT09PXQpe3JldHVybn1yLmRpc21pc3ModW5kZWZpbmVkLHVuZGVmaW5lZCxmYWxzZSl9fV07YnJlYWs7Y2FzZVwiY29udGV4dC1tZW51XCI6Y2FzZVwiY2xpY2tcIjpkZWZhdWx0Om89W3tldmVudE5hbWU6XCJjbGlja1wiLGNhbGxiYWNrOmZ1bmN0aW9uKGUpe3ZhciBpPWUudGFyZ2V0O3ZhciBvPWkuY2xvc2VzdChcIltkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXJdXCIpO2lmKG89PT10KXtlLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn1yLmRpc21pc3ModW5kZWZpbmVkLHVuZGVmaW5lZCxmYWxzZSl9fV07YnJlYWt9by5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgZT10LmV2ZW50TmFtZSxyPXQuY2FsbGJhY2s7cmV0dXJuIGEuYWRkRXZlbnRMaXN0ZW5lcihlLHIpfSkpO3JldHVybiBmdW5jdGlvbigpe28uZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIGU9dC5ldmVudE5hbWUscj10LmNhbGxiYWNrO3JldHVybiBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxyKX0pKX19O3ZhciBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb249ZnVuY3Rpb24odCxlLHIpe3ZhciBpPVtdO3N3aXRjaChlKXtjYXNlXCJob3ZlclwiOnZhciBvO2k9W3tldmVudE5hbWU6XCJtb3VzZWVudGVyXCIsY2FsbGJhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7dC5zdG9wUHJvcGFnYXRpb24oKTtpZihvKXtjbGVhclRpbWVvdXQobyl9bz1zZXRUaW1lb3V0KChmdW5jdGlvbigpe3JhZigoZnVuY3Rpb24oKXtyLnByZXNlbnRGcm9tVHJpZ2dlcih0KTtvPXVuZGVmaW5lZH0pKX0pLDEwMCk7cmV0dXJuWzJdfSkpfSkpfX0se2V2ZW50TmFtZTpcIm1vdXNlbGVhdmVcIixjYWxsYmFjazpmdW5jdGlvbih0KXtpZihvKXtjbGVhclRpbWVvdXQobyl9dmFyIGU9dC5yZWxhdGVkVGFyZ2V0O2lmKCFlKXtyZXR1cm59aWYoZS5jbG9zZXN0KFwiaW9uLXBvcG92ZXJcIikhPT1yKXtyLmRpc21pc3ModW5kZWZpbmVkLHVuZGVmaW5lZCxmYWxzZSl9fX0se2V2ZW50TmFtZTpcImNsaWNrXCIsY2FsbGJhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3RvcFByb3BhZ2F0aW9uKCl9fSx7ZXZlbnROYW1lOlwiaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlclwiLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiByLnByZXNlbnRGcm9tVHJpZ2dlcih0LHRydWUpfX1dO2JyZWFrO2Nhc2VcImNvbnRleHQtbWVudVwiOmk9W3tldmVudE5hbWU6XCJjb250ZXh0bWVudVwiLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTtyLnByZXNlbnRGcm9tVHJpZ2dlcih0KX19LHtldmVudE5hbWU6XCJjbGlja1wiLGNhbGxiYWNrOmZ1bmN0aW9uKHQpe3JldHVybiB0LnN0b3BQcm9wYWdhdGlvbigpfX0se2V2ZW50TmFtZTpcImlvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXJcIixjYWxsYmFjazpmdW5jdGlvbih0KXtyZXR1cm4gci5wcmVzZW50RnJvbVRyaWdnZXIodCx0cnVlKX19XTticmVhaztjYXNlXCJjbGlja1wiOmRlZmF1bHQ6aT1be2V2ZW50TmFtZTpcImNsaWNrXCIsY2FsbGJhY2s6ZnVuY3Rpb24odCl7cmV0dXJuIHIucHJlc2VudEZyb21UcmlnZ2VyKHQpfX0se2V2ZW50TmFtZTpcImlvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXJcIixjYWxsYmFjazpmdW5jdGlvbih0KXtyZXR1cm4gci5wcmVzZW50RnJvbVRyaWdnZXIodCx0cnVlKX19XTticmVha31pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWUuZXZlbnROYW1lLGk9ZS5jYWxsYmFjaztyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKHIsaSl9KSk7dC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXJcIixcInRydWVcIik7cmV0dXJuIGZ1bmN0aW9uKCl7aS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1lLmV2ZW50TmFtZSxpPWUuY2FsbGJhY2s7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGkpfSkpO3QucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1pb24tcG9wb3Zlci10cmlnZ2VyXCIpfX07dmFyIGdldEluZGV4T2ZJdGVtPWZ1bmN0aW9uKHQsZSl7aWYoIWV8fGUudGFnTmFtZSE9PVwiSU9OLUlURU1cIil7cmV0dXJuLTF9cmV0dXJuIHQuZmluZEluZGV4KChmdW5jdGlvbih0KXtyZXR1cm4gdD09PWV9KSl9O3ZhciBnZXROZXh0SXRlbT1mdW5jdGlvbih0LGUpe3ZhciByPWdldEluZGV4T2ZJdGVtKHQsZSk7cmV0dXJuIHRbcisxXX07dmFyIGdldFByZXZJdGVtPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Z2V0SW5kZXhPZkl0ZW0odCxlKTtyZXR1cm4gdFtyLTFdfTt2YXIgZm9jdXNJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPWdldEVsZW1lbnRSb290KHQpO3ZhciByPWUucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtpZihyKXtyYWYoKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZm9jdXMoKX0pKX19O3ZhciBpc1RyaWdnZXJFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0Lmhhc0F0dHJpYnV0ZShcImRhdGEtaW9uLXBvcG92ZXItdHJpZ2dlclwiKX07dmFyIGNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb249ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgcixpLG8sbixhLHMsbCxkLGM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHApe3N3aXRjaChwLmxhYmVsKXtjYXNlIDA6cj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O2k9W107dHJ5e2k9QXJyYXkuZnJvbSh0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpb24taXRlbTpub3QoaW9uLXBvcG92ZXIgaW9uLXBvcG92ZXIgKik6bm90KFtkaXNhYmxlZF0pXCIpKX1jYXRjaCh0KXt9bz1lLmtleTtzd2l0Y2gobyl7Y2FzZVwiQXJyb3dMZWZ0XCI6cmV0dXJuWzMsMV07Y2FzZVwiQXJyb3dEb3duXCI6cmV0dXJuWzMsM107Y2FzZVwiQXJyb3dVcFwiOnJldHVyblszLDRdO2Nhc2VcIkhvbWVcIjpyZXR1cm5bMyw1XTtjYXNlXCJFbmRcIjpyZXR1cm5bMyw2XTtjYXNlXCJBcnJvd1JpZ2h0XCI6cmV0dXJuWzMsN107Y2FzZVwiIFwiOnJldHVyblszLDddO2Nhc2VcIkVudGVyXCI6cmV0dXJuWzMsN119cmV0dXJuWzMsOF07Y2FzZSAxOnJldHVybls0LHQuZ2V0UGFyZW50UG9wb3ZlcigpXTtjYXNlIDI6bj1wLnNlbnQoKTtpZihuKXt0LmRpc21pc3ModW5kZWZpbmVkLHVuZGVmaW5lZCxmYWxzZSl9cmV0dXJuWzMsOF07Y2FzZSAzOmUucHJldmVudERlZmF1bHQoKTthPWdldE5leHRJdGVtKGkscik7aWYoYSE9PXVuZGVmaW5lZCl7Zm9jdXNJdGVtKGEpfXJldHVyblszLDhdO2Nhc2UgNDplLnByZXZlbnREZWZhdWx0KCk7cz1nZXRQcmV2SXRlbShpLHIpO2lmKHMhPT11bmRlZmluZWQpe2ZvY3VzSXRlbShzKX1yZXR1cm5bMyw4XTtjYXNlIDU6ZS5wcmV2ZW50RGVmYXVsdCgpO2w9aVswXTtpZihsIT09dW5kZWZpbmVkKXtmb2N1c0l0ZW0obCl9cmV0dXJuWzMsOF07Y2FzZSA2OmUucHJldmVudERlZmF1bHQoKTtkPWlbaS5sZW5ndGgtMV07aWYoZCE9PXVuZGVmaW5lZCl7Zm9jdXNJdGVtKGQpfXJldHVyblszLDhdO2Nhc2UgNzppZihyJiZpc1RyaWdnZXJFbGVtZW50KHIpKXtjPW5ldyBDdXN0b21FdmVudChcImlvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXJcIik7ci5kaXNwYXRjaEV2ZW50KGMpfXJldHVyblszLDhdO2Nhc2UgODpyZXR1cm5bMl19fSkpfSkpfTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixlKX19O3ZhciBnZXRQb3BvdmVyUG9zaXRpb249ZnVuY3Rpb24odCxlLHIsaSxvLG4sYSxzLGwsZCxjKXt2YXIgcDt2YXIgdT17dG9wOjAsbGVmdDowLHdpZHRoOjAsaGVpZ2h0OjB9O3N3aXRjaChuKXtjYXNlXCJldmVudFwiOmlmKCFjKXtyZXR1cm4gbH12YXIgaD1jO3U9e3RvcDpoLmNsaWVudFksbGVmdDpoLmNsaWVudFgsd2lkdGg6MSxoZWlnaHQ6MX07YnJlYWs7Y2FzZVwidHJpZ2dlclwiOmRlZmF1bHQ6dmFyIG09Yzt2YXIgZz1kfHwoKHA9bT09PW51bGx8fG09PT12b2lkIDA/dm9pZCAwOm0uZGV0YWlsKT09PW51bGx8fHA9PT12b2lkIDA/dm9pZCAwOnAuaW9uU2hhZG93VGFyZ2V0KXx8KG09PT1udWxsfHxtPT09dm9pZCAwP3ZvaWQgMDptLnRhcmdldCk7aWYoIWcpe3JldHVybiBsfXZhciBmPWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dT17dG9wOmYudG9wLGxlZnQ6Zi5sZWZ0LHdpZHRoOmYud2lkdGgsaGVpZ2h0OmYuaGVpZ2h0fTticmVha312YXIgYj1jYWxjdWxhdGVQb3BvdmVyU2lkZShhLHUsZSxyLGksbyx0KTt2YXIgdj1jYWxjdWxhdGVQb3BvdmVyQWxpZ24ocyxhLHUsZSxyKTt2YXIgeD1iLnRvcCt2LnRvcDt2YXIgaz1iLmxlZnQrdi5sZWZ0O3ZhciB3PWNhbGN1bGF0ZUFycm93UG9zaXRpb24oYSxpLG8seCxrLGUscix0KSx5PXcuYXJyb3dUb3AsQT13LmFycm93TGVmdDt2YXIgRT1jYWxjdWxhdGVQb3BvdmVyT3JpZ2luKGEscyx0KSxDPUUub3JpZ2luWCxEPUUub3JpZ2luWTtyZXR1cm57dG9wOngsbGVmdDprLHJlZmVyZW5jZUNvb3JkaW5hdGVzOnUsYXJyb3dUb3A6eSxhcnJvd0xlZnQ6QSxvcmlnaW5YOkMsb3JpZ2luWTpEfX07dmFyIGNhbGN1bGF0ZVBvcG92ZXJPcmlnaW49ZnVuY3Rpb24odCxlLHIpe3N3aXRjaCh0KXtjYXNlXCJ0b3BcIjpyZXR1cm57b3JpZ2luWDpnZXRPcmlnaW5YQWxpZ25tZW50KGUpLG9yaWdpblk6XCJib3R0b21cIn07Y2FzZVwiYm90dG9tXCI6cmV0dXJue29yaWdpblg6Z2V0T3JpZ2luWEFsaWdubWVudChlKSxvcmlnaW5ZOlwidG9wXCJ9O2Nhc2VcImxlZnRcIjpyZXR1cm57b3JpZ2luWDpcInJpZ2h0XCIsb3JpZ2luWTpnZXRPcmlnaW5ZQWxpZ25tZW50KGUpfTtjYXNlXCJyaWdodFwiOnJldHVybntvcmlnaW5YOlwibGVmdFwiLG9yaWdpblk6Z2V0T3JpZ2luWUFsaWdubWVudChlKX07Y2FzZVwic3RhcnRcIjpyZXR1cm57b3JpZ2luWDpyP1wibGVmdFwiOlwicmlnaHRcIixvcmlnaW5ZOmdldE9yaWdpbllBbGlnbm1lbnQoZSl9O2Nhc2VcImVuZFwiOnJldHVybntvcmlnaW5YOnI/XCJyaWdodFwiOlwibGVmdFwiLG9yaWdpblk6Z2V0T3JpZ2luWUFsaWdubWVudChlKX19fTt2YXIgZ2V0T3JpZ2luWEFsaWdubWVudD1mdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZVwic3RhcnRcIjpyZXR1cm5cImxlZnRcIjtjYXNlXCJjZW50ZXJcIjpyZXR1cm5cImNlbnRlclwiO2Nhc2VcImVuZFwiOnJldHVyblwicmlnaHRcIn19O3ZhciBnZXRPcmlnaW5ZQWxpZ25tZW50PWZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlXCJzdGFydFwiOnJldHVyblwidG9wXCI7Y2FzZVwiY2VudGVyXCI6cmV0dXJuXCJjZW50ZXJcIjtjYXNlXCJlbmRcIjpyZXR1cm5cImJvdHRvbVwifX07dmFyIGNhbGN1bGF0ZUFycm93UG9zaXRpb249ZnVuY3Rpb24odCxlLHIsaSxvLG4sYSxzKXt2YXIgbD17YXJyb3dUb3A6aSthLzItZS8yLGFycm93TGVmdDpvK24tZS8yfTt2YXIgZD17YXJyb3dUb3A6aSthLzItZS8yLGFycm93TGVmdDpvLWUqMS41fTtzd2l0Y2godCl7Y2FzZVwidG9wXCI6cmV0dXJue2Fycm93VG9wOmkrYSxhcnJvd0xlZnQ6bytuLzItZS8yfTtjYXNlXCJib3R0b21cIjpyZXR1cm57YXJyb3dUb3A6aS1yLGFycm93TGVmdDpvK24vMi1lLzJ9O2Nhc2VcImxlZnRcIjpyZXR1cm4gbDtjYXNlXCJyaWdodFwiOnJldHVybiBkO2Nhc2VcInN0YXJ0XCI6cmV0dXJuIHM/ZDpsO2Nhc2VcImVuZFwiOnJldHVybiBzP2w6ZDtkZWZhdWx0OnJldHVybnthcnJvd1RvcDowLGFycm93TGVmdDowfX19O3ZhciBjYWxjdWxhdGVQb3BvdmVyU2lkZT1mdW5jdGlvbih0LGUscixpLG8sbixhKXt2YXIgcz17dG9wOmUudG9wLGxlZnQ6ZS5sZWZ0LXItb307dmFyIGw9e3RvcDplLnRvcCxsZWZ0OmUubGVmdCtlLndpZHRoK299O3N3aXRjaCh0KXtjYXNlXCJ0b3BcIjpyZXR1cm57dG9wOmUudG9wLWktbixsZWZ0OmUubGVmdH07Y2FzZVwicmlnaHRcIjpyZXR1cm4gbDtjYXNlXCJib3R0b21cIjpyZXR1cm57dG9wOmUudG9wK2UuaGVpZ2h0K24sbGVmdDplLmxlZnR9O2Nhc2VcImxlZnRcIjpyZXR1cm4gcztjYXNlXCJzdGFydFwiOnJldHVybiBhP2w6cztjYXNlXCJlbmRcIjpyZXR1cm4gYT9zOmx9fTt2YXIgY2FsY3VsYXRlUG9wb3ZlckFsaWduPWZ1bmN0aW9uKHQsZSxyLGksbyl7c3dpdGNoKHQpe2Nhc2VcImNlbnRlclwiOnJldHVybiBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ24oZSxyLGksbyk7Y2FzZVwiZW5kXCI6cmV0dXJuIGNhbGN1bGF0ZVBvcG92ZXJFbmRBbGlnbihlLHIsaSxvKTtjYXNlXCJzdGFydFwiOmRlZmF1bHQ6cmV0dXJue3RvcDowLGxlZnQ6MH19fTt2YXIgY2FsY3VsYXRlUG9wb3ZlckVuZEFsaWduPWZ1bmN0aW9uKHQsZSxyLGkpe3N3aXRjaCh0KXtjYXNlXCJzdGFydFwiOmNhc2VcImVuZFwiOmNhc2VcImxlZnRcIjpjYXNlXCJyaWdodFwiOnJldHVybnt0b3A6LShpLWUuaGVpZ2h0KSxsZWZ0OjB9O2Nhc2VcInRvcFwiOmNhc2VcImJvdHRvbVwiOmRlZmF1bHQ6cmV0dXJue3RvcDowLGxlZnQ6LShyLWUud2lkdGgpfX19O3ZhciBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ249ZnVuY3Rpb24odCxlLHIsaSl7c3dpdGNoKHQpe2Nhc2VcInN0YXJ0XCI6Y2FzZVwiZW5kXCI6Y2FzZVwibGVmdFwiOmNhc2VcInJpZ2h0XCI6cmV0dXJue3RvcDotKGkvMi1lLmhlaWdodC8yKSxsZWZ0OjB9O2Nhc2VcInRvcFwiOmNhc2VcImJvdHRvbVwiOmRlZmF1bHQ6cmV0dXJue3RvcDowLGxlZnQ6LShyLzItZS53aWR0aC8yKX19fTt2YXIgY2FsY3VsYXRlV2luZG93QWRqdXN0bWVudD1mdW5jdGlvbih0LGUscixpLG8sbixhLHMsbCxkLGMscCx1LGgsbSl7aWYodT09PXZvaWQgMCl7dT0wfWlmKGg9PT12b2lkIDApe2g9MH1pZihtPT09dm9pZCAwKXttPTB9dmFyIGc9dTt2YXIgZj1oO3ZhciBiPXI7dmFyIHY9ZTt2YXIgeDt2YXIgaz1kO3ZhciB3PWM7dmFyIHk9ZmFsc2U7dmFyIEE9ZmFsc2U7dmFyIEU9cD9wLnRvcCtwLmhlaWdodDpuLzItcy8yO3ZhciBDPXA/cC5oZWlnaHQ6MDt2YXIgRD1mYWxzZTtpZihiPGkrbCl7Yj1pO3k9dHJ1ZTtrPVwibGVmdFwifWVsc2UgaWYoYStpK2IrbD5vKXtBPXRydWU7Yj1vLWEtaTtrPVwicmlnaHRcIn1pZihFK0Mrcz5uJiYodD09PVwidG9wXCJ8fHQ9PT1cImJvdHRvbVwiKSl7aWYoRS1zPjApe3Y9RS1zLUMtKG0tMSk7Zz12K3M7dz1cImJvdHRvbVwiO0Q9dHJ1ZX1lbHNle3g9aX19cmV0dXJue3RvcDp2LGxlZnQ6Yixib3R0b206eCxvcmlnaW5YOmssb3JpZ2luWTp3LGNoZWNrU2FmZUFyZWFMZWZ0OnksY2hlY2tTYWZlQXJlYVJpZ2h0OkEsYXJyb3dUb3A6ZyxhcnJvd0xlZnQ6ZixhZGRQb3BvdmVyQm90dG9tQ2xhc3M6RH19O3ZhciBzaG91bGRTaG93QXJyb3c9ZnVuY3Rpb24odCxlLHIsaSl7aWYoZT09PXZvaWQgMCl7ZT1mYWxzZX1pZighciYmIWkpe3JldHVybiBmYWxzZX1pZih0IT09XCJ0b3BcIiYmdCE9PVwiYm90dG9tXCImJmUpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX07dmFyIFBPUE9WRVJfSU9TX0JPRFlfUEFERElORz01O3ZhciBpb3NFbnRlckFuaW1hdGlvbiQxPWZ1bmN0aW9uKHQsZSl7dmFyIHI7dmFyIGk9ZS5ldmVudCxvPWUuc2l6ZSxuPWUudHJpZ2dlcixhPWUucmVmZXJlbmNlLHM9ZS5zaWRlLGw9ZS5hbGlnbjt2YXIgZD10Lm93bmVyRG9jdW1lbnQ7dmFyIGM9ZC5kaXI9PT1cInJ0bFwiO3ZhciBwPWQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDt2YXIgdT1kLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O3ZhciBoPWdldEVsZW1lbnRSb290KHQpO3ZhciBtPWgucXVlcnlTZWxlY3RvcihcIi5wb3BvdmVyLWNvbnRlbnRcIik7dmFyIGc9aC5xdWVyeVNlbGVjdG9yKFwiLnBvcG92ZXItYXJyb3dcIik7dmFyIGY9bnx8KChyPWk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmRldGFpbCk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmlvblNoYWRvd1RhcmdldCl8fChpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50YXJnZXQpO3ZhciBiPWdldFBvcG92ZXJEaW1lbnNpb25zKG8sbSxmKSx2PWIuY29udGVudFdpZHRoLHg9Yi5jb250ZW50SGVpZ2h0O3ZhciBrPWdldEFycm93RGltZW5zaW9ucyhnKSx3PWsuYXJyb3dXaWR0aCx5PWsuYXJyb3dIZWlnaHQ7dmFyIEE9e3RvcDp1LzIteC8yLGxlZnQ6cC8yLXYvMixvcmlnaW5YOmM/XCJyaWdodFwiOlwibGVmdFwiLG9yaWdpblk6XCJ0b3BcIn07dmFyIEU9Z2V0UG9wb3ZlclBvc2l0aW9uKGMsdix4LHcseSxhLHMsbCxBLG4saSk7dmFyIEM9bz09PVwiY292ZXJcIj8wOlBPUE9WRVJfSU9TX0JPRFlfUEFERElORzt2YXIgRD1vPT09XCJjb3ZlclwiPzA6MjU7dmFyIFM9Y2FsY3VsYXRlV2luZG93QWRqdXN0bWVudChzLEUudG9wLEUubGVmdCxDLHAsdSx2LHgsRCxFLm9yaWdpblgsRS5vcmlnaW5ZLEUucmVmZXJlbmNlQ29vcmRpbmF0ZXMsRS5hcnJvd1RvcCxFLmFycm93TGVmdCx5KSxQPVMub3JpZ2luWCxUPVMub3JpZ2luWSxJPVMudG9wLHo9Uy5sZWZ0LF89Uy5ib3R0b20sTz1TLmNoZWNrU2FmZUFyZWFMZWZ0LEw9Uy5jaGVja1NhZmVBcmVhUmlnaHQsTT1TLmFycm93VG9wLEI9Uy5hcnJvd0xlZnQsWT1TLmFkZFBvcG92ZXJCb3R0b21DbGFzczt2YXIgaj1jcmVhdGVBbmltYXRpb24oKTt2YXIgUj1jcmVhdGVBbmltYXRpb24oKTt2YXIgVz1jcmVhdGVBbmltYXRpb24oKTtSLmFkZEVsZW1lbnQoaC5xdWVyeVNlbGVjdG9yKFwiaW9uLWJhY2tkcm9wXCIpKS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIikuYmVmb3JlU3R5bGVzKHtcInBvaW50ZXItZXZlbnRzXCI6XCJub25lXCJ9KS5hZnRlckNsZWFyU3R5bGVzKFtcInBvaW50ZXItZXZlbnRzXCJdKTtXLmFkZEVsZW1lbnQoaC5xdWVyeVNlbGVjdG9yKFwiLnBvcG92ZXItd3JhcHBlclwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSwxKTtyZXR1cm4gai5lYXNpbmcoXCJlYXNlXCIpLmR1cmF0aW9uKDEwMCkuYmVmb3JlQWRkV3JpdGUoKGZ1bmN0aW9uKCl7aWYobz09PVwiY292ZXJcIil7dC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0td2lkdGhcIix2K1wicHhcIil9aWYoWSl7dC5jbGFzc0xpc3QuYWRkKFwicG9wb3Zlci1ib3R0b21cIil9aWYoXyE9PXVuZGVmaW5lZCl7bS5zdHlsZS5zZXRQcm9wZXJ0eShcImJvdHRvbVwiLF8rXCJweFwiKX12YXIgZT1cIiArIHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCwgMClcIjt2YXIgcj1cIiAtIHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQsIDApXCI7dmFyIGE9eitcInB4XCI7aWYoTyl7YT16K1wicHhcIitlfWlmKEwpe2E9eitcInB4XCIrcn1tLnN0eWxlLnNldFByb3BlcnR5KFwidG9wXCIsXCJjYWxjKFwiK0krXCJweCArIHZhcigtLW9mZnNldC15LCAwKSlcIik7bS5zdHlsZS5zZXRQcm9wZXJ0eShcImxlZnRcIixcImNhbGMoXCIrYStcIiArIHZhcigtLW9mZnNldC14LCAwKSlcIik7bS5zdHlsZS5zZXRQcm9wZXJ0eShcInRyYW5zZm9ybS1vcmlnaW5cIixUK1wiIFwiK1ApO2lmKGchPT1udWxsKXt2YXIgbD1FLnRvcCE9PUl8fEUubGVmdCE9PXo7dmFyIGQ9c2hvdWxkU2hvd0Fycm93KHMsbCxpLG4pO2lmKGQpe2cuc3R5bGUuc2V0UHJvcGVydHkoXCJ0b3BcIixcImNhbGMoXCIrTStcInB4ICsgdmFyKC0tb2Zmc2V0LXksIDApKVwiKTtnLnN0eWxlLnNldFByb3BlcnR5KFwibGVmdFwiLFwiY2FsYyhcIitCK1wicHggKyB2YXIoLS1vZmZzZXQteCwgMCkpXCIpfWVsc2V7Zy5zdHlsZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIixcIm5vbmVcIil9fX0pKS5hZGRBbmltYXRpb24oW1IsV10pfTt2YXIgaW9zTGVhdmVBbmltYXRpb24kMT1mdW5jdGlvbih0KXt2YXIgZT1nZXRFbGVtZW50Um9vdCh0KTt2YXIgcj1lLnF1ZXJ5U2VsZWN0b3IoXCIucG9wb3Zlci1jb250ZW50XCIpO3ZhciBpPWUucXVlcnlTZWxlY3RvcihcIi5wb3BvdmVyLWFycm93XCIpO3ZhciBvPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBuPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBhPWNyZWF0ZUFuaW1hdGlvbigpO24uYWRkRWxlbWVudChlLnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIixcInZhcigtLWJhY2tkcm9wLW9wYWNpdHkpXCIsMCk7YS5hZGRFbGVtZW50KGUucXVlcnlTZWxlY3RvcihcIi5wb3BvdmVyLXdyYXBwZXJcIikpLmZyb21UbyhcIm9wYWNpdHlcIiwuOTksMCk7cmV0dXJuIG8uZWFzaW5nKFwiZWFzZVwiKS5hZnRlckFkZFdyaXRlKChmdW5jdGlvbigpe3Quc3R5bGUucmVtb3ZlUHJvcGVydHkoXCItLXdpZHRoXCIpO3QuY2xhc3NMaXN0LnJlbW92ZShcInBvcG92ZXItYm90dG9tXCIpO3Iuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0b3BcIik7ci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImxlZnRcIik7ci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImJvdHRvbVwiKTtyLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNmb3JtLW9yaWdpblwiKTtpZihpKXtpLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidG9wXCIpO2kuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJsZWZ0XCIpO2kuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJkaXNwbGF5XCIpfX0pKS5kdXJhdGlvbigzMDApLmFkZEFuaW1hdGlvbihbbixhXSl9O3ZhciBQT1BPVkVSX01EX0JPRFlfUEFERElORz0xMjt2YXIgbWRFbnRlckFuaW1hdGlvbiQxPWZ1bmN0aW9uKHQsZSl7dmFyIHI7dmFyIGk9ZS5ldmVudCxvPWUuc2l6ZSxuPWUudHJpZ2dlcixhPWUucmVmZXJlbmNlLHM9ZS5zaWRlLGw9ZS5hbGlnbjt2YXIgZD10Lm93bmVyRG9jdW1lbnQ7dmFyIGM9ZC5kaXI9PT1cInJ0bFwiO3ZhciBwPWQuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDt2YXIgdT1kLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0O3ZhciBoPWdldEVsZW1lbnRSb290KHQpO3ZhciBtPWgucXVlcnlTZWxlY3RvcihcIi5wb3BvdmVyLWNvbnRlbnRcIik7dmFyIGc9bnx8KChyPWk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmRldGFpbCk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLmlvblNoYWRvd1RhcmdldCl8fChpPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50YXJnZXQpO3ZhciBmPWdldFBvcG92ZXJEaW1lbnNpb25zKG8sbSxnKSxiPWYuY29udGVudFdpZHRoLHY9Zi5jb250ZW50SGVpZ2h0O3ZhciB4PXt0b3A6dS8yLXYvMixsZWZ0OnAvMi1iLzIsb3JpZ2luWDpjP1wicmlnaHRcIjpcImxlZnRcIixvcmlnaW5ZOlwidG9wXCJ9O3ZhciBrPWdldFBvcG92ZXJQb3NpdGlvbihjLGIsdiwwLDAsYSxzLGwseCxuLGkpO3ZhciB3PW89PT1cImNvdmVyXCI/MDpQT1BPVkVSX01EX0JPRFlfUEFERElORzt2YXIgeT1jYWxjdWxhdGVXaW5kb3dBZGp1c3RtZW50KHMsay50b3Asay5sZWZ0LHcscCx1LGIsdiwwLGsub3JpZ2luWCxrLm9yaWdpblksay5yZWZlcmVuY2VDb29yZGluYXRlcyksQT15Lm9yaWdpblgsRT15Lm9yaWdpblksQz15LnRvcCxEPXkubGVmdCxTPXkuYm90dG9tO3ZhciBQPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBUPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBJPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciB6PWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBfPWNyZWF0ZUFuaW1hdGlvbigpO1QuYWRkRWxlbWVudChoLnF1ZXJ5U2VsZWN0b3IoXCJpb24tYmFja2Ryb3BcIikpLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsXCJ2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KVwiKS5iZWZvcmVTdHlsZXMoe1wicG9pbnRlci1ldmVudHNcIjpcIm5vbmVcIn0pLmFmdGVyQ2xlYXJTdHlsZXMoW1wicG9pbnRlci1ldmVudHNcIl0pO0kuYWRkRWxlbWVudChoLnF1ZXJ5U2VsZWN0b3IoXCIucG9wb3Zlci13cmFwcGVyXCIpKS5kdXJhdGlvbigxNTApLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsMSk7ei5hZGRFbGVtZW50KG0pLmJlZm9yZVN0eWxlcyh7dG9wOlwiY2FsYyhcIitDK1wicHggKyB2YXIoLS1vZmZzZXQteSwgMHB4KSlcIixsZWZ0OlwiY2FsYyhcIitEK1wicHggKyB2YXIoLS1vZmZzZXQteCwgMHB4KSlcIixcInRyYW5zZm9ybS1vcmlnaW5cIjpFK1wiIFwiK0F9KS5iZWZvcmVBZGRXcml0ZSgoZnVuY3Rpb24oKXtpZihTIT09dW5kZWZpbmVkKXttLnN0eWxlLnNldFByb3BlcnR5KFwiYm90dG9tXCIsUytcInB4XCIpfX0pKS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInNjYWxlKDAuOClcIixcInNjYWxlKDEpXCIpO18uYWRkRWxlbWVudChoLnF1ZXJ5U2VsZWN0b3IoXCIucG9wb3Zlci12aWV3cG9ydFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSwxKTtyZXR1cm4gUC5lYXNpbmcoXCJjdWJpYy1iZXppZXIoMC4zNiwwLjY2LDAuMDQsMSlcIikuZHVyYXRpb24oMzAwKS5iZWZvcmVBZGRXcml0ZSgoZnVuY3Rpb24oKXtpZihvPT09XCJjb3ZlclwiKXt0LnN0eWxlLnNldFByb3BlcnR5KFwiLS13aWR0aFwiLGIrXCJweFwiKX1pZihFPT09XCJib3R0b21cIil7dC5jbGFzc0xpc3QuYWRkKFwicG9wb3Zlci1ib3R0b21cIil9fSkpLmFkZEFuaW1hdGlvbihbVCxJLHosX10pfTt2YXIgbWRMZWF2ZUFuaW1hdGlvbiQxPWZ1bmN0aW9uKHQpe3ZhciBlPWdldEVsZW1lbnRSb290KHQpO3ZhciByPWUucXVlcnlTZWxlY3RvcihcIi5wb3BvdmVyLWNvbnRlbnRcIik7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIG89Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIG49Y3JlYXRlQW5pbWF0aW9uKCk7by5hZGRFbGVtZW50KGUucXVlcnlTZWxlY3RvcihcImlvbi1iYWNrZHJvcFwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLFwidmFyKC0tYmFja2Ryb3Atb3BhY2l0eSlcIiwwKTtuLmFkZEVsZW1lbnQoZS5xdWVyeVNlbGVjdG9yKFwiLnBvcG92ZXItd3JhcHBlclwiKSkuZnJvbVRvKFwib3BhY2l0eVwiLC45OSwwKTtyZXR1cm4gaS5lYXNpbmcoXCJlYXNlXCIpLmFmdGVyQWRkV3JpdGUoKGZ1bmN0aW9uKCl7dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcIi0td2lkdGhcIik7dC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wb3Zlci1ib3R0b21cIik7ci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRvcFwiKTtyLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwibGVmdFwiKTtyLnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYm90dG9tXCIpO3Iuc3R5bGUucmVtb3ZlUHJvcGVydHkoXCJ0cmFuc2Zvcm0tb3JpZ2luXCIpfSkpLmR1cmF0aW9uKDE1MCkuYWRkQW5pbWF0aW9uKFtvLG5dKX07dmFyIHBvcG92ZXJJb3NDc3M9Jzpob3N0ey0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1taW4td2lkdGg6MDstLW1pbi1oZWlnaHQ6MDstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OmF1dG87LS1vZmZzZXQteDowcHg7LS1vZmZzZXQteTowcHg7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246Zml4ZWQ7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7ei1pbmRleDoxMDAxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoLnBvcG92ZXItaW50ZXJhY3RpdmUpIC5wb3BvdmVyLWNvbnRlbnQsOmhvc3QoLnBvcG92ZXItaW50ZXJhY3RpdmUpIGlvbi1iYWNrZHJvcHtwb2ludGVyLWV2ZW50czphdXRvfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfS5wb3BvdmVyLXdyYXBwZXJ7b3BhY2l0eTowO3otaW5kZXg6MTB9LnBvcG92ZXItY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7b3ZlcmZsb3c6YXV0bzt6LWluZGV4OjEwfS5wb3BvdmVyLXZpZXdwb3J0ey0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4O2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO292ZXJmbG93OmhpZGRlbn06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWxlZnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtcmlnaHQpey0tb2Zmc2V0LXg6LTVweH06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0KXstLW9mZnNldC14OjVweH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0KSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLXN0YXJ0ey0tb2Zmc2V0LXg6LTVweH06aG9zdCgucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZCl7LS1vZmZzZXQteDotNXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKSw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkucG9wb3Zlci1uZXN0ZWQucG9wb3Zlci1zaWRlLWVuZHstLW9mZnNldC14OjVweH06aG9zdHstLXdpZHRoOjIwMHB4Oy0tbWF4LWhlaWdodDo5MCU7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjA4KX06aG9zdCgucG9wb3Zlci1kZXNrdG9wKXstLWJveC1zaGFkb3c6MHB4IDRweCAxNnB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMTIpfS5wb3BvdmVyLWNvbnRlbnR7Ym9yZGVyLXJhZGl1czoxMHB4fTpob3N0KC5wb3BvdmVyLWRlc2t0b3ApIC5wb3BvdmVyLWNvbnRlbnR7Ym9yZGVyOjAuNXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2U2ZTZlNil9LnBvcG92ZXItYXJyb3d7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyMHB4O2hlaWdodDoxMHB4O292ZXJmbG93OmhpZGRlbn0ucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7bGVmdDozcHg7dG9wOjNweDtib3JkZXItcmFkaXVzOjNweDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxNHB4O2hlaWdodDoxNHB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtjb250ZW50OlwiXCI7ei1pbmRleDoxMH1bZGlyPXJ0bF0gLnBvcG92ZXItYXJyb3c6OmFmdGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvd3t0b3A6YXV0bztib3R0b206LTEwcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7dG9wOi02cHh9Omhvc3QoLnBvcG92ZXItc2lkZS1sZWZ0KSAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtcmlnaHQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdCgucG9wb3Zlci1zaWRlLXRvcCkgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtc3RhcnQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItc2lkZS1zdGFydCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1zdGFydCAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9Omhvc3QoLnBvcG92ZXItc2lkZS1lbmQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1zaWRlLWVuZCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1lbmQgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX1Ac3VwcG9ydHMgKCgtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkgb3IgKGJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkpezpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1jb250ZW50LDpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCk7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KTtiYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KX19Jzt2YXIgcG9wb3Zlck1kQ3NzPVwiOmhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLW1pbi13aWR0aDowOy0tbWluLWhlaWdodDowOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6YXV0bzstLW9mZnNldC14OjBweDstLW9mZnNldC15OjBweDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgLnBvcG92ZXItY29udGVudCw6aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9LnBvcG92ZXItd3JhcHBlcntvcGFjaXR5OjA7ei1pbmRleDoxMH0ucG9wb3Zlci1jb250ZW50e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzphdXRvO3otaW5kZXg6MTB9LnBvcG92ZXItdmlld3BvcnR7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVufTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtbGVmdCl7LS1vZmZzZXQteDo1cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1yaWdodCl7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnR7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKXstLW9mZnNldC14Oi01cHh9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5key0tb2Zmc2V0LXg6NXB4fTpob3N0ey0td2lkdGg6MjUwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLWJveC1zaGFkb3c6MCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpOy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMil9LnBvcG92ZXItY29udGVudHtib3JkZXItcmFkaXVzOjRweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcH1bZGlyPXJ0bF0gLnBvcG92ZXItY29udGVudCw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnBvcG92ZXItY29udGVudHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wfS5wb3BvdmVyLXZpZXdwb3J0ey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToxMDBtczt0cmFuc2l0aW9uLWRlbGF5OjEwMG1zfVwiO3ZhciBQb3BvdmVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10aGlzO3JlZ2lzdGVySW5zdGFuY2UodGhpcyx0KTt0aGlzLmRpZFByZXNlbnQ9Y3JlYXRlRXZlbnQodGhpcyxcImlvblBvcG92ZXJEaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uUG9wb3ZlcldpbGxQcmVzZW50XCIsNyk7dGhpcy53aWxsRGlzbWlzcz1jcmVhdGVFdmVudCh0aGlzLFwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzXCIsNyk7dGhpcy5kaWREaXNtaXNzPWNyZWF0ZUV2ZW50KHRoaXMsXCJpb25Qb3BvdmVyRGlkRGlzbWlzc1wiLDcpO3RoaXMuZGlkUHJlc2VudFNob3J0aGFuZD1jcmVhdGVFdmVudCh0aGlzLFwiZGlkUHJlc2VudFwiLDcpO3RoaXMud2lsbFByZXNlbnRTaG9ydGhhbmQ9Y3JlYXRlRXZlbnQodGhpcyxcIndpbGxQcmVzZW50XCIsNyk7dGhpcy53aWxsRGlzbWlzc1Nob3J0aGFuZD1jcmVhdGVFdmVudCh0aGlzLFwid2lsbERpc21pc3NcIiw3KTt0aGlzLmRpZERpc21pc3NTaG9ydGhhbmQ9Y3JlYXRlRXZlbnQodGhpcyxcImRpZERpc21pc3NcIiw3KTt0aGlzLnBhcmVudFBvcG92ZXI9bnVsbDt0aGlzLnBvcG92ZXJJbmRleD1wb3BvdmVySWRzKys7dGhpcy5jb3JlRGVsZWdhdGU9Q29yZURlbGVnYXRlKCk7dGhpcy5pbmxpbmU9ZmFsc2U7dGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQ9ZmFsc2U7dGhpcy5wcmVzZW50ZWQ9ZmFsc2U7dGhpcy5oYXNDb250cm9sbGVyPWZhbHNlO3RoaXMua2V5Ym9hcmRDbG9zZT10cnVlO3RoaXMuYmFja2Ryb3BEaXNtaXNzPXRydWU7dGhpcy5zaG93QmFja2Ryb3A9dHJ1ZTt0aGlzLnRyYW5zbHVjZW50PWZhbHNlO3RoaXMuYW5pbWF0ZWQ9dHJ1ZTt0aGlzLnRyaWdnZXJBY3Rpb249XCJjbGlja1wiO3RoaXMuc2l6ZT1cImF1dG9cIjt0aGlzLmRpc21pc3NPblNlbGVjdD1mYWxzZTt0aGlzLnJlZmVyZW5jZT1cInRyaWdnZXJcIjt0aGlzLnNpZGU9XCJib3R0b21cIjt0aGlzLmFsaWdubWVudD1cInN0YXJ0XCI7dGhpcy5hcnJvdz10cnVlO3RoaXMuaXNPcGVuPWZhbHNlO3RoaXMua2V5Ym9hcmRFdmVudHM9ZmFsc2U7dGhpcy5vbkRpc21pc3M9ZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKTt0LnByZXZlbnREZWZhdWx0KCk7ZS5kaXNtaXNzKCl9O3RoaXMub25CYWNrZHJvcFRhcD1mdW5jdGlvbigpe2UuZGlzbWlzcyh1bmRlZmluZWQsQkFDS0RST1ApfTt0aGlzLm9uTGlmZWN5Y2xlPWZ1bmN0aW9uKHQpe3ZhciByPWUudXNlcnNFbGVtZW50O3ZhciBpPUxJRkVDWUNMRV9NQVBbdC50eXBlXTtpZihyJiZpKXt2YXIgbz1uZXcgQ3VzdG9tRXZlbnQoaSx7YnViYmxlczpmYWxzZSxjYW5jZWxhYmxlOmZhbHNlLGRldGFpbDp0LmRldGFpbH0pO3IuZGlzcGF0Y2hFdmVudChvKX19O3RoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9ZSxyPXQudHJpZ2dlcixpPXQudHJpZ2dlckFjdGlvbixvPXQuZWwsbj10LmRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb247aWYobil7bigpfXZhciBhPWUudHJpZ2dlckVsPXIhPT11bmRlZmluZWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocik6bnVsbDtpZighYSl7cmV0dXJufWUuZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbj1jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oYSxpLG8pfTt0aGlzLmNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD1lLHI9dC5kZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbixpPXQuZWw7aWYocil7cigpfWUuZGVzdHJveUtleWJvYXJkSW50ZXJhY3Rpb249Y29uZmlndXJlS2V5Ym9hcmRJbnRlcmFjdGlvbihpKX07dGhpcy5jb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb249ZnVuY3Rpb24oKXt2YXIgdD1lLHI9dC5kZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uLGk9dC5wYXJlbnRQb3BvdmVyLG89dC50cmlnZ2VyQWN0aW9uLG49dC50cmlnZ2VyRWwsYT10LmVsO2lmKCFpfHwhbil7cmV0dXJufWlmKHIpe3IoKX1lLmRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb249Y29uZmlndXJlRGlzbWlzc0ludGVyYWN0aW9uKG4sbyxhLGkpfX10LnByb3RvdHlwZS5vblRyaWdnZXJDaGFuZ2U9ZnVuY3Rpb24oKXt0aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbigpfTt0LnByb3RvdHlwZS5vbklzT3BlbkNoYW5nZT1mdW5jdGlvbih0LGUpe2lmKHQ9PT10cnVlJiZlPT09ZmFsc2Upe3RoaXMucHJlc2VudCgpfWVsc2UgaWYodD09PWZhbHNlJiZlPT09dHJ1ZSl7dGhpcy5kaXNtaXNzKCl9fTt0LnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ByZXBhcmVPdmVybGF5KHRoaXMuZWwpfTt0LnByb3RvdHlwZS5jb21wb25lbnRXaWxsTG9hZD1mdW5jdGlvbigpe3RoaXMucG9wb3ZlcklkPXRoaXMuZWwuaGFzQXR0cmlidXRlKFwiaWRcIik/dGhpcy5lbC5nZXRBdHRyaWJ1dGUoXCJpZFwiKTpcImlvbi1wb3BvdmVyLVwiK3RoaXMucG9wb3ZlckluZGV4O3RoaXMucGFyZW50UG9wb3Zlcj10aGlzLmVsLmNsb3Nlc3QoXCJpb24tcG9wb3Zlcjpub3QoI1wiK3RoaXMucG9wb3ZlcklkK1wiKVwiKX07dC5wcm90b3R5cGUuY29tcG9uZW50RGlkTG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dmFyIGU9dGhpcyxyPWUucGFyZW50UG9wb3ZlcixpPWUuaXNPcGVuO2lmKGk9PT10cnVlKXtyYWYoKGZ1bmN0aW9uKCl7cmV0dXJuIHQucHJlc2VudCgpfSkpfWlmKHIpe2FkZEV2ZW50TGlzdGVuZXIocixcImlvblBvcG92ZXJXaWxsRGlzbWlzc1wiLChmdW5jdGlvbigpe3QuZGlzbWlzcyh1bmRlZmluZWQsdW5kZWZpbmVkLGZhbHNlKX0pKX10aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbigpfTt0LnByb3RvdHlwZS5wcmVzZW50RnJvbVRyaWdnZXI9ZnVuY3Rpb24odCxlKXtpZihlPT09dm9pZCAwKXtlPWZhbHNlfXJldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihyKXtzd2l0Y2goci5sYWJlbCl7Y2FzZSAwOnRoaXMuZm9jdXNEZXNjZW5kYW50T25QcmVzZW50PWU7cmV0dXJuWzQsdGhpcy5wcmVzZW50KHQpXTtjYXNlIDE6ci5zZW50KCk7dGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQ9ZmFsc2U7cmV0dXJuWzJdfX0pKX0pKX07dC5wcm90b3R5cGUuZ2V0RGVsZWdhdGU9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCl7dD1mYWxzZX1pZih0aGlzLndvcmtpbmdEZWxlZ2F0ZSYmIXQpe3JldHVybntkZWxlZ2F0ZTp0aGlzLndvcmtpbmdEZWxlZ2F0ZSxpbmxpbmU6dGhpcy5pbmxpbmV9fXZhciBlPXRoaXMuZWwucGFyZW50Tm9kZTt2YXIgcj10aGlzLmlubGluZT1lIT09bnVsbCYmIXRoaXMuaGFzQ29udHJvbGxlcjt2YXIgaT10aGlzLndvcmtpbmdEZWxlZ2F0ZT1yP3RoaXMuZGVsZWdhdGV8fHRoaXMuY29yZURlbGVnYXRlOnRoaXMuZGVsZWdhdGU7cmV0dXJue2lubGluZTpyLGRlbGVnYXRlOml9fTt0LnByb3RvdHlwZS5wcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBlLHIsaSxvLG47cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6aWYodGhpcy5wcmVzZW50ZWQpe3JldHVyblsyXX1pZighKHRoaXMuY3VycmVudFRyYW5zaXRpb24hPT11bmRlZmluZWQpKXJldHVyblszLDJdO3JldHVybls0LHRoaXMuY3VycmVudFRyYW5zaXRpb25dO2Nhc2UgMTphLnNlbnQoKTthLmxhYmVsPTI7Y2FzZSAyOmU9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHRoaXMuY29tcG9uZW50UHJvcHMpLHtwb3BvdmVyOnRoaXMuZWx9KTtyPXRoaXMuZ2V0RGVsZWdhdGUodHJ1ZSksaT1yLmlubGluZSxvPXIuZGVsZWdhdGU7bj10aGlzO3JldHVybls0LGF0dGFjaENvbXBvbmVudChvLHRoaXMuZWwsdGhpcy5jb21wb25lbnQsW1wicG9wb3Zlci12aWV3cG9ydFwiXSxlLGkpXTtjYXNlIDM6bi51c2Vyc0VsZW1lbnQ9YS5zZW50KCk7cmV0dXJuWzQsZGVlcFJlYWR5KHRoaXMudXNlcnNFbGVtZW50KV07Y2FzZSA0OmEuc2VudCgpO2lmKCF0aGlzLmtleWJvYXJkRXZlbnRzKXt0aGlzLmNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24oKX10aGlzLmNvbmZpZ3VyZURpc21pc3NJbnRlcmFjdGlvbigpO3RoaXMuY3VycmVudFRyYW5zaXRpb249cHJlc2VudCh0aGlzLFwicG9wb3ZlckVudGVyXCIsaW9zRW50ZXJBbmltYXRpb24kMSxtZEVudGVyQW5pbWF0aW9uJDEse2V2ZW50OnR8fHRoaXMuZXZlbnQsc2l6ZTp0aGlzLnNpemUsdHJpZ2dlcjp0aGlzLnRyaWdnZXJFbCxyZWZlcmVuY2U6dGhpcy5yZWZlcmVuY2Usc2lkZTp0aGlzLnNpZGUsYWxpZ246dGhpcy5hbGlnbm1lbnR9KTtyZXR1cm5bNCx0aGlzLmN1cnJlbnRUcmFuc2l0aW9uXTtjYXNlIDU6YS5zZW50KCk7dGhpcy5jdXJyZW50VHJhbnNpdGlvbj11bmRlZmluZWQ7aWYodGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQpe2ZvY3VzRmlyc3REZXNjZW5kYW50KHRoaXMuZWwsdGhpcy5lbCl9cmV0dXJuWzJdfX0pKX0pKX07dC5wcm90b3R5cGUuZGlzbWlzcz1mdW5jdGlvbih0LGUscil7aWYocj09PXZvaWQgMCl7cj10cnVlfXJldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3ZhciBpLG8sbixhLHM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKGwpe3N3aXRjaChsLmxhYmVsKXtjYXNlIDA6aWYoISh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uIT09dW5kZWZpbmVkKSlyZXR1cm5bMywyXTtyZXR1cm5bNCx0aGlzLmN1cnJlbnRUcmFuc2l0aW9uXTtjYXNlIDE6bC5zZW50KCk7bC5sYWJlbD0yO2Nhc2UgMjppPXRoaXMsbz1pLmRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uLG49aS5kZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uO2lmKHImJnRoaXMucGFyZW50UG9wb3Zlcil7dGhpcy5wYXJlbnRQb3BvdmVyLmRpc21pc3ModCxlLHIpfXRoaXMuY3VycmVudFRyYW5zaXRpb249ZGlzbWlzcyh0aGlzLHQsZSxcInBvcG92ZXJMZWF2ZVwiLGlvc0xlYXZlQW5pbWF0aW9uJDEsbWRMZWF2ZUFuaW1hdGlvbiQxLHRoaXMuZXZlbnQpO3JldHVybls0LHRoaXMuY3VycmVudFRyYW5zaXRpb25dO2Nhc2UgMzphPWwuc2VudCgpO2lmKCFhKXJldHVyblszLDVdO2lmKG8pe28oKTt0aGlzLmRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uPXVuZGVmaW5lZH1pZihuKXtuKCk7dGhpcy5kZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uPXVuZGVmaW5lZH1zPXRoaXMuZ2V0RGVsZWdhdGUoKS5kZWxlZ2F0ZTtyZXR1cm5bNCxkZXRhY2hDb21wb25lbnQocyx0aGlzLnVzZXJzRWxlbWVudCldO2Nhc2UgNDpsLnNlbnQoKTtsLmxhYmVsPTU7Y2FzZSA1OnRoaXMuY3VycmVudFRyYW5zaXRpb249dW5kZWZpbmVkO3JldHVyblsyLGFdfX0pKX0pKX07dC5wcm90b3R5cGUuZ2V0UGFyZW50UG9wb3Zlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLChmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbih0KXtyZXR1cm5bMix0aGlzLnBhcmVudFBvcG92ZXJdfSkpfSkpfTt0LnByb3RvdHlwZS5vbkRpZERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvblBvcG92ZXJEaWREaXNtaXNzXCIpfTt0LnByb3RvdHlwZS5vbldpbGxEaXNtaXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsXCJpb25Qb3BvdmVyV2lsbERpc21pc3NcIil9O3QucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3ZhciB0O3ZhciBlPXRoaXM7dmFyIHI9Z2V0SW9uTW9kZSh0aGlzKTt2YXIgaT10aGlzLG89aS5vbkxpZmVjeWNsZSxuPWkucG9wb3ZlcklkLGE9aS5wYXJlbnRQb3BvdmVyLHM9aS5kaXNtaXNzT25TZWxlY3QsbD1pLnByZXNlbnRlZCxkPWkuc2lkZSxjPWkuYXJyb3cscD1pLmh0bWxBdHRyaWJ1dGVzO3ZhciB1PWlzUGxhdGZvcm0oXCJkZXNrdG9wXCIpO3ZhciBtPWMmJiFhJiYhdTtyZXR1cm4gaChIb3N0LE9iamVjdC5hc3NpZ24oe1wiYXJpYS1tb2RhbFwiOlwidHJ1ZVwiLFwibm8tcm91dGVyXCI6dHJ1ZSx0YWJpbmRleDpcIi0xXCJ9LHAse3N0eWxlOnt6SW5kZXg6XCJcIisoMmU0K3RoaXMub3ZlcmxheUluZGV4KX0saWQ6bixjbGFzczpPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCh0PXt9LHRbcl09dHJ1ZSx0W1wicG9wb3Zlci10cmFuc2x1Y2VudFwiXT10aGlzLnRyYW5zbHVjZW50LHRbXCJvdmVybGF5LWhpZGRlblwiXT10cnVlLHRbXCJwb3BvdmVyLWludGVyYWN0aXZlXCJdPWwsdFtcInBvcG92ZXItZGVza3RvcFwiXT11LHRbXCJwb3BvdmVyLXNpZGUtXCIrZF09dHJ1ZSx0W1wicG9wb3Zlci1uZXN0ZWRcIl09ISFhLHQpKSxvbklvblBvcG92ZXJEaWRQcmVzZW50Om8sb25Jb25Qb3BvdmVyV2lsbFByZXNlbnQ6byxvbklvblBvcG92ZXJXaWxsRGlzbWlzczpvLG9uSW9uUG9wb3ZlckRpZERpc21pc3M6byxvbklvbkRpc21pc3M6dGhpcy5vbkRpc21pc3Msb25Jb25CYWNrZHJvcFRhcDp0aGlzLm9uQmFja2Ryb3BUYXB9KSwhYSYmaChcImlvbi1iYWNrZHJvcFwiLHt0YXBwYWJsZTp0aGlzLmJhY2tkcm9wRGlzbWlzcyx2aXNpYmxlOnRoaXMuc2hvd0JhY2tkcm9wLHBhcnQ6XCJiYWNrZHJvcFwifSksaChcImRpdlwiLHtjbGFzczpcInBvcG92ZXItd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIsb25DbGljazpzP2Z1bmN0aW9uKCl7cmV0dXJuIGUuZGlzbWlzcygpfTp1bmRlZmluZWR9LG0mJmgoXCJkaXZcIix7Y2xhc3M6XCJwb3BvdmVyLWFycm93XCIscGFydDpcImFycm93XCJ9KSxoKFwiZGl2XCIse2NsYXNzOlwicG9wb3Zlci1jb250ZW50XCIscGFydDpcImNvbnRlbnRcIn0saChcInNsb3RcIixudWxsKSkpKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGdldEVsZW1lbnQodGhpcyl9LGVudW1lcmFibGU6ZmFsc2UsY29uZmlndXJhYmxlOnRydWV9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIndhdGNoZXJzXCIse2dldDpmdW5jdGlvbigpe3JldHVybnt0cmlnZ2VyOltcIm9uVHJpZ2dlckNoYW5nZVwiXSx0cmlnZ2VyQWN0aW9uOltcIm9uVHJpZ2dlckNoYW5nZVwiXSxpc09wZW46W1wib25Jc09wZW5DaGFuZ2VcIl19fSxlbnVtZXJhYmxlOmZhbHNlLGNvbmZpZ3VyYWJsZTp0cnVlfSk7cmV0dXJuIHR9KCk7dmFyIExJRkVDWUNMRV9NQVA9e2lvblBvcG92ZXJEaWRQcmVzZW50OlwiaW9uVmlld0RpZEVudGVyXCIsaW9uUG9wb3ZlcldpbGxQcmVzZW50OlwiaW9uVmlld1dpbGxFbnRlclwiLGlvblBvcG92ZXJXaWxsRGlzbWlzczpcImlvblZpZXdXaWxsTGVhdmVcIixpb25Qb3BvdmVyRGlkRGlzbWlzczpcImlvblZpZXdEaWRMZWF2ZVwifTt2YXIgcG9wb3Zlcklkcz0wO1BvcG92ZXIuc3R5bGU9e2lvczpwb3BvdmVySW9zQ3NzLG1kOnBvcG92ZXJNZENzc307dmFyIGlvc0VudGVyQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIG89Z2V0RWxlbWVudFJvb3QodCk7dmFyIG49by5xdWVyeVNlbGVjdG9yKFwiLnRvYXN0LXdyYXBwZXJcIik7dmFyIGE9XCJjYWxjKC0xMHB4IC0gdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDBweCkpXCI7dmFyIHM9XCJjYWxjKDEwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMHB4KSlcIjtpLmFkZEVsZW1lbnQobik7c3dpdGNoKGUpe2Nhc2VcInRvcFwiOmkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKC0xMDAlKVwiLFwidHJhbnNsYXRlWShcIitzK1wiKVwiKTticmVhaztjYXNlXCJtaWRkbGVcIjp2YXIgbD1NYXRoLmZsb29yKHQuY2xpZW50SGVpZ2h0LzItbi5jbGllbnRIZWlnaHQvMik7bi5zdHlsZS50b3A9bCtcInB4XCI7aS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLDEpO2JyZWFrO2RlZmF1bHQ6aS5mcm9tVG8oXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZVkoMTAwJSlcIixcInRyYW5zbGF0ZVkoXCIrYStcIilcIik7YnJlYWt9cmV0dXJuIHIuZWFzaW5nKFwiY3ViaWMtYmV6aWVyKC4xNTUsMS4xMDUsLjI5NSwxLjEyKVwiKS5kdXJhdGlvbig0MDApLmFkZEFuaW1hdGlvbihpKX07dmFyIGlvc0xlYXZlQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIG89Z2V0RWxlbWVudFJvb3QodCk7dmFyIG49by5xdWVyeVNlbGVjdG9yKFwiLnRvYXN0LXdyYXBwZXJcIik7dmFyIGE9XCJjYWxjKC0xMHB4IC0gdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDBweCkpXCI7dmFyIHM9XCJjYWxjKDEwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMHB4KSlcIjtpLmFkZEVsZW1lbnQobik7c3dpdGNoKGUpe2Nhc2VcInRvcFwiOmkuZnJvbVRvKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGVZKFwiK3MrXCIpXCIsXCJ0cmFuc2xhdGVZKC0xMDAlKVwiKTticmVhaztjYXNlXCJtaWRkbGVcIjppLmZyb21UbyhcIm9wYWNpdHlcIiwuOTksMCk7YnJlYWs7ZGVmYXVsdDppLmZyb21UbyhcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlWShcIithK1wiKVwiLFwidHJhbnNsYXRlWSgxMDAlKVwiKTticmVha31yZXR1cm4gci5lYXNpbmcoXCJjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSlcIikuZHVyYXRpb24oMzAwKS5hZGRBbmltYXRpb24oaSl9O3ZhciBtZEVudGVyQW5pbWF0aW9uPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIGk9Y3JlYXRlQW5pbWF0aW9uKCk7dmFyIG89Z2V0RWxlbWVudFJvb3QodCk7dmFyIG49by5xdWVyeVNlbGVjdG9yKFwiLnRvYXN0LXdyYXBwZXJcIik7dmFyIGE9XCJjYWxjKDhweCArIHZhcigtLWlvbi1zYWZlLWFyZWEtYm90dG9tLCAwcHgpKVwiO3ZhciBzPVwiY2FsYyg4cHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMHB4KSlcIjtpLmFkZEVsZW1lbnQobik7c3dpdGNoKGUpe2Nhc2VcInRvcFwiOm4uc3R5bGUudG9wPXM7aS5mcm9tVG8oXCJvcGFjaXR5XCIsLjAxLDEpO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOnZhciBsPU1hdGguZmxvb3IodC5jbGllbnRIZWlnaHQvMi1uLmNsaWVudEhlaWdodC8yKTtuLnN0eWxlLnRvcD1sK1wicHhcIjtpLmZyb21UbyhcIm9wYWNpdHlcIiwuMDEsMSk7YnJlYWs7ZGVmYXVsdDpuLnN0eWxlLmJvdHRvbT1hO2kuZnJvbVRvKFwib3BhY2l0eVwiLC4wMSwxKTticmVha31yZXR1cm4gci5lYXNpbmcoXCJjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSlcIikuZHVyYXRpb24oNDAwKS5hZGRBbmltYXRpb24oaSl9O3ZhciBtZExlYXZlQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciByPWNyZWF0ZUFuaW1hdGlvbigpO3ZhciBpPWdldEVsZW1lbnRSb290KHQpO3ZhciBvPWkucXVlcnlTZWxlY3RvcihcIi50b2FzdC13cmFwcGVyXCIpO3IuYWRkRWxlbWVudChvKS5mcm9tVG8oXCJvcGFjaXR5XCIsLjk5LDApO3JldHVybiBlLmVhc2luZyhcImN1YmljLWJlemllciguMzYsLjY2LC4wNCwxKVwiKS5kdXJhdGlvbigzMDApLmFkZEFuaW1hdGlvbihyKX07dmFyIHRvYXN0SW9zQ3NzPVwiOmhvc3R7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOmluaXRpYWw7LS1ib3gtc2hhZG93Om5vbmU7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLXdoaXRlLXNwYWNlOm5vcm1hbDtsZWZ0OjA7dG9wOjA7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1jb2xvcik7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSl7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfTpob3N0KC5pb24tY29sb3Ipey0tYnV0dG9uLWNvbG9yOmluaGVyaXQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0KX06aG9zdCguaW9uLWNvbG9yKSAudG9hc3QtYnV0dG9uLWNhbmNlbHtjb2xvcjppbmhlcml0fTpob3N0KC5pb24tY29sb3IpIC50b2FzdC13cmFwcGVye2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpfS50b2FzdC13cmFwcGVye2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7bGVmdDp2YXIoLS1zdGFydCk7cmlnaHQ6dmFyKC0tZW5kKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyl9W2Rpcj1ydGxdIC50b2FzdC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAudG9hc3Qtd3JhcHBlcntsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O2xlZnQ6dmFyKC0tZW5kKTtyaWdodDp2YXIoLS1zdGFydCl9LnRvYXN0LWNvbnRhaW5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BvaW50ZXItZXZlbnRzOmF1dG87aGVpZ2h0OmluaGVyaXQ7bWluLWhlaWdodDppbmhlcml0O21heC1oZWlnaHQ6aW5oZXJpdDtjb250YWluOmNvbnRlbnR9LnRvYXN0LWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXg6MTtmbGV4OjE7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0udG9hc3QtaWNvbnttYXJnaW4tbGVmdDoxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWljb257bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHh9fS50b2FzdC1tZXNzYWdley1tcy1mbGV4OjE7ZmxleDoxO3doaXRlLXNwYWNlOnZhcigtLXdoaXRlLXNwYWNlKX0udG9hc3QtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS50b2FzdC1idXR0b257Ym9yZGVyOjA7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvcik7ei1pbmRleDowfS50b2FzdC1pY29uLC50b2FzdC1idXR0b24taWNvbntmb250LXNpemU6MS40ZW19LnRvYXN0LWJ1dHRvbi1pbm5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7LnRvYXN0LWJ1dHRvbjpob3ZlcntjdXJzb3I6cG9pbnRlcn19Omhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTUwLCAjZjJmMmYyKTstLWJvcmRlci1yYWRpdXM6MTRweDstLWJ1dHRvbi1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7LS1jb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpOy0tbWF4LXdpZHRoOjcwMHB4Oy0tc3RhcnQ6MTBweDstLWVuZDoxMHB4O2ZvbnQtc2l6ZToxNHB4fS50b2FzdC13cmFwcGVye21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bztkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTB9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsudG9hc3Qtd3JhcHBlcnttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0b319QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXs6aG9zdCgudG9hc3QtdHJhbnNsdWNlbnQpIC50b2FzdC13cmFwcGVye2JhY2tncm91bmQ6cmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpOy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDE4MCUpIGJsdXIoMjBweCl9fS50b2FzdC13cmFwcGVyLnRvYXN0LXRvcHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgLTEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIC0xMDAlLCAgMCk7dG9wOjB9LnRvYXN0LXdyYXBwZXIudG9hc3QtbWlkZGxle29wYWNpdHk6MC4wMX0udG9hc3Qtd3JhcHBlci50b2FzdC1ib3R0b217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTtib3R0b206MH0udG9hc3QtY29udGVudHtwYWRkaW5nLWxlZnQ6MTVweDtwYWRkaW5nLXJpZ2h0OjE1cHg7cGFkZGluZy10b3A6MTVweDtwYWRkaW5nLWJvdHRvbToxNXB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWNvbnRlbnR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHh9fS50b2FzdC1oZWFkZXJ7bWFyZ2luLWJvdHRvbToycHg7Zm9udC13ZWlnaHQ6NTAwfS50b2FzdC1idXR0b257cGFkZGluZy1sZWZ0OjE1cHg7cGFkZGluZy1yaWdodDoxNXB4O3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweDtoZWlnaHQ6NDRweDstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciwgb3BhY2l0eSAxMDBtcyBsaW5lYXI7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yLCBvcGFjaXR5IDEwMG1zIGxpbmVhcjtib3JkZXI6MDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSk7Zm9udC1zaXplOjE3cHg7Zm9udC13ZWlnaHQ6NTAwO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1idXR0b257cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHh9fS50b2FzdC1idXR0b24uaW9uLWFjdGl2YXRlZHtvcGFjaXR5OjAuNH1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7b3BhY2l0eTowLjZ9fVwiO3ZhciB0b2FzdE1kQ3NzPVwiOmhvc3R7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOmluaXRpYWw7LS1ib3gtc2hhZG93Om5vbmU7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLXdoaXRlLXNwYWNlOm5vcm1hbDtsZWZ0OjA7dG9wOjA7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1jb2xvcik7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSl7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfTpob3N0KC5pb24tY29sb3Ipey0tYnV0dG9uLWNvbG9yOmluaGVyaXQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0KX06aG9zdCguaW9uLWNvbG9yKSAudG9hc3QtYnV0dG9uLWNhbmNlbHtjb2xvcjppbmhlcml0fTpob3N0KC5pb24tY29sb3IpIC50b2FzdC13cmFwcGVye2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpfS50b2FzdC13cmFwcGVye2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7bGVmdDp2YXIoLS1zdGFydCk7cmlnaHQ6dmFyKC0tZW5kKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyl9W2Rpcj1ydGxdIC50b2FzdC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAudG9hc3Qtd3JhcHBlcntsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O2xlZnQ6dmFyKC0tZW5kKTtyaWdodDp2YXIoLS1zdGFydCl9LnRvYXN0LWNvbnRhaW5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BvaW50ZXItZXZlbnRzOmF1dG87aGVpZ2h0OmluaGVyaXQ7bWluLWhlaWdodDppbmhlcml0O21heC1oZWlnaHQ6aW5oZXJpdDtjb250YWluOmNvbnRlbnR9LnRvYXN0LWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXg6MTtmbGV4OjE7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0udG9hc3QtaWNvbnttYXJnaW4tbGVmdDoxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWljb257bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHh9fS50b2FzdC1tZXNzYWdley1tcy1mbGV4OjE7ZmxleDoxO3doaXRlLXNwYWNlOnZhcigtLXdoaXRlLXNwYWNlKX0udG9hc3QtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS50b2FzdC1idXR0b257Ym9yZGVyOjA7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvcik7ei1pbmRleDowfS50b2FzdC1pY29uLC50b2FzdC1idXR0b24taWNvbntmb250LXNpemU6MS40ZW19LnRvYXN0LWJ1dHRvbi1pbm5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7LnRvYXN0LWJ1dHRvbjpob3ZlcntjdXJzb3I6cG9pbnRlcn19Omhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTgwMCwgIzMzMzMzMyk7LS1ib3JkZXItcmFkaXVzOjRweDstLWJveC1zaGFkb3c6MCAzcHggNXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNTAsICNmMmYyZjIpOy0tbWF4LXdpZHRoOjcwMHB4Oy0tc3RhcnQ6OHB4Oy0tZW5kOjhweDtmb250LXNpemU6MTRweH0udG9hc3Qtd3JhcHBlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG87ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjAuMDE7ei1pbmRleDoxMH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC13cmFwcGVye21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX0udG9hc3QtY29udGVudHtwYWRkaW5nLWxlZnQ6MTZweDtwYWRkaW5nLXJpZ2h0OjE2cHg7cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWNvbnRlbnR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS50b2FzdC1oZWFkZXJ7bWFyZ2luLWJvdHRvbToycHg7Zm9udC13ZWlnaHQ6NTAwO2xpbmUtaGVpZ2h0OjIwcHh9LnRvYXN0LW1lc3NhZ2V7bGluZS1oZWlnaHQ6MjBweH0udG9hc3QtYnV0dG9uLWdyb3VwLXN0YXJ0e21hcmdpbi1sZWZ0OjhweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1idXR0b24tZ3JvdXAtc3RhcnR7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6OHB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6OHB4fX0udG9hc3QtYnV0dG9uLWdyb3VwLWVuZHttYXJnaW4tcmlnaHQ6OHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWJ1dHRvbi1ncm91cC1lbmR7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLWVuZDo4cHg7bWFyZ2luLWlubGluZS1lbmQ6OHB4fX0udG9hc3QtYnV0dG9ue3BhZGRpbmctbGVmdDoxNXB4O3BhZGRpbmctcmlnaHQ6MTVweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHkpO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzowLjg0cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1idXR0b257cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHh9fS50b2FzdC1idXR0b24tY2FuY2Vse2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2U2ZTZlNil9LnRvYXN0LWJ1dHRvbi1pY29uLW9ubHl7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZy1sZWZ0OjlweDtwYWRkaW5nLXJpZ2h0OjlweDtwYWRkaW5nLXRvcDo5cHg7cGFkZGluZy1ib3R0b206OXB4O3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsudG9hc3QtYnV0dG9uLWljb24tb25seXtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6OXB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjlweDstd2Via2l0LXBhZGRpbmctZW5kOjlweDtwYWRkaW5nLWlubGluZS1lbmQ6OXB4fX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC4wOCl9LnRvYXN0LWJ1dHRvbi1jYW5jZWw6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuMDgpfX1cIjt2YXIgVG9hc3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZhciBlPXRoaXM7cmVnaXN0ZXJJbnN0YW5jZSh0aGlzLHQpO3RoaXMuZGlkUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uVG9hc3REaWRQcmVzZW50XCIsNyk7dGhpcy53aWxsUHJlc2VudD1jcmVhdGVFdmVudCh0aGlzLFwiaW9uVG9hc3RXaWxsUHJlc2VudFwiLDcpO3RoaXMud2lsbERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvblRvYXN0V2lsbERpc21pc3NcIiw3KTt0aGlzLmRpZERpc21pc3M9Y3JlYXRlRXZlbnQodGhpcyxcImlvblRvYXN0RGlkRGlzbWlzc1wiLDcpO3RoaXMucHJlc2VudGVkPWZhbHNlO3RoaXMuZHVyYXRpb249MDt0aGlzLmtleWJvYXJkQ2xvc2U9ZmFsc2U7dGhpcy5wb3NpdGlvbj1cImJvdHRvbVwiO3RoaXMudHJhbnNsdWNlbnQ9ZmFsc2U7dGhpcy5hbmltYXRlZD10cnVlO3RoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyPWZ1bmN0aW9uKHQpe3ZhciByPXQuZGV0YWlsLnJvbGU7aWYoaXNDYW5jZWwocikpe3ZhciBpPWUuZ2V0QnV0dG9ucygpLmZpbmQoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJvbGU9PT1cImNhbmNlbFwifSkpO2UuY2FsbEJ1dHRvbkhhbmRsZXIoaSl9fX10LnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaz1mdW5jdGlvbigpe3ByZXBhcmVPdmVybGF5KHRoaXMuZWwpfTt0LnByb3RvdHlwZS5wcmVzZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxwcmVzZW50KHRoaXMsXCJ0b2FzdEVudGVyXCIsaW9zRW50ZXJBbmltYXRpb24sbWRFbnRlckFuaW1hdGlvbix0aGlzLnBvc2l0aW9uKV07Y2FzZSAxOmUuc2VudCgpO2lmKHRoaXMuZHVyYXRpb24+MCl7dGhpcy5kdXJhdGlvblRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyZXR1cm4gdC5kaXNtaXNzKHVuZGVmaW5lZCxcInRpbWVvdXRcIil9KSx0aGlzLmR1cmF0aW9uKX1yZXR1cm5bMl19fSkpfSkpfTt0LnByb3RvdHlwZS5kaXNtaXNzPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5kdXJhdGlvblRpbWVvdXQpe2NsZWFyVGltZW91dCh0aGlzLmR1cmF0aW9uVGltZW91dCl9cmV0dXJuIGRpc21pc3ModGhpcyx0LGUsXCJ0b2FzdExlYXZlXCIsaW9zTGVhdmVBbmltYXRpb24sbWRMZWF2ZUFuaW1hdGlvbix0aGlzLnBvc2l0aW9uKX07dC5wcm90b3R5cGUub25EaWREaXNtaXNzPWZ1bmN0aW9uKCl7cmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsXCJpb25Ub2FzdERpZERpc21pc3NcIil9O3QucHJvdG90eXBlLm9uV2lsbERpc21pc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCxcImlvblRvYXN0V2lsbERpc21pc3NcIil9O3QucHJvdG90eXBlLmdldEJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmJ1dHRvbnM/dGhpcy5idXR0b25zLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0PT09XCJzdHJpbmdcIj97dGV4dDp0fTp0fSkpOltdO3JldHVybiB0fTt0LnByb3RvdHlwZS5idXR0b25DbGljaz1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOmU9dC5yb2xlO2lmKGlzQ2FuY2VsKGUpKXtyZXR1cm5bMix0aGlzLmRpc21pc3ModW5kZWZpbmVkLGUpXX1yZXR1cm5bNCx0aGlzLmNhbGxCdXR0b25IYW5kbGVyKHQpXTtjYXNlIDE6cj1pLnNlbnQoKTtpZihyKXtyZXR1cm5bMix0aGlzLmRpc21pc3ModW5kZWZpbmVkLGUpXX1yZXR1cm5bMixQcm9taXNlLnJlc29sdmUoKV19fSkpfSkpfTt0LnByb3RvdHlwZS5jYWxsQnV0dG9uSGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgZSxyO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLChmdW5jdGlvbihpKXtzd2l0Y2goaS5sYWJlbCl7Y2FzZSAwOmlmKCEodCYmdC5oYW5kbGVyKSlyZXR1cm5bMyw0XTtpLmxhYmVsPTE7Y2FzZSAxOmkudHJ5cy5wdXNoKFsxLDMsLDRdKTtyZXR1cm5bNCxzYWZlQ2FsbCh0LmhhbmRsZXIpXTtjYXNlIDI6ZT1pLnNlbnQoKTtpZihlPT09ZmFsc2Upe3JldHVyblsyLGZhbHNlXX1yZXR1cm5bMyw0XTtjYXNlIDM6cj1pLnNlbnQoKTtjb25zb2xlLmVycm9yKHIpO3JldHVyblszLDRdO2Nhc2UgNDpyZXR1cm5bMix0cnVlXX19KSl9KSl9O3QucHJvdG90eXBlLnJlbmRlckJ1dHRvbnM9ZnVuY3Rpb24odCxlKXt2YXIgcjt2YXIgaT10aGlzO2lmKHQubGVuZ3RoPT09MCl7cmV0dXJufXZhciBvPWdldElvbk1vZGUodGhpcyk7dmFyIG49KHI9e1widG9hc3QtYnV0dG9uLWdyb3VwXCI6dHJ1ZX0scltcInRvYXN0LWJ1dHRvbi1ncm91cC1cIitlXT10cnVlLHIpO3JldHVybiBoKFwiZGl2XCIse2NsYXNzOm59LHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gaChcImJ1dHRvblwiLHt0eXBlOlwiYnV0dG9uXCIsY2xhc3M6YnV0dG9uQ2xhc3ModCksdGFiSW5kZXg6MCxvbkNsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGkuYnV0dG9uQ2xpY2sodCl9LHBhcnQ6XCJidXR0b25cIn0saChcImRpdlwiLHtjbGFzczpcInRvYXN0LWJ1dHRvbi1pbm5lclwifSx0Lmljb24mJmgoXCJpb24taWNvblwiLHtpY29uOnQuaWNvbixzbG90OnQudGV4dD09PXVuZGVmaW5lZD9cImljb24tb25seVwiOnVuZGVmaW5lZCxjbGFzczpcInRvYXN0LWJ1dHRvbi1pY29uXCJ9KSx0LnRleHQpLG89PT1cIm1kXCImJmgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLHt0eXBlOnQuaWNvbiE9PXVuZGVmaW5lZCYmdC50ZXh0PT09dW5kZWZpbmVkP1widW5ib3VuZGVkXCI6XCJib3VuZGVkXCJ9KSl9KSkpfTt0LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdCxlO3ZhciByPXRoaXMuZ2V0QnV0dG9ucygpO3ZhciBpPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaWRlPT09XCJzdGFydFwifSkpO3ZhciBvPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zaWRlIT09XCJzdGFydFwifSkpO3ZhciBuPWdldElvbk1vZGUodGhpcyk7dmFyIGE9KHQ9e1widG9hc3Qtd3JhcHBlclwiOnRydWV9LHRbXCJ0b2FzdC1cIit0aGlzLnBvc2l0aW9uXT10cnVlLHQpO3ZhciBzPXIubGVuZ3RoPjA/XCJkaWFsb2dcIjpcInN0YXR1c1wiO3JldHVybiBoKEhvc3QsT2JqZWN0LmFzc2lnbih7cm9sZTpzLHRhYmluZGV4OlwiLTFcIn0sdGhpcy5odG1sQXR0cmlidXRlcyx7c3R5bGU6e3pJbmRleDpcIlwiKyg2ZTQrdGhpcy5vdmVybGF5SW5kZXgpfSxjbGFzczpjcmVhdGVDb2xvckNsYXNzZXModGhpcy5jb2xvcixPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oKGU9e30sZVtuXT10cnVlLGUpLGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSx7XCJvdmVybGF5LWhpZGRlblwiOnRydWUsXCJ0b2FzdC10cmFuc2x1Y2VudFwiOnRoaXMudHJhbnNsdWNlbnR9KSksb25Jb25Ub2FzdFdpbGxEaXNtaXNzOnRoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyfSksaChcImRpdlwiLHtjbGFzczphfSxoKFwiZGl2XCIse2NsYXNzOlwidG9hc3QtY29udGFpbmVyXCIscGFydDpcImNvbnRhaW5lclwifSx0aGlzLnJlbmRlckJ1dHRvbnMoaSxcInN0YXJ0XCIpLHRoaXMuaWNvbiE9PXVuZGVmaW5lZCYmaChcImlvbi1pY29uXCIse2NsYXNzOlwidG9hc3QtaWNvblwiLHBhcnQ6XCJpY29uXCIsaWNvbjp0aGlzLmljb24sbGF6eTpmYWxzZSxcImFyaWEtaGlkZGVuXCI6XCJ0cnVlXCJ9KSxoKFwiZGl2XCIse2NsYXNzOlwidG9hc3QtY29udGVudFwifSx0aGlzLmhlYWRlciE9PXVuZGVmaW5lZCYmaChcImRpdlwiLHtjbGFzczpcInRvYXN0LWhlYWRlclwiLHBhcnQ6XCJoZWFkZXJcIn0sdGhpcy5oZWFkZXIpLHRoaXMubWVzc2FnZSE9PXVuZGVmaW5lZCYmaChcImRpdlwiLHtjbGFzczpcInRvYXN0LW1lc3NhZ2VcIixwYXJ0OlwibWVzc2FnZVwiLGlubmVySFRNTDpzYW5pdGl6ZURPTVN0cmluZyh0aGlzLm1lc3NhZ2UpfSkpLHRoaXMucmVuZGVyQnV0dG9ucyhvLFwiZW5kXCIpKSkpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0RWxlbWVudCh0aGlzKX0sZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZX0pO3JldHVybiB0fSgpO3ZhciBidXR0b25DbGFzcz1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4gT2JqZWN0LmFzc2lnbigoZT17XCJ0b2FzdC1idXR0b25cIjp0cnVlLFwidG9hc3QtYnV0dG9uLWljb24tb25seVwiOnQuaWNvbiE9PXVuZGVmaW5lZCYmdC50ZXh0PT09dW5kZWZpbmVkfSxlW1widG9hc3QtYnV0dG9uLVwiK3Qucm9sZV09dC5yb2xlIT09dW5kZWZpbmVkLGVbXCJpb24tZm9jdXNhYmxlXCJdPXRydWUsZVtcImlvbi1hY3RpdmF0YWJsZVwiXT10cnVlLGUpLGdldENsYXNzTWFwKHQuY3NzQ2xhc3MpKX07VG9hc3Quc3R5bGU9e2lvczp0b2FzdElvc0NzcyxtZDp0b2FzdE1kQ3NzfTt2YXIgbGFzdElkPTA7dmFyIGFjdGl2ZUFuaW1hdGlvbnM9bmV3IFdlYWtNYXA7dmFyIGNyZWF0ZUNvbnRyb2xsZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm57Y3JlYXRlOmZ1bmN0aW9uKHIpe3JldHVybiBjcmVhdGVPdmVybGF5KHQscixlKX0sZGlzbWlzczpmdW5jdGlvbihlLHIsaSl7cmV0dXJuIGRpc21pc3NPdmVybGF5KGRvY3VtZW50LGUscix0LGkpfSxnZXRUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oZSl7cmV0dXJuWzIsZ2V0T3ZlcmxheShkb2N1bWVudCx0KV19KSl9KSl9fX07dmFyIGFsZXJ0Q29udHJvbGxlcj1jcmVhdGVDb250cm9sbGVyKFwiaW9uLWFsZXJ0XCIsQWxlcnQpO3ZhciBhY3Rpb25TaGVldENvbnRyb2xsZXI9Y3JlYXRlQ29udHJvbGxlcihcImlvbi1hY3Rpb24tc2hlZXRcIixBY3Rpb25TaGVldCk7dmFyIGxvYWRpbmdDb250cm9sbGVyPWNyZWF0ZUNvbnRyb2xsZXIoXCJpb24tbG9hZGluZ1wiLExvYWRpbmcpO3ZhciBtb2RhbENvbnRyb2xsZXI9Y3JlYXRlQ29udHJvbGxlcihcImlvbi1tb2RhbFwiLE1vZGFsKTt2YXIgcGlja2VyQ29udHJvbGxlcj1jcmVhdGVDb250cm9sbGVyKFwiaW9uLXBpY2tlclwiLFBpY2tlcik7dmFyIHBvcG92ZXJDb250cm9sbGVyPWNyZWF0ZUNvbnRyb2xsZXIoXCJpb24tcG9wb3ZlclwiLFBvcG92ZXIpO3ZhciB0b2FzdENvbnRyb2xsZXI9Y3JlYXRlQ29udHJvbGxlcihcImlvbi10b2FzdFwiLFRvYXN0KTt2YXIgcHJlcGFyZU92ZXJsYXk9ZnVuY3Rpb24odCl7aWYodHlwZW9mIGRvY3VtZW50IT09XCJ1bmRlZmluZWRcIil7Y29ubmVjdExpc3RlbmVycyhkb2N1bWVudCl9dmFyIGU9bGFzdElkKys7dC5vdmVybGF5SW5kZXg9ZTtpZighdC5oYXNBdHRyaWJ1dGUoXCJpZFwiKSl7dC5pZD1cImlvbi1vdmVybGF5LVwiK2V9fTt2YXIgY3JlYXRlT3ZlcmxheT1mdW5jdGlvbih0LGUscil7aWYodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cyE9PVwidW5kZWZpbmVkXCIpe2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiJiZ3aW5kb3cuY3VzdG9tRWxlbWVudHMmJiF3aW5kb3cuY3VzdG9tRWxlbWVudHMuZ2V0KHQpKXt3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHQscil9cmV0dXJuIHdpbmRvdy5jdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZCh0KS50aGVuKChmdW5jdGlvbigpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7ci5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheS1oaWRkZW5cIik7T2JqZWN0LmFzc2lnbihyLE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7aGFzQ29udHJvbGxlcjp0cnVlfSkpO2dldEFwcFJvb3QoZG9jdW1lbnQpLmFwcGVuZENoaWxkKHIpO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIGNvbXBvbmVudE9uUmVhZHkocix0KX0pKX0pKX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O3ZhciBmb2N1c2FibGVRdWVyeVN0cmluZz0nW3RhYmluZGV4XTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pLCBpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSk6bm90KFt0YWJpbmRleF49XCItXCJdKSwgdGV4dGFyZWE6bm90KFt0YWJpbmRleF49XCItXCJdKSwgYnV0dG9uOm5vdChbdGFiaW5kZXhePVwiLVwiXSksIHNlbGVjdDpub3QoW3RhYmluZGV4Xj1cIi1cIl0pLCAuaW9uLWZvY3VzYWJsZTpub3QoW3RhYmluZGV4Xj1cIi1cIl0pJzt2YXIgaW5uZXJGb2N1c2FibGVRdWVyeVN0cmluZz1cImlucHV0Om5vdChbdHlwZT1oaWRkZW5dKSwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0XCI7dmFyIGZvY3VzRmlyc3REZXNjZW5kYW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5xdWVyeVNlbGVjdG9yKGZvY3VzYWJsZVF1ZXJ5U3RyaW5nKTt2YXIgaT1yJiZyLnNoYWRvd1Jvb3Q7aWYoaSl7cj1pLnF1ZXJ5U2VsZWN0b3IoaW5uZXJGb2N1c2FibGVRdWVyeVN0cmluZyl8fHJ9aWYocil7Zm9jdXNFbGVtZW50KHIpfWVsc2V7ZS5mb2N1cygpfX07dmFyIGZvY3VzTGFzdERlc2NlbmRhbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1BcnJheS5mcm9tKHQucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVRdWVyeVN0cmluZykpO3ZhciBpPXIubGVuZ3RoPjA/cltyLmxlbmd0aC0xXTpudWxsO3ZhciBvPWkmJmkuc2hhZG93Um9vdDtpZihvKXtpPW8ucXVlcnlTZWxlY3Rvcihpbm5lckZvY3VzYWJsZVF1ZXJ5U3RyaW5nKXx8aX1pZihpKXtpLmZvY3VzKCl9ZWxzZXtlLmZvY3VzKCl9fTt2YXIgdHJhcEtleWJvYXJkRm9jdXM9ZnVuY3Rpb24odCxlKXt2YXIgcj1nZXRPdmVybGF5KGUpO3ZhciBpPXQudGFyZ2V0O2lmKCFyfHwhaSl7cmV0dXJufXZhciBvPWZ1bmN0aW9uKCl7aWYocj09PWkpe3IubGFzdEZvY3VzPXVuZGVmaW5lZH1lbHNle3ZhciB0PWdldEVsZW1lbnRSb290KHIpO2lmKCF0LmNvbnRhaW5zKGkpKXtyZXR1cm59dmFyIG89dC5xdWVyeVNlbGVjdG9yKFwiLmlvbi1vdmVybGF5LXdyYXBwZXJcIik7aWYoIW8pe3JldHVybn1pZihvLmNvbnRhaW5zKGkpKXtyLmxhc3RGb2N1cz1pfWVsc2V7dmFyIG49ci5sYXN0Rm9jdXM7Zm9jdXNGaXJzdERlc2NlbmRhbnQobyxyKTtpZihuPT09ZS5hY3RpdmVFbGVtZW50KXtmb2N1c0xhc3REZXNjZW5kYW50KG8scil9ci5sYXN0Rm9jdXM9ZS5hY3RpdmVFbGVtZW50fX19O3ZhciBuPWZ1bmN0aW9uKCl7aWYoci5jb250YWlucyhpKSl7ci5sYXN0Rm9jdXM9aX1lbHNle3ZhciB0PXIubGFzdEZvY3VzO2ZvY3VzRmlyc3REZXNjZW5kYW50KHIscik7aWYodD09PWUuYWN0aXZlRWxlbWVudCl7Zm9jdXNMYXN0RGVzY2VuZGFudChyLHIpfXIubGFzdEZvY3VzPWUuYWN0aXZlRWxlbWVudH19O2lmKHIuc2hhZG93Um9vdCl7bigpfWVsc2V7bygpfX07dmFyIGNvbm5lY3RMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7aWYobGFzdElkPT09MCl7bGFzdElkPTE7dC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIHRyYXBLZXlib2FyZEZvY3VzKGUsdCl9KSx0cnVlKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJpb25CYWNrQnV0dG9uXCIsKGZ1bmN0aW9uKGUpe3ZhciByPWdldFRvcE9wZW5PdmVybGF5KHQpO2lmKHImJnIuYmFja2Ryb3BEaXNtaXNzKXtlLmRldGFpbC5yZWdpc3RlcihPVkVSTEFZX0JBQ0tfQlVUVE9OX1BSSU9SSVRZLChmdW5jdGlvbigpe3JldHVybiByLmRpc21pc3ModW5kZWZpbmVkLEJBQ0tEUk9QKX0pKX19KSk7dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwoZnVuY3Rpb24oZSl7aWYoZS5rZXk9PT1cIkVzY2FwZVwiKXt2YXIgcj1nZXRUb3BPcGVuT3ZlcmxheSh0KTtpZihyJiZyLmJhY2tkcm9wRGlzbWlzcyl7ci5kaXNtaXNzKHVuZGVmaW5lZCxCQUNLRFJPUCl9fX0pKX19O3ZhciBkaXNtaXNzT3ZlcmxheT1mdW5jdGlvbih0LGUscixpLG8pe3ZhciBuPWdldE92ZXJsYXkodCxpLG8pO2lmKCFuKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoXCJvdmVybGF5IGRvZXMgbm90IGV4aXN0XCIpfXJldHVybiBuLmRpc21pc3MoZSxyKX07dmFyIGdldE92ZXJsYXlzPWZ1bmN0aW9uKHQsZSl7aWYoZT09PXVuZGVmaW5lZCl7ZT1cImlvbi1hbGVydCxpb24tYWN0aW9uLXNoZWV0LGlvbi1sb2FkaW5nLGlvbi1tb2RhbCxpb24tcGlja2VyLGlvbi1wb3BvdmVyLGlvbi10b2FzdFwifXJldHVybiBBcnJheS5mcm9tKHQucXVlcnlTZWxlY3RvckFsbChlKSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5vdmVybGF5SW5kZXg+MH0pKX07dmFyIGdldFRvcE9wZW5PdmVybGF5PWZ1bmN0aW9uKHQpe3ZhciBlPWdldE92ZXJsYXlzKHQpO2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgaT1lW3JdO2lmKCFpLmNsYXNzTGlzdC5jb250YWlucyhcIm92ZXJsYXktaGlkZGVuXCIpKXtyZXR1cm4gaX19cmV0dXJufTt2YXIgZ2V0T3ZlcmxheT1mdW5jdGlvbih0LGUscil7dmFyIGk9Z2V0T3ZlcmxheXModCxlKTtyZXR1cm4gcj09PXVuZGVmaW5lZD9pW2kubGVuZ3RoLTFdOmkuZmluZCgoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWQ9PT1yfSkpfTt2YXIgc2V0Um9vdEFyaWFIaWRkZW49ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCl7dD1mYWxzZX12YXIgZT1nZXRBcHBSb290KGRvY3VtZW50KTt2YXIgcj1lLnF1ZXJ5U2VsZWN0b3IoXCJpb24tcm91dGVyLW91dGxldCwgaW9uLW5hdiwgI2lvbi12aWV3LWNvbnRhaW5lci1yb290XCIpO2lmKCFyKXtyZXR1cm59aWYodCl7ci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKX1lbHNle3IucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIil9fTt2YXIgcHJlc2VudD1mdW5jdGlvbih0LGUscixpLG8pe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIG4sYSxzLGwsZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYyl7c3dpdGNoKGMubGFiZWwpe2Nhc2UgMDppZih0LnByZXNlbnRlZCl7cmV0dXJuWzJdfXNldFJvb3RBcmlhSGlkZGVuKHRydWUpO3QucHJlc2VudGVkPXRydWU7dC53aWxsUHJlc2VudC5lbWl0KCk7KG49dC53aWxsUHJlc2VudFNob3J0aGFuZCk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmVtaXQoKTtzPWdldElvbk1vZGUodCk7bD10LmVudGVyQW5pbWF0aW9uP3QuZW50ZXJBbmltYXRpb246Y29uZmlnLmdldChlLHM9PT1cImlvc1wiP3I6aSk7cmV0dXJuWzQsb3ZlcmxheUFuaW1hdGlvbih0LGwsdC5lbCxvKV07Y2FzZSAxOmQ9Yy5zZW50KCk7aWYoZCl7dC5kaWRQcmVzZW50LmVtaXQoKTsoYT10LmRpZFByZXNlbnRTaG9ydGhhbmQpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5lbWl0KCl9aWYodC5lbC50YWdOYW1lIT09XCJJT04tVE9BU1RcIil7Zm9jdXNQcmV2aW91c0VsZW1lbnRPbkRpc21pc3ModC5lbCl9aWYodC5rZXlib2FyZENsb3NlKXt0LmVsLmZvY3VzKCl9cmV0dXJuWzJdfX0pKX0pKX07dmFyIGZvY3VzUHJldmlvdXNFbGVtZW50T25EaXNtaXNzPWZ1bmN0aW9uKHQpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIGUscjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oaSl7c3dpdGNoKGkubGFiZWwpe2Nhc2UgMDplPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7aWYoIWUpe3JldHVyblsyXX1yPWUmJmUuc2hhZG93Um9vdDtpZihyKXtlPXIucXVlcnlTZWxlY3Rvcihpbm5lckZvY3VzYWJsZVF1ZXJ5U3RyaW5nKXx8ZX1yZXR1cm5bNCx0Lm9uRGlkRGlzbWlzcygpXTtjYXNlIDE6aS5zZW50KCk7ZS5mb2N1cygpO3JldHVyblsyXX19KSl9KSl9O3ZhciBkaXNtaXNzPWZ1bmN0aW9uKHQsZSxyLGksbyxuLGEpe3JldHVybiBfX2F3YWl0ZXIodm9pZCAwLHZvaWQgMCx2b2lkIDAsKGZ1bmN0aW9uKCl7dmFyIHMsbCxkLGMscDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24odSl7c3dpdGNoKHUubGFiZWwpe2Nhc2UgMDppZighdC5wcmVzZW50ZWQpe3JldHVyblsyLGZhbHNlXX1zZXRSb290QXJpYUhpZGRlbihmYWxzZSk7dC5wcmVzZW50ZWQ9ZmFsc2U7dS5sYWJlbD0xO2Nhc2UgMTp1LnRyeXMucHVzaChbMSw0LCw1XSk7dC5lbC5zdHlsZS5zZXRQcm9wZXJ0eShcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpO3Qud2lsbERpc21pc3MuZW1pdCh7ZGF0YTplLHJvbGU6cn0pOyhzPXQud2lsbERpc21pc3NTaG9ydGhhbmQpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5lbWl0KHtkYXRhOmUscm9sZTpyfSk7ZD1nZXRJb25Nb2RlKHQpO2M9dC5sZWF2ZUFuaW1hdGlvbj90LmxlYXZlQW5pbWF0aW9uOmNvbmZpZy5nZXQoaSxkPT09XCJpb3NcIj9vOm4pO2lmKCEociE9PVwiZ2VzdHVyZVwiKSlyZXR1cm5bMywzXTtyZXR1cm5bNCxvdmVybGF5QW5pbWF0aW9uKHQsYyx0LmVsLGEpXTtjYXNlIDI6dS5zZW50KCk7dS5sYWJlbD0zO2Nhc2UgMzp0LmRpZERpc21pc3MuZW1pdCh7ZGF0YTplLHJvbGU6cn0pOyhsPXQuZGlkRGlzbWlzc1Nob3J0aGFuZCk9PT1udWxsfHxsPT09dm9pZCAwP3ZvaWQgMDpsLmVtaXQoe2RhdGE6ZSxyb2xlOnJ9KTthY3RpdmVBbmltYXRpb25zLmRlbGV0ZSh0KTt0LmVsLmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5LWhpZGRlblwiKTtyZXR1cm5bMyw1XTtjYXNlIDQ6cD11LnNlbnQoKTtjb25zb2xlLmVycm9yKHApO3JldHVyblszLDVdO2Nhc2UgNTp0LmVsLnJlbW92ZSgpO3JldHVyblsyLHRydWVdfX0pKX0pKX07dmFyIGdldEFwcFJvb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIHQucXVlcnlTZWxlY3RvcihcImlvbi1hcHBcIil8fHQuYm9keX07dmFyIG92ZXJsYXlBbmltYXRpb249ZnVuY3Rpb24odCxlLHIsaSl7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbyxuLGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsKGZ1bmN0aW9uKHMpe3N3aXRjaChzLmxhYmVsKXtjYXNlIDA6ci5jbGFzc0xpc3QucmVtb3ZlKFwib3ZlcmxheS1oaWRkZW5cIik7bz10LmVsO249ZShvLGkpO2lmKCF0LmFuaW1hdGVkfHwhY29uZmlnLmdldEJvb2xlYW4oXCJhbmltYXRlZFwiLHRydWUpKXtuLmR1cmF0aW9uKDApfWlmKHQua2V5Ym9hcmRDbG9zZSl7bi5iZWZvcmVBZGRXcml0ZSgoZnVuY3Rpb24oKXt2YXIgdD1yLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDtpZih0JiZ0Lm1hdGNoZXMoXCJpbnB1dCxpb24taW5wdXQsIGlvbi10ZXh0YXJlYVwiKSl7dC5ibHVyKCl9fSkpfWE9YWN0aXZlQW5pbWF0aW9ucy5nZXQodCl8fFtdO2FjdGl2ZUFuaW1hdGlvbnMuc2V0KHQsX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLGEpLFtuXSkpO3JldHVybls0LG4ucGxheSgpXTtjYXNlIDE6cy5zZW50KCk7cmV0dXJuWzIsdHJ1ZV19fSkpfSkpfTt2YXIgZXZlbnRNZXRob2Q9ZnVuY3Rpb24odCxlKXt2YXIgcjt2YXIgaT1uZXcgUHJvbWlzZSgoZnVuY3Rpb24odCl7cmV0dXJuIHI9dH0pKTtvbmNlRXZlbnQodCxlLChmdW5jdGlvbih0KXtyKHQuZGV0YWlsKX0pKTtyZXR1cm4gaX07dmFyIG9uY2VFdmVudD1mdW5jdGlvbih0LGUscil7dmFyIGk9ZnVuY3Rpb24obyl7cmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUsaSk7cihvKX07YWRkRXZlbnRMaXN0ZW5lcih0LGUsaSl9O3ZhciBpc0NhbmNlbD1mdW5jdGlvbih0KXtyZXR1cm4gdD09PVwiY2FuY2VsXCJ8fHQ9PT1CQUNLRFJPUH07dmFyIGRlZmF1bHRHYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0KCl9O3ZhciBzYWZlQ2FsbD1mdW5jdGlvbih0LGUpe2lmKHR5cGVvZiB0PT09XCJmdW5jdGlvblwiKXt2YXIgcj1jb25maWcuZ2V0KFwiX3pvbmVHYXRlXCIsZGVmYXVsdEdhdGUpO3JldHVybiByKChmdW5jdGlvbigpe3RyeXtyZXR1cm4gdChlKX1jYXRjaCh0KXt0aHJvdyB0fX0pKX1yZXR1cm4gdW5kZWZpbmVkfTt2YXIgQkFDS0RST1A9XCJiYWNrZHJvcFwiO2V4cG9ydHtBY3Rpb25TaGVldCBhcyBBLExvYWRpbmcgYXMgTCxNb2RhbCBhcyBNLFBvcG92ZXIgYXMgUCxUb2FzdCBhcyBULGFsZXJ0Q29udHJvbGxlciBhcyBhLGFjdGlvblNoZWV0Q29udHJvbGxlciBhcyBiLHBvcG92ZXJDb250cm9sbGVyIGFzIGMsQWxlcnQgYXMgZCxQaWNrZXIgYXMgZSxsb2FkaW5nQ29udHJvbGxlciBhcyBsLG1vZGFsQ29udHJvbGxlciBhcyBtLHBpY2tlckNvbnRyb2xsZXIgYXMgcCxzYWZlQ2FsbCBhcyBzLHRvYXN0Q29udHJvbGxlciBhcyB0fTsiLCJpbXBvcnR7X19hd2FpdGVyLF9fZ2VuZXJhdG9yfWZyb21cInRzbGliXCI7XG4vKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL3ZhciBob3N0Q29udGV4dD1mdW5jdGlvbihyLHQpe3JldHVybiB0LmNsb3Nlc3QocikhPT1udWxsfTt2YXIgY3JlYXRlQ29sb3JDbGFzc2VzPWZ1bmN0aW9uKHIsdCl7dmFyIGU7cmV0dXJuIHR5cGVvZiByPT09XCJzdHJpbmdcIiYmci5sZW5ndGg+MD9PYmplY3QuYXNzaWduKChlPXtcImlvbi1jb2xvclwiOnRydWV9LGVbXCJpb24tY29sb3ItXCIrcl09dHJ1ZSxlKSx0KTp0fTt2YXIgZ2V0Q2xhc3NMaXN0PWZ1bmN0aW9uKHIpe2lmKHIhPT11bmRlZmluZWQpe3ZhciB0PUFycmF5LmlzQXJyYXkocik/cjpyLnNwbGl0KFwiIFwiKTtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByIT1udWxsfSkpLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIHIudHJpbSgpfSkpLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIhPT1cIlwifSkpfXJldHVybltdfTt2YXIgZ2V0Q2xhc3NNYXA9ZnVuY3Rpb24ocil7dmFyIHQ9e307Z2V0Q2xhc3NMaXN0KHIpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3JldHVybiB0W3JdPXRydWV9KSk7cmV0dXJuIHR9O3ZhciBTQ0hFTUU9L15bYS16XVthLXowLTkrXFwtLl0qOi87dmFyIG9wZW5VUkw9ZnVuY3Rpb24ocix0LGUsbil7cmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsdm9pZCAwLHZvaWQgMCwoZnVuY3Rpb24oKXt2YXIgbztyZXR1cm4gX19nZW5lcmF0b3IodGhpcywoZnVuY3Rpb24oYSl7aWYociE9bnVsbCYmclswXSE9PVwiI1wiJiYhU0NIRU1FLnRlc3Qocikpe289ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlvbi1yb3V0ZXJcIik7aWYobyl7aWYodCE9bnVsbCl7dC5wcmV2ZW50RGVmYXVsdCgpfXJldHVyblsyLG8ucHVzaChyLGUsbildfX1yZXR1cm5bMixmYWxzZV19KSl9KSl9O2V4cG9ydHtjcmVhdGVDb2xvckNsYXNzZXMgYXMgYyxnZXRDbGFzc01hcCBhcyBnLGhvc3RDb250ZXh0IGFzIGgsb3BlblVSTCBhcyBvfTsiLCJ2YXIgbWFwID0ge1xuXHRcIi4vaW9uLWFjY29yZGlvbl8yLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWFjY29yZGlvbl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tYWNjb3JkaW9uXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWFjdGlvbi1zaGVldC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1hY3Rpb24tc2hlZXQuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tYWN0aW9uLXNoZWV0X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1hbGVydC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1hbGVydC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1hbGVydF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYXBwXzguZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tYXBwXzguZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1hcHBfOF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYXZhdGFyXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tYXZhdGFyXzMuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tYXZhdGFyXzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWJhY2stYnV0dG9uLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWJhY2stYnV0dG9uLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tYmFjay1idXR0b25fZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWJhY2tkcm9wLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWJhY2tkcm9wLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWJhY2tkcm9wX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1icmVhZGNydW1iXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tYnJlYWRjcnVtYl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tYnJlYWRjcnVtYl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1idXR0b25fMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1idXR0b25fMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWJ1dHRvbl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1jYXJkXzUuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tY2FyZF81LmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tY2FyZF81X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1jaGVja2JveC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1jaGVja2JveC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1jaGVja2JveF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tY2hpcC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1jaGlwLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWNoaXBfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWNvbF8zLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWNvbF8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tY29sXzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWRhdGV0aW1lXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tZGF0ZXRpbWVfMy5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWRhdGV0aW1lXzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWZhYl8zLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWZhYl8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tZmFiXzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWltZy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1pbWcuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24taW1nX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1pbmZpbml0ZS1zY3JvbGxfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1pbmZpbml0ZS1zY3JvbGxfMi5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1pbmZpbml0ZS1zY3JvbGxfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24taW5wdXQuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24taW5wdXQuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1pbnB1dF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24taXRlbS1vcHRpb25fMy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1pdGVtLW9wdGlvbl8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24taXRlbS1vcHRpb25fM19lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24taXRlbV84LmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLWl0ZW1fOC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWl0ZW1fOF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tbG9hZGluZy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1sb2FkaW5nLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLWxvYWRpbmdfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLW1lbnVfMy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1tZW51XzMuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1tZW51XzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLW1vZGFsLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLW1vZGFsLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLW1vZGFsX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1uYXZfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1uYXZfMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLW5hdl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1waWNrZXItY29sdW1uLWludGVybmFsLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWwuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcGlja2VyLWNvbHVtbi1pbnRlcm5hbF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcGlja2VyLWludGVybmFsLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXBpY2tlci1pbnRlcm5hbC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXBpY2tlci1pbnRlcm5hbF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcG9wb3Zlci5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1wb3BvdmVyLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXBvcG92ZXJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXByb2dyZXNzLWJhci5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1wcm9ncmVzcy1iYXIuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1wcm9ncmVzcy1iYXJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXJhZGlvXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tcmFkaW9fMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXJhZGlvXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXJhbmdlLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXJhbmdlLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcmFuZ2VfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXJlZnJlc2hlcl8yLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXJlZnJlc2hlcl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcmVmcmVzaGVyXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXJlb3JkZXJfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1yZW9yZGVyXzIuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcmVvcmRlcl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1yaXBwbGUtZWZmZWN0LmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXJpcHBsZS1lZmZlY3QuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcmlwcGxlLWVmZmVjdF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcm91dGVfNC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1yb3V0ZV80LmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tcm91dGVfNF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2VhcmNoYmFyLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXNlYXJjaGJhci5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXNlYXJjaGJhcl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2VnbWVudF8yLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXNlZ21lbnRfMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXNlZ21lbnRfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2VsZWN0XzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tc2VsZWN0XzMuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1zZWxlY3RfM19lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2xpZGVfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1zbGlkZV8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tc2xpZGVfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc3Bpbm5lci5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi1zcGlubmVyLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXNwaW5uZXJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXNwbGl0LXBhbmUuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tc3BsaXQtcGFuZS5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi1zcGxpdC1wYW5lX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi10YWItYmFyXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tdGFiLWJhcl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tdGFiLWJhcl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi10YWJfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi10YWJfMi5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc20tZXM1X2lvbi10YWJfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tdGV4dC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi10ZXh0LmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXRleHRfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXRleHRhcmVhLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXRleHRhcmVhLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tdGV4dGFyZWFfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXRvYXN0LmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS1lczUvaW9uLXRvYXN0LmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXRvYXN0X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi10b2dnbGUuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNS9pb24tdG9nZ2xlLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtLWVzNV9pb24tdG9nZ2xlX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi12aXJ0dWFsLXNjcm9sbC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20tZXM1L2lvbi12aXJ0dWFsLXNjcm9sbC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbS1lczVfaW9uLXZpcnR1YWwtc2Nyb2xsX2VudHJ5X2pzXCJcblx0XVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpZHMgPSBtYXBbcmVxXSwgaWQgPSBpZHNbMF07XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKCgpID0+IHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gKCkgPT4gKE9iamVjdC5rZXlzKG1hcCkpO1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtLWVzNSBsYXp5IHJlY3Vyc2l2ZSBeXFxcXC5cXFxcLy4qXFxcXC5lbnRyeVxcXFwuanMkXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tBc3luY0NvbnRleHQ7IiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmFmIH0gZnJvbSAnLi9oZWxwZXJzLWVlZDc5YTJiLmpzJztcblxubGV0IGFuaW1hdGlvblByZWZpeDtcbi8qKlxuICogV2ViIEFuaW1hdGlvbnMgcmVxdWlyZXMgaHlwaGVuYXRlZCBDU1MgcHJvcGVydGllc1xuICogdG8gYmUgd3JpdHRlbiBpbiBjYW1lbENhc2Ugd2hlbiBhbmltYXRpbmdcbiAqL1xuY29uc3QgcHJvY2Vzc0tleWZyYW1lcyA9IChrZXlmcmFtZXMpID0+IHtcbiAga2V5ZnJhbWVzLmZvckVhY2goa2V5ZnJhbWUgPT4ge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGtleWZyYW1lKSB7XG4gICAgICBpZiAoa2V5ZnJhbWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGtleWZyYW1lW2tleV07XG4gICAgICAgIGlmIChrZXkgPT09ICdlYXNpbmcnKSB7XG4gICAgICAgICAgY29uc3QgbmV3S2V5ID0gJ2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nO1xuICAgICAgICAgIGtleWZyYW1lW25ld0tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkZWxldGUga2V5ZnJhbWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdLZXkgPSBjb252ZXJ0Q2FtZWxDYXNlVG9IeXBlbihrZXkpO1xuICAgICAgICAgIGlmIChuZXdLZXkgIT09IGtleSkge1xuICAgICAgICAgICAga2V5ZnJhbWVbbmV3S2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgZGVsZXRlIGtleWZyYW1lW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGtleWZyYW1lcztcbn07XG5jb25zdCBjb252ZXJ0Q2FtZWxDYXNlVG9IeXBlbiA9IChzdHIpID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xufTtcbmNvbnN0IGdldEFuaW1hdGlvblByZWZpeCA9IChlbCkgPT4ge1xuICBpZiAoYW5pbWF0aW9uUHJlZml4ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBzdXBwb3J0c1VucHJlZml4ZWQgPSBlbC5zdHlsZS5hbmltYXRpb25OYW1lICE9PSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc3VwcG9ydHNXZWJraXRQcmVmaXggPSBlbC5zdHlsZS53ZWJraXRBbmltYXRpb25OYW1lICE9PSB1bmRlZmluZWQ7XG4gICAgYW5pbWF0aW9uUHJlZml4ID0gKCFzdXBwb3J0c1VucHJlZml4ZWQgJiYgc3VwcG9ydHNXZWJraXRQcmVmaXgpID8gJy13ZWJraXQtJyA6ICcnO1xuICB9XG4gIHJldHVybiBhbmltYXRpb25QcmVmaXg7XG59O1xuY29uc3Qgc2V0U3R5bGVQcm9wZXJ0eSA9IChlbGVtZW50LCBwcm9wZXJ0eU5hbWUsIHZhbHVlKSA9PiB7XG4gIGNvbnN0IHByZWZpeCA9IHByb3BlcnR5TmFtZS5zdGFydHNXaXRoKCdhbmltYXRpb24nKSA/IGdldEFuaW1hdGlvblByZWZpeChlbGVtZW50KSA6ICcnO1xuICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByZWZpeCArIHByb3BlcnR5TmFtZSwgdmFsdWUpO1xufTtcbmNvbnN0IHJlbW92ZVN0eWxlUHJvcGVydHkgPSAoZWxlbWVudCwgcHJvcGVydHlOYW1lKSA9PiB7XG4gIGNvbnN0IHByZWZpeCA9IHByb3BlcnR5TmFtZS5zdGFydHNXaXRoKCdhbmltYXRpb24nKSA/IGdldEFuaW1hdGlvblByZWZpeChlbGVtZW50KSA6ICcnO1xuICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KHByZWZpeCArIHByb3BlcnR5TmFtZSk7XG59O1xuY29uc3QgYW5pbWF0aW9uRW5kID0gKGVsLCBjYWxsYmFjaykgPT4ge1xuICBsZXQgdW5SZWdUcmFucztcbiAgY29uc3Qgb3B0cyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICBjb25zdCB1bnJlZ2lzdGVyID0gKCkgPT4ge1xuICAgIGlmICh1blJlZ1RyYW5zKSB7XG4gICAgICB1blJlZ1RyYW5zKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvblRyYW5zaXRpb25FbmQgPSAoZXYpID0+IHtcbiAgICBpZiAoZWwgPT09IGV2LnRhcmdldCkge1xuICAgICAgdW5yZWdpc3RlcigpO1xuICAgICAgY2FsbGJhY2soZXYpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgb25UcmFuc2l0aW9uRW5kLCBvcHRzKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQsIG9wdHMpO1xuICAgIHVuUmVnVHJhbnMgPSAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRBbmltYXRpb25FbmQnLCBvblRyYW5zaXRpb25FbmQsIG9wdHMpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgb25UcmFuc2l0aW9uRW5kLCBvcHRzKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB1bnJlZ2lzdGVyO1xufTtcbmNvbnN0IGdlbmVyYXRlS2V5ZnJhbWVSdWxlcyA9IChrZXlmcmFtZXMgPSBbXSkgPT4ge1xuICByZXR1cm4ga2V5ZnJhbWVzLm1hcChrZXlmcmFtZSA9PiB7XG4gICAgY29uc3Qgb2Zmc2V0ID0ga2V5ZnJhbWUub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lU3RyaW5nID0gW107XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBrZXlmcmFtZSkge1xuICAgICAgaWYgKGtleWZyYW1lLmhhc093blByb3BlcnR5KHByb3BlcnR5KSAmJiBwcm9wZXJ0eSAhPT0gJ29mZnNldCcpIHtcbiAgICAgICAgZnJhbWVTdHJpbmcucHVzaChgJHtwcm9wZXJ0eX06ICR7a2V5ZnJhbWVbcHJvcGVydHldfTtgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGAke29mZnNldCAqIDEwMH0lIHsgJHtmcmFtZVN0cmluZy5qb2luKCcgJyl9IH1gO1xuICB9KS5qb2luKCcgJyk7XG59O1xuY29uc3Qga2V5ZnJhbWVJZHMgPSBbXTtcbmNvbnN0IGdlbmVyYXRlS2V5ZnJhbWVOYW1lID0gKGtleWZyYW1lUnVsZXMpID0+IHtcbiAgbGV0IGluZGV4ID0ga2V5ZnJhbWVJZHMuaW5kZXhPZihrZXlmcmFtZVJ1bGVzKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIGluZGV4ID0gKGtleWZyYW1lSWRzLnB1c2goa2V5ZnJhbWVSdWxlcykgLSAxKTtcbiAgfVxuICByZXR1cm4gYGlvbi1hbmltYXRpb24tJHtpbmRleH1gO1xufTtcbmNvbnN0IGdldFN0eWxlQ29udGFpbmVyID0gKGVsZW1lbnQpID0+IHtcbiAgY29uc3Qgcm9vdE5vZGUgPSBlbGVtZW50LmdldFJvb3ROb2RlKCk7XG4gIHJldHVybiAocm9vdE5vZGUuaGVhZCB8fCByb290Tm9kZSk7XG59O1xuY29uc3QgY3JlYXRlS2V5ZnJhbWVTdHlsZXNoZWV0ID0gKGtleWZyYW1lTmFtZSwga2V5ZnJhbWVSdWxlcywgZWxlbWVudCkgPT4ge1xuICBjb25zdCBzdHlsZUNvbnRhaW5lciA9IGdldFN0eWxlQ29udGFpbmVyKGVsZW1lbnQpO1xuICBjb25zdCBrZXlmcmFtZVByZWZpeCA9IGdldEFuaW1hdGlvblByZWZpeChlbGVtZW50KTtcbiAgY29uc3QgZXhpc3RpbmdTdHlsZXNoZWV0ID0gc3R5bGVDb250YWluZXIucXVlcnlTZWxlY3RvcignIycgKyBrZXlmcmFtZU5hbWUpO1xuICBpZiAoZXhpc3RpbmdTdHlsZXNoZWV0KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nU3R5bGVzaGVldDtcbiAgfVxuICBjb25zdCBzdHlsZXNoZWV0ID0gKGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgc3R5bGVzaGVldC5pZCA9IGtleWZyYW1lTmFtZTtcbiAgc3R5bGVzaGVldC50ZXh0Q29udGVudCA9IGBAJHtrZXlmcmFtZVByZWZpeH1rZXlmcmFtZXMgJHtrZXlmcmFtZU5hbWV9IHsgJHtrZXlmcmFtZVJ1bGVzfSB9IEAke2tleWZyYW1lUHJlZml4fWtleWZyYW1lcyAke2tleWZyYW1lTmFtZX0tYWx0IHsgJHtrZXlmcmFtZVJ1bGVzfSB9YDtcbiAgc3R5bGVDb250YWluZXIuYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG4gIHJldHVybiBzdHlsZXNoZWV0O1xufTtcbmNvbnN0IGFkZENsYXNzVG9BcnJheSA9IChjbGFzc2VzID0gW10sIGNsYXNzTmFtZSkgPT4ge1xuICBpZiAoY2xhc3NOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBjbGFzc05hbWVUb0FwcGVuZCA9IChBcnJheS5pc0FycmF5KGNsYXNzTmFtZSkpID8gY2xhc3NOYW1lIDogW2NsYXNzTmFtZV07XG4gICAgcmV0dXJuIFsuLi5jbGFzc2VzLCAuLi5jbGFzc05hbWVUb0FwcGVuZF07XG4gIH1cbiAgcmV0dXJuIGNsYXNzZXM7XG59O1xuXG5jb25zdCBjcmVhdGVBbmltYXRpb24gPSAoYW5pbWF0aW9uSWQpID0+IHtcbiAgbGV0IF9kZWxheTtcbiAgbGV0IF9kdXJhdGlvbjtcbiAgbGV0IF9lYXNpbmc7XG4gIGxldCBfaXRlcmF0aW9ucztcbiAgbGV0IF9maWxsO1xuICBsZXQgX2RpcmVjdGlvbjtcbiAgbGV0IF9rZXlmcmFtZXMgPSBbXTtcbiAgbGV0IGJlZm9yZUFkZENsYXNzZXMgPSBbXTtcbiAgbGV0IGJlZm9yZVJlbW92ZUNsYXNzZXMgPSBbXTtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBwYXJlbnRBbmltYXRpb247XG4gIGxldCBiZWZvcmVTdHlsZXNWYWx1ZSA9IHt9O1xuICBsZXQgYWZ0ZXJBZGRDbGFzc2VzID0gW107XG4gIGxldCBhZnRlclJlbW92ZUNsYXNzZXMgPSBbXTtcbiAgbGV0IGFmdGVyU3R5bGVzVmFsdWUgPSB7fTtcbiAgbGV0IG51bUFuaW1hdGlvbnNSdW5uaW5nID0gMDtcbiAgbGV0IHNob3VsZEZvcmNlTGluZWFyRWFzaW5nID0gZmFsc2U7XG4gIGxldCBzaG91bGRGb3JjZVN5bmNQbGF5YmFjayA9IGZhbHNlO1xuICBsZXQgY3NzQW5pbWF0aW9uc1RpbWVyRmFsbGJhY2s7XG4gIGxldCBmb3JjZURpcmVjdGlvblZhbHVlO1xuICBsZXQgZm9yY2VEdXJhdGlvblZhbHVlO1xuICBsZXQgZm9yY2VEZWxheVZhbHVlO1xuICBsZXQgd2lsbENvbXBsZXRlID0gdHJ1ZTtcbiAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgbGV0IGtleWZyYW1lTmFtZTtcbiAgbGV0IGFuaTtcbiAgY29uc3QgaWQgPSBhbmltYXRpb25JZDtcbiAgY29uc3Qgb25GaW5pc2hDYWxsYmFja3MgPSBbXTtcbiAgY29uc3Qgb25GaW5pc2hPbmVUaW1lQ2FsbGJhY2tzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gW107XG4gIGNvbnN0IGNoaWxkQW5pbWF0aW9ucyA9IFtdO1xuICBjb25zdCBzdHlsZXNoZWV0cyA9IFtdO1xuICBjb25zdCBfYmVmb3JlQWRkUmVhZEZ1bmN0aW9ucyA9IFtdO1xuICBjb25zdCBfYmVmb3JlQWRkV3JpdGVGdW5jdGlvbnMgPSBbXTtcbiAgY29uc3QgX2FmdGVyQWRkUmVhZEZ1bmN0aW9ucyA9IFtdO1xuICBjb25zdCBfYWZ0ZXJBZGRXcml0ZUZ1bmN0aW9ucyA9IFtdO1xuICBjb25zdCB3ZWJBbmltYXRpb25zID0gW107XG4gIGNvbnN0IHN1cHBvcnRzQW5pbWF0aW9uRWZmZWN0ID0gKHR5cGVvZiBBbmltYXRpb25FZmZlY3QgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHdpbmRvdy5BbmltYXRpb25FZmZlY3QgPT09ICdmdW5jdGlvbicpO1xuICBjb25zdCBzdXBwb3J0c1dlYkFuaW1hdGlvbnMgPSAodHlwZW9mIEVsZW1lbnQgPT09ICdmdW5jdGlvbicpICYmICh0eXBlb2YgRWxlbWVudC5wcm90b3R5cGUuYW5pbWF0ZSA9PT0gJ2Z1bmN0aW9uJykgJiYgc3VwcG9ydHNBbmltYXRpb25FZmZlY3Q7XG4gIGNvbnN0IEFOSU1BVElPTl9FTkRfRkFMTEJBQ0tfUEFERElOR19NUyA9IDEwMDtcbiAgY29uc3QgZ2V0V2ViQW5pbWF0aW9ucyA9ICgpID0+IHtcbiAgICByZXR1cm4gd2ViQW5pbWF0aW9ucztcbiAgfTtcbiAgY29uc3QgZGVzdHJveSA9IChjbGVhclN0eWxlU2hlZXRzKSA9PiB7XG4gICAgY2hpbGRBbmltYXRpb25zLmZvckVhY2goY2hpbGRBbmltYXRpb24gPT4ge1xuICAgICAgY2hpbGRBbmltYXRpb24uZGVzdHJveShjbGVhclN0eWxlU2hlZXRzKTtcbiAgICB9KTtcbiAgICBjbGVhblVwKGNsZWFyU3R5bGVTaGVldHMpO1xuICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XG4gICAgY2hpbGRBbmltYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgX2tleWZyYW1lcy5sZW5ndGggPSAwO1xuICAgIGNsZWFyT25GaW5pc2goKTtcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHNob3VsZENhbGN1bGF0ZU51bUFuaW1hdGlvbnMgPSB0cnVlO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIC8qKlxuICAgKiBDYW5jZWxzIGFueSBXZWIgQW5pbWF0aW9ucywgcmVtb3Zlc1xuICAgKiBhbnkgYW5pbWF0aW9uIHByb3BlcnRpZXMgZnJvbSB0aGVcbiAgICogYW5pbWF0aW9uJ3MgZWxlbWVudHMsIGFuZCByZW1vdmVzIHRoZVxuICAgKiBhbmltYXRpb24ncyBzdHlsZXNoZWV0cyBmcm9tIHRoZSBET00uXG4gICAqL1xuICBjb25zdCBjbGVhblVwID0gKGNsZWFyU3R5bGVTaGVldHMpID0+IHtcbiAgICBjbGVhblVwRWxlbWVudHMoKTtcbiAgICBpZiAoY2xlYXJTdHlsZVNoZWV0cykge1xuICAgICAgY2xlYW5VcFN0eWxlU2hlZXRzKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZXNldEZsYWdzID0gKCkgPT4ge1xuICAgIHNob3VsZEZvcmNlTGluZWFyRWFzaW5nID0gZmFsc2U7XG4gICAgc2hvdWxkRm9yY2VTeW5jUGxheWJhY2sgPSBmYWxzZTtcbiAgICBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgICBmb3JjZURpcmVjdGlvblZhbHVlID0gdW5kZWZpbmVkO1xuICAgIGZvcmNlRHVyYXRpb25WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICBmb3JjZURlbGF5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgbnVtQW5pbWF0aW9uc1J1bm5pbmcgPSAwO1xuICAgIGZpbmlzaGVkID0gZmFsc2U7XG4gICAgd2lsbENvbXBsZXRlID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3Qgb25GaW5pc2ggPSAoY2FsbGJhY2ssIG9wdHMpID0+IHtcbiAgICBjb25zdCBjYWxsYmFja3MgPSAob3B0cyAmJiBvcHRzLm9uZVRpbWVDYWxsYmFjaykgPyBvbkZpbmlzaE9uZVRpbWVDYWxsYmFja3MgOiBvbkZpbmlzaENhbGxiYWNrcztcbiAgICBjYWxsYmFja3MucHVzaCh7IGM6IGNhbGxiYWNrLCBvOiBvcHRzIH0pO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGNsZWFyT25GaW5pc2ggPSAoKSA9PiB7XG4gICAgb25GaW5pc2hDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICBvbkZpbmlzaE9uZVRpbWVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICAvKipcbiAgICogQ2FuY2VscyBhbnkgV2ViIEFuaW1hdGlvbnMgYW5kIHJlbW92ZXNcbiAgICogYW55IGFuaW1hdGlvbiBwcm9wZXJ0aWVzIGZyb20gdGhlXG4gICAqIHRoZSBhbmltYXRpb24ncyBlbGVtZW50cy5cbiAgICovXG4gIGNvbnN0IGNsZWFuVXBFbGVtZW50cyA9ICgpID0+IHtcbiAgICBpZiAoc3VwcG9ydHNXZWJBbmltYXRpb25zKSB7XG4gICAgICB3ZWJBbmltYXRpb25zLmZvckVhY2goYW5pbWF0aW9uID0+IHtcbiAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgfSk7XG4gICAgICB3ZWJBbmltYXRpb25zLmxlbmd0aCA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgZWxlbWVudHNBcnJheSA9IGVsZW1lbnRzLnNsaWNlKCk7XG4gICAgICByYWYoKCkgPT4ge1xuICAgICAgICBlbGVtZW50c0FycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgcmVtb3ZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLW5hbWUnKTtcbiAgICAgICAgICByZW1vdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tZHVyYXRpb24nKTtcbiAgICAgICAgICByZW1vdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJyk7XG4gICAgICAgICAgcmVtb3ZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcpO1xuICAgICAgICAgIHJlbW92ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1kZWxheScpO1xuICAgICAgICAgIHJlbW92ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJyk7XG4gICAgICAgICAgcmVtb3ZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWZpbGwtbW9kZScpO1xuICAgICAgICAgIHJlbW92ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1kaXJlY3Rpb24nKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBhbmltYXRpb24ncyBzdHlsZXNoZWV0c1xuICAgKiBmcm9tIHRoZSBET00uXG4gICAqL1xuICBjb25zdCBjbGVhblVwU3R5bGVTaGVldHMgPSAoKSA9PiB7XG4gICAgc3R5bGVzaGVldHMuZm9yRWFjaChzdHlsZXNoZWV0ID0+IHtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBzaGFyaW5nIHN0eWxlc2hlZXRzLCBpdCdzIHBvc3NpYmxlXG4gICAgICAgKiBmb3IgYW5vdGhlciBhbmltYXRpb24gdG8gaGF2ZSBhbHJlYWR5XG4gICAgICAgKiBjbGVhbmVkIHVwIGEgcGFydGljdWxhciBzdHlsZXNoZWV0XG4gICAgICAgKi9cbiAgICAgIGlmIChzdHlsZXNoZWV0ICYmIHN0eWxlc2hlZXQucGFyZW50Tm9kZSkge1xuICAgICAgICBzdHlsZXNoZWV0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVzaGVldCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3R5bGVzaGVldHMubGVuZ3RoID0gMDtcbiAgfTtcbiAgY29uc3QgYmVmb3JlQWRkUmVhZCA9IChyZWFkRm4pID0+IHtcbiAgICBfYmVmb3JlQWRkUmVhZEZ1bmN0aW9ucy5wdXNoKHJlYWRGbik7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgYmVmb3JlQWRkV3JpdGUgPSAod3JpdGVGbikgPT4ge1xuICAgIF9iZWZvcmVBZGRXcml0ZUZ1bmN0aW9ucy5wdXNoKHdyaXRlRm4pO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGFmdGVyQWRkUmVhZCA9IChyZWFkRm4pID0+IHtcbiAgICBfYWZ0ZXJBZGRSZWFkRnVuY3Rpb25zLnB1c2gocmVhZEZuKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBhZnRlckFkZFdyaXRlID0gKHdyaXRlRm4pID0+IHtcbiAgICBfYWZ0ZXJBZGRXcml0ZUZ1bmN0aW9ucy5wdXNoKHdyaXRlRm4pO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGJlZm9yZUFkZENsYXNzID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGJlZm9yZUFkZENsYXNzZXMgPSBhZGRDbGFzc1RvQXJyYXkoYmVmb3JlQWRkQ2xhc3NlcywgY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBiZWZvcmVSZW1vdmVDbGFzcyA9IChjbGFzc05hbWUpID0+IHtcbiAgICBiZWZvcmVSZW1vdmVDbGFzc2VzID0gYWRkQ2xhc3NUb0FycmF5KGJlZm9yZVJlbW92ZUNsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgLyoqXG4gICAqIFNldCBDU1MgaW5saW5lIHN0eWxlcyB0byB0aGUgYW5pbWF0aW9uJ3NcbiAgICogZWxlbWVudHMgYmVmb3JlIHRoZSBhbmltYXRpb24gYmVnaW5zLlxuICAgKi9cbiAgY29uc3QgYmVmb3JlU3R5bGVzID0gKHN0eWxlcyA9IHt9KSA9PiB7XG4gICAgYmVmb3JlU3R5bGVzVmFsdWUgPSBzdHlsZXM7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgLyoqXG4gICAqIENsZWFyIENTUyBpbmxpbmUgc3R5bGVzIGZyb20gdGhlIGFuaW1hdGlvbidzXG4gICAqIGVsZW1lbnRzIGJlZm9yZSB0aGUgYW5pbWF0aW9uIGJlZ2lucy5cbiAgICovXG4gIGNvbnN0IGJlZm9yZUNsZWFyU3R5bGVzID0gKHByb3BlcnR5TmFtZXMgPSBbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgcHJvcGVydHkgb2YgcHJvcGVydHlOYW1lcykge1xuICAgICAgYmVmb3JlU3R5bGVzVmFsdWVbcHJvcGVydHldID0gJyc7XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGFmdGVyQWRkQ2xhc3MgPSAoY2xhc3NOYW1lKSA9PiB7XG4gICAgYWZ0ZXJBZGRDbGFzc2VzID0gYWRkQ2xhc3NUb0FycmF5KGFmdGVyQWRkQ2xhc3NlcywgY2xhc3NOYW1lKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBhZnRlclJlbW92ZUNsYXNzID0gKGNsYXNzTmFtZSkgPT4ge1xuICAgIGFmdGVyUmVtb3ZlQ2xhc3NlcyA9IGFkZENsYXNzVG9BcnJheShhZnRlclJlbW92ZUNsYXNzZXMsIGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgYWZ0ZXJTdHlsZXMgPSAoc3R5bGVzID0ge30pID0+IHtcbiAgICBhZnRlclN0eWxlc1ZhbHVlID0gc3R5bGVzO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGFmdGVyQ2xlYXJTdHlsZXMgPSAocHJvcGVydHlOYW1lcyA9IFtdKSA9PiB7XG4gICAgZm9yIChjb25zdCBwcm9wZXJ0eSBvZiBwcm9wZXJ0eU5hbWVzKSB7XG4gICAgICBhZnRlclN0eWxlc1ZhbHVlW3Byb3BlcnR5XSA9ICcnO1xuICAgIH1cbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBnZXRGaWxsID0gKCkgPT4ge1xuICAgIGlmIChfZmlsbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gX2ZpbGw7XG4gICAgfVxuICAgIGlmIChwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgIHJldHVybiBwYXJlbnRBbmltYXRpb24uZ2V0RmlsbCgpO1xuICAgIH1cbiAgICByZXR1cm4gJ2JvdGgnO1xuICB9O1xuICBjb25zdCBnZXREaXJlY3Rpb24gPSAoKSA9PiB7XG4gICAgaWYgKGZvcmNlRGlyZWN0aW9uVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZvcmNlRGlyZWN0aW9uVmFsdWU7XG4gICAgfVxuICAgIGlmIChfZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBfZGlyZWN0aW9uO1xuICAgIH1cbiAgICBpZiAocGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICByZXR1cm4gcGFyZW50QW5pbWF0aW9uLmdldERpcmVjdGlvbigpO1xuICAgIH1cbiAgICByZXR1cm4gJ25vcm1hbCc7XG4gIH07XG4gIGNvbnN0IGdldEVhc2luZyA9ICgpID0+IHtcbiAgICBpZiAoc2hvdWxkRm9yY2VMaW5lYXJFYXNpbmcpIHtcbiAgICAgIHJldHVybiAnbGluZWFyJztcbiAgICB9XG4gICAgaWYgKF9lYXNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIF9lYXNpbmc7XG4gICAgfVxuICAgIGlmIChwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgIHJldHVybiBwYXJlbnRBbmltYXRpb24uZ2V0RWFzaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiAnbGluZWFyJztcbiAgfTtcbiAgY29uc3QgZ2V0RHVyYXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKHNob3VsZEZvcmNlU3luY1BsYXliYWNrKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKGZvcmNlRHVyYXRpb25WYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZm9yY2VEdXJhdGlvblZhbHVlO1xuICAgIH1cbiAgICBpZiAoX2R1cmF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBfZHVyYXRpb247XG4gICAgfVxuICAgIGlmIChwYXJlbnRBbmltYXRpb24pIHtcbiAgICAgIHJldHVybiBwYXJlbnRBbmltYXRpb24uZ2V0RHVyYXRpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG4gIGNvbnN0IGdldEl0ZXJhdGlvbnMgPSAoKSA9PiB7XG4gICAgaWYgKF9pdGVyYXRpb25zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBfaXRlcmF0aW9ucztcbiAgICB9XG4gICAgaWYgKHBhcmVudEFuaW1hdGlvbikge1xuICAgICAgcmV0dXJuIHBhcmVudEFuaW1hdGlvbi5nZXRJdGVyYXRpb25zKCk7XG4gICAgfVxuICAgIHJldHVybiAxO1xuICB9O1xuICBjb25zdCBnZXREZWxheSA9ICgpID0+IHtcbiAgICBpZiAoZm9yY2VEZWxheVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmb3JjZURlbGF5VmFsdWU7XG4gICAgfVxuICAgIGlmIChfZGVsYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIF9kZWxheTtcbiAgICB9XG4gICAgaWYgKHBhcmVudEFuaW1hdGlvbikge1xuICAgICAgcmV0dXJuIHBhcmVudEFuaW1hdGlvbi5nZXREZWxheSgpO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbiAgY29uc3QgZ2V0S2V5ZnJhbWVzID0gKCkgPT4ge1xuICAgIHJldHVybiBfa2V5ZnJhbWVzO1xuICB9O1xuICBjb25zdCBkaXJlY3Rpb24gPSAoYW5pbWF0aW9uRGlyZWN0aW9uKSA9PiB7XG4gICAgX2RpcmVjdGlvbiA9IGFuaW1hdGlvbkRpcmVjdGlvbjtcbiAgICB1cGRhdGUodHJ1ZSk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgZmlsbCA9IChhbmltYXRpb25GaWxsKSA9PiB7XG4gICAgX2ZpbGwgPSBhbmltYXRpb25GaWxsO1xuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBkZWxheSA9IChhbmltYXRpb25EZWxheSkgPT4ge1xuICAgIF9kZWxheSA9IGFuaW1hdGlvbkRlbGF5O1xuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBlYXNpbmcgPSAoYW5pbWF0aW9uRWFzaW5nKSA9PiB7XG4gICAgX2Vhc2luZyA9IGFuaW1hdGlvbkVhc2luZztcbiAgICB1cGRhdGUodHJ1ZSk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgZHVyYXRpb24gPSAoYW5pbWF0aW9uRHVyYXRpb24pID0+IHtcbiAgICAvKipcbiAgICAgKiBDU1MgQW5pbWF0aW9uIER1cmF0aW9ucyBvZiAwbXMgd29yayBmaW5lIG9uIENocm9tZVxuICAgICAqIGJ1dCBkbyBub3QgcnVuIG9uIFNhZmFyaSwgc28gZm9yY2UgaXQgdG8gMW1zIHRvXG4gICAgICogZ2V0IGl0IHRvIHJ1biBvbiBib3RoIHBsYXRmb3Jtcy5cbiAgICAgKi9cbiAgICBpZiAoIXN1cHBvcnRzV2ViQW5pbWF0aW9ucyAmJiBhbmltYXRpb25EdXJhdGlvbiA9PT0gMCkge1xuICAgICAgYW5pbWF0aW9uRHVyYXRpb24gPSAxO1xuICAgIH1cbiAgICBfZHVyYXRpb24gPSBhbmltYXRpb25EdXJhdGlvbjtcbiAgICB1cGRhdGUodHJ1ZSk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgaXRlcmF0aW9ucyA9IChhbmltYXRpb25JdGVyYXRpb25zKSA9PiB7XG4gICAgX2l0ZXJhdGlvbnMgPSBhbmltYXRpb25JdGVyYXRpb25zO1xuICAgIHVwZGF0ZSh0cnVlKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBwYXJlbnQgPSAoYW5pbWF0aW9uKSA9PiB7XG4gICAgcGFyZW50QW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGFkZEVsZW1lbnQgPSAoZWwpID0+IHtcbiAgICBpZiAoZWwgIT0gbnVsbCkge1xuICAgICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGVsZW1lbnRzLnB1c2goZWwpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZWwubGVuZ3RoID49IDApIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGVsZW1lbnRzLnB1c2goZWxbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignSW52YWxpZCBhZGRFbGVtZW50IHZhbHVlJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGFkZEFuaW1hdGlvbiA9IChhbmltYXRpb25Ub0FkZCkgPT4ge1xuICAgIGlmIChhbmltYXRpb25Ub0FkZCAhPSBudWxsKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhbmltYXRpb25Ub0FkZCkpIHtcbiAgICAgICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgYW5pbWF0aW9uVG9BZGQpIHtcbiAgICAgICAgICBhbmltYXRpb24ucGFyZW50KGFuaSk7XG4gICAgICAgICAgY2hpbGRBbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvblRvQWRkLnBhcmVudChhbmkpO1xuICAgICAgICBjaGlsZEFuaW1hdGlvbnMucHVzaChhbmltYXRpb25Ub0FkZCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IGtleWZyYW1lcyA9IChrZXlmcmFtZVZhbHVlcykgPT4ge1xuICAgIGNvbnN0IGRpZmZlcmVudCA9IF9rZXlmcmFtZXMgIT09IGtleWZyYW1lVmFsdWVzO1xuICAgIF9rZXlmcmFtZXMgPSBrZXlmcmFtZVZhbHVlcztcbiAgICBpZiAoZGlmZmVyZW50KSB7XG4gICAgICB1cGRhdGVLZXlmcmFtZXMoX2tleWZyYW1lcyk7XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUtleWZyYW1lcyA9IChrZXlmcmFtZVZhbHVlcykgPT4ge1xuICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgIGdldFdlYkFuaW1hdGlvbnMoKS5mb3JFYWNoKGFuaW1hdGlvbiA9PiB7XG4gICAgICAgIGlmIChhbmltYXRpb24uZWZmZWN0LnNldEtleWZyYW1lcykge1xuICAgICAgICAgIGFuaW1hdGlvbi5lZmZlY3Quc2V0S2V5ZnJhbWVzKGtleWZyYW1lVmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb25zdCBuZXdFZmZlY3QgPSBuZXcgS2V5ZnJhbWVFZmZlY3QoYW5pbWF0aW9uLmVmZmVjdC50YXJnZXQsIGtleWZyYW1lVmFsdWVzLCBhbmltYXRpb24uZWZmZWN0LmdldFRpbWluZygpKTtcbiAgICAgICAgICBhbmltYXRpb24uZWZmZWN0ID0gbmV3RWZmZWN0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpbml0aWFsaXplQ1NTQW5pbWF0aW9uKCk7XG4gICAgfVxuICB9O1xuICAvKipcbiAgICogUnVuIGFsbCBcImJlZm9yZVwiIGFuaW1hdGlvbiBob29rcy5cbiAgICovXG4gIGNvbnN0IGJlZm9yZUFuaW1hdGlvbiA9ICgpID0+IHtcbiAgICAvLyBSdW5zIGFsbCBiZWZvcmUgcmVhZCBjYWxsYmFja3NcbiAgICBfYmVmb3JlQWRkUmVhZEZ1bmN0aW9ucy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgIC8vIFJ1bnMgYWxsIGJlZm9yZSB3cml0ZSBjYWxsYmFja3NcbiAgICBfYmVmb3JlQWRkV3JpdGVGdW5jdGlvbnMuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgICAvLyBVcGRhdGVzIHN0eWxlcyBhbmQgY2xhc3NlcyBiZWZvcmUgYW5pbWF0aW9uIHJ1bnNcbiAgICBjb25zdCBhZGRDbGFzc2VzID0gYmVmb3JlQWRkQ2xhc3NlcztcbiAgICBjb25zdCByZW1vdmVDbGFzc2VzID0gYmVmb3JlUmVtb3ZlQ2xhc3NlcztcbiAgICBjb25zdCBzdHlsZXMgPSBiZWZvcmVTdHlsZXNWYWx1ZTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICBhZGRDbGFzc2VzLmZvckVhY2goYyA9PiBlbGVtZW50Q2xhc3NMaXN0LmFkZChjKSk7XG4gICAgICByZW1vdmVDbGFzc2VzLmZvckVhY2goYyA9PiBlbGVtZW50Q2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWwsIHByb3BlcnR5LCBzdHlsZXNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICAvKipcbiAgICogUnVuIGFsbCBcImFmdGVyXCIgYW5pbWF0aW9uIGhvb2tzLlxuICAgKi9cbiAgY29uc3QgYWZ0ZXJBbmltYXRpb24gPSAoKSA9PiB7XG4gICAgY2xlYXJDU1NBbmltYXRpb25zVGltZW91dCgpO1xuICAgIC8vIFJ1bnMgYWxsIGFmdGVyIHJlYWQgY2FsbGJhY2tzXG4gICAgX2FmdGVyQWRkUmVhZEZ1bmN0aW9ucy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKCkpO1xuICAgIC8vIFJ1bnMgYWxsIGFmdGVyIHdyaXRlIGNhbGxiYWNrc1xuICAgIF9hZnRlckFkZFdyaXRlRnVuY3Rpb25zLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSk7XG4gICAgLy8gVXBkYXRlcyBzdHlsZXMgYW5kIGNsYXNzZXMgYmVmb3JlIGFuaW1hdGlvbiBlbmRzXG4gICAgY29uc3QgY3VycmVudFN0ZXAgPSB3aWxsQ29tcGxldGUgPyAxIDogMDtcbiAgICBjb25zdCBhZGRDbGFzc2VzID0gYWZ0ZXJBZGRDbGFzc2VzO1xuICAgIGNvbnN0IHJlbW92ZUNsYXNzZXMgPSBhZnRlclJlbW92ZUNsYXNzZXM7XG4gICAgY29uc3Qgc3R5bGVzID0gYWZ0ZXJTdHlsZXNWYWx1ZTtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc0xpc3QgPSBlbC5jbGFzc0xpc3Q7XG4gICAgICBhZGRDbGFzc2VzLmZvckVhY2goYyA9PiBlbGVtZW50Q2xhc3NMaXN0LmFkZChjKSk7XG4gICAgICByZW1vdmVDbGFzc2VzLmZvckVhY2goYyA9PiBlbGVtZW50Q2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIHN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWwsIHByb3BlcnR5LCBzdHlsZXNbcHJvcGVydHldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIG9uRmluaXNoQ2FsbGJhY2tzLmZvckVhY2gob25GaW5pc2hDYWxsYmFjayA9PiB7XG4gICAgICByZXR1cm4gb25GaW5pc2hDYWxsYmFjay5jKGN1cnJlbnRTdGVwLCBhbmkpO1xuICAgIH0pO1xuICAgIG9uRmluaXNoT25lVGltZUNhbGxiYWNrcy5mb3JFYWNoKG9uRmluaXNoQ2FsbGJhY2sgPT4ge1xuICAgICAgcmV0dXJuIG9uRmluaXNoQ2FsbGJhY2suYyhjdXJyZW50U3RlcCwgYW5pKTtcbiAgICB9KTtcbiAgICBvbkZpbmlzaE9uZVRpbWVDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICBzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zID0gdHJ1ZTtcbiAgICBpZiAod2lsbENvbXBsZXRlKSB7XG4gICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgfVxuICAgIHdpbGxDb21wbGV0ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IGFuaW1hdGlvbkZpbmlzaCA9ICgpID0+IHtcbiAgICBpZiAobnVtQW5pbWF0aW9uc1J1bm5pbmcgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbnVtQW5pbWF0aW9uc1J1bm5pbmctLTtcbiAgICBpZiAobnVtQW5pbWF0aW9uc1J1bm5pbmcgPT09IDApIHtcbiAgICAgIGFmdGVyQW5pbWF0aW9uKCk7XG4gICAgICBpZiAocGFyZW50QW5pbWF0aW9uKSB7XG4gICAgICAgIHBhcmVudEFuaW1hdGlvbi5hbmltYXRpb25GaW5pc2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGluaXRpYWxpemVDU1NBbmltYXRpb24gPSAodG9nZ2xlQW5pbWF0aW9uTmFtZSA9IHRydWUpID0+IHtcbiAgICBjbGVhblVwU3R5bGVTaGVldHMoKTtcbiAgICBjb25zdCBwcm9jZXNzZWRLZXlmcmFtZXMgPSBwcm9jZXNzS2V5ZnJhbWVzKF9rZXlmcmFtZXMpO1xuICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAocHJvY2Vzc2VkS2V5ZnJhbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWVSdWxlcyA9IGdlbmVyYXRlS2V5ZnJhbWVSdWxlcyhwcm9jZXNzZWRLZXlmcmFtZXMpO1xuICAgICAgICBrZXlmcmFtZU5hbWUgPSAoYW5pbWF0aW9uSWQgIT09IHVuZGVmaW5lZCkgPyBhbmltYXRpb25JZCA6IGdlbmVyYXRlS2V5ZnJhbWVOYW1lKGtleWZyYW1lUnVsZXMpO1xuICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gY3JlYXRlS2V5ZnJhbWVTdHlsZXNoZWV0KGtleWZyYW1lTmFtZSwga2V5ZnJhbWVSdWxlcywgZWxlbWVudCk7XG4gICAgICAgIHN0eWxlc2hlZXRzLnB1c2goc3R5bGVzaGVldCk7XG4gICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1kdXJhdGlvbicsIGAke2dldER1cmF0aW9uKCl9bXNgKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbicsIGdldEVhc2luZygpKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWRlbGF5JywgYCR7Z2V0RGVsYXkoKX1tc2ApO1xuICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tZmlsbC1tb2RlJywgZ2V0RmlsbCgpKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWRpcmVjdGlvbicsIGdldERpcmVjdGlvbigpKTtcbiAgICAgICAgY29uc3QgaXRlcmF0aW9uc0NvdW50ID0gKGdldEl0ZXJhdGlvbnMoKSA9PT0gSW5maW5pdHkpXG4gICAgICAgICAgPyAnaW5maW5pdGUnXG4gICAgICAgICAgOiBnZXRJdGVyYXRpb25zKCkudG9TdHJpbmcoKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCcsIGl0ZXJhdGlvbnNDb3VudCk7XG4gICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJywgJ3BhdXNlZCcpO1xuICAgICAgICBpZiAodG9nZ2xlQW5pbWF0aW9uTmFtZSkge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1uYW1lJywgYCR7c3R5bGVzaGVldC5pZH0tYWx0YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tbmFtZScsIHN0eWxlc2hlZXQuaWQgfHwgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBjb25zdCBpbml0aWFsaXplV2ViQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBjb25zdCBhbmltYXRpb24gPSBlbGVtZW50LmFuaW1hdGUoX2tleWZyYW1lcywge1xuICAgICAgICBpZCxcbiAgICAgICAgZGVsYXk6IGdldERlbGF5KCksXG4gICAgICAgIGR1cmF0aW9uOiBnZXREdXJhdGlvbigpLFxuICAgICAgICBlYXNpbmc6IGdldEVhc2luZygpLFxuICAgICAgICBpdGVyYXRpb25zOiBnZXRJdGVyYXRpb25zKCksXG4gICAgICAgIGZpbGw6IGdldEZpbGwoKSxcbiAgICAgICAgZGlyZWN0aW9uOiBnZXREaXJlY3Rpb24oKVxuICAgICAgfSk7XG4gICAgICBhbmltYXRpb24ucGF1c2UoKTtcbiAgICAgIHdlYkFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgIH0pO1xuICAgIGlmICh3ZWJBbmltYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHdlYkFuaW1hdGlvbnNbMF0ub25maW5pc2ggPSAoKSA9PiB7XG4gICAgICAgIGFuaW1hdGlvbkZpbmlzaCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGluaXRpYWxpemVBbmltYXRpb24gPSAodG9nZ2xlQW5pbWF0aW9uTmFtZSA9IHRydWUpID0+IHtcbiAgICBiZWZvcmVBbmltYXRpb24oKTtcbiAgICBpZiAoX2tleWZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoc3VwcG9ydHNXZWJBbmltYXRpb25zKSB7XG4gICAgICAgIGluaXRpYWxpemVXZWJBbmltYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpbml0aWFsaXplQ1NTQW5pbWF0aW9uKHRvZ2dsZUFuaW1hdGlvbk5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHNldEFuaW1hdGlvblN0ZXAgPSAoc3RlcCkgPT4ge1xuICAgIHN0ZXAgPSBNYXRoLm1pbihNYXRoLm1heChzdGVwLCAwKSwgMC45OTk5KTtcbiAgICBpZiAoc3VwcG9ydHNXZWJBbmltYXRpb25zKSB7XG4gICAgICB3ZWJBbmltYXRpb25zLmZvckVhY2goYW5pbWF0aW9uID0+IHtcbiAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnRUaW1lID0gYW5pbWF0aW9uLmVmZmVjdC5nZXRDb21wdXRlZFRpbWluZygpLmRlbGF5ICsgKGdldER1cmF0aW9uKCkgKiBzdGVwKTtcbiAgICAgICAgYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IGAtJHtnZXREdXJhdGlvbigpICogc3RlcH1tc2A7XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoX2tleWZyYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWRlbGF5JywgYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJywgJ3BhdXNlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHVwZGF0ZVdlYkFuaW1hdGlvbiA9IChzdGVwKSA9PiB7XG4gICAgd2ViQW5pbWF0aW9ucy5mb3JFYWNoKGFuaW1hdGlvbiA9PiB7XG4gICAgICBhbmltYXRpb24uZWZmZWN0LnVwZGF0ZVRpbWluZyh7XG4gICAgICAgIGRlbGF5OiBnZXREZWxheSgpLFxuICAgICAgICBkdXJhdGlvbjogZ2V0RHVyYXRpb24oKSxcbiAgICAgICAgZWFzaW5nOiBnZXRFYXNpbmcoKSxcbiAgICAgICAgaXRlcmF0aW9uczogZ2V0SXRlcmF0aW9ucygpLFxuICAgICAgICBmaWxsOiBnZXRGaWxsKCksXG4gICAgICAgIGRpcmVjdGlvbjogZ2V0RGlyZWN0aW9uKClcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmIChzdGVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldEFuaW1hdGlvblN0ZXAoc3RlcCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDU1NBbmltYXRpb24gPSAodG9nZ2xlQW5pbWF0aW9uTmFtZSA9IHRydWUsIHN0ZXApID0+IHtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLW5hbWUnLCBrZXlmcmFtZU5hbWUgfHwgbnVsbCk7XG4gICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1kdXJhdGlvbicsIGAke2dldER1cmF0aW9uKCl9bXNgKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbicsIGdldEVhc2luZygpKTtcbiAgICAgICAgc2V0U3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWRlbGF5JywgKHN0ZXAgIT09IHVuZGVmaW5lZCkgPyBgLSR7c3RlcCAqIGdldER1cmF0aW9uKCl9bXNgIDogYCR7Z2V0RGVsYXkoKX1tc2ApO1xuICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tZmlsbC1tb2RlJywgZ2V0RmlsbCgpIHx8IG51bGwpO1xuICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tZGlyZWN0aW9uJywgZ2V0RGlyZWN0aW9uKCkgfHwgbnVsbCk7XG4gICAgICAgIGNvbnN0IGl0ZXJhdGlvbnNDb3VudCA9IChnZXRJdGVyYXRpb25zKCkgPT09IEluZmluaXR5KVxuICAgICAgICAgID8gJ2luZmluaXRlJ1xuICAgICAgICAgIDogZ2V0SXRlcmF0aW9ucygpLnRvU3RyaW5nKCk7XG4gICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1pdGVyYXRpb24tY291bnQnLCBpdGVyYXRpb25zQ291bnQpO1xuICAgICAgICBpZiAodG9nZ2xlQW5pbWF0aW9uTmFtZSkge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1uYW1lJywgYCR7a2V5ZnJhbWVOYW1lfS1hbHRgKTtcbiAgICAgICAgfVxuICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1uYW1lJywga2V5ZnJhbWVOYW1lIHx8IG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCB1cGRhdGUgPSAoZGVlcCA9IGZhbHNlLCB0b2dnbGVBbmltYXRpb25OYW1lID0gdHJ1ZSwgc3RlcCkgPT4ge1xuICAgIGlmIChkZWVwKSB7XG4gICAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgICBhbmltYXRpb24udXBkYXRlKGRlZXAsIHRvZ2dsZUFuaW1hdGlvbk5hbWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgIHVwZGF0ZVdlYkFuaW1hdGlvbihzdGVwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cGRhdGVDU1NBbmltYXRpb24odG9nZ2xlQW5pbWF0aW9uTmFtZSwgc3RlcCk7XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IHByb2dyZXNzU3RhcnQgPSAoZm9yY2VMaW5lYXJFYXNpbmcgPSBmYWxzZSwgc3RlcCkgPT4ge1xuICAgIGNoaWxkQW5pbWF0aW9ucy5mb3JFYWNoKGFuaW1hdGlvbiA9PiB7XG4gICAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGFydChmb3JjZUxpbmVhckVhc2luZywgc3RlcCk7XG4gICAgfSk7XG4gICAgcGF1c2VBbmltYXRpb24oKTtcbiAgICBzaG91bGRGb3JjZUxpbmVhckVhc2luZyA9IGZvcmNlTGluZWFyRWFzaW5nO1xuICAgIGlmICghaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGluaXRpYWxpemVBbmltYXRpb24oKTtcbiAgICB9XG4gICAgdXBkYXRlKGZhbHNlLCB0cnVlLCBzdGVwKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBwcm9ncmVzc1N0ZXAgPSAoc3RlcCkgPT4ge1xuICAgIGNoaWxkQW5pbWF0aW9ucy5mb3JFYWNoKGFuaW1hdGlvbiA9PiB7XG4gICAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGVwKHN0ZXApO1xuICAgIH0pO1xuICAgIHNldEFuaW1hdGlvblN0ZXAoc3RlcCk7XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgcHJvZ3Jlc3NFbmQgPSAocGxheVRvLCBzdGVwLCBkdXIpID0+IHtcbiAgICBzaG91bGRGb3JjZUxpbmVhckVhc2luZyA9IGZhbHNlO1xuICAgIGNoaWxkQW5pbWF0aW9ucy5mb3JFYWNoKGFuaW1hdGlvbiA9PiB7XG4gICAgICBhbmltYXRpb24ucHJvZ3Jlc3NFbmQocGxheVRvLCBzdGVwLCBkdXIpO1xuICAgIH0pO1xuICAgIGlmIChkdXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZm9yY2VEdXJhdGlvblZhbHVlID0gZHVyO1xuICAgIH1cbiAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogc3RyaWN0LWJvb2xlYW4tY29uZGl0aW9uc1xuICAgIHdpbGxDb21wbGV0ZSA9IHRydWU7XG4gICAgaWYgKHBsYXlUbyA9PT0gMCkge1xuICAgICAgZm9yY2VEaXJlY3Rpb25WYWx1ZSA9IChnZXREaXJlY3Rpb24oKSA9PT0gJ3JldmVyc2UnKSA/ICdub3JtYWwnIDogJ3JldmVyc2UnO1xuICAgICAgaWYgKGZvcmNlRGlyZWN0aW9uVmFsdWUgPT09ICdyZXZlcnNlJykge1xuICAgICAgICB3aWxsQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgIHNldEFuaW1hdGlvblN0ZXAoMSAtIHN0ZXApO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZvcmNlRGVsYXlWYWx1ZSA9ICgoMSAtIHN0ZXApICogZ2V0RHVyYXRpb24oKSkgKiAtMTtcbiAgICAgICAgdXBkYXRlKGZhbHNlLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHBsYXlUbyA9PT0gMSkge1xuICAgICAgaWYgKHN1cHBvcnRzV2ViQW5pbWF0aW9ucykge1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgc2V0QW5pbWF0aW9uU3RlcChzdGVwKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3JjZURlbGF5VmFsdWUgPSAoc3RlcCAqIGdldER1cmF0aW9uKCkpICogLTE7XG4gICAgICAgIHVwZGF0ZShmYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGxheVRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIG9uRmluaXNoKCgpID0+IHtcbiAgICAgICAgZm9yY2VEdXJhdGlvblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JjZURpcmVjdGlvblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3JjZURlbGF5VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9LCB7XG4gICAgICAgIG9uZVRpbWVDYWxsYmFjazogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBpZiAoIXBhcmVudEFuaW1hdGlvbikge1xuICAgICAgICBwbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhbmk7XG4gIH07XG4gIGNvbnN0IHBhdXNlQW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgaWYgKHN1cHBvcnRzV2ViQW5pbWF0aW9ucykge1xuICAgICAgICB3ZWJBbmltYXRpb25zLmZvckVhY2goYW5pbWF0aW9uID0+IHtcbiAgICAgICAgICBhbmltYXRpb24ucGF1c2UoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICBzZXRTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tcGxheS1zdGF0ZScsICdwYXVzZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXVzZSA9ICgpID0+IHtcbiAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgYW5pbWF0aW9uLnBhdXNlKCk7XG4gICAgfSk7XG4gICAgcGF1c2VBbmltYXRpb24oKTtcbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCBvbkFuaW1hdGlvbkVuZEZhbGxiYWNrID0gKCkgPT4ge1xuICAgIGNzc0FuaW1hdGlvbnNUaW1lckZhbGxiYWNrID0gdW5kZWZpbmVkO1xuICAgIGFuaW1hdGlvbkZpbmlzaCgpO1xuICB9O1xuICBjb25zdCBjbGVhckNTU0FuaW1hdGlvbnNUaW1lb3V0ID0gKCkgPT4ge1xuICAgIGlmIChjc3NBbmltYXRpb25zVGltZXJGYWxsYmFjaykge1xuICAgICAgY2xlYXJUaW1lb3V0KGNzc0FuaW1hdGlvbnNUaW1lckZhbGxiYWNrKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBsYXlDU1NBbmltYXRpb25zID0gKCkgPT4ge1xuICAgIGNsZWFyQ1NTQW5pbWF0aW9uc1RpbWVvdXQoKTtcbiAgICByYWYoKCkgPT4ge1xuICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgaWYgKF9rZXlmcmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldFN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJywgJ3J1bm5pbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKF9rZXlmcmFtZXMubGVuZ3RoID09PSAwIHx8IGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYW5pbWF0aW9uRmluaXNoKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGlzIGEgY2F0Y2hhbGwgaW4gdGhlIGV2ZW50IHRoYXQgYSBDU1MgQW5pbWF0aW9uIGRpZCBub3QgZmluaXNoLlxuICAgICAgICogVGhlIFdlYiBBbmltYXRpb25zIEFQSSBoYXMgbWVjaGFuaXNtcyBpbiBwbGFjZSBmb3IgcHJldmVudGluZyB0aGlzLlxuICAgICAgICogQ1NTIEFuaW1hdGlvbnMgd2lsbCBub3QgZmlyZSBhbiBgYW5pbWF0aW9uZW5kYCBldmVudFxuICAgICAgICogZm9yIGVsZW1lbnRzIHdpdGggYGRpc3BsYXk6IG5vbmVgLiBUaGUgV2ViIEFuaW1hdGlvbnMgQVBJXG4gICAgICAgKiBhY2NvdW50cyBmb3IgdGhpcywgYnV0IHVzaW5nIHJhdyBDU1MgQW5pbWF0aW9ucyByZXF1aXJlc1xuICAgICAgICogdGhpcyB3b3JrYXJvdW5kLlxuICAgICAgICovXG4gICAgICBjb25zdCBhbmltYXRpb25EZWxheSA9IGdldERlbGF5KCkgfHwgMDtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9uID0gZ2V0RHVyYXRpb24oKSB8fCAwO1xuICAgICAgY29uc3QgYW5pbWF0aW9uSXRlcmF0aW9ucyA9IGdldEl0ZXJhdGlvbnMoKSB8fCAxO1xuICAgICAgLy8gTm8gbmVlZCB0byBzZXQgYSB0aW1lb3V0IHdoZW4gYW5pbWF0aW9uIGhhcyBpbmZpbml0ZSBpdGVyYXRpb25zXG4gICAgICBpZiAoaXNGaW5pdGUoYW5pbWF0aW9uSXRlcmF0aW9ucykpIHtcbiAgICAgICAgY3NzQW5pbWF0aW9uc1RpbWVyRmFsbGJhY2sgPSBzZXRUaW1lb3V0KG9uQW5pbWF0aW9uRW5kRmFsbGJhY2ssIGFuaW1hdGlvbkRlbGF5ICsgKGFuaW1hdGlvbkR1cmF0aW9uICogYW5pbWF0aW9uSXRlcmF0aW9ucykgKyBBTklNQVRJT05fRU5EX0ZBTExCQUNLX1BBRERJTkdfTVMpO1xuICAgICAgfVxuICAgICAgYW5pbWF0aW9uRW5kKGVsZW1lbnRzWzBdLCAoKSA9PiB7XG4gICAgICAgIGNsZWFyQ1NTQW5pbWF0aW9uc1RpbWVvdXQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuc3VyZSB0aGF0IGNsZWFuIHVwXG4gICAgICAgICAqIGlzIGFsd2F5cyBkb25lIGEgZnJhbWVcbiAgICAgICAgICogYmVmb3JlIHRoZSBvbkZpbmlzaCBoYW5kbGVyc1xuICAgICAgICAgKiBhcmUgZmlyZWQuIE90aGVyd2lzZSwgdGhlcmVcbiAgICAgICAgICogbWF5IGJlIGZsaWNrZXJpbmcgaWYgYSBuZXdcbiAgICAgICAgICogYW5pbWF0aW9uIGlzIHN0YXJ0ZWQgb24gdGhlIHNhbWVcbiAgICAgICAgICogZWxlbWVudCB0b28gcXVpY2tseVxuICAgICAgICAgKlxuICAgICAgICAgKiBUT0RPOiBJcyB0aGVyZSBhIGNsZWFuZXIgd2F5IHRvIGRvIHRoaXM/XG4gICAgICAgICAqL1xuICAgICAgICByYWYoKCkgPT4ge1xuICAgICAgICAgIGNsZWFyQ1NTQW5pbWF0aW9uUGxheVN0YXRlKCk7XG4gICAgICAgICAgcmFmKGFuaW1hdGlvbkZpbmlzaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbGVhckNTU0FuaW1hdGlvblBsYXlTdGF0ZSA9ICgpID0+IHtcbiAgICBlbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgcmVtb3ZlU3R5bGVQcm9wZXJ0eShlbGVtZW50LCAnYW5pbWF0aW9uLWR1cmF0aW9uJyk7XG4gICAgICByZW1vdmVTdHlsZVByb3BlcnR5KGVsZW1lbnQsICdhbmltYXRpb24tZGVsYXknKTtcbiAgICAgIHJlbW92ZVN0eWxlUHJvcGVydHkoZWxlbWVudCwgJ2FuaW1hdGlvbi1wbGF5LXN0YXRlJyk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHBsYXlXZWJBbmltYXRpb25zID0gKCkgPT4ge1xuICAgIHdlYkFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgYW5pbWF0aW9uLnBsYXkoKTtcbiAgICB9KTtcbiAgICBpZiAoX2tleWZyYW1lcy5sZW5ndGggPT09IDAgfHwgZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbmltYXRpb25GaW5pc2goKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlc2V0QW5pbWF0aW9uID0gKCkgPT4ge1xuICAgIGlmIChzdXBwb3J0c1dlYkFuaW1hdGlvbnMpIHtcbiAgICAgIHNldEFuaW1hdGlvblN0ZXAoMCk7XG4gICAgICB1cGRhdGVXZWJBbmltYXRpb24oKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cGRhdGVDU1NBbmltYXRpb24oKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBsYXkgPSAob3B0cykgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGlmIChvcHRzICYmIG9wdHMuc3luYykge1xuICAgICAgICBzaG91bGRGb3JjZVN5bmNQbGF5YmFjayA9IHRydWU7XG4gICAgICAgIG9uRmluaXNoKCgpID0+IHNob3VsZEZvcmNlU3luY1BsYXliYWNrID0gZmFsc2UsIHsgb25lVGltZUNhbGxiYWNrOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgICBpbml0aWFsaXplQW5pbWF0aW9uKCk7XG4gICAgICB9XG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgcmVzZXRBbmltYXRpb24oKTtcbiAgICAgICAgZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRDYWxjdWxhdGVOdW1BbmltYXRpb25zKSB7XG4gICAgICAgIG51bUFuaW1hdGlvbnNSdW5uaW5nID0gY2hpbGRBbmltYXRpb25zLmxlbmd0aCArIDE7XG4gICAgICAgIHNob3VsZENhbGN1bGF0ZU51bUFuaW1hdGlvbnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIG9uRmluaXNoKCgpID0+IHJlc29sdmUoKSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSk7XG4gICAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgICBhbmltYXRpb24ucGxheSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAoc3VwcG9ydHNXZWJBbmltYXRpb25zKSB7XG4gICAgICAgIHBsYXlXZWJBbmltYXRpb25zKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcGxheUNTU0FuaW1hdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBjaGlsZEFuaW1hdGlvbnMuZm9yRWFjaChhbmltYXRpb24gPT4ge1xuICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB9KTtcbiAgICBpZiAoaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNsZWFuVXBFbGVtZW50cygpO1xuICAgICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmVzZXRGbGFncygpO1xuICB9O1xuICBjb25zdCBmcm9tID0gKHByb3BlcnR5LCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGZpcnN0RnJhbWUgPSBfa2V5ZnJhbWVzWzBdO1xuICAgIGlmIChmaXJzdEZyYW1lICE9PSB1bmRlZmluZWQgJiYgKGZpcnN0RnJhbWUub2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgZmlyc3RGcmFtZS5vZmZzZXQgPT09IDApKSB7XG4gICAgICBmaXJzdEZyYW1lW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9rZXlmcmFtZXMgPSBbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBbcHJvcGVydHldOiB2YWx1ZSB9LFxuICAgICAgICAuLi5fa2V5ZnJhbWVzXG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gYW5pO1xuICB9O1xuICBjb25zdCB0byA9IChwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICBjb25zdCBsYXN0RnJhbWUgPSBfa2V5ZnJhbWVzW19rZXlmcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RGcmFtZSAhPT0gdW5kZWZpbmVkICYmIChsYXN0RnJhbWUub2Zmc2V0ID09PSB1bmRlZmluZWQgfHwgbGFzdEZyYW1lLm9mZnNldCA9PT0gMSkpIHtcbiAgICAgIGxhc3RGcmFtZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBfa2V5ZnJhbWVzID0gW1xuICAgICAgICAuLi5fa2V5ZnJhbWVzLFxuICAgICAgICB7IG9mZnNldDogMSwgW3Byb3BlcnR5XTogdmFsdWUgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIGFuaTtcbiAgfTtcbiAgY29uc3QgZnJvbVRvID0gKHByb3BlcnR5LCBmcm9tVmFsdWUsIHRvVmFsdWUpID0+IHtcbiAgICByZXR1cm4gZnJvbShwcm9wZXJ0eSwgZnJvbVZhbHVlKS50byhwcm9wZXJ0eSwgdG9WYWx1ZSk7XG4gIH07XG4gIHJldHVybiBhbmkgPSB7XG4gICAgcGFyZW50QW5pbWF0aW9uLFxuICAgIGVsZW1lbnRzLFxuICAgIGNoaWxkQW5pbWF0aW9ucyxcbiAgICBpZCxcbiAgICBhbmltYXRpb25GaW5pc2gsXG4gICAgZnJvbSxcbiAgICB0byxcbiAgICBmcm9tVG8sXG4gICAgcGFyZW50LFxuICAgIHBsYXksXG4gICAgcGF1c2UsXG4gICAgc3RvcCxcbiAgICBkZXN0cm95LFxuICAgIGtleWZyYW1lcyxcbiAgICBhZGRBbmltYXRpb24sXG4gICAgYWRkRWxlbWVudCxcbiAgICB1cGRhdGUsXG4gICAgZmlsbCxcbiAgICBkaXJlY3Rpb24sXG4gICAgaXRlcmF0aW9ucyxcbiAgICBkdXJhdGlvbixcbiAgICBlYXNpbmcsXG4gICAgZGVsYXksXG4gICAgZ2V0V2ViQW5pbWF0aW9ucyxcbiAgICBnZXRLZXlmcmFtZXMsXG4gICAgZ2V0RmlsbCxcbiAgICBnZXREaXJlY3Rpb24sXG4gICAgZ2V0RGVsYXksXG4gICAgZ2V0SXRlcmF0aW9ucyxcbiAgICBnZXRFYXNpbmcsXG4gICAgZ2V0RHVyYXRpb24sXG4gICAgYWZ0ZXJBZGRSZWFkLFxuICAgIGFmdGVyQWRkV3JpdGUsXG4gICAgYWZ0ZXJDbGVhclN0eWxlcyxcbiAgICBhZnRlclN0eWxlcyxcbiAgICBhZnRlclJlbW92ZUNsYXNzLFxuICAgIGFmdGVyQWRkQ2xhc3MsXG4gICAgYmVmb3JlQWRkUmVhZCxcbiAgICBiZWZvcmVBZGRXcml0ZSxcbiAgICBiZWZvcmVDbGVhclN0eWxlcyxcbiAgICBiZWZvcmVTdHlsZXMsXG4gICAgYmVmb3JlUmVtb3ZlQ2xhc3MsXG4gICAgYmVmb3JlQWRkQ2xhc3MsXG4gICAgb25GaW5pc2gsXG4gICAgcHJvZ3Jlc3NTdGFydCxcbiAgICBwcm9ncmVzc1N0ZXAsXG4gICAgcHJvZ3Jlc3NFbmRcbiAgfTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUFuaW1hdGlvbiBhcyBjIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgaSBhcyBpbml0aWFsaXplIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtYTA0OWJjYmYuanMnO1xuXG5jb25zdCBnbG9iYWxTY3JpcHRzID0gaW5pdGlhbGl6ZTtcblxuZXhwb3J0IHsgZ2xvYmFsU2NyaXB0cyBhcyBnIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuLyoqXG4gKiBCYXNlZCBvbjpcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzczNDgwMDkveS1jb29yZGluYXRlLWZvci1hLWdpdmVuLXgtY3ViaWMtYmV6aWVyXG4gKiBodHRwczovL21hdGguc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzI2ODQ2L2lzLXRoZXJlLWFuLWV4cGxpY2l0LWZvcm0tZm9yLWN1YmljLWIlQzMlQTl6aWVyLWN1cnZlc1xuICogVE9ETzogUmVkdWNlIHJvdW5kaW5nIGVycm9yXG4gKi9cbi8qKlxuICogRVhQRVJJTUVOVEFMXG4gKiBHaXZlbiBhIGN1YmljLWJlemllciBjdXJ2ZSwgZ2V0IHRoZSB4IHZhbHVlICh0aW1lKSBnaXZlblxuICogdGhlIHkgdmFsdWUgKHByb2dyZXNzaW9uKS5cbiAqIEV4OiBjdWJpYy1iZXppZXIoMC4zMiwgMC43MiwgMCwgMSk7XG4gKiBQMDogKDAsIDApXG4gKiBQMTogKDAuMzIsIDAuNzIpXG4gKiBQMjogKDAsIDEpXG4gKiBQMzogKDEsIDEpXG4gKlxuICogSWYgeW91IGdpdmUgYSBjdWJpYyBiZXppZXIgY3VydmUgdGhhdCBuZXZlciByZWFjaGVzIHRoZVxuICogcHJvdmlkZWQgcHJvZ3Jlc3Npb24sIHRoaXMgZnVuY3Rpb24gd2lsbCByZXR1cm4gYW4gZW1wdHkgYXJyYXkuXG4gKi9cbmNvbnN0IGdldFRpbWVHaXZlblByb2dyZXNzaW9uID0gKHAwLCBwMSwgcDIsIHAzLCBwcm9ncmVzc2lvbikgPT4ge1xuICByZXR1cm4gc29sdmVDdWJpY0JlemllcihwMFsxXSwgcDFbMV0sIHAyWzFdLCBwM1sxXSwgcHJvZ3Jlc3Npb24pLm1hcCh0VmFsdWUgPT4ge1xuICAgIHJldHVybiBzb2x2ZUN1YmljUGFyYW1ldHJpY0VxdWF0aW9uKHAwWzBdLCBwMVswXSwgcDJbMF0sIHAzWzBdLCB0VmFsdWUpO1xuICB9KTtcbn07XG4vKipcbiAqIFNvbHZlIGEgY3ViaWMgZXF1YXRpb24gaW4gb25lIGRpbWVuc2lvbiAodGltZSlcbiAqL1xuY29uc3Qgc29sdmVDdWJpY1BhcmFtZXRyaWNFcXVhdGlvbiA9IChwMCwgcDEsIHAyLCBwMywgdCkgPT4ge1xuICBjb25zdCBwYXJ0QSA9ICgzICogcDEpICogTWF0aC5wb3codCAtIDEsIDIpO1xuICBjb25zdCBwYXJ0QiA9ICgtMyAqIHAyICogdCkgKyAoMyAqIHAyKSArIChwMyAqIHQpO1xuICBjb25zdCBwYXJ0QyA9IHAwICogTWF0aC5wb3codCAtIDEsIDMpO1xuICByZXR1cm4gdCAqIChwYXJ0QSArICh0ICogcGFydEIpKSAtIHBhcnRDO1xufTtcbi8qKlxuICogRmluZCB0aGUgYHRgIHZhbHVlIGZvciBhIGN1YmljIGJlemllciB1c2luZyBDYXJkYW5vJ3MgZm9ybXVsYVxuICovXG5jb25zdCBzb2x2ZUN1YmljQmV6aWVyID0gKHAwLCBwMSwgcDIsIHAzLCByZWZQb2ludCkgPT4ge1xuICBwMCAtPSByZWZQb2ludDtcbiAgcDEgLT0gcmVmUG9pbnQ7XG4gIHAyIC09IHJlZlBvaW50O1xuICBwMyAtPSByZWZQb2ludDtcbiAgY29uc3Qgcm9vdHMgPSBzb2x2ZUN1YmljRXF1YXRpb24ocDMgLSAzICogcDIgKyAzICogcDEgLSBwMCwgMyAqIHAyIC0gNiAqIHAxICsgMyAqIHAwLCAzICogcDEgLSAzICogcDAsIHAwKTtcbiAgcmV0dXJuIHJvb3RzLmZpbHRlcihyb290ID0+IHJvb3QgPj0gMCAmJiByb290IDw9IDEpO1xufTtcbmNvbnN0IHNvbHZlUXVhZHJhdGljRXF1YXRpb24gPSAoYSwgYiwgYykgPT4ge1xuICBjb25zdCBkaXNjcmltaW5hbnQgPSBiICogYiAtIDQgKiBhICogYztcbiAgaWYgKGRpc2NyaW1pbmFudCA8IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICgtYiArIE1hdGguc3FydChkaXNjcmltaW5hbnQpKSAvICgyICogYSksXG4gICAgICAoLWIgLSBNYXRoLnNxcnQoZGlzY3JpbWluYW50KSkgLyAoMiAqIGEpXG4gICAgXTtcbiAgfVxufTtcbmNvbnN0IHNvbHZlQ3ViaWNFcXVhdGlvbiA9IChhLCBiLCBjLCBkKSA9PiB7XG4gIGlmIChhID09PSAwKSB7XG4gICAgcmV0dXJuIHNvbHZlUXVhZHJhdGljRXF1YXRpb24oYiwgYywgZCk7XG4gIH1cbiAgYiAvPSBhO1xuICBjIC89IGE7XG4gIGQgLz0gYTtcbiAgY29uc3QgcCA9ICgzICogYyAtIGIgKiBiKSAvIDM7XG4gIGNvbnN0IHEgPSAoMiAqIGIgKiBiICogYiAtIDkgKiBiICogYyArIDI3ICogZCkgLyAyNztcbiAgaWYgKHAgPT09IDApIHtcbiAgICByZXR1cm4gW01hdGgucG93KC1xLCAxIC8gMyldO1xuICB9XG4gIGVsc2UgaWYgKHEgPT09IDApIHtcbiAgICByZXR1cm4gW01hdGguc3FydCgtcCksIC1NYXRoLnNxcnQoLXApXTtcbiAgfVxuICBjb25zdCBkaXNjcmltaW5hbnQgPSBNYXRoLnBvdyhxIC8gMiwgMikgKyBNYXRoLnBvdyhwIC8gMywgMyk7XG4gIGlmIChkaXNjcmltaW5hbnQgPT09IDApIHtcbiAgICByZXR1cm4gW01hdGgucG93KHEgLyAyLCAxIC8gMikgLSBiIC8gM107XG4gIH1cbiAgZWxzZSBpZiAoZGlzY3JpbWluYW50ID4gMCkge1xuICAgIHJldHVybiBbTWF0aC5wb3coLShxIC8gMikgKyBNYXRoLnNxcnQoZGlzY3JpbWluYW50KSwgMSAvIDMpIC0gTWF0aC5wb3coKHEgLyAyKSArIE1hdGguc3FydChkaXNjcmltaW5hbnQpLCAxIC8gMykgLSBiIC8gM107XG4gIH1cbiAgY29uc3QgciA9IE1hdGguc3FydChNYXRoLnBvdygtKHAgLyAzKSwgMykpO1xuICBjb25zdCBwaGkgPSBNYXRoLmFjb3MoLShxIC8gKDIgKiBNYXRoLnNxcnQoTWF0aC5wb3coLShwIC8gMyksIDMpKSkpKTtcbiAgY29uc3QgcyA9IDIgKiBNYXRoLnBvdyhyLCAxIC8gMyk7XG4gIHJldHVybiBbXG4gICAgcyAqIE1hdGguY29zKHBoaSAvIDMpIC0gYiAvIDMsXG4gICAgcyAqIE1hdGguY29zKChwaGkgKyAyICogTWF0aC5QSSkgLyAzKSAtIGIgLyAzLFxuICAgIHMgKiBNYXRoLmNvcygocGhpICsgNCAqIE1hdGguUEkpIC8gMykgLSBiIC8gM1xuICBdO1xufTtcblxuZXhwb3J0IHsgZ2V0VGltZUdpdmVuUHJvZ3Jlc3Npb24gYXMgZyB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IGMgYXMgY29tcG9uZW50T25SZWFkeSB9IGZyb20gJy4vaGVscGVycy1lZWQ3OWEyYi5qcyc7XG5cbmNvbnN0IGF0dGFjaENvbXBvbmVudCA9IGFzeW5jIChkZWxlZ2F0ZSwgY29udGFpbmVyLCBjb21wb25lbnQsIGNzc0NsYXNzZXMsIGNvbXBvbmVudFByb3BzLCBpbmxpbmUpID0+IHtcbiAgaWYgKGRlbGVnYXRlKSB7XG4gICAgcmV0dXJuIGRlbGVnYXRlLmF0dGFjaFZpZXdUb0RvbShjb250YWluZXIsIGNvbXBvbmVudCwgY29tcG9uZW50UHJvcHMsIGNzc0NsYXNzZXMpO1xuICB9XG4gIGlmICghaW5saW5lICYmIHR5cGVvZiBjb21wb25lbnQgIT09ICdzdHJpbmcnICYmICEoY29tcG9uZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmcmFtZXdvcmsgZGVsZWdhdGUgaXMgbWlzc2luZycpO1xuICB9XG4gIGNvbnN0IGVsID0gKHR5cGVvZiBjb21wb25lbnQgPT09ICdzdHJpbmcnKVxuICAgID8gY29udGFpbmVyLm93bmVyRG9jdW1lbnQgJiYgY29udGFpbmVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb21wb25lbnQpXG4gICAgOiBjb21wb25lbnQ7XG4gIGlmIChjc3NDbGFzc2VzKSB7XG4gICAgY3NzQ2xhc3Nlcy5mb3JFYWNoKGMgPT4gZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gIH1cbiAgaWYgKGNvbXBvbmVudFByb3BzKSB7XG4gICAgT2JqZWN0LmFzc2lnbihlbCwgY29tcG9uZW50UHJvcHMpO1xuICB9XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbCk7XG4gIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY29tcG9uZW50T25SZWFkeShlbCwgcmVzb2x2ZSkpO1xuICByZXR1cm4gZWw7XG59O1xuY29uc3QgZGV0YWNoQ29tcG9uZW50ID0gKGRlbGVnYXRlLCBlbGVtZW50KSA9PiB7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICByZXR1cm4gZGVsZWdhdGUucmVtb3ZlVmlld0Zyb21Eb20oY29udGFpbmVyLCBlbGVtZW50KTtcbiAgICB9XG4gICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgfVxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG59O1xuY29uc3QgQ29yZURlbGVnYXRlID0gKCkgPT4ge1xuICBsZXQgQmFzZUNvbXBvbmVudDtcbiAgbGV0IFJlZmVyZW5jZTtcbiAgY29uc3QgYXR0YWNoVmlld1RvRG9tID0gYXN5bmMgKHBhcmVudEVsZW1lbnQsIHVzZXJDb21wb25lbnQsIHVzZXJDb21wb25lbnRQcm9wcyA9IHt9LCBjc3NDbGFzc2VzID0gW10pID0+IHtcbiAgICBCYXNlQ29tcG9uZW50ID0gcGFyZW50RWxlbWVudDtcbiAgICAvKipcbiAgICAgKiBJZiBwYXNzaW5nIGluIGEgY29tcG9uZW50IHZpYSB0aGUgYGNvbXBvbmVudGAgcHJvcHNcbiAgICAgKiB3ZSBuZWVkIHRvIGFwcGVuZCBpdCBpbnNpZGUgb2Ygb3VyIG92ZXJsYXkgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGlmICh1c2VyQ29tcG9uZW50KSB7XG4gICAgICAvKipcbiAgICAgICAqIElmIHBhc3NpbmcgaW4gdGhlIHRhZyBuYW1lLCBjcmVhdGVcbiAgICAgICAqIHRoZSBlbGVtZW50IG90aGVyd2lzZSBqdXN0IGdldCBhIHJlZmVyZW5jZVxuICAgICAgICogdG8gdGhlIGNvbXBvbmVudC5cbiAgICAgICAqL1xuICAgICAgY29uc3QgZWwgPSAodHlwZW9mIHVzZXJDb21wb25lbnQgPT09ICdzdHJpbmcnKVxuICAgICAgICA/IEJhc2VDb21wb25lbnQub3duZXJEb2N1bWVudCAmJiBCYXNlQ29tcG9uZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh1c2VyQ29tcG9uZW50KVxuICAgICAgICA6IHVzZXJDb21wb25lbnQ7XG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhbnkgY3NzIGNsYXNzZXMgcGFzc2VkIGluXG4gICAgICAgKiB2aWEgdGhlIGNzc0NsYXNzZXMgcHJvcCBvbiB0aGUgb3ZlcmxheS5cbiAgICAgICAqL1xuICAgICAgY3NzQ2xhc3Nlcy5mb3JFYWNoKGMgPT4gZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gICAgICAvKipcbiAgICAgICAqIEFkZCBhbnkgcHJvcHMgcGFzc2VkIGluXG4gICAgICAgKiB2aWEgdGhlIGNvbXBvbmVudFByb3BzIHByb3Agb24gdGhlIG92ZXJsYXkuXG4gICAgICAgKi9cbiAgICAgIE9iamVjdC5hc3NpZ24oZWwsIHVzZXJDb21wb25lbnRQcm9wcyk7XG4gICAgICAvKipcbiAgICAgICAqIEZpbmFsbHksIGFwcGVuZCB0aGUgY29tcG9uZW50XG4gICAgICAgKiBpbnNpZGUgb2YgdGhlIG92ZXJsYXkgY29tcG9uZW50LlxuICAgICAgICovXG4gICAgICBCYXNlQ29tcG9uZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY29tcG9uZW50T25SZWFkeShlbCwgcmVzb2x2ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJvb3Qgb2YgdGhlIGFwcCBhbmRcbiAgICAgKiBhZGQgdGhlIG92ZXJsYXkgdGhlcmUuXG4gICAgICovXG4gICAgY29uc3QgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLWFwcCcpIHx8IGRvY3VtZW50LmJvZHk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgcGxhY2Vob2xkZXIgY29tbWVudCBzbyB0aGF0XG4gICAgICogd2UgY2FuIHJldHVybiB0aGlzIGNvbXBvbmVudCB0byB3aGVyZVxuICAgICAqIGl0IHdhcyBwcmV2aW91c2x5LlxuICAgICAqL1xuICAgIFJlZmVyZW5jZSA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ2lvbmljIHRlbGVwb3J0Jyk7XG4gICAgQmFzZUNvbXBvbmVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShSZWZlcmVuY2UsIEJhc2VDb21wb25lbnQpO1xuICAgIGFwcC5hcHBlbmRDaGlsZChCYXNlQ29tcG9uZW50KTtcbiAgICByZXR1cm4gQmFzZUNvbXBvbmVudDtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlVmlld0Zyb21Eb20gPSAoKSA9PiB7XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGNvbXBvbmVudCB0byB3aGVyZSBpdCB3YXMgcHJldmlvdXNseSBpbiB0aGUgRE9NLlxuICAgICAqL1xuICAgIGlmIChCYXNlQ29tcG9uZW50ICYmIFJlZmVyZW5jZSkge1xuICAgICAgUmVmZXJlbmNlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEJhc2VDb21wb25lbnQsIFJlZmVyZW5jZSk7XG4gICAgICBSZWZlcmVuY2UucmVtb3ZlKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcbiAgcmV0dXJuIHsgYXR0YWNoVmlld1RvRG9tLCByZW1vdmVWaWV3RnJvbURvbSB9O1xufTtcblxuZXhwb3J0IHsgQ29yZURlbGVnYXRlIGFzIEMsIGF0dGFjaENvbXBvbmVudCBhcyBhLCBkZXRhY2hDb21wb25lbnQgYXMgZCB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmNsYXNzIEdlc3R1cmVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5nZXN0dXJlSWQgPSAwO1xuICAgIHRoaXMucmVxdWVzdGVkU3RhcnQgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5kaXNhYmxlZEdlc3R1cmVzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMuZGlzYWJsZWRTY3JvbGwgPSBuZXcgU2V0KCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBnZXN0dXJlIGRlbGVnYXRlIGJhc2VkIG9uIHRoZSBHZXN0dXJlQ29uZmlnIHBhc3NlZFxuICAgKi9cbiAgY3JlYXRlR2VzdHVyZShjb25maWcpIHtcbiAgICByZXR1cm4gbmV3IEdlc3R1cmVEZWxlZ2F0ZSh0aGlzLCB0aGlzLm5ld0lEKCksIGNvbmZpZy5uYW1lLCBjb25maWcucHJpb3JpdHkgfHwgMCwgISFjb25maWcuZGlzYWJsZVNjcm9sbCk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBibG9ja2VyIHRoYXQgd2lsbCBibG9jayBhbnkgb3RoZXIgZ2VzdHVyZSBldmVudHMgZnJvbSBmaXJpbmcuIFNldCBpbiB0aGUgaW9uLWdlc3R1cmUgY29tcG9uZW50LlxuICAgKi9cbiAgY3JlYXRlQmxvY2tlcihvcHRzID0ge30pIHtcbiAgICByZXR1cm4gbmV3IEJsb2NrZXJEZWxlZ2F0ZSh0aGlzLCB0aGlzLm5ld0lEKCksIG9wdHMuZGlzYWJsZSwgISFvcHRzLmRpc2FibGVTY3JvbGwpO1xuICB9XG4gIHN0YXJ0KGdlc3R1cmVOYW1lLCBpZCwgcHJpb3JpdHkpIHtcbiAgICBpZiAoIXRoaXMuY2FuU3RhcnQoZ2VzdHVyZU5hbWUpKSB7XG4gICAgICB0aGlzLnJlcXVlc3RlZFN0YXJ0LmRlbGV0ZShpZCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMucmVxdWVzdGVkU3RhcnQuc2V0KGlkLCBwcmlvcml0eSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY2FwdHVyZShnZXN0dXJlTmFtZSwgaWQsIHByaW9yaXR5KSB7XG4gICAgaWYgKCF0aGlzLnN0YXJ0KGdlc3R1cmVOYW1lLCBpZCwgcHJpb3JpdHkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3RlZFN0YXJ0ID0gdGhpcy5yZXF1ZXN0ZWRTdGFydDtcbiAgICBsZXQgbWF4UHJpb3JpdHkgPSAtMTAwMDA7XG4gICAgcmVxdWVzdGVkU3RhcnQuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBtYXhQcmlvcml0eSA9IE1hdGgubWF4KG1heFByaW9yaXR5LCB2YWx1ZSk7XG4gICAgfSk7XG4gICAgaWYgKG1heFByaW9yaXR5ID09PSBwcmlvcml0eSkge1xuICAgICAgdGhpcy5jYXB0dXJlZElkID0gaWQ7XG4gICAgICByZXF1ZXN0ZWRTdGFydC5jbGVhcigpO1xuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2lvbkdlc3R1cmVDYXB0dXJlZCcsIHsgZGV0YWlsOiB7IGdlc3R1cmVOYW1lIH0gfSk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXF1ZXN0ZWRTdGFydC5kZWxldGUoaWQpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZWxlYXNlKGlkKSB7XG4gICAgdGhpcy5yZXF1ZXN0ZWRTdGFydC5kZWxldGUoaWQpO1xuICAgIGlmICh0aGlzLmNhcHR1cmVkSWQgPT09IGlkKSB7XG4gICAgICB0aGlzLmNhcHR1cmVkSWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGRpc2FibGVHZXN0dXJlKGdlc3R1cmVOYW1lLCBpZCkge1xuICAgIGxldCBzZXQgPSB0aGlzLmRpc2FibGVkR2VzdHVyZXMuZ2V0KGdlc3R1cmVOYW1lKTtcbiAgICBpZiAoc2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldCA9IG5ldyBTZXQoKTtcbiAgICAgIHRoaXMuZGlzYWJsZWRHZXN0dXJlcy5zZXQoZ2VzdHVyZU5hbWUsIHNldCk7XG4gICAgfVxuICAgIHNldC5hZGQoaWQpO1xuICB9XG4gIGVuYWJsZUdlc3R1cmUoZ2VzdHVyZU5hbWUsIGlkKSB7XG4gICAgY29uc3Qgc2V0ID0gdGhpcy5kaXNhYmxlZEdlc3R1cmVzLmdldChnZXN0dXJlTmFtZSk7XG4gICAgaWYgKHNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXQuZGVsZXRlKGlkKTtcbiAgICB9XG4gIH1cbiAgZGlzYWJsZVNjcm9sbChpZCkge1xuICAgIHRoaXMuZGlzYWJsZWRTY3JvbGwuYWRkKGlkKTtcbiAgICBpZiAodGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplID09PSAxKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoQkFDS0RST1BfTk9fU0NST0xMKTtcbiAgICB9XG4gIH1cbiAgZW5hYmxlU2Nyb2xsKGlkKSB7XG4gICAgdGhpcy5kaXNhYmxlZFNjcm9sbC5kZWxldGUoaWQpO1xuICAgIGlmICh0aGlzLmRpc2FibGVkU2Nyb2xsLnNpemUgPT09IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShCQUNLRFJPUF9OT19TQ1JPTEwpO1xuICAgIH1cbiAgfVxuICBjYW5TdGFydChnZXN0dXJlTmFtZSkge1xuICAgIGlmICh0aGlzLmNhcHR1cmVkSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gYSBnZXN0dXJlIGFscmVhZHkgY2FwdHVyZWRcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEaXNhYmxlZChnZXN0dXJlTmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaXNDYXB0dXJlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jYXB0dXJlZElkICE9PSB1bmRlZmluZWQ7XG4gIH1cbiAgaXNTY3JvbGxEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNhYmxlZFNjcm9sbC5zaXplID4gMDtcbiAgfVxuICBpc0Rpc2FibGVkKGdlc3R1cmVOYW1lKSB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkR2VzdHVyZXMuZ2V0KGdlc3R1cmVOYW1lKTtcbiAgICBpZiAoZGlzYWJsZWQgJiYgZGlzYWJsZWQuc2l6ZSA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbmV3SUQoKSB7XG4gICAgdGhpcy5nZXN0dXJlSWQrKztcbiAgICByZXR1cm4gdGhpcy5nZXN0dXJlSWQ7XG4gIH1cbn1cbmNsYXNzIEdlc3R1cmVEZWxlZ2F0ZSB7XG4gIGNvbnN0cnVjdG9yKGN0cmwsIGlkLCBuYW1lLCBwcmlvcml0eSwgZGlzYWJsZVNjcm9sbCkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGlzYWJsZVNjcm9sbCA9IGRpc2FibGVTY3JvbGw7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5ICogMTAwMDAwMCArIGlkO1xuICAgIHRoaXMuY3RybCA9IGN0cmw7XG4gIH1cbiAgY2FuU3RhcnQoKSB7XG4gICAgaWYgKCF0aGlzLmN0cmwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY3RybC5jYW5TdGFydCh0aGlzLm5hbWUpO1xuICB9XG4gIHN0YXJ0KCkge1xuICAgIGlmICghdGhpcy5jdHJsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmN0cmwuc3RhcnQodGhpcy5uYW1lLCB0aGlzLmlkLCB0aGlzLnByaW9yaXR5KTtcbiAgfVxuICBjYXB0dXJlKCkge1xuICAgIGlmICghdGhpcy5jdHJsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGNhcHR1cmVkID0gdGhpcy5jdHJsLmNhcHR1cmUodGhpcy5uYW1lLCB0aGlzLmlkLCB0aGlzLnByaW9yaXR5KTtcbiAgICBpZiAoY2FwdHVyZWQgJiYgdGhpcy5kaXNhYmxlU2Nyb2xsKSB7XG4gICAgICB0aGlzLmN0cmwuZGlzYWJsZVNjcm9sbCh0aGlzLmlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhcHR1cmVkO1xuICB9XG4gIHJlbGVhc2UoKSB7XG4gICAgaWYgKHRoaXMuY3RybCkge1xuICAgICAgdGhpcy5jdHJsLnJlbGVhc2UodGhpcy5pZCk7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlU2Nyb2xsKSB7XG4gICAgICAgIHRoaXMuY3RybC5lbmFibGVTY3JvbGwodGhpcy5pZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5yZWxlYXNlKCk7XG4gICAgdGhpcy5jdHJsID0gdW5kZWZpbmVkO1xuICB9XG59XG5jbGFzcyBCbG9ja2VyRGVsZWdhdGUge1xuICBjb25zdHJ1Y3RvcihjdHJsLCBpZCwgZGlzYWJsZSwgZGlzYWJsZVNjcm9sbCkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmRpc2FibGUgPSBkaXNhYmxlO1xuICAgIHRoaXMuZGlzYWJsZVNjcm9sbCA9IGRpc2FibGVTY3JvbGw7XG4gICAgdGhpcy5jdHJsID0gY3RybDtcbiAgfVxuICBibG9jaygpIHtcbiAgICBpZiAoIXRoaXMuY3RybCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5kaXNhYmxlKSB7XG4gICAgICBmb3IgKGNvbnN0IGdlc3R1cmUgb2YgdGhpcy5kaXNhYmxlKSB7XG4gICAgICAgIHRoaXMuY3RybC5kaXNhYmxlR2VzdHVyZShnZXN0dXJlLCB0aGlzLmlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZVNjcm9sbCkge1xuICAgICAgdGhpcy5jdHJsLmRpc2FibGVTY3JvbGwodGhpcy5pZCk7XG4gICAgfVxuICB9XG4gIHVuYmxvY2soKSB7XG4gICAgaWYgKCF0aGlzLmN0cmwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZSkge1xuICAgICAgZm9yIChjb25zdCBnZXN0dXJlIG9mIHRoaXMuZGlzYWJsZSkge1xuICAgICAgICB0aGlzLmN0cmwuZW5hYmxlR2VzdHVyZShnZXN0dXJlLCB0aGlzLmlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZVNjcm9sbCkge1xuICAgICAgdGhpcy5jdHJsLmVuYWJsZVNjcm9sbCh0aGlzLmlkKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnVuYmxvY2soKTtcbiAgICB0aGlzLmN0cmwgPSB1bmRlZmluZWQ7XG4gIH1cbn1cbmNvbnN0IEJBQ0tEUk9QX05PX1NDUk9MTCA9ICdiYWNrZHJvcC1uby1zY3JvbGwnO1xuY29uc3QgR0VTVFVSRV9DT05UUk9MTEVSID0gbmV3IEdlc3R1cmVDb250cm9sbGVyKCk7XG5cbmV4cG9ydCB7IEdFU1RVUkVfQ09OVFJPTExFUiBhcyBHIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgSGFwdGljRW5naW5lID0ge1xuICBnZXRFbmdpbmUoKSB7XG4gICAgY29uc3Qgd2luID0gd2luZG93O1xuICAgIHJldHVybiAod2luLlRhcHRpY0VuZ2luZSkgfHwgKHdpbi5DYXBhY2l0b3IgJiYgd2luLkNhcGFjaXRvci5pc1BsdWdpbkF2YWlsYWJsZSgnSGFwdGljcycpICYmIHdpbi5DYXBhY2l0b3IuUGx1Z2lucy5IYXB0aWNzKTtcbiAgfSxcbiAgYXZhaWxhYmxlKCkge1xuICAgIHJldHVybiAhIXRoaXMuZ2V0RW5naW5lKCk7XG4gIH0sXG4gIGlzQ29yZG92YSgpIHtcbiAgICByZXR1cm4gISF3aW5kb3cuVGFwdGljRW5naW5lO1xuICB9LFxuICBpc0NhcGFjaXRvcigpIHtcbiAgICBjb25zdCB3aW4gPSB3aW5kb3c7XG4gICAgcmV0dXJuICEhd2luLkNhcGFjaXRvcjtcbiAgfSxcbiAgaW1wYWN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCBlbmdpbmUgPSB0aGlzLmdldEVuZ2luZSgpO1xuICAgIGlmICghZW5naW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5pc0NhcGFjaXRvcigpID8gb3B0aW9ucy5zdHlsZS50b1VwcGVyQ2FzZSgpIDogb3B0aW9ucy5zdHlsZTtcbiAgICBlbmdpbmUuaW1wYWN0KHsgc3R5bGUgfSk7XG4gIH0sXG4gIG5vdGlmaWNhdGlvbihvcHRpb25zKSB7XG4gICAgY29uc3QgZW5naW5lID0gdGhpcy5nZXRFbmdpbmUoKTtcbiAgICBpZiAoIWVuZ2luZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuaXNDYXBhY2l0b3IoKSA/IG9wdGlvbnMuc3R5bGUudG9VcHBlckNhc2UoKSA6IG9wdGlvbnMuc3R5bGU7XG4gICAgZW5naW5lLm5vdGlmaWNhdGlvbih7IHN0eWxlIH0pO1xuICB9LFxuICBzZWxlY3Rpb24oKSB7XG4gICAgdGhpcy5pbXBhY3QoeyBzdHlsZTogJ2xpZ2h0JyB9KTtcbiAgfSxcbiAgc2VsZWN0aW9uU3RhcnQoKSB7XG4gICAgY29uc3QgZW5naW5lID0gdGhpcy5nZXRFbmdpbmUoKTtcbiAgICBpZiAoIWVuZ2luZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0NhcGFjaXRvcigpKSB7XG4gICAgICBlbmdpbmUuc2VsZWN0aW9uU3RhcnQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbmdpbmUuZ2VzdHVyZVNlbGVjdGlvblN0YXJ0KCk7XG4gICAgfVxuICB9LFxuICBzZWxlY3Rpb25DaGFuZ2VkKCkge1xuICAgIGNvbnN0IGVuZ2luZSA9IHRoaXMuZ2V0RW5naW5lKCk7XG4gICAgaWYgKCFlbmdpbmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNDYXBhY2l0b3IoKSkge1xuICAgICAgZW5naW5lLnNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbmdpbmUuZ2VzdHVyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICB9XG4gIH0sXG4gIHNlbGVjdGlvbkVuZCgpIHtcbiAgICBjb25zdCBlbmdpbmUgPSB0aGlzLmdldEVuZ2luZSgpO1xuICAgIGlmICghZW5naW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmlzQ2FwYWNpdG9yKCkpIHtcbiAgICAgIGVuZ2luZS5zZWxlY3Rpb25FbmQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbmdpbmUuZ2VzdHVyZVNlbGVjdGlvbkVuZCgpO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogVHJpZ2dlciBhIHNlbGVjdGlvbiBjaGFuZ2VkIGhhcHRpYyBldmVudC4gR29vZCBmb3Igb25lLXRpbWUgZXZlbnRzXG4gKiAobm90IGZvciBnZXN0dXJlcylcbiAqL1xuY29uc3QgaGFwdGljU2VsZWN0aW9uID0gKCkgPT4ge1xuICBIYXB0aWNFbmdpbmUuc2VsZWN0aW9uKCk7XG59O1xuLyoqXG4gKiBUZWxsIHRoZSBoYXB0aWMgZW5naW5lIHRoYXQgYSBnZXN0dXJlIGZvciBhIHNlbGVjdGlvbiBjaGFuZ2UgaXMgc3RhcnRpbmcuXG4gKi9cbmNvbnN0IGhhcHRpY1NlbGVjdGlvblN0YXJ0ID0gKCkgPT4ge1xuICBIYXB0aWNFbmdpbmUuc2VsZWN0aW9uU3RhcnQoKTtcbn07XG4vKipcbiAqIFRlbGwgdGhlIGhhcHRpYyBlbmdpbmUgdGhhdCBhIHNlbGVjdGlvbiBjaGFuZ2VkIGR1cmluZyBhIGdlc3R1cmUuXG4gKi9cbmNvbnN0IGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQgPSAoKSA9PiB7XG4gIEhhcHRpY0VuZ2luZS5zZWxlY3Rpb25DaGFuZ2VkKCk7XG59O1xuLyoqXG4gKiBUZWxsIHRoZSBoYXB0aWMgZW5naW5lIHdlIGFyZSBkb25lIHdpdGggYSBnZXN0dXJlLiBUaGlzIG5lZWRzIHRvIGJlXG4gKiBjYWxsZWQgbGVzdCByZXNvdXJjZXMgYXJlIG5vdCBwcm9wZXJseSByZWN5Y2xlZC5cbiAqL1xuY29uc3QgaGFwdGljU2VsZWN0aW9uRW5kID0gKCkgPT4ge1xuICBIYXB0aWNFbmdpbmUuc2VsZWN0aW9uRW5kKCk7XG59O1xuLyoqXG4gKiBVc2UgdGhpcyB0byBpbmRpY2F0ZSBzdWNjZXNzL2ZhaWx1cmUvd2FybmluZyB0byB0aGUgdXNlci5cbiAqIG9wdGlvbnMgc2hvdWxkIGJlIG9mIHRoZSB0eXBlIGB7IHN0eWxlOiAnbGlnaHQnIH1gIChvciBgbWVkaXVtYC9gaGVhdnlgKVxuICovXG5jb25zdCBoYXB0aWNJbXBhY3QgPSAob3B0aW9ucykgPT4ge1xuICBIYXB0aWNFbmdpbmUuaW1wYWN0KG9wdGlvbnMpO1xufTtcblxuZXhwb3J0IHsgaGFwdGljU2VsZWN0aW9uU3RhcnQgYXMgYSwgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCBhcyBiLCBoYXB0aWNTZWxlY3Rpb24gYXMgYywgaGFwdGljSW1wYWN0IGFzIGQsIGhhcHRpY1NlbGVjdGlvbkVuZCBhcyBoIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuLyoqXG4gKiBXaGVuIGhhcmR3YXJlQmFja0J1dHRvbjogZmFsc2UgaW4gY29uZmlnLFxuICogd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgYWxzbyBibG9jayB0aGUgZGVmYXVsdFxuICogd2VidmlldyBiZWhhdmlvci4gSWYgd2UgZG9uJ3QgdGhlbiBpdCB3aWxsIGJlXG4gKiBwb3NzaWJsZSBmb3IgdXNlcnMgdG8gbmF2aWdhdGUgYmFja3dhcmQgd2hpbGVcbiAqIGFuIG92ZXJsYXkgaXMgc3RpbGwgb3Blbi4gQWRkaXRpb25hbGx5LCBpdCB3aWxsXG4gKiBnaXZlIHRoZSBhcHBlYXJhbmNlIHRoYXQgdGhlIGhhcmR3YXJlQmFja0J1dHRvblxuICogY29uZmlnIGlzIG5vdCB3b3JraW5nIGFzIHRoZSBwYWdlIHRyYW5zaXRpb25cbiAqIHdpbGwgc3RpbGwgaGFwcGVuLlxuICovXG5jb25zdCBibG9ja0hhcmR3YXJlQmFja0J1dHRvbiA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmFja2J1dHRvbicsICgpID0+IHsgfSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmVcbn07XG5jb25zdCBzdGFydEhhcmR3YXJlQmFja0J1dHRvbiA9ICgpID0+IHtcbiAgY29uc3QgZG9jID0gZG9jdW1lbnQ7XG4gIGxldCBidXN5ID0gZmFsc2U7XG4gIGRvYy5hZGRFdmVudExpc3RlbmVyKCdiYWNrYnV0dG9uJywgKCkgPT4ge1xuICAgIGlmIChidXN5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpbmRleCA9IDA7XG4gICAgbGV0IGhhbmRsZXJzID0gW107XG4gICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2lvbkJhY2tCdXR0b24nLCB7XG4gICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgIGRldGFpbDoge1xuICAgICAgICByZWdpc3Rlcihwcmlvcml0eSwgaGFuZGxlcikge1xuICAgICAgICAgIGhhbmRsZXJzLnB1c2goeyBwcmlvcml0eSwgaGFuZGxlciwgaWQ6IGluZGV4KysgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2MuZGlzcGF0Y2hFdmVudChldik7XG4gICAgY29uc3QgZXhlY3V0ZUFjdGlvbiA9IGFzeW5jIChoYW5kbGVyUmVnaXN0ZXIpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChoYW5kbGVyUmVnaXN0ZXIgJiYgaGFuZGxlclJlZ2lzdGVyLmhhbmRsZXIpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyUmVnaXN0ZXIuaGFuZGxlcihwcm9jZXNzSGFuZGxlcnMpO1xuICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHByb2Nlc3NIYW5kbGVycyA9ICgpID0+IHtcbiAgICAgIGlmIChoYW5kbGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBzZWxlY3RlZEhhbmRsZXIgPSB7XG4gICAgICAgICAgcHJpb3JpdHk6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHVuZGVmaW5lZCxcbiAgICAgICAgICBpZDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgaGFuZGxlcnMuZm9yRWFjaChoYW5kbGVyID0+IHtcbiAgICAgICAgICBpZiAoaGFuZGxlci5wcmlvcml0eSA+PSBzZWxlY3RlZEhhbmRsZXIucHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYnVzeSA9IHRydWU7XG4gICAgICAgIGhhbmRsZXJzID0gaGFuZGxlcnMuZmlsdGVyKGhhbmRsZXIgPT4gaGFuZGxlci5pZCAhPT0gc2VsZWN0ZWRIYW5kbGVyLmlkKTtcbiAgICAgICAgZXhlY3V0ZUFjdGlvbihzZWxlY3RlZEhhbmRsZXIpLnRoZW4oKCkgPT4gYnVzeSA9IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHByb2Nlc3NIYW5kbGVycygpO1xuICB9KTtcbn07XG5jb25zdCBPVkVSTEFZX0JBQ0tfQlVUVE9OX1BSSU9SSVRZID0gMTAwO1xuY29uc3QgTUVOVV9CQUNLX0JVVFRPTl9QUklPUklUWSA9IDk5OyAvLyAxIGxlc3MgdGhhbiBvdmVybGF5IHByaW9yaXR5IHNpbmNlIG1lbnUgaXMgZGlzcGxheWVkIGJlaGluZCBvdmVybGF5c1xuXG5leHBvcnQgeyBNRU5VX0JBQ0tfQlVUVE9OX1BSSU9SSVRZLCBPVkVSTEFZX0JBQ0tfQlVUVE9OX1BSSU9SSVRZLCBibG9ja0hhcmR3YXJlQmFja0J1dHRvbiwgc3RhcnRIYXJkd2FyZUJhY2tCdXR0b24gfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5jb25zdCB0cmFuc2l0aW9uRW5kQXN5bmMgPSAoZWwsIGV4cGVjdGVkRHVyYXRpb24gPSAwKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICB0cmFuc2l0aW9uRW5kKGVsLCBleHBlY3RlZER1cmF0aW9uLCByZXNvbHZlKTtcbiAgfSk7XG59O1xuLyoqXG4gKiBBbGxvd3MgZGV2ZWxvcGVyIHRvIHdhaXQgZm9yIGEgdHJhbnNpdGlvblxuICogdG8gZmluaXNoIGFuZCBmYWxsYmFjayB0byBhIHRpbWVyIGlmIHRoZVxuICogdHJhbnNpdGlvbiBpcyBjYW5jZWxsZWQgb3Igb3RoZXJ3aXNlXG4gKiBuZXZlciBmaW5pc2hlcy4gQWxzbyBzZWUgdHJhbnNpdGlvbkVuZEFzeW5jXG4gKiB3aGljaCBpcyBhbiBhd2FpdC1hYmxlIHZlcnNpb24gb2YgdGhpcy5cbiAqL1xuY29uc3QgdHJhbnNpdGlvbkVuZCA9IChlbCwgZXhwZWN0ZWREdXJhdGlvbiA9IDAsIGNhbGxiYWNrKSA9PiB7XG4gIGxldCB1blJlZ1RyYW5zO1xuICBsZXQgYW5pbWF0aW9uVGltZW91dDtcbiAgY29uc3Qgb3B0cyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICBjb25zdCBBTklNQVRJT05fRkFMTEJBQ0tfVElNRU9VVCA9IDUwMDtcbiAgY29uc3QgdW5yZWdpc3RlciA9ICgpID0+IHtcbiAgICBpZiAodW5SZWdUcmFucykge1xuICAgICAgdW5SZWdUcmFucygpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb25UcmFuc2l0aW9uRW5kID0gKGV2KSA9PiB7XG4gICAgaWYgKGV2ID09PSB1bmRlZmluZWQgfHwgZWwgPT09IGV2LnRhcmdldCkge1xuICAgICAgdW5yZWdpc3RlcigpO1xuICAgICAgY2FsbGJhY2soZXYpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGVsKSB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIG9uVHJhbnNpdGlvbkVuZCwgb3B0cyk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIG9uVHJhbnNpdGlvbkVuZCwgb3B0cyk7XG4gICAgYW5pbWF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQob25UcmFuc2l0aW9uRW5kLCBleHBlY3RlZER1cmF0aW9uICsgQU5JTUFUSU9OX0ZBTExCQUNLX1RJTUVPVVQpO1xuICAgIHVuUmVnVHJhbnMgPSAoKSA9PiB7XG4gICAgICBpZiAoYW5pbWF0aW9uVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoYW5pbWF0aW9uVGltZW91dCk7XG4gICAgICAgIGFuaW1hdGlvblRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgb25UcmFuc2l0aW9uRW5kLCBvcHRzKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBvblRyYW5zaXRpb25FbmQsIG9wdHMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIHVucmVnaXN0ZXI7XG59O1xuLyoqXG4gKiBXYWl0cyBmb3IgYSBjb21wb25lbnQgdG8gYmUgcmVhZHkgZm9yXG4gKiBib3RoIGN1c3RvbSBlbGVtZW50IGFuZCBub24tY3VzdG9tIGVsZW1lbnQgYnVpbGRzLlxuICogSWYgbm9uLWN1c3RvbSBlbGVtZW50IGJ1aWxkLCBlbC5jb21wb25lbnRPblJlYWR5XG4gKiB3aWxsIGJlIHVzZWQuXG4gKiBGb3IgY3VzdG9tIGVsZW1lbnQgYnVpbGRzLCB3ZSB3YWl0IGEgZnJhbWVcbiAqIHNvIHRoYXQgdGhlIGlubmVyIGNvbnRlbnRzIG9mIHRoZSBjb21wb25lbnRcbiAqIGhhdmUgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICpcbiAqIFVzZSB0aGlzIHV0aWxpdHkgcmF0aGVyIHRoYW4gY2FsbGluZ1xuICogZWwuY29tcG9uZW50T25SZWFkeSB5b3Vyc2VsZi5cbiAqL1xuY29uc3QgY29tcG9uZW50T25SZWFkeSA9IChlbCwgY2FsbGJhY2spID0+IHtcbiAgaWYgKGVsLmNvbXBvbmVudE9uUmVhZHkpIHtcbiAgICBlbC5jb21wb25lbnRPblJlYWR5KCkudGhlbigocmVzb2x2ZWRFbCkgPT4gY2FsbGJhY2socmVzb2x2ZWRFbCkpO1xuICB9XG4gIGVsc2Uge1xuICAgIHJhZigoKSA9PiBjYWxsYmFjayhlbCkpO1xuICB9XG59O1xuLyoqXG4gKiBFbGVtZW50cyBpbnNpZGUgb2Ygd2ViIGNvbXBvbmVudHMgc29tZXRpbWVzIG5lZWQgdG8gaW5oZXJpdCBnbG9iYWwgYXR0cmlidXRlc1xuICogc2V0IG9uIHRoZSBob3N0LiBGb3IgZXhhbXBsZSwgdGhlIGlubmVyIGlucHV0IGluIGBpb24taW5wdXRgIHNob3VsZCBpbmhlcml0XG4gKiB0aGUgYHRpdGxlYCBhdHRyaWJ1dGUgdGhhdCBkZXZlbG9wZXJzIHNldCBkaXJlY3RseSBvbiBgaW9uLWlucHV0YC4gVGhpc1xuICogaGVscGVyIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgaW4gY29tcG9uZW50V2lsbExvYWQgYW5kIGFzc2lnbmVkIHRvIGEgdmFyaWFibGVcbiAqIHRoYXQgaXMgbGF0ZXIgdXNlZCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uLlxuICpcbiAqIFRoaXMgZG9lcyBub3QgbmVlZCB0byBiZSByZWFjdGl2ZSBhcyBjaGFuZ2luZyBhdHRyaWJ1dGVzIG9uIHRoZSBob3N0IGVsZW1lbnRcbiAqIGRvZXMgbm90IHRyaWdnZXIgYSByZS1yZW5kZXIuXG4gKi9cbmNvbnN0IGluaGVyaXRBdHRyaWJ1dGVzID0gKGVsLCBhdHRyaWJ1dGVzID0gW10pID0+IHtcbiAgY29uc3QgYXR0cmlidXRlT2JqZWN0ID0ge307XG4gIGF0dHJpYnV0ZXMuZm9yRWFjaChhdHRyID0+IHtcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGF0dHIpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGVsLmdldEF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBhdHRyaWJ1dGVPYmplY3RbYXR0cl0gPSBlbC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICB9XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGF0dHJpYnV0ZU9iamVjdDtcbn07XG5jb25zdCBhZGRFdmVudExpc3RlbmVyID0gKGVsLCBldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRzKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnN0IHdpbiA9IHdpbmRvdztcbiAgICBjb25zdCBjb25maWcgPSB3aW4gJiYgd2luLklvbmljICYmIHdpbi5Jb25pYy5jb25maWc7XG4gICAgaWYgKGNvbmZpZykge1xuICAgICAgY29uc3QgYWVsID0gY29uZmlnLmdldCgnX2FlbCcpO1xuICAgICAgaWYgKGFlbCkge1xuICAgICAgICByZXR1cm4gYWVsKGVsLCBldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvbmZpZy5fYWVsKSB7XG4gICAgICAgIHJldHVybiBjb25maWcuX2FlbChlbCwgZXZlbnROYW1lLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdHMpO1xufTtcbmNvbnN0IHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoZWwsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdHMpID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3Qgd2luID0gd2luZG93O1xuICAgIGNvbnN0IGNvbmZpZyA9IHdpbiAmJiB3aW4uSW9uaWMgJiYgd2luLklvbmljLmNvbmZpZztcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICBjb25zdCByZWwgPSBjb25maWcuZ2V0KCdfcmVsJyk7XG4gICAgICBpZiAocmVsKSB7XG4gICAgICAgIHJldHVybiByZWwoZWwsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdHMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29uZmlnLl9yZWwpIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy5fcmVsKGVsLCBldmVudE5hbWUsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgb3B0cyk7XG59O1xuLyoqXG4gKiBHZXRzIHRoZSByb290IGNvbnRleHQgb2YgYSBzaGFkb3cgZG9tIGVsZW1lbnRcbiAqIE9uIG5ld2VyIGJyb3dzZXJzIHRoaXMgd2lsbCBiZSB0aGUgc2hhZG93Um9vdCxcbiAqIGJ1dCBmb3Igb2xkZXIgYnJvd3NlciB0aGlzIG1heSBqdXN0IGJlIHRoZVxuICogZWxlbWVudCBpdHNlbGYuXG4gKlxuICogVXNlZnVsIGZvciB3aGVuZXZlciB5b3UgbmVlZCB0byBleHBsaWNpdGx5XG4gKiBkbyBcIm15RWxlbWVudC5zaGFkb3dSb290IS5xdWVyeVNlbGVjdG9yKC4uLilcIi5cbiAqL1xuY29uc3QgZ2V0RWxlbWVudFJvb3QgPSAoZWwsIGZhbGxiYWNrID0gZWwpID0+IHtcbiAgcmV0dXJuIGVsLnNoYWRvd1Jvb3QgfHwgZmFsbGJhY2s7XG59O1xuLyoqXG4gKiBQYXRjaGVkIHZlcnNpb24gb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRoYXQgYXZvaWRzIG5nem9uZVxuICogVXNlIG9ubHkgd2hlbiB5b3Uga25vdyBuZ3pvbmUgc2hvdWxkIG5vdCBydW5cbiAqL1xuY29uc3QgcmFmID0gKGgpID0+IHtcbiAgaWYgKHR5cGVvZiBfX3pvbmVfc3ltYm9sX19yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX196b25lX3N5bWJvbF9fcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGgpO1xuICB9XG4gIGlmICh0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZShoKTtcbiAgfVxuICByZXR1cm4gc2V0VGltZW91dChoKTtcbn07XG5jb25zdCBoYXNTaGFkb3dEb20gPSAoZWwpID0+IHtcbiAgcmV0dXJuICEhZWwuc2hhZG93Um9vdCAmJiAhIWVsLmF0dGFjaFNoYWRvdztcbn07XG5jb25zdCBmaW5kSXRlbUxhYmVsID0gKGNvbXBvbmVudEVsKSA9PiB7XG4gIGNvbnN0IGl0ZW1FbCA9IGNvbXBvbmVudEVsLmNsb3Nlc3QoJ2lvbi1pdGVtJyk7XG4gIGlmIChpdGVtRWwpIHtcbiAgICByZXR1cm4gaXRlbUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1sYWJlbCcpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IGZvY3VzRWxlbWVudCA9IChlbCkgPT4ge1xuICBlbC5mb2N1cygpO1xuICAvKipcbiAgICogV2hlbiBwcm9ncmFtbWF0aWNhbGx5IGZvY3VzaW5nIGFuIGVsZW1lbnQsXG4gICAqIHRoZSBmb2N1cy12aXNpYmxlIHV0aWxpdHkgd2lsbCBub3QgcnVuIGJlY2F1c2VcbiAgICogaXQgaXMgZXhwZWN0aW5nIGEga2V5Ym9hcmQgZXZlbnQgdG8gaGF2ZSB0cmlnZ2VyZWQgdGhpcztcbiAgICogaG93ZXZlciwgdGhlcmUgYXJlIHRpbWVzIHdoZW4gd2UgbmVlZCB0byBtYW51YWxseSBjb250cm9sXG4gICAqIHRoaXMgYmVoYXZpb3Igc28gd2UgY2FsbCB0aGUgYHNldEZvY3VzYCBtZXRob2Qgb24gaW9uLWFwcFxuICAgKiB3aGljaCB3aWxsIGxldCB1cyBleHBsaWNpdGx5IHNldCB0aGUgZWxlbWVudHMgdG8gZm9jdXMuXG4gICAqL1xuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdpb24tZm9jdXNhYmxlJykpIHtcbiAgICBjb25zdCBhcHAgPSBlbC5jbG9zZXN0KCdpb24tYXBwJyk7XG4gICAgaWYgKGFwcCkge1xuICAgICAgYXBwLnNldEZvY3VzKFtlbF0pO1xuICAgIH1cbiAgfVxufTtcbi8qKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgSW9uaWMncyBpbnB1dCBjb21wb25lbnRzIHRoYXQgdXNlIFNoYWRvdyBET00uIEluXG4gKiBvcmRlciB0byBwcm9wZXJseSBsYWJlbCB0aGUgaW5wdXRzIHRvIHdvcmsgd2l0aCBzY3JlZW4gcmVhZGVycywgd2UgbmVlZFxuICogdG8gZ2V0IHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIGxhYmVsIG91dHNpZGUgb2YgdGhlIHNoYWRvdyByb290IGFuZCBwYXNzXG4gKiBpdCB0byB0aGUgaW5wdXQgaW5zaWRlIG9mIHRoZSBzaGFkb3cgcm9vdC5cbiAqXG4gKiBSZWZlcmVuY2luZyBsYWJlbCBlbGVtZW50cyBieSBpZCBmcm9tIG91dHNpZGUgb2YgdGhlIGNvbXBvbmVudCBpc1xuICogaW1wb3NzaWJsZSBkdWUgdG8gdGhlIHNoYWRvdyBib3VuZGFyeSwgcmVhZCBtb3JlIGhlcmU6XG4gKiBodHRwczovL2RldmVsb3Blci5zYWxlc2ZvcmNlLmNvbS9ibG9ncy8yMDIwLzAxL2FjY2Vzc2liaWxpdHktZm9yLXdlYi1jb21wb25lbnRzLmh0bWxcbiAqXG4gKiBAcGFyYW0gY29tcG9uZW50RWwgVGhlIHNoYWRvdyBlbGVtZW50IHRoYXQgbmVlZHMgdGhlIGFyaWEgbGFiZWxcbiAqIEBwYXJhbSBpbnB1dElkIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGlucHV0XG4gKi9cbmNvbnN0IGdldEFyaWFMYWJlbCA9IChjb21wb25lbnRFbCwgaW5wdXRJZCkgPT4ge1xuICBsZXQgbGFiZWxUZXh0O1xuICAvLyBJZiB0aGUgdXNlciBwcm92aWRlcyB0aGVpciBvd24gbGFiZWwgdmlhIHRoZSBhcmlhLWxhYmVsbGVkYnkgYXR0clxuICAvLyB3ZSBzaG91bGQgdXNlIHRoYXQgaW5zdGVhZCBvZiBsb29raW5nIGZvciBhbiBpb24tbGFiZWxcbiAgY29uc3QgbGFiZWxsZWRCeSA9IGNvbXBvbmVudEVsLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gIC8vIEdyYWIgdGhlIGlkIG9mZiBvZiB0aGUgY29tcG9uZW50IGluIGNhc2UgdGhleSBhcmUgdXNpbmdcbiAgLy8gYSBjdXN0b20gbGFiZWwgdXNpbmcgdGhlIGxhYmVsIGVsZW1lbnRcbiAgY29uc3QgY29tcG9uZW50SWQgPSBjb21wb25lbnRFbC5pZDtcbiAgbGV0IGxhYmVsSWQgPSBsYWJlbGxlZEJ5ICE9PSBudWxsICYmIGxhYmVsbGVkQnkudHJpbSgpICE9PSAnJ1xuICAgID8gbGFiZWxsZWRCeVxuICAgIDogaW5wdXRJZCArICctbGJsJztcbiAgbGV0IGxhYmVsID0gbGFiZWxsZWRCeSAhPT0gbnVsbCAmJiBsYWJlbGxlZEJ5LnRyaW0oKSAhPT0gJydcbiAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhYmVsbGVkQnkpXG4gICAgOiBmaW5kSXRlbUxhYmVsKGNvbXBvbmVudEVsKTtcbiAgaWYgKGxhYmVsKSB7XG4gICAgaWYgKGxhYmVsbGVkQnkgPT09IG51bGwpIHtcbiAgICAgIGxhYmVsLmlkID0gbGFiZWxJZDtcbiAgICB9XG4gICAgbGFiZWxUZXh0ID0gbGFiZWwudGV4dENvbnRlbnQ7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgLy8gaWYgdGhlcmUgaXMgbm8gbGFiZWwsIGNoZWNrIHRvIHNlZSBpZiB0aGUgdXNlciBoYXMgcHJvdmlkZWRcbiAgICAvLyBvbmUgYnkgc2V0dGluZyBhbiBpZCBvbiB0aGUgY29tcG9uZW50IGFuZCB1c2luZyB0aGUgbGFiZWwgZWxlbWVudFxuICB9XG4gIGVsc2UgaWYgKGNvbXBvbmVudElkLnRyaW0oKSAhPT0gJycpIHtcbiAgICBsYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7Y29tcG9uZW50SWR9XCJdYCk7XG4gICAgaWYgKGxhYmVsKSB7XG4gICAgICBpZiAobGFiZWwuaWQgIT09ICcnKSB7XG4gICAgICAgIGxhYmVsSWQgPSBsYWJlbC5pZDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsYWJlbC5pZCA9IGxhYmVsSWQgPSBgJHtjb21wb25lbnRJZH0tbGJsYDtcbiAgICAgIH1cbiAgICAgIGxhYmVsVGV4dCA9IGxhYmVsLnRleHRDb250ZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4geyBsYWJlbCwgbGFiZWxJZCwgbGFiZWxUZXh0IH07XG59O1xuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGFkZCBhIGhpZGRlbiBpbnB1dCB0byBhIGhvc3QgZWxlbWVudCB0aGF0IGNvbnRhaW5zXG4gKiBhIFNoYWRvdyBET00uIEl0IGRvZXMgbm90IGFkZCB0aGUgaW5wdXQgaW5zaWRlIG9mIHRoZSBTaGFkb3cgcm9vdCB3aGljaFxuICogYWxsb3dzIGl0IHRvIGJlIHBpY2tlZCB1cCBpbnNpZGUgb2YgZm9ybXMuIEl0IHNob3VsZCBjb250YWluIHRoZSBzYW1lXG4gKiB2YWx1ZXMgYXMgdGhlIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0gYWx3YXlzIEFkZCBhIGhpZGRlbiBpbnB1dCBldmVuIGlmIHRoZSBjb250YWluZXIgZG9lcyBub3QgdXNlIFNoYWRvd1xuICogQHBhcmFtIGNvbnRhaW5lciBUaGUgZWxlbWVudCB3aGVyZSB0aGUgaW5wdXQgd2lsbCBiZSBhZGRlZFxuICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGlucHV0XG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBpbnB1dFxuICogQHBhcmFtIGRpc2FibGVkIElmIHRydWUsIHRoZSBpbnB1dCBpcyBkaXNhYmxlZFxuICovXG5jb25zdCByZW5kZXJIaWRkZW5JbnB1dCA9IChhbHdheXMsIGNvbnRhaW5lciwgbmFtZSwgdmFsdWUsIGRpc2FibGVkKSA9PiB7XG4gIGlmIChhbHdheXMgfHwgaGFzU2hhZG93RG9tKGNvbnRhaW5lcikpIHtcbiAgICBsZXQgaW5wdXQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignaW5wdXQuYXV4LWlucHV0Jyk7XG4gICAgaWYgKCFpbnB1dCkge1xuICAgICAgaW5wdXQgPSBjb250YWluZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgaW5wdXQudHlwZSA9ICdoaWRkZW4nO1xuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZCgnYXV4LWlucHV0Jyk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgIH1cbiAgICBpbnB1dC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIGlucHV0Lm5hbWUgPSBuYW1lO1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgfHwgJyc7XG4gIH1cbn07XG5jb25zdCBjbGFtcCA9IChtaW4sIG4sIG1heCkgPT4ge1xuICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihuLCBtYXgpKTtcbn07XG5jb25zdCBhc3NlcnQgPSAoYWN0dWFsLCByZWFzb24pID0+IHtcbiAgaWYgKCFhY3R1YWwpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gJ0FTU0VSVDogJyArIHJlYXNvbjtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIGRlYnVnZ2VyOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59O1xuY29uc3Qgbm93ID0gKGV2KSA9PiB7XG4gIHJldHVybiBldi50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbn07XG5jb25zdCBwb2ludGVyQ29vcmQgPSAoZXYpID0+IHtcbiAgLy8gZ2V0IFggY29vcmRpbmF0ZXMgZm9yIGVpdGhlciBhIG1vdXNlIGNsaWNrXG4gIC8vIG9yIGEgdG91Y2ggZGVwZW5kaW5nIG9uIHRoZSBnaXZlbiBldmVudFxuICBpZiAoZXYpIHtcbiAgICBjb25zdCBjaGFuZ2VkVG91Y2hlcyA9IGV2LmNoYW5nZWRUb3VjaGVzO1xuICAgIGlmIChjaGFuZ2VkVG91Y2hlcyAmJiBjaGFuZ2VkVG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB0b3VjaCA9IGNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgcmV0dXJuIHsgeDogdG91Y2guY2xpZW50WCwgeTogdG91Y2guY2xpZW50WSB9O1xuICAgIH1cbiAgICBpZiAoZXYucGFnZVggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHsgeDogZXYucGFnZVgsIHk6IGV2LnBhZ2VZIH07XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbn07XG4vKipcbiAqIEBoaWRkZW5cbiAqIEdpdmVuIGEgc2lkZSwgcmV0dXJuIGlmIGl0IHNob3VsZCBiZSBvbiB0aGUgZW5kXG4gKiBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgZGlyXG4gKiBAcGFyYW0gc2lkZSB0aGUgc2lkZVxuICogQHBhcmFtIGlzUlRMIHdoZXRoZXIgdGhlIGFwcGxpY2F0aW9uIGRpciBpcyBydGxcbiAqL1xuY29uc3QgaXNFbmRTaWRlID0gKHNpZGUpID0+IHtcbiAgY29uc3QgaXNSVEwgPSBkb2N1bWVudC5kaXIgPT09ICdydGwnO1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICdzdGFydCc6IHJldHVybiBpc1JUTDtcbiAgICBjYXNlICdlbmQnOiByZXR1cm4gIWlzUlRMO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFwiJHtzaWRlfVwiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBbc2lkZV0uIFVzZSBcInN0YXJ0XCIgb3IgXCJlbmRcIiBpbnN0ZWFkLmApO1xuICB9XG59O1xuY29uc3QgZGVib3VuY2VFdmVudCA9IChldmVudCwgd2FpdCkgPT4ge1xuICBjb25zdCBvcmlnaW5hbCA9IGV2ZW50Ll9vcmlnaW5hbCB8fCBldmVudDtcbiAgcmV0dXJuIHtcbiAgICBfb3JpZ2luYWw6IGV2ZW50LFxuICAgIGVtaXQ6IGRlYm91bmNlKG9yaWdpbmFsLmVtaXQuYmluZChvcmlnaW5hbCksIHdhaXQpXG4gIH07XG59O1xuY29uc3QgZGVib3VuY2UgPSAoZnVuYywgd2FpdCA9IDApID0+IHtcbiAgbGV0IHRpbWVyO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jLCB3YWl0LCAuLi5hcmdzKTtcbiAgfTtcbn07XG5cbmV4cG9ydCB7IGFkZEV2ZW50TGlzdGVuZXIgYXMgYSwgcmVtb3ZlRXZlbnRMaXN0ZW5lciBhcyBiLCBjb21wb25lbnRPblJlYWR5IGFzIGMsIGNsYW1wIGFzIGQsIGdldEFyaWFMYWJlbCBhcyBlLCBmb2N1c0VsZW1lbnQgYXMgZiwgZ2V0RWxlbWVudFJvb3QgYXMgZywgcmVuZGVySGlkZGVuSW5wdXQgYXMgaCwgaW5oZXJpdEF0dHJpYnV0ZXMgYXMgaSwgZGVib3VuY2VFdmVudCBhcyBqLCBmaW5kSXRlbUxhYmVsIGFzIGssIGhhc1NoYWRvd0RvbSBhcyBsLCBhc3NlcnQgYXMgbSwgaXNFbmRTaWRlIGFzIG4sIGRlYm91bmNlIGFzIG8sIHBvaW50ZXJDb29yZCBhcyBwLCBub3cgYXMgcSwgcmFmIGFzIHIsIHRyYW5zaXRpb25FbmRBc3luYyBhcyB0IH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgTkFNRVNQQUNFID0gJ2lvbmljJztcblxubGV0IHNjb3BlSWQ7XG5sZXQgY29udGVudFJlZjtcbmxldCBob3N0VGFnTmFtZTtcbmxldCB1c2VOYXRpdmVTaGFkb3dEb20gPSBmYWxzZTtcbmxldCBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSBmYWxzZTtcbmxldCBjaGVja1Nsb3RSZWxvY2F0ZSA9IGZhbHNlO1xubGV0IGlzU3ZnTW9kZSA9IGZhbHNlO1xubGV0IHF1ZXVlUGVuZGluZyA9IGZhbHNlO1xuY29uc3Qgd2luID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbmNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudCB8fCB7IGhlYWQ6IHt9IH07XG5jb25zdCBwbHQgPSB7XG4gICAgJGZsYWdzJDogMCxcbiAgICAkcmVzb3VyY2VzVXJsJDogJycsXG4gICAgam1wOiAoaCkgPT4gaCgpLFxuICAgIHJhZjogKGgpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShoKSxcbiAgICBhZWw6IChlbCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cykgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSxcbiAgICByZWw6IChlbCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgb3B0cykgPT4gZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBvcHRzKSxcbiAgICBjZTogKGV2ZW50TmFtZSwgb3B0cykgPT4gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgb3B0cyksXG59O1xuY29uc3Qgc2V0UGxhdGZvcm1IZWxwZXJzID0gKGhlbHBlcnMpID0+IHtcbiAgICBPYmplY3QuYXNzaWduKHBsdCwgaGVscGVycyk7XG59O1xuY29uc3Qgc3VwcG9ydHNTaGFkb3cgPSB0cnVlO1xuY29uc3QgcHJvbWlzZVJlc29sdmUgPSAodikgPT4gUHJvbWlzZS5yZXNvbHZlKHYpO1xuY29uc3Qgc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMgPSAvKkBfX1BVUkVfXyovICgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBuZXcgQ1NTU3R5bGVTaGVldCgpLnJlcGxhY2UgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSkoKVxuICAgIDtcbmNvbnN0IGFkZEhvc3RFdmVudExpc3RlbmVycyA9IChlbG0sIGhvc3RSZWYsIGxpc3RlbmVycywgYXR0YWNoUGFyZW50TGlzdGVuZXJzKSA9PiB7XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICBsaXN0ZW5lcnMubWFwKChbZmxhZ3MsIG5hbWUsIG1ldGhvZF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGdldEhvc3RMaXN0ZW5lclRhcmdldChlbG0sIGZsYWdzKSA7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaG9zdExpc3RlbmVyUHJveHkoaG9zdFJlZiwgbWV0aG9kKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdHMgPSBob3N0TGlzdGVuZXJPcHRzKGZsYWdzKTtcbiAgICAgICAgICAgIHBsdC5hZWwodGFyZ2V0LCBuYW1lLCBoYW5kbGVyLCBvcHRzKTtcbiAgICAgICAgICAgIChob3N0UmVmLiRybUxpc3RlbmVycyQgPSBob3N0UmVmLiRybUxpc3RlbmVycyQgfHwgW10pLnB1c2goKCkgPT4gcGx0LnJlbCh0YXJnZXQsIG5hbWUsIGhhbmRsZXIsIG9wdHMpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufTtcbmNvbnN0IGhvc3RMaXN0ZW5lclByb3h5ID0gKGhvc3RSZWYsIG1ldGhvZE5hbWUpID0+IChldikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRmbGFncyQgJiAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLykge1xuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlIGlzIHJlYWR5LCBsZXQncyBjYWxsIGl0J3MgbWVtYmVyIG1ldGhvZCBmb3IgdGhpcyBldmVudFxuICAgICAgICAgICAgICAgIGhvc3RSZWYuJGxhenlJbnN0YW5jZSRbbWV0aG9kTmFtZV0oZXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgPSBob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkIHx8IFtdKS5wdXNoKFttZXRob2ROYW1lLCBldl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGVFcnJvcihlKTtcbiAgICB9XG59O1xuY29uc3QgZ2V0SG9zdExpc3RlbmVyVGFyZ2V0ID0gKGVsbSwgZmxhZ3MpID0+IHtcbiAgICBpZiAoZmxhZ3MgJiA0IC8qIFRhcmdldERvY3VtZW50ICovKVxuICAgICAgICByZXR1cm4gZG9jO1xuICAgIGlmIChmbGFncyAmIDggLyogVGFyZ2V0V2luZG93ICovKVxuICAgICAgICByZXR1cm4gd2luO1xuICAgIGlmIChmbGFncyAmIDE2IC8qIFRhcmdldEJvZHkgKi8pXG4gICAgICAgIHJldHVybiBkb2MuYm9keTtcbiAgICByZXR1cm4gZWxtO1xufTtcbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgaG9zdExpc3RlbmVyT3B0cyA9IChmbGFncykgPT4gKGZsYWdzICYgMiAvKiBDYXB0dXJlICovKSAhPT0gMDtcbmNvbnN0IENPTlRFTlRfUkVGX0lEID0gJ3InO1xuY29uc3QgT1JHX0xPQ0FUSU9OX0lEID0gJ28nO1xuY29uc3QgU0xPVF9OT0RFX0lEID0gJ3MnO1xuY29uc3QgVEVYVF9OT0RFX0lEID0gJ3QnO1xuY29uc3QgSFlEUkFURV9JRCA9ICdzLWlkJztcbmNvbnN0IEhZRFJBVEVEX1NUWUxFX0lEID0gJ3N0eS1pZCc7XG5jb25zdCBIWURSQVRFX0NISUxEX0lEID0gJ2MtaWQnO1xuY29uc3QgSFlEUkFURURfQ1NTID0gJ3t2aXNpYmlsaXR5OmhpZGRlbn0uaHlkcmF0ZWR7dmlzaWJpbGl0eTppbmhlcml0fSc7XG5jb25zdCBYTElOS19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJztcbmNvbnN0IGNyZWF0ZVRpbWUgPSAoZm5OYW1lLCB0YWdOYW1lID0gJycpID0+IHtcbiAgICB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxufTtcbmNvbnN0IHVuaXF1ZVRpbWUgPSAoa2V5LCBtZWFzdXJlVGV4dCkgPT4ge1xuICAgIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY29uc3Qgcm9vdEFwcGxpZWRTdHlsZXMgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmVnaXN0ZXJTdHlsZSA9IChzY29wZUlkLCBjc3NUZXh0LCBhbGxvd0NTKSA9PiB7XG4gICAgbGV0IHN0eWxlID0gc3R5bGVzLmdldChzY29wZUlkKTtcbiAgICBpZiAoc3VwcG9ydHNDb25zdHJ1Y3RpYmxlU3R5bGVzaGVldHMgJiYgYWxsb3dDUykge1xuICAgICAgICBzdHlsZSA9IChzdHlsZSB8fCBuZXcgQ1NTU3R5bGVTaGVldCgpKTtcbiAgICAgICAgc3R5bGUucmVwbGFjZShjc3NUZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0eWxlID0gY3NzVGV4dDtcbiAgICB9XG4gICAgc3R5bGVzLnNldChzY29wZUlkLCBzdHlsZSk7XG59O1xuY29uc3QgYWRkU3R5bGUgPSAoc3R5bGVDb250YWluZXJOb2RlLCBjbXBNZXRhLCBtb2RlLCBob3N0RWxtKSA9PiB7XG4gICAgbGV0IHNjb3BlSWQgPSBnZXRTY29wZUlkKGNtcE1ldGEsIG1vZGUpO1xuICAgIGxldCBzdHlsZSA9IHN0eWxlcy5nZXQoc2NvcGVJZCk7XG4gICAgLy8gaWYgYW4gZWxlbWVudCBpcyBOT1QgY29ubmVjdGVkIHRoZW4gZ2V0Um9vdE5vZGUoKSB3aWxsIHJldHVybiB0aGUgd3Jvbmcgcm9vdCBub2RlXG4gICAgLy8gc28gdGhlIGZhbGxiYWNrIGlzIHRvIGFsd2F5cyB1c2UgdGhlIGRvY3VtZW50IGZvciB0aGUgcm9vdCBub2RlIGluIHRob3NlIGNhc2VzXG4gICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLm5vZGVUeXBlID09PSAxMSAvKiBEb2N1bWVudEZyYWdtZW50ICovID8gc3R5bGVDb250YWluZXJOb2RlIDogZG9jO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgICBpZiAodHlwZW9mIHN0eWxlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlID0gc3R5bGVDb250YWluZXJOb2RlLmhlYWQgfHwgc3R5bGVDb250YWluZXJOb2RlO1xuICAgICAgICAgICAgbGV0IGFwcGxpZWRTdHlsZXMgPSByb290QXBwbGllZFN0eWxlcy5nZXQoc3R5bGVDb250YWluZXJOb2RlKTtcbiAgICAgICAgICAgIGxldCBzdHlsZUVsbTtcbiAgICAgICAgICAgIGlmICghYXBwbGllZFN0eWxlcykge1xuICAgICAgICAgICAgICAgIHJvb3RBcHBsaWVkU3R5bGVzLnNldChzdHlsZUNvbnRhaW5lck5vZGUsIChhcHBsaWVkU3R5bGVzID0gbmV3IFNldCgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWFwcGxpZWRTdHlsZXMuaGFzKHNjb3BlSWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlQ29udGFpbmVyTm9kZS5ob3N0ICYmXG4gICAgICAgICAgICAgICAgICAgIChzdHlsZUVsbSA9IHN0eWxlQ29udGFpbmVyTm9kZS5xdWVyeVNlbGVjdG9yKGBbJHtIWURSQVRFRF9TVFlMRV9JRH09XCIke3Njb3BlSWR9XCJdYCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgb25seSBoYXBwZW5pbmcgb24gbmF0aXZlIHNoYWRvdy1kb20sIGRvIG5vdCBuZWVkcyBDU1MgdmFyIHNoaW1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0uaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUVsbSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVFbG0uaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGVDb250YWluZXJOb2RlLmluc2VydEJlZm9yZShzdHlsZUVsbSwgc3R5bGVDb250YWluZXJOb2RlLnF1ZXJ5U2VsZWN0b3IoJ2xpbmsnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcHBsaWVkU3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpZWRTdHlsZXMuYWRkKHNjb3BlSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cy5pbmNsdWRlcyhzdHlsZSkpIHtcbiAgICAgICAgICAgIHN0eWxlQ29udGFpbmVyTm9kZS5hZG9wdGVkU3R5bGVTaGVldHMgPSBbLi4uc3R5bGVDb250YWluZXJOb2RlLmFkb3B0ZWRTdHlsZVNoZWV0cywgc3R5bGVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzY29wZUlkO1xufTtcbmNvbnN0IGF0dGFjaFN0eWxlcyA9IChob3N0UmVmKSA9PiB7XG4gICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBmbGFncyA9IGNtcE1ldGEuJGZsYWdzJDtcbiAgICBjb25zdCBlbmRBdHRhY2hTdHlsZXMgPSBjcmVhdGVUaW1lKCdhdHRhY2hTdHlsZXMnLCBjbXBNZXRhLiR0YWdOYW1lJCk7XG4gICAgY29uc3Qgc2NvcGVJZCA9IGFkZFN0eWxlKGVsbS5zaGFkb3dSb290ID8gZWxtLnNoYWRvd1Jvb3QgOiBlbG0uZ2V0Um9vdE5vZGUoKSwgY21wTWV0YSwgaG9zdFJlZi4kbW9kZU5hbWUkKTtcbiAgICBpZiAoZmxhZ3MgJiAxMCAvKiBuZWVkc1Njb3BlZEVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgLy8gb25seSByZXF1aXJlZCB3aGVuIHdlJ3JlIE5PVCB1c2luZyBuYXRpdmUgc2hhZG93IGRvbSAoc2xvdClcbiAgICAgICAgLy8gb3IgdGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBuYXRpdmUgc2hhZG93IGRvbVxuICAgICAgICAvLyBhbmQgdGhpcyBob3N0IGVsZW1lbnQgd2FzIE5PVCBjcmVhdGVkIHdpdGggU1NSXG4gICAgICAgIC8vIGxldCdzIHBpY2sgb3V0IHRoZSBpbm5lciBjb250ZW50IGZvciBzbG90IHByb2plY3Rpb25cbiAgICAgICAgLy8gY3JlYXRlIGEgbm9kZSB0byByZXByZXNlbnQgd2hlcmUgdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIGNvbnRlbnQgd2FzIGZpcnN0IHBsYWNlZCwgd2hpY2ggaXMgdXNlZnVsIGxhdGVyIG9uXG4gICAgICAgIC8vIERPTSBXUklURSEhXG4gICAgICAgIGVsbVsncy1zYyddID0gc2NvcGVJZDtcbiAgICAgICAgZWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArICctaCcpO1xuICAgICAgICBpZiAoZmxhZ3MgJiAyIC8qIHNjb3BlZENzc0VuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKHNjb3BlSWQgKyAnLXMnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbmRBdHRhY2hTdHlsZXMoKTtcbn07XG5jb25zdCBnZXRTY29wZUlkID0gKGNtcCwgbW9kZSkgPT4gJ3NjLScgKyAobW9kZSAmJiBjbXAuJGZsYWdzJCAmIDMyIC8qIGhhc01vZGUgKi8gPyBjbXAuJHRhZ05hbWUkICsgJy0nICsgbW9kZSA6IGNtcC4kdGFnTmFtZSQpO1xuY29uc3QgY29udmVydFNjb3BlZFRvU2hhZG93ID0gKGNzcykgPT4gY3NzLnJlcGxhY2UoL1xcL1xcKiFAKFteXFwvXSspXFwqXFwvW15cXHtdK1xcey9nLCAnJDF7Jyk7XG4vLyBQcml2YXRlXG5jb25zdCBjb21wdXRlTW9kZSA9IChlbG0pID0+IG1vZGVSZXNvbHV0aW9uQ2hhaW4ubWFwKChoKSA9PiBoKGVsbSkpLmZpbmQoKG0pID0+ICEhbSk7XG4vLyBQdWJsaWNcbmNvbnN0IHNldE1vZGUgPSAoaGFuZGxlcikgPT4gbW9kZVJlc29sdXRpb25DaGFpbi5wdXNoKGhhbmRsZXIpO1xuY29uc3QgZ2V0TW9kZSA9IChyZWYpID0+IGdldEhvc3RSZWYocmVmKS4kbW9kZU5hbWUkO1xuLyoqXG4gKiBEZWZhdWx0IHN0eWxlIG1vZGUgaWRcbiAqL1xuLyoqXG4gKiBSZXVzYWJsZSBlbXB0eSBvYmovYXJyYXlcbiAqIERvbid0IGFkZCB2YWx1ZXMgdG8gdGhlc2UhIVxuICovXG5jb25zdCBFTVBUWV9PQkogPSB7fTtcbi8qKlxuICogTmFtZXNwYWNlc1xuICovXG5jb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuY29uc3QgSFRNTF9OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sJztcbmNvbnN0IGlzRGVmID0gKHYpID0+IHYgIT0gbnVsbDtcbmNvbnN0IGlzQ29tcGxleFR5cGUgPSAobykgPT4ge1xuICAgIC8vIGh0dHBzOi8vanNwZXJmLmNvbS90eXBlb2YtZm4tb2JqZWN0LzVcbiAgICBvID0gdHlwZW9mIG87XG4gICAgcmV0dXJuIG8gPT09ICdvYmplY3QnIHx8IG8gPT09ICdmdW5jdGlvbic7XG59O1xuLyoqXG4gKiBQcm9kdWN0aW9uIGgoKSBmdW5jdGlvbiBiYXNlZCBvbiBQcmVhY3QgYnlcbiAqIEphc29uIE1pbGxlciAoQGRldmVsb3BpdClcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICpcbiAqIE1vZGlmaWVkIGZvciBTdGVuY2lsJ3MgY29tcGlsZXIgYW5kIHZkb21cbiAqL1xuLy8gY29uc3Qgc3RhY2s6IGFueVtdID0gW107XG4vLyBleHBvcnQgZnVuY3Rpb24gaChub2RlTmFtZTogc3RyaW5nIHwgZC5GdW5jdGlvbmFsQ29tcG9uZW50LCB2bm9kZURhdGE6IGQuUHJvcHNUeXBlLCBjaGlsZD86IGQuQ2hpbGRUeXBlKTogZC5WTm9kZTtcbi8vIGV4cG9ydCBmdW5jdGlvbiBoKG5vZGVOYW1lOiBzdHJpbmcgfCBkLkZ1bmN0aW9uYWxDb21wb25lbnQsIHZub2RlRGF0YTogZC5Qcm9wc1R5cGUsIC4uLmNoaWxkcmVuOiBkLkNoaWxkVHlwZVtdKTogZC5WTm9kZTtcbmNvbnN0IGggPSAobm9kZU5hbWUsIHZub2RlRGF0YSwgLi4uY2hpbGRyZW4pID0+IHtcbiAgICBsZXQgY2hpbGQgPSBudWxsO1xuICAgIGxldCBrZXkgPSBudWxsO1xuICAgIGxldCBzbG90TmFtZSA9IG51bGw7XG4gICAgbGV0IHNpbXBsZSA9IGZhbHNlO1xuICAgIGxldCBsYXN0U2ltcGxlID0gZmFsc2U7XG4gICAgbGV0IHZOb2RlQ2hpbGRyZW4gPSBbXTtcbiAgICBjb25zdCB3YWxrID0gKGMpID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNbaV07XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICB3YWxrKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkICE9IG51bGwgJiYgdHlwZW9mIGNoaWxkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHNpbXBsZSA9IHR5cGVvZiBub2RlTmFtZSAhPT0gJ2Z1bmN0aW9uJyAmJiAhaXNDb21wbGV4VHlwZShjaGlsZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpbXBsZSAmJiBsYXN0U2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwcmV2aW91cyBjaGlsZCB3YXMgc2ltcGxlIChzdHJpbmcpLCB3ZSBtZXJnZSBib3RoXG4gICAgICAgICAgICAgICAgICAgIHZOb2RlQ2hpbGRyZW5bdk5vZGVDaGlsZHJlbi5sZW5ndGggLSAxXS4kdGV4dCQgKz0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYSBuZXcgdk5vZGUsIGlmIGl0J3MgdGV4dCwgd2UgY3JlYXRlIGEgdGV4dCB2Tm9kZVxuICAgICAgICAgICAgICAgICAgICB2Tm9kZUNoaWxkcmVuLnB1c2goc2ltcGxlID8gbmV3Vk5vZGUobnVsbCwgY2hpbGQpIDogY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0U2ltcGxlID0gc2ltcGxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB3YWxrKGNoaWxkcmVuKTtcbiAgICBpZiAodm5vZGVEYXRhKSB7XG4gICAgICAgIC8vIG5vcm1hbGl6ZSBjbGFzcyAvIGNsYXNzbmFtZSBhdHRyaWJ1dGVzXG4gICAgICAgIGlmICh2bm9kZURhdGEua2V5KSB7XG4gICAgICAgICAgICBrZXkgPSB2bm9kZURhdGEua2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZURhdGEubmFtZSkge1xuICAgICAgICAgICAgc2xvdE5hbWUgPSB2bm9kZURhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc0RhdGEgPSB2bm9kZURhdGEuY2xhc3NOYW1lIHx8IHZub2RlRGF0YS5jbGFzcztcbiAgICAgICAgICAgIGlmIChjbGFzc0RhdGEpIHtcbiAgICAgICAgICAgICAgICB2bm9kZURhdGEuY2xhc3MgPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgY2xhc3NEYXRhICE9PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBjbGFzc0RhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LmtleXMoY2xhc3NEYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGspID0+IGNsYXNzRGF0YVtrXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygbm9kZU5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gbm9kZU5hbWUgaXMgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuICAgICAgICByZXR1cm4gbm9kZU5hbWUodm5vZGVEYXRhID09PSBudWxsID8ge30gOiB2bm9kZURhdGEsIHZOb2RlQ2hpbGRyZW4sIHZkb21GblV0aWxzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBuZXdWTm9kZShub2RlTmFtZSwgbnVsbCk7XG4gICAgdm5vZGUuJGF0dHJzJCA9IHZub2RlRGF0YTtcbiAgICBpZiAodk5vZGVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZub2RlLiRjaGlsZHJlbiQgPSB2Tm9kZUNoaWxkcmVuO1xuICAgIH1cbiAgICB7XG4gICAgICAgIHZub2RlLiRrZXkkID0ga2V5O1xuICAgIH1cbiAgICB7XG4gICAgICAgIHZub2RlLiRuYW1lJCA9IHNsb3ROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59O1xuY29uc3QgbmV3Vk5vZGUgPSAodGFnLCB0ZXh0KSA9PiB7XG4gICAgY29uc3Qgdm5vZGUgPSB7XG4gICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICR0YWckOiB0YWcsXG4gICAgICAgICR0ZXh0JDogdGV4dCxcbiAgICAgICAgJGVsbSQ6IG51bGwsXG4gICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgfTtcbiAgICB7XG4gICAgICAgIHZub2RlLiRhdHRycyQgPSBudWxsO1xuICAgIH1cbiAgICB7XG4gICAgICAgIHZub2RlLiRrZXkkID0gbnVsbDtcbiAgICB9XG4gICAge1xuICAgICAgICB2bm9kZS4kbmFtZSQgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG59O1xuY29uc3QgSG9zdCA9IHt9O1xuY29uc3QgaXNIb3N0ID0gKG5vZGUpID0+IG5vZGUgJiYgbm9kZS4kdGFnJCA9PT0gSG9zdDtcbmNvbnN0IHZkb21GblV0aWxzID0ge1xuICAgIGZvckVhY2g6IChjaGlsZHJlbiwgY2IpID0+IGNoaWxkcmVuLm1hcChjb252ZXJ0VG9QdWJsaWMpLmZvckVhY2goY2IpLFxuICAgIG1hcDogKGNoaWxkcmVuLCBjYikgPT4gY2hpbGRyZW4ubWFwKGNvbnZlcnRUb1B1YmxpYykubWFwKGNiKS5tYXAoY29udmVydFRvUHJpdmF0ZSksXG59O1xuY29uc3QgY29udmVydFRvUHVibGljID0gKG5vZGUpID0+ICh7XG4gICAgdmF0dHJzOiBub2RlLiRhdHRycyQsXG4gICAgdmNoaWxkcmVuOiBub2RlLiRjaGlsZHJlbiQsXG4gICAgdmtleTogbm9kZS4ka2V5JCxcbiAgICB2bmFtZTogbm9kZS4kbmFtZSQsXG4gICAgdnRhZzogbm9kZS4kdGFnJCxcbiAgICB2dGV4dDogbm9kZS4kdGV4dCQsXG59KTtcbmNvbnN0IGNvbnZlcnRUb1ByaXZhdGUgPSAobm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygbm9kZS52dGFnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IHZub2RlRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIG5vZGUudmF0dHJzKTtcbiAgICAgICAgaWYgKG5vZGUudmtleSkge1xuICAgICAgICAgICAgdm5vZGVEYXRhLmtleSA9IG5vZGUudmtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS52bmFtZSkge1xuICAgICAgICAgICAgdm5vZGVEYXRhLm5hbWUgPSBub2RlLnZuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoKG5vZGUudnRhZywgdm5vZGVEYXRhLCAuLi4obm9kZS52Y2hpbGRyZW4gfHwgW10pKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBuZXdWTm9kZShub2RlLnZ0YWcsIG5vZGUudnRleHQpO1xuICAgIHZub2RlLiRhdHRycyQgPSBub2RlLnZhdHRycztcbiAgICB2bm9kZS4kY2hpbGRyZW4kID0gbm9kZS52Y2hpbGRyZW47XG4gICAgdm5vZGUuJGtleSQgPSBub2RlLnZrZXk7XG4gICAgdm5vZGUuJG5hbWUkID0gbm9kZS52bmFtZTtcbiAgICByZXR1cm4gdm5vZGU7XG59O1xuLyoqXG4gKiBQcm9kdWN0aW9uIHNldEFjY2Vzc29yKCkgZnVuY3Rpb24gYmFzZWQgb24gUHJlYWN0IGJ5XG4gKiBKYXNvbiBNaWxsZXIgKEBkZXZlbG9waXQpXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXZlbG9waXQvcHJlYWN0L2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBNb2RpZmllZCBmb3IgU3RlbmNpbCdzIGNvbXBpbGVyIGFuZCB2ZG9tXG4gKi9cbmNvbnN0IHNldEFjY2Vzc29yID0gKGVsbSwgbWVtYmVyTmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlLCBpc1N2ZywgZmxhZ3MpID0+IHtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgIGxldCBpc1Byb3AgPSBpc01lbWJlckluRWxlbWVudChlbG0sIG1lbWJlck5hbWUpO1xuICAgICAgICBsZXQgbG4gPSBtZW1iZXJOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChtZW1iZXJOYW1lID09PSAnY2xhc3MnKSB7XG4gICAgICAgICAgICBjb25zdCBjbGFzc0xpc3QgPSBlbG0uY2xhc3NMaXN0O1xuICAgICAgICAgICAgY29uc3Qgb2xkQ2xhc3NlcyA9IHBhcnNlQ2xhc3NMaXN0KG9sZFZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NsYXNzZXMgPSBwYXJzZUNsYXNzTGlzdChuZXdWYWx1ZSk7XG4gICAgICAgICAgICBjbGFzc0xpc3QucmVtb3ZlKC4uLm9sZENsYXNzZXMuZmlsdGVyKChjKSA9PiBjICYmICFuZXdDbGFzc2VzLmluY2x1ZGVzKGMpKSk7XG4gICAgICAgICAgICBjbGFzc0xpc3QuYWRkKC4uLm5ld0NsYXNzZXMuZmlsdGVyKChjKSA9PiBjICYmICFvbGRDbGFzc2VzLmluY2x1ZGVzKGMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVtYmVyTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHN0eWxlIGF0dHJpYnV0ZSwgY3NzIHByb3BlcnRpZXMgYW5kIHZhbHVlc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5ld1ZhbHVlIHx8IG5ld1ZhbHVlW3Byb3BdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGVbcHJvcF0gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghb2xkVmFsdWUgfHwgbmV3VmFsdWVbcHJvcF0gIT09IG9sZFZhbHVlW3Byb3BdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsbS5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wLCBuZXdWYWx1ZVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0uc3R5bGVbcHJvcF0gPSBuZXdWYWx1ZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZW1iZXJOYW1lID09PSAna2V5JylcbiAgICAgICAgICAgIDtcbiAgICAgICAgZWxzZSBpZiAobWVtYmVyTmFtZSA9PT0gJ3JlZicpIHtcbiAgICAgICAgICAgIC8vIG1pbmlmaWVyIHdpbGwgY2xlYW4gdGhpcyB1cFxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWUoZWxtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoIWlzUHJvcCApICYmXG4gICAgICAgICAgICBtZW1iZXJOYW1lWzBdID09PSAnbycgJiZcbiAgICAgICAgICAgIG1lbWJlck5hbWVbMV0gPT09ICduJykge1xuICAgICAgICAgICAgLy8gRXZlbnQgSGFuZGxlcnNcbiAgICAgICAgICAgIC8vIHNvIGlmIHRoZSBtZW1iZXIgbmFtZSBzdGFydHMgd2l0aCBcIm9uXCIgYW5kIHRoZSAzcmQgY2hhcmFjdGVycyBpc1xuICAgICAgICAgICAgLy8gYSBjYXBpdGFsIGxldHRlciwgYW5kIGl0J3Mgbm90IGFscmVhZHkgYSBtZW1iZXIgb24gdGhlIGVsZW1lbnQsXG4gICAgICAgICAgICAvLyB0aGVuIHdlJ3JlIGFzc3VtaW5nIGl0J3MgYW4gZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgIGlmIChtZW1iZXJOYW1lWzJdID09PSAnLScpIHtcbiAgICAgICAgICAgICAgICAvLyBvbi0gcHJlZml4ZWQgZXZlbnRzXG4gICAgICAgICAgICAgICAgLy8gYWxsb3dzIHRvIGJlIGV4cGxpY2l0IGFib3V0IHRoZSBkb20gZXZlbnQgdG8gbGlzdGVuIHdpdGhvdXQgYW55IG1hZ2ljXG4gICAgICAgICAgICAgICAgLy8gdW5kZXIgdGhlIGhvb2Q6XG4gICAgICAgICAgICAgICAgLy8gPG15LWNtcCBvbi1jbGljaz4gLy8gbGlzdGVucyBmb3IgXCJjbGlja1wiXG4gICAgICAgICAgICAgICAgLy8gPG15LWNtcCBvbi1DbGljaz4gLy8gbGlzdGVucyBmb3IgXCJDbGlja1wiXG4gICAgICAgICAgICAgICAgLy8gPG15LWNtcCBvbi1pb25DaGFuZ2U+IC8vIGxpc3RlbnMgZm9yIFwiaW9uQ2hhbmdlXCJcbiAgICAgICAgICAgICAgICAvLyA8bXktY21wIG9uLUVWRU5UUz4gLy8gbGlzdGVucyBmb3IgXCJFVkVOVFNcIlxuICAgICAgICAgICAgICAgIG1lbWJlck5hbWUgPSBtZW1iZXJOYW1lLnNsaWNlKDMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNNZW1iZXJJbkVsZW1lbnQod2luLCBsbikpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZCBldmVudFxuICAgICAgICAgICAgICAgIC8vIHRoZSBKU1ggYXR0cmlidXRlIGNvdWxkIGhhdmUgYmVlbiBcIm9uTW91c2VPdmVyXCIgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIG1lbWJlciBuYW1lIFwib25tb3VzZW92ZXJcIiBpcyBvbiB0aGUgd2luZG93J3MgcHJvdG90eXBlXG4gICAgICAgICAgICAgICAgLy8gc28gbGV0J3MgYWRkIHRoZSBsaXN0ZW5lciBcIm1vdXNlb3ZlclwiLCB3aGljaCBpcyBhbGwgbG93ZXJjYXNlZFxuICAgICAgICAgICAgICAgIG1lbWJlck5hbWUgPSBsbi5zbGljZSgyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBldmVudFxuICAgICAgICAgICAgICAgIC8vIHRoZSBKU1ggYXR0cmlidXRlIGNvdWxkIGhhdmUgYmVlbiBcIm9uTXlDdXN0b21FdmVudFwiXG4gICAgICAgICAgICAgICAgLy8gc28gbGV0J3MgdHJpbSBvZmYgdGhlIFwib25cIiBwcmVmaXggYW5kIGxvd2VyY2FzZSB0aGUgZmlyc3QgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgLy8gYW5kIGFkZCB0aGUgbGlzdGVuZXIgXCJteUN1c3RvbUV2ZW50XCJcbiAgICAgICAgICAgICAgICAvLyBleGNlcHQgZm9yIHRoZSBmaXJzdCBjaGFyYWN0ZXIsIHdlIGtlZXAgdGhlIGV2ZW50IG5hbWUgY2FzZVxuICAgICAgICAgICAgICAgIG1lbWJlck5hbWUgPSBsblsyXSArIG1lbWJlck5hbWUuc2xpY2UoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwbHQucmVsKGVsbSwgbWVtYmVyTmFtZSwgb2xkVmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5hZWwoZWxtLCBtZW1iZXJOYW1lLCBuZXdWYWx1ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2V0IHByb3BlcnR5IGlmIGl0IGV4aXN0cyBhbmQgaXQncyBub3QgYSBTVkdcbiAgICAgICAgICAgIGNvbnN0IGlzQ29tcGxleCA9IGlzQ29tcGxleFR5cGUobmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKChpc1Byb3AgfHwgKGlzQ29tcGxleCAmJiBuZXdWYWx1ZSAhPT0gbnVsbCkpICYmICFpc1N2Zykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZWxtLnRhZ05hbWUuaW5jbHVkZXMoJy0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBuZXdWYWx1ZSA9PSBudWxsID8gJycgOiBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIFNhZmFyaSwgbW92aW5nIHRoZSA8aW5wdXQ+IGNhcmV0IHdoZW4gcmUtYXNzaWduaW5nIHRoZSBzYW1lIHZhbHVlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlck5hbWUgPT09ICdsaXN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUHJvcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkVmFsdWUgPT0gbnVsbCB8fCBlbG1bbWVtYmVyTmFtZV0gIT0gbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsbVttZW1iZXJOYW1lXSA9IG47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIE5lZWQgdG8gbWFudWFsbHkgdXBkYXRlIGF0dHJpYnV0ZSBpZjpcbiAgICAgICAgICAgICAqIC0gbWVtYmVyTmFtZSBpcyBub3QgYW4gYXR0cmlidXRlXG4gICAgICAgICAgICAgKiAtIGlmIHdlIGFyZSByZW5kZXJpbmcgdGhlIGhvc3QgZWxlbWVudCBpbiBvcmRlciB0byByZWZsZWN0IGF0dHJpYnV0ZVxuICAgICAgICAgICAgICogLSBpZiBpdCdzIGEgU1ZHLCBzaW5jZSBwcm9wZXJ0aWVzIG1pZ2h0IG5vdCB3b3JrIGluIDxzdmc+XG4gICAgICAgICAgICAgKiAtIGlmIHRoZSBuZXdWYWx1ZSBpcyBudWxsL3VuZGVmaW5lZCBvciAnZmFsc2UnLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgeGxpbmsgPSBmYWxzZTtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobG4gIT09IChsbiA9IGxuLnJlcGxhY2UoL154bGlua1xcOj8vLCAnJykpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbWJlck5hbWUgPSBsbjtcbiAgICAgICAgICAgICAgICAgICAgeGxpbmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PSBudWxsIHx8IG5ld1ZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gZmFsc2UgfHwgZWxtLmdldEF0dHJpYnV0ZShtZW1iZXJOYW1lKSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhsaW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlTlMoWExJTktfTlMsIG1lbWJlck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZShtZW1iZXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCghaXNQcm9wIHx8IGZsYWdzICYgNCAvKiBpc0hvc3QgKi8gfHwgaXNTdmcpICYmICFpc0NvbXBsZXgpIHtcbiAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlID09PSB0cnVlID8gJycgOiBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoeGxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZU5TKFhMSU5LX05TLCBtZW1iZXJOYW1lLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKG1lbWJlck5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcGFyc2VDbGFzc0xpc3RSZWdleCA9IC9cXHMvO1xuY29uc3QgcGFyc2VDbGFzc0xpc3QgPSAodmFsdWUpID0+ICghdmFsdWUgPyBbXSA6IHZhbHVlLnNwbGl0KHBhcnNlQ2xhc3NMaXN0UmVnZXgpKTtcbmNvbnN0IHVwZGF0ZUVsZW1lbnQgPSAob2xkVm5vZGUsIG5ld1Zub2RlLCBpc1N2Z01vZGUsIG1lbWJlck5hbWUpID0+IHtcbiAgICAvLyBpZiB0aGUgZWxlbWVudCBwYXNzZWQgaW4gaXMgYSBzaGFkb3cgcm9vdCwgd2hpY2ggaXMgYSBkb2N1bWVudCBmcmFnbWVudFxuICAgIC8vIHRoZW4gd2Ugd2FudCB0byBiZSBhZGRpbmcgYXR0cnMvcHJvcHMgdG8gdGhlIHNoYWRvdyByb290J3MgXCJob3N0XCIgZWxlbWVudFxuICAgIC8vIGlmIGl0J3Mgbm90IGEgc2hhZG93IHJvb3QsIHRoZW4gd2UgYWRkIGF0dHJzL3Byb3BzIHRvIHRoZSBzYW1lIGVsZW1lbnRcbiAgICBjb25zdCBlbG0gPSBuZXdWbm9kZS4kZWxtJC5ub2RlVHlwZSA9PT0gMTEgLyogRG9jdW1lbnRGcmFnbWVudCAqLyAmJiBuZXdWbm9kZS4kZWxtJC5ob3N0XG4gICAgICAgID8gbmV3Vm5vZGUuJGVsbSQuaG9zdFxuICAgICAgICA6IG5ld1Zub2RlLiRlbG0kO1xuICAgIGNvbnN0IG9sZFZub2RlQXR0cnMgPSAob2xkVm5vZGUgJiYgb2xkVm5vZGUuJGF0dHJzJCkgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Zub2RlQXR0cnMgPSBuZXdWbm9kZS4kYXR0cnMkIHx8IEVNUFRZX09CSjtcbiAgICB7XG4gICAgICAgIC8vIHJlbW92ZSBhdHRyaWJ1dGVzIG5vIGxvbmdlciBwcmVzZW50IG9uIHRoZSB2bm9kZSBieSBzZXR0aW5nIHRoZW0gdG8gdW5kZWZpbmVkXG4gICAgICAgIGZvciAobWVtYmVyTmFtZSBpbiBvbGRWbm9kZUF0dHJzKSB7XG4gICAgICAgICAgICBpZiAoIShtZW1iZXJOYW1lIGluIG5ld1Zub2RlQXR0cnMpKSB7XG4gICAgICAgICAgICAgICAgc2V0QWNjZXNzb3IoZWxtLCBtZW1iZXJOYW1lLCBvbGRWbm9kZUF0dHJzW21lbWJlck5hbWVdLCB1bmRlZmluZWQsIGlzU3ZnTW9kZSwgbmV3Vm5vZGUuJGZsYWdzJCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gYWRkIG5ldyAmIHVwZGF0ZSBjaGFuZ2VkIGF0dHJpYnV0ZXNcbiAgICBmb3IgKG1lbWJlck5hbWUgaW4gbmV3Vm5vZGVBdHRycykge1xuICAgICAgICBzZXRBY2Nlc3NvcihlbG0sIG1lbWJlck5hbWUsIG9sZFZub2RlQXR0cnNbbWVtYmVyTmFtZV0sIG5ld1Zub2RlQXR0cnNbbWVtYmVyTmFtZV0sIGlzU3ZnTW9kZSwgbmV3Vm5vZGUuJGZsYWdzJCk7XG4gICAgfVxufTtcbmNvbnN0IGNyZWF0ZUVsbSA9IChvbGRQYXJlbnRWTm9kZSwgbmV3UGFyZW50Vk5vZGUsIGNoaWxkSW5kZXgsIHBhcmVudEVsbSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogcHJlZmVyLWNvbnN0XG4gICAgbGV0IG5ld1ZOb2RlID0gbmV3UGFyZW50Vk5vZGUuJGNoaWxkcmVuJFtjaGlsZEluZGV4XTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGVsbTtcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGxldCBvbGRWTm9kZTtcbiAgICBpZiAoIXVzZU5hdGl2ZVNoYWRvd0RvbSkge1xuICAgICAgICAvLyByZW1lbWJlciBmb3IgbGF0ZXIgd2UgbmVlZCB0byBjaGVjayB0byByZWxvY2F0ZSBub2Rlc1xuICAgICAgICBjaGVja1Nsb3RSZWxvY2F0ZSA9IHRydWU7XG4gICAgICAgIGlmIChuZXdWTm9kZS4kdGFnJCA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgICAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgICAgICAgICAgIC8vIHNjb3BlZCBjc3MgbmVlZHMgdG8gYWRkIGl0cyBzY29wZWQgaWQgdG8gdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgcGFyZW50RWxtLmNsYXNzTGlzdC5hZGQoc2NvcGVJZCArICctcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3Vk5vZGUuJGZsYWdzJCB8PSBuZXdWTm9kZS4kY2hpbGRyZW4kXG4gICAgICAgICAgICAgICAgPyAvLyBzbG90IGVsZW1lbnQgaGFzIGZhbGxiYWNrIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgMiAvKiBpc1Nsb3RGYWxsYmFjayAqL1xuICAgICAgICAgICAgICAgIDogLy8gc2xvdCBlbGVtZW50IGRvZXMgbm90IGhhdmUgZmFsbGJhY2sgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAxIC8qIGlzU2xvdFJlZmVyZW5jZSAqLztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobmV3Vk5vZGUuJHRleHQkICE9PSBudWxsKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0ZXh0IG5vZGVcbiAgICAgICAgZWxtID0gbmV3Vk5vZGUuJGVsbSQgPSBkb2MuY3JlYXRlVGV4dE5vZGUobmV3Vk5vZGUuJHRleHQkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV3Vk5vZGUuJGZsYWdzJCAmIDEgLyogaXNTbG90UmVmZXJlbmNlICovKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIHNsb3QgcmVmZXJlbmNlIG5vZGVcbiAgICAgICAgZWxtID0gbmV3Vk5vZGUuJGVsbSQgPVxuICAgICAgICAgICAgZG9jLmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghaXNTdmdNb2RlKSB7XG4gICAgICAgICAgICBpc1N2Z01vZGUgPSBuZXdWTm9kZS4kdGFnJCA9PT0gJ3N2Zyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIGVsZW1lbnRcbiAgICAgICAgZWxtID0gbmV3Vk5vZGUuJGVsbSQgPSAoZG9jLmNyZWF0ZUVsZW1lbnROUyhpc1N2Z01vZGUgPyBTVkdfTlMgOiBIVE1MX05TLCBuZXdWTm9kZS4kZmxhZ3MkICYgMiAvKiBpc1Nsb3RGYWxsYmFjayAqL1xuICAgICAgICAgICAgICAgID8gJ3Nsb3QtZmInXG4gICAgICAgICAgICAgICAgOiBuZXdWTm9kZS4kdGFnJClcbiAgICAgICAgICAgICk7XG4gICAgICAgIGlmIChpc1N2Z01vZGUgJiYgbmV3Vk5vZGUuJHRhZyQgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgICAgICAgICAgaXNTdmdNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGNzcyBjbGFzc2VzLCBhdHRycywgcHJvcHMsIGxpc3RlbmVycywgZXRjLlxuICAgICAgICB7XG4gICAgICAgICAgICB1cGRhdGVFbGVtZW50KG51bGwsIG5ld1ZOb2RlLCBpc1N2Z01vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZihzY29wZUlkKSAmJiBlbG1bJ3Mtc2knXSAhPT0gc2NvcGVJZCkge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzY29wZUlkIGFuZCB0aGlzIGlzIHRoZSBpbml0aWFsIHJlbmRlclxuICAgICAgICAgICAgLy8gdGhlbiBsZXQncyBhZGQgdGhlIHNjb3BlSWQgYXMgYSBjc3MgY2xhc3NcbiAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKChlbG1bJ3Mtc2knXSA9IHNjb3BlSWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld1ZOb2RlLiRjaGlsZHJlbiQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgdGhlIG5vZGVcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0ob2xkUGFyZW50Vk5vZGUsIG5ld1ZOb2RlLCBpLCBlbG0pO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiBub2RlIGNvdWxkIGhhdmUgYmVlbiBudWxsXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhcHBlbmQgb3VyIG5ldyBub2RlXG4gICAgICAgICAgICAgICAgICAgIGVsbS5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3Vk5vZGUuJHRhZyQgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSByZXNldCB0aGUgU1ZHIGNvbnRleHQgd2hlbiB3ZSdyZSBleGl0aW5nIDxzdmc+IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVsbS50YWdOYW1lID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBSZWVudGVyIFNWRyBjb250ZXh0IHdoZW4gd2UncmUgZXhpdGluZyA8Zm9yZWlnbk9iamVjdD4gZWxlbWVudFxuICAgICAgICAgICAgICAgIGlzU3ZnTW9kZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgICBlbG1bJ3MtaG4nXSA9IGhvc3RUYWdOYW1lO1xuICAgICAgICBpZiAobmV3Vk5vZGUuJGZsYWdzJCAmICgyIC8qIGlzU2xvdEZhbGxiYWNrICovIHwgMSAvKiBpc1Nsb3RSZWZlcmVuY2UgKi8pKSB7XG4gICAgICAgICAgICAvLyByZW1lbWJlciB0aGUgY29udGVudCByZWZlcmVuY2UgY29tbWVudFxuICAgICAgICAgICAgZWxtWydzLXNyJ10gPSB0cnVlO1xuICAgICAgICAgICAgLy8gcmVtZW1iZXIgdGhlIGNvbnRlbnQgcmVmZXJlbmNlIGNvbW1lbnRcbiAgICAgICAgICAgIGVsbVsncy1jciddID0gY29udGVudFJlZjtcbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoZSBzbG90IG5hbWUsIG9yIGVtcHR5IHN0cmluZyBmb3IgZGVmYXVsdCBzbG90XG4gICAgICAgICAgICBlbG1bJ3Mtc24nXSA9IG5ld1ZOb2RlLiRuYW1lJCB8fCAnJztcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlJ3ZlIGdvdCBhbiBvbGQgdm5vZGUgZm9yIHRoaXMgc2xvdFxuICAgICAgICAgICAgb2xkVk5vZGUgPSBvbGRQYXJlbnRWTm9kZSAmJiBvbGRQYXJlbnRWTm9kZS4kY2hpbGRyZW4kICYmIG9sZFBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRJbmRleF07XG4gICAgICAgICAgICBpZiAob2xkVk5vZGUgJiYgb2xkVk5vZGUuJHRhZyQgPT09IG5ld1ZOb2RlLiR0YWckICYmIG9sZFBhcmVudFZOb2RlLiRlbG0kKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UndmUgZ290IGFuIG9sZCBzbG90IHZub2RlIGFuZCB0aGUgd3JhcHBlciBpcyBiZWluZyByZXBsYWNlZFxuICAgICAgICAgICAgICAgIC8vIHNvIGxldCdzIG1vdmUgdGhlIG9sZCBzbG90IGNvbnRlbnQgYmFjayB0byBpdCdzIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihvbGRQYXJlbnRWTm9kZS4kZWxtJCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbG07XG59O1xuY29uc3QgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbiA9IChwYXJlbnRFbG0sIHJlY3Vyc2l2ZSkgPT4ge1xuICAgIHBsdC4kZmxhZ3MkIHw9IDEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG4gICAgY29uc3Qgb2xkU2xvdENoaWxkTm9kZXMgPSBwYXJlbnRFbG0uY2hpbGROb2RlcztcbiAgICBmb3IgKGxldCBpID0gb2xkU2xvdENoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGROb2RlID0gb2xkU2xvdENoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChjaGlsZE5vZGVbJ3MtaG4nXSAhPT0gaG9zdFRhZ05hbWUgJiYgY2hpbGROb2RlWydzLW9sJ10pIHtcbiAgICAgICAgICAgIC8vIC8vIHRoaXMgY2hpbGQgbm9kZSBpbiB0aGUgb2xkIGVsZW1lbnQgaXMgZnJvbSBhbm90aGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgLy8gLy8gcmVtb3ZlIHRoaXMgbm9kZSBmcm9tIHRoZSBvbGQgc2xvdCdzIHBhcmVudFxuICAgICAgICAgICAgLy8gY2hpbGROb2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgLy8gYW5kIHJlbG9jYXRlIGl0IGJhY2sgdG8gaXQncyBvcmlnaW5hbCBsb2NhdGlvblxuICAgICAgICAgICAgcGFyZW50UmVmZXJlbmNlTm9kZShjaGlsZE5vZGUpLmluc2VydEJlZm9yZShjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUoY2hpbGROb2RlKSk7XG4gICAgICAgICAgICAvLyByZW1vdmUgdGhlIG9sZCBvcmlnaW5hbCBsb2NhdGlvbiBjb21tZW50IGVudGlyZWx5XG4gICAgICAgICAgICAvLyBsYXRlciBvbiB0aGUgcGF0Y2ggZnVuY3Rpb24gd2lsbCBrbm93IHdoYXQgdG8gZG9cbiAgICAgICAgICAgIC8vIGFuZCBtb3ZlIHRoaXMgdG8gdGhlIGNvcnJlY3Qgc3BvdCBpbiBuZWVkIGJlXG4gICAgICAgICAgICBjaGlsZE5vZGVbJ3Mtb2wnXS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGNoaWxkTm9kZVsncy1vbCddID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2hlY2tTbG90UmVsb2NhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgICAgIHB1dEJhY2tJbk9yaWdpbmFsTG9jYXRpb24oY2hpbGROb2RlLCByZWN1cnNpdmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBsdC4kZmxhZ3MkICY9IH4xIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xufTtcbmNvbnN0IGFkZFZub2RlcyA9IChwYXJlbnRFbG0sIGJlZm9yZSwgcGFyZW50Vk5vZGUsIHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkgPT4ge1xuICAgIGxldCBjb250YWluZXJFbG0gPSAoKHBhcmVudEVsbVsncy1jciddICYmIHBhcmVudEVsbVsncy1jciddLnBhcmVudE5vZGUpIHx8IHBhcmVudEVsbSk7XG4gICAgbGV0IGNoaWxkTm9kZTtcbiAgICBpZiAoY29udGFpbmVyRWxtLnNoYWRvd1Jvb3QgJiYgY29udGFpbmVyRWxtLnRhZ05hbWUgPT09IGhvc3RUYWdOYW1lKSB7XG4gICAgICAgIGNvbnRhaW5lckVsbSA9IGNvbnRhaW5lckVsbS5zaGFkb3dSb290O1xuICAgIH1cbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICAgIGlmICh2bm9kZXNbc3RhcnRJZHhdKSB7XG4gICAgICAgICAgICBjaGlsZE5vZGUgPSBjcmVhdGVFbG0obnVsbCwgcGFyZW50Vk5vZGUsIHN0YXJ0SWR4LCBwYXJlbnRFbG0pO1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgIHZub2Rlc1tzdGFydElkeF0uJGVsbSQgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRWxtLmluc2VydEJlZm9yZShjaGlsZE5vZGUsIHJlZmVyZW5jZU5vZGUoYmVmb3JlKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHJlbW92ZVZub2RlcyA9ICh2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIHZub2RlLCBlbG0pID0+IHtcbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICAgIGlmICgodm5vZGUgPSB2bm9kZXNbc3RhcnRJZHhdKSkge1xuICAgICAgICAgICAgZWxtID0gdm5vZGUuJGVsbSQ7XG4gICAgICAgICAgICBjYWxsTm9kZVJlZnModm5vZGUpO1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIHJlbW92aW5nIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIHNvIGl0J3MgcG9zc2libGUgd2UgbmVlZCB0byBzaG93IHNsb3QgZmFsbGJhY2sgY29udGVudCBub3dcbiAgICAgICAgICAgICAgICBjaGVja1Nsb3RGYWxsYmFja1Zpc2liaWxpdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChlbG1bJ3Mtb2wnXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIGNvbW1lbnRcbiAgICAgICAgICAgICAgICAgICAgZWxtWydzLW9sJ10ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgY2hpbGQgbm9kZXMgb2YgdGhlIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCdzIGJlaW5nIHJlbW92ZWQgYXJlIHNsb3Qgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihlbG0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgdm5vZGUncyBlbGVtZW50IGZyb20gdGhlIGRvbVxuICAgICAgICAgICAgZWxtLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHVwZGF0ZUNoaWxkcmVuID0gKHBhcmVudEVsbSwgb2xkQ2gsIG5ld1ZOb2RlLCBuZXdDaCkgPT4ge1xuICAgIGxldCBvbGRTdGFydElkeCA9IDA7XG4gICAgbGV0IG5ld1N0YXJ0SWR4ID0gMDtcbiAgICBsZXQgaWR4SW5PbGQgPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICBsZXQgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIGxldCBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgbGV0IG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICBsZXQgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIGxldCBub2RlO1xuICAgIGxldCBlbG1Ub01vdmU7XG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgICAgaWYgKG9sZFN0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICAgICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuZXdFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2gob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2gob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAgICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgICAgICAgaWYgKChvbGRTdGFydFZub2RlLiR0YWckID09PSAnc2xvdCcgfHwgbmV3RW5kVm5vZGUuJHRhZyQgPT09ICdzbG90JykpIHtcbiAgICAgICAgICAgICAgICBwdXRCYWNrSW5PcmlnaW5hbExvY2F0aW9uKG9sZFN0YXJ0Vm5vZGUuJGVsbSQucGFyZW50Tm9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0Y2gob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpO1xuICAgICAgICAgICAgcGFyZW50RWxtLmluc2VydEJlZm9yZShvbGRTdGFydFZub2RlLiRlbG0kLCBvbGRFbmRWbm9kZS4kZWxtJC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1NhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgICAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgICAgICAgIGlmICgob2xkU3RhcnRWbm9kZS4kdGFnJCA9PT0gJ3Nsb3QnIHx8IG5ld0VuZFZub2RlLiR0YWckID09PSAnc2xvdCcpKSB7XG4gICAgICAgICAgICAgICAgcHV0QmFja0luT3JpZ2luYWxMb2NhdGlvbihvbGRFbmRWbm9kZS4kZWxtJC5wYXJlbnROb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXRjaChvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICBwYXJlbnRFbG0uaW5zZXJ0QmVmb3JlKG9sZEVuZFZub2RlLiRlbG0kLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gY3JlYXRlS2V5VG9PbGRJZHhcbiAgICAgICAgICAgIGlkeEluT2xkID0gLTE7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gb2xkU3RhcnRJZHg7IGkgPD0gb2xkRW5kSWR4OyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZENoW2ldICYmIG9sZENoW2ldLiRrZXkkICE9PSBudWxsICYmIG9sZENoW2ldLiRrZXkkID09PSBuZXdTdGFydFZub2RlLiRrZXkkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZHhJbk9sZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpZHhJbk9sZCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZWxtVG9Nb3ZlID0gb2xkQ2hbaWR4SW5PbGRdO1xuICAgICAgICAgICAgICAgIGlmIChlbG1Ub01vdmUuJHRhZyQgIT09IG5ld1N0YXJ0Vm5vZGUuJHRhZyQpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNyZWF0ZUVsbShvbGRDaCAmJiBvbGRDaFtuZXdTdGFydElkeF0sIG5ld1ZOb2RlLCBpZHhJbk9sZCwgcGFyZW50RWxtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGNoKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGVsbVRvTW92ZS4kZWxtJDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV3IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBub2RlID0gY3JlYXRlRWxtKG9sZENoICYmIG9sZENoW25ld1N0YXJ0SWR4XSwgbmV3Vk5vZGUsIG5ld1N0YXJ0SWR4LCBwYXJlbnRFbG0pO1xuICAgICAgICAgICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZlcmVuY2VOb2RlKG9sZFN0YXJ0Vm5vZGUuJGVsbSQpLmluc2VydEJlZm9yZShub2RlLCByZWZlcmVuY2VOb2RlKG9sZFN0YXJ0Vm5vZGUuJGVsbSQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9sZFN0YXJ0SWR4ID4gb2xkRW5kSWR4KSB7XG4gICAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIG5ld0NoW25ld0VuZElkeCArIDFdID09IG51bGwgPyBudWxsIDogbmV3Q2hbbmV3RW5kSWR4ICsgMV0uJGVsbSQsIG5ld1ZOb2RlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7XG4gICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgfVxufTtcbmNvbnN0IGlzU2FtZVZub2RlID0gKHZub2RlMSwgdm5vZGUyKSA9PiB7XG4gICAgLy8gY29tcGFyZSBpZiB0d28gdm5vZGUgdG8gc2VlIGlmIHRoZXkncmUgXCJ0ZWNobmljYWxseVwiIHRoZSBzYW1lXG4gICAgLy8gbmVlZCB0byBoYXZlIHRoZSBzYW1lIGVsZW1lbnQgdGFnLCBhbmQgc2FtZSBrZXkgdG8gYmUgdGhlIHNhbWVcbiAgICBpZiAodm5vZGUxLiR0YWckID09PSB2bm9kZTIuJHRhZyQpIHtcbiAgICAgICAgaWYgKHZub2RlMS4kdGFnJCA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGUxLiRuYW1lJCA9PT0gdm5vZGUyLiRuYW1lJDtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdm5vZGUxLiRrZXkkID09PSB2bm9kZTIuJGtleSQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IHJlZmVyZW5jZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIC8vIHRoaXMgbm9kZSB3YXMgcmVsb2NhdGVkIHRvIGEgbmV3IGxvY2F0aW9uIGluIHRoZSBkb21cbiAgICAvLyBiZWNhdXNlIG9mIHNvbWUgb3RoZXIgY29tcG9uZW50J3Mgc2xvdFxuICAgIC8vIGJ1dCB3ZSBzdGlsbCBoYXZlIGFuIGh0bWwgY29tbWVudCBpbiBwbGFjZSBvZiB3aGVyZVxuICAgIC8vIGl0J3Mgb3JpZ2luYWwgbG9jYXRpb24gd2FzIGFjY29yZGluZyB0byBpdCdzIG9yaWdpbmFsIHZkb21cbiAgICByZXR1cm4gKG5vZGUgJiYgbm9kZVsncy1vbCddKSB8fCBub2RlO1xufTtcbmNvbnN0IHBhcmVudFJlZmVyZW5jZU5vZGUgPSAobm9kZSkgPT4gKG5vZGVbJ3Mtb2wnXSA/IG5vZGVbJ3Mtb2wnXSA6IG5vZGUpLnBhcmVudE5vZGU7XG5jb25zdCBwYXRjaCA9IChvbGRWTm9kZSwgbmV3Vk5vZGUpID0+IHtcbiAgICBjb25zdCBlbG0gPSAobmV3Vk5vZGUuJGVsbSQgPSBvbGRWTm9kZS4kZWxtJCk7XG4gICAgY29uc3Qgb2xkQ2hpbGRyZW4gPSBvbGRWTm9kZS4kY2hpbGRyZW4kO1xuICAgIGNvbnN0IG5ld0NoaWxkcmVuID0gbmV3Vk5vZGUuJGNoaWxkcmVuJDtcbiAgICBjb25zdCB0YWcgPSBuZXdWTm9kZS4kdGFnJDtcbiAgICBjb25zdCB0ZXh0ID0gbmV3Vk5vZGUuJHRleHQkO1xuICAgIGxldCBkZWZhdWx0SG9sZGVyO1xuICAgIGlmICh0ZXh0ID09PSBudWxsKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRlc3QgaWYgd2UncmUgcmVuZGVyaW5nIGFuIHN2ZyBlbGVtZW50LCBvciBzdGlsbCByZW5kZXJpbmcgbm9kZXMgaW5zaWRlIG9mIG9uZVxuICAgICAgICAgICAgLy8gb25seSBhZGQgdGhpcyB0byB0aGUgd2hlbiB0aGUgY29tcGlsZXIgc2VlcyB3ZSdyZSB1c2luZyBhbiBzdmcgc29tZXdoZXJlXG4gICAgICAgICAgICBpc1N2Z01vZGUgPSB0YWcgPT09ICdzdmcnID8gdHJ1ZSA6IHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnID8gZmFsc2UgOiBpc1N2Z01vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxlbWVudCBub2RlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0YWcgPT09ICdzbG90JylcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgcmVuZGVyIG9mIGFuIGVsZW1lbnQgT1IgaXQncyBhbiB1cGRhdGVcbiAgICAgICAgICAgICAgICAvLyBBTkQgd2UgYWxyZWFkeSBrbm93IGl0J3MgcG9zc2libGUgaXQgY291bGQgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB1cGRhdGVzIHRoZSBlbGVtZW50J3MgY3NzIGNsYXNzZXMsIGF0dHJzLCBwcm9wcywgbGlzdGVuZXJzLCBldGMuXG4gICAgICAgICAgICAgICAgdXBkYXRlRWxlbWVudChvbGRWTm9kZSwgbmV3Vk5vZGUsIGlzU3ZnTW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZENoaWxkcmVuICE9PSBudWxsICYmIG5ld0NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3MgY2hpbGQgdm5vZGVzIGZvciBib3RoIHRoZSBvbGQgYW5kIG5ldyB2bm9kZXNcbiAgICAgICAgICAgIHVwZGF0ZUNoaWxkcmVuKGVsbSwgb2xkQ2hpbGRyZW4sIG5ld1ZOb2RlLCBuZXdDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3Q2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIG9sZCBjaGlsZCB2bm9kZXMsIGJ1dCB0aGVyZSBhcmUgbmV3IGNoaWxkIHZub2RlcyB0byBhZGRcbiAgICAgICAgICAgIGlmIChvbGRWTm9kZS4kdGV4dCQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZub2RlIHdhcyB0ZXh0LCBzbyBiZSBzdXJlIHRvIGNsZWFyIGl0IG91dFxuICAgICAgICAgICAgICAgIGVsbS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYWRkIHRoZSBuZXcgdm5vZGUgY2hpbGRyZW5cbiAgICAgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIG5ld1ZOb2RlLCBuZXdDaGlsZHJlbiwgMCwgbmV3Q2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkQ2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIG5ldyBjaGlsZCB2bm9kZXMsIGJ1dCB0aGVyZSBhcmUgb2xkIGNoaWxkIHZub2RlcyB0byByZW1vdmVcbiAgICAgICAgICAgIHJlbW92ZVZub2RlcyhvbGRDaGlsZHJlbiwgMCwgb2xkQ2hpbGRyZW4ubGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3ZnTW9kZSAmJiB0YWcgPT09ICdzdmcnKSB7XG4gICAgICAgICAgICBpc1N2Z01vZGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgoZGVmYXVsdEhvbGRlciA9IGVsbVsncy1jciddKSkge1xuICAgICAgICAvLyB0aGlzIGVsZW1lbnQgaGFzIHNsb3R0ZWQgY29udGVudFxuICAgICAgICBkZWZhdWx0SG9sZGVyLnBhcmVudE5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgICBlbHNlIGlmIChvbGRWTm9kZS4kdGV4dCQgIT09IHRleHQpIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSB0ZXh0IGNvbnRlbnQgZm9yIHRoZSB0ZXh0IG9ubHkgdm5vZGVcbiAgICAgICAgLy8gYW5kIGFsc28gb25seSBpZiB0aGUgdGV4dCBpcyBkaWZmZXJlbnQgdGhhbiBiZWZvcmVcbiAgICAgICAgZWxtLmRhdGEgPSB0ZXh0O1xuICAgIH1cbn07XG5jb25zdCB1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5ID0gKGVsbSkgPT4ge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogcHJlZmVyLWNvbnN0XG4gICAgbGV0IGNoaWxkTm9kZXMgPSBlbG0uY2hpbGROb2RlcztcbiAgICBsZXQgY2hpbGROb2RlO1xuICAgIGxldCBpO1xuICAgIGxldCBpbGVuO1xuICAgIGxldCBqO1xuICAgIGxldCBzbG90TmFtZUF0dHI7XG4gICAgbGV0IG5vZGVUeXBlO1xuICAgIGZvciAoaSA9IDAsIGlsZW4gPSBjaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGlsZW47IGkrKykge1xuICAgICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGVzW2ldO1xuICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlWydzLXNyJ10pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgc2xvdCBmYWxsYmFjayBub2RlXG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBzbG90IG5hbWUgZm9yIHRoaXMgc2xvdCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICAgICAgICAgIHNsb3ROYW1lQXR0ciA9IGNoaWxkTm9kZVsncy1zbiddO1xuICAgICAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgYWx3YXlzIHNob3cgYSBmYWxsYmFjayBzbG90IG5vZGVcbiAgICAgICAgICAgICAgICAvLyB0aGVuIGhpZGUgaXQgaWYgdGhlcmUgYXJlIG90aGVyIHNsb3RzIGluIHRoZSBsaWdodCBkb21cbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuaGlkZGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGlsZW47IGorKykge1xuICAgICAgICAgICAgICAgICAgICBub2RlVHlwZSA9IGNoaWxkTm9kZXNbal0ubm9kZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2pdWydzLWhuJ10gIT09IGNoaWxkTm9kZVsncy1obiddIHx8IHNsb3ROYW1lQXR0ciAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgc2libGluZyBub2RlIGlzIGZyb20gYSBkaWZmZXJlbnQgY29tcG9uZW50IE9SIGlzIGEgbmFtZWQgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8gJiYgc2xvdE5hbWVBdHRyID09PSBjaGlsZE5vZGVzW2pdLmdldEF0dHJpYnV0ZSgnc2xvdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGROb2RlLmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgZGVmYXVsdCBmYWxsYmFjayBzbG90IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueSBlbGVtZW50IG9yIHRleHQgbm9kZSAod2l0aCBjb250ZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGhpZGUgdGhlIGRlZmF1bHQgZmFsbGJhY2sgc2xvdCBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IDEgLyogRWxlbWVudE5vZGUgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobm9kZVR5cGUgPT09IDMgLyogVGV4dE5vZGUgKi8gJiYgY2hpbGROb2Rlc1tqXS50ZXh0Q29udGVudC50cmltKCkgIT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8ga2VlcCBkcmlsbGluZyBkb3duXG4gICAgICAgICAgICB1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5KGNoaWxkTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgcmVsb2NhdGVOb2RlcyA9IFtdO1xuY29uc3QgcmVsb2NhdGVTbG90Q29udGVudCA9IChlbG0pID0+IHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1jb25zdFxuICAgIGxldCBjaGlsZE5vZGU7XG4gICAgbGV0IG5vZGU7XG4gICAgbGV0IGhvc3RDb250ZW50Tm9kZXM7XG4gICAgbGV0IHNsb3ROYW1lQXR0cjtcbiAgICBsZXQgcmVsb2NhdGVOb2RlRGF0YTtcbiAgICBsZXQgajtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGNoaWxkTm9kZXMgPSBlbG0uY2hpbGROb2RlcztcbiAgICBsZXQgaWxlbiA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIGZvciAoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZXNbaV07XG4gICAgICAgIGlmIChjaGlsZE5vZGVbJ3Mtc3InXSAmJiAobm9kZSA9IGNoaWxkTm9kZVsncy1jciddKSAmJiBub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IGdvdCB0aGUgY29udGVudCByZWZlcmVuY2UgY29tbWVudCBub2RlXG4gICAgICAgICAgICAvLyB0aGVuIHdlIGdvdCBpdCdzIHBhcmVudCwgd2hpY2ggaXMgd2hlcmUgYWxsIHRoZSBob3N0IGNvbnRlbnQgaXMgaW4gbm93XG4gICAgICAgICAgICBob3N0Q29udGVudE5vZGVzID0gbm9kZS5wYXJlbnROb2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICBzbG90TmFtZUF0dHIgPSBjaGlsZE5vZGVbJ3Mtc24nXTtcbiAgICAgICAgICAgIGZvciAoaiA9IGhvc3RDb250ZW50Tm9kZXMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gaG9zdENvbnRlbnROb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGVbJ3MtY24nXSAmJiAhbm9kZVsncy1uciddICYmIG5vZGVbJ3MtaG4nXSAhPT0gY2hpbGROb2RlWydzLWhuJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3MgZG8gc29tZSByZWxvY2F0aW5nIHRvIGl0cyBuZXcgaG9tZVxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgbmV2ZXIgcmVsb2NhdGUgYSBjb250ZW50IHJlZmVyZW5jZSBub2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgaXMgc3VwcG9zZSB0byBhbHdheXMgcmVwcmVzZW50IHRoZSBvcmlnaW5hbCBjb250ZW50IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGVMb2NhdGVkSW5TbG90KG5vZGUsIHNsb3ROYW1lQXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgcG9zc2libGUgd2UndmUgYWxyZWFkeSBkZWNpZGVkIHRvIHJlbG9jYXRlIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2RlRGF0YSA9IHJlbG9jYXRlTm9kZXMuZmluZCgocikgPT4gci4kbm9kZVRvUmVsb2NhdGUkID09PSBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1hZGUgc29tZSBjaGFuZ2VzIHRvIHNsb3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgd2UgYWxzbyBkb3VibGUgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxiYWNrcyBhcmUgY29ycmVjdGx5IGhpZGRlbiBvciBzaG93blxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tTbG90RmFsbGJhY2tWaXNpYmlsaXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc24nXSA9IG5vZGVbJ3Mtc24nXSB8fCBzbG90TmFtZUF0dHI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsb2NhdGVOb2RlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzbHkgd2UgbmV2ZXIgZm91bmQgYSBzbG90IGhvbWUgZm9yIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCB0dXJucyBvdXQgd2UgZGlkLCBzbyBsZXQncyByZW1lbWJlciBpdCBub3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVEYXRhLiRzbG90UmVmTm9kZSQgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdG8gb3VyIGxpc3Qgb2Ygbm9kZXMgdG8gcmVsb2NhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2xvdFJlZk5vZGUkOiBjaGlsZE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRub2RlVG9SZWxvY2F0ZSQ6IG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVsncy1zciddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2Rlcy5tYXAoKHJlbG9jYXRlTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb2RlTG9jYXRlZEluU2xvdChyZWxvY2F0ZU5vZGUuJG5vZGVUb1JlbG9jYXRlJCwgbm9kZVsncy1zbiddKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsb2NhdGVOb2RlRGF0YSA9IHJlbG9jYXRlTm9kZXMuZmluZCgocikgPT4gci4kbm9kZVRvUmVsb2NhdGUkID09PSBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZWxvY2F0ZU5vZGVEYXRhICYmICFyZWxvY2F0ZU5vZGUuJHNsb3RSZWZOb2RlJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9jYXRlTm9kZS4kc2xvdFJlZk5vZGUkID0gcmVsb2NhdGVOb2RlRGF0YS4kc2xvdFJlZk5vZGUkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXJlbG9jYXRlTm9kZXMuc29tZSgocikgPT4gci4kbm9kZVRvUmVsb2NhdGUkID09PSBub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gZmFyIHRoaXMgZWxlbWVudCBkb2VzIG5vdCBoYXZlIGEgc2xvdCBob21lLCBub3Qgc2V0dGluZyBzbG90UmVmTm9kZSBvbiBwdXJwb3NlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBuZXZlciBmaW5kIGEgaG9tZSBmb3IgdGhpcyBlbGVtZW50IHRoZW4gd2UnbGwgbmVlZCB0byBoaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxvY2F0ZU5vZGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRub2RlVG9SZWxvY2F0ZSQ6IG5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgICAgICByZWxvY2F0ZVNsb3RDb250ZW50KGNoaWxkTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgaXNOb2RlTG9jYXRlZEluU2xvdCA9IChub2RlVG9SZWxvY2F0ZSwgc2xvdE5hbWVBdHRyKSA9PiB7XG4gICAgaWYgKG5vZGVUb1JlbG9jYXRlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIGlmIChub2RlVG9SZWxvY2F0ZS5nZXRBdHRyaWJ1dGUoJ3Nsb3QnKSA9PT0gbnVsbCAmJiBzbG90TmFtZUF0dHIgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZVRvUmVsb2NhdGUuZ2V0QXR0cmlidXRlKCdzbG90JykgPT09IHNsb3ROYW1lQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZVRvUmVsb2NhdGVbJ3Mtc24nXSA9PT0gc2xvdE5hbWVBdHRyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc2xvdE5hbWVBdHRyID09PSAnJztcbn07XG5jb25zdCBjYWxsTm9kZVJlZnMgPSAodk5vZGUpID0+IHtcbiAgICB7XG4gICAgICAgIHZOb2RlLiRhdHRycyQgJiYgdk5vZGUuJGF0dHJzJC5yZWYgJiYgdk5vZGUuJGF0dHJzJC5yZWYobnVsbCk7XG4gICAgICAgIHZOb2RlLiRjaGlsZHJlbiQgJiYgdk5vZGUuJGNoaWxkcmVuJC5tYXAoY2FsbE5vZGVSZWZzKTtcbiAgICB9XG59O1xuY29uc3QgcmVuZGVyVmRvbSA9IChob3N0UmVmLCByZW5kZXJGblJlc3VsdHMpID0+IHtcbiAgICBjb25zdCBob3N0RWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGNtcE1ldGEgPSBob3N0UmVmLiRjbXBNZXRhJDtcbiAgICBjb25zdCBvbGRWTm9kZSA9IGhvc3RSZWYuJHZub2RlJCB8fCBuZXdWTm9kZShudWxsLCBudWxsKTtcbiAgICBjb25zdCByb290Vm5vZGUgPSBpc0hvc3QocmVuZGVyRm5SZXN1bHRzKSA/IHJlbmRlckZuUmVzdWx0cyA6IGgobnVsbCwgbnVsbCwgcmVuZGVyRm5SZXN1bHRzKTtcbiAgICBob3N0VGFnTmFtZSA9IGhvc3RFbG0udGFnTmFtZTtcbiAgICBpZiAoY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkKSB7XG4gICAgICAgIHJvb3RWbm9kZS4kYXR0cnMkID0gcm9vdFZub2RlLiRhdHRycyQgfHwge307XG4gICAgICAgIGNtcE1ldGEuJGF0dHJzVG9SZWZsZWN0JC5tYXAoKFtwcm9wTmFtZSwgYXR0cmlidXRlXSkgPT4gKHJvb3RWbm9kZS4kYXR0cnMkW2F0dHJpYnV0ZV0gPSBob3N0RWxtW3Byb3BOYW1lXSkpO1xuICAgIH1cbiAgICByb290Vm5vZGUuJHRhZyQgPSBudWxsO1xuICAgIHJvb3RWbm9kZS4kZmxhZ3MkIHw9IDQgLyogaXNIb3N0ICovO1xuICAgIGhvc3RSZWYuJHZub2RlJCA9IHJvb3RWbm9kZTtcbiAgICByb290Vm5vZGUuJGVsbSQgPSBvbGRWTm9kZS4kZWxtJCA9IChob3N0RWxtLnNoYWRvd1Jvb3QgfHwgaG9zdEVsbSApO1xuICAgIHtcbiAgICAgICAgc2NvcGVJZCA9IGhvc3RFbG1bJ3Mtc2MnXTtcbiAgICB9XG4gICAge1xuICAgICAgICBjb250ZW50UmVmID0gaG9zdEVsbVsncy1jciddO1xuICAgICAgICB1c2VOYXRpdmVTaGFkb3dEb20gPSAoY21wTWV0YS4kZmxhZ3MkICYgMSAvKiBzaGFkb3dEb21FbmNhcHN1bGF0aW9uICovKSAhPT0gMDtcbiAgICAgICAgLy8gYWx3YXlzIHJlc2V0XG4gICAgICAgIGNoZWNrU2xvdEZhbGxiYWNrVmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgIH1cbiAgICAvLyBzeW5jaHJvbm91cyBwYXRjaFxuICAgIHBhdGNoKG9sZFZOb2RlLCByb290Vm5vZGUpO1xuICAgIHtcbiAgICAgICAgLy8gd2hpbGUgd2UncmUgbW92aW5nIG5vZGVzIGFyb3VuZCBleGlzdGluZyBub2RlcywgdGVtcG9yYXJpbHkgZGlzYWJsZVxuICAgICAgICAvLyB0aGUgZGlzY29ubmVjdENhbGxiYWNrIGZyb20gd29ya2luZ1xuICAgICAgICBwbHQuJGZsYWdzJCB8PSAxIC8qIGlzVG1wRGlzY29ubmVjdGVkICovO1xuICAgICAgICBpZiAoY2hlY2tTbG90UmVsb2NhdGUpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlU2xvdENvbnRlbnQocm9vdFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIGxldCByZWxvY2F0ZURhdGE7XG4gICAgICAgICAgICBsZXQgbm9kZVRvUmVsb2NhdGU7XG4gICAgICAgICAgICBsZXQgb3JnTG9jYXRpb25Ob2RlO1xuICAgICAgICAgICAgbGV0IHBhcmVudE5vZGVSZWY7XG4gICAgICAgICAgICBsZXQgaW5zZXJ0QmVmb3JlTm9kZTtcbiAgICAgICAgICAgIGxldCByZWZOb2RlO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCByZWxvY2F0ZU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVsb2NhdGVEYXRhID0gcmVsb2NhdGVOb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZSA9IHJlbG9jYXRlRGF0YS4kbm9kZVRvUmVsb2NhdGUkO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSByZWZlcmVuY2Ugbm9kZSBtYXJraW5nIHRoaXMgbm9kZSdzIG9yaWdpbmFsIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhpcyBub2RlIGZvciBsYXRlciBsb29rdXBzXG4gICAgICAgICAgICAgICAgICAgIG9yZ0xvY2F0aW9uTm9kZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2MuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGVbJ3MtbnInXSA9IG5vZGVUb1JlbG9jYXRlO1xuICAgICAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSgobm9kZVRvUmVsb2NhdGVbJ3Mtb2wnXSA9IG9yZ0xvY2F0aW9uTm9kZSksIG5vZGVUb1JlbG9jYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVsb2NhdGVOb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHJlbG9jYXRlRGF0YSA9IHJlbG9jYXRlTm9kZXNbaV07XG4gICAgICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGUgPSByZWxvY2F0ZURhdGEuJG5vZGVUb1JlbG9jYXRlJDtcbiAgICAgICAgICAgICAgICBpZiAocmVsb2NhdGVEYXRhLiRzbG90UmVmTm9kZSQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYnkgZGVmYXVsdCB3ZSdyZSBqdXN0IGdvaW5nIHRvIGluc2VydCBpdCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciB0aGUgc2xvdCByZWZlcmVuY2Ugbm9kZVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlUmVmID0gcmVsb2NhdGVEYXRhLiRzbG90UmVmTm9kZSQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTm9kZSA9IHJlbG9jYXRlRGF0YS4kc2xvdFJlZk5vZGUkLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBvcmdMb2NhdGlvbk5vZGUgPSBub2RlVG9SZWxvY2F0ZVsncy1vbCddO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKG9yZ0xvY2F0aW9uTm9kZSA9IG9yZ0xvY2F0aW9uTm9kZS5wcmV2aW91c1NpYmxpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZOb2RlID0gb3JnTG9jYXRpb25Ob2RlWydzLW5yJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmTm9kZSAmJiByZWZOb2RlWydzLXNuJ10gPT09IG5vZGVUb1JlbG9jYXRlWydzLXNuJ10gJiYgcGFyZW50Tm9kZVJlZiA9PT0gcmVmTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmTm9kZSA9IHJlZk5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZOb2RlIHx8ICFyZWZOb2RlWydzLW5yJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlTm9kZSA9IHJlZk5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoKCFpbnNlcnRCZWZvcmVOb2RlICYmIHBhcmVudE5vZGVSZWYgIT09IG5vZGVUb1JlbG9jYXRlLnBhcmVudE5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlVG9SZWxvY2F0ZS5uZXh0U2libGluZyAhPT0gaW5zZXJ0QmVmb3JlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UndmUgY2hlY2tlZCB0aGF0IGl0J3Mgd29ydGggd2hpbGUgdG8gcmVsb2NhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoYXQgdGhlIG5vZGUgdG8gcmVsb2NhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhcyBhIGRpZmZlcmVudCBuZXh0IHNpYmxpbmcgb3IgcGFyZW50IHJlbG9jYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVUb1JlbG9jYXRlICE9PSBpbnNlcnRCZWZvcmVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlVG9SZWxvY2F0ZVsncy1obiddICYmIG5vZGVUb1JlbG9jYXRlWydzLW9sJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvYmFibHkgYSBjb21wb25lbnQgaW4gdGhlIGluZGV4Lmh0bWwgdGhhdCBkb2Vzbid0IGhhdmUgaXQncyBob3N0bmFtZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGVbJ3MtaG4nXSA9IG5vZGVUb1JlbG9jYXRlWydzLW9sJ10ucGFyZW50Tm9kZS5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGl0IGJhY2sgdG8gdGhlIGRvbSBidXQgaW4gaXRzIG5ldyBob21lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZVJlZi5pbnNlcnRCZWZvcmUobm9kZVRvUmVsb2NhdGUsIGluc2VydEJlZm9yZU5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG5vZGUgZG9lc24ndCBoYXZlIGEgc2xvdCBob21lIHRvIGdvIHRvLCBzbyBsZXQncyBoaWRlIGl0XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlVG9SZWxvY2F0ZS5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVRvUmVsb2NhdGUuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tTbG90RmFsbGJhY2tWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICB1cGRhdGVGYWxsYmFja1Nsb3RWaXNpYmlsaXR5KHJvb3RWbm9kZS4kZWxtJCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uZSBtb3Zpbmcgbm9kZXMgYXJvdW5kXG4gICAgICAgIC8vIGFsbG93IHRoZSBkaXNjb25uZWN0IGNhbGxiYWNrIHRvIHdvcmsgYWdhaW5cbiAgICAgICAgcGx0LiRmbGFncyQgJj0gfjEgLyogaXNUbXBEaXNjb25uZWN0ZWQgKi87XG4gICAgICAgIC8vIGFsd2F5cyByZXNldFxuICAgICAgICByZWxvY2F0ZU5vZGVzLmxlbmd0aCA9IDA7XG4gICAgfVxufTtcbmNvbnN0IGdldEVsZW1lbnQgPSAocmVmKSA9PiAoZ2V0SG9zdFJlZihyZWYpLiRob3N0RWxlbWVudCQgKTtcbmNvbnN0IGNyZWF0ZUV2ZW50ID0gKHJlZiwgbmFtZSwgZmxhZ3MpID0+IHtcbiAgICBjb25zdCBlbG0gPSBnZXRFbGVtZW50KHJlZik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1pdDogKGRldGFpbCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGVtaXRFdmVudChlbG0sIG5hbWUsIHtcbiAgICAgICAgICAgICAgICBidWJibGVzOiAhIShmbGFncyAmIDQgLyogQnViYmxlcyAqLyksXG4gICAgICAgICAgICAgICAgY29tcG9zZWQ6ICEhKGZsYWdzICYgMiAvKiBDb21wb3NlZCAqLyksXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogISEoZmxhZ3MgJiAxIC8qIENhbmNlbGxhYmxlICovKSxcbiAgICAgICAgICAgICAgICBkZXRhaWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufTtcbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNyZWF0ZSAmIGRpc3BhdGNoIGEgY3VzdG9tIEV2ZW50IG9uIGEgcHJvdmlkZWQgdGFyZ2V0XG4gKiBAcGFyYW0gZWxtIHRoZSB0YXJnZXQgb2YgdGhlIEV2ZW50XG4gKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSB0byBnaXZlIHRoZSBjdXN0b20gRXZlbnRcbiAqIEBwYXJhbSBvcHRzIG9wdGlvbnMgZm9yIGNvbmZpZ3VyaW5nIGEgY3VzdG9tIEV2ZW50XG4gKiBAcmV0dXJucyB0aGUgY3VzdG9tIEV2ZW50XG4gKi9cbmNvbnN0IGVtaXRFdmVudCA9IChlbG0sIG5hbWUsIG9wdHMpID0+IHtcbiAgICBjb25zdCBldiA9IHBsdC5jZShuYW1lLCBvcHRzKTtcbiAgICBlbG0uZGlzcGF0Y2hFdmVudChldik7XG4gICAgcmV0dXJuIGV2O1xufTtcbmNvbnN0IGF0dGFjaFRvQW5jZXN0b3IgPSAoaG9zdFJlZiwgYW5jZXN0b3JDb21wb25lbnQpID0+IHtcbiAgICBpZiAoYW5jZXN0b3JDb21wb25lbnQgJiYgIWhvc3RSZWYuJG9uUmVuZGVyUmVzb2x2ZSQgJiYgYW5jZXN0b3JDb21wb25lbnRbJ3MtcCddKSB7XG4gICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXS5wdXNoKG5ldyBQcm9taXNlKChyKSA9PiAoaG9zdFJlZi4kb25SZW5kZXJSZXNvbHZlJCA9IHIpKSk7XG4gICAgfVxufTtcbmNvbnN0IHNjaGVkdWxlVXBkYXRlID0gKGhvc3RSZWYsIGlzSW5pdGlhbExvYWQpID0+IHtcbiAgICB7XG4gICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLztcbiAgICB9XG4gICAgaWYgKGhvc3RSZWYuJGZsYWdzJCAmIDQgLyogaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi8pIHtcbiAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDUxMiAvKiBuZWVkc1JlcmVuZGVyICovO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGF0dGFjaFRvQW5jZXN0b3IoaG9zdFJlZiwgaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkKTtcbiAgICAvLyB0aGVyZSBpcyBubyBhbmNlc3RvciBjb21wb25lbnQgb3IgdGhlIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgIC8vIGhhcyBhbHJlYWR5IGZpcmVkIG9mZiBpdHMgbGlmZWN5Y2xlIHVwZGF0ZSB0aGVuXG4gICAgLy8gZmlyZSBvZmYgdGhlIGluaXRpYWwgdXBkYXRlXG4gICAgY29uc3QgZGlzcGF0Y2ggPSAoKSA9PiBkaXNwYXRjaEhvb2tzKGhvc3RSZWYsIGlzSW5pdGlhbExvYWQpO1xuICAgIHJldHVybiB3cml0ZVRhc2soZGlzcGF0Y2gpIDtcbn07XG5jb25zdCBkaXNwYXRjaEhvb2tzID0gKGhvc3RSZWYsIGlzSW5pdGlhbExvYWQpID0+IHtcbiAgICBjb25zdCBlbmRTY2hlZHVsZSA9IGNyZWF0ZVRpbWUoJ3NjaGVkdWxlVXBkYXRlJywgaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkKTtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGhvc3RSZWYuJGxhenlJbnN0YW5jZSQgO1xuICAgIGxldCBwcm9taXNlO1xuICAgIGlmIChpc0luaXRpYWxMb2FkKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAyNTYgLyogaXNMaXN0ZW5SZWFkeSAqLztcbiAgICAgICAgICAgIGlmIChob3N0UmVmLiRxdWV1ZWRMaXN0ZW5lcnMkKSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcXVldWVkTGlzdGVuZXJzJC5tYXAoKFttZXRob2ROYW1lLCBldmVudF0pID0+IHNhZmVDYWxsKGluc3RhbmNlLCBtZXRob2ROYW1lLCBldmVudCkpO1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJHF1ZXVlZExpc3RlbmVycyQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudFdpbGxMb2FkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAge1xuICAgICAgICBwcm9taXNlID0gdGhlbihwcm9taXNlLCAoKSA9PiBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudFdpbGxSZW5kZXInKSk7XG4gICAgfVxuICAgIGVuZFNjaGVkdWxlKCk7XG4gICAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4gdXBkYXRlQ29tcG9uZW50KGhvc3RSZWYsIGluc3RhbmNlLCBpc0luaXRpYWxMb2FkKSk7XG59O1xuY29uc3QgdXBkYXRlQ29tcG9uZW50ID0gYXN5bmMgKGhvc3RSZWYsIGluc3RhbmNlLCBpc0luaXRpYWxMb2FkKSA9PiB7XG4gICAgLy8gdXBkYXRlQ29tcG9uZW50XG4gICAgY29uc3QgZWxtID0gaG9zdFJlZi4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IGVuZFVwZGF0ZSA9IGNyZWF0ZVRpbWUoJ3VwZGF0ZScsIGhvc3RSZWYuJGNtcE1ldGEkLiR0YWdOYW1lJCk7XG4gICAgY29uc3QgcmMgPSBlbG1bJ3MtcmMnXTtcbiAgICBpZiAoaXNJbml0aWFsTG9hZCkge1xuICAgICAgICAvLyBET00gV1JJVEUhXG4gICAgICAgIGF0dGFjaFN0eWxlcyhob3N0UmVmKTtcbiAgICB9XG4gICAgY29uc3QgZW5kUmVuZGVyID0gY3JlYXRlVGltZSgncmVuZGVyJywgaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkKTtcbiAgICB7XG4gICAgICAgIGNhbGxSZW5kZXIoaG9zdFJlZiwgaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAocmMpIHtcbiAgICAgICAgLy8gb2ssIHNvIHR1cm5zIG91dCB0aGVyZSBhcmUgc29tZSBjaGlsZCBob3N0IGVsZW1lbnRzXG4gICAgICAgIC8vIHdhaXRpbmcgb24gdGhpcyBwYXJlbnQgZWxlbWVudCB0byBsb2FkXG4gICAgICAgIC8vIGxldCdzIGZpcmUgb2ZmIGFsbCB1cGRhdGUgY2FsbGJhY2tzIHdhaXRpbmdcbiAgICAgICAgcmMubWFwKChjYikgPT4gY2IoKSk7XG4gICAgICAgIGVsbVsncy1yYyddID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbmRSZW5kZXIoKTtcbiAgICBlbmRVcGRhdGUoKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuUHJvbWlzZXMgPSBlbG1bJ3MtcCddO1xuICAgICAgICBjb25zdCBwb3N0VXBkYXRlID0gKCkgPT4gcG9zdFVwZGF0ZUNvbXBvbmVudChob3N0UmVmKTtcbiAgICAgICAgaWYgKGNoaWxkcmVuUHJvbWlzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBwb3N0VXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBQcm9taXNlLmFsbChjaGlsZHJlblByb21pc2VzKS50aGVuKHBvc3RVcGRhdGUpO1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDQgLyogaXNXYWl0aW5nRm9yQ2hpbGRyZW4gKi87XG4gICAgICAgICAgICBjaGlsZHJlblByb21pc2VzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY2FsbFJlbmRlciA9IChob3N0UmVmLCBpbnN0YW5jZSwgZWxtKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCAmPSB+MTYgLyogaXNRdWV1ZWRGb3JVcGRhdGUgKi87XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDIgLyogaGFzUmVuZGVyZWQgKi87XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGxvb2tzIGxpa2Ugd2UndmUgZ290IGNoaWxkIG5vZGVzIHRvIHJlbmRlciBpbnRvIHRoaXMgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gb3Igd2UgbmVlZCB0byB1cGRhdGUgdGhlIGNzcyBjbGFzcy9hdHRycyBvbiB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gRE9NIFdSSVRFIVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyVmRvbShob3N0UmVmLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGVFcnJvcihlLCBob3N0UmVmLiRob3N0RWxlbWVudCQpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn07XG5jb25zdCBwb3N0VXBkYXRlQ29tcG9uZW50ID0gKGhvc3RSZWYpID0+IHtcbiAgICBjb25zdCB0YWdOYW1lID0gaG9zdFJlZi4kY21wTWV0YSQuJHRhZ05hbWUkO1xuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBlbmRQb3N0VXBkYXRlID0gY3JlYXRlVGltZSgncG9zdFVwZGF0ZScsIHRhZ05hbWUpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gaG9zdFJlZi4kbGF6eUluc3RhbmNlJCA7XG4gICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnQgPSBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQ7XG4gICAgaWYgKCEoaG9zdFJlZi4kZmxhZ3MkICYgNjQgLyogaGFzTG9hZGVkQ29tcG9uZW50ICovKSkge1xuICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gNjQgLyogaGFzTG9hZGVkQ29tcG9uZW50ICovO1xuICAgICAgICB7XG4gICAgICAgICAgICAvLyBET00gV1JJVEUhXG4gICAgICAgICAgICBhZGRIeWRyYXRlZEZsYWcoZWxtKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBzYWZlQ2FsbChpbnN0YW5jZSwgJ2NvbXBvbmVudERpZExvYWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvc3RSZWYuJG9uUmVhZHlSZXNvbHZlJChlbG0pO1xuICAgICAgICAgICAgaWYgKCFhbmNlc3RvckNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGFwcERpZExvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAge1xuICAgICAgICAgICAgc2FmZUNhbGwoaW5zdGFuY2UsICdjb21wb25lbnREaWRVcGRhdGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRQb3N0VXBkYXRlKCk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgaG9zdFJlZi4kb25JbnN0YW5jZVJlc29sdmUkKGVsbSk7XG4gICAgfVxuICAgIC8vIGxvYWQgZXZlbnRzIGZpcmUgZnJvbSBib3R0b20gdG8gdG9wXG4gICAgLy8gdGhlIGRlZXBlc3QgZWxlbWVudHMgbG9hZCBmaXJzdCB0aGVuIGJ1YmJsZXMgdXBcbiAgICB7XG4gICAgICAgIGlmIChob3N0UmVmLiRvblJlbmRlclJlc29sdmUkKSB7XG4gICAgICAgICAgICBob3N0UmVmLiRvblJlbmRlclJlc29sdmUkKCk7XG4gICAgICAgICAgICBob3N0UmVmLiRvblJlbmRlclJlc29sdmUkID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChob3N0UmVmLiRmbGFncyQgJiA1MTIgLyogbmVlZHNSZXJlbmRlciAqLykge1xuICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4gc2NoZWR1bGVVcGRhdGUoaG9zdFJlZiwgZmFsc2UpKTtcbiAgICAgICAgfVxuICAgICAgICBob3N0UmVmLiRmbGFncyQgJj0gfig0IC8qIGlzV2FpdGluZ0ZvckNoaWxkcmVuICovIHwgNTEyIC8qIG5lZWRzUmVyZW5kZXIgKi8pO1xuICAgIH1cbiAgICAvLyAoIOKAol/igKIpXG4gICAgLy8gKCDigKJf4oCiKT7ijJDilqAt4pagXG4gICAgLy8gKOKMkOKWoF/ilqApXG59O1xuY29uc3QgZm9yY2VVcGRhdGUgPSAocmVmKSA9PiB7XG4gICAge1xuICAgICAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihyZWYpO1xuICAgICAgICBjb25zdCBpc0Nvbm5lY3RlZCA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JC5pc0Nvbm5lY3RlZDtcbiAgICAgICAgaWYgKGlzQ29ubmVjdGVkICYmXG4gICAgICAgICAgICAoaG9zdFJlZi4kZmxhZ3MkICYgKDIgLyogaGFzUmVuZGVyZWQgKi8gfCAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLykpID09PSAyIC8qIGhhc1JlbmRlcmVkICovKSB7XG4gICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJucyBcInRydWVcIiB3aGVuIHRoZSBmb3JjZWQgdXBkYXRlIHdhcyBzdWNjZXNzZnVsbHkgc2NoZWR1bGVkXG4gICAgICAgIHJldHVybiBpc0Nvbm5lY3RlZDtcbiAgICB9XG59O1xuY29uc3QgYXBwRGlkTG9hZCA9ICh3aG8pID0+IHtcbiAgICAvLyBvbiBhcHBsb2FkXG4gICAgLy8gd2UgaGF2ZSBmaW5pc2ggdGhlIGZpcnN0IGJpZyBpbml0aWFsIHJlbmRlclxuICAgIHtcbiAgICAgICAgYWRkSHlkcmF0ZWRGbGFnKGRvYy5kb2N1bWVudEVsZW1lbnQpO1xuICAgIH1cbiAgICBuZXh0VGljaygoKSA9PiBlbWl0RXZlbnQod2luLCAnYXBwbG9hZCcsIHsgZGV0YWlsOiB7IG5hbWVzcGFjZTogTkFNRVNQQUNFIH0gfSkpO1xufTtcbmNvbnN0IHNhZmVDYWxsID0gKGluc3RhbmNlLCBtZXRob2QsIGFyZykgPT4ge1xuICAgIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZVttZXRob2RdKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VbbWV0aG9kXShhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5jb25zdCB0aGVuID0gKHByb21pc2UsIHRoZW5GbikgPT4ge1xuICAgIHJldHVybiBwcm9taXNlICYmIHByb21pc2UudGhlbiA/IHByb21pc2UudGhlbih0aGVuRm4pIDogdGhlbkZuKCk7XG59O1xuY29uc3QgYWRkSHlkcmF0ZWRGbGFnID0gKGVsbSkgPT4gZWxtLmNsYXNzTGlzdC5hZGQoJ2h5ZHJhdGVkJylcbiAgICA7XG5jb25zdCBpbml0aWFsaXplQ2xpZW50SHlkcmF0ZSA9IChob3N0RWxtLCB0YWdOYW1lLCBob3N0SWQsIGhvc3RSZWYpID0+IHtcbiAgICBjb25zdCBlbmRIeWRyYXRlID0gY3JlYXRlVGltZSgnaHlkcmF0ZUNsaWVudCcsIHRhZ05hbWUpO1xuICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSBob3N0RWxtLnNoYWRvd1Jvb3Q7XG4gICAgY29uc3QgY2hpbGRSZW5kZXJOb2RlcyA9IFtdO1xuICAgIGNvbnN0IHNsb3ROb2RlcyA9IFtdO1xuICAgIGNvbnN0IHNoYWRvd1Jvb3ROb2RlcyA9IHNoYWRvd1Jvb3QgPyBbXSA6IG51bGw7XG4gICAgY29uc3Qgdm5vZGUgPSAoaG9zdFJlZi4kdm5vZGUkID0gbmV3Vk5vZGUodGFnTmFtZSwgbnVsbCkpO1xuICAgIGlmICghcGx0LiRvcmdMb2NOb2RlcyQpIHtcbiAgICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShkb2MuYm9keSwgKHBsdC4kb3JnTG9jTm9kZXMkID0gbmV3IE1hcCgpKSk7XG4gICAgfVxuICAgIGhvc3RFbG1bSFlEUkFURV9JRF0gPSBob3N0SWQ7XG4gICAgaG9zdEVsbS5yZW1vdmVBdHRyaWJ1dGUoSFlEUkFURV9JRCk7XG4gICAgY2xpZW50SHlkcmF0ZSh2bm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIGhvc3RFbG0sIGhvc3RJZCk7XG4gICAgY2hpbGRSZW5kZXJOb2Rlcy5tYXAoKGMpID0+IHtcbiAgICAgICAgY29uc3Qgb3JnTG9jYXRpb25JZCA9IGMuJGhvc3RJZCQgKyAnLicgKyBjLiRub2RlSWQkO1xuICAgICAgICBjb25zdCBvcmdMb2NhdGlvbk5vZGUgPSBwbHQuJG9yZ0xvY05vZGVzJC5nZXQob3JnTG9jYXRpb25JZCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBjLiRlbG0kO1xuICAgICAgICBpZiAob3JnTG9jYXRpb25Ob2RlICYmIHN1cHBvcnRzU2hhZG93ICYmIG9yZ0xvY2F0aW9uTm9kZVsncy1lbiddID09PSAnJykge1xuICAgICAgICAgICAgb3JnTG9jYXRpb25Ob2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIG9yZ0xvY2F0aW9uTm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzaGFkb3dSb290KSB7XG4gICAgICAgICAgICBub2RlWydzLWhuJ10gPSB0YWdOYW1lO1xuICAgICAgICAgICAgaWYgKG9yZ0xvY2F0aW9uTm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGVbJ3Mtb2wnXSA9IG9yZ0xvY2F0aW9uTm9kZTtcbiAgICAgICAgICAgICAgICBub2RlWydzLW9sJ11bJ3MtbnInXSA9IG5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGx0LiRvcmdMb2NOb2RlcyQuZGVsZXRlKG9yZ0xvY2F0aW9uSWQpO1xuICAgIH0pO1xuICAgIGlmIChzaGFkb3dSb290KSB7XG4gICAgICAgIHNoYWRvd1Jvb3ROb2Rlcy5tYXAoKHNoYWRvd1Jvb3ROb2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hhZG93Um9vdE5vZGUpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290LmFwcGVuZENoaWxkKHNoYWRvd1Jvb3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZEh5ZHJhdGUoKTtcbn07XG5jb25zdCBjbGllbnRIeWRyYXRlID0gKHBhcmVudFZOb2RlLCBjaGlsZFJlbmRlck5vZGVzLCBzbG90Tm9kZXMsIHNoYWRvd1Jvb3ROb2RlcywgaG9zdEVsbSwgbm9kZSwgaG9zdElkKSA9PiB7XG4gICAgbGV0IGNoaWxkTm9kZVR5cGU7XG4gICAgbGV0IGNoaWxkSWRTcGx0O1xuICAgIGxldCBjaGlsZFZOb2RlO1xuICAgIGxldCBpO1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIGNoaWxkTm9kZVR5cGUgPSBub2RlLmdldEF0dHJpYnV0ZShIWURSQVRFX0NISUxEX0lEKTtcbiAgICAgICAgaWYgKGNoaWxkTm9kZVR5cGUpIHtcbiAgICAgICAgICAgIC8vIGdvdCB0aGUgbm9kZSBkYXRhIGZyb20gdGhlIGVsZW1lbnQncyBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIGAke2hvc3RJZH0uJHtub2RlSWR9LiR7ZGVwdGh9LiR7aW5kZXh9YFxuICAgICAgICAgICAgY2hpbGRJZFNwbHQgPSBjaGlsZE5vZGVUeXBlLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAoY2hpbGRJZFNwbHRbMF0gPT09IGhvc3RJZCB8fCBjaGlsZElkU3BsdFswXSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWTm9kZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJGZsYWdzJDogMCxcbiAgICAgICAgICAgICAgICAgICAgJGhvc3RJZCQ6IGNoaWxkSWRTcGx0WzBdLFxuICAgICAgICAgICAgICAgICAgICAkbm9kZUlkJDogY2hpbGRJZFNwbHRbMV0sXG4gICAgICAgICAgICAgICAgICAgICRkZXB0aCQ6IGNoaWxkSWRTcGx0WzJdLFxuICAgICAgICAgICAgICAgICAgICAkaW5kZXgkOiBjaGlsZElkU3BsdFszXSxcbiAgICAgICAgICAgICAgICAgICAgJHRhZyQ6IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAkZWxtJDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgJGF0dHJzJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJGNoaWxkcmVuJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJGtleSQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICRuYW1lJDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJHRleHQkOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2hpbGRSZW5kZXJOb2Rlcy5wdXNoKGNoaWxkVk5vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKEhZRFJBVEVfQ0hJTERfSUQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSBuZXcgY2hpbGQgdm5vZGVcbiAgICAgICAgICAgICAgICAvLyBzbyBlbnN1cmUgaXRzIHBhcmVudCB2bm9kZSBoYXMgdGhlIHZjaGlsZHJlbiBhcnJheVxuICAgICAgICAgICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFkZCBvdXIgY2hpbGQgdm5vZGUgdG8gYSBzcGVjaWZpYyBpbmRleCBvZiB0aGUgdm5vZGUncyBjaGlsZHJlblxuICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBub3cgdGhlIG5ldyBwYXJlbnQgdm5vZGUgZm9yIGFsbCB0aGUgbmV4dCBjaGlsZCBjaGVja3NcbiAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd1Jvb3ROb2RlcyAmJiBjaGlsZFZOb2RlLiRkZXB0aCQgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICBzaGFkb3dSb290Tm9kZXNbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGUuJGVsbSQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IGRyaWxsIGRvd24sIGVuZCB0byBzdGFydCBzbyB3ZSBjYW4gcmVtb3ZlIG5vZGVzXG4gICAgICAgIGZvciAoaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY2xpZW50SHlkcmF0ZShwYXJlbnRWTm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIG5vZGUuY2hpbGROb2Rlc1tpXSwgaG9zdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAvLyBrZWVwIGRyaWxsaW5nIGRvd24gdGhyb3VnaCB0aGUgc2hhZG93IHJvb3Qgbm9kZXNcbiAgICAgICAgICAgIGZvciAoaSA9IG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50SHlkcmF0ZShwYXJlbnRWTm9kZSwgY2hpbGRSZW5kZXJOb2Rlcywgc2xvdE5vZGVzLCBzaGFkb3dSb290Tm9kZXMsIGhvc3RFbG0sIG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzW2ldLCBob3N0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8pIHtcbiAgICAgICAgLy8gYCR7Q09NTUVOVF9UWVBFfS4ke2hvc3RJZH0uJHtub2RlSWR9LiR7ZGVwdGh9LiR7aW5kZXh9YFxuICAgICAgICBjaGlsZElkU3BsdCA9IG5vZGUubm9kZVZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICAgIGlmIChjaGlsZElkU3BsdFsxXSA9PT0gaG9zdElkIHx8IGNoaWxkSWRTcGx0WzFdID09PSAnMCcpIHtcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgbm9kZSBmb3IgZWl0aGVyIHRoZSBob3N0IGlkIG9yIGEgMCBob3N0IGlkXG4gICAgICAgICAgICBjaGlsZE5vZGVUeXBlID0gY2hpbGRJZFNwbHRbMF07XG4gICAgICAgICAgICBjaGlsZFZOb2RlID0ge1xuICAgICAgICAgICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICAgICAgICAgJGhvc3RJZCQ6IGNoaWxkSWRTcGx0WzFdLFxuICAgICAgICAgICAgICAgICRub2RlSWQkOiBjaGlsZElkU3BsdFsyXSxcbiAgICAgICAgICAgICAgICAkZGVwdGgkOiBjaGlsZElkU3BsdFszXSxcbiAgICAgICAgICAgICAgICAkaW5kZXgkOiBjaGlsZElkU3BsdFs0XSxcbiAgICAgICAgICAgICAgICAkZWxtJDogbm9kZSxcbiAgICAgICAgICAgICAgICAkYXR0cnMkOiBudWxsLFxuICAgICAgICAgICAgICAgICRjaGlsZHJlbiQ6IG51bGwsXG4gICAgICAgICAgICAgICAgJGtleSQ6IG51bGwsXG4gICAgICAgICAgICAgICAgJG5hbWUkOiBudWxsLFxuICAgICAgICAgICAgICAgICR0YWckOiBudWxsLFxuICAgICAgICAgICAgICAgICR0ZXh0JDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlVHlwZSA9PT0gVEVYVF9OT0RFX0lEKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRWTm9kZS4kZWxtJCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkVk5vZGUuJGVsbSQgJiYgY2hpbGRWTm9kZS4kZWxtJC5ub2RlVHlwZSA9PT0gMyAvKiBUZXh0Tm9kZSAqLykge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZOb2RlLiR0ZXh0JCA9IGNoaWxkVk5vZGUuJGVsbSQudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkUmVuZGVyTm9kZXMucHVzaChjaGlsZFZOb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSB0ZXh0IGNvbW1lbnQgc2luY2UgaXQncyBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Vk5vZGUuJGNoaWxkcmVuJCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiRbY2hpbGRWTm9kZS4kaW5kZXgkXSA9IGNoaWxkVk5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMgJiYgY2hpbGRWTm9kZS4kZGVwdGgkID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvd1Jvb3ROb2Rlc1tjaGlsZFZOb2RlLiRpbmRleCRdID0gY2hpbGRWTm9kZS4kZWxtJDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkVk5vZGUuJGhvc3RJZCQgPT09IGhvc3RJZCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgY29tbWVudCBub2RlIGlzIHNwZWNpZmNhbGx5IGZvciB0aGlzIGhvc3QgaWRcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlVHlwZSA9PT0gU0xPVF9OT0RFX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGAke1NMT1RfTk9ERV9JRH0uJHtob3N0SWR9LiR7bm9kZUlkfS4ke2RlcHRofS4ke2luZGV4fS4ke3Nsb3ROYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVk5vZGUuJHRhZyQgPSAnc2xvdCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZElkU3BsdFs1XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVsncy1zbiddID0gY2hpbGRWTm9kZS4kbmFtZSQgPSBjaGlsZElkU3BsdFs1XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc24nXSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGVbJ3Mtc3InXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGFkb3dSb290Tm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJyb3dzZXIgc3VwcG9ydCBzaGFkb3dSb290IGFuZCB0aGlzIGlzIGEgc2hhZG93IGRvbSBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBhbiBhY3R1YWwgc2xvdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZOb2RlLiRlbG0kID0gZG9jLmNyZWF0ZUVsZW1lbnQoY2hpbGRWTm9kZS4kdGFnJCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRWTm9kZS4kbmFtZSQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHNsb3QgbmFtZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZOb2RlLiRlbG0kLnNldEF0dHJpYnV0ZSgnbmFtZScsIGNoaWxkVk5vZGUuJG5hbWUkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluc2VydCB0aGUgbmV3IHNsb3QgZWxlbWVudCBiZWZvcmUgdGhlIHNsb3QgY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZFZOb2RlLiRlbG0kLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgc2xvdCBjb21tZW50IHNpbmNlIGl0J3Mgbm90IG5lZWRlZCBmb3Igc2hhZG93XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkVk5vZGUuJGRlcHRoJCA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Um9vdE5vZGVzW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlLiRlbG0kO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNsb3ROb2Rlcy5wdXNoKGNoaWxkVk5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudFZOb2RlLiRjaGlsZHJlbiQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFZOb2RlLiRjaGlsZHJlbiQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kW2NoaWxkVk5vZGUuJGluZGV4JF0gPSBjaGlsZFZOb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGlsZE5vZGVUeXBlID09PSBDT05URU5UX1JFRl9JRCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBgJHtDT05URU5UX1JFRl9JRH0uJHtob3N0SWR9YDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoYWRvd1Jvb3ROb2Rlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBjb250ZW50IHJlZiBjb21tZW50IHNpbmNlIGl0J3Mgbm90IG5lZWRlZCBmb3Igc2hhZG93XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9zdEVsbVsncy1jciddID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbJ3MtY24nXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAocGFyZW50Vk5vZGUgJiYgcGFyZW50Vk5vZGUuJHRhZyQgPT09ICdzdHlsZScpIHtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBuZXdWTm9kZShudWxsLCBub2RlLnRleHRDb250ZW50KTtcbiAgICAgICAgdm5vZGUuJGVsbSQgPSBub2RlO1xuICAgICAgICB2bm9kZS4kaW5kZXgkID0gJzAnO1xuICAgICAgICBwYXJlbnRWTm9kZS4kY2hpbGRyZW4kID0gW3Zub2RlXTtcbiAgICB9XG59O1xuY29uc3QgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZSA9IChub2RlLCBvcmdMb2NOb2RlcykgPT4ge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIEVsZW1lbnROb2RlICovKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluaXRpYWxpemVEb2N1bWVudEh5ZHJhdGUobm9kZS5jaGlsZE5vZGVzW2ldLCBvcmdMb2NOb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuc2hhZG93Um9vdCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUuc2hhZG93Um9vdC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZURvY3VtZW50SHlkcmF0ZShub2RlLnNoYWRvd1Jvb3QuY2hpbGROb2Rlc1tpXSwgb3JnTG9jTm9kZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogQ29tbWVudE5vZGUgKi8pIHtcbiAgICAgICAgY29uc3QgY2hpbGRJZFNwbHQgPSBub2RlLm5vZGVWYWx1ZS5zcGxpdCgnLicpO1xuICAgICAgICBpZiAoY2hpbGRJZFNwbHRbMF0gPT09IE9SR19MT0NBVElPTl9JRCkge1xuICAgICAgICAgICAgb3JnTG9jTm9kZXMuc2V0KGNoaWxkSWRTcGx0WzFdICsgJy4nICsgY2hpbGRJZFNwbHRbMl0sIG5vZGUpO1xuICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSAnJztcbiAgICAgICAgICAgIC8vIHVzZWZ1bCB0byBrbm93IGlmIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiBpc1xuICAgICAgICAgICAgLy8gdGhlIHJvb3QgbGlnaHQtZG9tIG9mIGEgc2hhZG93IGRvbSBjb21wb25lbnRcbiAgICAgICAgICAgIG5vZGVbJ3MtZW4nXSA9IGNoaWxkSWRTcGx0WzNdO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IHBhcnNlUHJvcGVydHlWYWx1ZSA9IChwcm9wVmFsdWUsIHByb3BUeXBlKSA9PiB7XG4gICAgLy8gZW5zdXJlIHRoaXMgdmFsdWUgaXMgb2YgdGhlIGNvcnJlY3QgcHJvcCB0eXBlXG4gICAgaWYgKHByb3BWYWx1ZSAhPSBudWxsICYmICFpc0NvbXBsZXhUeXBlKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgaWYgKHByb3BUeXBlICYgNCAvKiBCb29sZWFuICovKSB7XG4gICAgICAgICAgICAvLyBwZXIgdGhlIEhUTUwgc3BlYywgYW55IHN0cmluZyB2YWx1ZSBtZWFucyBpdCBpcyBhIGJvb2xlYW4gdHJ1ZSB2YWx1ZVxuICAgICAgICAgICAgLy8gYnV0IHdlJ2xsIGNoZWF0IGhlcmUgYW5kIHNheSB0aGF0IHRoZSBzdHJpbmcgXCJmYWxzZVwiIGlzIHRoZSBib29sZWFuIGZhbHNlXG4gICAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlID09PSAnZmFsc2UnID8gZmFsc2UgOiBwcm9wVmFsdWUgPT09ICcnIHx8ICEhcHJvcFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wVHlwZSAmIDIgLyogTnVtYmVyICovKSB7XG4gICAgICAgICAgICAvLyBmb3JjZSBpdCB0byBiZSBhIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocHJvcFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcFR5cGUgJiAxIC8qIFN0cmluZyAqLykge1xuICAgICAgICAgICAgLy8gY291bGQgaGF2ZSBiZWVuIHBhc3NlZCBhcyBhIG51bWJlciBvciBib29sZWFuXG4gICAgICAgICAgICAvLyBidXQgd2Ugc3RpbGwgd2FudCBpdCBhcyBhIHN0cmluZ1xuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhwcm9wVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlZHVuZGFudCByZXR1cm4gaGVyZSBmb3IgYmV0dGVyIG1pbmlmaWNhdGlvblxuICAgICAgICByZXR1cm4gcHJvcFZhbHVlO1xuICAgIH1cbiAgICAvLyBub3Qgc3VyZSBleGFjdGx5IHdoYXQgdHlwZSB3ZSB3YW50XG4gICAgLy8gc28gbm8gbmVlZCB0byBjaGFuZ2UgdG8gYSBkaWZmZXJlbnQgdHlwZVxuICAgIHJldHVybiBwcm9wVmFsdWU7XG59O1xuY29uc3QgZ2V0VmFsdWUgPSAocmVmLCBwcm9wTmFtZSkgPT4gZ2V0SG9zdFJlZihyZWYpLiRpbnN0YW5jZVZhbHVlcyQuZ2V0KHByb3BOYW1lKTtcbmNvbnN0IHNldFZhbHVlID0gKHJlZiwgcHJvcE5hbWUsIG5ld1ZhbCwgY21wTWV0YSkgPT4ge1xuICAgIC8vIGNoZWNrIG91ciBuZXcgcHJvcGVydHkgdmFsdWUgYWdhaW5zdCBvdXIgaW50ZXJuYWwgdmFsdWVcbiAgICBjb25zdCBob3N0UmVmID0gZ2V0SG9zdFJlZihyZWYpO1xuICAgIGNvbnN0IGVsbSA9IGhvc3RSZWYuJGhvc3RFbGVtZW50JCA7XG4gICAgY29uc3Qgb2xkVmFsID0gaG9zdFJlZi4kaW5zdGFuY2VWYWx1ZXMkLmdldChwcm9wTmFtZSk7XG4gICAgY29uc3QgZmxhZ3MgPSBob3N0UmVmLiRmbGFncyQ7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDtcbiAgICBuZXdWYWwgPSBwYXJzZVByb3BlcnR5VmFsdWUobmV3VmFsLCBjbXBNZXRhLiRtZW1iZXJzJFtwcm9wTmFtZV1bMF0pO1xuICAgIGlmICgoIShmbGFncyAmIDggLyogaXNDb25zdHJ1Y3RpbmdJbnN0YW5jZSAqLykgfHwgb2xkVmFsID09PSB1bmRlZmluZWQpICYmIG5ld1ZhbCAhPT0gb2xkVmFsKSB7XG4gICAgICAgIC8vIGdhZHpvb2tzISB0aGUgcHJvcGVydHkncyB2YWx1ZSBoYXMgY2hhbmdlZCEhXG4gICAgICAgIC8vIHNldCBvdXIgbmV3IHZhbHVlIVxuICAgICAgICBob3N0UmVmLiRpbnN0YW5jZVZhbHVlcyQuc2V0KHByb3BOYW1lLCBuZXdWYWwpO1xuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIC8vIGdldCBhbiBhcnJheSBvZiBtZXRob2QgbmFtZXMgb2Ygd2F0Y2ggZnVuY3Rpb25zIHRvIGNhbGxcbiAgICAgICAgICAgIGlmIChjbXBNZXRhLiR3YXRjaGVycyQgJiYgZmxhZ3MgJiAxMjggLyogaXNXYXRjaFJlYWR5ICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2F0Y2hNZXRob2RzID0gY21wTWV0YS4kd2F0Y2hlcnMkW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hNZXRob2RzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaW5zdGFuY2UgaXMgd2F0Y2hpbmcgZm9yIHdoZW4gdGhpcyBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIHdhdGNoTWV0aG9kcy5tYXAoKHdhdGNoTWV0aG9kTmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJlIG9mZiBlYWNoIG9mIHRoZSB3YXRjaCBtZXRob2RzIHRoYXQgYXJlIHdhdGNoaW5nIHRoaXMgcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZVt3YXRjaE1ldGhvZE5hbWVdKG5ld1ZhbCwgb2xkVmFsLCBwcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVFcnJvcihlLCBlbG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGZsYWdzICYgKDIgLyogaGFzUmVuZGVyZWQgKi8gfCAxNiAvKiBpc1F1ZXVlZEZvclVwZGF0ZSAqLykpID09PSAyIC8qIGhhc1JlbmRlcmVkICovKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9va3MgbGlrZSB0aGlzIHZhbHVlIGFjdHVhbGx5IGNoYW5nZWQsIHNvIHdlJ3ZlIGdvdCB3b3JrIHRvIGRvIVxuICAgICAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIHdlJ3ZlIGFscmVhZHkgcmVuZGVyZWQsIG90aGVyd2lzZSBqdXN0IGNoaWxsIG91dFxuICAgICAgICAgICAgICAgIC8vIHF1ZXVlIHRoYXQgd2UgbmVlZCB0byBkbyBhbiB1cGRhdGUsIGJ1dCBkb24ndCB3b3JyeSBhYm91dCBxdWV1aW5nXG4gICAgICAgICAgICAgICAgLy8gdXAgbWlsbGlvbnMgY3V6IHRoaXMgZnVuY3Rpb24gZW5zdXJlcyBpdCBvbmx5IHJ1bnMgb25jZVxuICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlKGhvc3RSZWYsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBwcm94eUNvbXBvbmVudCA9IChDc3RyLCBjbXBNZXRhLCBmbGFncykgPT4ge1xuICAgIGlmIChjbXBNZXRhLiRtZW1iZXJzJCkge1xuICAgICAgICBpZiAoQ3N0ci53YXRjaGVycykge1xuICAgICAgICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0gQ3N0ci53YXRjaGVycztcbiAgICAgICAgfVxuICAgICAgICAvLyBJdCdzIGJldHRlciB0byBoYXZlIGEgY29uc3QgdGhhbiB0d28gT2JqZWN0LmVudHJpZXMoKVxuICAgICAgICBjb25zdCBtZW1iZXJzID0gT2JqZWN0LmVudHJpZXMoY21wTWV0YS4kbWVtYmVycyQpO1xuICAgICAgICBjb25zdCBwcm90b3R5cGUgPSBDc3RyLnByb3RvdHlwZTtcbiAgICAgICAgbWVtYmVycy5tYXAoKFttZW1iZXJOYW1lLCBbbWVtYmVyRmxhZ3NdXSkgPT4ge1xuICAgICAgICAgICAgaWYgKChtZW1iZXJGbGFncyAmIDMxIC8qIFByb3AgKi8gfHxcbiAgICAgICAgICAgICAgICAgICAgKChmbGFncyAmIDIgLyogcHJveHlTdGF0ZSAqLykgJiYgbWVtYmVyRmxhZ3MgJiAzMiAvKiBTdGF0ZSAqLykpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQgLSBwcm9wXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbWVtYmVyTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm94eUNvbXBvbmVudCwgZ2V0IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VmFsdWUodGhpcywgbWVtYmVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJveHlDb21wb25lbnQsIHNldCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUodGhpcywgbWVtYmVyTmFtZSwgbmV3VmFsdWUsIGNtcE1ldGEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmbGFncyAmIDEgLyogaXNFbGVtZW50Q29uc3RydWN0b3IgKi8gJiZcbiAgICAgICAgICAgICAgICBtZW1iZXJGbGFncyAmIDY0IC8qIE1ldGhvZCAqLykge1xuICAgICAgICAgICAgICAgIC8vIHByb3h5Q29tcG9uZW50IC0gbWV0aG9kXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgbWVtYmVyTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBnZXRIb3N0UmVmKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZi4kb25JbnN0YW5jZVByb21pc2UkLnRoZW4oKCkgPT4gcmVmLiRsYXp5SW5zdGFuY2UkW21lbWJlck5hbWVdKC4uLmFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgoZmxhZ3MgJiAxIC8qIGlzRWxlbWVudENvbnN0cnVjdG9yICovKSkge1xuICAgICAgICAgICAgY29uc3QgYXR0ck5hbWVUb1Byb3BOYW1lID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcHJvdG90eXBlLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChhdHRyTmFtZSwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wTmFtZSA9IGF0dHJOYW1lVG9Qcm9wTmFtZS5nZXQoYXR0ck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgSW4gYSB3ZWIgY29tcG9uZW50IGxpZmVjeWNsZSB0aGUgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIHJ1bnMgcHJpb3IgdG8gY29ubmVjdGVkQ2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gIGluIHRoZSBjYXNlIHdoZXJlIGFuIGF0dHJpYnV0ZSB3YXMgc2V0IGlubGluZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYGh0bWxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgPG15LWNvbXBvbmVudCBzb21lLWF0dHJpYnV0ZT1cInNvbWUtdmFsdWVcIj48L215LWNvbXBvbmVudD5cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYFxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyAgVGhlcmUgaXMgYW4gZWRnZSBjYXNlIHdoZXJlIGEgZGV2ZWxvcGVyIHNldHMgdGhlIGF0dHJpYnV0ZSBpbmxpbmUgb24gYSBjdXN0b20gZWxlbWVudCBhbmQgdGhlblxuICAgICAgICAgICAgICAgICAgICAvLyAgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2VzIGl0IGJlZm9yZSBpdCBoYXMgYmVlbiB1cGdyYWRlZCBhcyBzaG93biBiZWxvdzpcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIGBgYGh0bWxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgPCEtLSB0aGlzIGNvbXBvbmVudCBoYXMgX25vdF8gYmVlbiB1cGdyYWRlZCB5ZXQgLS0+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDxteS1jb21wb25lbnQgaWQ9XCJ0ZXN0XCIgc29tZS1hdHRyaWJ1dGU9XCJzb21lLXZhbHVlXCI+PC9teS1jb21wb25lbnQ+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDxzY3JpcHQ+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgLy8gZ3JhYiBub24tdXBncmFkZWQgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgZWwuc29tZUF0dHJpYnV0ZSA9IFwiYW5vdGhlci12YWx1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgIC8vIHVwZ3JhZGUgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdteS1jb21wb25lbnQnLCBNeUNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgIDwvc2NyaXB0PlxuICAgICAgICAgICAgICAgICAgICAvLyAgYGBgXG4gICAgICAgICAgICAgICAgICAgIC8vICBJbiB0aGlzIGNhc2UgaWYgd2UgZG8gbm90IHVuc2hhZG93IGhlcmUgYW5kIHVzZSB0aGUgdmFsdWUgb2YgdGhlIHNoYWRvd2luZyBwcm9wZXJ0eSwgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIC8vICB3aWxsIGJlIGNhbGxlZCB3aXRoIGBuZXdWYWx1ZSA9IFwic29tZS12YWx1ZVwiYCBhbmQgd2lsbCBzZXQgdGhlIHNoYWRvd2VkIHByb3BlcnR5ICh0aGlzLnNvbWVBdHRyaWJ1dGUgPSBcImFub3RoZXItdmFsdWVcIilcbiAgICAgICAgICAgICAgICAgICAgLy8gIHRvIHRoZSB2YWx1ZSB0aGF0IHdhcyBzZXQgaW5saW5lIGkuZS4gXCJzb21lLXZhbHVlXCIgZnJvbSBhYm92ZSBleGFtcGxlLiBXaGVuXG4gICAgICAgICAgICAgICAgICAgIC8vICB0aGUgY29ubmVjdGVkQ2FsbGJhY2sgYXR0ZW1wdHMgdG8gdW5zaGFkb3cgaXQgd2lsbCB1c2UgXCJzb21lLXZhbHVlXCIgYXMgdGhlIGluaXRpYWwgdmFsdWUgcmF0aGVyIHRoYW4gXCJhbm90aGVyLXZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIFRoZSBjYXNlIHdoZXJlIHRoZSBhdHRyaWJ1dGUgd2FzIE5PVCBzZXQgaW5saW5lIGJ1dCB3YXMgbm90IHNldCBwcm9ncmFtbWF0aWNhbGx5IHNoYWxsIGJlIGhhbmRsZWQvdW5zaGFkb3dlZFxuICAgICAgICAgICAgICAgICAgICAvLyAgYnkgY29ubmVjdGVkQ2FsbGJhY2sgYXMgdGhpcyBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sgd2lsbCBub3QgZmlyZS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvd2ViLWNvbXBvbmVudHMvYmVzdC1wcmFjdGljZXMjbGF6eS1wcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICBUT0RPKFNURU5DSUwtMTYpIHdlIHNob3VsZCB0aGluayBhYm91dCB3aGV0aGVyIG9yIG5vdCB3ZSBhY3R1YWxseSB3YW50IHRvIGJlIHJlZmxlY3RpbmcgdGhlIGF0dHJpYnV0ZXMgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gIHByb3BlcnRpZXMgaGVyZSBnaXZlbiB0aGF0IHRoaXMgZ29lcyBhZ2FpbnN0IGJlc3QgcHJhY3RpY2VzIG91dGxpbmVkIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi9mdW5kYW1lbnRhbHMvd2ViLWNvbXBvbmVudHMvYmVzdC1wcmFjdGljZXMjYXZvaWQtcmVlbnRyYW5jeVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcE5hbWVdID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwcm9wTmFtZSBleGlzdHMgb24gdGhlIHByb3RvdHlwZSBvZiBgQ3N0cmAsIHRoaXMgdXBkYXRlIG1heSBiZSBhIHJlc3VsdCBvZiBTdGVuY2lsIHVzaW5nIG5hdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQVBJcyB0byByZWZsZWN0IHByb3BzIGFzIGF0dHJpYnV0ZXMuIENhbGxzIHRvIGBzZXRBdHRyaWJ1dGUoc29tZUVsZW1lbnQsIHByb3BOYW1lKWAgd2lsbCByZXN1bHQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBwcm9wTmFtZWAgdG8gYmUgY29udmVydGVkIHRvIGEgYERPTVN0cmluZ2AsIHdoaWNoIG1heSBub3QgYmUgd2hhdCB3ZSB3YW50IGZvciBvdGhlciBwcmltaXRpdmUgcHJvcHMuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuZXdWYWx1ZSA9PT0gbnVsbCAmJiB0eXBlb2YgdGhpc1twcm9wTmFtZV0gPT09ICdib29sZWFuJyA/IGZhbHNlIDogbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gb2JzZXJ2ZVxuICAgICAgICAgICAgLy8gYW5kIGFsc28gY3JlYXRlIGEgbWFwIG9mIGh0bWwgYXR0cmlidXRlIG5hbWUgdG8ganMgcHJvcGVydHkgbmFtZVxuICAgICAgICAgICAgQ3N0ci5vYnNlcnZlZEF0dHJpYnV0ZXMgPSBtZW1iZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoW18sIG1dKSA9PiBtWzBdICYgMTUgLyogSGFzQXR0cmlidXRlICovKSAvLyBmaWx0ZXIgdG8gb25seSBrZWVwIHByb3BzIHRoYXQgc2hvdWxkIG1hdGNoIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICAubWFwKChbcHJvcE5hbWUsIG1dKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0ck5hbWUgPSBtWzFdIHx8IHByb3BOYW1lO1xuICAgICAgICAgICAgICAgIGF0dHJOYW1lVG9Qcm9wTmFtZS5zZXQoYXR0ck5hbWUsIHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAobVswXSAmIDUxMiAvKiBSZWZsZWN0QXR0ciAqLykge1xuICAgICAgICAgICAgICAgICAgICBjbXBNZXRhLiRhdHRyc1RvUmVmbGVjdCQucHVzaChbcHJvcE5hbWUsIGF0dHJOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhdHRyTmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBDc3RyO1xufTtcbmNvbnN0IGluaXRpYWxpemVDb21wb25lbnQgPSBhc3luYyAoZWxtLCBob3N0UmVmLCBjbXBNZXRhLCBobXJWZXJzaW9uSWQsIENzdHIpID0+IHtcbiAgICAvLyBpbml0aWFsaXplQ29tcG9uZW50XG4gICAgaWYgKChob3N0UmVmLiRmbGFncyQgJiAzMiAvKiBoYXNJbml0aWFsaXplZENvbXBvbmVudCAqLykgPT09IDApIHtcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgaGF2ZW4ndCBpbml0aWFsaXplZCB0aGlzIGVsZW1lbnQgeWV0XG4gICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gMzIgLyogaGFzSW5pdGlhbGl6ZWRDb21wb25lbnQgKi87XG4gICAgICAgICAgICAvLyBsYXp5IGxvYWRlZCBjb21wb25lbnRzXG4gICAgICAgICAgICAvLyByZXF1ZXN0IHRoZSBjb21wb25lbnQncyBpbXBsZW1lbnRhdGlvbiB0byBiZVxuICAgICAgICAgICAgLy8gd2lyZWQgdXAgd2l0aCB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICBDc3RyID0gbG9hZE1vZHVsZShjbXBNZXRhKTtcbiAgICAgICAgICAgIGlmIChDc3RyLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAvLyBBd2FpdCBjcmVhdGVzIGEgbWljcm8tdGFzayBhdm9pZCBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZExvYWQgPSB1bmlxdWVUaW1lKCk7XG4gICAgICAgICAgICAgICAgQ3N0ciA9IGF3YWl0IENzdHI7XG4gICAgICAgICAgICAgICAgZW5kTG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFDc3RyLmlzUHJveGllZCkge1xuICAgICAgICAgICAgICAgIC8vIHdlJ3ZlIG5ldmVyIHByb3hpZWQgdGhpcyBDb25zdHJ1Y3RvciBiZWZvcmVcbiAgICAgICAgICAgICAgICAvLyBsZXQncyBhZGQgdGhlIGdldHRlcnMvc2V0dGVycyB0byBpdHMgcHJvdG90eXBlIGJlZm9yZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB0aW1lIHdlIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNtcE1ldGEuJHdhdGNoZXJzJCA9IENzdHIud2F0Y2hlcnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb3h5Q29tcG9uZW50KENzdHIsIGNtcE1ldGEsIDIgLyogcHJveHlTdGF0ZSAqLyk7XG4gICAgICAgICAgICAgICAgQ3N0ci5pc1Byb3hpZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW5kTmV3SW5zdGFuY2UgPSBjcmVhdGVUaW1lKCdjcmVhdGVJbnN0YW5jZScsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgICAgIC8vIG9rLCB0aW1lIHRvIGNvbnN0cnVjdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIGJ1dCBsZXQncyBrZWVwIHRyYWNrIG9mIHdoZW4gd2Ugc3RhcnQgYW5kIHN0b3BcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGdldHRlcnMvc2V0dGVycyBkb24ndCBpbmNvcnJlY3RseSBzdGVwIG9uIGRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBob3N0UmVmLiRmbGFncyQgfD0gOCAvKiBpc0NvbnN0cnVjdGluZ0luc3RhbmNlICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc3RydWN0IHRoZSBsYXp5LWxvYWRlZCBjb21wb25lbnQgaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgIC8vIHBhc3NpbmcgdGhlIGhvc3RSZWYgaXMgdmVyeSBpbXBvcnRhbnQgZHVyaW5nXG4gICAgICAgICAgICAvLyBjb25zdHJ1Y3Rpb24gaW4gb3JkZXIgdG8gZGlyZWN0bHkgd2lyZSB0b2dldGhlciB0aGVcbiAgICAgICAgICAgIC8vIGhvc3QgZWxlbWVudCBhbmQgdGhlIGxhenktbG9hZGVkIGluc3RhbmNlXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG5ldyBDc3RyKGhvc3RSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkICY9IH44IC8qIGlzQ29uc3RydWN0aW5nSW5zdGFuY2UgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kZmxhZ3MkIHw9IDEyOCAvKiBpc1dhdGNoUmVhZHkgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmROZXdJbnN0YW5jZSgpO1xuICAgICAgICAgICAgZmlyZUNvbm5lY3RlZENhbGxiYWNrKGhvc3RSZWYuJGxhenlJbnN0YW5jZSQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChDc3RyLnN0eWxlKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCBoYXMgc3R5bGVzIGJ1dCB3ZSBoYXZlbid0IHJlZ2lzdGVyZWQgdGhlbSB5ZXRcbiAgICAgICAgICAgIGxldCBzdHlsZSA9IENzdHIuc3R5bGU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0eWxlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHN0eWxlID0gc3R5bGVbKGhvc3RSZWYuJG1vZGVOYW1lJCA9IGNvbXB1dGVNb2RlKGVsbSkpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNjb3BlSWQgPSBnZXRTY29wZUlkKGNtcE1ldGEsIGhvc3RSZWYuJG1vZGVOYW1lJCk7XG4gICAgICAgICAgICBpZiAoIXN0eWxlcy5oYXMoc2NvcGVJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRSZWdpc3RlclN0eWxlcyA9IGNyZWF0ZVRpbWUoJ3JlZ2lzdGVyU3R5bGVzJywgY21wTWV0YS4kdGFnTmFtZSQpO1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyU3R5bGUoc2NvcGVJZCwgc3R5bGUsICEhKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykpO1xuICAgICAgICAgICAgICAgIGVuZFJlZ2lzdGVyU3R5bGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gd2UndmUgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgYSBsYXp5IGluc3RhbmNlXG4gICAgY29uc3QgYW5jZXN0b3JDb21wb25lbnQgPSBob3N0UmVmLiRhbmNlc3RvckNvbXBvbmVudCQ7XG4gICAgY29uc3Qgc2NoZWR1bGUgPSAoKSA9PiBzY2hlZHVsZVVwZGF0ZShob3N0UmVmLCB0cnVlKTtcbiAgICBpZiAoYW5jZXN0b3JDb21wb25lbnQgJiYgYW5jZXN0b3JDb21wb25lbnRbJ3MtcmMnXSkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBpbml0aWFsIGxvYWQgYW5kIHRoaXMgY29tcG9uZW50IGl0IGhhcyBhbiBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgLy8gYnV0IHRoZSBhbmNlc3RvciBjb21wb25lbnQgaGFzIE5PVCBmaXJlZCBpdHMgd2lsbCB1cGRhdGUgbGlmZWN5Y2xlIHlldFxuICAgICAgICAvLyBzbyBsZXQncyBqdXN0IGNvb2wgb3VyIGpldHMgYW5kIHdhaXQgZm9yIHRoZSBhbmNlc3RvciB0byBjb250aW51ZSBmaXJzdFxuICAgICAgICAvLyB0aGlzIHdpbGwgZ2V0IGZpcmVkIG9mZiB3aGVuIHRoZSBhbmNlc3RvciBjb21wb25lbnRcbiAgICAgICAgLy8gZmluYWxseSBnZXRzIGFyb3VuZCB0byByZW5kZXJpbmcgaXRzIGxhenkgc2VsZlxuICAgICAgICAvLyBmaXJlIG9mZiB0aGUgaW5pdGlhbCB1cGRhdGVcbiAgICAgICAgYW5jZXN0b3JDb21wb25lbnRbJ3MtcmMnXS5wdXNoKHNjaGVkdWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjaGVkdWxlKCk7XG4gICAgfVxufTtcbmNvbnN0IGZpcmVDb25uZWN0ZWRDYWxsYmFjayA9IChpbnN0YW5jZSkgPT4ge1xuICAgIHtcbiAgICAgICAgc2FmZUNhbGwoaW5zdGFuY2UsICdjb25uZWN0ZWRDYWxsYmFjaycpO1xuICAgIH1cbn07XG5jb25zdCBjb25uZWN0ZWRDYWxsYmFjayA9IChlbG0pID0+IHtcbiAgICBpZiAoKHBsdC4kZmxhZ3MkICYgMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLykgPT09IDApIHtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAgICAgY29uc3QgY21wTWV0YSA9IGhvc3RSZWYuJGNtcE1ldGEkO1xuICAgICAgICBjb25zdCBlbmRDb25uZWN0ZWQgPSBjcmVhdGVUaW1lKCdjb25uZWN0ZWRDYWxsYmFjaycsIGNtcE1ldGEuJHRhZ05hbWUkKTtcbiAgICAgICAgaWYgKCEoaG9zdFJlZi4kZmxhZ3MkICYgMSAvKiBoYXNDb25uZWN0ZWQgKi8pKSB7XG4gICAgICAgICAgICAvLyBmaXJzdCB0aW1lIHRoaXMgY29tcG9uZW50IGhhcyBjb25uZWN0ZWRcbiAgICAgICAgICAgIGhvc3RSZWYuJGZsYWdzJCB8PSAxIC8qIGhhc0Nvbm5lY3RlZCAqLztcbiAgICAgICAgICAgIGxldCBob3N0SWQ7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaG9zdElkID0gZWxtLmdldEF0dHJpYnV0ZShIWURSQVRFX0lEKTtcbiAgICAgICAgICAgICAgICBpZiAoaG9zdElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXBNZXRhLiRmbGFncyQgJiAxIC8qIHNoYWRvd0RvbUVuY2Fwc3VsYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlSWQgPSBhZGRTdHlsZShlbG0uc2hhZG93Um9vdCwgY21wTWV0YSwgZWxtLmdldEF0dHJpYnV0ZSgncy1tb2RlJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxtLmNsYXNzTGlzdC5yZW1vdmUoc2NvcGVJZCArICctaCcsIHNjb3BlSWQgKyAnLXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQ2xpZW50SHlkcmF0ZShlbG0sIGNtcE1ldGEuJHRhZ05hbWUkLCBob3N0SWQsIGhvc3RSZWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaG9zdElkKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdFVwZGF0ZVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBzbG90IHBvbHlmaWxsIGlzIHJlcXVpcmVkIHdlJ2xsIG5lZWQgdG8gcHV0IHNvbWUgbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBpbiBoZXJlIHRvIGFjdCBhcyBvcmlnaW5hbCBjb250ZW50IGFuY2hvcnMgYXMgd2UgbW92ZSBub2RlcyBhcm91bmRcbiAgICAgICAgICAgICAgICAvLyBob3N0IGVsZW1lbnQgaGFzIGJlZW4gY29ubmVjdGVkIHRvIHRoZSBET01cbiAgICAgICAgICAgICAgICBpZiAoKGNtcE1ldGEuJGZsYWdzJCAmICg0IC8qIGhhc1Nsb3RSZWxvY2F0aW9uICovIHwgOCAvKiBuZWVkc1NoYWRvd0RvbVNoaW0gKi8pKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRDb250ZW50UmVmZXJlbmNlKGVsbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGZpcnN0IGFuY2VzdG9yIGNvbXBvbmVudCAoaWYgdGhlcmUgaXMgb25lKSBhbmQgcmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNvbXBvbmVudCBhcyBvbmUgb2YgdGhlIGFjdGl2ZWx5IGxvYWRpbmcgY2hpbGQgY29tcG9uZW50cyBmb3IgaXRzIGFuY2VzdG9yXG4gICAgICAgICAgICAgICAgbGV0IGFuY2VzdG9yQ29tcG9uZW50ID0gZWxtO1xuICAgICAgICAgICAgICAgIHdoaWxlICgoYW5jZXN0b3JDb21wb25lbnQgPSBhbmNlc3RvckNvbXBvbmVudC5wYXJlbnROb2RlIHx8IGFuY2VzdG9yQ29tcG9uZW50Lmhvc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsaW1iIHVwIHRoZSBhbmNlc3RvcnMgbG9va2luZyBmb3IgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudCB0aGF0IGhhc24ndCBmaW5pc2hlZCBpdHMgbGlmZWN5Y2xlIHVwZGF0ZSB5ZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKChhbmNlc3RvckNvbXBvbmVudC5ub2RlVHlwZSA9PT0gMSAvKiBFbGVtZW50Tm9kZSAqLyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYW5jZXN0b3JDb21wb25lbnQuaGFzQXR0cmlidXRlKCdzLWlkJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuY2VzdG9yQ29tcG9uZW50WydzLXAnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm91bmQgdGhpcyBjb21wb25lbnRzIGZpcnN0IGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCBhIHJlZmVyZW5jZSB0byB0aGlzIGNvbXBvbmVudCdzIGFuY2VzdG9yIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoVG9BbmNlc3Rvcihob3N0UmVmLCAoaG9zdFJlZi4kYW5jZXN0b3JDb21wb25lbnQkID0gYW5jZXN0b3JDb21wb25lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTGF6eSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvZnVuZGFtZW50YWxzL3dlYi1jb21wb25lbnRzL2Jlc3QtcHJhY3RpY2VzI2xhenktcHJvcGVydGllc1xuICAgICAgICAgICAgaWYgKGNtcE1ldGEuJG1lbWJlcnMkKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXMoY21wTWV0YS4kbWVtYmVycyQpLm1hcCgoW21lbWJlck5hbWUsIFttZW1iZXJGbGFnc11dKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJGbGFncyAmIDMxIC8qIFByb3AgKi8gJiYgZWxtLmhhc093blByb3BlcnR5KG1lbWJlck5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGVsbVttZW1iZXJOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbG1bbWVtYmVyTmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBlbG1bbWVtYmVyTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGNvbm5lY3RlZENhbGxiYWNrLCB0YXNrUXVldWUsIGluaXRpYWxMb2FkXG4gICAgICAgICAgICAgICAgLy8gYW5ndWxhciBzZXRzIGF0dHJpYnV0ZSBBRlRFUiBjb25uZWN0Q2FsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8xODkwOVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIvaXNzdWVzLzE5OTQwXG4gICAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4gaW5pdGlhbGl6ZUNvbXBvbmVudChlbG0sIGhvc3RSZWYsIGNtcE1ldGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vdCB0aGUgZmlyc3QgdGltZSB0aGlzIGhhcyBjb25uZWN0ZWRcbiAgICAgICAgICAgIC8vIHJlYXR0YWNoIGFueSBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGhvc3RcbiAgICAgICAgICAgIC8vIHNpbmNlIHRoZXkgd291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgd2hlbiBkaXNjb25uZWN0ZWRcbiAgICAgICAgICAgIGFkZEhvc3RFdmVudExpc3RlbmVycyhlbG0sIGhvc3RSZWYsIGNtcE1ldGEuJGxpc3RlbmVycyQpO1xuICAgICAgICAgICAgLy8gZmlyZSBvZmYgY29ubmVjdGVkQ2FsbGJhY2soKSBvbiBjb21wb25lbnQgaW5zdGFuY2VcbiAgICAgICAgICAgIGZpcmVDb25uZWN0ZWRDYWxsYmFjayhob3N0UmVmLiRsYXp5SW5zdGFuY2UkKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRDb25uZWN0ZWQoKTtcbiAgICB9XG59O1xuY29uc3Qgc2V0Q29udGVudFJlZmVyZW5jZSA9IChlbG0pID0+IHtcbiAgICAvLyBvbmx5IHJlcXVpcmVkIHdoZW4gd2UncmUgTk9UIHVzaW5nIG5hdGl2ZSBzaGFkb3cgZG9tIChzbG90KVxuICAgIC8vIG9yIHRoaXMgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgbmF0aXZlIHNoYWRvdyBkb21cbiAgICAvLyBhbmQgdGhpcyBob3N0IGVsZW1lbnQgd2FzIE5PVCBjcmVhdGVkIHdpdGggU1NSXG4gICAgLy8gbGV0J3MgcGljayBvdXQgdGhlIGlubmVyIGNvbnRlbnQgZm9yIHNsb3QgcHJvamVjdGlvblxuICAgIC8vIGNyZWF0ZSBhIG5vZGUgdG8gcmVwcmVzZW50IHdoZXJlIHRoZSBvcmlnaW5hbFxuICAgIC8vIGNvbnRlbnQgd2FzIGZpcnN0IHBsYWNlZCwgd2hpY2ggaXMgdXNlZnVsIGxhdGVyIG9uXG4gICAgY29uc3QgY29udGVudFJlZkVsbSA9IChlbG1bJ3MtY3InXSA9IGRvYy5jcmVhdGVDb21tZW50KCcnKSk7XG4gICAgY29udGVudFJlZkVsbVsncy1jbiddID0gdHJ1ZTtcbiAgICBlbG0uaW5zZXJ0QmVmb3JlKGNvbnRlbnRSZWZFbG0sIGVsbS5maXJzdENoaWxkKTtcbn07XG5jb25zdCBkaXNjb25uZWN0ZWRDYWxsYmFjayA9IChlbG0pID0+IHtcbiAgICBpZiAoKHBsdC4kZmxhZ3MkICYgMSAvKiBpc1RtcERpc2Nvbm5lY3RlZCAqLykgPT09IDApIHtcbiAgICAgICAgY29uc3QgaG9zdFJlZiA9IGdldEhvc3RSZWYoZWxtKTtcbiAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBob3N0UmVmLiRsYXp5SW5zdGFuY2UkIDtcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhvc3RSZWYuJHJtTGlzdGVuZXJzJCkge1xuICAgICAgICAgICAgICAgIGhvc3RSZWYuJHJtTGlzdGVuZXJzJC5tYXAoKHJtTGlzdGVuZXIpID0+IHJtTGlzdGVuZXIoKSk7XG4gICAgICAgICAgICAgICAgaG9zdFJlZi4kcm1MaXN0ZW5lcnMkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHtcbiAgICAgICAgICAgIHNhZmVDYWxsKGluc3RhbmNlLCAnZGlzY29ubmVjdGVkQ2FsbGJhY2snKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBib290c3RyYXBMYXp5ID0gKGxhenlCdW5kbGVzLCBvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCBlbmRCb290c3RyYXAgPSBjcmVhdGVUaW1lKCk7XG4gICAgY29uc3QgY21wVGFncyA9IFtdO1xuICAgIGNvbnN0IGV4Y2x1ZGUgPSBvcHRpb25zLmV4Y2x1ZGUgfHwgW107XG4gICAgY29uc3QgY3VzdG9tRWxlbWVudHMgPSB3aW4uY3VzdG9tRWxlbWVudHM7XG4gICAgY29uc3QgaGVhZCA9IGRvYy5oZWFkO1xuICAgIGNvbnN0IG1ldGFDaGFyc2V0ID0gLypAX19QVVJFX18qLyBoZWFkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbY2hhcnNldF0nKTtcbiAgICBjb25zdCB2aXNpYmlsaXR5U3R5bGUgPSAvKkBfX1BVUkVfXyovIGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGNvbnN0IGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzID0gW107XG4gICAgY29uc3Qgc3R5bGVzID0gLypAX19QVVJFX18qLyBkb2MucXVlcnlTZWxlY3RvckFsbChgWyR7SFlEUkFURURfU1RZTEVfSUR9XWApO1xuICAgIGxldCBhcHBMb2FkRmFsbGJhY2s7XG4gICAgbGV0IGlzQm9vdHN0cmFwcGluZyA9IHRydWU7XG4gICAgbGV0IGkgPSAwO1xuICAgIE9iamVjdC5hc3NpZ24ocGx0LCBvcHRpb25zKTtcbiAgICBwbHQuJHJlc291cmNlc1VybCQgPSBuZXcgVVJMKG9wdGlvbnMucmVzb3VyY2VzVXJsIHx8ICcuLycsIGRvYy5iYXNlVVJJKS5ocmVmO1xuICAgIHtcbiAgICAgICAgLy8gSWYgdGhlIGFwcCBpcyBhbHJlYWR5IGh5ZHJhdGVkIHRoZXJlIGlzIG5vdCBwb2ludCB0byBkaXNhYmxlIHRoZVxuICAgICAgICAvLyBhc3luYyBxdWV1ZS4gVGhpcyB3aWxsIGltcHJvdmUgdGhlIGZpcnN0IGlucHV0IGRlbGF5XG4gICAgICAgIHBsdC4kZmxhZ3MkIHw9IDIgLyogYXBwTG9hZGVkICovO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGZvciAoOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZWdpc3RlclN0eWxlKHN0eWxlc1tpXS5nZXRBdHRyaWJ1dGUoSFlEUkFURURfU1RZTEVfSUQpLCBjb252ZXJ0U2NvcGVkVG9TaGFkb3coc3R5bGVzW2ldLmlubmVySFRNTCksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxhenlCdW5kbGVzLm1hcCgobGF6eUJ1bmRsZSkgPT4ge1xuICAgICAgICBsYXp5QnVuZGxlWzFdLm1hcCgoY29tcGFjdE1ldGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNtcE1ldGEgPSB7XG4gICAgICAgICAgICAgICAgJGZsYWdzJDogY29tcGFjdE1ldGFbMF0sXG4gICAgICAgICAgICAgICAgJHRhZ05hbWUkOiBjb21wYWN0TWV0YVsxXSxcbiAgICAgICAgICAgICAgICAkbWVtYmVycyQ6IGNvbXBhY3RNZXRhWzJdLFxuICAgICAgICAgICAgICAgICRsaXN0ZW5lcnMkOiBjb21wYWN0TWV0YVszXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY21wTWV0YS4kbWVtYmVycyQgPSBjb21wYWN0TWV0YVsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbXBNZXRhLiRsaXN0ZW5lcnMkID0gY29tcGFjdE1ldGFbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY21wTWV0YS4kYXR0cnNUb1JlZmxlY3QkID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY21wTWV0YS4kd2F0Y2hlcnMkID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gY21wTWV0YS4kdGFnTmFtZSQ7XG4gICAgICAgICAgICBjb25zdCBIb3N0RWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICAgICAgICAgIC8vIFN0ZW5jaWxMYXp5SG9zdFxuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yKHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBzdXBlcihzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVySG9zdChzZWxmLCBjbXBNZXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNtcE1ldGEuJGZsYWdzJCAmIDEgLyogc2hhZG93RG9tRW5jYXBzdWxhdGlvbiAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb21wb25lbnQgaXMgdXNpbmcgc2hhZG93IGRvbVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRoaXMgYnJvd3NlciBzdXBwb3J0cyBzaGFkb3cgZG9tXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHJlYWQtb25seSBwcm9wZXJ0eSBcInNoYWRvd1Jvb3RcIiB0byB0aGUgaG9zdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGRpbmcgdGhlIHNoYWRvdyByb290IGJ1aWxkIGNvbmRpdGlvbmFscyB0byBtaW5pbWl6ZSBydW50aW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmF0dGFjaFNoYWRvdyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnb3BlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZXNGb2N1czogISEoY21wTWV0YS4kZmxhZ3MkICYgMTYgLyogc2hhZG93RGVsZWdhdGVzRm9jdXMgKi8pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBMb2FkRmFsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhcHBMb2FkRmFsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwTG9hZEZhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNCb290c3RyYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25uZWN0ZWRDYWxsYmFjayB3aWxsIGJlIHByb2Nlc3NlZCBvbmNlIGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGx0LmptcCgoKSA9PiBjb25uZWN0ZWRDYWxsYmFjayh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsdC5qbXAoKCkgPT4gZGlzY29ubmVjdGVkQ2FsbGJhY2sodGhpcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb21wb25lbnRPblJlYWR5KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SG9zdFJlZih0aGlzKS4kb25SZWFkeVByb21pc2UkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjbXBNZXRhLiRsYXp5QnVuZGxlSWQkID0gbGF6eUJ1bmRsZVswXTtcbiAgICAgICAgICAgIGlmICghZXhjbHVkZS5pbmNsdWRlcyh0YWdOYW1lKSAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KHRhZ05hbWUpKSB7XG4gICAgICAgICAgICAgICAgY21wVGFncy5wdXNoKHRhZ05hbWUpO1xuICAgICAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZSh0YWdOYW1lLCBwcm94eUNvbXBvbmVudChIb3N0RWxlbWVudCwgY21wTWV0YSwgMSAvKiBpc0VsZW1lbnRDb25zdHJ1Y3RvciAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICB7XG4gICAgICAgIHZpc2liaWxpdHlTdHlsZS5pbm5lckhUTUwgPSBjbXBUYWdzICsgSFlEUkFURURfQ1NTO1xuICAgICAgICB2aXNpYmlsaXR5U3R5bGUuc2V0QXR0cmlidXRlKCdkYXRhLXN0eWxlcycsICcnKTtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUodmlzaWJpbGl0eVN0eWxlLCBtZXRhQ2hhcnNldCA/IG1ldGFDaGFyc2V0Lm5leHRTaWJsaW5nIDogaGVhZC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgLy8gUHJvY2VzcyBkZWZlcnJlZCBjb25uZWN0ZWRDYWxsYmFja3Mgbm93IGFsbCBjb21wb25lbnRzIGhhdmUgYmVlbiByZWdpc3RlcmVkXG4gICAgaXNCb290c3RyYXBwaW5nID0gZmFsc2U7XG4gICAgaWYgKGRlZmVycmVkQ29ubmVjdGVkQ2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBkZWZlcnJlZENvbm5lY3RlZENhbGxiYWNrcy5tYXAoKGhvc3QpID0+IGhvc3QuY29ubmVjdGVkQ2FsbGJhY2soKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB7XG4gICAgICAgICAgICBwbHQuam1wKCgpID0+IChhcHBMb2FkRmFsbGJhY2sgPSBzZXRUaW1lb3V0KGFwcERpZExvYWQsIDMwKSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZhbGxiYWNrIGFwcExvYWQgZXZlbnRcbiAgICBlbmRCb290c3RyYXAoKTtcbn07XG5jb25zdCBnZXRBc3NldFBhdGggPSAocGF0aCkgPT4ge1xuICAgIGNvbnN0IGFzc2V0VXJsID0gbmV3IFVSTChwYXRoLCBwbHQuJHJlc291cmNlc1VybCQpO1xuICAgIHJldHVybiBhc3NldFVybC5vcmlnaW4gIT09IHdpbi5sb2NhdGlvbi5vcmlnaW4gPyBhc3NldFVybC5ocmVmIDogYXNzZXRVcmwucGF0aG5hbWU7XG59O1xuY29uc3QgaG9zdFJlZnMgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgZ2V0SG9zdFJlZiA9IChyZWYpID0+IGhvc3RSZWZzLmdldChyZWYpO1xuY29uc3QgcmVnaXN0ZXJJbnN0YW5jZSA9IChsYXp5SW5zdGFuY2UsIGhvc3RSZWYpID0+IGhvc3RSZWZzLnNldCgoaG9zdFJlZi4kbGF6eUluc3RhbmNlJCA9IGxhenlJbnN0YW5jZSksIGhvc3RSZWYpO1xuY29uc3QgcmVnaXN0ZXJIb3N0ID0gKGVsbSwgY21wTWV0YSkgPT4ge1xuICAgIGNvbnN0IGhvc3RSZWYgPSB7XG4gICAgICAgICRmbGFncyQ6IDAsXG4gICAgICAgICRob3N0RWxlbWVudCQ6IGVsbSxcbiAgICAgICAgJGNtcE1ldGEkOiBjbXBNZXRhLFxuICAgICAgICAkaW5zdGFuY2VWYWx1ZXMkOiBuZXcgTWFwKCksXG4gICAgfTtcbiAgICB7XG4gICAgICAgIGhvc3RSZWYuJG9uSW5zdGFuY2VQcm9taXNlJCA9IG5ldyBQcm9taXNlKChyKSA9PiAoaG9zdFJlZi4kb25JbnN0YW5jZVJlc29sdmUkID0gcikpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGhvc3RSZWYuJG9uUmVhZHlQcm9taXNlJCA9IG5ldyBQcm9taXNlKChyKSA9PiAoaG9zdFJlZi4kb25SZWFkeVJlc29sdmUkID0gcikpO1xuICAgICAgICBlbG1bJ3MtcCddID0gW107XG4gICAgICAgIGVsbVsncy1yYyddID0gW107XG4gICAgfVxuICAgIGFkZEhvc3RFdmVudExpc3RlbmVycyhlbG0sIGhvc3RSZWYsIGNtcE1ldGEuJGxpc3RlbmVycyQpO1xuICAgIHJldHVybiBob3N0UmVmcy5zZXQoZWxtLCBob3N0UmVmKTtcbn07XG5jb25zdCBpc01lbWJlckluRWxlbWVudCA9IChlbG0sIG1lbWJlck5hbWUpID0+IG1lbWJlck5hbWUgaW4gZWxtO1xuY29uc3QgY29uc29sZUVycm9yID0gKGUsIGVsKSA9PiAoMCwgY29uc29sZS5lcnJvcikoZSwgZWwpO1xuY29uc3QgY21wTW9kdWxlcyA9IC8qQF9fUFVSRV9fKi8gbmV3IE1hcCgpO1xuY29uc3QgbG9hZE1vZHVsZSA9IChjbXBNZXRhLCBob3N0UmVmLCBobXJWZXJzaW9uSWQpID0+IHtcbiAgICAvLyBsb2FkTW9kdWxlSW1wb3J0XG4gICAgY29uc3QgZXhwb3J0TmFtZSA9IGNtcE1ldGEuJHRhZ05hbWUkLnJlcGxhY2UoLy0vZywgJ18nKTtcbiAgICBjb25zdCBidW5kbGVJZCA9IGNtcE1ldGEuJGxhenlCdW5kbGVJZCQ7XG4gICAgY29uc3QgbW9kdWxlID0gY21wTW9kdWxlcy5nZXQoYnVuZGxlSWQpIDtcbiAgICBpZiAobW9kdWxlKSB7XG4gICAgICAgIHJldHVybiBtb2R1bGVbZXhwb3J0TmFtZV07XG4gICAgfVxuICAgIHJldHVybiBpbXBvcnQoXG4gICAgLyogd2VicGFja0luY2x1ZGU6IC9cXC5lbnRyeVxcLmpzJC8gKi9cbiAgICAvKiB3ZWJwYWNrRXhjbHVkZTogL1xcLnN5c3RlbVxcLmVudHJ5XFwuanMkLyAqL1xuICAgIC8qIHdlYnBhY2tNb2RlOiBcImxhenlcIiAqL1xuICAgIGAuLyR7YnVuZGxlSWR9LmVudHJ5LmpzJHsnJ31gKS50aGVuKChpbXBvcnRlZE1vZHVsZSkgPT4ge1xuICAgICAgICB7XG4gICAgICAgICAgICBjbXBNb2R1bGVzLnNldChidW5kbGVJZCwgaW1wb3J0ZWRNb2R1bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbXBvcnRlZE1vZHVsZVtleHBvcnROYW1lXTtcbiAgICB9LCBjb25zb2xlRXJyb3IpO1xufTtcbmNvbnN0IHN0eWxlcyA9IG5ldyBNYXAoKTtcbmNvbnN0IG1vZGVSZXNvbHV0aW9uQ2hhaW4gPSBbXTtcbmNvbnN0IHF1ZXVlRG9tUmVhZHMgPSBbXTtcbmNvbnN0IHF1ZXVlRG9tV3JpdGVzID0gW107XG5jb25zdCBxdWV1ZVRhc2sgPSAocXVldWUsIHdyaXRlKSA9PiAoY2IpID0+IHtcbiAgICBxdWV1ZS5wdXNoKGNiKTtcbiAgICBpZiAoIXF1ZXVlUGVuZGluZykge1xuICAgICAgICBxdWV1ZVBlbmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAod3JpdGUgJiYgcGx0LiRmbGFncyQgJiA0IC8qIHF1ZXVlU3luYyAqLykge1xuICAgICAgICAgICAgbmV4dFRpY2soZmx1c2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGx0LnJhZihmbHVzaCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgY29uc3VtZSA9IChxdWV1ZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHF1ZXVlW2ldKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG59O1xuY29uc3QgZmx1c2ggPSAoKSA9PiB7XG4gICAgLy8gYWx3YXlzIGZvcmNlIGEgYnVuY2ggb2YgbWVkaXVtIGNhbGxiYWNrcyB0byBydW4sIGJ1dCBzdGlsbCBoYXZlXG4gICAgLy8gYSB0aHJvdHRsZSBvbiBob3cgbWFueSBjYW4gcnVuIGluIGEgY2VydGFpbiB0aW1lXG4gICAgLy8gRE9NIFJFQURTISEhXG4gICAgY29uc3VtZShxdWV1ZURvbVJlYWRzKTtcbiAgICAvLyBET00gV1JJVEVTISEhXG4gICAge1xuICAgICAgICBjb25zdW1lKHF1ZXVlRG9tV3JpdGVzKTtcbiAgICAgICAgaWYgKChxdWV1ZVBlbmRpbmcgPSBxdWV1ZURvbVJlYWRzLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICAvLyBzdGlsbCBtb3JlIHRvIGRvIHlldCwgYnV0IHdlJ3ZlIHJ1biBvdXQgb2YgdGltZVxuICAgICAgICAgICAgLy8gbGV0J3MgbGV0IHRoaXMgdGhpbmcgY29vbCBvZmYgYW5kIHRyeSBhZ2FpbiBpbiB0aGUgbmV4dCB0aWNrXG4gICAgICAgICAgICBwbHQucmFmKGZsdXNoKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5jb25zdCBuZXh0VGljayA9IC8qQF9fUFVSRV9fKi8gKGNiKSA9PiBwcm9taXNlUmVzb2x2ZSgpLnRoZW4oY2IpO1xuY29uc3QgcmVhZFRhc2sgPSAvKkBfX1BVUkVfXyovIHF1ZXVlVGFzayhxdWV1ZURvbVJlYWRzLCBmYWxzZSk7XG5jb25zdCB3cml0ZVRhc2sgPSAvKkBfX1BVUkVfXyovIHF1ZXVlVGFzayhxdWV1ZURvbVdyaXRlcywgdHJ1ZSk7XG5jb25zdCBCdWlsZCA9IHtcbiAgICBpc0RldjogZmFsc2UsXG4gICAgaXNCcm93c2VyOiB0cnVlLFxuICAgIGlzU2VydmVyOiBmYWxzZSxcbiAgICBpc1Rlc3Rpbmc6IGZhbHNlLFxufTtcblxuZXhwb3J0IHsgQnVpbGQgYXMgQiwgSG9zdCBhcyBILCBOQU1FU1BBQ0UgYXMgTiwgc2V0TW9kZSBhcyBhLCBib290c3RyYXBMYXp5IGFzIGIsIHdyaXRlVGFzayBhcyBjLCBkb2MgYXMgZCwgY3JlYXRlRXZlbnQgYXMgZSwgcmVhZFRhc2sgYXMgZiwgZ2V0TW9kZSBhcyBnLCBoLCBnZXRFbGVtZW50IGFzIGksIGZvcmNlVXBkYXRlIGFzIGosIGdldEFzc2V0UGF0aCBhcyBrLCBwcm9taXNlUmVzb2x2ZSBhcyBwLCByZWdpc3Rlckluc3RhbmNlIGFzIHIsIHNldFBsYXRmb3JtSGVscGVycyBhcyBzLCB3aW4gYXMgdyB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IEcgYXMgR0VTVFVSRV9DT05UUk9MTEVSIH0gZnJvbSAnLi9nZXN0dXJlLWNvbnRyb2xsZXItNjhjMDIzYTQuanMnO1xuZXhwb3J0IHsgRyBhcyBHRVNUVVJFX0NPTlRST0xMRVIgfSBmcm9tICcuL2dlc3R1cmUtY29udHJvbGxlci02OGMwMjNhNC5qcyc7XG5cbmNvbnN0IGFkZEV2ZW50TGlzdGVuZXIgPSAoZWwsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIG9wdHMpID0+IHtcbiAgLy8gdXNlIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgd2hlbiBzdXBwb3J0ZWRcbiAgLy8gb3RoZXJ3aXNlIGl0J3MganVzdCBhIGJvb2xlYW4gZm9yIHRoZSBcImNhcHR1cmVcIiBhcmdcbiAgY29uc3QgbGlzdGVuZXJPcHRzID0gc3VwcG9ydHNQYXNzaXZlKGVsKSA/IHtcbiAgICAnY2FwdHVyZSc6ICEhb3B0cy5jYXB0dXJlLFxuICAgICdwYXNzaXZlJzogISFvcHRzLnBhc3NpdmUsXG4gIH0gOiAhIW9wdHMuY2FwdHVyZTtcbiAgbGV0IGFkZDtcbiAgbGV0IHJlbW92ZTtcbiAgaWYgKGVsWydfX3pvbmVfc3ltYm9sX19hZGRFdmVudExpc3RlbmVyJ10pIHtcbiAgICBhZGQgPSAnX196b25lX3N5bWJvbF9fYWRkRXZlbnRMaXN0ZW5lcic7XG4gICAgcmVtb3ZlID0gJ19fem9uZV9zeW1ib2xfX3JlbW92ZUV2ZW50TGlzdGVuZXInO1xuICB9XG4gIGVsc2Uge1xuICAgIGFkZCA9ICdhZGRFdmVudExpc3RlbmVyJztcbiAgICByZW1vdmUgPSAncmVtb3ZlRXZlbnRMaXN0ZW5lcic7XG4gIH1cbiAgZWxbYWRkXShldmVudE5hbWUsIGNhbGxiYWNrLCBsaXN0ZW5lck9wdHMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGVsW3JlbW92ZV0oZXZlbnROYW1lLCBjYWxsYmFjaywgbGlzdGVuZXJPcHRzKTtcbiAgfTtcbn07XG5jb25zdCBzdXBwb3J0c1Bhc3NpdmUgPSAobm9kZSkgPT4ge1xuICBpZiAoX3NQYXNzaXZlID09PSB1bmRlZmluZWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAgIGdldDogKCkgPT4ge1xuICAgICAgICAgIF9zUGFzc2l2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdvcHRzVGVzdCcsICgpID0+IHsgcmV0dXJuOyB9LCBvcHRzKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIF9zUGFzc2l2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gISFfc1Bhc3NpdmU7XG59O1xubGV0IF9zUGFzc2l2ZTtcblxuY29uc3QgTU9VU0VfV0FJVCA9IDIwMDA7XG5jb25zdCBjcmVhdGVQb2ludGVyRXZlbnRzID0gKGVsLCBwb2ludGVyRG93biwgcG9pbnRlck1vdmUsIHBvaW50ZXJVcCwgb3B0aW9ucykgPT4ge1xuICBsZXQgcm1Ub3VjaFN0YXJ0O1xuICBsZXQgcm1Ub3VjaE1vdmU7XG4gIGxldCBybVRvdWNoRW5kO1xuICBsZXQgcm1Ub3VjaENhbmNlbDtcbiAgbGV0IHJtTW91c2VTdGFydDtcbiAgbGV0IHJtTW91c2VNb3ZlO1xuICBsZXQgcm1Nb3VzZVVwO1xuICBsZXQgbGFzdFRvdWNoRXZlbnQgPSAwO1xuICBjb25zdCBoYW5kbGVUb3VjaFN0YXJ0ID0gKGV2KSA9PiB7XG4gICAgbGFzdFRvdWNoRXZlbnQgPSBEYXRlLm5vdygpICsgTU9VU0VfV0FJVDtcbiAgICBpZiAoIXBvaW50ZXJEb3duKGV2KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXJtVG91Y2hNb3ZlICYmIHBvaW50ZXJNb3ZlKSB7XG4gICAgICBybVRvdWNoTW92ZSA9IGFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaG1vdmUnLCBwb2ludGVyTW92ZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV2ZW50cyBhcmUgZGlzcGF0Y2hlZCBvbiB0aGUgZWxlbWVudCB0aGF0IGlzIHRhcHBlZCBhbmQgYnViYmxlIHVwIHRvXG4gICAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50IGluIHRoZSBnZXN0dXJlLiBJbiB0aGUgZXZlbnQgdGhhdCB0aGUgZWxlbWVudCB0aGlzXG4gICAgICogZXZlbnQgd2FzIGZpcnN0IGRpc3BhdGNoZWQgb24gaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00sIHRoZSBldmVudCB3aWxsIG5vXG4gICAgICogbG9uZ2VyIGJ1YmJsZSB1cCB0byBvdXIgcmVmZXJlbmNlIGVsZW1lbnQuIFRoaXMgbGVhdmVzIHRoZSBnZXN0dXJlIGluIGFuXG4gICAgICogdW51c2FibGUgc3RhdGUuIFRvIGFjY291bnQgZm9yIHRoaXMsIHRoZSB0b3VjaGVuZCBhbmQgdG91Y2hjYW5jZWwgbGlzdGVuZXJzXG4gICAgICogc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBldmVudCB0YXJnZXQgc28gdGhhdCB0aGV5IHN0aWxsIGZpcmUgZXZlbiBpZiB0aGUgdGFyZ2V0XG4gICAgICogaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgaWYgKCFybVRvdWNoRW5kKSB7XG4gICAgICBybVRvdWNoRW5kID0gYWRkRXZlbnRMaXN0ZW5lcihldi50YXJnZXQsICd0b3VjaGVuZCcsIGhhbmRsZVRvdWNoRW5kLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFybVRvdWNoQ2FuY2VsKSB7XG4gICAgICBybVRvdWNoQ2FuY2VsID0gYWRkRXZlbnRMaXN0ZW5lcihldi50YXJnZXQsICd0b3VjaGNhbmNlbCcsIGhhbmRsZVRvdWNoRW5kLCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9IChldikgPT4ge1xuICAgIGlmIChsYXN0VG91Y2hFdmVudCA+IERhdGUubm93KCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFwb2ludGVyRG93bihldikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFybU1vdXNlTW92ZSAmJiBwb2ludGVyTW92ZSkge1xuICAgICAgcm1Nb3VzZU1vdmUgPSBhZGRFdmVudExpc3RlbmVyKGdldERvY3VtZW50KGVsKSwgJ21vdXNlbW92ZScsIHBvaW50ZXJNb3ZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFybU1vdXNlVXApIHtcbiAgICAgIHJtTW91c2VVcCA9IGFkZEV2ZW50TGlzdGVuZXIoZ2V0RG9jdW1lbnQoZWwpLCAnbW91c2V1cCcsIGhhbmRsZU1vdXNlVXAsIG9wdGlvbnMpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlVG91Y2hFbmQgPSAoZXYpID0+IHtcbiAgICBzdG9wVG91Y2goKTtcbiAgICBpZiAocG9pbnRlclVwKSB7XG4gICAgICBwb2ludGVyVXAoZXYpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTW91c2VVcCA9IChldikgPT4ge1xuICAgIHN0b3BNb3VzZSgpO1xuICAgIGlmIChwb2ludGVyVXApIHtcbiAgICAgIHBvaW50ZXJVcChldik7XG4gICAgfVxuICB9O1xuICBjb25zdCBzdG9wVG91Y2ggPSAoKSA9PiB7XG4gICAgaWYgKHJtVG91Y2hNb3ZlKSB7XG4gICAgICBybVRvdWNoTW92ZSgpO1xuICAgIH1cbiAgICBpZiAocm1Ub3VjaEVuZCkge1xuICAgICAgcm1Ub3VjaEVuZCgpO1xuICAgIH1cbiAgICBpZiAocm1Ub3VjaENhbmNlbCkge1xuICAgICAgcm1Ub3VjaENhbmNlbCgpO1xuICAgIH1cbiAgICBybVRvdWNoTW92ZSA9IHJtVG91Y2hFbmQgPSBybVRvdWNoQ2FuY2VsID0gdW5kZWZpbmVkO1xuICB9O1xuICBjb25zdCBzdG9wTW91c2UgPSAoKSA9PiB7XG4gICAgaWYgKHJtTW91c2VNb3ZlKSB7XG4gICAgICBybU1vdXNlTW92ZSgpO1xuICAgIH1cbiAgICBpZiAocm1Nb3VzZVVwKSB7XG4gICAgICBybU1vdXNlVXAoKTtcbiAgICB9XG4gICAgcm1Nb3VzZU1vdmUgPSBybU1vdXNlVXAgPSB1bmRlZmluZWQ7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3RvcFRvdWNoKCk7XG4gICAgc3RvcE1vdXNlKCk7XG4gIH07XG4gIGNvbnN0IGVuYWJsZSA9IChpc0VuYWJsZWQgPSB0cnVlKSA9PiB7XG4gICAgaWYgKCFpc0VuYWJsZWQpIHtcbiAgICAgIGlmIChybVRvdWNoU3RhcnQpIHtcbiAgICAgICAgcm1Ub3VjaFN0YXJ0KCk7XG4gICAgICB9XG4gICAgICBpZiAocm1Nb3VzZVN0YXJ0KSB7XG4gICAgICAgIHJtTW91c2VTdGFydCgpO1xuICAgICAgfVxuICAgICAgcm1Ub3VjaFN0YXJ0ID0gcm1Nb3VzZVN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICghcm1Ub3VjaFN0YXJ0KSB7XG4gICAgICAgIHJtVG91Y2hTdGFydCA9IGFkZEV2ZW50TGlzdGVuZXIoZWwsICd0b3VjaHN0YXJ0JywgaGFuZGxlVG91Y2hTdGFydCwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBpZiAoIXJtTW91c2VTdGFydCkge1xuICAgICAgICBybU1vdXNlU3RhcnQgPSBhZGRFdmVudExpc3RlbmVyKGVsLCAnbW91c2Vkb3duJywgaGFuZGxlTW91c2VEb3duLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgZW5hYmxlKGZhbHNlKTtcbiAgICBwb2ludGVyVXAgPSBwb2ludGVyTW92ZSA9IHBvaW50ZXJEb3duID0gdW5kZWZpbmVkO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGVuYWJsZSxcbiAgICBzdG9wLFxuICAgIGRlc3Ryb3lcbiAgfTtcbn07XG5jb25zdCBnZXREb2N1bWVudCA9IChub2RlKSA9PiB7XG4gIHJldHVybiBub2RlIGluc3RhbmNlb2YgRG9jdW1lbnQgPyBub2RlIDogbm9kZS5vd25lckRvY3VtZW50O1xufTtcblxuY29uc3QgY3JlYXRlUGFuUmVjb2duaXplciA9IChkaXJlY3Rpb24sIHRocmVzaCwgbWF4QW5nbGUpID0+IHtcbiAgY29uc3QgcmFkaWFucyA9IG1heEFuZ2xlICogKE1hdGguUEkgLyAxODApO1xuICBjb25zdCBpc0RpclggPSBkaXJlY3Rpb24gPT09ICd4JztcbiAgY29uc3QgbWF4Q29zaW5lID0gTWF0aC5jb3MocmFkaWFucyk7XG4gIGNvbnN0IHRocmVzaG9sZCA9IHRocmVzaCAqIHRocmVzaDtcbiAgbGV0IHN0YXJ0WCA9IDA7XG4gIGxldCBzdGFydFkgPSAwO1xuICBsZXQgZGlydHkgPSBmYWxzZTtcbiAgbGV0IGlzUGFuID0gMDtcbiAgcmV0dXJuIHtcbiAgICBzdGFydCh4LCB5KSB7XG4gICAgICBzdGFydFggPSB4O1xuICAgICAgc3RhcnRZID0geTtcbiAgICAgIGlzUGFuID0gMDtcbiAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICB9LFxuICAgIGRldGVjdCh4LCB5KSB7XG4gICAgICBpZiAoIWRpcnR5KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRlbHRhWCA9ICh4IC0gc3RhcnRYKTtcbiAgICAgIGNvbnN0IGRlbHRhWSA9ICh5IC0gc3RhcnRZKTtcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGVsdGFYICogZGVsdGFYICsgZGVsdGFZICogZGVsdGFZO1xuICAgICAgaWYgKGRpc3RhbmNlIDwgdGhyZXNob2xkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGh5cG90ZW51c2UgPSBNYXRoLnNxcnQoZGlzdGFuY2UpO1xuICAgICAgY29uc3QgY29zaW5lID0gKGlzRGlyWCA/IGRlbHRhWCA6IGRlbHRhWSkgLyBoeXBvdGVudXNlO1xuICAgICAgaWYgKGNvc2luZSA+IG1heENvc2luZSkge1xuICAgICAgICBpc1BhbiA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChjb3NpbmUgPCAtbWF4Q29zaW5lKSB7XG4gICAgICAgIGlzUGFuID0gLTE7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaXNQYW4gPSAwO1xuICAgICAgfVxuICAgICAgZGlydHkgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaXNHZXN0dXJlKCkge1xuICAgICAgcmV0dXJuIGlzUGFuICE9PSAwO1xuICAgIH0sXG4gICAgZ2V0RGlyZWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGlzUGFuO1xuICAgIH1cbiAgfTtcbn07XG5cbmNvbnN0IGNyZWF0ZUdlc3R1cmUgPSAoY29uZmlnKSA9PiB7XG4gIGxldCBoYXNDYXB0dXJlZFBhbiA9IGZhbHNlO1xuICBsZXQgaGFzU3RhcnRlZFBhbiA9IGZhbHNlO1xuICBsZXQgaGFzRmlyZWRTdGFydCA9IHRydWU7XG4gIGxldCBpc01vdmVRdWV1ZWQgPSBmYWxzZTtcbiAgY29uc3QgZmluYWxDb25maWcgPSBPYmplY3QuYXNzaWduKHsgZGlzYWJsZVNjcm9sbDogZmFsc2UsIGRpcmVjdGlvbjogJ3gnLCBnZXN0dXJlUHJpb3JpdHk6IDAsIHBhc3NpdmU6IHRydWUsIG1heEFuZ2xlOiA0MCwgdGhyZXNob2xkOiAxMCB9LCBjb25maWcpO1xuICBjb25zdCBjYW5TdGFydCA9IGZpbmFsQ29uZmlnLmNhblN0YXJ0O1xuICBjb25zdCBvbldpbGxTdGFydCA9IGZpbmFsQ29uZmlnLm9uV2lsbFN0YXJ0O1xuICBjb25zdCBvblN0YXJ0ID0gZmluYWxDb25maWcub25TdGFydDtcbiAgY29uc3Qgb25FbmQgPSBmaW5hbENvbmZpZy5vbkVuZDtcbiAgY29uc3Qgbm90Q2FwdHVyZWQgPSBmaW5hbENvbmZpZy5ub3RDYXB0dXJlZDtcbiAgY29uc3Qgb25Nb3ZlID0gZmluYWxDb25maWcub25Nb3ZlO1xuICBjb25zdCB0aHJlc2hvbGQgPSBmaW5hbENvbmZpZy50aHJlc2hvbGQ7XG4gIGNvbnN0IHBhc3NpdmUgPSBmaW5hbENvbmZpZy5wYXNzaXZlO1xuICBjb25zdCBibHVyT25TdGFydCA9IGZpbmFsQ29uZmlnLmJsdXJPblN0YXJ0O1xuICBjb25zdCBkZXRhaWwgPSB7XG4gICAgdHlwZTogJ3BhbicsXG4gICAgc3RhcnRYOiAwLFxuICAgIHN0YXJ0WTogMCxcbiAgICBzdGFydFRpbWU6IDAsXG4gICAgY3VycmVudFg6IDAsXG4gICAgY3VycmVudFk6IDAsXG4gICAgdmVsb2NpdHlYOiAwLFxuICAgIHZlbG9jaXR5WTogMCxcbiAgICBkZWx0YVg6IDAsXG4gICAgZGVsdGFZOiAwLFxuICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgIGV2ZW50OiB1bmRlZmluZWQsXG4gICAgZGF0YTogdW5kZWZpbmVkXG4gIH07XG4gIGNvbnN0IHBhbiA9IGNyZWF0ZVBhblJlY29nbml6ZXIoZmluYWxDb25maWcuZGlyZWN0aW9uLCBmaW5hbENvbmZpZy50aHJlc2hvbGQsIGZpbmFsQ29uZmlnLm1heEFuZ2xlKTtcbiAgY29uc3QgZ2VzdHVyZSA9IEdFU1RVUkVfQ09OVFJPTExFUi5jcmVhdGVHZXN0dXJlKHtcbiAgICBuYW1lOiBjb25maWcuZ2VzdHVyZU5hbWUsXG4gICAgcHJpb3JpdHk6IGNvbmZpZy5nZXN0dXJlUHJpb3JpdHksXG4gICAgZGlzYWJsZVNjcm9sbDogY29uZmlnLmRpc2FibGVTY3JvbGxcbiAgfSk7XG4gIGNvbnN0IHBvaW50ZXJEb3duID0gKGV2KSA9PiB7XG4gICAgY29uc3QgdGltZVN0YW1wID0gbm93KGV2KTtcbiAgICBpZiAoaGFzU3RhcnRlZFBhbiB8fCAhaGFzRmlyZWRTdGFydCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1cGRhdGVEZXRhaWwoZXYsIGRldGFpbCk7XG4gICAgZGV0YWlsLnN0YXJ0WCA9IGRldGFpbC5jdXJyZW50WDtcbiAgICBkZXRhaWwuc3RhcnRZID0gZGV0YWlsLmN1cnJlbnRZO1xuICAgIGRldGFpbC5zdGFydFRpbWUgPSBkZXRhaWwuY3VycmVudFRpbWUgPSB0aW1lU3RhbXA7XG4gICAgZGV0YWlsLnZlbG9jaXR5WCA9IGRldGFpbC52ZWxvY2l0eVkgPSBkZXRhaWwuZGVsdGFYID0gZGV0YWlsLmRlbHRhWSA9IDA7XG4gICAgZGV0YWlsLmV2ZW50ID0gZXY7XG4gICAgLy8gQ2hlY2sgaWYgZ2VzdHVyZSBjYW4gc3RhcnRcbiAgICBpZiAoY2FuU3RhcnQgJiYgY2FuU3RhcnQoZGV0YWlsKSA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gUmVsZWFzZSBmYWxsYmFja1xuICAgIGdlc3R1cmUucmVsZWFzZSgpO1xuICAgIC8vIFN0YXJ0IGdlc3R1cmVcbiAgICBpZiAoIWdlc3R1cmUuc3RhcnQoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYXNTdGFydGVkUGFuID0gdHJ1ZTtcbiAgICBpZiAodGhyZXNob2xkID09PSAwKSB7XG4gICAgICByZXR1cm4gdHJ5VG9DYXB0dXJlUGFuKCk7XG4gICAgfVxuICAgIHBhbi5zdGFydChkZXRhaWwuc3RhcnRYLCBkZXRhaWwuc3RhcnRZKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgcG9pbnRlck1vdmUgPSAoZXYpID0+IHtcbiAgICAvLyBmYXN0IHBhdGgsIGlmIGdlc3R1cmUgaXMgY3VycmVudGx5IGNhcHR1cmVkXG4gICAgLy8gZG8gbWluaW11bSBqb2IgdG8gZ2V0IHVzZXItbGFuZCBldmVuIGRpc3BhdGNoZWRcbiAgICBpZiAoaGFzQ2FwdHVyZWRQYW4pIHtcbiAgICAgIGlmICghaXNNb3ZlUXVldWVkICYmIGhhc0ZpcmVkU3RhcnQpIHtcbiAgICAgICAgaXNNb3ZlUXVldWVkID0gdHJ1ZTtcbiAgICAgICAgY2FsY0dlc3R1cmVEYXRhKGRldGFpbCwgZXYpO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZmlyZU9uTW92ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGdlc3R1cmUgaXMgY3VycmVudGx5IGJlaW5nIGRldGVjdGVkXG4gICAgY2FsY0dlc3R1cmVEYXRhKGRldGFpbCwgZXYpO1xuICAgIGlmIChwYW4uZGV0ZWN0KGRldGFpbC5jdXJyZW50WCwgZGV0YWlsLmN1cnJlbnRZKSkge1xuICAgICAgaWYgKCFwYW4uaXNHZXN0dXJlKCkgfHwgIXRyeVRvQ2FwdHVyZVBhbigpKSB7XG4gICAgICAgIGFib3J0R2VzdHVyZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZmlyZU9uTW92ZSA9ICgpID0+IHtcbiAgICAvLyBTaW5jZSBmaXJlT25Nb3ZlIGlzIGNhbGxlZCBpbnNpZGUgYSBSQUYsIG9uRW5kKCkgbWlnaHQgYmUgY2FsbGVkLFxuICAgIC8vIHdlIG11c3QgZG91YmxlIGNoZWNrIGhhc0NhcHR1cmVkUGFuXG4gICAgaWYgKCFoYXNDYXB0dXJlZFBhbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc01vdmVRdWV1ZWQgPSBmYWxzZTtcbiAgICBpZiAob25Nb3ZlKSB7XG4gICAgICBvbk1vdmUoZGV0YWlsKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRyeVRvQ2FwdHVyZVBhbiA9ICgpID0+IHtcbiAgICBpZiAoZ2VzdHVyZSAmJiAhZ2VzdHVyZS5jYXB0dXJlKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaGFzQ2FwdHVyZWRQYW4gPSB0cnVlO1xuICAgIGhhc0ZpcmVkU3RhcnQgPSBmYWxzZTtcbiAgICAvLyByZXNldCBzdGFydCBwb3NpdGlvbiBzaW5jZSB0aGUgcmVhbCB1c2VyLWxhbmQgZXZlbnQgc3RhcnRzIGhlcmVcbiAgICAvLyBJZiB0aGUgcGFuIGRldGVjdG9yIHRocmVzaG9sZCBpcyBiaWcsIG5vdCByZXNldHRpbmcgdGhlIHN0YXJ0IHBvc2l0aW9uXG4gICAgLy8gd2lsbCBjYXVzZSBhIGp1bXAgaW4gdGhlIGFuaW1hdGlvbiBlcXVhbCB0byB0aGUgZGV0ZWN0b3IgdGhyZXNob2xkLlxuICAgIC8vIHRoZSBhcnJheSBvZiBwb3NpdGlvbnMgdXNlZCB0byBjYWxjdWxhdGUgdGhlIGdlc3R1cmUgdmVsb2NpdHkgZG9lcyBub3RcbiAgICAvLyBuZWVkIHRvIGJlIGNsZWFuZWQsIG1vcmUgcG9pbnRzIGluIHRoZSBwb3NpdGlvbnMgYXJyYXkgYWx3YXlzIHJlc3VsdHMgaW4gYVxuICAgIC8vIG1vcmUgYWNjdXJhdGUgdmFsdWUgb2YgdGhlIHZlbG9jaXR5LlxuICAgIGRldGFpbC5zdGFydFggPSBkZXRhaWwuY3VycmVudFg7XG4gICAgZGV0YWlsLnN0YXJ0WSA9IGRldGFpbC5jdXJyZW50WTtcbiAgICBkZXRhaWwuc3RhcnRUaW1lID0gZGV0YWlsLmN1cnJlbnRUaW1lO1xuICAgIGlmIChvbldpbGxTdGFydCkge1xuICAgICAgb25XaWxsU3RhcnQoZGV0YWlsKS50aGVuKGZpcmVPblN0YXJ0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmaXJlT25TdGFydCgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgYmx1ckFjdGl2ZUVsZW1lbnQgPSAoKSA9PiB7XG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgIT09IG51bGwgJiYgYWN0aXZlRWxlbWVudC5ibHVyKSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgZmlyZU9uU3RhcnQgPSAoKSA9PiB7XG4gICAgaWYgKGJsdXJPblN0YXJ0KSB7XG4gICAgICBibHVyQWN0aXZlRWxlbWVudCgpO1xuICAgIH1cbiAgICBpZiAob25TdGFydCkge1xuICAgICAgb25TdGFydChkZXRhaWwpO1xuICAgIH1cbiAgICBoYXNGaXJlZFN0YXJ0ID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgaGFzQ2FwdHVyZWRQYW4gPSBmYWxzZTtcbiAgICBoYXNTdGFydGVkUGFuID0gZmFsc2U7XG4gICAgaXNNb3ZlUXVldWVkID0gZmFsc2U7XG4gICAgaGFzRmlyZWRTdGFydCA9IHRydWU7XG4gICAgZ2VzdHVyZS5yZWxlYXNlKCk7XG4gIH07XG4gIC8vIEVORCAqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIGNvbnN0IHBvaW50ZXJVcCA9IChldikgPT4ge1xuICAgIGNvbnN0IHRtcEhhc0NhcHR1cmVkID0gaGFzQ2FwdHVyZWRQYW47XG4gICAgY29uc3QgdG1wSGFzRmlyZWRTdGFydCA9IGhhc0ZpcmVkU3RhcnQ7XG4gICAgcmVzZXQoKTtcbiAgICBpZiAoIXRtcEhhc0ZpcmVkU3RhcnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsY0dlc3R1cmVEYXRhKGRldGFpbCwgZXYpO1xuICAgIC8vIFRyeSB0byBjYXB0dXJlIHByZXNzXG4gICAgaWYgKHRtcEhhc0NhcHR1cmVkKSB7XG4gICAgICBpZiAob25FbmQpIHtcbiAgICAgICAgb25FbmQoZGV0YWlsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTm90IGNhcHR1cmVkIGFueSBldmVudFxuICAgIGlmIChub3RDYXB0dXJlZCkge1xuICAgICAgbm90Q2FwdHVyZWQoZGV0YWlsKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBvaW50ZXJFdmVudHMgPSBjcmVhdGVQb2ludGVyRXZlbnRzKGZpbmFsQ29uZmlnLmVsLCBwb2ludGVyRG93biwgcG9pbnRlck1vdmUsIHBvaW50ZXJVcCwge1xuICAgIGNhcHR1cmU6IGZhbHNlLFxuICAgIHBhc3NpdmVcbiAgfSk7XG4gIGNvbnN0IGFib3J0R2VzdHVyZSA9ICgpID0+IHtcbiAgICByZXNldCgpO1xuICAgIHBvaW50ZXJFdmVudHMuc3RvcCgpO1xuICAgIGlmIChub3RDYXB0dXJlZCkge1xuICAgICAgbm90Q2FwdHVyZWQoZGV0YWlsKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgZW5hYmxlKGVuYWJsZSA9IHRydWUpIHtcbiAgICAgIGlmICghZW5hYmxlKSB7XG4gICAgICAgIGlmIChoYXNDYXB0dXJlZFBhbikge1xuICAgICAgICAgIHBvaW50ZXJVcCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJlc2V0KCk7XG4gICAgICB9XG4gICAgICBwb2ludGVyRXZlbnRzLmVuYWJsZShlbmFibGUpO1xuICAgIH0sXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIGdlc3R1cmUuZGVzdHJveSgpO1xuICAgICAgcG9pbnRlckV2ZW50cy5kZXN0cm95KCk7XG4gICAgfVxuICB9O1xufTtcbmNvbnN0IGNhbGNHZXN0dXJlRGF0YSA9IChkZXRhaWwsIGV2KSA9PiB7XG4gIGlmICghZXYpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcHJldlggPSBkZXRhaWwuY3VycmVudFg7XG4gIGNvbnN0IHByZXZZID0gZGV0YWlsLmN1cnJlbnRZO1xuICBjb25zdCBwcmV2VCA9IGRldGFpbC5jdXJyZW50VGltZTtcbiAgdXBkYXRlRGV0YWlsKGV2LCBkZXRhaWwpO1xuICBjb25zdCBjdXJyZW50WCA9IGRldGFpbC5jdXJyZW50WDtcbiAgY29uc3QgY3VycmVudFkgPSBkZXRhaWwuY3VycmVudFk7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IGRldGFpbC5jdXJyZW50VGltZSA9IG5vdyhldik7XG4gIGNvbnN0IHRpbWVEZWx0YSA9IHRpbWVzdGFtcCAtIHByZXZUO1xuICBpZiAodGltZURlbHRhID4gMCAmJiB0aW1lRGVsdGEgPCAxMDApIHtcbiAgICBjb25zdCB2ZWxvY2l0eVggPSAoY3VycmVudFggLSBwcmV2WCkgLyB0aW1lRGVsdGE7XG4gICAgY29uc3QgdmVsb2NpdHlZID0gKGN1cnJlbnRZIC0gcHJldlkpIC8gdGltZURlbHRhO1xuICAgIGRldGFpbC52ZWxvY2l0eVggPSB2ZWxvY2l0eVggKiAwLjcgKyBkZXRhaWwudmVsb2NpdHlYICogMC4zO1xuICAgIGRldGFpbC52ZWxvY2l0eVkgPSB2ZWxvY2l0eVkgKiAwLjcgKyBkZXRhaWwudmVsb2NpdHlZICogMC4zO1xuICB9XG4gIGRldGFpbC5kZWx0YVggPSBjdXJyZW50WCAtIGRldGFpbC5zdGFydFg7XG4gIGRldGFpbC5kZWx0YVkgPSBjdXJyZW50WSAtIGRldGFpbC5zdGFydFk7XG4gIGRldGFpbC5ldmVudCA9IGV2O1xufTtcbmNvbnN0IHVwZGF0ZURldGFpbCA9IChldiwgZGV0YWlsKSA9PiB7XG4gIC8vIGdldCBYIGNvb3JkaW5hdGVzIGZvciBlaXRoZXIgYSBtb3VzZSBjbGlja1xuICAvLyBvciBhIHRvdWNoIGRlcGVuZGluZyBvbiB0aGUgZ2l2ZW4gZXZlbnRcbiAgbGV0IHggPSAwO1xuICBsZXQgeSA9IDA7XG4gIGlmIChldikge1xuICAgIGNvbnN0IGNoYW5nZWRUb3VjaGVzID0gZXYuY2hhbmdlZFRvdWNoZXM7XG4gICAgaWYgKGNoYW5nZWRUb3VjaGVzICYmIGNoYW5nZWRUb3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRvdWNoID0gY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICB4ID0gdG91Y2guY2xpZW50WDtcbiAgICAgIHkgPSB0b3VjaC5jbGllbnRZO1xuICAgIH1cbiAgICBlbHNlIGlmIChldi5wYWdlWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB4ID0gZXYucGFnZVg7XG4gICAgICB5ID0gZXYucGFnZVk7XG4gICAgfVxuICB9XG4gIGRldGFpbC5jdXJyZW50WCA9IHg7XG4gIGRldGFpbC5jdXJyZW50WSA9IHk7XG59O1xuY29uc3Qgbm93ID0gKGV2KSA9PiB7XG4gIHJldHVybiBldi50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUdlc3R1cmUgfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBNRU5VX0JBQ0tfQlVUVE9OX1BSSU9SSVRZIH0gZnJvbSAnLi9oYXJkd2FyZS1iYWNrLWJ1dHRvbi1hY2U2YTcxYi5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbXBvbmVudE9uUmVhZHkgfSBmcm9tICcuL2hlbHBlcnMtZWVkNzlhMmIuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtYTA0OWJjYmYuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi1jOWMyYTM1OS5qcyc7XG5cbi8qKlxuICogYmFzZUFuaW1hdGlvblxuICogQmFzZSBjbGFzcyB3aGljaCBpcyBleHRlbmRlZCBieSB0aGUgdmFyaW91cyB0eXBlcy4gRWFjaFxuICogdHlwZSB3aWxsIHByb3ZpZGUgdGhlaXIgb3duIGFuaW1hdGlvbnMgZm9yIG9wZW4gYW5kIGNsb3NlXG4gKiBhbmQgcmVnaXN0ZXJzIGl0c2VsZiB3aXRoIE1lbnUuXG4gKi9cbmNvbnN0IGJhc2VBbmltYXRpb24gPSAoaXNJb3MpID0+IHtcbiAgLy8gaHR0cHM6Ly9tYXRlcmlhbC5pby9ndWlkZWxpbmVzL21vdGlvbi9tb3ZlbWVudC5odG1sI21vdmVtZW50LW1vdmVtZW50LWluLW91dC1vZi1zY3JlZW4tYm91bmRzXG4gIC8vIGh0dHBzOi8vbWF0ZXJpYWwuaW8vZ3VpZGVsaW5lcy9tb3Rpb24vZHVyYXRpb24tZWFzaW5nLmh0bWwjZHVyYXRpb24tZWFzaW5nLW5hdHVyYWwtZWFzaW5nLWN1cnZlc1xuICAvKipcbiAgICogXCJBcHBseSB0aGUgc2hhcnAgY3VydmUgdG8gaXRlbXMgdGVtcG9yYXJpbHkgbGVhdmluZyB0aGUgc2NyZWVuIHRoYXQgbWF5IHJldHVyblxuICAgKiBmcm9tIHRoZSBzYW1lIGV4aXQgcG9pbnQuIFdoZW4gdGhleSByZXR1cm4sIHVzZSB0aGUgZGVjZWxlcmF0aW9uIGN1cnZlLiBPbiBtb2JpbGUsXG4gICAqIHRoaXMgdHJhbnNpdGlvbiB0eXBpY2FsbHkgb2NjdXJzIG92ZXIgMzAwbXNcIiAtLSBNRCBNb3Rpb24gR3VpZGVcbiAgICovXG4gIHJldHVybiBjcmVhdGVBbmltYXRpb24oKS5kdXJhdGlvbihpc0lvcyA/IDQwMCA6IDMwMCk7XG59O1xuXG4vKipcbiAqIE1lbnUgT3ZlcmxheSBUeXBlXG4gKiBUaGUgbWVudSBzbGlkZXMgb3ZlciB0aGUgY29udGVudC4gVGhlIGNvbnRlbnRcbiAqIGl0c2VsZiwgd2hpY2ggaXMgdW5kZXIgdGhlIG1lbnUsIGRvZXMgbm90IG1vdmUuXG4gKi9cbmNvbnN0IG1lbnVPdmVybGF5QW5pbWF0aW9uID0gKG1lbnUpID0+IHtcbiAgbGV0IGNsb3NlZFg7XG4gIGxldCBvcGVuZWRYO1xuICBjb25zdCB3aWR0aCA9IG1lbnUud2lkdGggKyA4O1xuICBjb25zdCBtZW51QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGlmIChtZW51LmlzRW5kU2lkZSkge1xuICAgIC8vIHJpZ2h0IHNpZGVcbiAgICBjbG9zZWRYID0gd2lkdGggKyAncHgnO1xuICAgIG9wZW5lZFggPSAnMHB4JztcbiAgfVxuICBlbHNlIHtcbiAgICAvLyBsZWZ0IHNpZGVcbiAgICBjbG9zZWRYID0gLXdpZHRoICsgJ3B4JztcbiAgICBvcGVuZWRYID0gJzBweCc7XG4gIH1cbiAgbWVudUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KG1lbnUubWVudUlubmVyRWwpXG4gICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtjbG9zZWRYfSlgLCBgdHJhbnNsYXRlWCgke29wZW5lZFh9KWApO1xuICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZShtZW51KTtcbiAgY29uc3QgaXNJb3MgPSBtb2RlID09PSAnaW9zJztcbiAgY29uc3Qgb3BhY2l0eSA9IGlzSW9zID8gMC4yIDogMC4yNTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChtZW51LmJhY2tkcm9wRWwpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIG9wYWNpdHkpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvbihpc0lvcykuYWRkQW5pbWF0aW9uKFttZW51QW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBNZW51IFB1c2ggVHlwZVxuICogVGhlIGNvbnRlbnQgc2xpZGVzIG92ZXIgdG8gcmV2ZWFsIHRoZSBtZW51IHVuZGVybmVhdGguXG4gKiBUaGUgbWVudSBpdHNlbGYgYWxzbyBzbGlkZXMgb3ZlciB0byByZXZlYWwgaXRzIGJhZCBzZWxmLlxuICovXG5jb25zdCBtZW51UHVzaEFuaW1hdGlvbiA9IChtZW51KSA9PiB7XG4gIGxldCBjb250ZW50T3BlbmVkWDtcbiAgbGV0IG1lbnVDbG9zZWRYO1xuICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZShtZW51KTtcbiAgY29uc3Qgd2lkdGggPSBtZW51LndpZHRoO1xuICBpZiAobWVudS5pc0VuZFNpZGUpIHtcbiAgICBjb250ZW50T3BlbmVkWCA9IC13aWR0aCArICdweCc7XG4gICAgbWVudUNsb3NlZFggPSB3aWR0aCArICdweCc7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29udGVudE9wZW5lZFggPSB3aWR0aCArICdweCc7XG4gICAgbWVudUNsb3NlZFggPSAtd2lkdGggKyAncHgnO1xuICB9XG4gIGNvbnN0IG1lbnVBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5hZGRFbGVtZW50KG1lbnUubWVudUlubmVyRWwpXG4gICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHttZW51Q2xvc2VkWH0pYCwgJ3RyYW5zbGF0ZVgoMHB4KScpO1xuICBjb25zdCBjb250ZW50QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuYWRkRWxlbWVudChtZW51LmNvbnRlbnRFbClcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWCgwcHgpJywgYHRyYW5zbGF0ZVgoJHtjb250ZW50T3BlbmVkWH0pYCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuYWRkRWxlbWVudChtZW51LmJhY2tkcm9wRWwpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDAuMzIpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvbihtb2RlID09PSAnaW9zJykuYWRkQW5pbWF0aW9uKFttZW51QW5pbWF0aW9uLCBjb250ZW50QW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBNZW51IFJldmVhbCBUeXBlXG4gKiBUaGUgY29udGVudCBzbGlkZXMgb3ZlciB0byByZXZlYWwgdGhlIG1lbnUgdW5kZXJuZWF0aC5cbiAqIFRoZSBtZW51IGl0c2VsZiwgd2hpY2ggaXMgdW5kZXIgdGhlIGNvbnRlbnQsIGRvZXMgbm90IG1vdmUuXG4gKi9cbmNvbnN0IG1lbnVSZXZlYWxBbmltYXRpb24gPSAobWVudSkgPT4ge1xuICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZShtZW51KTtcbiAgY29uc3Qgb3BlbmVkWCA9IChtZW51LndpZHRoICogKG1lbnUuaXNFbmRTaWRlID8gLTEgOiAxKSkgKyAncHgnO1xuICBjb25zdCBjb250ZW50T3BlbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmFkZEVsZW1lbnQobWVudS5jb250ZW50RWwpIC8vIFJFVklFV1xuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVYKDBweCknLCBgdHJhbnNsYXRlWCgke29wZW5lZFh9KWApO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvbihtb2RlID09PSAnaW9zJykuYWRkQW5pbWF0aW9uKGNvbnRlbnRPcGVuKTtcbn07XG5cbmNvbnN0IGNyZWF0ZU1lbnVDb250cm9sbGVyID0gKCkgPT4ge1xuICBjb25zdCBtZW51QW5pbWF0aW9ucyA9IG5ldyBNYXAoKTtcbiAgY29uc3QgbWVudXMgPSBbXTtcbiAgY29uc3Qgb3BlbiA9IGFzeW5jIChtZW51KSA9PiB7XG4gICAgY29uc3QgbWVudUVsID0gYXdhaXQgZ2V0KG1lbnUpO1xuICAgIGlmIChtZW51RWwpIHtcbiAgICAgIHJldHVybiBtZW51RWwub3BlbigpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IGNsb3NlID0gYXN5bmMgKG1lbnUpID0+IHtcbiAgICBjb25zdCBtZW51RWwgPSBhd2FpdCAobWVudSAhPT0gdW5kZWZpbmVkID8gZ2V0KG1lbnUpIDogZ2V0T3BlbigpKTtcbiAgICBpZiAobWVudUVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBtZW51RWwuY2xvc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCB0b2dnbGUgPSBhc3luYyAobWVudSkgPT4ge1xuICAgIGNvbnN0IG1lbnVFbCA9IGF3YWl0IGdldChtZW51KTtcbiAgICBpZiAobWVudUVsKSB7XG4gICAgICByZXR1cm4gbWVudUVsLnRvZ2dsZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IGVuYWJsZSA9IGFzeW5jIChzaG91bGRFbmFibGUsIG1lbnUpID0+IHtcbiAgICBjb25zdCBtZW51RWwgPSBhd2FpdCBnZXQobWVudSk7XG4gICAgaWYgKG1lbnVFbCkge1xuICAgICAgbWVudUVsLmRpc2FibGVkID0gIXNob3VsZEVuYWJsZTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbnVFbDtcbiAgfTtcbiAgY29uc3Qgc3dpcGVHZXN0dXJlID0gYXN5bmMgKHNob3VsZEVuYWJsZSwgbWVudSkgPT4ge1xuICAgIGNvbnN0IG1lbnVFbCA9IGF3YWl0IGdldChtZW51KTtcbiAgICBpZiAobWVudUVsKSB7XG4gICAgICBtZW51RWwuc3dpcGVHZXN0dXJlID0gc2hvdWxkRW5hYmxlO1xuICAgIH1cbiAgICByZXR1cm4gbWVudUVsO1xuICB9O1xuICBjb25zdCBpc09wZW4gPSBhc3luYyAobWVudSkgPT4ge1xuICAgIGlmIChtZW51ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1lbnVFbCA9IGF3YWl0IGdldChtZW51KTtcbiAgICAgIHJldHVybiAobWVudUVsICE9PSB1bmRlZmluZWQgJiYgbWVudUVsLmlzT3BlbigpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBtZW51RWwgPSBhd2FpdCBnZXRPcGVuKCk7XG4gICAgICByZXR1cm4gbWVudUVsICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBpc0VuYWJsZWQgPSBhc3luYyAobWVudSkgPT4ge1xuICAgIGNvbnN0IG1lbnVFbCA9IGF3YWl0IGdldChtZW51KTtcbiAgICBpZiAobWVudUVsKSB7XG4gICAgICByZXR1cm4gIW1lbnVFbC5kaXNhYmxlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBnZXQgPSBhc3luYyAobWVudSkgPT4ge1xuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KCk7XG4gICAgaWYgKG1lbnUgPT09ICdzdGFydCcgfHwgbWVudSA9PT0gJ2VuZCcpIHtcbiAgICAgIC8vIHRoZXJlIGNvdWxkIGJlIG1vcmUgdGhhbiBvbmUgbWVudSBvbiB0aGUgc2FtZSBzaWRlXG4gICAgICAvLyBzbyBmaXJzdCB0cnkgdG8gZ2V0IHRoZSBlbmFibGVkIG9uZVxuICAgICAgY29uc3QgbWVudVJlZiA9IGZpbmQobSA9PiBtLnNpZGUgPT09IG1lbnUgJiYgIW0uZGlzYWJsZWQpO1xuICAgICAgaWYgKG1lbnVSZWYpIHtcbiAgICAgICAgcmV0dXJuIG1lbnVSZWY7XG4gICAgICB9XG4gICAgICAvLyBkaWRuJ3QgZmluZCBhIG1lbnUgc2lkZSB0aGF0IGlzIGVuYWJsZWRcbiAgICAgIC8vIHNvIHRyeSB0byBnZXQgdGhlIGZpcnN0IG1lbnUgc2lkZSBmb3VuZFxuICAgICAgcmV0dXJuIGZpbmQobSA9PiBtLnNpZGUgPT09IG1lbnUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtZW51ICE9IG51bGwpIHtcbiAgICAgIC8vIHRoZSBtZW51SWQgd2FzIG5vdCBsZWZ0IG9yIHJpZ2h0XG4gICAgICAvLyBzbyB0cnkgdG8gZ2V0IHRoZSBtZW51IGJ5IGl0cyBcImlkXCJcbiAgICAgIHJldHVybiBmaW5kKG0gPT4gbS5tZW51SWQgPT09IG1lbnUpO1xuICAgIH1cbiAgICAvLyByZXR1cm4gdGhlIGZpcnN0IGVuYWJsZWQgbWVudVxuICAgIGNvbnN0IG1lbnVFbCA9IGZpbmQobSA9PiAhbS5kaXNhYmxlZCk7XG4gICAgaWYgKG1lbnVFbCkge1xuICAgICAgcmV0dXJuIG1lbnVFbDtcbiAgICB9XG4gICAgLy8gZ2V0IHRoZSBmaXJzdCBtZW51IGluIHRoZSBhcnJheSwgaWYgb25lIGV4aXN0c1xuICAgIHJldHVybiBtZW51cy5sZW5ndGggPiAwID8gbWVudXNbMF0uZWwgOiB1bmRlZmluZWQ7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgdGhlIGluc3RhbmNlIG9mIHRoZSBvcGVuZWQgbWVudS4gUmV0dXJucyBgbnVsbGAgaWYgYSBtZW51IGlzIG5vdCBmb3VuZC5cbiAgICovXG4gIGNvbnN0IGdldE9wZW4gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgd2FpdFVudGlsUmVhZHkoKTtcbiAgICByZXR1cm4gX2dldE9wZW5TeW5jKCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgYWxsIG1lbnUgaW5zdGFuY2VzLlxuICAgKi9cbiAgY29uc3QgZ2V0TWVudXMgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgd2FpdFVudGlsUmVhZHkoKTtcbiAgICByZXR1cm4gZ2V0TWVudXNTeW5jKCk7XG4gIH07XG4gIC8qKlxuICAgKiBHZXQgd2hldGhlciBvciBub3QgYSBtZW51IGlzIGFuaW1hdGluZy4gUmV0dXJucyBgdHJ1ZWAgaWYgYW55XG4gICAqIG1lbnUgaXMgY3VycmVudGx5IGFuaW1hdGluZy5cbiAgICovXG4gIGNvbnN0IGlzQW5pbWF0aW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHdhaXRVbnRpbFJlYWR5KCk7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nU3luYygpO1xuICB9O1xuICBjb25zdCByZWdpc3RlckFuaW1hdGlvbiA9IChuYW1lLCBhbmltYXRpb24pID0+IHtcbiAgICBtZW51QW5pbWF0aW9ucy5zZXQobmFtZSwgYW5pbWF0aW9uKTtcbiAgfTtcbiAgY29uc3QgX3JlZ2lzdGVyID0gKG1lbnUpID0+IHtcbiAgICBpZiAobWVudXMuaW5kZXhPZihtZW51KSA8IDApIHtcbiAgICAgIGlmICghbWVudS5kaXNhYmxlZCkge1xuICAgICAgICBfc2V0QWN0aXZlTWVudShtZW51KTtcbiAgICAgIH1cbiAgICAgIG1lbnVzLnB1c2gobWVudSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBfdW5yZWdpc3RlciA9IChtZW51KSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBtZW51cy5pbmRleE9mKG1lbnUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBtZW51cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgX3NldEFjdGl2ZU1lbnUgPSAobWVudSkgPT4ge1xuICAgIC8vIGlmIHRoaXMgbWVudSBzaG91bGQgYmUgZW5hYmxlZFxuICAgIC8vIHRoZW4gZmluZCBhbGwgdGhlIG90aGVyIG1lbnVzIG9uIHRoaXMgc2FtZSBzaWRlXG4gICAgLy8gYW5kIGF1dG9tYXRpY2FsbHkgZGlzYWJsZSBvdGhlciBzYW1lIHNpZGUgbWVudXNcbiAgICBjb25zdCBzaWRlID0gbWVudS5zaWRlO1xuICAgIG1lbnVzXG4gICAgICAuZmlsdGVyKG0gPT4gbS5zaWRlID09PSBzaWRlICYmIG0gIT09IG1lbnUpXG4gICAgICAuZm9yRWFjaChtID0+IG0uZGlzYWJsZWQgPSB0cnVlKTtcbiAgfTtcbiAgY29uc3QgX3NldE9wZW4gPSBhc3luYyAobWVudSwgc2hvdWxkT3BlbiwgYW5pbWF0ZWQpID0+IHtcbiAgICBpZiAoaXNBbmltYXRpbmdTeW5jKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHNob3VsZE9wZW4pIHtcbiAgICAgIGNvbnN0IG9wZW5lZE1lbnUgPSBhd2FpdCBnZXRPcGVuKCk7XG4gICAgICBpZiAob3BlbmVkTWVudSAmJiBtZW51LmVsICE9PSBvcGVuZWRNZW51KSB7XG4gICAgICAgIGF3YWl0IG9wZW5lZE1lbnUuc2V0T3BlbihmYWxzZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWVudS5fc2V0T3BlbihzaG91bGRPcGVuLCBhbmltYXRlZCk7XG4gIH07XG4gIGNvbnN0IF9jcmVhdGVBbmltYXRpb24gPSAodHlwZSwgbWVudUNtcCkgPT4ge1xuICAgIGNvbnN0IGFuaW1hdGlvbkJ1aWxkZXIgPSBtZW51QW5pbWF0aW9ucy5nZXQodHlwZSk7XG4gICAgaWYgKCFhbmltYXRpb25CdWlsZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FuaW1hdGlvbiBub3QgcmVnaXN0ZXJlZCcpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKG1lbnVDbXApO1xuICAgIHJldHVybiBhbmltYXRpb247XG4gIH07XG4gIGNvbnN0IF9nZXRPcGVuU3luYyA9ICgpID0+IHtcbiAgICByZXR1cm4gZmluZChtID0+IG0uX2lzT3Blbik7XG4gIH07XG4gIGNvbnN0IGdldE1lbnVzU3luYyA9ICgpID0+IHtcbiAgICByZXR1cm4gbWVudXMubWFwKG1lbnUgPT4gbWVudS5lbCk7XG4gIH07XG4gIGNvbnN0IGlzQW5pbWF0aW5nU3luYyA9ICgpID0+IHtcbiAgICByZXR1cm4gbWVudXMuc29tZShtZW51ID0+IG1lbnUuaXNBbmltYXRpbmcpO1xuICB9O1xuICBjb25zdCBmaW5kID0gKHByZWRpY2F0ZSkgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbWVudXMuZmluZChwcmVkaWNhdGUpO1xuICAgIGlmIChpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuZWw7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH07XG4gIGNvbnN0IHdhaXRVbnRpbFJlYWR5ID0gKCkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1tZW51JykpXG4gICAgICAubWFwKG1lbnUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBjb21wb25lbnRPblJlYWR5KG1lbnUsIHJlc29sdmUpKSkpO1xuICB9O1xuICByZWdpc3RlckFuaW1hdGlvbigncmV2ZWFsJywgbWVudVJldmVhbEFuaW1hdGlvbik7XG4gIHJlZ2lzdGVyQW5pbWF0aW9uKCdwdXNoJywgbWVudVB1c2hBbmltYXRpb24pO1xuICByZWdpc3RlckFuaW1hdGlvbignb3ZlcmxheScsIG1lbnVPdmVybGF5QW5pbWF0aW9uKTtcbiAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW9uQmFja0J1dHRvbicsIChldikgPT4ge1xuICAgICAgY29uc3Qgb3Blbk1lbnUgPSBfZ2V0T3BlblN5bmMoKTtcbiAgICAgIGlmIChvcGVuTWVudSkge1xuICAgICAgICBldi5kZXRhaWwucmVnaXN0ZXIoTUVOVV9CQUNLX0JVVFRPTl9QUklPUklUWSwgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBvcGVuTWVudS5jbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlZ2lzdGVyQW5pbWF0aW9uLFxuICAgIGdldCxcbiAgICBnZXRNZW51cyxcbiAgICBnZXRPcGVuLFxuICAgIGlzRW5hYmxlZCxcbiAgICBzd2lwZUdlc3R1cmUsXG4gICAgaXNBbmltYXRpbmcsXG4gICAgaXNPcGVuLFxuICAgIGVuYWJsZSxcbiAgICB0b2dnbGUsXG4gICAgY2xvc2UsXG4gICAgb3BlbixcbiAgICBfZ2V0T3BlblN5bmMsXG4gICAgX2NyZWF0ZUFuaW1hdGlvbixcbiAgICBfcmVnaXN0ZXIsXG4gICAgX3VucmVnaXN0ZXIsXG4gICAgX3NldE9wZW4sXG4gICAgX3NldEFjdGl2ZU1lbnUsXG4gIH07XG59O1xuY29uc3QgbWVudUNvbnRyb2xsZXIgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZU1lbnVDb250cm9sbGVyKCk7XG5cbmV4cG9ydCB7IG1lbnVDb250cm9sbGVyIGFzIG0gfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG4vKipcbiAqIERvZXMgYSBzaW1wbGUgc2FuaXRpemF0aW9uIG9mIGFsbCBlbGVtZW50c1xuICogaW4gYW4gdW50cnVzdGVkIHN0cmluZ1xuICovXG5jb25zdCBzYW5pdGl6ZURPTVN0cmluZyA9ICh1bnRydXN0ZWRTdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBpZiAodW50cnVzdGVkU3RyaW5nIGluc3RhbmNlb2YgSW9uaWNTYWZlU3RyaW5nKSB7XG4gICAgICByZXR1cm4gdW50cnVzdGVkU3RyaW5nLnZhbHVlO1xuICAgIH1cbiAgICBpZiAoIWlzU2FuaXRpemVyRW5hYmxlZCgpIHx8IHR5cGVvZiB1bnRydXN0ZWRTdHJpbmcgIT09ICdzdHJpbmcnIHx8IHVudHJ1c3RlZFN0cmluZyA9PT0gJycpIHtcbiAgICAgIHJldHVybiB1bnRydXN0ZWRTdHJpbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGRvY3VtZW50IGZyYWdtZW50XG4gICAgICogc2VwYXJhdGUgZnJvbSB0aGUgbWFpbiBET00sXG4gICAgICogY3JlYXRlIGEgZGl2IHRvIGRvIG91ciB3b3JrIGluXG4gICAgICovXG4gICAgY29uc3QgZG9jdW1lbnRGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBjb25zdCB3b3JraW5nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jdW1lbnRGcmFnbWVudC5hcHBlbmRDaGlsZCh3b3JraW5nRGl2KTtcbiAgICB3b3JraW5nRGl2LmlubmVySFRNTCA9IHVudHJ1c3RlZFN0cmluZztcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW55IGVsZW1lbnRzXG4gICAgICogdGhhdCBhcmUgYmxvY2tlZFxuICAgICAqL1xuICAgIGJsb2NrZWRUYWdzLmZvckVhY2goYmxvY2tlZFRhZyA9PiB7XG4gICAgICBjb25zdCBnZXRFbGVtZW50c1RvUmVtb3ZlID0gZG9jdW1lbnRGcmFnbWVudC5xdWVyeVNlbGVjdG9yQWxsKGJsb2NrZWRUYWcpO1xuICAgICAgZm9yIChsZXQgZWxlbWVudEluZGV4ID0gZ2V0RWxlbWVudHNUb1JlbW92ZS5sZW5ndGggLSAxOyBlbGVtZW50SW5kZXggPj0gMDsgZWxlbWVudEluZGV4LS0pIHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnRzVG9SZW1vdmVbZWxlbWVudEluZGV4XTtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudEZyYWdtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZSBzdGlsbCBuZWVkIHRvIHNhbml0aXplXG4gICAgICAgICAqIHRoZSBjaGlsZHJlbiBvZiB0aGlzIGVsZW1lbnRcbiAgICAgICAgICogYXMgdGhleSBhcmUgbGVmdCBiZWhpbmRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGNoaWxkRWxlbWVudHMgPSBnZXRFbGVtZW50Q2hpbGRyZW4oZWxlbWVudCk7XG4gICAgICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSAqL1xuICAgICAgICBmb3IgKGxldCBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IGNoaWxkRWxlbWVudHMubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcbiAgICAgICAgICBzYW5pdGl6ZUVsZW1lbnQoY2hpbGRFbGVtZW50c1tjaGlsZEluZGV4XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBHbyB0aHJvdWdoIHJlbWFpbmluZyBlbGVtZW50cyBhbmQgcmVtb3ZlXG4gICAgICogbm9uLWFsbG93ZWQgYXR0cmlic1xuICAgICAqL1xuICAgIC8vIElFIGRvZXMgbm90IHN1cHBvcnQgLmNoaWxkcmVuIG9uIGRvY3VtZW50IGZyYWdtZW50cywgb25seSAuY2hpbGROb2Rlc1xuICAgIGNvbnN0IGRmQ2hpbGRyZW4gPSBnZXRFbGVtZW50Q2hpbGRyZW4oZG9jdW1lbnRGcmFnbWVudCk7XG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gICAgZm9yIChsZXQgY2hpbGRJbmRleCA9IDA7IGNoaWxkSW5kZXggPCBkZkNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICBzYW5pdGl6ZUVsZW1lbnQoZGZDaGlsZHJlbltjaGlsZEluZGV4XSk7XG4gICAgfVxuICAgIC8vIEFwcGVuZCBkb2N1bWVudCBmcmFnbWVudCB0byBkaXZcbiAgICBjb25zdCBmcmFnbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGZyYWdtZW50RGl2LmFwcGVuZENoaWxkKGRvY3VtZW50RnJhZ21lbnQpO1xuICAgIC8vIEZpcnN0IGNoaWxkIGlzIGFsd2F5cyB0aGUgZGl2IHdlIGRpZCBvdXIgd29yayBpblxuICAgIGNvbnN0IGdldElubmVyRGl2ID0gZnJhZ21lbnREaXYucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgcmV0dXJuIChnZXRJbm5lckRpdiAhPT0gbnVsbCkgPyBnZXRJbm5lckRpdi5pbm5lckhUTUwgOiBmcmFnbWVudERpdi5pbm5lckhUTUw7XG4gIH1cbiAgY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG4vKipcbiAqIENsZWFuIHVwIGN1cnJlbnQgZWxlbWVudCBiYXNlZCBvbiBhbGxvd2VkIGF0dHJpYnV0ZXNcbiAqIGFuZCB0aGVuIHJlY3Vyc2l2ZWx5IGRpZyBkb3duIGludG8gYW55IGNoaWxkIGVsZW1lbnRzIHRvXG4gKiBjbGVhbiB0aG9zZSB1cCBhcyB3ZWxsXG4gKi9cbmNvbnN0IHNhbml0aXplRWxlbWVudCA9IChlbGVtZW50KSA9PiB7XG4gIC8vIElFIHVzZXMgY2hpbGROb2Rlcywgc28gaWdub3JlIG5vZGVzIHRoYXQgYXJlIG5vdCBlbGVtZW50c1xuICBpZiAoZWxlbWVudC5ub2RlVHlwZSAmJiBlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAobGV0IGkgPSBlbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBlbGVtZW50LmF0dHJpYnV0ZXMuaXRlbShpKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlLm5hbWU7XG4gICAgLy8gcmVtb3ZlIG5vbi1hbGxvd2VkIGF0dHJpYnNcbiAgICBpZiAoIWFsbG93ZWRBdHRyaWJ1dGVzLmluY2x1ZGVzKGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIC8vIGNsZWFuIHVwIGFueSBhbGxvd2VkIGF0dHJpYnNcbiAgICAvLyB0aGF0IGF0dGVtcHQgdG8gZG8gYW55IEpTIGZ1bm55LWJ1c2luZXNzXG4gICAgY29uc3QgYXR0cmlidXRlVmFsdWUgPSBhdHRyaWJ1dGUudmFsdWU7XG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gICAgaWYgKGF0dHJpYnV0ZVZhbHVlICE9IG51bGwgJiYgYXR0cmlidXRlVmFsdWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnamF2YXNjcmlwdDonKSkge1xuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTYW5pdGl6ZSBhbnkgbmVzdGVkIGNoaWxkcmVuXG4gICAqL1xuICBjb25zdCBjaGlsZEVsZW1lbnRzID0gZ2V0RWxlbWVudENoaWxkcmVuKGVsZW1lbnQpO1xuICAvKiB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZEVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc2FuaXRpemVFbGVtZW50KGNoaWxkRWxlbWVudHNbaV0pO1xuICB9XG59O1xuLyoqXG4gKiBJRSBkb2Vzbid0IGFsd2F5cyBzdXBwb3J0IC5jaGlsZHJlblxuICogc28gd2UgcmV2ZXJ0IHRvIC5jaGlsZE5vZGVzIGluc3RlYWRcbiAqL1xuY29uc3QgZ2V0RWxlbWVudENoaWxkcmVuID0gKGVsKSA9PiB7XG4gIHJldHVybiAoZWwuY2hpbGRyZW4gIT0gbnVsbCkgPyBlbC5jaGlsZHJlbiA6IGVsLmNoaWxkTm9kZXM7XG59O1xuY29uc3QgaXNTYW5pdGl6ZXJFbmFibGVkID0gKCkgPT4ge1xuICBjb25zdCB3aW4gPSB3aW5kb3c7XG4gIGNvbnN0IGNvbmZpZyA9IHdpbiAmJiB3aW4uSW9uaWMgJiYgd2luLklvbmljLmNvbmZpZztcbiAgaWYgKGNvbmZpZykge1xuICAgIGlmIChjb25maWcuZ2V0KSB7XG4gICAgICByZXR1cm4gY29uZmlnLmdldCgnc2FuaXRpemVyRW5hYmxlZCcsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBjb25maWcuc2FuaXRpemVyRW5hYmxlZCA9PT0gdHJ1ZSB8fCBjb25maWcuc2FuaXRpemVyRW5hYmxlZCA9PT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBhbGxvd2VkQXR0cmlidXRlcyA9IFsnY2xhc3MnLCAnaWQnLCAnaHJlZicsICdzcmMnLCAnbmFtZScsICdzbG90J107XG5jb25zdCBibG9ja2VkVGFncyA9IFsnc2NyaXB0JywgJ3N0eWxlJywgJ2lmcmFtZScsICdtZXRhJywgJ2xpbmsnLCAnb2JqZWN0JywgJ2VtYmVkJ107XG5jbGFzcyBJb25pY1NhZmVTdHJpbmcge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgeyBJb25pY1NhZmVTdHJpbmcgYXMgSSwgc2FuaXRpemVET01TdHJpbmcgYXMgcyB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IGMgYXMgd3JpdGVUYXNrLCBCIGFzIEJ1aWxkIH0gZnJvbSAnLi9pbmRleC0wNmNkMjdiMS5qcyc7XG5pbXBvcnQgeyBjIGFzIGNvbXBvbmVudE9uUmVhZHksIHIgYXMgcmFmIH0gZnJvbSAnLi9oZWxwZXJzLWVlZDc5YTJiLmpzJztcblxuY29uc3QgTElGRUNZQ0xFX1dJTExfRU5URVIgPSAnaW9uVmlld1dpbGxFbnRlcic7XG5jb25zdCBMSUZFQ1lDTEVfRElEX0VOVEVSID0gJ2lvblZpZXdEaWRFbnRlcic7XG5jb25zdCBMSUZFQ1lDTEVfV0lMTF9MRUFWRSA9ICdpb25WaWV3V2lsbExlYXZlJztcbmNvbnN0IExJRkVDWUNMRV9ESURfTEVBVkUgPSAnaW9uVmlld0RpZExlYXZlJztcbmNvbnN0IExJRkVDWUNMRV9XSUxMX1VOTE9BRCA9ICdpb25WaWV3V2lsbFVubG9hZCc7XG5cbmNvbnN0IGlvc1RyYW5zaXRpb25BbmltYXRpb24gPSAoKSA9PiBpbXBvcnQoJy4vaW9zLnRyYW5zaXRpb24tNGEwMzEwM2IuanMnKTtcbmNvbnN0IG1kVHJhbnNpdGlvbkFuaW1hdGlvbiA9ICgpID0+IGltcG9ydCgnLi9tZC50cmFuc2l0aW9uLTgyNzcwMjljLmpzJyk7XG5jb25zdCB0cmFuc2l0aW9uID0gKG9wdHMpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB3cml0ZVRhc2soKCkgPT4ge1xuICAgICAgYmVmb3JlVHJhbnNpdGlvbihvcHRzKTtcbiAgICAgIHJ1blRyYW5zaXRpb24ob3B0cykudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBpZiAocmVzdWx0LmFuaW1hdGlvbikge1xuICAgICAgICAgIHJlc3VsdC5hbmltYXRpb24uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIGFmdGVyVHJhbnNpdGlvbihvcHRzKTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICBhZnRlclRyYW5zaXRpb24ob3B0cyk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59O1xuY29uc3QgYmVmb3JlVHJhbnNpdGlvbiA9IChvcHRzKSA9PiB7XG4gIGNvbnN0IGVudGVyaW5nRWwgPSBvcHRzLmVudGVyaW5nRWw7XG4gIGNvbnN0IGxlYXZpbmdFbCA9IG9wdHMubGVhdmluZ0VsO1xuICBzZXRaSW5kZXgoZW50ZXJpbmdFbCwgbGVhdmluZ0VsLCBvcHRzLmRpcmVjdGlvbik7XG4gIGlmIChvcHRzLnNob3dHb0JhY2spIHtcbiAgICBlbnRlcmluZ0VsLmNsYXNzTGlzdC5hZGQoJ2Nhbi1nby1iYWNrJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgZW50ZXJpbmdFbC5jbGFzc0xpc3QucmVtb3ZlKCdjYW4tZ28tYmFjaycpO1xuICB9XG4gIHNldFBhZ2VIaWRkZW4oZW50ZXJpbmdFbCwgZmFsc2UpO1xuICAvKipcbiAgICogV2hlbiB0cmFuc2l0aW9uaW5nLCB0aGUgcGFnZSBzaG91bGQgbm90XG4gICAqIHJlc3BvbmQgdG8gY2xpY2sgZXZlbnRzLiBUaGlzIHJlc29sdmVzIHNtYWxsXG4gICAqIGlzc3VlcyBsaWtlIHVzZXJzIGRvdWJsZSB0YXBwaW5nIHRoZSBpb24tYmFjay1idXR0b24uXG4gICAqIFRoZXNlIHBvaW50ZXIgZXZlbnRzIGFyZSByZW1vdmVkIGluIGBhZnRlclRyYW5zaXRpb25gLlxuICAgKi9cbiAgZW50ZXJpbmdFbC5zdHlsZS5zZXRQcm9wZXJ0eSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuICBpZiAobGVhdmluZ0VsKSB7XG4gICAgc2V0UGFnZUhpZGRlbihsZWF2aW5nRWwsIGZhbHNlKTtcbiAgICBsZWF2aW5nRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcbiAgfVxufTtcbmNvbnN0IHJ1blRyYW5zaXRpb24gPSBhc3luYyAob3B0cykgPT4ge1xuICBjb25zdCBhbmltYXRpb25CdWlsZGVyID0gYXdhaXQgZ2V0QW5pbWF0aW9uQnVpbGRlcihvcHRzKTtcbiAgY29uc3QgYW5pID0gKGFuaW1hdGlvbkJ1aWxkZXIgJiYgQnVpbGQuaXNCcm93c2VyKVxuICAgID8gYW5pbWF0aW9uKGFuaW1hdGlvbkJ1aWxkZXIsIG9wdHMpXG4gICAgOiBub0FuaW1hdGlvbihvcHRzKTsgLy8gZmFzdCBwYXRoIGZvciBubyBhbmltYXRpb25cbiAgcmV0dXJuIGFuaTtcbn07XG5jb25zdCBhZnRlclRyYW5zaXRpb24gPSAob3B0cykgPT4ge1xuICBjb25zdCBlbnRlcmluZ0VsID0gb3B0cy5lbnRlcmluZ0VsO1xuICBjb25zdCBsZWF2aW5nRWwgPSBvcHRzLmxlYXZpbmdFbDtcbiAgZW50ZXJpbmdFbC5jbGFzc0xpc3QucmVtb3ZlKCdpb24tcGFnZS1pbnZpc2libGUnKTtcbiAgZW50ZXJpbmdFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncG9pbnRlci1ldmVudHMnKTtcbiAgaWYgKGxlYXZpbmdFbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGVhdmluZ0VsLmNsYXNzTGlzdC5yZW1vdmUoJ2lvbi1wYWdlLWludmlzaWJsZScpO1xuICAgIGxlYXZpbmdFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgncG9pbnRlci1ldmVudHMnKTtcbiAgfVxufTtcbmNvbnN0IGdldEFuaW1hdGlvbkJ1aWxkZXIgPSBhc3luYyAob3B0cykgPT4ge1xuICBpZiAoIW9wdHMubGVhdmluZ0VsIHx8ICFvcHRzLmFuaW1hdGVkIHx8IG9wdHMuZHVyYXRpb24gPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChvcHRzLmFuaW1hdGlvbkJ1aWxkZXIpIHtcbiAgICByZXR1cm4gb3B0cy5hbmltYXRpb25CdWlsZGVyO1xuICB9XG4gIGNvbnN0IGdldEFuaW1hdGlvbiA9IChvcHRzLm1vZGUgPT09ICdpb3MnKVxuICAgID8gKGF3YWl0IGlvc1RyYW5zaXRpb25BbmltYXRpb24oKSkuaW9zVHJhbnNpdGlvbkFuaW1hdGlvblxuICAgIDogKGF3YWl0IG1kVHJhbnNpdGlvbkFuaW1hdGlvbigpKS5tZFRyYW5zaXRpb25BbmltYXRpb247XG4gIHJldHVybiBnZXRBbmltYXRpb247XG59O1xuY29uc3QgYW5pbWF0aW9uID0gYXN5bmMgKGFuaW1hdGlvbkJ1aWxkZXIsIG9wdHMpID0+IHtcbiAgYXdhaXQgd2FpdEZvclJlYWR5KG9wdHMsIHRydWUpO1xuICBjb25zdCB0cmFucyA9IGFuaW1hdGlvbkJ1aWxkZXIob3B0cy5iYXNlRWwsIG9wdHMpO1xuICBmaXJlV2lsbEV2ZW50cyhvcHRzLmVudGVyaW5nRWwsIG9wdHMubGVhdmluZ0VsKTtcbiAgY29uc3QgZGlkQ29tcGxldGUgPSBhd2FpdCBwbGF5VHJhbnNpdGlvbih0cmFucywgb3B0cyk7XG4gIGlmIChvcHRzLnByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICBvcHRzLnByb2dyZXNzQ2FsbGJhY2sodW5kZWZpbmVkKTtcbiAgfVxuICBpZiAoZGlkQ29tcGxldGUpIHtcbiAgICBmaXJlRGlkRXZlbnRzKG9wdHMuZW50ZXJpbmdFbCwgb3B0cy5sZWF2aW5nRWwpO1xuICB9XG4gIHJldHVybiB7XG4gICAgaGFzQ29tcGxldGVkOiBkaWRDb21wbGV0ZSxcbiAgICBhbmltYXRpb246IHRyYW5zXG4gIH07XG59O1xuY29uc3Qgbm9BbmltYXRpb24gPSBhc3luYyAob3B0cykgPT4ge1xuICBjb25zdCBlbnRlcmluZ0VsID0gb3B0cy5lbnRlcmluZ0VsO1xuICBjb25zdCBsZWF2aW5nRWwgPSBvcHRzLmxlYXZpbmdFbDtcbiAgYXdhaXQgd2FpdEZvclJlYWR5KG9wdHMsIGZhbHNlKTtcbiAgZmlyZVdpbGxFdmVudHMoZW50ZXJpbmdFbCwgbGVhdmluZ0VsKTtcbiAgZmlyZURpZEV2ZW50cyhlbnRlcmluZ0VsLCBsZWF2aW5nRWwpO1xuICByZXR1cm4ge1xuICAgIGhhc0NvbXBsZXRlZDogdHJ1ZVxuICB9O1xufTtcbmNvbnN0IHdhaXRGb3JSZWFkeSA9IGFzeW5jIChvcHRzLCBkZWZhdWx0RGVlcCkgPT4ge1xuICBjb25zdCBkZWVwID0gb3B0cy5kZWVwV2FpdCAhPT0gdW5kZWZpbmVkID8gb3B0cy5kZWVwV2FpdCA6IGRlZmF1bHREZWVwO1xuICBjb25zdCBwcm9taXNlcyA9IGRlZXAgPyBbXG4gICAgZGVlcFJlYWR5KG9wdHMuZW50ZXJpbmdFbCksXG4gICAgZGVlcFJlYWR5KG9wdHMubGVhdmluZ0VsKSxcbiAgXSA6IFtcbiAgICBzaGFsbG93UmVhZHkob3B0cy5lbnRlcmluZ0VsKSxcbiAgICBzaGFsbG93UmVhZHkob3B0cy5sZWF2aW5nRWwpLFxuICBdO1xuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIGF3YWl0IG5vdGlmeVZpZXdSZWFkeShvcHRzLnZpZXdJc1JlYWR5LCBvcHRzLmVudGVyaW5nRWwpO1xufTtcbmNvbnN0IG5vdGlmeVZpZXdSZWFkeSA9IGFzeW5jICh2aWV3SXNSZWFkeSwgZW50ZXJpbmdFbCkgPT4ge1xuICBpZiAodmlld0lzUmVhZHkpIHtcbiAgICBhd2FpdCB2aWV3SXNSZWFkeShlbnRlcmluZ0VsKTtcbiAgfVxufTtcbmNvbnN0IHBsYXlUcmFuc2l0aW9uID0gKHRyYW5zLCBvcHRzKSA9PiB7XG4gIGNvbnN0IHByb2dyZXNzQ2FsbGJhY2sgPSBvcHRzLnByb2dyZXNzQ2FsbGJhY2s7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICB0cmFucy5vbkZpbmlzaCgoY3VycmVudFN0ZXApID0+IHJlc29sdmUoY3VycmVudFN0ZXAgPT09IDEpKTtcbiAgfSk7XG4gIC8vIGNvb2wsIGxldCdzIGRvIHRoaXMsIHN0YXJ0IHRoZSB0cmFuc2l0aW9uXG4gIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgLy8gdGhpcyBpcyBhIHN3aXBlIHRvIGdvIGJhY2ssIGp1c3QgZ2V0IHRoZSB0cmFuc2l0aW9uIHByb2dyZXNzIHJlYWR5XG4gICAgLy8ga2ljayBvZmYgdGhlIHN3aXBlIGFuaW1hdGlvbiBzdGFydFxuICAgIHRyYW5zLnByb2dyZXNzU3RhcnQodHJ1ZSk7XG4gICAgcHJvZ3Jlc3NDYWxsYmFjayh0cmFucyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gb25seSB0aGUgdG9wIGxldmVsIHRyYW5zaXRpb24gc2hvdWxkIGFjdHVhbGx5IHN0YXJ0IFwicGxheVwiXG4gICAgLy8ga2ljayBpdCBvZmYgYW5kIGxldCBpdCBwbGF5IHRocm91Z2hcbiAgICAvLyAqKioqKioqKiBET00gV1JJVEUgKioqKioqKioqKioqKioqKlxuICAgIHRyYW5zLnBsYXkoKTtcbiAgfVxuICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3Igd2hlbiB0aGUgYW5pbWF0aW9uIGlzIGRvbmVcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuY29uc3QgZmlyZVdpbGxFdmVudHMgPSAoZW50ZXJpbmdFbCwgbGVhdmluZ0VsKSA9PiB7XG4gIGxpZmVjeWNsZShsZWF2aW5nRWwsIExJRkVDWUNMRV9XSUxMX0xFQVZFKTtcbiAgbGlmZWN5Y2xlKGVudGVyaW5nRWwsIExJRkVDWUNMRV9XSUxMX0VOVEVSKTtcbn07XG5jb25zdCBmaXJlRGlkRXZlbnRzID0gKGVudGVyaW5nRWwsIGxlYXZpbmdFbCkgPT4ge1xuICBsaWZlY3ljbGUoZW50ZXJpbmdFbCwgTElGRUNZQ0xFX0RJRF9FTlRFUik7XG4gIGxpZmVjeWNsZShsZWF2aW5nRWwsIExJRkVDWUNMRV9ESURfTEVBVkUpO1xufTtcbmNvbnN0IGxpZmVjeWNsZSA9IChlbCwgZXZlbnROYW1lKSA9PiB7XG4gIGlmIChlbCkge1xuICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwge1xuICAgICAgYnViYmxlczogZmFsc2UsXG4gICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICB9KTtcbiAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgfVxufTtcbmNvbnN0IHNoYWxsb3dSZWFkeSA9IChlbCkgPT4ge1xuICBpZiAoZWwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBjb21wb25lbnRPblJlYWR5KGVsLCByZXNvbHZlKSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcbmNvbnN0IGRlZXBSZWFkeSA9IGFzeW5jIChlbCkgPT4ge1xuICBjb25zdCBlbGVtZW50ID0gZWw7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQuY29tcG9uZW50T25SZWFkeSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBzdGVuY2lsRWwgPSBhd2FpdCBlbGVtZW50LmNvbXBvbmVudE9uUmVhZHkoKTtcbiAgICAgIGlmIChzdGVuY2lsRWwgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEN1c3RvbSBlbGVtZW50cyBpbiBTdGVuY2lsIHdpbGwgaGF2ZSBfX3JlZ2lzdGVySG9zdC5cbiAgICAgICAqL1xuICAgIH1cbiAgICBlbHNlIGlmIChlbGVtZW50Ll9fcmVnaXN0ZXJIb3N0ICE9IG51bGwpIHtcbiAgICAgIC8qKlxuICAgICAgICogTm9uLWxhenkgbG9hZGVkIGN1c3RvbSBlbGVtZW50cyBuZWVkIHRvIHdhaXRcbiAgICAgICAqIG9uZSBmcmFtZSBmb3IgY29tcG9uZW50IHRvIGJlIGxvYWRlZC5cbiAgICAgICAqL1xuICAgICAgY29uc3Qgd2FpdEZvckN1c3RvbUVsZW1lbnQgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHJhZihyZXNvbHZlKSk7XG4gICAgICBhd2FpdCB3YWl0Rm9yQ3VzdG9tRWxlbWVudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkcmVuKS5tYXAoZGVlcFJlYWR5KSk7XG4gIH1cbn07XG5jb25zdCBzZXRQYWdlSGlkZGVuID0gKGVsLCBoaWRkZW4pID0+IHtcbiAgaWYgKGhpZGRlbikge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2lvbi1wYWdlLWhpZGRlbicpO1xuICB9XG4gIGVsc2Uge1xuICAgIGVsLmhpZGRlbiA9IGZhbHNlO1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdpb24tcGFnZS1oaWRkZW4nKTtcbiAgfVxufTtcbmNvbnN0IHNldFpJbmRleCA9IChlbnRlcmluZ0VsLCBsZWF2aW5nRWwsIGRpcmVjdGlvbikgPT4ge1xuICBpZiAoZW50ZXJpbmdFbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW50ZXJpbmdFbC5zdHlsZS56SW5kZXggPSAoZGlyZWN0aW9uID09PSAnYmFjaycpXG4gICAgICA/ICc5OSdcbiAgICAgIDogJzEwMSc7XG4gIH1cbiAgaWYgKGxlYXZpbmdFbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgbGVhdmluZ0VsLnN0eWxlLnpJbmRleCA9ICcxMDAnO1xuICB9XG59O1xuY29uc3QgZ2V0SW9uUGFnZUVsZW1lbnQgPSAoZWxlbWVudCkgPT4ge1xuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1wYWdlJykpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuICBjb25zdCBpb25QYWdlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzJyk7XG4gIGlmIChpb25QYWdlKSB7XG4gICAgcmV0dXJuIGlvblBhZ2U7XG4gIH1cbiAgLy8gaWRrLCByZXR1cm4gdGhlIG9yaWdpbmFsIGVsZW1lbnQgc28gYXQgbGVhc3Qgc29tZXRoaW5nIGFuaW1hdGVzIGFuZCB3ZSBkb24ndCBoYXZlIGEgbnVsbCBwb2ludGVyXG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuZXhwb3J0IHsgTElGRUNZQ0xFX1dJTExfRU5URVIgYXMgTCwgTElGRUNZQ0xFX0RJRF9FTlRFUiBhcyBhLCBMSUZFQ1lDTEVfV0lMTF9MRUFWRSBhcyBiLCBMSUZFQ1lDTEVfRElEX0xFQVZFIGFzIGMsIExJRkVDWUNMRV9XSUxMX1VOTE9BRCBhcyBkLCBkZWVwUmVhZHkgYXMgZSwgZ2V0SW9uUGFnZUVsZW1lbnQgYXMgZywgbGlmZWN5Y2xlIGFzIGwsIHNldFBhZ2VIaWRkZW4gYXMgcywgdHJhbnNpdGlvbiBhcyB0IH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuZXhwb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi1jOWMyYTM1OS5qcyc7XG5leHBvcnQgeyBpb3NUcmFuc2l0aW9uQW5pbWF0aW9uIH0gZnJvbSAnLi9pb3MudHJhbnNpdGlvbi00YTAzMTAzYi5qcyc7XG5leHBvcnQgeyBtZFRyYW5zaXRpb25BbmltYXRpb24gfSBmcm9tICcuL21kLnRyYW5zaXRpb24tODI3NzAyOWMuanMnO1xuZXhwb3J0IHsgZyBhcyBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbiB9IGZyb20gJy4vY3ViaWMtYmV6aWVyLTE1NGE1M2E1LmpzJztcbmV4cG9ydCB7IGNyZWF0ZUdlc3R1cmUgfSBmcm9tICcuL2luZGV4LTQxYmY0MWYyLmpzJztcbmV4cG9ydCB7IGcgYXMgZ2V0UGxhdGZvcm1zLCBpIGFzIGluaXRpYWxpemUsIGEgYXMgaXNQbGF0Zm9ybSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWEwNDliY2JmLmpzJztcbmltcG9ydCB7IGEgYXMgYWRkRXZlbnRMaXN0ZW5lciwgciBhcyByYWYsIGIgYXMgcmVtb3ZlRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vaGVscGVycy1lZWQ3OWEyYi5qcyc7XG5leHBvcnQgeyBjIGFzIGNvbXBvbmVudE9uUmVhZHkgfSBmcm9tICcuL2hlbHBlcnMtZWVkNzlhMmIuanMnO1xuZXhwb3J0IHsgSSBhcyBJb25pY1NhZmVTdHJpbmcgfSBmcm9tICcuL2luZGV4LWM4NDFjOTMzLmpzJztcbmV4cG9ydCB7IGEgYXMgTElGRUNZQ0xFX0RJRF9FTlRFUiwgYyBhcyBMSUZFQ1lDTEVfRElEX0xFQVZFLCBMIGFzIExJRkVDWUNMRV9XSUxMX0VOVEVSLCBiIGFzIExJRkVDWUNMRV9XSUxMX0xFQVZFLCBkIGFzIExJRkVDWUNMRV9XSUxMX1VOTE9BRCB9IGZyb20gJy4vaW5kZXgtYzhlZjU1YjUuanMnO1xuZXhwb3J0IHsgbSBhcyBtZW51Q29udHJvbGxlciB9IGZyb20gJy4vaW5kZXgtNDQ2NGQyZGMuanMnO1xuZXhwb3J0IHsgYiBhcyBhY3Rpb25TaGVldENvbnRyb2xsZXIsIGEgYXMgYWxlcnRDb250cm9sbGVyLCBsIGFzIGxvYWRpbmdDb250cm9sbGVyLCBtIGFzIG1vZGFsQ29udHJvbGxlciwgcCBhcyBwaWNrZXJDb250cm9sbGVyLCBjIGFzIHBvcG92ZXJDb250cm9sbGVyLCB0IGFzIHRvYXN0Q29udHJvbGxlciB9IGZyb20gJy4vb3ZlcmxheXMtZjJlNTVlM2EuanMnO1xuaW1wb3J0ICcuL2dlc3R1cmUtY29udHJvbGxlci02OGMwMjNhNC5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtMDZjZDI3YjEuanMnO1xuaW1wb3J0ICcuL2hhcmR3YXJlLWJhY2stYnV0dG9uLWFjZTZhNzFiLmpzJztcbmltcG9ydCAnLi9oYXB0aWMtOWE5YWE3ZWMuanMnO1xuaW1wb3J0ICcuL3RoZW1lLWEyNGZmMWFkLmpzJztcbmltcG9ydCAnLi9mcmFtZXdvcmstZGVsZWdhdGUtYTkyMjAxOGMuanMnO1xuXG5jb25zdCBzZXR1cENvbmZpZyA9IChjb25maWcpID0+IHtcbiAgY29uc3Qgd2luID0gd2luZG93O1xuICBjb25zdCBJb25pYyA9IHdpbi5Jb25pYztcbiAgaWYgKElvbmljICYmIElvbmljLmNvbmZpZyAmJiBJb25pYy5jb25maWcuY29uc3RydWN0b3IubmFtZSAhPT0gJ09iamVjdCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2luLklvbmljID0gd2luLklvbmljIHx8IHt9O1xuICB3aW4uSW9uaWMuY29uZmlnID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3aW4uSW9uaWMuY29uZmlnKSwgY29uZmlnKTtcbiAgcmV0dXJuIHdpbi5Jb25pYy5jb25maWc7XG59O1xuY29uc3QgZ2V0TW9kZSA9ICgpID0+IHtcbiAgY29uc3Qgd2luID0gd2luZG93O1xuICBjb25zdCBjb25maWcgPSB3aW4gJiYgd2luLklvbmljICYmIHdpbi5Jb25pYy5jb25maWc7XG4gIGlmIChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLm1vZGUpIHtcbiAgICAgIHJldHVybiBjb25maWcubW9kZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gY29uZmlnLmdldCgnbW9kZScpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJ21kJztcbn07XG5cbi8qKlxuICogVGhpcyBpcyBhIHBsdWdpbiBmb3IgU3dpcGVyIHRoYXQgYWxsb3dzIGl0IHRvIHdvcmtcbiAqIHdpdGggSW9uaWMgRnJhbWV3b3JrIGFuZCB0aGUgcm91dGluZyBpbnRlZ3JhdGlvbnMuXG4gKiBXaXRob3V0IHRoaXMgcGx1Z2luLCBTd2lwZXIgd291bGQgYmUgaW5jYXBhYmxlIG9mIGNvcnJlY3RseVxuICogZGV0ZXJtaW5pbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHNsaWRlcyBjb21wb25lbnQgYXNcbiAqIGVhY2ggdmlldyBpcyBpbml0aWFsbHkgaGlkZGVuIGJlZm9yZSB0cmFuc2l0aW9uaW5nIGluLlxuICovXG5jb25zdCBzZXR1cFN3aXBlckluSW9uaWMgPSAoc3dpcGVyLCB3YXRjaEZvcklvblBhZ2VDaGFuZ2VzID0gdHJ1ZSkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc3dpcGVyRWwgPSBzd2lwZXIuZWw7XG4gIGNvbnN0IGlvblBhZ2UgPSBzd2lwZXJFbC5jbG9zZXN0KCcuaW9uLXBhZ2UnKTtcbiAgaWYgKCFpb25QYWdlKSB7XG4gICAgaWYgKHdhdGNoRm9ySW9uUGFnZUNoYW5nZXMpIHtcbiAgICAgIC8qKlxuICAgICAgICogSWYgbm8gaW9uIHBhZ2UgZm91bmQsIGl0IGlzIHBvc3NpYmxlXG4gICAgICAgKiB0aGF0IHdlIGFyZSBpbiB0aGUgb3ZlcmxheSBzZXR1cCBzdGVwXG4gICAgICAgKiB3aGVyZSB0aGUgaW5uZXIgY29tcG9uZW50IGhhcyBiZWVuXG4gICAgICAgKiBjcmVhdGVkIGJ1dCBub3QgYXR0YWNoZWQgdG8gdGhlIERPTSB5ZXQuXG4gICAgICAgKiBJZiBzbywgd2FpdCBmb3IgdGhlIC5pb24tcGFnZSBjbGFzcyB0b1xuICAgICAgICogYXBwZWFyIG9uIHRoZSByb290IGRpdiBhbmQgcmUtcnVuIHNldHVwLlxuICAgICAgICovXG4gICAgICBjb25zdCByb290Tm9kZSA9IHN3aXBlckVsLmdldFJvb3ROb2RlKCk7XG4gICAgICBpZiAocm9vdE5vZGUudGFnTmFtZSA9PT0gJ0RJVicpIHtcbiAgICAgICAgY29uc3QgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG11dGF0aW9uID0gbVswXTtcbiAgICAgICAgICBjb25zdCB3YXNFbXB0eSA9IG11dGF0aW9uLm9sZFZhbHVlID09PSBudWxsO1xuICAgICAgICAgIGNvbnN0IGhhc0lvblBhZ2UgPSByb290Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1wYWdlJyk7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogTm93IHRoYXQgd2UgaGF2ZSBhbiAuaW9uLXBhZ2UgY2xhc3NcbiAgICAgICAgICAgKiB3ZSBjYW4gc2FmZWx5IGF0dGVtcHQgc2V0dXAgYWdhaW4uXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKHdhc0VtcHR5ICYmIGhhc0lvblBhZ2UpIHtcbiAgICAgICAgICAgIG1vLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IGZhbHNlIGhlcmUgc28gd2UgZG8gbm90XG4gICAgICAgICAgICAgKiBnZXQgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc2V0dXBTd2lwZXJJbklvbmljKHN3aXBlciwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1vLm9ic2VydmUocm9vdE5vZGUsIHtcbiAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXSxcbiAgICAgICAgICBhdHRyaWJ1dGVPbGRWYWx1ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qKlxuICAgKiBJZiB1c2luZyBzbGlkZXMgaW4gYSBtb2RhbCBvclxuICAgKiBwb3BvdmVyIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlXG4gICAqIG92ZXJsYXkgdG8gYmUgc2hvd24gYXMgdGhlc2UgY29tcG9uZW50c1xuICAgKiBhcmUgaGlkZGVuIHdoZW4gdGhleSBhcmUgaW5pdGlhbGx5IGNyZWF0ZWQuXG4gICAqL1xuICBjb25zdCBtb2RhbE9yUG9wb3ZlciA9IHN3aXBlckVsLmNsb3Nlc3QoJ2lvbi1tb2RhbCwgaW9uLXBvcG92ZXInKTtcbiAgaWYgKG1vZGFsT3JQb3BvdmVyKSB7XG4gICAgY29uc3QgZXZlbnROYW1lID0gbW9kYWxPclBvcG92ZXIudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgPyAnaW9uTW9kYWxXaWxsUHJlc2VudCcgOiAnaW9uUG9wb3ZlcldpbGxQcmVzZW50JztcbiAgICBjb25zdCBvdmVybGF5Q2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIFdlIG5lZWQgYW4gcmFmIGhlcmUgc28gdGhlIHVwZGF0ZVxuICAgICAgICogaXMgZmlyZWQgb25lIHRpY2sgYWZ0ZXIgdGhlIG92ZXJsYXkgaXMgc2hvd24uXG4gICAgICAgKi9cbiAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgIHN3aXBlckVsLnN3aXBlci51cGRhdGUoKTtcbiAgICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihtb2RhbE9yUG9wb3ZlciwgZXZlbnROYW1lLCBvdmVybGF5Q2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBhZGRFdmVudExpc3RlbmVyKG1vZGFsT3JQb3BvdmVyLCBldmVudE5hbWUsIG92ZXJsYXlDYWxsYmFjayk7XG4gIH1cbiAgZWxzZSB7XG4gICAgLyoqXG4gICAgICogSWYgdXNpbmcgc2xpZGVzIGluIGEgcGFnZVxuICAgICAqIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGlvbi1wYWdlLWludmlzaWJsZVxuICAgICAqIGNsYXNzIHRvIGJlIHJlbW92ZWQgc28gU3dpcGVyIGNhbiBjb3JyZWN0bHlcbiAgICAgKiBjb21wdXRlIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBzbGlkZXMuXG4gICAgICovXG4gICAgY29uc3QgbW8gPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobSkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgbXV0YXRpb24gPSBtWzBdO1xuICAgICAgY29uc3Qgd2FzUGFnZUhpZGRlbiA9IChfYSA9IG11dGF0aW9uLm9sZFZhbHVlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoJ2lvbi1wYWdlLWludmlzaWJsZScpO1xuICAgICAgY29uc3QgaXNQYWdlSGlkZGVuID0gaW9uUGFnZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lvbi1wYWdlLWludmlzaWJsZScpO1xuICAgICAgLyoqXG4gICAgICAgKiBPbmx5IHVwZGF0ZSBTd2lwZXIgaWYgdGhlIHBhZ2Ugd2FzXG4gICAgICAgKiBoaWRkZW4gYnV0IGlzIG5vIGxvbmdlciBoaWRkZW4uXG4gICAgICAgKi9cbiAgICAgIGlmICghaXNQYWdlSGlkZGVuICYmIGlzUGFnZUhpZGRlbiAhPT0gd2FzUGFnZUhpZGRlbikge1xuICAgICAgICBzd2lwZXJFbC5zd2lwZXIudXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbW8ub2JzZXJ2ZShpb25QYWdlLCB7XG4gICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFsnY2xhc3MnXSxcbiAgICAgIGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFdlIGFsc28gbmVlZCB0byBsaXN0ZW4gZm9yIHRoZSBhcHBsb2FkIGV2ZW50XG4gICAqIHdoaWNoIGlzIGVtaXR0ZWQgYnkgU3RlbmNpbCBpbiB0aGVcbiAgICogZXZlbnQgdGhhdCBTd2lwZXIgaXMgYmVpbmcgdXNlZCBvbiB0aGVcbiAgICogdmlldyB0aGF0IGlzIHJlbmRlcmVkIGluaXRpYWxseS5cbiAgICovXG4gIGNvbnN0IG9uQXBwTG9hZCA9ICgpID0+IHtcbiAgICBzd2lwZXJFbC5zd2lwZXIudXBkYXRlKCk7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih3aW5kb3csICdhcHBsb2FkJywgb25BcHBMb2FkKTtcbiAgfTtcbiAgYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdhcHBsb2FkJywgb25BcHBMb2FkKTtcbn07XG5jb25zdCBJb25pY1N3aXBlciA9IHtcbiAgbmFtZTogJ2lvbmljJyxcbiAgb246IHtcbiAgICBhZnRlckluaXQoc3dpcGVyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tEZXByZWNhdGlvbiBXYXJuaW5nXTogVGhlIElvbmljU3dpcGVyIG1vZHVsZSBoYXMgYmVlbiBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBJb25TbGlkZXMgbW9kdWxlLiBUaGlzIGNoYW5nZSB3YXMgbWFkZSB0byBiZXR0ZXIgc3VwcG9ydCB0aGUgU3dpcGVyIDcgcmVsZWFzZS4gVGhlIElvbmljU3dpcGVyIG1vZHVsZSB3aWxsIGJlIHJlbW92ZWQgaW4gSW9uaWMgNy4wLiBTZWUgaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9hcGkvc2xpZGVzI21pZ3JhdGlvbiBmb3IgcmV2aXNlZCBtaWdyYXRpb24gc3RlcHMuJyk7XG4gICAgICBzZXR1cFN3aXBlckluSW9uaWMoc3dpcGVyKTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IElvbmljU2xpZGVzID0gKG9wdHMpID0+IHtcbiAgY29uc3QgeyBzd2lwZXIsIGV4dGVuZFBhcmFtcyB9ID0gb3B0cztcbiAgY29uc3Qgc2xpZGVzUGFyYW1zID0ge1xuICAgIGVmZmVjdDogdW5kZWZpbmVkLFxuICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgIGluaXRpYWxTbGlkZTogMCxcbiAgICBsb29wOiBmYWxzZSxcbiAgICBwYXJhbGxheDogZmFsc2UsXG4gICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgc3BlZWQ6IDMwMCxcbiAgICBzbGlkZXNQZXJDb2x1bW46IDEsXG4gICAgc2xpZGVzUGVyQ29sdW1uRmlsbDogJ2NvbHVtbicsXG4gICAgc2xpZGVzUGVyR3JvdXA6IDEsXG4gICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxuICAgIHNsaWRlc09mZnNldEJlZm9yZTogMCxcbiAgICBzbGlkZXNPZmZzZXRBZnRlcjogMCxcbiAgICB0b3VjaEV2ZW50c1RhcmdldDogJ2NvbnRhaW5lcicsXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgIGZyZWVNb2RlOiBmYWxzZSxcbiAgICBmcmVlTW9kZU1vbWVudHVtOiB0cnVlLFxuICAgIGZyZWVNb2RlTW9tZW50dW1SYXRpbzogMSxcbiAgICBmcmVlTW9kZU1vbWVudHVtQm91bmNlOiB0cnVlLFxuICAgIGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzogMSxcbiAgICBmcmVlTW9kZU1vbWVudHVtVmVsb2NpdHlSYXRpbzogMSxcbiAgICBmcmVlTW9kZVN0aWNreTogZmFsc2UsXG4gICAgZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6IDAuMDIsXG4gICAgYXV0b0hlaWdodDogZmFsc2UsXG4gICAgc2V0V3JhcHBlclNpemU6IGZhbHNlLFxuICAgIHpvb206IHtcbiAgICAgIG1heFJhdGlvOiAzLFxuICAgICAgbWluUmF0aW86IDEsXG4gICAgICB0b2dnbGU6IGZhbHNlLFxuICAgIH0sXG4gICAgdG91Y2hSYXRpbzogMSxcbiAgICB0b3VjaEFuZ2xlOiA0NSxcbiAgICBzaW11bGF0ZVRvdWNoOiB0cnVlLFxuICAgIHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDogZmFsc2UsXG4gICAgc2hvcnRTd2lwZXM6IHRydWUsXG4gICAgbG9uZ1N3aXBlczogdHJ1ZSxcbiAgICBsb25nU3dpcGVzUmF0aW86IDAuNSxcbiAgICBsb25nU3dpcGVzTXM6IDMwMCxcbiAgICBmb2xsb3dGaW5nZXI6IHRydWUsXG4gICAgdGhyZXNob2xkOiAwLFxuICAgIHRvdWNoTW92ZVN0b3BQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiBmYWxzZSxcbiAgICBpT1NFZGdlU3dpcGVEZXRlY3Rpb246IGZhbHNlLFxuICAgIGlPU0VkZ2VTd2lwZVRocmVzaG9sZDogMjAsXG4gICAgcmVzaXN0YW5jZTogdHJ1ZSxcbiAgICByZXNpc3RhbmNlUmF0aW86IDAuODUsXG4gICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogZmFsc2UsXG4gICAgd2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiBmYWxzZSxcbiAgICBwcmV2ZW50Q2xpY2tzOiB0cnVlLFxuICAgIHByZXZlbnRDbGlja3NQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmYWxzZSxcbiAgICBsb29wQWRkaXRpb25hbFNsaWRlczogMCxcbiAgICBub1N3aXBpbmc6IHRydWUsXG4gICAgcnVuQ2FsbGJhY2tzT25Jbml0OiB0cnVlLFxuICAgIGNvdmVyZmxvd0VmZmVjdDoge1xuICAgICAgcm90YXRlOiA1MCxcbiAgICAgIHN0cmV0Y2g6IDAsXG4gICAgICBkZXB0aDogMTAwLFxuICAgICAgbW9kaWZpZXI6IDEsXG4gICAgICBzbGlkZVNoYWRvd3M6IHRydWVcbiAgICB9LFxuICAgIGZsaXBFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIGxpbWl0Um90YXRpb246IHRydWVcbiAgICB9LFxuICAgIGN1YmVFZmZlY3Q6IHtcbiAgICAgIHNsaWRlU2hhZG93czogdHJ1ZSxcbiAgICAgIHNoYWRvdzogdHJ1ZSxcbiAgICAgIHNoYWRvd09mZnNldDogMjAsXG4gICAgICBzaGFkb3dTY2FsZTogMC45NFxuICAgIH0sXG4gICAgZmFkZUVmZmVjdDoge1xuICAgICAgY3Jvc3NGYWRlOiBmYWxzZVxuICAgIH0sXG4gICAgYTExeToge1xuICAgICAgcHJldlNsaWRlTWVzc2FnZTogJ1ByZXZpb3VzIHNsaWRlJyxcbiAgICAgIG5leHRTbGlkZU1lc3NhZ2U6ICdOZXh0IHNsaWRlJyxcbiAgICAgIGZpcnN0U2xpZGVNZXNzYWdlOiAnVGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUnLFxuICAgICAgbGFzdFNsaWRlTWVzc2FnZTogJ1RoaXMgaXMgdGhlIGxhc3Qgc2xpZGUnXG4gICAgfVxuICB9O1xuICBpZiAoc3dpcGVyLnBhZ2luYXRpb24pIHtcbiAgICBzbGlkZXNQYXJhbXMucGFnaW5hdGlvbiA9IHtcbiAgICAgIHR5cGU6ICdidWxsZXRzJyxcbiAgICAgIGNsaWNrYWJsZTogZmFsc2UsXG4gICAgICBoaWRlT25DbGljazogZmFsc2UsXG4gICAgfTtcbiAgfVxuICBpZiAoc3dpcGVyLnNjcm9sbGJhcikge1xuICAgIHNsaWRlc1BhcmFtcy5zY3JvbGxiYXIgPSB7XG4gICAgICBoaWRlOiB0cnVlXG4gICAgfTtcbiAgfVxuICBleHRlbmRQYXJhbXMoc2xpZGVzUGFyYW1zKTtcbn07XG5cbmV4cG9ydCB7IElvbmljU2xpZGVzLCBJb25pY1N3aXBlciwgZ2V0TW9kZSwgc2V0dXBDb25maWcgfTtcbiIsIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBzIGFzIHNldFBsYXRmb3JtSGVscGVycywgZyBhcyBnZXRNb2RlLCBhIGFzIHNldE1vZGUgfSBmcm9tICcuL2luZGV4LTA2Y2QyN2IxLmpzJztcblxuY2xhc3MgQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tID0gbmV3IE1hcCgpO1xuICB9XG4gIHJlc2V0KGNvbmZpZ09iaikge1xuICAgIHRoaXMubSA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoY29uZmlnT2JqKSk7XG4gIH1cbiAgZ2V0KGtleSwgZmFsbGJhY2spIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMubS5nZXQoa2V5KTtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogZmFsbGJhY2s7XG4gIH1cbiAgZ2V0Qm9vbGVhbihrZXksIGZhbGxiYWNrID0gZmFsc2UpIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLm0uZ2V0KGtleSk7XG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHZhbCA9PT0gJ3RydWUnO1xuICAgIH1cbiAgICByZXR1cm4gISF2YWw7XG4gIH1cbiAgZ2V0TnVtYmVyKGtleSwgZmFsbGJhY2spIHtcbiAgICBjb25zdCB2YWwgPSBwYXJzZUZsb2F0KHRoaXMubS5nZXQoa2V5KSk7XG4gICAgcmV0dXJuIGlzTmFOKHZhbCkgPyAoZmFsbGJhY2sgIT09IHVuZGVmaW5lZCA/IGZhbGxiYWNrIDogTmFOKSA6IHZhbDtcbiAgfVxuICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgIHRoaXMubS5zZXQoa2V5LCB2YWx1ZSk7XG4gIH1cbn1cbmNvbnN0IGNvbmZpZyA9IC8qQF9fUFVSRV9fKi8gbmV3IENvbmZpZygpO1xuY29uc3QgY29uZmlnRnJvbVNlc3Npb24gPSAod2luKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29uZmlnU3RyID0gd2luLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oSU9OSUNfU0VTU0lPTl9LRVkpO1xuICAgIHJldHVybiBjb25maWdTdHIgIT09IG51bGwgPyBKU09OLnBhcnNlKGNvbmZpZ1N0cikgOiB7fTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxufTtcbmNvbnN0IHNhdmVDb25maWcgPSAod2luLCBjKSA9PiB7XG4gIHRyeSB7XG4gICAgd2luLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oSU9OSUNfU0VTU0lPTl9LRVksIEpTT04uc3RyaW5naWZ5KGMpKTtcbiAgfVxuICBjYXRjaCAoZSkge1xuICAgIHJldHVybjtcbiAgfVxufTtcbmNvbnN0IGNvbmZpZ0Zyb21VUkwgPSAod2luKSA9PiB7XG4gIGNvbnN0IGNvbmZpZ09iaiA9IHt9O1xuICB3aW4ubG9jYXRpb24uc2VhcmNoXG4gICAgLnNsaWNlKDEpXG4gICAgLnNwbGl0KCcmJylcbiAgICAubWFwKGVudHJ5ID0+IGVudHJ5LnNwbGl0KCc9JykpXG4gICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbZGVjb2RlVVJJQ29tcG9uZW50KGtleSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSldKVxuICAgIC5maWx0ZXIoKFtrZXldKSA9PiBzdGFydHNXaXRoKGtleSwgSU9OSUNfUFJFRklYKSlcbiAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXkuc2xpY2UoSU9OSUNfUFJFRklYLmxlbmd0aCksIHZhbHVlXSlcbiAgICAuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgY29uZmlnT2JqW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBjb25maWdPYmo7XG59O1xuY29uc3Qgc3RhcnRzV2l0aCA9IChpbnB1dCwgc2VhcmNoKSA9PiB7XG4gIHJldHVybiBpbnB1dC5zdWJzdHIoMCwgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDtcbn07XG5jb25zdCBJT05JQ19QUkVGSVggPSAnaW9uaWM6JztcbmNvbnN0IElPTklDX1NFU1NJT05fS0VZID0gJ2lvbmljLXBlcnNpc3QtY29uZmlnJztcblxuY29uc3QgZ2V0UGxhdGZvcm1zID0gKHdpbikgPT4gc2V0dXBQbGF0Zm9ybXMod2luKTtcbmNvbnN0IGlzUGxhdGZvcm0gPSAod2luT3JQbGF0Zm9ybSwgcGxhdGZvcm0pID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5PclBsYXRmb3JtID09PSAnc3RyaW5nJykge1xuICAgIHBsYXRmb3JtID0gd2luT3JQbGF0Zm9ybTtcbiAgICB3aW5PclBsYXRmb3JtID0gdW5kZWZpbmVkO1xuICB9XG4gIHJldHVybiBnZXRQbGF0Zm9ybXMod2luT3JQbGF0Zm9ybSkuaW5jbHVkZXMocGxhdGZvcm0pO1xufTtcbmNvbnN0IHNldHVwUGxhdGZvcm1zID0gKHdpbiA9IHdpbmRvdykgPT4ge1xuICBpZiAodHlwZW9mIHdpbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgd2luLklvbmljID0gd2luLklvbmljIHx8IHt9O1xuICBsZXQgcGxhdGZvcm1zID0gd2luLklvbmljLnBsYXRmb3JtcztcbiAgaWYgKHBsYXRmb3JtcyA9PSBudWxsKSB7XG4gICAgcGxhdGZvcm1zID0gd2luLklvbmljLnBsYXRmb3JtcyA9IGRldGVjdFBsYXRmb3Jtcyh3aW4pO1xuICAgIHBsYXRmb3Jtcy5mb3JFYWNoKHAgPT4gd2luLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKGBwbHQtJHtwfWApKTtcbiAgfVxuICByZXR1cm4gcGxhdGZvcm1zO1xufTtcbmNvbnN0IGRldGVjdFBsYXRmb3JtcyA9ICh3aW4pID0+IHtcbiAgY29uc3QgY3VzdG9tUGxhdGZvcm1NZXRob2RzID0gY29uZmlnLmdldCgncGxhdGZvcm0nKTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKFBMQVRGT1JNU19NQVApLmZpbHRlcihwID0+IHtcbiAgICBjb25zdCBjdXN0b21NZXRob2QgPSBjdXN0b21QbGF0Zm9ybU1ldGhvZHMgJiYgY3VzdG9tUGxhdGZvcm1NZXRob2RzW3BdO1xuICAgIHJldHVybiB0eXBlb2YgY3VzdG9tTWV0aG9kID09PSAnZnVuY3Rpb24nID8gY3VzdG9tTWV0aG9kKHdpbikgOiBQTEFURk9STVNfTUFQW3BdKHdpbik7XG4gIH0pO1xufTtcbmNvbnN0IGlzTW9iaWxlV2ViID0gKHdpbikgPT4gaXNNb2JpbGUod2luKSAmJiAhaXNIeWJyaWQod2luKTtcbmNvbnN0IGlzSXBhZCA9ICh3aW4pID0+IHtcbiAgLy8gaU9TIDEyIGFuZCBiZWxvd1xuICBpZiAodGVzdFVzZXJBZ2VudCh3aW4sIC9pUGFkL2kpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gaU9TIDEzK1xuICBpZiAodGVzdFVzZXJBZ2VudCh3aW4sIC9NYWNpbnRvc2gvaSkgJiYgaXNNb2JpbGUod2luKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBpc0lwaG9uZSA9ICh3aW4pID0+IHRlc3RVc2VyQWdlbnQod2luLCAvaVBob25lL2kpO1xuY29uc3QgaXNJT1MgPSAod2luKSA9PiB0ZXN0VXNlckFnZW50KHdpbiwgL2lQaG9uZXxpUG9kL2kpIHx8IGlzSXBhZCh3aW4pO1xuY29uc3QgaXNBbmRyb2lkID0gKHdpbikgPT4gdGVzdFVzZXJBZ2VudCh3aW4sIC9hbmRyb2lkfHNpbmsvaSk7XG5jb25zdCBpc0FuZHJvaWRUYWJsZXQgPSAod2luKSA9PiB7XG4gIHJldHVybiBpc0FuZHJvaWQod2luKSAmJiAhdGVzdFVzZXJBZ2VudCh3aW4sIC9tb2JpbGUvaSk7XG59O1xuY29uc3QgaXNQaGFibGV0ID0gKHdpbikgPT4ge1xuICBjb25zdCB3aWR0aCA9IHdpbi5pbm5lcldpZHRoO1xuICBjb25zdCBoZWlnaHQgPSB3aW4uaW5uZXJIZWlnaHQ7XG4gIGNvbnN0IHNtYWxsZXN0ID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCk7XG4gIGNvbnN0IGxhcmdlc3QgPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KTtcbiAgcmV0dXJuIChzbWFsbGVzdCA+IDM5MCAmJiBzbWFsbGVzdCA8IDUyMCkgJiZcbiAgICAobGFyZ2VzdCA+IDYyMCAmJiBsYXJnZXN0IDwgODAwKTtcbn07XG5jb25zdCBpc1RhYmxldCA9ICh3aW4pID0+IHtcbiAgY29uc3Qgd2lkdGggPSB3aW4uaW5uZXJXaWR0aDtcbiAgY29uc3QgaGVpZ2h0ID0gd2luLmlubmVySGVpZ2h0O1xuICBjb25zdCBzbWFsbGVzdCA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpO1xuICBjb25zdCBsYXJnZXN0ID0gTWF0aC5tYXgod2lkdGgsIGhlaWdodCk7XG4gIHJldHVybiAoaXNJcGFkKHdpbikgfHxcbiAgICBpc0FuZHJvaWRUYWJsZXQod2luKSB8fFxuICAgICgoc21hbGxlc3QgPiA0NjAgJiYgc21hbGxlc3QgPCA4MjApICYmXG4gICAgICAobGFyZ2VzdCA+IDc4MCAmJiBsYXJnZXN0IDwgMTQwMCkpKTtcbn07XG5jb25zdCBpc01vYmlsZSA9ICh3aW4pID0+IG1hdGNoTWVkaWEod2luLCAnKGFueS1wb2ludGVyOmNvYXJzZSknKTtcbmNvbnN0IGlzRGVza3RvcCA9ICh3aW4pID0+ICFpc01vYmlsZSh3aW4pO1xuY29uc3QgaXNIeWJyaWQgPSAod2luKSA9PiBpc0NvcmRvdmEod2luKSB8fCBpc0NhcGFjaXRvck5hdGl2ZSh3aW4pO1xuY29uc3QgaXNDb3Jkb3ZhID0gKHdpbikgPT4gISEod2luWydjb3Jkb3ZhJ10gfHwgd2luWydwaG9uZWdhcCddIHx8IHdpblsnUGhvbmVHYXAnXSk7XG5jb25zdCBpc0NhcGFjaXRvck5hdGl2ZSA9ICh3aW4pID0+IHtcbiAgY29uc3QgY2FwYWNpdG9yID0gd2luWydDYXBhY2l0b3InXTtcbiAgcmV0dXJuICEhKGNhcGFjaXRvciAmJiBjYXBhY2l0b3IuaXNOYXRpdmUpO1xufTtcbmNvbnN0IGlzRWxlY3Ryb24gPSAod2luKSA9PiB0ZXN0VXNlckFnZW50KHdpbiwgL2VsZWN0cm9uL2kpO1xuY29uc3QgaXNQV0EgPSAod2luKSA9PiAhISgod2luLm1hdGNoTWVkaWEgJiYgd2luLm1hdGNoTWVkaWEoJyhkaXNwbGF5LW1vZGU6IHN0YW5kYWxvbmUpJykubWF0Y2hlcykgfHwgd2luLm5hdmlnYXRvci5zdGFuZGFsb25lKTtcbmNvbnN0IHRlc3RVc2VyQWdlbnQgPSAod2luLCBleHByKSA9PiBleHByLnRlc3Qod2luLm5hdmlnYXRvci51c2VyQWdlbnQpO1xuY29uc3QgbWF0Y2hNZWRpYSA9ICh3aW4sIHF1ZXJ5KSA9PiB3aW4ubWF0Y2hNZWRpYSAmJiB3aW4ubWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcztcbmNvbnN0IFBMQVRGT1JNU19NQVAgPSB7XG4gICdpcGFkJzogaXNJcGFkLFxuICAnaXBob25lJzogaXNJcGhvbmUsXG4gICdpb3MnOiBpc0lPUyxcbiAgJ2FuZHJvaWQnOiBpc0FuZHJvaWQsXG4gICdwaGFibGV0JzogaXNQaGFibGV0LFxuICAndGFibGV0JzogaXNUYWJsZXQsXG4gICdjb3Jkb3ZhJzogaXNDb3Jkb3ZhLFxuICAnY2FwYWNpdG9yJzogaXNDYXBhY2l0b3JOYXRpdmUsXG4gICdlbGVjdHJvbic6IGlzRWxlY3Ryb24sXG4gICdwd2EnOiBpc1BXQSxcbiAgJ21vYmlsZSc6IGlzTW9iaWxlLFxuICAnbW9iaWxld2ViJzogaXNNb2JpbGVXZWIsXG4gICdkZXNrdG9wJzogaXNEZXNrdG9wLFxuICAnaHlicmlkJzogaXNIeWJyaWRcbn07XG5cbmxldCBkZWZhdWx0TW9kZTtcbmNvbnN0IGdldElvbk1vZGUgPSAocmVmKSA9PiB7XG4gIHJldHVybiAocmVmICYmIGdldE1vZGUocmVmKSkgfHwgZGVmYXVsdE1vZGU7XG59O1xuY29uc3QgaW5pdGlhbGl6ZSA9ICh1c2VyQ29uZmlnID0ge30pID0+IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGRvYyA9IHdpbmRvdy5kb2N1bWVudDtcbiAgY29uc3Qgd2luID0gd2luZG93O1xuICBjb25zdCBJb25pYyA9IHdpbi5Jb25pYyA9IHdpbi5Jb25pYyB8fCB7fTtcbiAgY29uc3QgcGxhdGZvcm1IZWxwZXJzID0ge307XG4gIGlmICh1c2VyQ29uZmlnLl9hZWwpIHtcbiAgICBwbGF0Zm9ybUhlbHBlcnMuYWVsID0gdXNlckNvbmZpZy5fYWVsO1xuICB9XG4gIGlmICh1c2VyQ29uZmlnLl9yZWwpIHtcbiAgICBwbGF0Zm9ybUhlbHBlcnMucmVsID0gdXNlckNvbmZpZy5fcmVsO1xuICB9XG4gIGlmICh1c2VyQ29uZmlnLl9jZSkge1xuICAgIHBsYXRmb3JtSGVscGVycy5jZSA9IHVzZXJDb25maWcuX2NlO1xuICB9XG4gIHNldFBsYXRmb3JtSGVscGVycyhwbGF0Zm9ybUhlbHBlcnMpO1xuICAvLyBjcmVhdGUgdGhlIElvbmljLmNvbmZpZyBmcm9tIHJhdyBjb25maWcgb2JqZWN0IChpZiBpdCBleGlzdHMpXG4gIC8vIGFuZCBjb252ZXJ0IElvbmljLmNvbmZpZyBpbnRvIGEgQ29uZmlnQXBpIHRoYXQgaGFzIGEgZ2V0KCkgZm5cbiAgY29uc3QgY29uZmlnT2JqID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb25maWdGcm9tU2Vzc2lvbih3aW4pKSwgeyBwZXJzaXN0Q29uZmlnOiBmYWxzZSB9KSwgSW9uaWMuY29uZmlnKSwgY29uZmlnRnJvbVVSTCh3aW4pKSwgdXNlckNvbmZpZyk7XG4gIGNvbmZpZy5yZXNldChjb25maWdPYmopO1xuICBpZiAoY29uZmlnLmdldEJvb2xlYW4oJ3BlcnNpc3RDb25maWcnKSkge1xuICAgIHNhdmVDb25maWcod2luLCBjb25maWdPYmopO1xuICB9XG4gIC8vIFNldHVwIHBsYXRmb3Jtc1xuICBzZXR1cFBsYXRmb3Jtcyh3aW4pO1xuICAvLyBmaXJzdCBzZWUgaWYgdGhlIG1vZGUgd2FzIHNldCBhcyBhbiBhdHRyaWJ1dGUgb24gPGh0bWw+XG4gIC8vIHdoaWNoIGNvdWxkIGhhdmUgYmVlbiBzZXQgYnkgdGhlIHVzZXIsIG9yIGJ5IHByZS1yZW5kZXJpbmdcbiAgLy8gb3RoZXJ3aXNlIGdldCB0aGUgbW9kZSB2aWEgY29uZmlnIHNldHRpbmdzLCBhbmQgZmFsbGJhY2sgdG8gbWRcbiAgSW9uaWMuY29uZmlnID0gY29uZmlnO1xuICBJb25pYy5tb2RlID0gZGVmYXVsdE1vZGUgPSBjb25maWcuZ2V0KCdtb2RlJywgKGRvYy5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtb2RlJykpIHx8IChpc1BsYXRmb3JtKHdpbiwgJ2lvcycpID8gJ2lvcycgOiAnbWQnKSk7XG4gIGNvbmZpZy5zZXQoJ21vZGUnLCBkZWZhdWx0TW9kZSk7XG4gIGRvYy5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdtb2RlJywgZGVmYXVsdE1vZGUpO1xuICBkb2MuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoZGVmYXVsdE1vZGUpO1xuICBpZiAoY29uZmlnLmdldEJvb2xlYW4oJ190ZXN0aW5nJykpIHtcbiAgICBjb25maWcuc2V0KCdhbmltYXRlZCcsIGZhbHNlKTtcbiAgfVxuICBjb25zdCBpc0lvbmljRWxlbWVudCA9IChlbG0pID0+IGVsbS50YWdOYW1lICYmIGVsbS50YWdOYW1lLnN0YXJ0c1dpdGgoJ0lPTi0nKTtcbiAgY29uc3QgaXNBbGxvd2VkSW9uaWNNb2RlVmFsdWUgPSAoZWxtTW9kZSkgPT4gWydpb3MnLCAnbWQnXS5pbmNsdWRlcyhlbG1Nb2RlKTtcbiAgc2V0TW9kZSgoZWxtKSA9PiB7XG4gICAgd2hpbGUgKGVsbSkge1xuICAgICAgY29uc3QgZWxtTW9kZSA9IGVsbS5tb2RlIHx8IGVsbS5nZXRBdHRyaWJ1dGUoJ21vZGUnKTtcbiAgICAgIGlmIChlbG1Nb2RlKSB7XG4gICAgICAgIGlmIChpc0FsbG93ZWRJb25pY01vZGVWYWx1ZShlbG1Nb2RlKSkge1xuICAgICAgICAgIHJldHVybiBlbG1Nb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSW9uaWNFbGVtZW50KGVsbSkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgaW9uaWMgbW9kZTogXCInICsgZWxtTW9kZSArICdcIiwgZXhwZWN0ZWQ6IFwiaW9zXCIgb3IgXCJtZFwiJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsbSA9IGVsbS5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdE1vZGU7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgaXNQbGF0Zm9ybSBhcyBhLCBnZXRJb25Nb2RlIGFzIGIsIGNvbmZpZyBhcyBjLCBnZXRQbGF0Zm9ybXMgYXMgZywgaW5pdGlhbGl6ZSBhcyBpIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi1jOWMyYTM1OS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldElvblBhZ2VFbGVtZW50IH0gZnJvbSAnLi9pbmRleC1jOGVmNTViNS5qcyc7XG5pbXBvcnQgJy4vaGVscGVycy1lZWQ3OWEyYi5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtMDZjZDI3YjEuanMnO1xuXG5jb25zdCBEVVJBVElPTiA9IDU0MDtcbmNvbnN0IGdldENsb25lZEVsZW1lbnQgPSAodGFnTmFtZSkgPT4ge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgJHt0YWdOYW1lfS5pb24tY2xvbmVkLWVsZW1lbnRgKTtcbn07XG5jb25zdCBzaGFkb3cgPSAoZWwpID0+IHtcbiAgcmV0dXJuIGVsLnNoYWRvd1Jvb3QgfHwgZWw7XG59O1xuY29uc3QgZ2V0TGFyZ2VUaXRsZSA9IChyZWZFbCkgPT4ge1xuICBjb25zdCB0YWJzID0gKHJlZkVsLnRhZ05hbWUgPT09ICdJT04tVEFCUycpID8gcmVmRWwgOiByZWZFbC5xdWVyeVNlbGVjdG9yKCdpb24tdGFicycpO1xuICBjb25zdCBxdWVyeSA9ICdpb24tY29udGVudCBpb24taGVhZGVyOm5vdCguaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlKSBpb24tdGl0bGUudGl0bGUtbGFyZ2UnO1xuICBpZiAodGFicyAhPSBudWxsKSB7XG4gICAgY29uc3QgYWN0aXZlVGFiID0gdGFicy5xdWVyeVNlbGVjdG9yKCdpb24tdGFiOm5vdCgudGFiLWhpZGRlbiksIC5pb24tcGFnZTpub3QoLmlvbi1wYWdlLWhpZGRlbiknKTtcbiAgICByZXR1cm4gKGFjdGl2ZVRhYiAhPSBudWxsKSA/IGFjdGl2ZVRhYi5xdWVyeVNlbGVjdG9yKHF1ZXJ5KSA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlZkVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xufTtcbmNvbnN0IGdldEJhY2tCdXR0b24gPSAocmVmRWwsIGJhY2tEaXJlY3Rpb24pID0+IHtcbiAgY29uc3QgdGFicyA9IChyZWZFbC50YWdOYW1lID09PSAnSU9OLVRBQlMnKSA/IHJlZkVsIDogcmVmRWwucXVlcnlTZWxlY3RvcignaW9uLXRhYnMnKTtcbiAgbGV0IGJ1dHRvbnNMaXN0ID0gW107XG4gIGlmICh0YWJzICE9IG51bGwpIHtcbiAgICBjb25zdCBhY3RpdmVUYWIgPSB0YWJzLnF1ZXJ5U2VsZWN0b3IoJ2lvbi10YWI6bm90KC50YWItaGlkZGVuKSwgLmlvbi1wYWdlOm5vdCguaW9uLXBhZ2UtaGlkZGVuKScpO1xuICAgIGlmIChhY3RpdmVUYWIgIT0gbnVsbCkge1xuICAgICAgYnV0dG9uc0xpc3QgPSBhY3RpdmVUYWIucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMnKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYnV0dG9uc0xpc3QgPSByZWZFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tYnV0dG9ucycpO1xuICB9XG4gIGZvciAoY29uc3QgYnV0dG9ucyBvZiBidXR0b25zTGlzdCkge1xuICAgIGNvbnN0IHBhcmVudEhlYWRlciA9IGJ1dHRvbnMuY2xvc2VzdCgnaW9uLWhlYWRlcicpO1xuICAgIGNvbnN0IGFjdGl2ZUhlYWRlciA9IHBhcmVudEhlYWRlciAmJiAhcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgY29uc3QgYmFja0J1dHRvbiA9IGJ1dHRvbnMucXVlcnlTZWxlY3RvcignaW9uLWJhY2stYnV0dG9uJyk7XG4gICAgY29uc3QgYnV0dG9uc0NvbGxhcHNlID0gYnV0dG9ucy5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKTtcbiAgICBjb25zdCBzdGFydFNsb3QgPSBidXR0b25zLnNsb3QgPT09ICdzdGFydCcgfHwgYnV0dG9ucy5zbG90ID09PSAnJztcbiAgICBpZiAoYmFja0J1dHRvbiAhPT0gbnVsbCAmJiBzdGFydFNsb3QgJiYgKChidXR0b25zQ29sbGFwc2UgJiYgYWN0aXZlSGVhZGVyICYmIGJhY2tEaXJlY3Rpb24pIHx8ICFidXR0b25zQ29sbGFwc2UpKSB7XG4gICAgICByZXR1cm4gYmFja0J1dHRvbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuY29uc3QgY3JlYXRlTGFyZ2VUaXRsZVRyYW5zaXRpb24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0VsLCBsZWF2aW5nRWwpID0+IHtcbiAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uID0gZ2V0QmFja0J1dHRvbihlbnRlcmluZ0VsLCBiYWNrRGlyZWN0aW9uKTtcbiAgY29uc3QgbGVhdmluZ0xhcmdlVGl0bGUgPSBnZXRMYXJnZVRpdGxlKGxlYXZpbmdFbCk7XG4gIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZSA9IGdldExhcmdlVGl0bGUoZW50ZXJpbmdFbCk7XG4gIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uID0gZ2V0QmFja0J1dHRvbihsZWF2aW5nRWwsIGJhY2tEaXJlY3Rpb24pO1xuICBjb25zdCBzaG91bGRBbmltYXRpb25Gb3J3YXJkID0gZW50ZXJpbmdCYWNrQnV0dG9uICE9PSBudWxsICYmIGxlYXZpbmdMYXJnZVRpdGxlICE9PSBudWxsICYmICFiYWNrRGlyZWN0aW9uO1xuICBjb25zdCBzaG91bGRBbmltYXRpb25CYWNrd2FyZCA9IGVudGVyaW5nTGFyZ2VUaXRsZSAhPT0gbnVsbCAmJiBsZWF2aW5nQmFja0J1dHRvbiAhPT0gbnVsbCAmJiBiYWNrRGlyZWN0aW9uO1xuICBpZiAoc2hvdWxkQW5pbWF0aW9uRm9yd2FyZCkge1xuICAgIGNvbnN0IGxlYXZpbmdMYXJnZVRpdGxlQm94ID0gbGVhdmluZ0xhcmdlVGl0bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uQm94ID0gZW50ZXJpbmdCYWNrQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGFuaW1hdGVMYXJnZVRpdGxlKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgbGVhdmluZ0xhcmdlVGl0bGUsIGxlYXZpbmdMYXJnZVRpdGxlQm94LCBlbnRlcmluZ0JhY2tCdXR0b25Cb3gpO1xuICAgIGFuaW1hdGVCYWNrQnV0dG9uKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdCYWNrQnV0dG9uLCBsZWF2aW5nTGFyZ2VUaXRsZUJveCwgZW50ZXJpbmdCYWNrQnV0dG9uQm94KTtcbiAgfVxuICBlbHNlIGlmIChzaG91bGRBbmltYXRpb25CYWNrd2FyZCkge1xuICAgIGNvbnN0IGVudGVyaW5nTGFyZ2VUaXRsZUJveCA9IGVudGVyaW5nTGFyZ2VUaXRsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBsZWF2aW5nQmFja0J1dHRvbkJveCA9IGxlYXZpbmdCYWNrQnV0dG9uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGFuaW1hdGVMYXJnZVRpdGxlKHJvb3RBbmltYXRpb24sIHJ0bCwgYmFja0RpcmVjdGlvbiwgZW50ZXJpbmdMYXJnZVRpdGxlLCBlbnRlcmluZ0xhcmdlVGl0bGVCb3gsIGxlYXZpbmdCYWNrQnV0dG9uQm94KTtcbiAgICBhbmltYXRlQmFja0J1dHRvbihyb290QW5pbWF0aW9uLCBydGwsIGJhY2tEaXJlY3Rpb24sIGxlYXZpbmdCYWNrQnV0dG9uLCBlbnRlcmluZ0xhcmdlVGl0bGVCb3gsIGxlYXZpbmdCYWNrQnV0dG9uQm94KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGZvcndhcmQ6IHNob3VsZEFuaW1hdGlvbkZvcndhcmQsXG4gICAgYmFja3dhcmQ6IHNob3VsZEFuaW1hdGlvbkJhY2t3YXJkXG4gIH07XG59O1xuY29uc3QgYW5pbWF0ZUJhY2tCdXR0b24gPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBiYWNrQnV0dG9uRWwsIGxhcmdlVGl0bGVCb3gsIGJhY2tCdXR0b25Cb3gpID0+IHtcbiAgY29uc3QgQkFDS19CVVRUT05fU1RBUlRfT0ZGU0VUID0gKHJ0bCkgPyBgY2FsYygxMDAlIC0gJHtiYWNrQnV0dG9uQm94LnJpZ2h0ICsgNH1weClgIDogYCR7YmFja0J1dHRvbkJveC5sZWZ0IC0gNH1weGA7XG4gIGNvbnN0IFNUQVJUX1RFWFRfVFJBTlNMQVRFID0gKHJ0bCkgPyAnN3B4JyA6ICctN3B4JztcbiAgY29uc3QgRU5EX1RFWFRfVFJBTlNMQVRFID0gKHJ0bCkgPyAnLTRweCcgOiAnNHB4JztcbiAgY29uc3QgSUNPTl9UUkFOU0xBVEUgPSAocnRsKSA/ICctNHB4JyA6ICc0cHgnO1xuICBjb25zdCBURVhUX09SSUdJTl9YID0gKHJ0bCkgPyAncmlnaHQnIDogJ2xlZnQnO1xuICBjb25zdCBJQ09OX09SSUdJTl9YID0gKHJ0bCkgPyAnbGVmdCcgOiAncmlnaHQnO1xuICBjb25zdCBGT1JXQVJEX1RFWFRfS0VZRlJBTUVTID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke1NUQVJUX1RFWFRfVFJBTlNMQVRFfSwgJHtsYXJnZVRpdGxlQm94LnRvcCAtIDQwfXB4LCAwKSBzY2FsZSgyLjEpYCB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0VORF9URVhUX1RSQU5TTEFURX0sICR7YmFja0J1dHRvbkJveC50b3AgLSA0Nn1weCwgMCkgc2NhbGUoMSlgIH1cbiAgXTtcbiAgY29uc3QgQkFDS1dBUkRfVEVYVF9LRVlGUkFNRVMgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7RU5EX1RFWFRfVFJBTlNMQVRFfSwgJHtiYWNrQnV0dG9uQm94LnRvcCAtIDQ2fXB4LCAwKSBzY2FsZSgxKWAgfSxcbiAgICB7IG9mZnNldDogMC42LCBvcGFjaXR5OiAwIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7U1RBUlRfVEVYVF9UUkFOU0xBVEV9LCAke2xhcmdlVGl0bGVCb3gudG9wIC0gNDB9cHgsIDApIHNjYWxlKDIuMSlgIH1cbiAgXTtcbiAgY29uc3QgVEVYVF9LRVlGUkFNRVMgPSAoYmFja0RpcmVjdGlvbikgPyBCQUNLV0FSRF9URVhUX0tFWUZSQU1FUyA6IEZPUldBUkRfVEVYVF9LRVlGUkFNRVM7XG4gIGNvbnN0IEZPUldBUkRfSUNPTl9LRVlGUkFNRVMgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7SUNPTl9UUkFOU0xBVEV9LCAke2JhY2tCdXR0b25Cb3gudG9wIC0gNDF9cHgsIDApIHNjYWxlKDAuNilgIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7SUNPTl9UUkFOU0xBVEV9LCAke2JhY2tCdXR0b25Cb3gudG9wIC0gNDZ9cHgsIDApIHNjYWxlKDEpYCB9XG4gIF07XG4gIGNvbnN0IEJBQ0tXQVJEX0lDT05fS0VZRlJBTUVTID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0lDT05fVFJBTlNMQVRFfSwgJHtiYWNrQnV0dG9uQm94LnRvcCAtIDQ2fXB4LCAwKSBzY2FsZSgxKWAgfSxcbiAgICB7IG9mZnNldDogMC4yLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0lDT05fVFJBTlNMQVRFfSwgJHtiYWNrQnV0dG9uQm94LnRvcCAtIDQxfXB4LCAwKSBzY2FsZSgwLjYpYCB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke0lDT05fVFJBTlNMQVRFfSwgJHtiYWNrQnV0dG9uQm94LnRvcCAtIDQxfXB4LCAwKSBzY2FsZSgwLjYpYCB9XG4gIF07XG4gIGNvbnN0IElDT05fS0VZRlJBTUVTID0gKGJhY2tEaXJlY3Rpb24pID8gQkFDS1dBUkRfSUNPTl9LRVlGUkFNRVMgOiBGT1JXQVJEX0lDT05fS0VZRlJBTUVTO1xuICBjb25zdCBlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGVudGVyaW5nQmFja0J1dHRvbkljb25BbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgY2xvbmVkQmFja0J1dHRvbkVsID0gZ2V0Q2xvbmVkRWxlbWVudCgnaW9uLWJhY2stYnV0dG9uJyk7XG4gIGNvbnN0IGJhY2tCdXR0b25UZXh0RWwgPSBzaGFkb3coY2xvbmVkQmFja0J1dHRvbkVsKS5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLXRleHQnKTtcbiAgY29uc3QgYmFja0J1dHRvbkljb25FbCA9IHNoYWRvdyhjbG9uZWRCYWNrQnV0dG9uRWwpLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1pY29uJyk7XG4gIGNsb25lZEJhY2tCdXR0b25FbC50ZXh0ID0gYmFja0J1dHRvbkVsLnRleHQ7XG4gIGNsb25lZEJhY2tCdXR0b25FbC5tb2RlID0gYmFja0J1dHRvbkVsLm1vZGU7XG4gIGNsb25lZEJhY2tCdXR0b25FbC5pY29uID0gYmFja0J1dHRvbkVsLmljb247XG4gIGNsb25lZEJhY2tCdXR0b25FbC5jb2xvciA9IGJhY2tCdXR0b25FbC5jb2xvcjtcbiAgY2xvbmVkQmFja0J1dHRvbkVsLmRpc2FibGVkID0gYmFja0J1dHRvbkVsLmRpc2FibGVkO1xuICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgY2xvbmVkQmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdwb3NpdGlvbicsICdmaXhlZCcpO1xuICBlbnRlcmluZ0JhY2tCdXR0b25JY29uQW5pbWF0aW9uLmFkZEVsZW1lbnQoYmFja0J1dHRvbkljb25FbCk7XG4gIGVudGVyaW5nQmFja0J1dHRvblRleHRBbmltYXRpb24uYWRkRWxlbWVudChiYWNrQnV0dG9uVGV4dEVsKTtcbiAgZW50ZXJpbmdCYWNrQnV0dG9uVGV4dEFuaW1hdGlvblxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogYCR7VEVYVF9PUklHSU5fWH0gY2VudGVyYFxuICB9KVxuICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgYmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICBjbG9uZWRCYWNrQnV0dG9uRWwuc3R5bGUuc2V0UHJvcGVydHkoVEVYVF9PUklHSU5fWCwgQkFDS19CVVRUT05fU1RBUlRfT0ZGU0VUKTtcbiAgfSlcbiAgICAuYWZ0ZXJBZGRXcml0ZSgoKSA9PiB7XG4gICAgYmFja0J1dHRvbkVsLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJycpO1xuICAgIGNsb25lZEJhY2tCdXR0b25FbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgY2xvbmVkQmFja0J1dHRvbkVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KFRFWFRfT1JJR0lOX1gpO1xuICB9KVxuICAgIC5rZXlmcmFtZXMoVEVYVF9LRVlGUkFNRVMpO1xuICBlbnRlcmluZ0JhY2tCdXR0b25JY29uQW5pbWF0aW9uXG4gICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtJQ09OX09SSUdJTl9YfSBjZW50ZXJgXG4gIH0pXG4gICAgLmtleWZyYW1lcyhJQ09OX0tFWUZSQU1FUyk7XG4gIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKFtlbnRlcmluZ0JhY2tCdXR0b25UZXh0QW5pbWF0aW9uLCBlbnRlcmluZ0JhY2tCdXR0b25JY29uQW5pbWF0aW9uXSk7XG59O1xuY29uc3QgYW5pbWF0ZUxhcmdlVGl0bGUgPSAocm9vdEFuaW1hdGlvbiwgcnRsLCBiYWNrRGlyZWN0aW9uLCBsYXJnZVRpdGxlRWwsIGxhcmdlVGl0bGVCb3gsIGJhY2tCdXR0b25Cb3gpID0+IHtcbiAgY29uc3QgVElUTEVfU1RBUlRfT0ZGU0VUID0gKHJ0bCkgPyBgY2FsYygxMDAlIC0gJHtsYXJnZVRpdGxlQm94LnJpZ2h0fXB4KWAgOiBgJHtsYXJnZVRpdGxlQm94LmxlZnR9cHhgO1xuICBjb25zdCBTVEFSVF9UUkFOU0xBVEUgPSAocnRsKSA/ICctMThweCcgOiAnMThweCc7XG4gIGNvbnN0IE9SSUdJTl9YID0gKHJ0bCkgPyAncmlnaHQnIDogJ2xlZnQnO1xuICBjb25zdCBCQUNLV0FSRFNfS0VZRlJBTUVTID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGUzZCgke1NUQVJUX1RSQU5TTEFURX0sICR7YmFja0J1dHRvbkJveC50b3AgLSA0fXB4LCAwKSBzY2FsZSgwLjQ5KWAgfSxcbiAgICB7IG9mZnNldDogMC4xLCBvcGFjaXR5OiAwIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKDAsICR7bGFyZ2VUaXRsZUJveC50b3AgLSAyfXB4LCAwKSBzY2FsZSgxKWAgfVxuICBdO1xuICBjb25zdCBGT1JXQVJEU19LRVlGUkFNRVMgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuOTksIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKDAsICR7bGFyZ2VUaXRsZUJveC50b3AgLSAyfXB4LCAwKSBzY2FsZSgxKWAgfSxcbiAgICB7IG9mZnNldDogMC42LCBvcGFjaXR5OiAwIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZTNkKCR7U1RBUlRfVFJBTlNMQVRFfSwgJHtiYWNrQnV0dG9uQm94LnRvcCAtIDR9cHgsIDApIHNjYWxlKDAuNSlgIH1cbiAgXTtcbiAgY29uc3QgS0VZRlJBTUVTID0gKGJhY2tEaXJlY3Rpb24pID8gQkFDS1dBUkRTX0tFWUZSQU1FUyA6IEZPUldBUkRTX0tFWUZSQU1FUztcbiAgY29uc3QgY2xvbmVkVGl0bGVFbCA9IGdldENsb25lZEVsZW1lbnQoJ2lvbi10aXRsZScpO1xuICBjb25zdCBjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNsb25lZFRpdGxlRWwuaW5uZXJUZXh0ID0gbGFyZ2VUaXRsZUVsLmlubmVyVGV4dDtcbiAgY2xvbmVkVGl0bGVFbC5zaXplID0gbGFyZ2VUaXRsZUVsLnNpemU7XG4gIGNsb25lZFRpdGxlRWwuY29sb3IgPSBsYXJnZVRpdGxlRWwuY29sb3I7XG4gIGNsb25lZExhcmdlVGl0bGVBbmltYXRpb24uYWRkRWxlbWVudChjbG9uZWRUaXRsZUVsKTtcbiAgY2xvbmVkTGFyZ2VUaXRsZUFuaW1hdGlvblxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogYCR7T1JJR0lOX1h9IGNlbnRlcmAsXG4gICAgJ2hlaWdodCc6ICc0NnB4JyxcbiAgICAnZGlzcGxheSc6ICcnLFxuICAgICdwb3NpdGlvbic6ICdyZWxhdGl2ZScsXG4gICAgW09SSUdJTl9YXTogVElUTEVfU1RBUlRfT0ZGU0VUXG4gIH0pXG4gICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IHtcbiAgICBsYXJnZVRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICB9KVxuICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICBsYXJnZVRpdGxlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnJyk7XG4gICAgY2xvbmVkVGl0bGVFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gIH0pXG4gICAgLmtleWZyYW1lcyhLRVlGUkFNRVMpO1xuICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihjbG9uZWRMYXJnZVRpdGxlQW5pbWF0aW9uKTtcbn07XG5jb25zdCBpb3NUcmFuc2l0aW9uQW5pbWF0aW9uID0gKG5hdkVsLCBvcHRzKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgRUFTSU5HID0gJ2N1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKSc7XG4gICAgY29uc3QgT1BBQ0lUWSA9ICdvcGFjaXR5JztcbiAgICBjb25zdCBUUkFOU0ZPUk0gPSAndHJhbnNmb3JtJztcbiAgICBjb25zdCBDRU5URVIgPSAnMCUnO1xuICAgIGNvbnN0IE9GRl9PUEFDSVRZID0gMC44O1xuICAgIGNvbnN0IGlzUlRMID0gbmF2RWwub3duZXJEb2N1bWVudC5kaXIgPT09ICdydGwnO1xuICAgIGNvbnN0IE9GRl9SSUdIVCA9IGlzUlRMID8gJy05OS41JScgOiAnOTkuNSUnO1xuICAgIGNvbnN0IE9GRl9MRUZUID0gaXNSVEwgPyAnMzMlJyA6ICctMzMlJztcbiAgICBjb25zdCBlbnRlcmluZ0VsID0gb3B0cy5lbnRlcmluZ0VsO1xuICAgIGNvbnN0IGxlYXZpbmdFbCA9IG9wdHMubGVhdmluZ0VsO1xuICAgIGNvbnN0IGJhY2tEaXJlY3Rpb24gPSAob3B0cy5kaXJlY3Rpb24gPT09ICdiYWNrJyk7XG4gICAgY29uc3QgY29udGVudEVsID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiBpb24tY29udGVudCcpO1xuICAgIGNvbnN0IGhlYWRlckVscyA9IGVudGVyaW5nRWwucXVlcnlTZWxlY3RvckFsbCgnOnNjb3BlID4gaW9uLWhlYWRlciA+ICo6bm90KGlvbi10b29sYmFyKSwgOnNjb3BlID4gaW9uLWZvb3RlciA+IConKTtcbiAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJFbHMgPSBlbnRlcmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiBpb24tdG9vbGJhcicpO1xuICAgIGNvbnN0IHJvb3RBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICByb290QW5pbWF0aW9uXG4gICAgICAuYWRkRWxlbWVudChlbnRlcmluZ0VsKVxuICAgICAgLmR1cmF0aW9uKG9wdHMuZHVyYXRpb24gfHwgRFVSQVRJT04pXG4gICAgICAuZWFzaW5nKG9wdHMuZWFzaW5nIHx8IEVBU0lORylcbiAgICAgIC5maWxsKCdib3RoJylcbiAgICAgIC5iZWZvcmVSZW1vdmVDbGFzcygnaW9uLXBhZ2UtaW52aXNpYmxlJyk7XG4gICAgaWYgKGxlYXZpbmdFbCAmJiBuYXZFbCkge1xuICAgICAgY29uc3QgbmF2RGVjb3JBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgIG5hdkRlY29yQW5pbWF0aW9uLmFkZEVsZW1lbnQobmF2RWwpO1xuICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obmF2RGVjb3JBbmltYXRpb24pO1xuICAgIH1cbiAgICBpZiAoIWNvbnRlbnRFbCAmJiBlbnRlcmluZ1Rvb2xCYXJFbHMubGVuZ3RoID09PSAwICYmIGhlYWRlckVscy5sZW5ndGggPT09IDApIHtcbiAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvbi5hZGRFbGVtZW50KGVudGVyaW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gLmlvbi1wYWdlLCA6c2NvcGUgPiBpb24tbmF2LCA6c2NvcGUgPiBpb24tdGFicycpKTsgLy8gUkVWSUVXXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZW50ZXJpbmdDb250ZW50QW5pbWF0aW9uLmFkZEVsZW1lbnQoY29udGVudEVsKTsgLy8gUkVWSUVXXG4gICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24uYWRkRWxlbWVudChoZWFkZXJFbHMpO1xuICAgIH1cbiAgICByb290QW5pbWF0aW9uLmFkZEFuaW1hdGlvbihlbnRlcmluZ0NvbnRlbnRBbmltYXRpb24pO1xuICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb25cbiAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYCwgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWApXG4gICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgT0ZGX09QQUNJVFksIDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIGVudGVyaW5nIGNvbnRlbnQsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICBlbnRlcmluZ0NvbnRlbnRBbmltYXRpb25cbiAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfUklHSFR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKTtcbiAgICB9XG4gICAgaWYgKGNvbnRlbnRFbCkge1xuICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwgPSBzaGFkb3coY29udGVudEVsKS5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1lZmZlY3QnKTtcbiAgICAgIGlmIChlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbCkge1xuICAgICAgICBjb25zdCBlbnRlcmluZ1RyYW5zaXRpb25Db3ZlckVsID0gZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0RWwucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tY292ZXInKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93RWwgPSBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbC5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1zaGFkb3cnKTtcbiAgICAgICAgY29uc3QgZW50ZXJpbmdUcmFuc2l0aW9uRWZmZWN0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IGVudGVyaW5nVHJhbnNpdGlvblNoYWRvdyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RcbiAgICAgICAgICAuYWRkRWxlbWVudChlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3RFbClcbiAgICAgICAgICAuYmVmb3JlU3R5bGVzKHsgb3BhY2l0eTogJzEnLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgICAgLmFmdGVyU3R5bGVzKHsgb3BhY2l0eTogJycsIGRpc3BsYXk6ICcnIH0pO1xuICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25Db3ZlclxuICAgICAgICAgIC5hZGRFbGVtZW50KGVudGVyaW5nVHJhbnNpdGlvbkNvdmVyRWwpIC8vIFJFVklFV1xuICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLCAwLjEpO1xuICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3dcbiAgICAgICAgICAuYWRkRWxlbWVudChlbnRlcmluZ1RyYW5zaXRpb25TaGFkb3dFbCkgLy8gUkVWSUVXXG4gICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMDMsIDAuNzApO1xuICAgICAgICBlbnRlcmluZ1RyYW5zaXRpb25FZmZlY3QuYWRkQW5pbWF0aW9uKFtlbnRlcmluZ1RyYW5zaXRpb25Db3ZlciwgZW50ZXJpbmdUcmFuc2l0aW9uU2hhZG93XSk7XG4gICAgICAgIGVudGVyaW5nQ29udGVudEFuaW1hdGlvbi5hZGRBbmltYXRpb24oW2VudGVyaW5nVHJhbnNpdGlvbkVmZmVjdF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlID0gZW50ZXJpbmdFbC5xdWVyeVNlbGVjdG9yKCdpb24taGVhZGVyLmhlYWRlci1jb2xsYXBzZS1jb25kZW5zZScpO1xuICAgIGNvbnN0IHsgZm9yd2FyZCwgYmFja3dhcmQgfSA9IGNyZWF0ZUxhcmdlVGl0bGVUcmFuc2l0aW9uKHJvb3RBbmltYXRpb24sIGlzUlRMLCBiYWNrRGlyZWN0aW9uLCBlbnRlcmluZ0VsLCBsZWF2aW5nRWwpO1xuICAgIGVudGVyaW5nVG9vbEJhckVscy5mb3JFYWNoKGVudGVyaW5nVG9vbEJhckVsID0+IHtcbiAgICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhciA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgZW50ZXJpbmdUb29sQmFyLmFkZEVsZW1lbnQoZW50ZXJpbmdUb29sQmFyRWwpO1xuICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24oZW50ZXJpbmdUb29sQmFyKTtcbiAgICAgIGNvbnN0IGVudGVyaW5nVGl0bGUgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgIGVudGVyaW5nVGl0bGUuYWRkRWxlbWVudChlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tdGl0bGUnKSk7IC8vIFJFVklFV1xuICAgICAgY29uc3QgZW50ZXJpbmdUb29sQmFyQnV0dG9ucyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgY29uc3QgYnV0dG9ucyA9IEFycmF5LmZyb20oZW50ZXJpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLWJ1dHRvbnMsW21lbnVUb2dnbGVdJykpO1xuICAgICAgY29uc3QgcGFyZW50SGVhZGVyID0gZW50ZXJpbmdUb29sQmFyRWwuY2xvc2VzdCgnaW9uLWhlYWRlcicpO1xuICAgICAgY29uc3QgaW5hY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgJiYgcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICBsZXQgYnV0dG9uc1RvQW5pbWF0ZTtcbiAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgIGJ1dHRvbnNUb0FuaW1hdGUgPSBidXR0b25zLmZpbHRlcihidXR0b24gPT4ge1xuICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VCdXR0b24gPSBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b25zLWNvbGxhcHNlJyk7XG4gICAgICAgICAgcmV0dXJuIChpc0NvbGxhcHNlQnV0dG9uICYmICFpbmFjdGl2ZUhlYWRlcikgfHwgIWlzQ29sbGFwc2VCdXR0b247XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJ1dHRvbnNUb0FuaW1hdGUgPSBidXR0b25zLmZpbHRlcihidXR0b24gPT4gIWJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2J1dHRvbnMtY29sbGFwc2UnKSk7XG4gICAgICB9XG4gICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLmFkZEVsZW1lbnQoYnV0dG9uc1RvQW5pbWF0ZSk7XG4gICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJJdGVtcyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgZW50ZXJpbmdUb29sQmFySXRlbXMuYWRkRWxlbWVudChlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiAqOm5vdChpb24tdGl0bGUpOm5vdChpb24tYnV0dG9ucyk6bm90KFttZW51VG9nZ2xlXSknKSk7XG4gICAgICBjb25zdCBlbnRlcmluZ1Rvb2xCYXJCZyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgZW50ZXJpbmdUb29sQmFyQmcuYWRkRWxlbWVudChzaGFkb3coZW50ZXJpbmdUb29sQmFyRWwpLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyLWJhY2tncm91bmQnKSk7IC8vIFJFVklFV1xuICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICBjb25zdCBiYWNrQnV0dG9uRWwgPSBlbnRlcmluZ1Rvb2xCYXJFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFjay1idXR0b24nKTtcbiAgICAgIGlmIChiYWNrQnV0dG9uRWwpIHtcbiAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uLmFkZEVsZW1lbnQoYmFja0J1dHRvbkVsKTtcbiAgICAgIH1cbiAgICAgIGVudGVyaW5nVG9vbEJhci5hZGRBbmltYXRpb24oW2VudGVyaW5nVGl0bGUsIGVudGVyaW5nVG9vbEJhckJ1dHRvbnMsIGVudGVyaW5nVG9vbEJhckl0ZW1zLCBlbnRlcmluZ1Rvb2xCYXJCZywgZW50ZXJpbmdCYWNrQnV0dG9uXSk7XG4gICAgICBlbnRlcmluZ1Rvb2xCYXJCdXR0b25zLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgIGVudGVyaW5nVG9vbEJhckl0ZW1zLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICghaW5hY3RpdmVIZWFkZXIpIHtcbiAgICAgICAgICBlbnRlcmluZ1RpdGxlXG4gICAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYClcbiAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZW50ZXJpbmdUb29sQmFySXRlbXMuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgIC8vIGJhY2sgZGlyZWN0aW9uLCBlbnRlcmluZyBwYWdlIGhhcyBhIGJhY2sgYnV0dG9uXG4gICAgICAgIGVudGVyaW5nQmFja0J1dHRvbi5mcm9tVG8oT1BBQ0lUWSwgMC4wMSwgMSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gZW50ZXJpbmcgdG9vbGJhciwgZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAgICAgaWYgKCFlbnRlcmluZ0NvbnRlbnRIYXNMYXJnZVRpdGxlKSB7XG4gICAgICAgICAgZW50ZXJpbmdUaXRsZVxuICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtPRkZfUklHSFR9KWAsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgKVxuICAgICAgICAgICAgLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRlcmluZ1Rvb2xCYXJJdGVtcy5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7T0ZGX1JJR0hUfSlgLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCk7XG4gICAgICAgIGVudGVyaW5nVG9vbEJhckJnLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZLCAndHJhbnNmb3JtJ10pO1xuICAgICAgICBjb25zdCB0cmFuc2x1Y2VudEhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci50cmFuc2x1Y2VudDtcbiAgICAgICAgaWYgKCF0cmFuc2x1Y2VudEhlYWRlcikge1xuICAgICAgICAgIGVudGVyaW5nVG9vbEJhckJnLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAndmFyKC0tb3BhY2l0eSknKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXJCZy5mcm9tVG8oJ3RyYW5zZm9ybScsIChpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpLCAndHJhbnNsYXRlWCgwcHgpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZm9yd2FyZCBkaXJlY3Rpb24sIGVudGVyaW5nIHBhZ2UgaGFzIGEgYmFjayBidXR0b25cbiAgICAgICAgaWYgKCFmb3J3YXJkKSB7XG4gICAgICAgICAgZW50ZXJpbmdCYWNrQnV0dG9uLmZyb21UbyhPUEFDSVRZLCAwLjAxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFja0J1dHRvbkVsICYmICFmb3J3YXJkKSB7XG4gICAgICAgICAgY29uc3QgZW50ZXJpbmdCYWNrQnRuVGV4dCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgIGVudGVyaW5nQmFja0J0blRleHRcbiAgICAgICAgICAgIC5hZGRFbGVtZW50KHNoYWRvdyhiYWNrQnV0dG9uRWwpLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpKSAvLyBSRVZJRVdcbiAgICAgICAgICAgIC5mcm9tVG8oYHRyYW5zZm9ybWAsIChpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDBweCknIDogJ3RyYW5zbGF0ZVgoMTAwcHgpJyksICd0cmFuc2xhdGVYKDBweCknKTtcbiAgICAgICAgICBlbnRlcmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKGVudGVyaW5nQmFja0J0blRleHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gc2V0dXAgbGVhdmluZyB2aWV3XG4gICAgaWYgKGxlYXZpbmdFbCkge1xuICAgICAgY29uc3QgbGVhdmluZ0NvbnRlbnQgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgIGNvbnN0IGxlYXZpbmdDb250ZW50RWwgPSBsZWF2aW5nRWwucXVlcnlTZWxlY3RvcignOnNjb3BlID4gaW9uLWNvbnRlbnQnKTtcbiAgICAgIGNvbnN0IGxlYXZpbmdUb29sQmFyRWxzID0gbGVhdmluZ0VsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+IGlvbi1oZWFkZXIgPiBpb24tdG9vbGJhcicpO1xuICAgICAgY29uc3QgbGVhdmluZ0hlYWRlckVscyA9IGxlYXZpbmdFbC5xdWVyeVNlbGVjdG9yQWxsKCc6c2NvcGUgPiBpb24taGVhZGVyID4gKjpub3QoaW9uLXRvb2xiYXIpLCA6c2NvcGUgPiBpb24tZm9vdGVyID4gKicpO1xuICAgICAgaWYgKCFsZWF2aW5nQ29udGVudEVsICYmIGxlYXZpbmdUb29sQmFyRWxzLmxlbmd0aCA9PT0gMCAmJiBsZWF2aW5nSGVhZGVyRWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRFbGVtZW50KGxlYXZpbmdFbC5xdWVyeVNlbGVjdG9yKCc6c2NvcGUgPiAuaW9uLXBhZ2UsIDpzY29wZSA+IGlvbi1uYXYsIDpzY29wZSA+IGlvbi10YWJzJykpOyAvLyBSRVZJRVdcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsZWF2aW5nQ29udGVudC5hZGRFbGVtZW50KGxlYXZpbmdDb250ZW50RWwpOyAvLyBSRVZJRVdcbiAgICAgICAgbGVhdmluZ0NvbnRlbnQuYWRkRWxlbWVudChsZWF2aW5nSGVhZGVyRWxzKTtcbiAgICAgIH1cbiAgICAgIHJvb3RBbmltYXRpb24uYWRkQW5pbWF0aW9uKGxlYXZpbmdDb250ZW50KTtcbiAgICAgIGlmIChiYWNrRGlyZWN0aW9uKSB7XG4gICAgICAgIC8vIGxlYXZpbmcgY29udGVudCwgYmFjayBkaXJlY3Rpb25cbiAgICAgICAgbGVhdmluZ0NvbnRlbnRcbiAgICAgICAgICAuYmVmb3JlQ2xlYXJTdHlsZXMoW09QQUNJVFldKVxuICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCAoaXNSVEwgPyAndHJhbnNsYXRlWCgtMTAwJSknIDogJ3RyYW5zbGF0ZVgoMTAwJSknKSk7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdQYWdlID0gZ2V0SW9uUGFnZUVsZW1lbnQobGVhdmluZ0VsKTtcbiAgICAgICAgcm9vdEFuaW1hdGlvbi5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICAgICAgICBpZiAocm9vdEFuaW1hdGlvbi5nZXREaXJlY3Rpb24oKSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgICAgIGxlYXZpbmdQYWdlLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGxlYXZpbmcgY29udGVudCwgZm9yd2FyZCBkaXJlY3Rpb25cbiAgICAgICAgbGVhdmluZ0NvbnRlbnRcbiAgICAgICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWCgke0NFTlRFUn0pYCwgYHRyYW5zbGF0ZVgoJHtPRkZfTEVGVH0pYClcbiAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDEsIE9GRl9PUEFDSVRZKTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWF2aW5nQ29udGVudEVsKSB7XG4gICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0RWwgPSBzaGFkb3cobGVhdmluZ0NvbnRlbnRFbCkucXVlcnlTZWxlY3RvcignLnRyYW5zaXRpb24tZWZmZWN0Jyk7XG4gICAgICAgIGlmIChsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsKSB7XG4gICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25Db3ZlckVsID0gbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RFbC5xdWVyeVNlbGVjdG9yKCcudHJhbnNpdGlvbi1jb3ZlcicpO1xuICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwgPSBsZWF2aW5nVHJhbnNpdGlvbkVmZmVjdEVsLnF1ZXJ5U2VsZWN0b3IoJy50cmFuc2l0aW9uLXNoYWRvdycpO1xuICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgY29uc3QgbGVhdmluZ1RyYW5zaXRpb25Db3ZlciA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgIGNvbnN0IGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93ID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RcbiAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uRWZmZWN0RWwpXG4gICAgICAgICAgICAuYmVmb3JlU3R5bGVzKHsgb3BhY2l0eTogJzEnLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgICAgICAuYWZ0ZXJTdHlsZXMoeyBvcGFjaXR5OiAnJywgZGlzcGxheTogJycgfSk7XG4gICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25Db3ZlclxuICAgICAgICAgICAgLmFkZEVsZW1lbnQobGVhdmluZ1RyYW5zaXRpb25Db3ZlckVsKSAvLyBSRVZJRVdcbiAgICAgICAgICAgIC5iZWZvcmVDbGVhclN0eWxlcyhbT1BBQ0lUWV0pXG4gICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuMSwgMCk7XG4gICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25TaGFkb3dcbiAgICAgICAgICAgIC5hZGRFbGVtZW50KGxlYXZpbmdUcmFuc2l0aW9uU2hhZG93RWwpIC8vIFJFVklFV1xuICAgICAgICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZXSlcbiAgICAgICAgICAgIC5mcm9tVG8oT1BBQ0lUWSwgMC43MCwgMC4wMyk7XG4gICAgICAgICAgbGVhdmluZ1RyYW5zaXRpb25FZmZlY3QuYWRkQW5pbWF0aW9uKFtsZWF2aW5nVHJhbnNpdGlvbkNvdmVyLCBsZWF2aW5nVHJhbnNpdGlvblNoYWRvd10pO1xuICAgICAgICAgIGxlYXZpbmdDb250ZW50LmFkZEFuaW1hdGlvbihbbGVhdmluZ1RyYW5zaXRpb25FZmZlY3RdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGVhdmluZ1Rvb2xCYXJFbHMuZm9yRWFjaChsZWF2aW5nVG9vbEJhckVsID0+IHtcbiAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXIgPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkRWxlbWVudChsZWF2aW5nVG9vbEJhckVsKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ1RpdGxlID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGxlYXZpbmdUaXRsZS5hZGRFbGVtZW50KGxlYXZpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvcignaW9uLXRpdGxlJykpOyAvLyBSRVZJRVdcbiAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJCdXR0b25zID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSBsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1idXR0b25zLFttZW51VG9nZ2xlXScpO1xuICAgICAgICBjb25zdCBwYXJlbnRIZWFkZXIgPSBsZWF2aW5nVG9vbEJhckVsLmNsb3Nlc3QoJ2lvbi1oZWFkZXInKTtcbiAgICAgICAgY29uc3QgaW5hY3RpdmVIZWFkZXIgPSBwYXJlbnRIZWFkZXIgJiYgcGFyZW50SGVhZGVyLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyLWNvbGxhcHNlLWNvbmRlbnNlLWluYWN0aXZlJyk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnNUb0FuaW1hdGUgPSBBcnJheS5mcm9tKGJ1dHRvbnMpLmZpbHRlcihidXR0b24gPT4ge1xuICAgICAgICAgIGNvbnN0IGlzQ29sbGFwc2VCdXR0b24gPSBidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdidXR0b25zLWNvbGxhcHNlJyk7XG4gICAgICAgICAgcmV0dXJuIChpc0NvbGxhcHNlQnV0dG9uICYmICFpbmFjdGl2ZUhlYWRlcikgfHwgIWlzQ29sbGFwc2VCdXR0b247XG4gICAgICAgIH0pO1xuICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMuYWRkRWxlbWVudChidXR0b25zVG9BbmltYXRlKTtcbiAgICAgICAgY29uc3QgbGVhdmluZ1Rvb2xCYXJJdGVtcyA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckl0ZW1FbHMgPSBsZWF2aW5nVG9vbEJhckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJzpzY29wZSA+ICo6bm90KGlvbi10aXRsZSk6bm90KGlvbi1idXR0b25zKTpub3QoW21lbnVUb2dnbGVdKScpO1xuICAgICAgICBpZiAobGVhdmluZ1Rvb2xCYXJJdGVtRWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmFkZEVsZW1lbnQobGVhdmluZ1Rvb2xCYXJJdGVtRWxzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWF2aW5nVG9vbEJhckJnID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGxlYXZpbmdUb29sQmFyQmcuYWRkRWxlbWVudChzaGFkb3cobGVhdmluZ1Rvb2xCYXJFbCkucXVlcnlTZWxlY3RvcignLnRvb2xiYXItYmFja2dyb3VuZCcpKTsgLy8gUkVWSUVXXG4gICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnV0dG9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b25FbCA9IGxlYXZpbmdUb29sQmFyRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2stYnV0dG9uJyk7XG4gICAgICAgIGlmIChiYWNrQnV0dG9uRWwpIHtcbiAgICAgICAgICBsZWF2aW5nQmFja0J1dHRvbi5hZGRFbGVtZW50KGJhY2tCdXR0b25FbCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVhdmluZ1Rvb2xCYXIuYWRkQW5pbWF0aW9uKFtsZWF2aW5nVGl0bGUsIGxlYXZpbmdUb29sQmFyQnV0dG9ucywgbGVhdmluZ1Rvb2xCYXJJdGVtcywgbGVhdmluZ0JhY2tCdXR0b24sIGxlYXZpbmdUb29sQmFyQmddKTtcbiAgICAgICAgcm9vdEFuaW1hdGlvbi5hZGRBbmltYXRpb24obGVhdmluZ1Rvb2xCYXIpO1xuICAgICAgICAvLyBmYWRlIG91dCBsZWF2aW5nIHRvb2xiYXIgaXRlbXNcbiAgICAgICAgbGVhdmluZ0JhY2tCdXR0b24uZnJvbVRvKE9QQUNJVFksIDAuOTksIDApO1xuICAgICAgICBsZWF2aW5nVG9vbEJhckJ1dHRvbnMuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApO1xuICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmZyb21UbyhPUEFDSVRZLCAwLjk5LCAwKTtcbiAgICAgICAgaWYgKGJhY2tEaXJlY3Rpb24pIHtcbiAgICAgICAgICBpZiAoIWluYWN0aXZlSGVhZGVyKSB7XG4gICAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGJhY2sgZGlyZWN0aW9uXG4gICAgICAgICAgICBsZWF2aW5nVGl0bGVcbiAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIChpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpKVxuICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZWF2aW5nVG9vbEJhckl0ZW1zLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIChpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpKTtcbiAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmJlZm9yZUNsZWFyU3R5bGVzKFtPUEFDSVRZLCAndHJhbnNmb3JtJ10pO1xuICAgICAgICAgIC8vIGxlYXZpbmcgdG9vbGJhciwgYmFjayBkaXJlY3Rpb24sIGFuZCB0aGVyZSdzIG5vIGVudGVyaW5nIHRvb2xiYXJcbiAgICAgICAgICAvLyBzaG91bGQganVzdCBzbGlkZSBvdXQsIG5vIGZhZGluZyBvdXRcbiAgICAgICAgICBjb25zdCB0cmFuc2x1Y2VudEhlYWRlciA9IHBhcmVudEhlYWRlciA9PT0gbnVsbCB8fCBwYXJlbnRIZWFkZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmVudEhlYWRlci50cmFuc2x1Y2VudDtcbiAgICAgICAgICBpZiAoIXRyYW5zbHVjZW50SGVhZGVyKSB7XG4gICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmZyb21UbyhPUEFDSVRZLCAndmFyKC0tb3BhY2l0eSknLCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZWF2aW5nVG9vbEJhckJnLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVgoMHB4KScsIChpc1JUTCA/ICd0cmFuc2xhdGVYKC0xMDAlKScgOiAndHJhbnNsYXRlWCgxMDAlKScpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGJhY2tCdXR0b25FbCAmJiAhYmFja3dhcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdCYWNrQnRuVGV4dCA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgbGVhdmluZ0JhY2tCdG5UZXh0XG4gICAgICAgICAgICAgIC5hZGRFbGVtZW50KHNoYWRvdyhiYWNrQnV0dG9uRWwpLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tdGV4dCcpKSAvLyBSRVZJRVdcbiAgICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGB0cmFuc2xhdGVYKCR7KGlzUlRMID8gLTEyNCA6IDEyNCkgKyAncHgnfSlgKTtcbiAgICAgICAgICAgIGxlYXZpbmdUb29sQmFyLmFkZEFuaW1hdGlvbihsZWF2aW5nQmFja0J0blRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBsZWF2aW5nIHRvb2xiYXIsIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgaWYgKCFpbmFjdGl2ZUhlYWRlcikge1xuICAgICAgICAgICAgbGVhdmluZ1RpdGxlXG4gICAgICAgICAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVYKCR7Q0VOVEVSfSlgLCBgdHJhbnNsYXRlWCgke09GRl9MRUZUfSlgKVxuICAgICAgICAgICAgICAuZnJvbVRvKE9QQUNJVFksIDAuOTksIDApXG4gICAgICAgICAgICAgIC5hZnRlckNsZWFyU3R5bGVzKFtUUkFOU0ZPUk0sIE9QQUNJVFldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGVhdmluZ1Rvb2xCYXJJdGVtc1xuICAgICAgICAgICAgLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVgoJHtDRU5URVJ9KWAsIGB0cmFuc2xhdGVYKCR7T0ZGX0xFRlR9KWApXG4gICAgICAgICAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbVFJBTlNGT1JNLCBPUEFDSVRZXSk7XG4gICAgICAgICAgbGVhdmluZ0JhY2tCdXR0b24uYWZ0ZXJDbGVhclN0eWxlcyhbT1BBQ0lUWV0pO1xuICAgICAgICAgIGxlYXZpbmdUaXRsZS5hZnRlckNsZWFyU3R5bGVzKFtPUEFDSVRZXSk7XG4gICAgICAgICAgbGVhdmluZ1Rvb2xCYXJCdXR0b25zLmFmdGVyQ2xlYXJTdHlsZXMoW09QQUNJVFldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByb290QW5pbWF0aW9uO1xuICB9XG4gIGNhdGNoIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGlvc1RyYW5zaXRpb25BbmltYXRpb24sIHNoYWRvdyB9O1xuIiwiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHAgYXMgcHJvbWlzZVJlc29sdmUsIGIgYXMgYm9vdHN0cmFwTGF6eSB9IGZyb20gJy4vaW5kZXgtMDZjZDI3YjEuanMnO1xuaW1wb3J0IHsgZyBhcyBnbG9iYWxTY3JpcHRzIH0gZnJvbSAnLi9hcHAtZ2xvYmFscy0zNjc1ZGQ3Yi5qcyc7XG5pbXBvcnQgJy4vaW9uaWMtZ2xvYmFsLWEwNDliY2JmLmpzJztcblxuLypcbiBTdGVuY2lsIENsaWVudCBQYXRjaCBFc20gdjIuMTEuMC0wIHwgTUlUIExpY2Vuc2VkIHwgaHR0cHM6Ly9zdGVuY2lsanMuY29tXG4gKi9cbmNvbnN0IHBhdGNoRXNtID0gKCkgPT4ge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZSgpO1xufTtcblxuY29uc3QgZGVmaW5lQ3VzdG9tRWxlbWVudHMgPSAod2luLCBvcHRpb25zKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICByZXR1cm4gcGF0Y2hFc20oKS50aGVuKCgpID0+IHtcbiAgZ2xvYmFsU2NyaXB0cygpO1xuICByZXR1cm4gYm9vdHN0cmFwTGF6eShKU09OLnBhcnNlKFwiW1tcXFwiaW9uLW1lbnVfM1xcXCIsW1szMyxcXFwiaW9uLW1lbnUtYnV0dG9uXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwibWVudVxcXCI6WzFdLFxcXCJhdXRvSGlkZVxcXCI6WzQsXFxcImF1dG8taGlkZVxcXCJdLFxcXCJ0eXBlXFxcIjpbMV0sXFxcInZpc2libGVcXFwiOlszMl19LFtbMTYsXFxcImlvbk1lbnVDaGFuZ2VcXFwiLFxcXCJ2aXNpYmlsaXR5Q2hhbmdlZFxcXCJdLFsxNixcXFwiaW9uU3BsaXRQYW5lVmlzaWJsZVxcXCIsXFxcInZpc2liaWxpdHlDaGFuZ2VkXFxcIl1dXSxbMzMsXFxcImlvbi1tZW51XFxcIix7XFxcImNvbnRlbnRJZFxcXCI6WzUxMyxcXFwiY29udGVudC1pZFxcXCJdLFxcXCJtZW51SWRcXFwiOls1MTMsXFxcIm1lbnUtaWRcXFwiXSxcXFwidHlwZVxcXCI6WzEwMjVdLFxcXCJkaXNhYmxlZFxcXCI6WzEwMjhdLFxcXCJzaWRlXFxcIjpbNTEzXSxcXFwic3dpcGVHZXN0dXJlXFxcIjpbNCxcXFwic3dpcGUtZ2VzdHVyZVxcXCJdLFxcXCJtYXhFZGdlU3RhcnRcXFwiOlsyLFxcXCJtYXgtZWRnZS1zdGFydFxcXCJdLFxcXCJpc1BhbmVWaXNpYmxlXFxcIjpbMzJdLFxcXCJpc0VuZFNpZGVcXFwiOlszMl0sXFxcImlzT3BlblxcXCI6WzY0XSxcXFwiaXNBY3RpdmVcXFwiOls2NF0sXFxcIm9wZW5cXFwiOls2NF0sXFxcImNsb3NlXFxcIjpbNjRdLFxcXCJ0b2dnbGVcXFwiOls2NF0sXFxcInNldE9wZW5cXFwiOls2NF19LFtbMTYsXFxcImlvblNwbGl0UGFuZVZpc2libGVcXFwiLFxcXCJvblNwbGl0UGFuZUNoYW5nZWRcXFwiXSxbMixcXFwiY2xpY2tcXFwiLFxcXCJvbkJhY2tkcm9wQ2xpY2tcXFwiXSxbMCxcXFwia2V5ZG93blxcXCIsXFxcIm9uS2V5ZG93blxcXCJdXV0sWzEsXFxcImlvbi1tZW51LXRvZ2dsZVxcXCIse1xcXCJtZW51XFxcIjpbMV0sXFxcImF1dG9IaWRlXFxcIjpbNCxcXFwiYXV0by1oaWRlXFxcIl0sXFxcInZpc2libGVcXFwiOlszMl19LFtbMTYsXFxcImlvbk1lbnVDaGFuZ2VcXFwiLFxcXCJ2aXNpYmlsaXR5Q2hhbmdlZFxcXCJdLFsxNixcXFwiaW9uU3BsaXRQYW5lVmlzaWJsZVxcXCIsXFxcInZpc2liaWxpdHlDaGFuZ2VkXFxcIl1dXV1dLFtcXFwiaW9uLWFjdGlvbi1zaGVldFxcXCIsW1szNCxcXFwiaW9uLWFjdGlvbi1zaGVldFxcXCIse1xcXCJvdmVybGF5SW5kZXhcXFwiOlsyLFxcXCJvdmVybGF5LWluZGV4XFxcIl0sXFxcImtleWJvYXJkQ2xvc2VcXFwiOls0LFxcXCJrZXlib2FyZC1jbG9zZVxcXCJdLFxcXCJlbnRlckFuaW1hdGlvblxcXCI6WzE2XSxcXFwibGVhdmVBbmltYXRpb25cXFwiOlsxNl0sXFxcImJ1dHRvbnNcXFwiOlsxNl0sXFxcImNzc0NsYXNzXFxcIjpbMSxcXFwiY3NzLWNsYXNzXFxcIl0sXFxcImJhY2tkcm9wRGlzbWlzc1xcXCI6WzQsXFxcImJhY2tkcm9wLWRpc21pc3NcXFwiXSxcXFwiaGVhZGVyXFxcIjpbMV0sXFxcInN1YkhlYWRlclxcXCI6WzEsXFxcInN1Yi1oZWFkZXJcXFwiXSxcXFwidHJhbnNsdWNlbnRcXFwiOls0XSxcXFwiYW5pbWF0ZWRcXFwiOls0XSxcXFwiaHRtbEF0dHJpYnV0ZXNcXFwiOlsxNl0sXFxcInByZXNlbnRcXFwiOls2NF0sXFxcImRpc21pc3NcXFwiOls2NF0sXFxcIm9uRGlkRGlzbWlzc1xcXCI6WzY0XSxcXFwib25XaWxsRGlzbWlzc1xcXCI6WzY0XX1dXV0sW1xcXCJpb24tZmFiXzNcXFwiLFtbMzMsXFxcImlvbi1mYWItYnV0dG9uXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwiYWN0aXZhdGVkXFxcIjpbNF0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImhyZWZcXFwiOlsxXSxcXFwicmVsXFxcIjpbMV0sXFxcInJvdXRlckRpcmVjdGlvblxcXCI6WzEsXFxcInJvdXRlci1kaXJlY3Rpb25cXFwiXSxcXFwicm91dGVyQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJ0YXJnZXRcXFwiOlsxXSxcXFwic2hvd1xcXCI6WzRdLFxcXCJ0cmFuc2x1Y2VudFxcXCI6WzRdLFxcXCJ0eXBlXFxcIjpbMV0sXFxcInNpemVcXFwiOlsxXSxcXFwiY2xvc2VJY29uXFxcIjpbMSxcXFwiY2xvc2UtaWNvblxcXCJdfV0sWzEsXFxcImlvbi1mYWJcXFwiLHtcXFwiaG9yaXpvbnRhbFxcXCI6WzFdLFxcXCJ2ZXJ0aWNhbFxcXCI6WzFdLFxcXCJlZGdlXFxcIjpbNF0sXFxcImFjdGl2YXRlZFxcXCI6WzEwMjhdLFxcXCJjbG9zZVxcXCI6WzY0XX1dLFsxLFxcXCJpb24tZmFiLWxpc3RcXFwiLHtcXFwiYWN0aXZhdGVkXFxcIjpbNF0sXFxcInNpZGVcXFwiOlsxXX1dXV0sW1xcXCJpb24tcmVmcmVzaGVyXzJcXFwiLFtbMCxcXFwiaW9uLXJlZnJlc2hlci1jb250ZW50XFxcIix7XFxcInB1bGxpbmdJY29uXFxcIjpbMTAyNSxcXFwicHVsbGluZy1pY29uXFxcIl0sXFxcInB1bGxpbmdUZXh0XFxcIjpbMSxcXFwicHVsbGluZy10ZXh0XFxcIl0sXFxcInJlZnJlc2hpbmdTcGlubmVyXFxcIjpbMTAyNSxcXFwicmVmcmVzaGluZy1zcGlubmVyXFxcIl0sXFxcInJlZnJlc2hpbmdUZXh0XFxcIjpbMSxcXFwicmVmcmVzaGluZy10ZXh0XFxcIl19XSxbMzIsXFxcImlvbi1yZWZyZXNoZXJcXFwiLHtcXFwicHVsbE1pblxcXCI6WzIsXFxcInB1bGwtbWluXFxcIl0sXFxcInB1bGxNYXhcXFwiOlsyLFxcXCJwdWxsLW1heFxcXCJdLFxcXCJjbG9zZUR1cmF0aW9uXFxcIjpbMSxcXFwiY2xvc2UtZHVyYXRpb25cXFwiXSxcXFwic25hcGJhY2tEdXJhdGlvblxcXCI6WzEsXFxcInNuYXBiYWNrLWR1cmF0aW9uXFxcIl0sXFxcInB1bGxGYWN0b3JcXFwiOlsyLFxcXCJwdWxsLWZhY3RvclxcXCJdLFxcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJuYXRpdmVSZWZyZXNoZXJcXFwiOlszMl0sXFxcInN0YXRlXFxcIjpbMzJdLFxcXCJjb21wbGV0ZVxcXCI6WzY0XSxcXFwiY2FuY2VsXFxcIjpbNjRdLFxcXCJnZXRQcm9ncmVzc1xcXCI6WzY0XX1dXV0sW1xcXCJpb24tYWxlcnRcXFwiLFtbMzQsXFxcImlvbi1hbGVydFxcXCIse1xcXCJvdmVybGF5SW5kZXhcXFwiOlsyLFxcXCJvdmVybGF5LWluZGV4XFxcIl0sXFxcImtleWJvYXJkQ2xvc2VcXFwiOls0LFxcXCJrZXlib2FyZC1jbG9zZVxcXCJdLFxcXCJlbnRlckFuaW1hdGlvblxcXCI6WzE2XSxcXFwibGVhdmVBbmltYXRpb25cXFwiOlsxNl0sXFxcImNzc0NsYXNzXFxcIjpbMSxcXFwiY3NzLWNsYXNzXFxcIl0sXFxcImhlYWRlclxcXCI6WzFdLFxcXCJzdWJIZWFkZXJcXFwiOlsxLFxcXCJzdWItaGVhZGVyXFxcIl0sXFxcIm1lc3NhZ2VcXFwiOlsxXSxcXFwiYnV0dG9uc1xcXCI6WzE2XSxcXFwiaW5wdXRzXFxcIjpbMTA0MF0sXFxcImJhY2tkcm9wRGlzbWlzc1xcXCI6WzQsXFxcImJhY2tkcm9wLWRpc21pc3NcXFwiXSxcXFwidHJhbnNsdWNlbnRcXFwiOls0XSxcXFwiYW5pbWF0ZWRcXFwiOls0XSxcXFwiaHRtbEF0dHJpYnV0ZXNcXFwiOlsxNl0sXFxcInByZXNlbnRcXFwiOls2NF0sXFxcImRpc21pc3NcXFwiOls2NF0sXFxcIm9uRGlkRGlzbWlzc1xcXCI6WzY0XSxcXFwib25XaWxsRGlzbWlzc1xcXCI6WzY0XX0sW1s0LFxcXCJrZXlkb3duXFxcIixcXFwib25LZXlkb3duXFxcIl1dXV1dLFtcXFwiaW9uLWJhY2stYnV0dG9uXFxcIixbWzMzLFxcXCJpb24tYmFjay1idXR0b25cXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJkZWZhdWx0SHJlZlxcXCI6WzEwMjUsXFxcImRlZmF1bHQtaHJlZlxcXCJdLFxcXCJkaXNhYmxlZFxcXCI6WzUxNl0sXFxcImljb25cXFwiOlsxXSxcXFwidGV4dFxcXCI6WzFdLFxcXCJ0eXBlXFxcIjpbMV0sXFxcInJvdXRlckFuaW1hdGlvblxcXCI6WzE2XX1dXV0sW1xcXCJpb24tbG9hZGluZ1xcXCIsW1szNCxcXFwiaW9uLWxvYWRpbmdcXFwiLHtcXFwib3ZlcmxheUluZGV4XFxcIjpbMixcXFwib3ZlcmxheS1pbmRleFxcXCJdLFxcXCJrZXlib2FyZENsb3NlXFxcIjpbNCxcXFwia2V5Ym9hcmQtY2xvc2VcXFwiXSxcXFwiZW50ZXJBbmltYXRpb25cXFwiOlsxNl0sXFxcImxlYXZlQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJtZXNzYWdlXFxcIjpbMV0sXFxcImNzc0NsYXNzXFxcIjpbMSxcXFwiY3NzLWNsYXNzXFxcIl0sXFxcImR1cmF0aW9uXFxcIjpbMl0sXFxcImJhY2tkcm9wRGlzbWlzc1xcXCI6WzQsXFxcImJhY2tkcm9wLWRpc21pc3NcXFwiXSxcXFwic2hvd0JhY2tkcm9wXFxcIjpbNCxcXFwic2hvdy1iYWNrZHJvcFxcXCJdLFxcXCJzcGlubmVyXFxcIjpbMTAyNV0sXFxcInRyYW5zbHVjZW50XFxcIjpbNF0sXFxcImFuaW1hdGVkXFxcIjpbNF0sXFxcImh0bWxBdHRyaWJ1dGVzXFxcIjpbMTZdLFxcXCJwcmVzZW50XFxcIjpbNjRdLFxcXCJkaXNtaXNzXFxcIjpbNjRdLFxcXCJvbkRpZERpc21pc3NcXFwiOls2NF0sXFxcIm9uV2lsbERpc21pc3NcXFwiOls2NF19XV1dLFtcXFwiaW9uLXRvYXN0XFxcIixbWzMzLFxcXCJpb24tdG9hc3RcXFwiLHtcXFwib3ZlcmxheUluZGV4XFxcIjpbMixcXFwib3ZlcmxheS1pbmRleFxcXCJdLFxcXCJjb2xvclxcXCI6WzUxM10sXFxcImVudGVyQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJsZWF2ZUFuaW1hdGlvblxcXCI6WzE2XSxcXFwiY3NzQ2xhc3NcXFwiOlsxLFxcXCJjc3MtY2xhc3NcXFwiXSxcXFwiZHVyYXRpb25cXFwiOlsyXSxcXFwiaGVhZGVyXFxcIjpbMV0sXFxcIm1lc3NhZ2VcXFwiOlsxXSxcXFwia2V5Ym9hcmRDbG9zZVxcXCI6WzQsXFxcImtleWJvYXJkLWNsb3NlXFxcIl0sXFxcInBvc2l0aW9uXFxcIjpbMV0sXFxcImJ1dHRvbnNcXFwiOlsxNl0sXFxcInRyYW5zbHVjZW50XFxcIjpbNF0sXFxcImFuaW1hdGVkXFxcIjpbNF0sXFxcImljb25cXFwiOlsxXSxcXFwiaHRtbEF0dHJpYnV0ZXNcXFwiOlsxNl0sXFxcInByZXNlbnRcXFwiOls2NF0sXFxcImRpc21pc3NcXFwiOls2NF0sXFxcIm9uRGlkRGlzbWlzc1xcXCI6WzY0XSxcXFwib25XaWxsRGlzbWlzc1xcXCI6WzY0XX1dXV0sW1xcXCJpb24tY2FyZF81XFxcIixbWzMzLFxcXCJpb24tY2FyZFxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImJ1dHRvblxcXCI6WzRdLFxcXCJ0eXBlXFxcIjpbMV0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImhyZWZcXFwiOlsxXSxcXFwicmVsXFxcIjpbMV0sXFxcInJvdXRlckRpcmVjdGlvblxcXCI6WzEsXFxcInJvdXRlci1kaXJlY3Rpb25cXFwiXSxcXFwicm91dGVyQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJ0YXJnZXRcXFwiOlsxXX1dLFszMixcXFwiaW9uLWNhcmQtY29udGVudFxcXCJdLFszMyxcXFwiaW9uLWNhcmQtaGVhZGVyXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwidHJhbnNsdWNlbnRcXFwiOls0XX1dLFszMyxcXFwiaW9uLWNhcmQtc3VidGl0bGVcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdfV0sWzMzLFxcXCJpb24tY2FyZC10aXRsZVxcXCIse1xcXCJjb2xvclxcXCI6WzUxM119XV1dLFtcXFwiaW9uLWl0ZW0tb3B0aW9uXzNcXFwiLFtbMzMsXFxcImlvbi1pdGVtLW9wdGlvblxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImV4cGFuZGFibGVcXFwiOls0XSxcXFwiaHJlZlxcXCI6WzFdLFxcXCJyZWxcXFwiOlsxXSxcXFwidGFyZ2V0XFxcIjpbMV0sXFxcInR5cGVcXFwiOlsxXX1dLFszMixcXFwiaW9uLWl0ZW0tb3B0aW9uc1xcXCIse1xcXCJzaWRlXFxcIjpbMV0sXFxcImZpcmVTd2lwZUV2ZW50XFxcIjpbNjRdfV0sWzAsXFxcImlvbi1pdGVtLXNsaWRpbmdcXFwiLHtcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwic3RhdGVcXFwiOlszMl0sXFxcImdldE9wZW5BbW91bnRcXFwiOls2NF0sXFxcImdldFNsaWRpbmdSYXRpb1xcXCI6WzY0XSxcXFwib3BlblxcXCI6WzY0XSxcXFwiY2xvc2VcXFwiOls2NF0sXFxcImNsb3NlT3BlbmVkXFxcIjpbNjRdfV1dXSxbXFxcImlvbi1hY2NvcmRpb25fMlxcXCIsW1s0OSxcXFwiaW9uLWFjY29yZGlvblxcXCIse1xcXCJ2YWx1ZVxcXCI6WzFdLFxcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJyZWFkb25seVxcXCI6WzRdLFxcXCJ0b2dnbGVJY29uXFxcIjpbMSxcXFwidG9nZ2xlLWljb25cXFwiXSxcXFwidG9nZ2xlSWNvblNsb3RcXFwiOlsxLFxcXCJ0b2dnbGUtaWNvbi1zbG90XFxcIl0sXFxcInN0YXRlXFxcIjpbMzJdLFxcXCJpc05leHRcXFwiOlszMl0sXFxcImlzUHJldmlvdXNcXFwiOlszMl19XSxbMzMsXFxcImlvbi1hY2NvcmRpb24tZ3JvdXBcXFwiLHtcXFwiYW5pbWF0ZWRcXFwiOls0XSxcXFwibXVsdGlwbGVcXFwiOls0XSxcXFwidmFsdWVcXFwiOlsxMDI1XSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwicmVhZG9ubHlcXFwiOls0XSxcXFwiZXhwYW5kXFxcIjpbMV0sXFxcInJlcXVlc3RBY2NvcmRpb25Ub2dnbGVcXFwiOls2NF0sXFxcImdldEFjY29yZGlvbnNcXFwiOls2NF19LFtbMCxcXFwia2V5ZG93blxcXCIsXFxcIm9uS2V5ZG93blxcXCJdXV1dXSxbXFxcImlvbi1icmVhZGNydW1iXzJcXFwiLFtbMzMsXFxcImlvbi1icmVhZGNydW1iXFxcIix7XFxcImNvbGxhcHNlZFxcXCI6WzRdLFxcXCJsYXN0XFxcIjpbNF0sXFxcInNob3dDb2xsYXBzZWRJbmRpY2F0b3JcXFwiOls0LFxcXCJzaG93LWNvbGxhcHNlZC1pbmRpY2F0b3JcXFwiXSxcXFwiY29sb3JcXFwiOlsxXSxcXFwiYWN0aXZlXFxcIjpbNF0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImhyZWZcXFwiOlsxXSxcXFwicmVsXFxcIjpbMV0sXFxcInNlcGFyYXRvclxcXCI6WzRdLFxcXCJ0YXJnZXRcXFwiOlsxXSxcXFwicm91dGVyRGlyZWN0aW9uXFxcIjpbMSxcXFwicm91dGVyLWRpcmVjdGlvblxcXCJdLFxcXCJyb3V0ZXJBbmltYXRpb25cXFwiOlsxNl19XSxbMzMsXFxcImlvbi1icmVhZGNydW1ic1xcXCIse1xcXCJjb2xvclxcXCI6WzFdLFxcXCJtYXhJdGVtc1xcXCI6WzIsXFxcIm1heC1pdGVtc1xcXCJdLFxcXCJpdGVtc0JlZm9yZUNvbGxhcHNlXFxcIjpbMixcXFwiaXRlbXMtYmVmb3JlLWNvbGxhcHNlXFxcIl0sXFxcIml0ZW1zQWZ0ZXJDb2xsYXBzZVxcXCI6WzIsXFxcIml0ZW1zLWFmdGVyLWNvbGxhcHNlXFxcIl0sXFxcImNvbGxhcHNlZFxcXCI6WzMyXSxcXFwiYWN0aXZlQ2hhbmdlZFxcXCI6WzMyXX0sW1swLFxcXCJjb2xsYXBzZWRDbGlja1xcXCIsXFxcIm9uQ29sbGFwc2VkQ2xpY2tcXFwiXV1dXV0sW1xcXCJpb24taW5maW5pdGUtc2Nyb2xsXzJcXFwiLFtbMzIsXFxcImlvbi1pbmZpbml0ZS1zY3JvbGwtY29udGVudFxcXCIse1xcXCJsb2FkaW5nU3Bpbm5lclxcXCI6WzEwMjUsXFxcImxvYWRpbmctc3Bpbm5lclxcXCJdLFxcXCJsb2FkaW5nVGV4dFxcXCI6WzEsXFxcImxvYWRpbmctdGV4dFxcXCJdfV0sWzAsXFxcImlvbi1pbmZpbml0ZS1zY3JvbGxcXFwiLHtcXFwidGhyZXNob2xkXFxcIjpbMV0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcInBvc2l0aW9uXFxcIjpbMV0sXFxcImlzTG9hZGluZ1xcXCI6WzMyXSxcXFwiY29tcGxldGVcXFwiOls2NF19XV1dLFtcXFwiaW9uLXJlb3JkZXJfMlxcXCIsW1szMyxcXFwiaW9uLXJlb3JkZXJcXFwiLG51bGwsW1syLFxcXCJjbGlja1xcXCIsXFxcIm9uQ2xpY2tcXFwiXV1dLFswLFxcXCJpb24tcmVvcmRlci1ncm91cFxcXCIse1xcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJzdGF0ZVxcXCI6WzMyXSxcXFwiY29tcGxldGVcXFwiOls2NF19XV1dLFtcXFwiaW9uLXNlZ21lbnRfMlxcXCIsW1szMyxcXFwiaW9uLXNlZ21lbnQtYnV0dG9uXFxcIix7XFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImxheW91dFxcXCI6WzFdLFxcXCJ0eXBlXFxcIjpbMV0sXFxcInZhbHVlXFxcIjpbMV0sXFxcImNoZWNrZWRcXFwiOlszMl19XSxbMzMsXFxcImlvbi1zZWdtZW50XFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwic2Nyb2xsYWJsZVxcXCI6WzRdLFxcXCJzd2lwZUdlc3R1cmVcXFwiOls0LFxcXCJzd2lwZS1nZXN0dXJlXFxcIl0sXFxcInZhbHVlXFxcIjpbMTAyNV0sXFxcInNlbGVjdE9uRm9jdXNcXFwiOls0LFxcXCJzZWxlY3Qtb24tZm9jdXNcXFwiXSxcXFwiYWN0aXZhdGVkXFxcIjpbMzJdfSxbWzAsXFxcImtleWRvd25cXFwiLFxcXCJvbktleURvd25cXFwiXV1dXV0sW1xcXCJpb24tdGFiLWJhcl8yXFxcIixbWzMzLFxcXCJpb24tdGFiLWJ1dHRvblxcXCIse1xcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJkb3dubG9hZFxcXCI6WzFdLFxcXCJocmVmXFxcIjpbMV0sXFxcInJlbFxcXCI6WzFdLFxcXCJsYXlvdXRcXFwiOlsxMDI1XSxcXFwic2VsZWN0ZWRcXFwiOlsxMDI4XSxcXFwidGFiXFxcIjpbMV0sXFxcInRhcmdldFxcXCI6WzFdfSxbWzgsXFxcImlvblRhYkJhckNoYW5nZWRcXFwiLFxcXCJvblRhYkJhckNoYW5nZWRcXFwiXV1dLFszMyxcXFwiaW9uLXRhYi1iYXJcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJzZWxlY3RlZFRhYlxcXCI6WzEsXFxcInNlbGVjdGVkLXRhYlxcXCJdLFxcXCJ0cmFuc2x1Y2VudFxcXCI6WzRdLFxcXCJrZXlib2FyZFZpc2libGVcXFwiOlszMl19XV1dLFtcXFwiaW9uLWNoaXBcXFwiLFtbMzMsXFxcImlvbi1jaGlwXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwib3V0bGluZVxcXCI6WzRdLFxcXCJkaXNhYmxlZFxcXCI6WzRdfV1dXSxbXFxcImlvbi1tb2RhbFxcXCIsW1szMyxcXFwiaW9uLW1vZGFsXFxcIix7XFxcImhhc0NvbnRyb2xsZXJcXFwiOls0LFxcXCJoYXMtY29udHJvbGxlclxcXCJdLFxcXCJvdmVybGF5SW5kZXhcXFwiOlsyLFxcXCJvdmVybGF5LWluZGV4XFxcIl0sXFxcImRlbGVnYXRlXFxcIjpbMTZdLFxcXCJrZXlib2FyZENsb3NlXFxcIjpbNCxcXFwia2V5Ym9hcmQtY2xvc2VcXFwiXSxcXFwiZW50ZXJBbmltYXRpb25cXFwiOlsxNl0sXFxcImxlYXZlQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJicmVha3BvaW50c1xcXCI6WzE2XSxcXFwiaW5pdGlhbEJyZWFrcG9pbnRcXFwiOlsyLFxcXCJpbml0aWFsLWJyZWFrcG9pbnRcXFwiXSxcXFwiYmFja2Ryb3BCcmVha3BvaW50XFxcIjpbMixcXFwiYmFja2Ryb3AtYnJlYWtwb2ludFxcXCJdLFxcXCJoYW5kbGVcXFwiOls0XSxcXFwiY29tcG9uZW50XFxcIjpbMV0sXFxcImNvbXBvbmVudFByb3BzXFxcIjpbMTZdLFxcXCJjc3NDbGFzc1xcXCI6WzEsXFxcImNzcy1jbGFzc1xcXCJdLFxcXCJiYWNrZHJvcERpc21pc3NcXFwiOls0LFxcXCJiYWNrZHJvcC1kaXNtaXNzXFxcIl0sXFxcInNob3dCYWNrZHJvcFxcXCI6WzQsXFxcInNob3ctYmFja2Ryb3BcXFwiXSxcXFwiYW5pbWF0ZWRcXFwiOls0XSxcXFwic3dpcGVUb0Nsb3NlXFxcIjpbNCxcXFwic3dpcGUtdG8tY2xvc2VcXFwiXSxcXFwicHJlc2VudGluZ0VsZW1lbnRcXFwiOlsxNl0sXFxcImh0bWxBdHRyaWJ1dGVzXFxcIjpbMTZdLFxcXCJpc09wZW5cXFwiOls0LFxcXCJpcy1vcGVuXFxcIl0sXFxcInRyaWdnZXJcXFwiOlsxXSxcXFwicHJlc2VudGVkXFxcIjpbMzJdLFxcXCJwcmVzZW50XFxcIjpbNjRdLFxcXCJkaXNtaXNzXFxcIjpbNjRdLFxcXCJvbkRpZERpc21pc3NcXFwiOls2NF0sXFxcIm9uV2lsbERpc21pc3NcXFwiOls2NF19XV1dLFtcXFwiaW9uLXNlYXJjaGJhclxcXCIsW1szNCxcXFwiaW9uLXNlYXJjaGJhclxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImFuaW1hdGVkXFxcIjpbNF0sXFxcImF1dG9jb21wbGV0ZVxcXCI6WzFdLFxcXCJhdXRvY29ycmVjdFxcXCI6WzFdLFxcXCJjYW5jZWxCdXR0b25JY29uXFxcIjpbMSxcXFwiY2FuY2VsLWJ1dHRvbi1pY29uXFxcIl0sXFxcImNhbmNlbEJ1dHRvblRleHRcXFwiOlsxLFxcXCJjYW5jZWwtYnV0dG9uLXRleHRcXFwiXSxcXFwiY2xlYXJJY29uXFxcIjpbMSxcXFwiY2xlYXItaWNvblxcXCJdLFxcXCJkZWJvdW5jZVxcXCI6WzJdLFxcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJpbnB1dG1vZGVcXFwiOlsxXSxcXFwiZW50ZXJrZXloaW50XFxcIjpbMV0sXFxcInBsYWNlaG9sZGVyXFxcIjpbMV0sXFxcInNlYXJjaEljb25cXFwiOlsxLFxcXCJzZWFyY2gtaWNvblxcXCJdLFxcXCJzaG93Q2FuY2VsQnV0dG9uXFxcIjpbMSxcXFwic2hvdy1jYW5jZWwtYnV0dG9uXFxcIl0sXFxcInNob3dDbGVhckJ1dHRvblxcXCI6WzEsXFxcInNob3ctY2xlYXItYnV0dG9uXFxcIl0sXFxcInNwZWxsY2hlY2tcXFwiOls0XSxcXFwidHlwZVxcXCI6WzFdLFxcXCJ2YWx1ZVxcXCI6WzEwMjVdLFxcXCJmb2N1c2VkXFxcIjpbMzJdLFxcXCJub0FuaW1hdGVcXFwiOlszMl0sXFxcInNldEZvY3VzXFxcIjpbNjRdLFxcXCJnZXRJbnB1dEVsZW1lbnRcXFwiOls2NF19XV1dLFtcXFwiaW9uLXJvdXRlXzRcXFwiLFtbMCxcXFwiaW9uLXJvdXRlXFxcIix7XFxcInVybFxcXCI6WzFdLFxcXCJjb21wb25lbnRcXFwiOlsxXSxcXFwiY29tcG9uZW50UHJvcHNcXFwiOlsxNl0sXFxcImJlZm9yZUxlYXZlXFxcIjpbMTZdLFxcXCJiZWZvcmVFbnRlclxcXCI6WzE2XX1dLFswLFxcXCJpb24tcm91dGUtcmVkaXJlY3RcXFwiLHtcXFwiZnJvbVxcXCI6WzFdLFxcXCJ0b1xcXCI6WzFdfV0sWzAsXFxcImlvbi1yb3V0ZXJcXFwiLHtcXFwicm9vdFxcXCI6WzFdLFxcXCJ1c2VIYXNoXFxcIjpbNCxcXFwidXNlLWhhc2hcXFwiXSxcXFwiY2FuVHJhbnNpdGlvblxcXCI6WzY0XSxcXFwicHVzaFxcXCI6WzY0XSxcXFwiYmFja1xcXCI6WzY0XSxcXFwicHJpbnREZWJ1Z1xcXCI6WzY0XSxcXFwibmF2Q2hhbmdlZFxcXCI6WzY0XX0sW1s4LFxcXCJwb3BzdGF0ZVxcXCIsXFxcIm9uUG9wU3RhdGVcXFwiXSxbNCxcXFwiaW9uQmFja0J1dHRvblxcXCIsXFxcIm9uQmFja0J1dHRvblxcXCJdXV0sWzEsXFxcImlvbi1yb3V0ZXItbGlua1xcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImhyZWZcXFwiOlsxXSxcXFwicmVsXFxcIjpbMV0sXFxcInJvdXRlckRpcmVjdGlvblxcXCI6WzEsXFxcInJvdXRlci1kaXJlY3Rpb25cXFwiXSxcXFwicm91dGVyQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJ0YXJnZXRcXFwiOlsxXX1dXV0sW1xcXCJpb24tYXZhdGFyXzNcXFwiLFtbMzMsXFxcImlvbi1hdmF0YXJcXFwiXSxbMzMsXFxcImlvbi1iYWRnZVxcXCIse1xcXCJjb2xvclxcXCI6WzUxM119XSxbMSxcXFwiaW9uLXRodW1ibmFpbFxcXCJdXV0sW1xcXCJpb24tY29sXzNcXFwiLFtbMSxcXFwiaW9uLWNvbFxcXCIse1xcXCJvZmZzZXRcXFwiOlsxXSxcXFwib2Zmc2V0WHNcXFwiOlsxLFxcXCJvZmZzZXQteHNcXFwiXSxcXFwib2Zmc2V0U21cXFwiOlsxLFxcXCJvZmZzZXQtc21cXFwiXSxcXFwib2Zmc2V0TWRcXFwiOlsxLFxcXCJvZmZzZXQtbWRcXFwiXSxcXFwib2Zmc2V0TGdcXFwiOlsxLFxcXCJvZmZzZXQtbGdcXFwiXSxcXFwib2Zmc2V0WGxcXFwiOlsxLFxcXCJvZmZzZXQteGxcXFwiXSxcXFwicHVsbFxcXCI6WzFdLFxcXCJwdWxsWHNcXFwiOlsxLFxcXCJwdWxsLXhzXFxcIl0sXFxcInB1bGxTbVxcXCI6WzEsXFxcInB1bGwtc21cXFwiXSxcXFwicHVsbE1kXFxcIjpbMSxcXFwicHVsbC1tZFxcXCJdLFxcXCJwdWxsTGdcXFwiOlsxLFxcXCJwdWxsLWxnXFxcIl0sXFxcInB1bGxYbFxcXCI6WzEsXFxcInB1bGwteGxcXFwiXSxcXFwicHVzaFxcXCI6WzFdLFxcXCJwdXNoWHNcXFwiOlsxLFxcXCJwdXNoLXhzXFxcIl0sXFxcInB1c2hTbVxcXCI6WzEsXFxcInB1c2gtc21cXFwiXSxcXFwicHVzaE1kXFxcIjpbMSxcXFwicHVzaC1tZFxcXCJdLFxcXCJwdXNoTGdcXFwiOlsxLFxcXCJwdXNoLWxnXFxcIl0sXFxcInB1c2hYbFxcXCI6WzEsXFxcInB1c2gteGxcXFwiXSxcXFwic2l6ZVxcXCI6WzFdLFxcXCJzaXplWHNcXFwiOlsxLFxcXCJzaXplLXhzXFxcIl0sXFxcInNpemVTbVxcXCI6WzEsXFxcInNpemUtc21cXFwiXSxcXFwic2l6ZU1kXFxcIjpbMSxcXFwic2l6ZS1tZFxcXCJdLFxcXCJzaXplTGdcXFwiOlsxLFxcXCJzaXplLWxnXFxcIl0sXFxcInNpemVYbFxcXCI6WzEsXFxcInNpemUteGxcXFwiXX0sW1s5LFxcXCJyZXNpemVcXFwiLFxcXCJvblJlc2l6ZVxcXCJdXV0sWzEsXFxcImlvbi1ncmlkXFxcIix7XFxcImZpeGVkXFxcIjpbNF19XSxbMSxcXFwiaW9uLXJvd1xcXCJdXV0sW1xcXCJpb24tbmF2XzJcXFwiLFtbMSxcXFwiaW9uLW5hdlxcXCIse1xcXCJkZWxlZ2F0ZVxcXCI6WzE2XSxcXFwic3dpcGVHZXN0dXJlXFxcIjpbMTAyOCxcXFwic3dpcGUtZ2VzdHVyZVxcXCJdLFxcXCJhbmltYXRlZFxcXCI6WzRdLFxcXCJhbmltYXRpb25cXFwiOlsxNl0sXFxcInJvb3RQYXJhbXNcXFwiOlsxNl0sXFxcInJvb3RcXFwiOlsxXSxcXFwicHVzaFxcXCI6WzY0XSxcXFwiaW5zZXJ0XFxcIjpbNjRdLFxcXCJpbnNlcnRQYWdlc1xcXCI6WzY0XSxcXFwicG9wXFxcIjpbNjRdLFxcXCJwb3BUb1xcXCI6WzY0XSxcXFwicG9wVG9Sb290XFxcIjpbNjRdLFxcXCJyZW1vdmVJbmRleFxcXCI6WzY0XSxcXFwic2V0Um9vdFxcXCI6WzY0XSxcXFwic2V0UGFnZXNcXFwiOls2NF0sXFxcInNldFJvdXRlSWRcXFwiOls2NF0sXFxcImdldFJvdXRlSWRcXFwiOls2NF0sXFxcImdldEFjdGl2ZVxcXCI6WzY0XSxcXFwiZ2V0QnlJbmRleFxcXCI6WzY0XSxcXFwiY2FuR29CYWNrXFxcIjpbNjRdLFxcXCJnZXRQcmV2aW91c1xcXCI6WzY0XX1dLFswLFxcXCJpb24tbmF2LWxpbmtcXFwiLHtcXFwiY29tcG9uZW50XFxcIjpbMV0sXFxcImNvbXBvbmVudFByb3BzXFxcIjpbMTZdLFxcXCJyb3V0ZXJEaXJlY3Rpb25cXFwiOlsxLFxcXCJyb3V0ZXItZGlyZWN0aW9uXFxcIl0sXFxcInJvdXRlckFuaW1hdGlvblxcXCI6WzE2XX1dXV0sW1xcXCJpb24tc2xpZGVfMlxcXCIsW1swLFxcXCJpb24tc2xpZGVcXFwiXSxbMzYsXFxcImlvbi1zbGlkZXNcXFwiLHtcXFwib3B0aW9uc1xcXCI6WzhdLFxcXCJwYWdlclxcXCI6WzRdLFxcXCJzY3JvbGxiYXJcXFwiOls0XSxcXFwidXBkYXRlXFxcIjpbNjRdLFxcXCJ1cGRhdGVBdXRvSGVpZ2h0XFxcIjpbNjRdLFxcXCJzbGlkZVRvXFxcIjpbNjRdLFxcXCJzbGlkZU5leHRcXFwiOls2NF0sXFxcInNsaWRlUHJldlxcXCI6WzY0XSxcXFwiZ2V0QWN0aXZlSW5kZXhcXFwiOls2NF0sXFxcImdldFByZXZpb3VzSW5kZXhcXFwiOls2NF0sXFxcImxlbmd0aFxcXCI6WzY0XSxcXFwiaXNFbmRcXFwiOls2NF0sXFxcImlzQmVnaW5uaW5nXFxcIjpbNjRdLFxcXCJzdGFydEF1dG9wbGF5XFxcIjpbNjRdLFxcXCJzdG9wQXV0b3BsYXlcXFwiOls2NF0sXFxcImxvY2tTd2lwZVRvTmV4dFxcXCI6WzY0XSxcXFwibG9ja1N3aXBlVG9QcmV2XFxcIjpbNjRdLFxcXCJsb2NrU3dpcGVzXFxcIjpbNjRdLFxcXCJnZXRTd2lwZXJcXFwiOls2NF19XV1dLFtcXFwiaW9uLXRhYl8yXFxcIixbWzEsXFxcImlvbi10YWJcXFwiLHtcXFwiYWN0aXZlXFxcIjpbMTAyOF0sXFxcImRlbGVnYXRlXFxcIjpbMTZdLFxcXCJ0YWJcXFwiOlsxXSxcXFwiY29tcG9uZW50XFxcIjpbMV0sXFxcInNldEFjdGl2ZVxcXCI6WzY0XX1dLFsxLFxcXCJpb24tdGFic1xcXCIse1xcXCJ1c2VSb3V0ZXJcXFwiOlsxMDI4LFxcXCJ1c2Utcm91dGVyXFxcIl0sXFxcInNlbGVjdGVkVGFiXFxcIjpbMzJdLFxcXCJzZWxlY3RcXFwiOls2NF0sXFxcImdldFRhYlxcXCI6WzY0XSxcXFwiZ2V0U2VsZWN0ZWRcXFwiOls2NF0sXFxcInNldFJvdXRlSWRcXFwiOls2NF0sXFxcImdldFJvdXRlSWRcXFwiOls2NF19XV1dLFtcXFwiaW9uLWltZ1xcXCIsW1sxLFxcXCJpb24taW1nXFxcIix7XFxcImFsdFxcXCI6WzFdLFxcXCJzcmNcXFwiOlsxXSxcXFwibG9hZFNyY1xcXCI6WzMyXSxcXFwibG9hZEVycm9yXFxcIjpbMzJdfV1dXSxbXFxcImlvbi1pbnB1dFxcXCIsW1szNCxcXFwiaW9uLWlucHV0XFxcIix7XFxcImZpcmVGb2N1c0V2ZW50c1xcXCI6WzQsXFxcImZpcmUtZm9jdXMtZXZlbnRzXFxcIl0sXFxcImNvbG9yXFxcIjpbNTEzXSxcXFwiYWNjZXB0XFxcIjpbMV0sXFxcImF1dG9jYXBpdGFsaXplXFxcIjpbMV0sXFxcImF1dG9jb21wbGV0ZVxcXCI6WzFdLFxcXCJhdXRvY29ycmVjdFxcXCI6WzFdLFxcXCJhdXRvZm9jdXNcXFwiOls0XSxcXFwiY2xlYXJJbnB1dFxcXCI6WzQsXFxcImNsZWFyLWlucHV0XFxcIl0sXFxcImNsZWFyT25FZGl0XFxcIjpbNCxcXFwiY2xlYXItb24tZWRpdFxcXCJdLFxcXCJkZWJvdW5jZVxcXCI6WzJdLFxcXCJkaXNhYmxlZFxcXCI6WzRdLFxcXCJlbnRlcmtleWhpbnRcXFwiOlsxXSxcXFwiaW5wdXRtb2RlXFxcIjpbMV0sXFxcIm1heFxcXCI6WzFdLFxcXCJtYXhsZW5ndGhcXFwiOlsyXSxcXFwibWluXFxcIjpbMV0sXFxcIm1pbmxlbmd0aFxcXCI6WzJdLFxcXCJtdWx0aXBsZVxcXCI6WzRdLFxcXCJuYW1lXFxcIjpbMV0sXFxcInBhdHRlcm5cXFwiOlsxXSxcXFwicGxhY2Vob2xkZXJcXFwiOlsxXSxcXFwicmVhZG9ubHlcXFwiOls0XSxcXFwicmVxdWlyZWRcXFwiOls0XSxcXFwic3BlbGxjaGVja1xcXCI6WzRdLFxcXCJzdGVwXFxcIjpbMV0sXFxcInNpemVcXFwiOlsyXSxcXFwidHlwZVxcXCI6WzFdLFxcXCJ2YWx1ZVxcXCI6WzEwMzJdLFxcXCJoYXNGb2N1c1xcXCI6WzMyXSxcXFwic2V0Rm9jdXNcXFwiOls2NF0sXFxcInNldEJsdXJcXFwiOls2NF0sXFxcImdldElucHV0RWxlbWVudFxcXCI6WzY0XX1dXV0sW1xcXCJpb24tcHJvZ3Jlc3MtYmFyXFxcIixbWzMzLFxcXCJpb24tcHJvZ3Jlc3MtYmFyXFxcIix7XFxcInR5cGVcXFwiOlsxXSxcXFwicmV2ZXJzZWRcXFwiOls0XSxcXFwidmFsdWVcXFwiOlsyXSxcXFwiYnVmZmVyXFxcIjpbMl0sXFxcImNvbG9yXFxcIjpbNTEzXX1dXV0sW1xcXCJpb24tcmFuZ2VcXFwiLFtbMzMsXFxcImlvbi1yYW5nZVxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImRlYm91bmNlXFxcIjpbMl0sXFxcIm5hbWVcXFwiOlsxXSxcXFwiZHVhbEtub2JzXFxcIjpbNCxcXFwiZHVhbC1rbm9ic1xcXCJdLFxcXCJtaW5cXFwiOlsyXSxcXFwibWF4XFxcIjpbMl0sXFxcInBpblxcXCI6WzRdLFxcXCJwaW5Gb3JtYXR0ZXJcXFwiOlsxNl0sXFxcInNuYXBzXFxcIjpbNF0sXFxcInN0ZXBcXFwiOlsyXSxcXFwidGlja3NcXFwiOls0XSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwidmFsdWVcXFwiOlsxMDI2XSxcXFwicmF0aW9BXFxcIjpbMzJdLFxcXCJyYXRpb0JcXFwiOlszMl0sXFxcInByZXNzZWRLbm9iXFxcIjpbMzJdfV1dXSxbXFxcImlvbi1zcGxpdC1wYW5lXFxcIixbWzMzLFxcXCJpb24tc3BsaXQtcGFuZVxcXCIse1xcXCJjb250ZW50SWRcXFwiOls1MTMsXFxcImNvbnRlbnQtaWRcXFwiXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwid2hlblxcXCI6WzhdLFxcXCJ2aXNpYmxlXFxcIjpbMzJdfV1dXSxbXFxcImlvbi10ZXh0XFxcIixbWzEsXFxcImlvbi10ZXh0XFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXX1dXV0sW1xcXCJpb24tdGV4dGFyZWFcXFwiLFtbMzQsXFxcImlvbi10ZXh0YXJlYVxcXCIse1xcXCJmaXJlRm9jdXNFdmVudHNcXFwiOls0LFxcXCJmaXJlLWZvY3VzLWV2ZW50c1xcXCJdLFxcXCJjb2xvclxcXCI6WzUxM10sXFxcImF1dG9jYXBpdGFsaXplXFxcIjpbMV0sXFxcImF1dG9mb2N1c1xcXCI6WzRdLFxcXCJjbGVhck9uRWRpdFxcXCI6WzEwMjgsXFxcImNsZWFyLW9uLWVkaXRcXFwiXSxcXFwiZGVib3VuY2VcXFwiOlsyXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwiaW5wdXRtb2RlXFxcIjpbMV0sXFxcImVudGVya2V5aGludFxcXCI6WzFdLFxcXCJtYXhsZW5ndGhcXFwiOlsyXSxcXFwibWlubGVuZ3RoXFxcIjpbMl0sXFxcIm5hbWVcXFwiOlsxXSxcXFwicGxhY2Vob2xkZXJcXFwiOlsxXSxcXFwicmVhZG9ubHlcXFwiOls0XSxcXFwicmVxdWlyZWRcXFwiOls0XSxcXFwic3BlbGxjaGVja1xcXCI6WzRdLFxcXCJjb2xzXFxcIjpbMl0sXFxcInJvd3NcXFwiOlsyXSxcXFwid3JhcFxcXCI6WzFdLFxcXCJhdXRvR3Jvd1xcXCI6WzQsXFxcImF1dG8tZ3Jvd1xcXCJdLFxcXCJ2YWx1ZVxcXCI6WzEwMjVdLFxcXCJoYXNGb2N1c1xcXCI6WzMyXSxcXFwic2V0Rm9jdXNcXFwiOls2NF0sXFxcInNldEJsdXJcXFwiOls2NF0sXFxcImdldElucHV0RWxlbWVudFxcXCI6WzY0XX1dXV0sW1xcXCJpb24tdG9nZ2xlXFxcIixbWzMzLFxcXCJpb24tdG9nZ2xlXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwibmFtZVxcXCI6WzFdLFxcXCJjaGVja2VkXFxcIjpbMTAyOF0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcInZhbHVlXFxcIjpbMV0sXFxcImFjdGl2YXRlZFxcXCI6WzMyXX1dXV0sW1xcXCJpb24tdmlydHVhbC1zY3JvbGxcXFwiLFtbMCxcXFwiaW9uLXZpcnR1YWwtc2Nyb2xsXFxcIix7XFxcImFwcHJveEl0ZW1IZWlnaHRcXFwiOlsyLFxcXCJhcHByb3gtaXRlbS1oZWlnaHRcXFwiXSxcXFwiYXBwcm94SGVhZGVySGVpZ2h0XFxcIjpbMixcXFwiYXBwcm94LWhlYWRlci1oZWlnaHRcXFwiXSxcXFwiYXBwcm94Rm9vdGVySGVpZ2h0XFxcIjpbMixcXFwiYXBwcm94LWZvb3Rlci1oZWlnaHRcXFwiXSxcXFwiaGVhZGVyRm5cXFwiOlsxNl0sXFxcImZvb3RlckZuXFxcIjpbMTZdLFxcXCJpdGVtc1xcXCI6WzE2XSxcXFwiaXRlbUhlaWdodFxcXCI6WzE2XSxcXFwiaGVhZGVySGVpZ2h0XFxcIjpbMTZdLFxcXCJmb290ZXJIZWlnaHRcXFwiOlsxNl0sXFxcInJlbmRlckl0ZW1cXFwiOlsxNl0sXFxcInJlbmRlckhlYWRlclxcXCI6WzE2XSxcXFwicmVuZGVyRm9vdGVyXFxcIjpbMTZdLFxcXCJub2RlUmVuZGVyXFxcIjpbMTZdLFxcXCJkb21SZW5kZXJcXFwiOlsxNl0sXFxcInRvdGFsSGVpZ2h0XFxcIjpbMzJdLFxcXCJwb3NpdGlvbkZvckl0ZW1cXFwiOls2NF0sXFxcImNoZWNrUmFuZ2VcXFwiOls2NF0sXFxcImNoZWNrRW5kXFxcIjpbNjRdfSxbWzksXFxcInJlc2l6ZVxcXCIsXFxcIm9uUmVzaXplXFxcIl1dXV1dLFtcXFwiaW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWxcXFwiLFtbMzMsXFxcImlvbi1waWNrZXItY29sdW1uLWludGVybmFsXFxcIix7XFxcIml0ZW1zXFxcIjpbMTZdLFxcXCJ2YWx1ZVxcXCI6WzEwMzJdLFxcXCJjb2xvclxcXCI6WzUxM10sXFxcIm51bWVyaWNJbnB1dFxcXCI6WzQsXFxcIm51bWVyaWMtaW5wdXRcXFwiXSxcXFwiaXNBY3RpdmVcXFwiOlszMl19XV1dLFtcXFwiaW9uLXBpY2tlci1pbnRlcm5hbFxcXCIsW1szMyxcXFwiaW9uLXBpY2tlci1pbnRlcm5hbFxcXCJdXV0sW1xcXCJpb24tY2hlY2tib3hcXFwiLFtbMzMsXFxcImlvbi1jaGVja2JveFxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcIm5hbWVcXFwiOlsxXSxcXFwiY2hlY2tlZFxcXCI6WzEwMjhdLFxcXCJpbmRldGVybWluYXRlXFxcIjpbMTAyOF0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcInZhbHVlXFxcIjpbOF19XV1dLFtcXFwiaW9uLXNlbGVjdF8zXFxcIixbWzMzLFxcXCJpb24tc2VsZWN0XFxcIix7XFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImNhbmNlbFRleHRcXFwiOlsxLFxcXCJjYW5jZWwtdGV4dFxcXCJdLFxcXCJva1RleHRcXFwiOlsxLFxcXCJvay10ZXh0XFxcIl0sXFxcInBsYWNlaG9sZGVyXFxcIjpbMV0sXFxcIm5hbWVcXFwiOlsxXSxcXFwic2VsZWN0ZWRUZXh0XFxcIjpbMSxcXFwic2VsZWN0ZWQtdGV4dFxcXCJdLFxcXCJtdWx0aXBsZVxcXCI6WzRdLFxcXCJpbnRlcmZhY2VcXFwiOlsxXSxcXFwiaW50ZXJmYWNlT3B0aW9uc1xcXCI6WzgsXFxcImludGVyZmFjZS1vcHRpb25zXFxcIl0sXFxcImNvbXBhcmVXaXRoXFxcIjpbMSxcXFwiY29tcGFyZS13aXRoXFxcIl0sXFxcInZhbHVlXFxcIjpbMTAzMl0sXFxcImlzRXhwYW5kZWRcXFwiOlszMl0sXFxcIm9wZW5cXFwiOls2NF19XSxbMSxcXFwiaW9uLXNlbGVjdC1vcHRpb25cXFwiLHtcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwidmFsdWVcXFwiOls4XX1dLFszNCxcXFwiaW9uLXNlbGVjdC1wb3BvdmVyXFxcIix7XFxcImhlYWRlclxcXCI6WzFdLFxcXCJzdWJIZWFkZXJcXFwiOlsxLFxcXCJzdWItaGVhZGVyXFxcIl0sXFxcIm1lc3NhZ2VcXFwiOlsxXSxcXFwibXVsdGlwbGVcXFwiOls0XSxcXFwib3B0aW9uc1xcXCI6WzE2XX0sW1swLFxcXCJpb25DaGFuZ2VcXFwiLFxcXCJvblNlbGVjdFxcXCJdXV1dXSxbXFxcImlvbi1iYWNrZHJvcFxcXCIsW1szMyxcXFwiaW9uLWJhY2tkcm9wXFxcIix7XFxcInZpc2libGVcXFwiOls0XSxcXFwidGFwcGFibGVcXFwiOls0XSxcXFwic3RvcFByb3BhZ2F0aW9uXFxcIjpbNCxcXFwic3RvcC1wcm9wYWdhdGlvblxcXCJdfSxbWzIsXFxcImNsaWNrXFxcIixcXFwib25Nb3VzZURvd25cXFwiXV1dXV0sW1xcXCJpb24tcG9wb3ZlclxcXCIsW1szMyxcXFwiaW9uLXBvcG92ZXJcXFwiLHtcXFwiaGFzQ29udHJvbGxlclxcXCI6WzQsXFxcImhhcy1jb250cm9sbGVyXFxcIl0sXFxcImRlbGVnYXRlXFxcIjpbMTZdLFxcXCJvdmVybGF5SW5kZXhcXFwiOlsyLFxcXCJvdmVybGF5LWluZGV4XFxcIl0sXFxcImVudGVyQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJsZWF2ZUFuaW1hdGlvblxcXCI6WzE2XSxcXFwiY29tcG9uZW50XFxcIjpbMV0sXFxcImNvbXBvbmVudFByb3BzXFxcIjpbMTZdLFxcXCJrZXlib2FyZENsb3NlXFxcIjpbNCxcXFwia2V5Ym9hcmQtY2xvc2VcXFwiXSxcXFwiY3NzQ2xhc3NcXFwiOlsxLFxcXCJjc3MtY2xhc3NcXFwiXSxcXFwiYmFja2Ryb3BEaXNtaXNzXFxcIjpbNCxcXFwiYmFja2Ryb3AtZGlzbWlzc1xcXCJdLFxcXCJldmVudFxcXCI6WzhdLFxcXCJzaG93QmFja2Ryb3BcXFwiOls0LFxcXCJzaG93LWJhY2tkcm9wXFxcIl0sXFxcInRyYW5zbHVjZW50XFxcIjpbNF0sXFxcImFuaW1hdGVkXFxcIjpbNF0sXFxcImh0bWxBdHRyaWJ1dGVzXFxcIjpbMTZdLFxcXCJ0cmlnZ2VyQWN0aW9uXFxcIjpbMSxcXFwidHJpZ2dlci1hY3Rpb25cXFwiXSxcXFwidHJpZ2dlclxcXCI6WzFdLFxcXCJzaXplXFxcIjpbMV0sXFxcImRpc21pc3NPblNlbGVjdFxcXCI6WzQsXFxcImRpc21pc3Mtb24tc2VsZWN0XFxcIl0sXFxcInJlZmVyZW5jZVxcXCI6WzFdLFxcXCJzaWRlXFxcIjpbMV0sXFxcImFsaWdubWVudFxcXCI6WzFdLFxcXCJhcnJvd1xcXCI6WzRdLFxcXCJpc09wZW5cXFwiOls0LFxcXCJpcy1vcGVuXFxcIl0sXFxcImtleWJvYXJkRXZlbnRzXFxcIjpbNCxcXFwia2V5Ym9hcmQtZXZlbnRzXFxcIl0sXFxcInByZXNlbnRlZFxcXCI6WzMyXSxcXFwicHJlc2VudEZyb21UcmlnZ2VyXFxcIjpbNjRdLFxcXCJwcmVzZW50XFxcIjpbNjRdLFxcXCJkaXNtaXNzXFxcIjpbNjRdLFxcXCJnZXRQYXJlbnRQb3BvdmVyXFxcIjpbNjRdLFxcXCJvbkRpZERpc21pc3NcXFwiOls2NF0sXFxcIm9uV2lsbERpc21pc3NcXFwiOls2NF19XV1dLFtcXFwiaW9uLWFwcF84XFxcIixbWzAsXFxcImlvbi1hcHBcXFwiLHtcXFwic2V0Rm9jdXNcXFwiOls2NF19XSxbMSxcXFwiaW9uLWNvbnRlbnRcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJmdWxsc2NyZWVuXFxcIjpbNF0sXFxcImZvcmNlT3ZlcnNjcm9sbFxcXCI6WzEwMjgsXFxcImZvcmNlLW92ZXJzY3JvbGxcXFwiXSxcXFwic2Nyb2xsWFxcXCI6WzQsXFxcInNjcm9sbC14XFxcIl0sXFxcInNjcm9sbFlcXFwiOls0LFxcXCJzY3JvbGwteVxcXCJdLFxcXCJzY3JvbGxFdmVudHNcXFwiOls0LFxcXCJzY3JvbGwtZXZlbnRzXFxcIl0sXFxcImdldFNjcm9sbEVsZW1lbnRcXFwiOls2NF0sXFxcInNjcm9sbFRvVG9wXFxcIjpbNjRdLFxcXCJzY3JvbGxUb0JvdHRvbVxcXCI6WzY0XSxcXFwic2Nyb2xsQnlQb2ludFxcXCI6WzY0XSxcXFwic2Nyb2xsVG9Qb2ludFxcXCI6WzY0XX0sW1s4LFxcXCJhcHBsb2FkXFxcIixcXFwib25BcHBMb2FkXFxcIl0sWzIsXFxcImNsaWNrXFxcIixcXFwib25DbGlja1xcXCJdXV0sWzM2LFxcXCJpb24tZm9vdGVyXFxcIix7XFxcImNvbGxhcHNlXFxcIjpbMV0sXFxcInRyYW5zbHVjZW50XFxcIjpbNF19XSxbMzYsXFxcImlvbi1oZWFkZXJcXFwiLHtcXFwiY29sbGFwc2VcXFwiOlsxXSxcXFwidHJhbnNsdWNlbnRcXFwiOls0XX1dLFsxLFxcXCJpb24tcm91dGVyLW91dGxldFxcXCIse1xcXCJtb2RlXFxcIjpbMTAyNV0sXFxcImRlbGVnYXRlXFxcIjpbMTZdLFxcXCJhbmltYXRlZFxcXCI6WzRdLFxcXCJhbmltYXRpb25cXFwiOlsxNl0sXFxcInN3aXBlSGFuZGxlclxcXCI6WzE2XSxcXFwiY29tbWl0XFxcIjpbNjRdLFxcXCJzZXRSb3V0ZUlkXFxcIjpbNjRdLFxcXCJnZXRSb3V0ZUlkXFxcIjpbNjRdfV0sWzMzLFxcXCJpb24tdGl0bGVcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJzaXplXFxcIjpbMV19XSxbMzMsXFxcImlvbi10b29sYmFyXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXX0sW1swLFxcXCJpb25TdHlsZVxcXCIsXFxcImNoaWxkcmVuU3R5bGVcXFwiXV1dLFszNCxcXFwiaW9uLWJ1dHRvbnNcXFwiLHtcXFwiY29sbGFwc2VcXFwiOls0XX1dXV0sW1xcXCJpb24taXRlbV84XFxcIixbWzMzLFxcXCJpb24taXRlbS1kaXZpZGVyXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXSxcXFwic3RpY2t5XFxcIjpbNF19XSxbMzIsXFxcImlvbi1pdGVtLWdyb3VwXFxcIl0sWzEsXFxcImlvbi1za2VsZXRvbi10ZXh0XFxcIix7XFxcImFuaW1hdGVkXFxcIjpbNF19XSxbMzIsXFxcImlvbi1saXN0XFxcIix7XFxcImxpbmVzXFxcIjpbMV0sXFxcImluc2V0XFxcIjpbNF0sXFxcImNsb3NlU2xpZGluZ0l0ZW1zXFxcIjpbNjRdfV0sWzMzLFxcXCJpb24tbGlzdC1oZWFkZXJcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJsaW5lc1xcXCI6WzFdfV0sWzQ5LFxcXCJpb24taXRlbVxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImJ1dHRvblxcXCI6WzRdLFxcXCJkZXRhaWxcXFwiOls0XSxcXFwiZGV0YWlsSWNvblxcXCI6WzEsXFxcImRldGFpbC1pY29uXFxcIl0sXFxcImRpc2FibGVkXFxcIjpbNF0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImZpbGxcXFwiOlsxXSxcXFwic2hhcGVcXFwiOlsxXSxcXFwiaHJlZlxcXCI6WzFdLFxcXCJyZWxcXFwiOlsxXSxcXFwibGluZXNcXFwiOlsxXSxcXFwiY291bnRlclxcXCI6WzRdLFxcXCJyb3V0ZXJBbmltYXRpb25cXFwiOlsxNl0sXFxcInJvdXRlckRpcmVjdGlvblxcXCI6WzEsXFxcInJvdXRlci1kaXJlY3Rpb25cXFwiXSxcXFwidGFyZ2V0XFxcIjpbMV0sXFxcInR5cGVcXFwiOlsxXSxcXFwibXVsdGlwbGVJbnB1dHNcXFwiOlszMl0sXFxcImZvY3VzYWJsZVxcXCI6WzMyXSxcXFwiY291bnRlclN0cmluZ1xcXCI6WzMyXX0sW1swLFxcXCJpb25DaGFuZ2VcXFwiLFxcXCJoYW5kbGVJb25DaGFuZ2VcXFwiXSxbMCxcXFwiaW9uQ29sb3JcXFwiLFxcXCJsYWJlbENvbG9yQ2hhbmdlZFxcXCJdLFswLFxcXCJpb25TdHlsZVxcXCIsXFxcIml0ZW1TdHlsZVxcXCJdXV0sWzM0LFxcXCJpb24tbGFiZWxcXFwiLHtcXFwiY29sb3JcXFwiOls1MTNdLFxcXCJwb3NpdGlvblxcXCI6WzFdLFxcXCJub0FuaW1hdGVcXFwiOlszMl19XSxbMzMsXFxcImlvbi1ub3RlXFxcIix7XFxcImNvbG9yXFxcIjpbNTEzXX1dXV0sW1xcXCJpb24tZGF0ZXRpbWVfM1xcXCIsW1szMyxcXFwiaW9uLWRhdGV0aW1lXFxcIix7XFxcImNvbG9yXFxcIjpbMV0sXFxcIm5hbWVcXFwiOlsxXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwicmVhZG9ubHlcXFwiOls0XSxcXFwibWluXFxcIjpbMTAyNV0sXFxcIm1heFxcXCI6WzEwMjVdLFxcXCJwcmVzZW50YXRpb25cXFwiOlsxXSxcXFwiY2FuY2VsVGV4dFxcXCI6WzEsXFxcImNhbmNlbC10ZXh0XFxcIl0sXFxcImRvbmVUZXh0XFxcIjpbMSxcXFwiZG9uZS10ZXh0XFxcIl0sXFxcImNsZWFyVGV4dFxcXCI6WzEsXFxcImNsZWFyLXRleHRcXFwiXSxcXFwieWVhclZhbHVlc1xcXCI6WzgsXFxcInllYXItdmFsdWVzXFxcIl0sXFxcIm1vbnRoVmFsdWVzXFxcIjpbOCxcXFwibW9udGgtdmFsdWVzXFxcIl0sXFxcImRheVZhbHVlc1xcXCI6WzgsXFxcImRheS12YWx1ZXNcXFwiXSxcXFwiaG91clZhbHVlc1xcXCI6WzgsXFxcImhvdXItdmFsdWVzXFxcIl0sXFxcIm1pbnV0ZVZhbHVlc1xcXCI6WzgsXFxcIm1pbnV0ZS12YWx1ZXNcXFwiXSxcXFwibG9jYWxlXFxcIjpbMV0sXFxcImZpcnN0RGF5T2ZXZWVrXFxcIjpbMixcXFwiZmlyc3QtZGF5LW9mLXdlZWtcXFwiXSxcXFwidmFsdWVcXFwiOlsxMDI1XSxcXFwic2hvd0RlZmF1bHRUaXRsZVxcXCI6WzQsXFxcInNob3ctZGVmYXVsdC10aXRsZVxcXCJdLFxcXCJzaG93RGVmYXVsdEJ1dHRvbnNcXFwiOls0LFxcXCJzaG93LWRlZmF1bHQtYnV0dG9uc1xcXCJdLFxcXCJzaG93Q2xlYXJCdXR0b25cXFwiOls0LFxcXCJzaG93LWNsZWFyLWJ1dHRvblxcXCJdLFxcXCJzaG93RGVmYXVsdFRpbWVMYWJlbFxcXCI6WzQsXFxcInNob3ctZGVmYXVsdC10aW1lLWxhYmVsXFxcIl0sXFxcImhvdXJDeWNsZVxcXCI6WzEsXFxcImhvdXItY3ljbGVcXFwiXSxcXFwic2l6ZVxcXCI6WzFdLFxcXCJzaG93TW9udGhBbmRZZWFyXFxcIjpbMzJdLFxcXCJhY3RpdmVQYXJ0c1xcXCI6WzMyXSxcXFwid29ya2luZ1BhcnRzXFxcIjpbMzJdLFxcXCJpc1ByZXNlbnRlZFxcXCI6WzMyXSxcXFwiaXNUaW1lUG9wb3Zlck9wZW5cXFwiOlszMl0sXFxcImNvbmZpcm1cXFwiOls2NF0sXFxcInJlc2V0XFxcIjpbNjRdLFxcXCJjYW5jZWxcXFwiOls2NF19XSxbMzQsXFxcImlvbi1waWNrZXJcXFwiLHtcXFwib3ZlcmxheUluZGV4XFxcIjpbMixcXFwib3ZlcmxheS1pbmRleFxcXCJdLFxcXCJrZXlib2FyZENsb3NlXFxcIjpbNCxcXFwia2V5Ym9hcmQtY2xvc2VcXFwiXSxcXFwiZW50ZXJBbmltYXRpb25cXFwiOlsxNl0sXFxcImxlYXZlQW5pbWF0aW9uXFxcIjpbMTZdLFxcXCJidXR0b25zXFxcIjpbMTZdLFxcXCJjb2x1bW5zXFxcIjpbMTZdLFxcXCJjc3NDbGFzc1xcXCI6WzEsXFxcImNzcy1jbGFzc1xcXCJdLFxcXCJkdXJhdGlvblxcXCI6WzJdLFxcXCJzaG93QmFja2Ryb3BcXFwiOls0LFxcXCJzaG93LWJhY2tkcm9wXFxcIl0sXFxcImJhY2tkcm9wRGlzbWlzc1xcXCI6WzQsXFxcImJhY2tkcm9wLWRpc21pc3NcXFwiXSxcXFwiYW5pbWF0ZWRcXFwiOls0XSxcXFwiaHRtbEF0dHJpYnV0ZXNcXFwiOlsxNl0sXFxcInByZXNlbnRlZFxcXCI6WzMyXSxcXFwicHJlc2VudFxcXCI6WzY0XSxcXFwiZGlzbWlzc1xcXCI6WzY0XSxcXFwib25EaWREaXNtaXNzXFxcIjpbNjRdLFxcXCJvbldpbGxEaXNtaXNzXFxcIjpbNjRdLFxcXCJnZXRDb2x1bW5cXFwiOls2NF19XSxbMzIsXFxcImlvbi1waWNrZXItY29sdW1uXFxcIix7XFxcImNvbFxcXCI6WzE2XX1dXV0sW1xcXCJpb24tc3Bpbm5lclxcXCIsW1sxLFxcXCJpb24tc3Bpbm5lclxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImR1cmF0aW9uXFxcIjpbMl0sXFxcIm5hbWVcXFwiOlsxXSxcXFwicGF1c2VkXFxcIjpbNF19XV1dLFtcXFwiaW9uLXJhZGlvXzJcXFwiLFtbMzMsXFxcImlvbi1yYWRpb1xcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcIm5hbWVcXFwiOlsxXSxcXFwiZGlzYWJsZWRcXFwiOls0XSxcXFwidmFsdWVcXFwiOls4XSxcXFwiY2hlY2tlZFxcXCI6WzMyXSxcXFwiYnV0dG9uVGFiaW5kZXhcXFwiOlszMl0sXFxcInNldEZvY3VzXFxcIjpbNjRdLFxcXCJzZXRCdXR0b25UYWJpbmRleFxcXCI6WzY0XX1dLFswLFxcXCJpb24tcmFkaW8tZ3JvdXBcXFwiLHtcXFwiYWxsb3dFbXB0eVNlbGVjdGlvblxcXCI6WzQsXFxcImFsbG93LWVtcHR5LXNlbGVjdGlvblxcXCJdLFxcXCJuYW1lXFxcIjpbMV0sXFxcInZhbHVlXFxcIjpbMTAzMl19LFtbNCxcXFwia2V5ZG93blxcXCIsXFxcIm9uS2V5ZG93blxcXCJdXV1dXSxbXFxcImlvbi1yaXBwbGUtZWZmZWN0XFxcIixbWzEsXFxcImlvbi1yaXBwbGUtZWZmZWN0XFxcIix7XFxcInR5cGVcXFwiOlsxXSxcXFwiYWRkUmlwcGxlXFxcIjpbNjRdfV1dXSxbXFxcImlvbi1idXR0b25fMlxcXCIsW1szMyxcXFwiaW9uLWJ1dHRvblxcXCIse1xcXCJjb2xvclxcXCI6WzUxM10sXFxcImJ1dHRvblR5cGVcXFwiOlsxMDI1LFxcXCJidXR0b24tdHlwZVxcXCJdLFxcXCJkaXNhYmxlZFxcXCI6WzUxNl0sXFxcImV4cGFuZFxcXCI6WzUxM10sXFxcImZpbGxcXFwiOlsxNTM3XSxcXFwicm91dGVyRGlyZWN0aW9uXFxcIjpbMSxcXFwicm91dGVyLWRpcmVjdGlvblxcXCJdLFxcXCJyb3V0ZXJBbmltYXRpb25cXFwiOlsxNl0sXFxcImRvd25sb2FkXFxcIjpbMV0sXFxcImhyZWZcXFwiOlsxXSxcXFwicmVsXFxcIjpbMV0sXFxcInNoYXBlXFxcIjpbNTEzXSxcXFwic2l6ZVxcXCI6WzUxM10sXFxcInN0cm9uZ1xcXCI6WzRdLFxcXCJ0YXJnZXRcXFwiOlsxXSxcXFwidHlwZVxcXCI6WzFdfV0sWzEsXFxcImlvbi1pY29uXFxcIix7XFxcIm1vZGVcXFwiOlsxMDI1XSxcXFwiY29sb3JcXFwiOlsxXSxcXFwiaW9zXFxcIjpbMV0sXFxcIm1kXFxcIjpbMV0sXFxcImZsaXBSdGxcXFwiOls0LFxcXCJmbGlwLXJ0bFxcXCJdLFxcXCJuYW1lXFxcIjpbNTEzXSxcXFwic3JjXFxcIjpbMV0sXFxcImljb25cXFwiOls4XSxcXFwic2l6ZVxcXCI6WzFdLFxcXCJsYXp5XFxcIjpbNF0sXFxcInNhbml0aXplXFxcIjpbNF0sXFxcInN2Z0NvbnRlbnRcXFwiOlszMl0sXFxcImlzVmlzaWJsZVxcXCI6WzMyXSxcXFwiYXJpYUxhYmVsXFxcIjpbMzJdfV1dXV1cIiksIG9wdGlvbnMpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IGRlZmluZUN1c3RvbUVsZW1lbnRzIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi1jOWMyYTM1OS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldElvblBhZ2VFbGVtZW50IH0gZnJvbSAnLi9pbmRleC1jOGVmNTViNS5qcyc7XG5pbXBvcnQgJy4vaGVscGVycy1lZWQ3OWEyYi5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtMDZjZDI3YjEuanMnO1xuXG5jb25zdCBtZFRyYW5zaXRpb25BbmltYXRpb24gPSAoXywgb3B0cykgPT4ge1xuICBjb25zdCBPRkZfQk9UVE9NID0gJzQwcHgnO1xuICBjb25zdCBDRU5URVIgPSAnMHB4JztcbiAgY29uc3QgYmFja0RpcmVjdGlvbiA9IChvcHRzLmRpcmVjdGlvbiA9PT0gJ2JhY2snKTtcbiAgY29uc3QgZW50ZXJpbmdFbCA9IG9wdHMuZW50ZXJpbmdFbDtcbiAgY29uc3QgbGVhdmluZ0VsID0gb3B0cy5sZWF2aW5nRWw7XG4gIGNvbnN0IGlvblBhZ2VFbGVtZW50ID0gZ2V0SW9uUGFnZUVsZW1lbnQoZW50ZXJpbmdFbCk7XG4gIGNvbnN0IGVudGVyaW5nVG9vbGJhckVsZSA9IGlvblBhZ2VFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi10b29sYmFyJyk7XG4gIGNvbnN0IHJvb3RUcmFuc2l0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIHJvb3RUcmFuc2l0aW9uXG4gICAgLmFkZEVsZW1lbnQoaW9uUGFnZUVsZW1lbnQpXG4gICAgLmZpbGwoJ2JvdGgnKVxuICAgIC5iZWZvcmVSZW1vdmVDbGFzcygnaW9uLXBhZ2UtaW52aXNpYmxlJyk7XG4gIC8vIGFuaW1hdGUgdGhlIGNvbXBvbmVudCBpdHNlbGZcbiAgaWYgKGJhY2tEaXJlY3Rpb24pIHtcbiAgICByb290VHJhbnNpdGlvblxuICAgICAgLmR1cmF0aW9uKG9wdHMuZHVyYXRpb24gfHwgMjAwKVxuICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuNDcsMCwwLjc0NSwwLjcxNSknKTtcbiAgfVxuICBlbHNlIHtcbiAgICByb290VHJhbnNpdGlvblxuICAgICAgLmR1cmF0aW9uKG9wdHMuZHVyYXRpb24gfHwgMjgwKVxuICAgICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzYsMC42NiwwLjA0LDEpJylcbiAgICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVZKCR7T0ZGX0JPVFRPTX0pYCwgYHRyYW5zbGF0ZVkoJHtDRU5URVJ9KWApXG4gICAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gIH1cbiAgLy8gQW5pbWF0ZSB0b29sYmFyIGlmIGl0J3MgdGhlcmVcbiAgaWYgKGVudGVyaW5nVG9vbGJhckVsZSkge1xuICAgIGNvbnN0IGVudGVyaW5nVG9vbEJhciA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICAgIGVudGVyaW5nVG9vbEJhci5hZGRFbGVtZW50KGVudGVyaW5nVG9vbGJhckVsZSk7XG4gICAgcm9vdFRyYW5zaXRpb24uYWRkQW5pbWF0aW9uKGVudGVyaW5nVG9vbEJhcik7XG4gIH1cbiAgLy8gc2V0dXAgbGVhdmluZyB2aWV3XG4gIGlmIChsZWF2aW5nRWwgJiYgYmFja0RpcmVjdGlvbikge1xuICAgIC8vIGxlYXZpbmcgY29udGVudFxuICAgIHJvb3RUcmFuc2l0aW9uXG4gICAgICAuZHVyYXRpb24ob3B0cy5kdXJhdGlvbiB8fCAyMDApXG4gICAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC40NywwLDAuNzQ1LDAuNzE1KScpO1xuICAgIGNvbnN0IGxlYXZpbmdQYWdlID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gICAgbGVhdmluZ1BhZ2VcbiAgICAgIC5hZGRFbGVtZW50KGdldElvblBhZ2VFbGVtZW50KGxlYXZpbmdFbCkpXG4gICAgICAub25GaW5pc2goY3VycmVudFN0ZXAgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRTdGVwID09PSAxICYmIGxlYXZpbmdQYWdlLmVsZW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGVhdmluZ1BhZ2UuZWxlbWVudHNbMF0uc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuICAgIH0pXG4gICAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlWSgke0NFTlRFUn0pYCwgYHRyYW5zbGF0ZVkoJHtPRkZfQk9UVE9NfSlgKVxuICAgICAgLmZyb21Ubygnb3BhY2l0eScsIDEsIDApO1xuICAgIHJvb3RUcmFuc2l0aW9uLmFkZEFuaW1hdGlvbihsZWF2aW5nUGFnZSk7XG4gIH1cbiAgcmV0dXJuIHJvb3RUcmFuc2l0aW9uO1xufTtcblxuZXhwb3J0IHsgbWRUcmFuc2l0aW9uQW5pbWF0aW9uIH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgYyBhcyB3cml0ZVRhc2ssIHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZSBhcyBjcmVhdGVFdmVudCwgZiBhcyByZWFkVGFzaywgaCwgSCBhcyBIb3N0LCBpIGFzIGdldEVsZW1lbnQsIGogYXMgZm9yY2VVcGRhdGUgfSBmcm9tICcuL2luZGV4LTA2Y2QyN2IxLmpzJztcbmltcG9ydCB7IGIgYXMgZ2V0SW9uTW9kZSwgYyBhcyBjb25maWcsIGEgYXMgaXNQbGF0Zm9ybSB9IGZyb20gJy4vaW9uaWMtZ2xvYmFsLWEwNDliY2JmLmpzJztcbmltcG9ydCB7IGggYXMgaGFwdGljU2VsZWN0aW9uRW5kLCBhIGFzIGhhcHRpY1NlbGVjdGlvblN0YXJ0LCBiIGFzIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQgfSBmcm9tICcuL2hhcHRpYy05YTlhYTdlYy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVHZXN0dXJlIH0gZnJvbSAnLi9pbmRleC00MWJmNDFmMi5qcyc7XG5pbXBvcnQgeyBzIGFzIHNhbml0aXplRE9NU3RyaW5nIH0gZnJvbSAnLi9pbmRleC1jODQxYzkzMy5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldENsYXNzTWFwLCBjIGFzIGNyZWF0ZUNvbG9yQ2xhc3NlcyB9IGZyb20gJy4vdGhlbWUtYTI0ZmYxYWQuanMnO1xuaW1wb3J0IHsgYyBhcyBjcmVhdGVBbmltYXRpb24gfSBmcm9tICcuL2FuaW1hdGlvbi1jOWMyYTM1OS5qcyc7XG5pbXBvcnQgeyBDIGFzIENvcmVEZWxlZ2F0ZSwgYSBhcyBhdHRhY2hDb21wb25lbnQsIGQgYXMgZGV0YWNoQ29tcG9uZW50IH0gZnJvbSAnLi9mcmFtZXdvcmstZGVsZWdhdGUtYTkyMjAxOGMuanMnO1xuaW1wb3J0IHsgZCBhcyBjbGFtcCwgZyBhcyBnZXRFbGVtZW50Um9vdCwgciBhcyByYWYsIGEgYXMgYWRkRXZlbnRMaXN0ZW5lciwgYyBhcyBjb21wb25lbnRPblJlYWR5LCBmIGFzIGZvY3VzRWxlbWVudCwgYiBhcyByZW1vdmVFdmVudExpc3RlbmVyIH0gZnJvbSAnLi9oZWxwZXJzLWVlZDc5YTJiLmpzJztcbmltcG9ydCB7IGUgYXMgZGVlcFJlYWR5IH0gZnJvbSAnLi9pbmRleC1jOGVmNTViNS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFRpbWVHaXZlblByb2dyZXNzaW9uIH0gZnJvbSAnLi9jdWJpYy1iZXppZXItMTU0YTUzYTUuanMnO1xuaW1wb3J0IHsgT1ZFUkxBWV9CQUNLX0JVVFRPTl9QUklPUklUWSB9IGZyb20gJy4vaGFyZHdhcmUtYmFjay1idXR0b24tYWNlNmE3MWIuanMnO1xuXG5jb25zdCBjcmVhdGVCdXR0b25BY3RpdmVHZXN0dXJlID0gKGVsLCBpc0J1dHRvbikgPT4ge1xuICBsZXQgY3VycmVudFRvdWNoZWRCdXR0b247XG4gIGxldCBpbml0aWFsVG91Y2hlZEJ1dHRvbjtcbiAgY29uc3QgYWN0aXZhdGVCdXR0b25BdFBvaW50ID0gKHgsIHksIGhhcHRpY0ZlZWRiYWNrRm4pID0+IHtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgIGlmICghdGFyZ2V0IHx8ICFpc0J1dHRvbih0YXJnZXQpKSB7XG4gICAgICBjbGVhckFjdGl2ZUJ1dHRvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0ICE9PSBjdXJyZW50VG91Y2hlZEJ1dHRvbikge1xuICAgICAgY2xlYXJBY3RpdmVCdXR0b24oKTtcbiAgICAgIHNldEFjdGl2ZUJ1dHRvbih0YXJnZXQsIGhhcHRpY0ZlZWRiYWNrRm4pO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgc2V0QWN0aXZlQnV0dG9uID0gKGJ1dHRvbiwgaGFwdGljRmVlZGJhY2tGbikgPT4ge1xuICAgIGN1cnJlbnRUb3VjaGVkQnV0dG9uID0gYnV0dG9uO1xuICAgIGlmICghaW5pdGlhbFRvdWNoZWRCdXR0b24pIHtcbiAgICAgIGluaXRpYWxUb3VjaGVkQnV0dG9uID0gY3VycmVudFRvdWNoZWRCdXR0b247XG4gICAgfVxuICAgIGNvbnN0IGJ1dHRvblRvTW9kaWZ5ID0gY3VycmVudFRvdWNoZWRCdXR0b247XG4gICAgd3JpdGVUYXNrKCgpID0+IGJ1dHRvblRvTW9kaWZ5LmNsYXNzTGlzdC5hZGQoJ2lvbi1hY3RpdmF0ZWQnKSk7XG4gICAgaGFwdGljRmVlZGJhY2tGbigpO1xuICB9O1xuICBjb25zdCBjbGVhckFjdGl2ZUJ1dHRvbiA9IChkaXNwYXRjaENsaWNrID0gZmFsc2UpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRUb3VjaGVkQnV0dG9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJ1dHRvblRvTW9kaWZ5ID0gY3VycmVudFRvdWNoZWRCdXR0b247XG4gICAgd3JpdGVUYXNrKCgpID0+IGJ1dHRvblRvTW9kaWZ5LmNsYXNzTGlzdC5yZW1vdmUoJ2lvbi1hY3RpdmF0ZWQnKSk7XG4gICAgLyoqXG4gICAgICogQ2xpY2tpbmcgb24gb25lIGJ1dHRvbiwgYnV0IHJlbGVhc2luZyBvbiBhbm90aGVyIGJ1dHRvblxuICAgICAqIGRvZXMgbm90IGRpc3BhdGNoIGEgY2xpY2sgZXZlbnQgaW4gYnJvd3NlcnMsIHNvIHdlXG4gICAgICogbmVlZCB0byBkbyBpdCBtYW51YWxseSBoZXJlLiBTb21lIGJyb3dzZXJzIHdpbGxcbiAgICAgKiBkaXNwYXRjaCBhIGNsaWNrIGlmIGNsaWNraW5nIG9uIG9uZSBidXR0b24sIGRyYWdnaW5nIG92ZXJcbiAgICAgKiBhbm90aGVyIGJ1dHRvbiwgYW5kIHJlbGVhc2luZyBvbiB0aGUgb3JpZ2luYWwgYnV0dG9uLiBJbiB0aGF0XG4gICAgICogY2FzZSwgd2UgbmVlZCB0byBtYWtlIHN1cmUgd2UgZG8gbm90IGNhdXNlIGEgZG91YmxlIGNsaWNrIHRoZXJlLlxuICAgICAqL1xuICAgIGlmIChkaXNwYXRjaENsaWNrICYmIGluaXRpYWxUb3VjaGVkQnV0dG9uICE9PSBjdXJyZW50VG91Y2hlZEJ1dHRvbikge1xuICAgICAgY3VycmVudFRvdWNoZWRCdXR0b24uY2xpY2soKTtcbiAgICB9XG4gICAgY3VycmVudFRvdWNoZWRCdXR0b24gPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiBjcmVhdGVHZXN0dXJlKHtcbiAgICBlbCxcbiAgICBnZXN0dXJlTmFtZTogJ2J1dHRvbkFjdGl2ZURyYWcnLFxuICAgIHRocmVzaG9sZDogMCxcbiAgICBvblN0YXJ0OiBldiA9PiBhY3RpdmF0ZUJ1dHRvbkF0UG9pbnQoZXYuY3VycmVudFgsIGV2LmN1cnJlbnRZLCBoYXB0aWNTZWxlY3Rpb25TdGFydCksXG4gICAgb25Nb3ZlOiBldiA9PiBhY3RpdmF0ZUJ1dHRvbkF0UG9pbnQoZXYuY3VycmVudFgsIGV2LmN1cnJlbnRZLCBoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkKSxcbiAgICBvbkVuZDogKCkgPT4ge1xuICAgICAgY2xlYXJBY3RpdmVCdXR0b24odHJ1ZSk7XG4gICAgICBoYXB0aWNTZWxlY3Rpb25FbmQoKTtcbiAgICAgIGluaXRpYWxUb3VjaGVkQnV0dG9uID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIGlPUyBBY3Rpb24gU2hlZXQgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0VudGVyQW5pbWF0aW9uJDYgPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5hY3Rpb24tc2hlZXQtd3JhcHBlcicpKVxuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDEwMCUpJywgJ3RyYW5zbGF0ZVkoMCUpJyk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDQwMClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBpT1MgQWN0aW9uIFNoZWV0IExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NMZWF2ZUFuaW1hdGlvbiQ2ID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5hY3Rpb24tc2hlZXQtd3JhcHBlcicpKVxuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDAlKScsICd0cmFuc2xhdGVZKDEwMCUpJyk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDQ1MClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBNRCBBY3Rpb24gU2hlZXQgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kRW50ZXJBbmltYXRpb24kNSA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJ1xuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmFjdGlvbi1zaGVldC13cmFwcGVyJykpXG4gICAgLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVkoMTAwJSknLCAndHJhbnNsYXRlWSgwJSknKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKC4zNiwuNjYsLjA0LDEpJylcbiAgICAuZHVyYXRpb24oNDAwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG4vKipcbiAqIE1EIEFjdGlvbiBTaGVldCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiQ1ID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5hY3Rpb24tc2hlZXQtd3JhcHBlcicpKVxuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDAlKScsICd0cmFuc2xhdGVZKDEwMCUpJyk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDQ1MClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuY29uc3QgYWN0aW9uU2hlZXRJb3NDc3MgPSBcIi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oey0tY29sb3I6aW5pdGlhbDstLWJ1dHRvbi1jb2xvci1hY3RpdmF0ZWQ6dmFyKC0tYnV0dG9uLWNvbG9yKTstLWJ1dHRvbi1jb2xvci1mb2N1c2VkOnZhcigtLWJ1dHRvbi1jb2xvcik7LS1idXR0b24tY29sb3ItaG92ZXI6dmFyKC0tYnV0dG9uLWNvbG9yKTstLWJ1dHRvbi1jb2xvci1zZWxlY3RlZDp2YXIoLS1idXR0b24tY29sb3IpOy0tbWluLXdpZHRoOmF1dG87LS13aWR0aDoxMDAlOy0tbWF4LXdpZHRoOjUwMHB4Oy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OjEwMCU7LS1tYXgtaGVpZ2h0OmNhbGMoMTAwJSAtICh2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSkpKTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmZpeGVkO291dGxpbmU6bm9uZTtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHksIGluaGVyaXQpOy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfS5vdmVybGF5LWhpZGRlbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oe2Rpc3BsYXk6bm9uZX0uYWN0aW9uLXNoZWV0LXdyYXBwZXIuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bzttYXJnaW4tdG9wOnZhcigtLWlvbi1zYWZlLWFyZWEtdG9wLCAwKTttYXJnaW4tYm90dG9tOnZhcigtLWlvbi1zYWZlLWFyZWEtYm90dG9tLCAwKTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTt6LWluZGV4OjEwO3BvaW50ZXItZXZlbnRzOm5vbmV9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LXdyYXBwZXIuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99fS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTAwJTtib3JkZXI6MDtvdXRsaW5lOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yKTtmb250LWZhbWlseTppbmhlcml0O292ZXJmbG93OmhpZGRlbn0uYWN0aW9uLXNoZWV0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtwb2ludGVyLWV2ZW50czpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDoxfS5hY3Rpb24tc2hlZXQtY29udGFpbmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWZsb3c6Y29sdW1uO2ZsZXgtZmxvdzpjb2x1bW47LW1zLWZsZXgtcGFjazplbmQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO2hlaWdodDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uYWN0aW9uLXNoZWV0LWdyb3VwLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zey1tcy1mbGV4LW5lZ2F0aXZlOjI7ZmxleC1zaHJpbms6MjtvdmVyc2Nyb2xsLWJlaGF2aW9yLXk6Y29udGFpbjtvdmVyZmxvdy15OmF1dG87LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7cG9pbnRlci1ldmVudHM6YWxsO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCl9LmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS5hY3Rpb24tc2hlZXQtZ3JvdXAtY2FuY2VsLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zey1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDtvdmVyZmxvdzpoaWRkZW59LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6OmFmdGVye2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO3Bvc2l0aW9uOmFic29sdXRlO2NvbnRlbnQ6XFxcIlxcXCI7b3BhY2l0eTowfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLXNlbGVjdGVkKX0uYWN0aW9uLXNoZWV0LXNlbGVjdGVkLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkLW9wYWNpdHkpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLWFjdGl2YXRlZCl9LmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQpO29wYWNpdHk6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtYWN0aXZhdGVkLW9wYWNpdHkpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLmlvbi1mb2N1c2VkLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvci1mb2N1c2VkKX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczo6YWZ0ZXJ7YmFja2dyb3VuZDp2YXIoLS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eSl9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvczpob3Zlcntjb2xvcjp2YXIoLS1idXR0b24tY29sb3ItaG92ZXIpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyLW9wYWNpdHkpfX0uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZjlmOWY5KSk7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjQpOy0tYnV0dG9uLWJhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCksIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkgNTAlLCB0cmFuc3BhcmVudCA1MCUpIGJvdHRvbS8xMDAlIDFweCBuby1yZXBlYXQgdHJhbnNwYXJlbnQ7LS1idXR0b24tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApOy0tYnV0dG9uLWJhY2tncm91bmQtYWN0aXZhdGVkLW9wYWNpdHk6LjA4Oy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXI6Y3VycmVudENvbG9yOy0tYnV0dG9uLWJhY2tncm91bmQtaG92ZXItb3BhY2l0eTouMDQ7LS1idXR0b24tYmFja2dyb3VuZC1mb2N1c2VkOmN1cnJlbnRDb2xvcjstLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQtb3BhY2l0eTouMTI7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZDp2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSk7LS1idXR0b24tYmFja2dyb3VuZC1zZWxlY3RlZC1vcGFjaXR5OjE7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KTt0ZXh0LWFsaWduOmNlbnRlcn0uYWN0aW9uLXNoZWV0LWNvbnRhaW5lci5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6OHB4O3BhZGRpbmctcmlnaHQ6OHB4O3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hY3Rpb24tc2hlZXQtY29udGFpbmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo4cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OHB4O3BhZGRpbmctaW5saW5lLWVuZDo4cHh9fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Ym9yZGVyLXJhZGl1czoxM3B4O21hcmdpbi1ib3R0b206OHB4fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDoxMHB4fS5hY3Rpb24tc2hlZXQtZ3JvdXAuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjEwcHh9QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXsuYWN0aW9uLXNoZWV0LXRyYW5zbHVjZW50LnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zLWggLmFjdGlvbi1zaGVldC1ncm91cC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDI4MCUpIGJsdXIoMjBweCk7YmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDI4MCUpIGJsdXIoMjBweCl9LmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtdGl0bGUuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MsLmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBmcm9tKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSksIHRvKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSkpLCAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBmcm9tKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC40KSksIGNvbG9yLXN0b3AoNTAlLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuNCkpLCBjb2xvci1zdG9wKDUwJSwgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpKSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQoMGRlZywgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCkgMTAwJSksIGxpbmVhci1ncmFkaWVudCgwZGVnLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuNCksIHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC40KSA1MCUsIHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSA1MCUpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOnRvcCwgYm90dG9tO2JhY2tncm91bmQtc2l6ZToxMDAlIGNhbGMoMTAwJSAtIDFweCksIDEwMCUgMXB4Oy13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOnNhdHVyYXRlKDEyMCUpO2JhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxMjAlKX0uYWN0aW9uLXNoZWV0LXRyYW5zbHVjZW50LnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zLWggLmFjdGlvbi1zaGVldC1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC43KTtiYWNrZ3JvdW5kLWltYWdlOm5vbmV9LmFjdGlvbi1zaGVldC10cmFuc2x1Y2VudC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcy1oIC5hY3Rpb24tc2hlZXQtY2FuY2VsLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQpfX0uYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgYm90dG9tLCBsZWZ0IHRvcCwgZnJvbShyZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMDgpKSwgY29sb3Itc3RvcCg1MCUsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkpLCBjb2xvci1zdG9wKDUwJSwgdHJhbnNwYXJlbnQpKSBib3R0b20vMTAwJSAxcHggbm8tcmVwZWF0IHRyYW5zcGFyZW50O2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KDBkZWcsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCksIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4wOCkgNTAlLCB0cmFuc3BhcmVudCA1MCUpIGJvdHRvbS8xMDAlIDFweCBuby1yZXBlYXQgdHJhbnNwYXJlbnR9LmFjdGlvbi1zaGVldC10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXJpZ2h0OjEwcHg7cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxM3B4O2NvbG9yOnZhcigtLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LXNpemU6MTNweDtmb250LXdlaWdodDo0MDA7dGV4dC1hbGlnbjpjZW50ZXJ9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxMHB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEwcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMHB4O3BhZGRpbmctaW5saW5lLWVuZDoxMHB4fX0uYWN0aW9uLXNoZWV0LXRpdGxlLmFjdGlvbi1zaGVldC1oYXMtc3ViLXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze2ZvbnQtd2VpZ2h0OjYwMH0uYWN0aW9uLXNoZWV0LXN1Yi10aXRsZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6NnB4O3BhZGRpbmctYm90dG9tOjA7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6NDAwfS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze3BhZGRpbmctbGVmdDoxOHB4O3BhZGRpbmctcmlnaHQ6MThweDtwYWRkaW5nLXRvcDoxOHB4O3BhZGRpbmctYm90dG9tOjE4cHg7aGVpZ2h0OjU2cHg7Zm9udC1zaXplOjIwcHg7Y29udGFpbjpzdHJpY3R9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MThweDtwYWRkaW5nLWlubGluZS1zdGFydDoxOHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MThweDtwYWRkaW5nLWlubGluZS1lbmQ6MThweH19LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MgLmFjdGlvbi1zaGVldC1pY29uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze21hcmdpbi1yaWdodDowLjNlbTtmb250LXNpemU6MjhweDtwb2ludGVyLWV2ZW50czpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MgLmFjdGlvbi1zaGVldC1pY29uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9ze21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1lbmQ6MC4zZW07bWFyZ2luLWlubGluZS1lbmQ6MC4zZW19fS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtaW9zOmxhc3QtY2hpbGR7YmFja2dyb3VuZC1pbWFnZTpub25lfS5hY3Rpb24tc2hlZXQtc2VsZWN0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3N7Zm9udC13ZWlnaHQ6Ym9sZH0uYWN0aW9uLXNoZWV0LWNhbmNlbC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tmb250LXdlaWdodDo2MDB9LmFjdGlvbi1zaGVldC1jYW5jZWwuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQpO29wYWNpdHk6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtc2VsZWN0ZWQtb3BhY2l0eSl9LmFjdGlvbi1zaGVldC1kZXN0cnVjdGl2ZS5zYy1pb24tYWN0aW9uLXNoZWV0LWlvcywuYWN0aW9uLXNoZWV0LWRlc3RydWN0aXZlLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3MsLmFjdGlvbi1zaGVldC1kZXN0cnVjdGl2ZS5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LWlvc3tjb2xvcjp2YXIoLS1pb24tY29sb3ItZGFuZ2VyLCAjZWI0NDVhKX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey5hY3Rpb24tc2hlZXQtZGVzdHJ1Y3RpdmUuc2MtaW9uLWFjdGlvbi1zaGVldC1pb3M6aG92ZXJ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWRhbmdlciwgI2ViNDQ1YSl9fVwiO1xuXG5jb25zdCBhY3Rpb25TaGVldE1kQ3NzID0gXCIuc2MtaW9uLWFjdGlvbi1zaGVldC1tZC1oey0tY29sb3I6aW5pdGlhbDstLWJ1dHRvbi1jb2xvci1hY3RpdmF0ZWQ6dmFyKC0tYnV0dG9uLWNvbG9yKTstLWJ1dHRvbi1jb2xvci1mb2N1c2VkOnZhcigtLWJ1dHRvbi1jb2xvcik7LS1idXR0b24tY29sb3ItaG92ZXI6dmFyKC0tYnV0dG9uLWNvbG9yKTstLWJ1dHRvbi1jb2xvci1zZWxlY3RlZDp2YXIoLS1idXR0b24tY29sb3IpOy0tbWluLXdpZHRoOmF1dG87LS13aWR0aDoxMDAlOy0tbWF4LXdpZHRoOjUwMHB4Oy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OjEwMCU7LS1tYXgtaGVpZ2h0OmNhbGMoMTAwJSAtICh2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSkpKTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmZpeGVkO291dGxpbmU6bm9uZTtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHksIGluaGVyaXQpOy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfS5vdmVybGF5LWhpZGRlbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1kLWh7ZGlzcGxheTpub25lfS5hY3Rpb24tc2hlZXQtd3JhcHBlci5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDp2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSwgMCk7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7ei1pbmRleDoxMDtwb2ludGVyLWV2ZW50czpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC13cmFwcGVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99fS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2JvcmRlcjowO291dGxpbmU6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1idXR0b24tY29sb3IpO2ZvbnQtZmFtaWx5OmluaGVyaXQ7b3ZlcmZsb3c6aGlkZGVufS5hY3Rpb24tc2hlZXQtYnV0dG9uLWlubmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7LW1zLWZsZXgtZmxvdzpyb3cgbm93cmFwO2ZsZXgtZmxvdzpyb3cgbm93cmFwOy1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9pbnRlci1ldmVudHM6bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MX0uYWN0aW9uLXNoZWV0LWNvbnRhaW5lci5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWZsb3c6Y29sdW1uO2ZsZXgtZmxvdzpjb2x1bW47LW1zLWZsZXgtcGFjazplbmQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO2hlaWdodDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uYWN0aW9uLXNoZWV0LWdyb3VwLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7LW1zLWZsZXgtbmVnYXRpdmU6MjtmbGV4LXNocmluazoyO292ZXJzY3JvbGwtYmVoYXZpb3IteTpjb250YWluO292ZXJmbG93LXk6YXV0bzstd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaDtwb2ludGVyLWV2ZW50czphbGw7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKX0uYWN0aW9uLXNoZWV0LWdyb3VwLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQ6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0uYWN0aW9uLXNoZWV0LWdyb3VwLWNhbmNlbC5zYy1pb24tYWN0aW9uLXNoZWV0LW1key1tcy1mbGV4LW5lZ2F0aXZlOjA7ZmxleC1zaHJpbms6MDtvdmVyZmxvdzpoaWRkZW59LmFjdGlvbi1zaGVldC1idXR0b24uc2MtaW9uLWFjdGlvbi1zaGVldC1tZDo6YWZ0ZXJ7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7cG9zaXRpb246YWJzb2x1dGU7Y29udGVudDpcXFwiXFxcIjtvcGFjaXR5OjB9LmFjdGlvbi1zaGVldC1zZWxlY3RlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvci1zZWxlY3RlZCl9LmFjdGlvbi1zaGVldC1zZWxlY3RlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkLW9wYWNpdHkpfS5hY3Rpb24tc2hlZXQtYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFjdGlvbi1zaGVldC1tZHtjb2xvcjp2YXIoLS1idXR0b24tY29sb3ItYWN0aXZhdGVkKX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tYWN0aXZhdGVkLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQ6OmFmdGVye2JhY2tncm91bmQ6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtYWN0aXZhdGVkKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWFjdGl2YXRlZC1vcGFjaXR5KX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvci1mb2N1c2VkKX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5pb24tZm9jdXNlZC5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQpO29wYWNpdHk6dmFyKC0tYnV0dG9uLWJhY2tncm91bmQtZm9jdXNlZC1vcGFjaXR5KX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQ6aG92ZXJ7Y29sb3I6dmFyKC0tYnV0dG9uLWNvbG9yLWhvdmVyKX0uYWN0aW9uLXNoZWV0LWJ1dHRvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1kOmhvdmVyOjphZnRlcntiYWNrZ3JvdW5kOnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyKTtvcGFjaXR5OnZhcigtLWJ1dHRvbi1iYWNrZ3JvdW5kLWhvdmVyLW9wYWNpdHkpfX0uc2MtaW9uLWFjdGlvbi1zaGVldC1tZC1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpOy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMik7LS1idXR0b24tYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkOmN1cnJlbnRDb2xvcjstLWJ1dHRvbi1iYWNrZ3JvdW5kLXNlbGVjdGVkLW9wYWNpdHk6MDstLWJ1dHRvbi1iYWNrZ3JvdW5kLWFjdGl2YXRlZDp0cmFuc3BhcmVudDstLWJ1dHRvbi1iYWNrZ3JvdW5kLWFjdGl2YXRlZC1vcGFjaXR5OjA7LS1idXR0b24tYmFja2dyb3VuZC1ob3ZlcjpjdXJyZW50Q29sb3I7LS1idXR0b24tYmFja2dyb3VuZC1ob3Zlci1vcGFjaXR5Oi4wNDstLWJ1dHRvbi1iYWNrZ3JvdW5kLWZvY3VzZWQ6Y3VycmVudENvbG9yOy0tYnV0dG9uLWJhY2tncm91bmQtZm9jdXNlZC1vcGFjaXR5Oi4xMjstLWJ1dHRvbi1jb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpOy0tY29sb3I6cmdiYSh2YXIoLS1pb24tdGV4dC1jb2xvci1yZ2IsIDAsIDAsIDApLCAwLjU0KX0uYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7cGFkZGluZy1sZWZ0OjE2cHg7cGFkZGluZy1yaWdodDoxNnB4O3BhZGRpbmctdG9wOjIwcHg7cGFkZGluZy1ib3R0b206MTdweDttaW4taGVpZ2h0OjYwcHg7Y29sb3I6dmFyKC0tY29sb3IsIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC41NCkpO2ZvbnQtc2l6ZToxNnB4O3RleHQtYWxpZ246c3RhcnR9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWN0aW9uLXNoZWV0LXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS5hY3Rpb24tc2hlZXQtc3ViLXRpdGxlLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjE2cHg7cGFkZGluZy1ib3R0b206MDtmb250LXNpemU6MTRweH0uYWN0aW9uLXNoZWV0LWdyb3VwLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQ6Zmlyc3QtY2hpbGR7cGFkZGluZy10b3A6MH0uYWN0aW9uLXNoZWV0LWdyb3VwLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWQ6bGFzdC1jaGlsZHtwYWRkaW5nLWJvdHRvbTowfS5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7cGFkZGluZy1sZWZ0OjE2cHg7cGFkZGluZy1yaWdodDoxNnB4O3BhZGRpbmctdG9wOjA7cGFkZGluZy1ib3R0b206MDtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6NTJweDtmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOnN0YXJ0O2NvbnRhaW46c3RyaWN0O292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hY3Rpb24tc2hlZXQtYnV0dG9uLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS5hY3Rpb24tc2hlZXQtaWNvbi5zYy1pb24tYWN0aW9uLXNoZWV0LW1ke3BhZGRpbmctYm90dG9tOjRweDttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDozMnB4O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7Y29sb3I6dmFyKC0tY29sb3IpO2ZvbnQtc2l6ZToyNHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFjdGlvbi1zaGVldC1pY29uLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjA7bWFyZ2luLWlubGluZS1zdGFydDowOy13ZWJraXQtbWFyZ2luLWVuZDozMnB4O21hcmdpbi1pbmxpbmUtZW5kOjMycHh9fS5hY3Rpb24tc2hlZXQtYnV0dG9uLWlubmVyLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7LW1zLWZsZXgtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydH0uYWN0aW9uLXNoZWV0LXNlbGVjdGVkLnNjLWlvbi1hY3Rpb24tc2hlZXQtbWR7Zm9udC13ZWlnaHQ6Ym9sZH1cIjtcblxubGV0IEFjdGlvblNoZWV0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRpZFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkFjdGlvblNoZWV0RGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25BY3Rpb25TaGVldFdpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkFjdGlvblNoZWV0V2lsbERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWREaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25BY3Rpb25TaGVldERpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5wcmVzZW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIHdoZW4gdGhlIG92ZXJsYXkgaXMgcHJlc2VudGVkLlxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYnV0dG9ucyBmb3IgdGhlIGFjdGlvbiBzaGVldC5cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBhY3Rpb24gc2hlZXQgd2lsbCBiZSBkaXNtaXNzZWQgd2hlbiB0aGUgYmFja2Ryb3AgaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tkcm9wRGlzbWlzcyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgYWN0aW9uIHNoZWV0IHdpbGwgYmUgdHJhbnNsdWNlbnQuXG4gICAgICogT25seSBhcHBsaWVzIHdoZW4gdGhlIG1vZGUgaXMgYFwiaW9zXCJgIGFuZCB0aGUgZGV2aWNlIHN1cHBvcnRzXG4gICAgICogW2BiYWNrZHJvcC1maWx0ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvYmFja2Ryb3AtZmlsdGVyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGFjdGlvbiBzaGVldCB3aWxsIGFuaW1hdGUuXG4gICAgICovXG4gICAgdGhpcy5hbmltYXRlZCA9IHRydWU7XG4gICAgdGhpcy5vbkJhY2tkcm9wVGFwID0gKCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgQkFDS0RST1ApO1xuICAgIH07XG4gICAgdGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXIgPSAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHJvbGUgPSBldi5kZXRhaWwucm9sZTtcbiAgICAgIGlmIChpc0NhbmNlbChyb2xlKSkge1xuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmdldEJ1dHRvbnMoKS5maW5kKGIgPT4gYi5yb2xlID09PSAnY2FuY2VsJyk7XG4gICAgICAgIHRoaXMuY2FsbEJ1dHRvbkhhbmRsZXIoY2FuY2VsQnV0dG9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQcmVzZW50IHRoZSBhY3Rpb24gc2hlZXQgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgcHJlc2VudCgpIHtcbiAgICByZXR1cm4gcHJlc2VudCh0aGlzLCAnYWN0aW9uU2hlZXRFbnRlcicsIGlvc0VudGVyQW5pbWF0aW9uJDYsIG1kRW50ZXJBbmltYXRpb24kNSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgLyoqXG4gICAqIERpc21pc3MgdGhlIGFjdGlvbiBzaGVldCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgYWN0aW9uIHNoZWV0LlxuICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgaW4gYSBidXR0b24gaGFuZGxlciBmb3IgZGV0ZXJtaW5pbmcgd2hpY2ggYnV0dG9uIHdhc1xuICAgKiBjbGlja2VkIHRvIGRpc21pc3MgdGhlIGFjdGlvbiBzaGVldC5cbiAgICogU29tZSBleGFtcGxlcyBpbmNsdWRlOiBgYFwiY2FuY2VsXCJgLCBgXCJkZXN0cnVjdGl2ZVwiYCwgXCJzZWxlY3RlZFwiYCwgYW5kIGBcImJhY2tkcm9wXCJgLlxuICAgKi9cbiAgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgcmV0dXJuIGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ2FjdGlvblNoZWV0TGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbiQ2LCBtZExlYXZlQW5pbWF0aW9uJDUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGFjdGlvbiBzaGVldCBkaWQgZGlzbWlzcy5cbiAgICovXG4gIG9uRGlkRGlzbWlzcygpIHtcbiAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbkFjdGlvblNoZWV0RGlkRGlzbWlzcycpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGFjdGlvbiBzaGVldCB3aWxsIGRpc21pc3MuXG4gICAqXG4gICAqL1xuICBvbldpbGxEaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uQWN0aW9uU2hlZXRXaWxsRGlzbWlzcycpO1xuICB9XG4gIGFzeW5jIGJ1dHRvbkNsaWNrKGJ1dHRvbikge1xuICAgIGNvbnN0IHJvbGUgPSBidXR0b24ucm9sZTtcbiAgICBpZiAoaXNDYW5jZWwocm9sZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc21pc3MoYnV0dG9uLmRhdGEsIHJvbGUpO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGREaXNtaXNzID0gYXdhaXQgdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihidXR0b24pO1xuICAgIGlmIChzaG91bGREaXNtaXNzKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNtaXNzKGJ1dHRvbi5kYXRhLCBidXR0b24ucm9sZSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBhc3luYyBjYWxsQnV0dG9uSGFuZGxlcihidXR0b24pIHtcbiAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAvLyBhIGhhbmRsZXIgaGFzIGJlZW4gcHJvdmlkZWQsIGV4ZWN1dGUgaXRcbiAgICAgIC8vIHBhc3MgdGhlIGhhbmRsZXIgdGhlIHZhbHVlcyBmcm9tIHRoZSBpbnB1dHNcbiAgICAgIGNvbnN0IHJ0biA9IGF3YWl0IHNhZmVDYWxsKGJ1dHRvbi5oYW5kbGVyKTtcbiAgICAgIGlmIChydG4gPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIGlmIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGhhbmRsZXIgaXMgZmFsc2UgdGhlbiBkbyBub3QgZGlzbWlzc1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGdldEJ1dHRvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYnV0dG9ucy5tYXAoYiA9PiB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBiID09PSAnc3RyaW5nJylcbiAgICAgICAgPyB7IHRleHQ6IGIgfVxuICAgICAgICA6IGI7XG4gICAgfSk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZ2VzdHVyZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICAvKipcbiAgICAgKiBEbyBub3QgY3JlYXRlIGdlc3R1cmUgaWY6XG4gICAgICogMS4gQSBnZXN0dXJlIGFscmVhZHkgZXhpc3RzXG4gICAgICogMi4gQXBwIGlzIHJ1bm5pbmcgaW4gTUQgbW9kZVxuICAgICAqIDMuIEEgd3JhcHBlciByZWYgZG9lcyBub3QgZXhpc3RcbiAgICAgKi9cbiAgICBjb25zdCB7IGdyb3VwRWwsIHdyYXBwZXJFbCB9ID0gdGhpcztcbiAgICBpZiAodGhpcy5nZXN0dXJlIHx8IGdldElvbk1vZGUodGhpcykgPT09ICdtZCcgfHwgIXdyYXBwZXJFbCB8fCAhZ3JvdXBFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWFkVGFzaygoKSA9PiB7XG4gICAgICBjb25zdCBpc1Njcm9sbGFibGUgPSBncm91cEVsLnNjcm9sbEhlaWdodCA+IGdyb3VwRWwuY2xpZW50SGVpZ2h0O1xuICAgICAgaWYgKCFpc1Njcm9sbGFibGUpIHtcbiAgICAgICAgdGhpcy5nZXN0dXJlID0gY3JlYXRlQnV0dG9uQWN0aXZlR2VzdHVyZSh3cmFwcGVyRWwsIChyZWZFbCkgPT4gcmVmRWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3Rpb24tc2hlZXQtYnV0dG9uJykpO1xuICAgICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGh0bWxBdHRyaWJ1dGVzIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIGNvbnN0IGFsbEJ1dHRvbnMgPSB0aGlzLmdldEJ1dHRvbnMoKTtcbiAgICBjb25zdCBjYW5jZWxCdXR0b24gPSBhbGxCdXR0b25zLmZpbmQoYiA9PiBiLnJvbGUgPT09ICdjYW5jZWwnKTtcbiAgICBjb25zdCBidXR0b25zID0gYWxsQnV0dG9ucy5maWx0ZXIoYiA9PiBiLnJvbGUgIT09ICdjYW5jZWwnKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgT2JqZWN0LmFzc2lnbih7IHJvbGU6IFwiZGlhbG9nXCIsIFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgdGFiaW5kZXg6IFwiLTFcIiB9LCBodG1sQXR0cmlidXRlcywgeyBzdHlsZToge1xuICAgICAgICB6SW5kZXg6IGAkezIwMDAwICsgdGhpcy5vdmVybGF5SW5kZXh9YCxcbiAgICAgIH0sIGNsYXNzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBbbW9kZV06IHRydWUgfSwgZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCB7ICdvdmVybGF5LWhpZGRlbic6IHRydWUsICdhY3Rpb24tc2hlZXQtdHJhbnNsdWNlbnQnOiB0aGlzLnRyYW5zbHVjZW50IH0pLCBvbklvbkFjdGlvblNoZWV0V2lsbERpc21pc3M6IHRoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyLCBvbklvbkJhY2tkcm9wVGFwOiB0aGlzLm9uQmFja2Ryb3BUYXAgfSksIGgoXCJpb24tYmFja2Ryb3BcIiwgeyB0YXBwYWJsZTogdGhpcy5iYWNrZHJvcERpc21pc3MgfSksIGgoXCJkaXZcIiwgeyB0YWJpbmRleDogXCIwXCIgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhY3Rpb24tc2hlZXQtd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIsIHJvbGU6IFwiZGlhbG9nXCIsIHJlZjogZWwgPT4gdGhpcy53cmFwcGVyRWwgPSBlbCB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWN0aW9uLXNoZWV0LWNvbnRhaW5lclwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhY3Rpb24tc2hlZXQtZ3JvdXBcIiwgcmVmOiBlbCA9PiB0aGlzLmdyb3VwRWwgPSBlbCB9LCB0aGlzLmhlYWRlciAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IHtcbiAgICAgICAgICAnYWN0aW9uLXNoZWV0LXRpdGxlJzogdHJ1ZSxcbiAgICAgICAgICAnYWN0aW9uLXNoZWV0LWhhcy1zdWItdGl0bGUnOiB0aGlzLnN1YkhlYWRlciAhPT0gdW5kZWZpbmVkXG4gICAgICAgIH0gfSwgdGhpcy5oZWFkZXIsIHRoaXMuc3ViSGVhZGVyICYmIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhY3Rpb24tc2hlZXQtc3ViLXRpdGxlXCIgfSwgdGhpcy5zdWJIZWFkZXIpKSwgYnV0dG9ucy5tYXAoYiA9PiBoKFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgaWQ6IGIuaWQsIGNsYXNzOiBidXR0b25DbGFzcyQzKGIpLCBvbkNsaWNrOiAoKSA9PiB0aGlzLmJ1dHRvbkNsaWNrKGIpIH0sIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiYWN0aW9uLXNoZWV0LWJ1dHRvbi1pbm5lclwiIH0sIGIuaWNvbiAmJiBoKFwiaW9uLWljb25cIiwgeyBpY29uOiBiLmljb24sIGxhenk6IGZhbHNlLCBjbGFzczogXCJhY3Rpb24tc2hlZXQtaWNvblwiIH0pLCBiLnRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpKSwgY2FuY2VsQnV0dG9uICYmXG4gICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWN0aW9uLXNoZWV0LWdyb3VwIGFjdGlvbi1zaGVldC1ncm91cC1jYW5jZWxcIiB9LCBoKFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3M6IGJ1dHRvbkNsYXNzJDMoY2FuY2VsQnV0dG9uKSwgb25DbGljazogKCkgPT4gdGhpcy5idXR0b25DbGljayhjYW5jZWxCdXR0b24pIH0sIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiYWN0aW9uLXNoZWV0LWJ1dHRvbi1pbm5lclwiIH0sIGNhbmNlbEJ1dHRvbi5pY29uICYmXG4gICAgICAgIGgoXCJpb24taWNvblwiLCB7IGljb246IGNhbmNlbEJ1dHRvbi5pY29uLCBsYXp5OiBmYWxzZSwgY2xhc3M6IFwiYWN0aW9uLXNoZWV0LWljb25cIiB9KSwgY2FuY2VsQnV0dG9uLnRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpKSksIGgoXCJkaXZcIiwgeyB0YWJpbmRleDogXCIwXCIgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuY29uc3QgYnV0dG9uQ2xhc3MkMyA9IChidXR0b24pID0+IHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAnYWN0aW9uLXNoZWV0LWJ1dHRvbic6IHRydWUsICdpb24tYWN0aXZhdGFibGUnOiB0cnVlLCAnaW9uLWZvY3VzYWJsZSc6IHRydWUsIFtgYWN0aW9uLXNoZWV0LSR7YnV0dG9uLnJvbGV9YF06IGJ1dHRvbi5yb2xlICE9PSB1bmRlZmluZWQgfSwgZ2V0Q2xhc3NNYXAoYnV0dG9uLmNzc0NsYXNzKSk7XG59O1xuQWN0aW9uU2hlZXQuc3R5bGUgPSB7XG4gIGlvczogYWN0aW9uU2hlZXRJb3NDc3MsXG4gIG1kOiBhY3Rpb25TaGVldE1kQ3NzXG59O1xuXG4vKipcbiAqIGlPUyBBbGVydCBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24kNSA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJ1xuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmFsZXJ0LXdyYXBwZXInKSlcbiAgICAua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJzAuMDEnLCB0cmFuc2Zvcm06ICdzY2FsZSgxLjEpJyB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAnMScsIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyB9XG4gIF0pO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdlYXNlLWluLW91dCcpXG4gICAgLmR1cmF0aW9uKDIwMClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBpT1MgQWxlcnQgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0xlYXZlQW5pbWF0aW9uJDUgPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmFsZXJ0LXdyYXBwZXInKSlcbiAgICAua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMC45OSwgdHJhbnNmb3JtOiAnc2NhbGUoMSknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3NjYWxlKDAuOSknIH1cbiAgXSk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2Vhc2UtaW4tb3V0JylcbiAgICAuZHVyYXRpb24oMjAwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG4vKipcbiAqIE1kIEFsZXJ0IEVudGVyIEFuaW1hdGlvblxuICovXG5jb25zdCBtZEVudGVyQW5pbWF0aW9uJDQgPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJy5hbGVydC13cmFwcGVyJykpXG4gICAgLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICcwLjAxJywgdHJhbnNmb3JtOiAnc2NhbGUoMC45KScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogJzEnLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnZWFzZS1pbi1vdXQnKVxuICAgIC5kdXJhdGlvbigxNTApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogTWQgQWxlcnQgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kTGVhdmVBbmltYXRpb24kNCA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwKTtcbiAgd3JhcHBlckFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcuYWxlcnQtd3JhcHBlcicpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjk5LCAwKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnZWFzZS1pbi1vdXQnKVxuICAgIC5kdXJhdGlvbigxNTApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IGFsZXJ0SW9zQ3NzID0gXCIuc2MtaW9uLWFsZXJ0LWlvcy1oey0tbWluLXdpZHRoOjI1MHB4Oy0td2lkdGg6YXV0bzstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDo5MCU7LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHksIGluaGVyaXQpO2NvbnRhaW46c3RyaWN0Oy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfS5vdmVybGF5LWhpZGRlbi5zYy1pb24tYWxlcnQtaW9zLWh7ZGlzcGxheTpub25lfS5hbGVydC10b3Auc2MtaW9uLWFsZXJ0LWlvcy1oe3BhZGRpbmctdG9wOjUwcHg7LW1zLWZsZXgtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uYWxlcnQtd3JhcHBlci5zYy1pb24tYWxlcnQtaW9ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtjb250YWluOmNvbnRlbnQ7b3BhY2l0eTowO3otaW5kZXg6MTB9LmFsZXJ0LXRpdGxlLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjB9LmFsZXJ0LXN1Yi10aXRsZS5zYy1pb24tYWxlcnQtaW9ze21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7Zm9udC13ZWlnaHQ6bm9ybWFsfS5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1pb3N7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO292ZXJmbG93LXk6YXV0bztvdmVyc2Nyb2xsLWJlaGF2aW9yLXk6Y29udGFpbn0uYWxlcnQtY2hlY2tib3gtZ3JvdXAuc2MtaW9uLWFsZXJ0LWlvczo6LXdlYmtpdC1zY3JvbGxiYXIsLmFsZXJ0LXJhZGlvLWdyb3VwLnNjLWlvbi1hbGVydC1pb3M6Oi13ZWJraXQtc2Nyb2xsYmFyLC5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1pb3M6Oi13ZWJraXQtc2Nyb2xsYmFye2Rpc3BsYXk6bm9uZX0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MTBweDtwYWRkaW5nLWJvdHRvbToxMHB4O3dpZHRoOjEwMCU7Ym9yZGVyOjA7YmFja2dyb3VuZDppbmhlcml0O2ZvbnQ6aW5oZXJpdDstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LmFsZXJ0LWJ1dHRvbi1ncm91cC5zYy1pb24tYWxlcnQtaW9ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3dpZHRoOjEwMCV9LmFsZXJ0LWJ1dHRvbi1ncm91cC12ZXJ0aWNhbC5zYy1pb24tYWxlcnQtaW9zey1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXB9LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9ze21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtkaXNwbGF5OmJsb2NrO2JvcmRlcjowO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjIwcHg7ei1pbmRleDowfS5hbGVydC1idXR0b24uaW9uLWZvY3VzZWQuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtdGFwcGFibGUuaW9uLWZvY3VzZWQuc2MtaW9uLWFsZXJ0LWlvc3tiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2U2ZTZlNil9LmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtaW9ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWZsb3c6cm93IG5vd3JhcDtmbGV4LWZsb3c6cm93IG5vd3JhcDstbXMtZmxleC1uZWdhdGl2ZTowO2ZsZXgtc2hyaW5rOjA7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmFsZXJ0LWlucHV0LWRpc2FibGVkLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWNoZWNrYm94LWJ1dHRvbi1kaXNhYmxlZC5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1idXR0b24taW5uZXIuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtcmFkaW8tYnV0dG9uLWRpc2FibGVkLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtaW9ze2N1cnNvcjpkZWZhdWx0O29wYWNpdHk6MC41O3BvaW50ZXItZXZlbnRzOm5vbmV9LmFsZXJ0LXRhcHBhYmxlLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7d2lkdGg6MTAwJTtib3JkZXI6MDtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O2ZvbnQtc2l6ZTppbmhlcml0O2xpbmUtaGVpZ2h0OmluaXRpYWw7dGV4dC1hbGlnbjpzdGFydDstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7Y29udGFpbjpzdHJpY3R9LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1jaGVja2JveC5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1yYWRpby5zYy1pb24tYWxlcnQtaW9ze291dGxpbmU6bm9uZX0uYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1pb3N7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fXRleHRhcmVhLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3N7bWluLWhlaWdodDozN3B4O3Jlc2l6ZTpub25lfS5zYy1pb24tYWxlcnQtaW9zLWh7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1vdmVybGF5LWJhY2tncm91bmQtY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2Y5ZjlmOSkpOy0tbWF4LXdpZHRoOjI3MHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zKTtmb250LXNpemU6MTRweH0uYWxlcnQtd3JhcHBlci5zYy1pb24tYWxlcnQtaW9ze2JvcmRlci1yYWRpdXM6MTNweDstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmU7b3ZlcmZsb3c6aGlkZGVufS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtYnV0dG9uLWlubmVyLnNjLWlvbi1hbGVydC1pb3N7cG9pbnRlci1ldmVudHM6bm9uZX1Ac3VwcG9ydHMgKCgtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkgb3IgKGJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkpey5hbGVydC10cmFuc2x1Y2VudC5zYy1pb24tYWxlcnQtaW9zLWggLmFsZXJ0LXdyYXBwZXIuc2MtaW9uLWFsZXJ0LWlvc3tiYWNrZ3JvdW5kOnJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC45KTstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpO2JhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpfX0uYWxlcnQtaGVhZC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDoxNnB4O3BhZGRpbmctcmlnaHQ6MTZweDtwYWRkaW5nLXRvcDoxMnB4O3BhZGRpbmctYm90dG9tOjdweDt0ZXh0LWFsaWduOmNlbnRlcn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1oZWFkLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS5hbGVydC10aXRsZS5zYy1pb24tYWxlcnQtaW9ze21hcmdpbi10b3A6OHB4O2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LXNpemU6MTdweDtmb250LXdlaWdodDo2MDB9LmFsZXJ0LXN1Yi10aXRsZS5zYy1pb24tYWxlcnQtaW9ze2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nik7Zm9udC1zaXplOjE0cHh9LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtaW5wdXQtZ3JvdXAuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6MTZweDtwYWRkaW5nLXJpZ2h0OjE2cHg7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbToyMXB4O2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LXNpemU6MTNweDt0ZXh0LWFsaWduOmNlbnRlcn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1pb3MsLmFsZXJ0LWlucHV0LWdyb3VwLnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1pb3N7bWF4LWhlaWdodDoyNDBweH0uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtaW9zOmVtcHR5e3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjEycHh9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3N7Ym9yZGVyLXJhZGl1czo0cHg7bWFyZ2luLXRvcDoxMHB4O3BhZGRpbmctbGVmdDo2cHg7cGFkZGluZy1yaWdodDo2cHg7cGFkZGluZy10b3A6NnB4O3BhZGRpbmctYm90dG9tOjZweDtib3JkZXI6MC41NXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1zdGVwLTI1MCwgI2JmYmZiZik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3N7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjZweDtwYWRkaW5nLWlubGluZS1zdGFydDo2cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDo2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjZweH19LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtaW9zOjotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1pb3M6OnBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtaW9zOjotbXMtY2xlYXJ7ZGlzcGxheTpub25lfS5hbGVydC1yYWRpby1ncm91cC5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1jaGVja2JveC1ncm91cC5zYy1pb24tYWxlcnQtaW9zey1tcy1zY3JvbGwtY2hhaW5pbmc6bm9uZTtvdmVyc2Nyb2xsLWJlaGF2aW9yOmNvbnRhaW47bWF4LWhlaWdodDoyNDBweDtib3JkZXItdG9wOjAuNTVweCBzb2xpZCByZ2JhKHZhcigtLWlvbi10ZXh0LWNvbG9yLXJnYiwgMCwgMCwgMCksIDAuMik7b3ZlcmZsb3cteTphdXRvOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNofS5hbGVydC10YXBwYWJsZS5zYy1pb24tYWxlcnQtaW9ze2hlaWdodDo0NHB4fS5hbGVydC1yYWRpby1sYWJlbC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDoxM3B4O3BhZGRpbmctcmlnaHQ6MTNweDtwYWRkaW5nLXRvcDoxM3B4O3BhZGRpbmctYm90dG9tOjEzcHg7LW1zLWZsZXg6MTtmbGV4OjE7LW1zLWZsZXgtb3JkZXI6MDtvcmRlcjowO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtcmFkaW8tbGFiZWwuc2MtaW9uLWFsZXJ0LWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTNweDtwYWRkaW5nLWlubGluZS1zdGFydDoxM3B4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTNweDtwYWRkaW5nLWlubGluZS1lbmQ6MTNweH19W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1yYWRpby1sYWJlbC5zYy1pb24tYWxlcnQtaW9ze2NvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKX0uYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtaW9ze3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4LW9yZGVyOjE7b3JkZXI6MTttaW4td2lkdGg6MzBweH1bYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1pb3N7bGVmdDo3cHg7dG9wOi03cHg7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NnB4O2hlaWdodDoxMnB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7Ym9yZGVyLXdpZHRoOjJweDtib3JkZXItdG9wLXdpZHRoOjA7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKX1bZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcyBbYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1pb3MsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MtaCBbYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1pb3MsW2Rpcj1ydGxdIC5zYy1pb24tYWxlcnQtaW9zLWggW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1yYWRpby1pbm5lci5zYy1pb24tYWxlcnQtaW9ze2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6N3B4fS5hbGVydC1jaGVja2JveC1sYWJlbC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDoxM3B4O3BhZGRpbmctcmlnaHQ6MTNweDtwYWRkaW5nLXRvcDoxM3B4O3BhZGRpbmctYm90dG9tOjEzcHg7LW1zLWZsZXg6MTtmbGV4OjE7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1jaGVja2JveC1sYWJlbC5zYy1pb24tYWxlcnQtaW9ze3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxM3B4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEzcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxM3B4O3BhZGRpbmctaW5saW5lLWVuZDoxM3B4fX0uYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtaW9ze2JvcmRlci1yYWRpdXM6NTAlO21hcmdpbi1sZWZ0OjE2cHg7bWFyZ2luLXJpZ2h0OjZweDttYXJnaW4tdG9wOjEwcHg7bWFyZ2luLWJvdHRvbToxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7Ym9yZGVyLXdpZHRoOjFweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMjUwLCAjYzhjN2NjKSkpO2JhY2tncm91bmQtY29sb3I6dmFyKC0taW9uLWl0ZW0tYmFja2dyb3VuZCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpKTtjb250YWluOnN0cmljdH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjE2cHg7bWFyZ2luLWlubGluZS1zdGFydDoxNnB4Oy13ZWJraXQtbWFyZ2luLWVuZDo2cHg7bWFyZ2luLWlubGluZS1lbmQ6NnB4fX1bYXJpYS1jaGVja2VkPXRydWVdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LWlvc3tib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpO2JhY2tncm91bmQtY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtY2hlY2tib3gtaW5uZXIuc2MtaW9uLWFsZXJ0LWlvc3tsZWZ0OjlweDt0b3A6NHB4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjVweDtoZWlnaHQ6MTJweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO2JvcmRlci13aWR0aDoxcHg7Ym9yZGVyLXRvcC13aWR0aDowO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXN0eWxlOnNvbGlkO2JvcmRlci1jb2xvcjp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZil9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MgW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtaW9zLFtkaXI9cnRsXS5zYy1pb24tYWxlcnQtaW9zLWggW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtaW9zIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtaW9zLFtkaXI9cnRsXSAuc2MtaW9uLWFsZXJ0LWlvcy1oIFthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtY2hlY2tib3gtaW5uZXIuc2MtaW9uLWFsZXJ0LWlvc3tsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjlweH0uYWxlcnQtYnV0dG9uLWdyb3VwLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLXJpZ2h0Oi0wLjU1cHg7LW1zLWZsZXgtd3JhcDp3cmFwO2ZsZXgtd3JhcDp3cmFwfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWJ1dHRvbi1ncm91cC5zYy1pb24tYWxlcnQtaW9ze21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1lbmQ6LTAuNTVweDttYXJnaW4taW5saW5lLWVuZDotMC41NXB4fX0uYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO2JvcmRlci1yYWRpdXM6MDstbXMtZmxleDoxIDEgYXV0bztmbGV4OjEgMSBhdXRvO21pbi13aWR0aDo1MCU7aGVpZ2h0OjQ0cHg7Ym9yZGVyLXRvcDowLjU1cHggc29saWQgcmdiYSh2YXIoLS1pb24tdGV4dC1jb2xvci1yZ2IsIDAsIDAsIDApLCAwLjIpO2JvcmRlci1yaWdodDowLjU1cHggc29saWQgcmdiYSh2YXIoLS1pb24tdGV4dC1jb2xvci1yZ2IsIDAsIDAsIDApLCAwLjIpO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpO2ZvbnQtc2l6ZToxN3B4O292ZXJmbG93OmhpZGRlbn1bZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LWlvcyAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6Zmlyc3QtY2hpbGQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MtaCAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6Zmlyc3QtY2hpbGQsW2Rpcj1ydGxdIC5zYy1pb24tYWxlcnQtaW9zLWggLmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9zOmZpcnN0LWNoaWxke2JvcmRlci1yaWdodDowfS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LWlvczpsYXN0LWNoaWxke2JvcmRlci1yaWdodDowO2ZvbnQtd2VpZ2h0OmJvbGR9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MgLmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtaW9zOmxhc3QtY2hpbGQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1pb3MtaCAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6bGFzdC1jaGlsZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1pb3MtaCAuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1pb3M6bGFzdC1jaGlsZHtib3JkZXItcmlnaHQ6MC41NXB4IHNvbGlkIHJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4yKX0uYWxlcnQtYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLWFsZXJ0LWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0taW9uLXRleHQtY29sb3ItcmdiLCAwLCAwLCAwKSwgMC4xKX0uYWxlcnQtYnV0dG9uLXJvbGUtZGVzdHJ1Y3RpdmUuc2MtaW9uLWFsZXJ0LWlvcywuYWxlcnQtYnV0dG9uLXJvbGUtZGVzdHJ1Y3RpdmUuaW9uLWFjdGl2YXRlZC5zYy1pb24tYWxlcnQtaW9zLC5hbGVydC1idXR0b24tcm9sZS1kZXN0cnVjdGl2ZS5pb24tZm9jdXNlZC5zYy1pb24tYWxlcnQtaW9ze2NvbG9yOnZhcigtLWlvbi1jb2xvci1kYW5nZXIsICNlYjQ0NWEpfVwiO1xuXG5jb25zdCBhbGVydE1kQ3NzID0gXCIuc2MtaW9uLWFsZXJ0LW1kLWh7LS1taW4td2lkdGg6MjUwcHg7LS13aWR0aDphdXRvOy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OjkwJTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1hbGVydC1tZC1oe2Rpc3BsYXk6bm9uZX0uYWxlcnQtdG9wLnNjLWlvbi1hbGVydC1tZC1oe3BhZGRpbmctdG9wOjUwcHg7LW1zLWZsZXgtYWxpZ246c3RhcnQ7YWxpZ24taXRlbXM6ZmxleC1zdGFydH0uYWxlcnQtd3JhcHBlci5zYy1pb24tYWxlcnQtbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRhaW46Y29udGVudDtvcGFjaXR5OjA7ei1pbmRleDoxMH0uYWxlcnQtdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowfS5hbGVydC1zdWItdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7Zm9udC13ZWlnaHQ6bm9ybWFsfS5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZHstd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7b3ZlcmZsb3cteTphdXRvO292ZXJzY3JvbGwtYmVoYXZpb3IteTpjb250YWlufS5hbGVydC1jaGVja2JveC1ncm91cC5zYy1pb24tYWxlcnQtbWQ6Oi13ZWJraXQtc2Nyb2xsYmFyLC5hbGVydC1yYWRpby1ncm91cC5zYy1pb24tYWxlcnQtbWQ6Oi13ZWJraXQtc2Nyb2xsYmFyLC5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZDo6LXdlYmtpdC1zY3JvbGxiYXJ7ZGlzcGxheTpub25lfS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowO3BhZGRpbmctdG9wOjEwcHg7cGFkZGluZy1ib3R0b206MTBweDt3aWR0aDoxMDAlO2JvcmRlcjowO2JhY2tncm91bmQ6aW5oZXJpdDtmb250OmluaGVyaXQ7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fS5hbGVydC1idXR0b24tZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC1kaXJlY3Rpb246cm93O3dpZHRoOjEwMCV9LmFsZXJ0LWJ1dHRvbi1ncm91cC12ZXJ0aWNhbC5zYy1pb24tYWxlcnQtbWR7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtd3JhcDpub3dyYXA7ZmxleC13cmFwOm5vd3JhcH0uYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1tZHttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDowO21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjA7ZGlzcGxheTpibG9jaztib3JkZXI6MDtmb250LXNpemU6MTRweDtsaW5lLWhlaWdodDoyMHB4O3otaW5kZXg6MH0uYWxlcnQtYnV0dG9uLmlvbi1mb2N1c2VkLnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtdGFwcGFibGUuaW9uLWZvY3VzZWQuc2MtaW9uLWFsZXJ0LW1ke2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZTZlNmU2KX0uYWxlcnQtYnV0dG9uLWlubmVyLnNjLWlvbi1hbGVydC1tZHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1mbG93OnJvdyBub3dyYXA7ZmxleC1mbG93OnJvdyBub3dyYXA7LW1zLWZsZXgtbmVnYXRpdmU6MDtmbGV4LXNocmluazowOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5hbGVydC1pbnB1dC1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWNoZWNrYm94LWJ1dHRvbi1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LXJhZGlvLWJ1dHRvbi1kaXNhYmxlZC5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWJ1dHRvbi1pbm5lci5zYy1pb24tYWxlcnQtbWR7Y3Vyc29yOmRlZmF1bHQ7b3BhY2l0eTowLjU7cG9pbnRlci1ldmVudHM6bm9uZX0uYWxlcnQtdGFwcGFibGUuc2MtaW9uLWFsZXJ0LW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjA7cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3dpZHRoOjEwMCU7Ym9yZGVyOjA7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtmb250LXNpemU6aW5oZXJpdDtsaW5lLWhlaWdodDppbml0aWFsO3RleHQtYWxpZ246c3RhcnQ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO2NvbnRhaW46c3RyaWN0fS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LW1kLC5hbGVydC1jaGVja2JveC5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtcmFkaW8uc2MtaW9uLWFsZXJ0LW1ke291dGxpbmU6bm9uZX0uYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LW1kLC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtbWR7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94fXRleHRhcmVhLmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZHttaW4taGVpZ2h0OjM3cHg7cmVzaXplOm5vbmV9LnNjLWlvbi1hbGVydC1tZC1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tb3ZlcmxheS1iYWNrZ3JvdW5kLWNvbG9yLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpOy0tbWF4LXdpZHRoOjI4MHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMik7Zm9udC1zaXplOjE0cHh9LmFsZXJ0LXdyYXBwZXIuc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1yYWRpdXM6NHB4Oy13ZWJraXQtYm94LXNoYWRvdzowIDExcHggMTVweCAtN3B4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAyNHB4IDM4cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgOXB4IDQ2cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xMik7Ym94LXNoYWRvdzowIDExcHggMTVweCAtN3B4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCAyNHB4IDM4cHggM3B4IHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgOXB4IDQ2cHggOHB4IHJnYmEoMCwgMCwgMCwgMC4xMil9LmFsZXJ0LWhlYWQuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDoyM3B4O3BhZGRpbmctcmlnaHQ6MjNweDtwYWRkaW5nLXRvcDoyMHB4O3BhZGRpbmctYm90dG9tOjE1cHg7dGV4dC1hbGlnbjpzdGFydH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1oZWFkLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MjNweDtwYWRkaW5nLWlubGluZS1zdGFydDoyM3B4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjNweDtwYWRkaW5nLWlubGluZS1lbmQ6MjNweH19LmFsZXJ0LXRpdGxlLnNjLWlvbi1hbGVydC1tZHtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1zaXplOjIwcHg7Zm9udC13ZWlnaHQ6NTAwfS5hbGVydC1zdWItdGl0bGUuc2MtaW9uLWFsZXJ0LW1ke2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTtmb250LXNpemU6MTZweH0uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LWdyb3VwLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6MjRweDtwYWRkaW5nLXJpZ2h0OjI0cHg7cGFkZGluZy10b3A6MjBweDtwYWRkaW5nLWJvdHRvbToyMHB4O2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myl9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQsLmFsZXJ0LWlucHV0LWdyb3VwLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MjRweDtwYWRkaW5nLWlubGluZS1zdGFydDoyNHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjRweDtwYWRkaW5nLWlubGluZS1lbmQ6MjRweH19LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LW1ke21heC1oZWlnaHQ6MjY2cHg7Zm9udC1zaXplOjE2cHh9LmFsZXJ0LW1lc3NhZ2Uuc2MtaW9uLWFsZXJ0LW1kOmVtcHR5e3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MDtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjB9LmFsZXJ0LWhlYWQuc2MtaW9uLWFsZXJ0LW1kKy5hbGVydC1tZXNzYWdlLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLXRvcDowfS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWR7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjVweDttYXJnaW4tYm90dG9tOjVweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsICNkOWQ5ZDkpO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKX0uYWxlcnQtaW5wdXQuc2MtaW9uLWFsZXJ0LW1kOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6Oi1tb3otcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDotbXMtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6dmFyKC0taW9uLXBsYWNlaG9sZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC00MDAsICM5OTk5OTkpKTtmb250LWZhbWlseTppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXR9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDo6LW1zLWlucHV0LXBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6OnBsYWNlaG9sZGVye2NvbG9yOnZhcigtLWlvbi1wbGFjZWhvbGRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtNDAwLCAjOTk5OTk5KSk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0fS5hbGVydC1pbnB1dC5zYy1pb24tYWxlcnQtbWQ6Oi1tcy1jbGVhcntkaXNwbGF5Om5vbmV9LmFsZXJ0LWlucHV0LnNjLWlvbi1hbGVydC1tZDpmb2N1c3ttYXJnaW4tYm90dG9tOjRweDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZil9LmFsZXJ0LXJhZGlvLWdyb3VwLnNjLWlvbi1hbGVydC1tZCwuYWxlcnQtY2hlY2tib3gtZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke3Bvc2l0aW9uOnJlbGF0aXZlO21heC1oZWlnaHQ6MjY2cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCAjZDlkOWQ5KTtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsICNkOWQ5ZDkpO292ZXJmbG93OmF1dG99LmFsZXJ0LXRhcHBhYmxlLnNjLWlvbi1hbGVydC1tZHtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6NDhweDtvdmVyZmxvdzpoaWRkZW59LmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6NTJweDtwYWRkaW5nLXJpZ2h0OjI2cHg7cGFkZGluZy10b3A6MTNweDtwYWRkaW5nLWJvdHRvbToxM3B4Oy1tcy1mbGV4OjE7ZmxleDoxO2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTg1MCwgIzI2MjYyNik7Zm9udC1zaXplOjE2cHg7dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6NTJweDtwYWRkaW5nLWlubGluZS1zdGFydDo1MnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjZweDtwYWRkaW5nLWlubGluZS1lbmQ6MjZweH19LmFsZXJ0LXJhZGlvLWljb24uc2MtaW9uLWFsZXJ0LW1ke2xlZnQ6MjZweDt0b3A6MDtib3JkZXItcmFkaXVzOjUwJTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7Ym9yZGVyLXdpZHRoOjJweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myl9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZCAuYWxlcnQtcmFkaW8taWNvbi5zYy1pb24tYWxlcnQtbWQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjI2cHh9LmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZHtsZWZ0OjNweDt0b3A6M3B4O2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwcHg7aGVpZ2h0OjEwcHg7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgwLCAwLCAwKTt0cmFuc2Zvcm06c2NhbGUzZCgwLCAwLCAwKTstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMjgwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDI4MG1zIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSk7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gMjgwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAyODBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpLCAtd2Via2l0LXRyYW5zZm9ybSAyODBtcyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpO2JhY2tncm91bmQtY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LW1kLWggLmFsZXJ0LXJhZGlvLWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1yYWRpby1pbm5lci5zYy1pb24tYWxlcnQtbWR7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LXJhZGlvLWxhYmVsLnNjLWlvbi1hbGVydC1tZHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpfVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1yYWRpby1pY29uLnNjLWlvbi1hbGVydC1tZHtib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpfVthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1yYWRpby1pbm5lci5zYy1pb24tYWxlcnQtbWR7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUzZCgxLCAxLCAxKTt0cmFuc2Zvcm06c2NhbGUzZCgxLCAxLCAxKX0uYWxlcnQtY2hlY2tib3gtbGFiZWwuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDo1M3B4O3BhZGRpbmctcmlnaHQ6MjZweDtwYWRkaW5nLXRvcDoxM3B4O3BhZGRpbmctYm90dG9tOjEzcHg7LW1zLWZsZXg6MTtmbGV4OjE7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtODUwLCAjMjYyNjI2KTtmb250LXNpemU6MTZweDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtY2hlY2tib3gtbGFiZWwuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo1M3B4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjUzcHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoyNnB4O3BhZGRpbmctaW5saW5lLWVuZDoyNnB4fX0uYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtbWR7bGVmdDoyNnB4O3RvcDowO2JvcmRlci1yYWRpdXM6MnB4O3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7Ym9yZGVyLXdpZHRoOjJweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLWNvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTU1MCwgIzczNzM3Myk7Y29udGFpbjpzdHJpY3R9W2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZCAuYWxlcnQtY2hlY2tib3gtaWNvbi5zYy1pb24tYWxlcnQtbWQsW2Rpcj1ydGxdLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIC5hbGVydC1jaGVja2JveC1pY29uLnNjLWlvbi1hbGVydC1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjI2cHh9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWljb24uc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7YmFja2dyb3VuZC1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZil9W2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZHtsZWZ0OjNweDt0b3A6MDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2cHg7aGVpZ2h0OjEwcHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtib3JkZXItd2lkdGg6MnB4O2JvcmRlci10b3Atd2lkdGg6MDtib3JkZXItbGVmdC13aWR0aDowO2JvcmRlci1zdHlsZTpzb2xpZDtib3JkZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QsICNmZmYpfVtkaXI9cnRsXS5zYy1pb24tYWxlcnQtbWQgW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0uc2MtaW9uLWFsZXJ0LW1kLWggW2FyaWEtY2hlY2tlZD10cnVlXS5zYy1pb24tYWxlcnQtbWQgLmFsZXJ0LWNoZWNrYm94LWlubmVyLnNjLWlvbi1hbGVydC1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1hbGVydC1tZC1oIFthcmlhLWNoZWNrZWQ9dHJ1ZV0uc2MtaW9uLWFsZXJ0LW1kIC5hbGVydC1jaGVja2JveC1pbm5lci5zYy1pb24tYWxlcnQtbWR7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9LmFsZXJ0LWJ1dHRvbi1ncm91cC5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OjhweDtwYWRkaW5nLXJpZ2h0OjhweDtwYWRkaW5nLXRvcDo4cHg7cGFkZGluZy1ib3R0b206OHB4Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDstbXMtZmxleC13cmFwOndyYXAtcmV2ZXJzZTtmbGV4LXdyYXA6d3JhcC1yZXZlcnNlOy1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5hbGVydC1idXR0b24tZ3JvdXAuc2MtaW9uLWFsZXJ0LW1ke3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDo4cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6OHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6OHB4O3BhZGRpbmctaW5saW5lLWVuZDo4cHh9fS5hbGVydC1idXR0b24uc2MtaW9uLWFsZXJ0LW1ke2JvcmRlci1yYWRpdXM6MnB4O21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjhweDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDoxMHB4O3BhZGRpbmctcmlnaHQ6MTBweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7Zm9udC13ZWlnaHQ6NTAwO3RleHQtYWxpZ246ZW5kO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsuYWxlcnQtYnV0dG9uLnNjLWlvbi1hbGVydC1tZHttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MDttYXJnaW4taW5saW5lLXN0YXJ0OjA7LXdlYmtpdC1tYXJnaW4tZW5kOjhweDttYXJnaW4taW5saW5lLWVuZDo4cHh9fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmFsZXJ0LWJ1dHRvbi5zYy1pb24tYWxlcnQtbWR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjEwcHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTBweDstd2Via2l0LXBhZGRpbmctZW5kOjEwcHg7cGFkZGluZy1pbmxpbmUtZW5kOjEwcHh9fS5hbGVydC1idXR0b24taW5uZXIuc2MtaW9uLWFsZXJ0LW1key1tcy1mbGV4LXBhY2s6ZW5kO2p1c3RpZnktY29udGVudDpmbGV4LWVuZH1cIjtcblxubGV0IEFsZXJ0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRpZFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkFsZXJ0RGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25BbGVydFdpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkFsZXJ0V2lsbERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWREaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25BbGVydERpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5wcm9jZXNzZWRJbnB1dHMgPSBbXTtcbiAgICB0aGlzLnByb2Nlc3NlZEJ1dHRvbnMgPSBbXTtcbiAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBidXR0b25zIHRvIGJlIGFkZGVkIHRvIHRoZSBhbGVydC5cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbnMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBpbnB1dCB0byBzaG93IGluIHRoZSBhbGVydC5cbiAgICAgKi9cbiAgICB0aGlzLmlucHV0cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGFsZXJ0IHdpbGwgYmUgZGlzbWlzc2VkIHdoZW4gdGhlIGJhY2tkcm9wIGlzIGNsaWNrZWQuXG4gICAgICovXG4gICAgdGhpcy5iYWNrZHJvcERpc21pc3MgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGFsZXJ0IHdpbGwgYmUgdHJhbnNsdWNlbnQuXG4gICAgICogT25seSBhcHBsaWVzIHdoZW4gdGhlIG1vZGUgaXMgYFwiaW9zXCJgIGFuZCB0aGUgZGV2aWNlIHN1cHBvcnRzXG4gICAgICogW2BiYWNrZHJvcC1maWx0ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvYmFja2Ryb3AtZmlsdGVyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGFsZXJ0IHdpbGwgYW5pbWF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9uQmFja2Ryb3BUYXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBCQUNLRFJPUCk7XG4gICAgfTtcbiAgICB0aGlzLmRpc3BhdGNoQ2FuY2VsSGFuZGxlciA9IChldikgPT4ge1xuICAgICAgY29uc3Qgcm9sZSA9IGV2LmRldGFpbC5yb2xlO1xuICAgICAgaWYgKGlzQ2FuY2VsKHJvbGUpKSB7XG4gICAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMucHJvY2Vzc2VkQnV0dG9ucy5maW5kKGIgPT4gYi5yb2xlID09PSAnY2FuY2VsJyk7XG4gICAgICAgIHRoaXMuY2FsbEJ1dHRvbkhhbmRsZXIoY2FuY2VsQnV0dG9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIG9uS2V5ZG93bihldikge1xuICAgIGNvbnN0IGlucHV0VHlwZXMgPSBuZXcgU2V0KHRoaXMucHJvY2Vzc2VkSW5wdXRzLm1hcChpID0+IGkudHlwZSkpO1xuICAgIC8vIFRoZSBvbmx5IGlucHV0cyB3ZSB3YW50IHRvIG5hdmlnYXRlIGJldHdlZW4gdXNpbmcgYXJyb3cga2V5cyBhcmUgdGhlIHJhZGlvc1xuICAgIC8vIGlnbm9yZSB0aGUga2V5ZG93biBldmVudCBpZiBpdCBpcyBub3Qgb24gYSByYWRpbyBidXR0b25cbiAgICBpZiAoIWlucHV0VHlwZXMuaGFzKCdyYWRpbycpXG4gICAgICB8fCAoZXYudGFyZ2V0ICYmICF0aGlzLmVsLmNvbnRhaW5zKGV2LnRhcmdldCkpXG4gICAgICB8fCBldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydC1idXR0b24nKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBHZXQgYWxsIHJhZGlvcyBpbnNpZGUgb2YgdGhlIHJhZGlvIGdyb3VwIGFuZCB0aGVuXG4gICAgLy8gZmlsdGVyIG91dCBkaXNhYmxlZCByYWRpb3Mgc2luY2Ugd2UgbmVlZCB0byBza2lwIHRob3NlXG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbGVydC1yYWRpbycpO1xuICAgIGNvbnN0IHJhZGlvcyA9IEFycmF5LmZyb20ocXVlcnkpLmZpbHRlcihyYWRpbyA9PiAhcmFkaW8uZGlzYWJsZWQpO1xuICAgIC8vIFRoZSBmb2N1c2VkIHJhZGlvIGlzIHRoZSBvbmUgdGhhdCBzaGFyZXMgdGhlIHNhbWUgaWQgYXNcbiAgICAvLyB0aGUgZXZlbnQgdGFyZ2V0XG4gICAgY29uc3QgaW5kZXggPSByYWRpb3MuZmluZEluZGV4KHJhZGlvID0+IHJhZGlvLmlkID09PSBldi50YXJnZXQuaWQpO1xuICAgIC8vIFdlIG5lZWQgdG8ga25vdyB3aGF0IHRoZSBuZXh0IHJhZGlvIGVsZW1lbnQgc2hvdWxkXG4gICAgLy8gYmUgaW4gb3JkZXIgdG8gY2hhbmdlIHRoZSBmb2N1c1xuICAgIGxldCBuZXh0RWw7XG4gICAgLy8gSWYgaGl0dGluZyBhcnJvdyBkb3duIG9yIGFycm93IHJpZ2h0LCBtb3ZlIHRvIHRoZSBuZXh0IHJhZGlvXG4gICAgLy8gSWYgd2UncmUgb24gdGhlIGxhc3QgcmFkaW8sIG1vdmUgdG8gdGhlIGZpcnN0IHJhZGlvXG4gICAgaWYgKFsnQXJyb3dEb3duJywgJ0Fycm93UmlnaHQnXS5pbmNsdWRlcyhldi5jb2RlKSkge1xuICAgICAgbmV4dEVsID0gKGluZGV4ID09PSByYWRpb3MubGVuZ3RoIC0gMSlcbiAgICAgICAgPyByYWRpb3NbMF1cbiAgICAgICAgOiByYWRpb3NbaW5kZXggKyAxXTtcbiAgICB9XG4gICAgLy8gSWYgaGl0dGluZyBhcnJvdyB1cCBvciBhcnJvdyBsZWZ0LCBtb3ZlIHRvIHRoZSBwcmV2aW91cyByYWRpb1xuICAgIC8vIElmIHdlJ3JlIG9uIHRoZSBmaXJzdCByYWRpbywgbW92ZSB0byB0aGUgbGFzdCByYWRpb1xuICAgIGlmIChbJ0Fycm93VXAnLCAnQXJyb3dMZWZ0J10uaW5jbHVkZXMoZXYuY29kZSkpIHtcbiAgICAgIG5leHRFbCA9IChpbmRleCA9PT0gMClcbiAgICAgICAgPyByYWRpb3NbcmFkaW9zLmxlbmd0aCAtIDFdXG4gICAgICAgIDogcmFkaW9zW2luZGV4IC0gMV07XG4gICAgfVxuICAgIGlmIChuZXh0RWwgJiYgcmFkaW9zLmluY2x1ZGVzKG5leHRFbCkpIHtcbiAgICAgIGNvbnN0IG5leHRQcm9jZXNzZWQgPSB0aGlzLnByb2Nlc3NlZElucHV0cy5maW5kKGlucHV0ID0+IGlucHV0LmlkID09PSAobmV4dEVsID09PSBudWxsIHx8IG5leHRFbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogbmV4dEVsLmlkKSk7XG4gICAgICBpZiAobmV4dFByb2Nlc3NlZCkge1xuICAgICAgICB0aGlzLnJiQ2xpY2sobmV4dFByb2Nlc3NlZCk7XG4gICAgICAgIG5leHRFbC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBidXR0b25zQ2hhbmdlZCgpIHtcbiAgICBjb25zdCBidXR0b25zID0gdGhpcy5idXR0b25zO1xuICAgIHRoaXMucHJvY2Vzc2VkQnV0dG9ucyA9IGJ1dHRvbnMubWFwKGJ0biA9PiB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBidG4gPT09ICdzdHJpbmcnKVxuICAgICAgICA/IHsgdGV4dDogYnRuLCByb2xlOiBidG4udG9Mb3dlckNhc2UoKSA9PT0gJ2NhbmNlbCcgPyAnY2FuY2VsJyA6IHVuZGVmaW5lZCB9XG4gICAgICAgIDogYnRuO1xuICAgIH0pO1xuICB9XG4gIGlucHV0c0NoYW5nZWQoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5pbnB1dHM7XG4gICAgLy8gR2V0IHRoZSBmaXJzdCBpbnB1dCB0aGF0IGlzIG5vdCBkaXNhYmxlZCBhbmQgdGhlIGNoZWNrZWQgb25lXG4gICAgLy8gSWYgYW4gZW5hYmxlZCBjaGVja2VkIGlucHV0IGV4aXN0cywgc2V0IGl0IHRvIGJlIHRoZSBmb2N1c2FibGUgaW5wdXRcbiAgICAvLyBvdGhlcndpc2Ugd2UgZGVmYXVsdCB0byBmb2N1cyB0aGUgZmlyc3QgaW5wdXRcbiAgICAvLyBUaGlzIHdpbGwgb25seSBiZSB1c2VkIHdoZW4gdGhlIGlucHV0IGlzIHR5cGUgcmFkaW9cbiAgICBjb25zdCBmaXJzdCA9IGlucHV0cy5maW5kKGlucHV0ID0+ICFpbnB1dC5kaXNhYmxlZCk7XG4gICAgY29uc3QgY2hlY2tlZCA9IGlucHV0cy5maW5kKGlucHV0ID0+IGlucHV0LmNoZWNrZWQgJiYgIWlucHV0LmRpc2FibGVkKTtcbiAgICBjb25zdCBmb2N1c2FibGUgPSBjaGVja2VkIHx8IGZpcnN0O1xuICAgIC8vIEFuIGFsZXJ0IGNhbiBiZSBjcmVhdGVkIHdpdGggc2V2ZXJhbCBkaWZmZXJlbnQgaW5wdXRzLiBSYWRpb3MsXG4gICAgLy8gY2hlY2tib3hlcyBhbmQgaW5wdXRzIGFyZSBhbGwgYWNjZXB0ZWQsIGJ1dCB0aGV5IGNhbm5vdCBiZSBtaXhlZC5cbiAgICBjb25zdCBpbnB1dFR5cGVzID0gbmV3IFNldChpbnB1dHMubWFwKGkgPT4gaS50eXBlKSk7XG4gICAgaWYgKGlucHV0VHlwZXMuaGFzKCdjaGVja2JveCcpICYmIGlucHV0VHlwZXMuaGFzKCdyYWRpbycpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEFsZXJ0IGNhbm5vdCBtaXggaW5wdXQgdHlwZXM6ICR7KEFycmF5LmZyb20oaW5wdXRUeXBlcy52YWx1ZXMoKSkuam9pbignLycpKX0uIFBsZWFzZSBzZWUgYWxlcnQgZG9jcyBmb3IgbW9yZSBpbmZvLmApO1xuICAgIH1cbiAgICB0aGlzLmlucHV0VHlwZSA9IGlucHV0VHlwZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIHRoaXMucHJvY2Vzc2VkSW5wdXRzID0gaW5wdXRzLm1hcCgoaSwgaW5kZXgpID0+ICh7XG4gICAgICB0eXBlOiBpLnR5cGUgfHwgJ3RleHQnLFxuICAgICAgbmFtZTogaS5uYW1lIHx8IGAke2luZGV4fWAsXG4gICAgICBwbGFjZWhvbGRlcjogaS5wbGFjZWhvbGRlciB8fCAnJyxcbiAgICAgIHZhbHVlOiBpLnZhbHVlLFxuICAgICAgbGFiZWw6IGkubGFiZWwsXG4gICAgICBjaGVja2VkOiAhIWkuY2hlY2tlZCxcbiAgICAgIGRpc2FibGVkOiAhIWkuZGlzYWJsZWQsXG4gICAgICBpZDogaS5pZCB8fCBgYWxlcnQtaW5wdXQtJHt0aGlzLm92ZXJsYXlJbmRleH0tJHtpbmRleH1gLFxuICAgICAgaGFuZGxlcjogaS5oYW5kbGVyLFxuICAgICAgbWluOiBpLm1pbixcbiAgICAgIG1heDogaS5tYXgsXG4gICAgICBjc3NDbGFzczogaS5jc3NDbGFzcyB8fCAnJyxcbiAgICAgIGF0dHJpYnV0ZXM6IGkuYXR0cmlidXRlcyB8fCB7fSxcbiAgICAgIHRhYmluZGV4OiAoaS50eXBlID09PSAncmFkaW8nICYmIGkgIT09IGZvY3VzYWJsZSkgPyAtMSA6IDBcbiAgICB9KSk7XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgdGhpcy5pbnB1dHNDaGFuZ2VkKCk7XG4gICAgdGhpcy5idXR0b25zQ2hhbmdlZCgpO1xuICB9XG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmdlc3R1cmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgLyoqXG4gICAgICogRG8gbm90IGNyZWF0ZSBnZXN0dXJlIGlmOlxuICAgICAqIDEuIEEgZ2VzdHVyZSBhbHJlYWR5IGV4aXN0c1xuICAgICAqIDIuIEFwcCBpcyBydW5uaW5nIGluIE1EIG1vZGVcbiAgICAgKiAzLiBBIHdyYXBwZXIgcmVmIGRvZXMgbm90IGV4aXN0XG4gICAgICovXG4gICAgaWYgKHRoaXMuZ2VzdHVyZSB8fCBnZXRJb25Nb2RlKHRoaXMpID09PSAnbWQnIHx8ICF0aGlzLndyYXBwZXJFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmdlc3R1cmUgPSBjcmVhdGVCdXR0b25BY3RpdmVHZXN0dXJlKHRoaXMud3JhcHBlckVsLCAocmVmRWwpID0+IHJlZkVsLmNsYXNzTGlzdC5jb250YWlucygnYWxlcnQtYnV0dG9uJykpO1xuICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUodHJ1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlbnQgdGhlIGFsZXJ0IG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIHByZXNlbnQoKSB7XG4gICAgcmV0dXJuIHByZXNlbnQodGhpcywgJ2FsZXJ0RW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiQ1LCBtZEVudGVyQW5pbWF0aW9uJDQpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBhbGVydCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgYWxlcnQuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpbiBhIGJ1dHRvbiBoYW5kbGVyIGZvciBkZXRlcm1pbmluZyB3aGljaCBidXR0b24gd2FzXG4gICAqIGNsaWNrZWQgdG8gZGlzbWlzcyB0aGUgYWxlcnQuXG4gICAqIFNvbWUgZXhhbXBsZXMgaW5jbHVkZTogYGBcImNhbmNlbFwiYCwgYFwiZGVzdHJ1Y3RpdmVcImAsIFwic2VsZWN0ZWRcImAsIGFuZCBgXCJiYWNrZHJvcFwiYC5cbiAgICovXG4gIGRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgIHJldHVybiBkaXNtaXNzKHRoaXMsIGRhdGEsIHJvbGUsICdhbGVydExlYXZlJywgaW9zTGVhdmVBbmltYXRpb24kNSwgbWRMZWF2ZUFuaW1hdGlvbiQ0KTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBhbGVydCBkaWQgZGlzbWlzcy5cbiAgICovXG4gIG9uRGlkRGlzbWlzcygpIHtcbiAgICByZXR1cm4gZXZlbnRNZXRob2QodGhpcy5lbCwgJ2lvbkFsZXJ0RGlkRGlzbWlzcycpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGFsZXJ0IHdpbGwgZGlzbWlzcy5cbiAgICovXG4gIG9uV2lsbERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25BbGVydFdpbGxEaXNtaXNzJyk7XG4gIH1cbiAgcmJDbGljayhzZWxlY3RlZElucHV0KSB7XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiB0aGlzLnByb2Nlc3NlZElucHV0cykge1xuICAgICAgaW5wdXQuY2hlY2tlZCA9IGlucHV0ID09PSBzZWxlY3RlZElucHV0O1xuICAgICAgaW5wdXQudGFiaW5kZXggPSBpbnB1dCA9PT0gc2VsZWN0ZWRJbnB1dCA/IDAgOiAtMTtcbiAgICB9XG4gICAgdGhpcy5hY3RpdmVJZCA9IHNlbGVjdGVkSW5wdXQuaWQ7XG4gICAgc2FmZUNhbGwoc2VsZWN0ZWRJbnB1dC5oYW5kbGVyLCBzZWxlY3RlZElucHV0KTtcbiAgICBmb3JjZVVwZGF0ZSh0aGlzKTtcbiAgfVxuICBjYkNsaWNrKHNlbGVjdGVkSW5wdXQpIHtcbiAgICBzZWxlY3RlZElucHV0LmNoZWNrZWQgPSAhc2VsZWN0ZWRJbnB1dC5jaGVja2VkO1xuICAgIHNhZmVDYWxsKHNlbGVjdGVkSW5wdXQuaGFuZGxlciwgc2VsZWN0ZWRJbnB1dCk7XG4gICAgZm9yY2VVcGRhdGUodGhpcyk7XG4gIH1cbiAgYnV0dG9uQ2xpY2soYnV0dG9uKSB7XG4gICAgY29uc3Qgcm9sZSA9IGJ1dHRvbi5yb2xlO1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMuZ2V0VmFsdWVzKCk7XG4gICAgaWYgKGlzQ2FuY2VsKHJvbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNtaXNzKHsgdmFsdWVzIH0sIHJvbGUpO1xuICAgIH1cbiAgICBjb25zdCByZXR1cm5EYXRhID0gdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihidXR0b24sIHZhbHVlcyk7XG4gICAgaWYgKHJldHVybkRhdGEgIT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNtaXNzKE9iamVjdC5hc3NpZ24oeyB2YWx1ZXMgfSwgcmV0dXJuRGF0YSksIGJ1dHRvbi5yb2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7XG4gIH1cbiAgY2FsbEJ1dHRvbkhhbmRsZXIoYnV0dG9uLCBkYXRhKSB7XG4gICAgaWYgKGJ1dHRvbiAmJiBidXR0b24uaGFuZGxlcikge1xuICAgICAgLy8gYSBoYW5kbGVyIGhhcyBiZWVuIHByb3ZpZGVkLCBleGVjdXRlIGl0XG4gICAgICAvLyBwYXNzIHRoZSBoYW5kbGVyIHRoZSB2YWx1ZXMgZnJvbSB0aGUgaW5wdXRzXG4gICAgICBjb25zdCByZXR1cm5EYXRhID0gc2FmZUNhbGwoYnV0dG9uLmhhbmRsZXIsIGRhdGEpO1xuICAgICAgaWYgKHJldHVybkRhdGEgPT09IGZhbHNlKSB7XG4gICAgICAgIC8vIGlmIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGhhbmRsZXIgaXMgZmFsc2UgdGhlbiBkbyBub3QgZGlzbWlzc1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJldHVybkRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5EYXRhO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbiAgZ2V0VmFsdWVzKCkge1xuICAgIGlmICh0aGlzLnByb2Nlc3NlZElucHV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIHRoaXMgaXMgYW4gYWxlcnQgd2l0aG91dCBhbnkgb3B0aW9ucy9pbnB1dHMgYXQgYWxsXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAodGhpcy5pbnB1dFR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIC8vIHRoaXMgaXMgYW4gYWxlcnQgd2l0aCByYWRpbyBidXR0b25zIChzaW5nbGUgdmFsdWUgc2VsZWN0KVxuICAgICAgLy8gcmV0dXJuIHRoZSBvbmUgdmFsdWUgd2hpY2ggaXMgY2hlY2tlZCwgb3RoZXJ3aXNlIHVuZGVmaW5lZFxuICAgICAgY29uc3QgY2hlY2tlZElucHV0ID0gdGhpcy5wcm9jZXNzZWRJbnB1dHMuZmluZChpID0+ICEhaS5jaGVja2VkKTtcbiAgICAgIHJldHVybiBjaGVja2VkSW5wdXQgPyBjaGVja2VkSW5wdXQudmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmlucHV0VHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgLy8gdGhpcyBpcyBhbiBhbGVydCB3aXRoIGNoZWNrYm94ZXMgKG11bHRpcGxlIHZhbHVlIHNlbGVjdClcbiAgICAgIC8vIHJldHVybiBhbiBhcnJheSBvZiBhbGwgdGhlIGNoZWNrZWQgdmFsdWVzXG4gICAgICByZXR1cm4gdGhpcy5wcm9jZXNzZWRJbnB1dHMuZmlsdGVyKGkgPT4gaS5jaGVja2VkKS5tYXAoaSA9PiBpLnZhbHVlKTtcbiAgICB9XG4gICAgLy8gdGhpcyBpcyBhbiBhbGVydCB3aXRoIHRleHQgaW5wdXRzXG4gICAgLy8gcmV0dXJuIGFuIG9iamVjdCBvZiBhbGwgdGhlIHZhbHVlcyB3aXRoIHRoZSBpbnB1dCBuYW1lIGFzIHRoZSBrZXlcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICB0aGlzLnByb2Nlc3NlZElucHV0cy5mb3JFYWNoKGkgPT4ge1xuICAgICAgdmFsdWVzW2kubmFtZV0gPSBpLnZhbHVlIHx8ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgcmVuZGVyQWxlcnRJbnB1dHMoKSB7XG4gICAgc3dpdGNoICh0aGlzLmlucHV0VHlwZSkge1xuICAgICAgY2FzZSAnY2hlY2tib3gnOiByZXR1cm4gdGhpcy5yZW5kZXJDaGVja2JveCgpO1xuICAgICAgY2FzZSAncmFkaW8nOiByZXR1cm4gdGhpcy5yZW5kZXJSYWRpbygpO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIHRoaXMucmVuZGVySW5wdXQoKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyQ2hlY2tib3goKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5wcm9jZXNzZWRJbnB1dHM7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgaWYgKGlucHV0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJhbGVydC1jaGVja2JveC1ncm91cFwiIH0sIGlucHV0cy5tYXAoaSA9PiAoaChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHRoaXMuY2JDbGljayhpKSwgXCJhcmlhLWNoZWNrZWRcIjogYCR7aS5jaGVja2VkfWAsIGlkOiBpLmlkLCBkaXNhYmxlZDogaS5kaXNhYmxlZCwgdGFiSW5kZXg6IGkudGFiaW5kZXgsIHJvbGU6IFwiY2hlY2tib3hcIiwgY2xhc3M6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q2xhc3NNYXAoaS5jc3NDbGFzcykpLCB7ICdhbGVydC10YXBwYWJsZSc6IHRydWUsICdhbGVydC1jaGVja2JveCc6IHRydWUsICdhbGVydC1jaGVja2JveC1idXR0b24nOiB0cnVlLCAnaW9uLWZvY3VzYWJsZSc6IHRydWUsICdhbGVydC1jaGVja2JveC1idXR0b24tZGlzYWJsZWQnOiBpLmRpc2FibGVkIHx8IGZhbHNlIH0pIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhbGVydC1idXR0b24taW5uZXJcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtY2hlY2tib3gtaWNvblwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhbGVydC1jaGVja2JveC1pbm5lclwiIH0pKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImFsZXJ0LWNoZWNrYm94LWxhYmVsXCIgfSwgaS5sYWJlbCkpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpKSkpO1xuICB9XG4gIHJlbmRlclJhZGlvKCkge1xuICAgIGNvbnN0IGlucHV0cyA9IHRoaXMucHJvY2Vzc2VkSW5wdXRzO1xuICAgIGlmIChpbnB1dHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtcmFkaW8tZ3JvdXBcIiwgcm9sZTogXCJyYWRpb2dyb3VwXCIsIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IHRoaXMuYWN0aXZlSWQgfSwgaW5wdXRzLm1hcChpID0+IChoKFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4gdGhpcy5yYkNsaWNrKGkpLCBcImFyaWEtY2hlY2tlZFwiOiBgJHtpLmNoZWNrZWR9YCwgZGlzYWJsZWQ6IGkuZGlzYWJsZWQsIGlkOiBpLmlkLCB0YWJJbmRleDogaS50YWJpbmRleCwgY2xhc3M6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q2xhc3NNYXAoaS5jc3NDbGFzcykpLCB7ICdhbGVydC1yYWRpby1idXR0b24nOiB0cnVlLCAnYWxlcnQtdGFwcGFibGUnOiB0cnVlLCAnYWxlcnQtcmFkaW8nOiB0cnVlLCAnaW9uLWZvY3VzYWJsZSc6IHRydWUsICdhbGVydC1yYWRpby1idXR0b24tZGlzYWJsZWQnOiBpLmRpc2FibGVkIHx8IGZhbHNlIH0pLCByb2xlOiBcInJhZGlvXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImFsZXJ0LWJ1dHRvbi1pbm5lclwiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJhbGVydC1yYWRpby1pY29uXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImFsZXJ0LXJhZGlvLWlubmVyXCIgfSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtcmFkaW8tbGFiZWxcIiB9LCBpLmxhYmVsKSkpKSkpKTtcbiAgfVxuICByZW5kZXJJbnB1dCgpIHtcbiAgICBjb25zdCBpbnB1dHMgPSB0aGlzLnByb2Nlc3NlZElucHV0cztcbiAgICBpZiAoaW5wdXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImFsZXJ0LWlucHV0LWdyb3VwXCIgfSwgaW5wdXRzLm1hcChpID0+IHtcbiAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgIGlmIChpLnR5cGUgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgICAgcmV0dXJuIChoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtaW5wdXQtd3JhcHBlclwiIH0sIGgoXCJ0ZXh0YXJlYVwiLCBPYmplY3QuYXNzaWduKHsgcGxhY2Vob2xkZXI6IGkucGxhY2Vob2xkZXIsIHZhbHVlOiBpLnZhbHVlLCBpZDogaS5pZCwgdGFiSW5kZXg6IGkudGFiaW5kZXggfSwgaS5hdHRyaWJ1dGVzLCB7IGRpc2FibGVkOiAoX2IgPSAoX2EgPSBpLmF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNhYmxlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaS5kaXNhYmxlZCwgY2xhc3M6IGlucHV0Q2xhc3MoaSksIG9uSW5wdXQ6IGUgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaS52YWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgaWYgKChfYSA9IGkuYXR0cmlidXRlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uSW5wdXQpIHtcbiAgICAgICAgICAgICAgaS5hdHRyaWJ1dGVzLm9uSW5wdXQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB9KSkpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKGgoXCJkaXZcIiwgeyBjbGFzczogXCJhbGVydC1pbnB1dC13cmFwcGVyXCIgfSwgaChcImlucHV0XCIsIE9iamVjdC5hc3NpZ24oeyBwbGFjZWhvbGRlcjogaS5wbGFjZWhvbGRlciwgdHlwZTogaS50eXBlLCBtaW46IGkubWluLCBtYXg6IGkubWF4LCB2YWx1ZTogaS52YWx1ZSwgaWQ6IGkuaWQsIHRhYkluZGV4OiBpLnRhYmluZGV4IH0sIGkuYXR0cmlidXRlcywgeyBkaXNhYmxlZDogKF9kID0gKF9jID0gaS5hdHRyaWJ1dGVzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGlzYWJsZWQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGkuZGlzYWJsZWQsIGNsYXNzOiBpbnB1dENsYXNzKGkpLCBvbklucHV0OiBlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGkudmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmICgoX2EgPSBpLmF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbklucHV0KSB7XG4gICAgICAgICAgICAgIGkuYXR0cmlidXRlcy5vbklucHV0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gfSkpKSk7XG4gICAgICB9XG4gICAgfSkpKTtcbiAgfVxuICByZW5kZXJBbGVydEJ1dHRvbnMoKSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMucHJvY2Vzc2VkQnV0dG9ucztcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCBhbGVydEJ1dHRvbkdyb3VwQ2xhc3MgPSB7XG4gICAgICAnYWxlcnQtYnV0dG9uLWdyb3VwJzogdHJ1ZSxcbiAgICAgICdhbGVydC1idXR0b24tZ3JvdXAtdmVydGljYWwnOiBidXR0b25zLmxlbmd0aCA+IDJcbiAgICB9O1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBhbGVydEJ1dHRvbkdyb3VwQ2xhc3MgfSwgYnV0dG9ucy5tYXAoYnV0dG9uID0+IGgoXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBpZDogYnV0dG9uLmlkLCBjbGFzczogYnV0dG9uQ2xhc3MkMihidXR0b24pLCB0YWJJbmRleDogMCwgb25DbGljazogKCkgPT4gdGhpcy5idXR0b25DbGljayhidXR0b24pIH0sIGgoXCJzcGFuXCIsIHsgY2xhc3M6IFwiYWxlcnQtYnV0dG9uLWlubmVyXCIgfSwgYnV0dG9uLnRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpKSk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb3ZlcmxheUluZGV4LCBoZWFkZXIsIHN1YkhlYWRlciwgaHRtbEF0dHJpYnV0ZXMgfSA9IHRoaXM7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3QgaGRySWQgPSBgYWxlcnQtJHtvdmVybGF5SW5kZXh9LWhkcmA7XG4gICAgY29uc3Qgc3ViSGRySWQgPSBgYWxlcnQtJHtvdmVybGF5SW5kZXh9LXN1Yi1oZHJgO1xuICAgIGNvbnN0IG1zZ0lkID0gYGFsZXJ0LSR7b3ZlcmxheUluZGV4fS1tc2dgO1xuICAgIGNvbnN0IHJvbGUgPSB0aGlzLmlucHV0cy5sZW5ndGggPiAwIHx8IHRoaXMuYnV0dG9ucy5sZW5ndGggPiAwID8gJ2FsZXJ0ZGlhbG9nJyA6ICdhbGVydCc7XG4gICAgcmV0dXJuIChoKEhvc3QsIE9iamVjdC5hc3NpZ24oeyByb2xlOiByb2xlLCBcImFyaWEtbW9kYWxcIjogXCJ0cnVlXCIsIHRhYmluZGV4OiBcIi0xXCIgfSwgaHRtbEF0dHJpYnV0ZXMsIHsgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiBgJHsyMDAwMCArIG92ZXJsYXlJbmRleH1gLFxuICAgICAgfSwgY2xhc3M6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCB7IFttb2RlXTogdHJ1ZSwgJ292ZXJsYXktaGlkZGVuJzogdHJ1ZSwgJ2FsZXJ0LXRyYW5zbHVjZW50JzogdGhpcy50cmFuc2x1Y2VudCB9KSwgb25Jb25BbGVydFdpbGxEaXNtaXNzOiB0aGlzLmRpc3BhdGNoQ2FuY2VsSGFuZGxlciwgb25Jb25CYWNrZHJvcFRhcDogdGhpcy5vbkJhY2tkcm9wVGFwIH0pLCBoKFwiaW9uLWJhY2tkcm9wXCIsIHsgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzIH0pLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIsIHJlZjogZWwgPT4gdGhpcy53cmFwcGVyRWwgPSBlbCB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwiYWxlcnQtaGVhZFwiIH0sIGhlYWRlciAmJiBoKFwiaDJcIiwgeyBpZDogaGRySWQsIGNsYXNzOiBcImFsZXJ0LXRpdGxlXCIgfSwgaGVhZGVyKSwgc3ViSGVhZGVyICYmIGgoXCJoMlwiLCB7IGlkOiBzdWJIZHJJZCwgY2xhc3M6IFwiYWxlcnQtc3ViLXRpdGxlXCIgfSwgc3ViSGVhZGVyKSksIGgoXCJkaXZcIiwgeyBpZDogbXNnSWQsIGNsYXNzOiBcImFsZXJ0LW1lc3NhZ2VcIiwgaW5uZXJIVE1MOiBzYW5pdGl6ZURPTVN0cmluZyh0aGlzLm1lc3NhZ2UpIH0pLCB0aGlzLnJlbmRlckFsZXJ0SW5wdXRzKCksIHRoaXMucmVuZGVyQWxlcnRCdXR0b25zKCkpLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiYnV0dG9uc1wiOiBbXCJidXR0b25zQ2hhbmdlZFwiXSxcbiAgICBcImlucHV0c1wiOiBbXCJpbnB1dHNDaGFuZ2VkXCJdXG4gIH07IH1cbn07XG5jb25zdCBpbnB1dENsYXNzID0gKGlucHV0KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgJ2FsZXJ0LWlucHV0JzogdHJ1ZSwgJ2FsZXJ0LWlucHV0LWRpc2FibGVkJzogKChfYiA9IChfYSA9IGlucHV0LmF0dHJpYnV0ZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNhYmxlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaW5wdXQuZGlzYWJsZWQpIHx8IGZhbHNlIH0sIGdldENsYXNzTWFwKGlucHV0LmNzc0NsYXNzKSksIGdldENsYXNzTWFwKGlucHV0LmF0dHJpYnV0ZXMgPyAoX2MgPSBpbnB1dC5hdHRyaWJ1dGVzLmNsYXNzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9TdHJpbmcoKSA6ICcnKSk7XG59O1xuY29uc3QgYnV0dG9uQ2xhc3MkMiA9IChidXR0b24pID0+IHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyAnYWxlcnQtYnV0dG9uJzogdHJ1ZSwgJ2lvbi1mb2N1c2FibGUnOiB0cnVlLCAnaW9uLWFjdGl2YXRhYmxlJzogdHJ1ZSwgW2BhbGVydC1idXR0b24tcm9sZS0ke2J1dHRvbi5yb2xlfWBdOiBidXR0b24ucm9sZSAhPT0gdW5kZWZpbmVkIH0sIGdldENsYXNzTWFwKGJ1dHRvbi5jc3NDbGFzcykpO1xufTtcbkFsZXJ0LnN0eWxlID0ge1xuICBpb3M6IGFsZXJ0SW9zQ3NzLFxuICBtZDogYWxlcnRNZENzc1xufTtcblxuLyoqXG4gKiBpT1MgTG9hZGluZyBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24kNCA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKVxuICAgIC5iZWZvcmVTdHlsZXMoe1xuICAgICdwb2ludGVyLWV2ZW50cyc6ICdub25lJ1xuICB9KVxuICAgIC5hZnRlckNsZWFyU3R5bGVzKFsncG9pbnRlci1ldmVudHMnXSk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmxvYWRpbmctd3JhcHBlcicpKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxLjEpJyB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnZWFzZS1pbi1vdXQnKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogaU9TIExvYWRpbmcgTGVhdmUgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IGlvc0xlYXZlQW5pbWF0aW9uJDQgPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmxvYWRpbmctd3JhcHBlcicpKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjk5LCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC45KScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnZWFzZS1pbi1vdXQnKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogTWQgTG9hZGluZyBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRFbnRlckFuaW1hdGlvbiQzID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpXG4gICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnXG4gIH0pXG4gICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgd3JhcHBlckFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcubG9hZGluZy13cmFwcGVyJykpXG4gICAgLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuMDEsIHRyYW5zZm9ybTogJ3NjYWxlKDEuMSknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogJ3NjYWxlKDEpJyB9XG4gIF0pO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdlYXNlLWluLW91dCcpXG4gICAgLmR1cmF0aW9uKDIwMClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuLyoqXG4gKiBNZCBMb2FkaW5nIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBtZExlYXZlQW5pbWF0aW9uJDMgPSAoYmFzZUVsKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignLmxvYWRpbmctd3JhcHBlcicpKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjk5LCB0cmFuc2Zvcm06ICdzY2FsZSgxKScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCwgdHJhbnNmb3JtOiAnc2NhbGUoMC45KScgfVxuICBdKTtcbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwpXG4gICAgLmVhc2luZygnZWFzZS1pbi1vdXQnKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IGxvYWRpbmdJb3NDc3MgPSBcIi5zYy1pb24tbG9hZGluZy1pb3MtaHstLW1pbi13aWR0aDphdXRvOy0td2lkdGg6YXV0bzstLW1pbi1oZWlnaHQ6YXV0bzstLWhlaWdodDphdXRvOy1tb3otb3N4LWZvbnQtc21vb3RoaW5nOmdyYXlzY2FsZTstd2Via2l0LWZvbnQtc21vb3RoaW5nOmFudGlhbGlhc2VkO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmZpeGVkOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3otaW5kZXg6MTAwMX0ub3ZlcmxheS1oaWRkZW4uc2MtaW9uLWxvYWRpbmctaW9zLWh7ZGlzcGxheTpub25lfS5sb2FkaW5nLXdyYXBwZXIuc2MtaW9uLWxvYWRpbmctaW9ze2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWFsaWduOmluaGVyaXQ7YWxpZ24taXRlbXM6aW5oZXJpdDstbXMtZmxleC1wYWNrOmluaGVyaXQ7anVzdGlmeS1jb250ZW50OmluaGVyaXQ7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO29wYWNpdHk6MDt6LWluZGV4OjEwfS5zcGlubmVyLWxpbmVzLnNjLWlvbi1sb2FkaW5nLWlvcywuc3Bpbm5lci1saW5lcy1zbWFsbC5zYy1pb24tbG9hZGluZy1pb3MsLnNwaW5uZXItYnViYmxlcy5zYy1pb24tbG9hZGluZy1pb3MsLnNwaW5uZXItY2lyY2xlcy5zYy1pb24tbG9hZGluZy1pb3MsLnNwaW5uZXItY3Jlc2NlbnQuc2MtaW9uLWxvYWRpbmctaW9zLC5zcGlubmVyLWRvdHMuc2MtaW9uLWxvYWRpbmctaW9ze2NvbG9yOnZhcigtLXNwaW5uZXItY29sb3IpfS5zYy1pb24tbG9hZGluZy1pb3MtaHstLWJhY2tncm91bmQ6dmFyKC0taW9uLW92ZXJsYXktYmFja2dyb3VuZC1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZjlmOWY5KSk7LS1tYXgtd2lkdGg6MjcwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLXNwaW5uZXItY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNjAwLCAjNjY2NjY2KTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMyk7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtc2l6ZToxNHB4fS5sb2FkaW5nLXdyYXBwZXIuc2MtaW9uLWxvYWRpbmctaW9ze2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmctbGVmdDozNHB4O3BhZGRpbmctcmlnaHQ6MzRweDtwYWRkaW5nLXRvcDoyNHB4O3BhZGRpbmctYm90dG9tOjI0cHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubG9hZGluZy13cmFwcGVyLnNjLWlvbi1sb2FkaW5nLWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MzRweDtwYWRkaW5nLWlubGluZS1zdGFydDozNHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MzRweDtwYWRkaW5nLWlubGluZS1lbmQ6MzRweH19QHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpIG9yIChiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMCkpKXsubG9hZGluZy10cmFuc2x1Y2VudC5zYy1pb24tbG9hZGluZy1pb3MtaCAubG9hZGluZy13cmFwcGVyLnNjLWlvbi1sb2FkaW5nLWlvc3tiYWNrZ3JvdW5kLWNvbG9yOnJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KTstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpO2JhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpfX0ubG9hZGluZy1jb250ZW50LnNjLWlvbi1sb2FkaW5nLWlvc3tmb250LXdlaWdodDpib2xkfS5sb2FkaW5nLXNwaW5uZXIuc2MtaW9uLWxvYWRpbmctaW9zKy5sb2FkaW5nLWNvbnRlbnQuc2MtaW9uLWxvYWRpbmctaW9ze21hcmdpbi1sZWZ0OjE2cHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubG9hZGluZy1zcGlubmVyLnNjLWlvbi1sb2FkaW5nLWlvcysubG9hZGluZy1jb250ZW50LnNjLWlvbi1sb2FkaW5nLWlvc3ttYXJnaW4tbGVmdDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDoxNnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6MTZweH19XCI7XG5cbmNvbnN0IGxvYWRpbmdNZENzcyA9IFwiLnNjLWlvbi1sb2FkaW5nLW1kLWh7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6YXV0bzstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7LW1zLXRvdWNoLWFjdGlvbjpub25lO3RvdWNoLWFjdGlvbjpub25lOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4OjEwMDF9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1sb2FkaW5nLW1kLWh7ZGlzcGxheTpub25lfS5sb2FkaW5nLXdyYXBwZXIuc2MtaW9uLWxvYWRpbmctbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246aW5oZXJpdDthbGlnbi1pdGVtczppbmhlcml0Oy1tcy1mbGV4LXBhY2s6aW5oZXJpdDtqdXN0aWZ5LWNvbnRlbnQ6aW5oZXJpdDt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7b3BhY2l0eTowO3otaW5kZXg6MTB9LnNwaW5uZXItbGluZXMuc2MtaW9uLWxvYWRpbmctbWQsLnNwaW5uZXItbGluZXMtc21hbGwuc2MtaW9uLWxvYWRpbmctbWQsLnNwaW5uZXItYnViYmxlcy5zYy1pb24tbG9hZGluZy1tZCwuc3Bpbm5lci1jaXJjbGVzLnNjLWlvbi1sb2FkaW5nLW1kLC5zcGlubmVyLWNyZXNjZW50LnNjLWlvbi1sb2FkaW5nLW1kLC5zcGlubmVyLWRvdHMuc2MtaW9uLWxvYWRpbmctbWR7Y29sb3I6dmFyKC0tc3Bpbm5lci1jb2xvcil9LnNjLWlvbi1sb2FkaW5nLW1kLWh7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTUwLCAjZjJmMmYyKTstLW1heC13aWR0aDoyODBweDstLW1heC1oZWlnaHQ6OTAlOy0tc3Bpbm5lci1jb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjMyKTtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC04NTAsICMyNjI2MjYpO2ZvbnQtc2l6ZToxNHB4fS5sb2FkaW5nLXdyYXBwZXIuc2MtaW9uLWxvYWRpbmctbWR7Ym9yZGVyLXJhZGl1czoycHg7cGFkZGluZy1sZWZ0OjI0cHg7cGFkZGluZy1yaWdodDoyNHB4O3BhZGRpbmctdG9wOjI0cHg7cGFkZGluZy1ib3R0b206MjRweDstd2Via2l0LWJveC1zaGFkb3c6MCAxNnB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjQpO2JveC1zaGFkb3c6MCAxNnB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjQpfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LmxvYWRpbmctd3JhcHBlci5zYy1pb24tbG9hZGluZy1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MjRweDtwYWRkaW5nLWlubGluZS1zdGFydDoyNHB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MjRweDtwYWRkaW5nLWlubGluZS1lbmQ6MjRweH19LmxvYWRpbmctc3Bpbm5lci5zYy1pb24tbG9hZGluZy1tZCsubG9hZGluZy1jb250ZW50LnNjLWlvbi1sb2FkaW5nLW1ke21hcmdpbi1sZWZ0OjE2cHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubG9hZGluZy1zcGlubmVyLnNjLWlvbi1sb2FkaW5nLW1kKy5sb2FkaW5nLWNvbnRlbnQuc2MtaW9uLWxvYWRpbmctbWR7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHh9fVwiO1xuXG5sZXQgTG9hZGluZyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5kaWRQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Mb2FkaW5nRGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Mb2FkaW5nV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTG9hZGluZ1dpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTG9hZGluZ0RpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5wcmVzZW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBrZXlib2FyZCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZGlzbWlzc2VkIHdoZW4gdGhlIG92ZXJsYXkgaXMgcHJlc2VudGVkLlxuICAgICAqL1xuICAgIHRoaXMua2V5Ym9hcmRDbG9zZSA9IHRydWU7XG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBkaXNtaXNzaW5nIHRoZSBsb2FkaW5nIGluZGljYXRvci5cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gMDtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBsb2FkaW5nIGluZGljYXRvciB3aWxsIGJlIGRpc21pc3NlZCB3aGVuIHRoZSBiYWNrZHJvcCBpcyBjbGlja2VkLlxuICAgICAqL1xuICAgIHRoaXMuYmFja2Ryb3BEaXNtaXNzID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBhIGJhY2tkcm9wIHdpbGwgYmUgZGlzcGxheWVkIGJlaGluZCB0aGUgbG9hZGluZyBpbmRpY2F0b3IuXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHdpbGwgYmUgdHJhbnNsdWNlbnQuXG4gICAgICogT25seSBhcHBsaWVzIHdoZW4gdGhlIG1vZGUgaXMgYFwiaW9zXCJgIGFuZCB0aGUgZGV2aWNlIHN1cHBvcnRzXG4gICAgICogW2BiYWNrZHJvcC1maWx0ZXJgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvYmFja2Ryb3AtZmlsdGVyI0Jyb3dzZXJfY29tcGF0aWJpbGl0eSkuXG4gICAgICovXG4gICAgdGhpcy50cmFuc2x1Y2VudCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHdpbGwgYW5pbWF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICB0aGlzLm9uQmFja2Ryb3BUYXAgPSAoKSA9PiB7XG4gICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCBCQUNLRFJPUCk7XG4gICAgfTtcbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBwcmVwYXJlT3ZlcmxheSh0aGlzLmVsKTtcbiAgfVxuICBjb21wb25lbnRXaWxsTG9hZCgpIHtcbiAgICBpZiAodGhpcy5zcGlubmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgICAgdGhpcy5zcGlubmVyID0gY29uZmlnLmdldCgnbG9hZGluZ1NwaW5uZXInLCBjb25maWcuZ2V0KCdzcGlubmVyJywgbW9kZSA9PT0gJ2lvcycgPyAnbGluZXMnIDogJ2NyZXNjZW50JykpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUHJlc2VudCB0aGUgbG9hZGluZyBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBhc3luYyBwcmVzZW50KCkge1xuICAgIGF3YWl0IHByZXNlbnQodGhpcywgJ2xvYWRpbmdFbnRlcicsIGlvc0VudGVyQW5pbWF0aW9uJDQsIG1kRW50ZXJBbmltYXRpb24kMywgdW5kZWZpbmVkKTtcbiAgICBpZiAodGhpcy5kdXJhdGlvbiA+IDApIHtcbiAgICAgIHRoaXMuZHVyYXRpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmRpc21pc3MoKSwgdGhpcy5kdXJhdGlvbiArIDEwKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERpc21pc3MgdGhlIGxvYWRpbmcgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBwcmVzZW50ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIEFueSBkYXRhIHRvIGVtaXQgaW4gdGhlIGRpc21pc3MgZXZlbnRzLlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgcm9sZSBvZiB0aGUgZWxlbWVudCB0aGF0IGlzIGRpc21pc3NpbmcgdGhlIGxvYWRpbmcuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpbiBhIGJ1dHRvbiBoYW5kbGVyIGZvciBkZXRlcm1pbmluZyB3aGljaCBidXR0b24gd2FzXG4gICAqIGNsaWNrZWQgdG8gZGlzbWlzcyB0aGUgbG9hZGluZy5cbiAgICogU29tZSBleGFtcGxlcyBpbmNsdWRlOiBgYFwiY2FuY2VsXCJgLCBgXCJkZXN0cnVjdGl2ZVwiYCwgXCJzZWxlY3RlZFwiYCwgYW5kIGBcImJhY2tkcm9wXCJgLlxuICAgKi9cbiAgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgaWYgKHRoaXMuZHVyYXRpb25UaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5kdXJhdGlvblRpbWVvdXQpO1xuICAgIH1cbiAgICByZXR1cm4gZGlzbWlzcyh0aGlzLCBkYXRhLCByb2xlLCAnbG9hZGluZ0xlYXZlJywgaW9zTGVhdmVBbmltYXRpb24kNCwgbWRMZWF2ZUFuaW1hdGlvbiQzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBsb2FkaW5nIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uTG9hZGluZ0RpZERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBsb2FkaW5nIHdpbGwgZGlzbWlzcy5cbiAgICovXG4gIG9uV2lsbERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Mb2FkaW5nV2lsbERpc21pc3MnKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBtZXNzYWdlLCBzcGlubmVyLCBodG1sQXR0cmlidXRlcyB9ID0gdGhpcztcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgT2JqZWN0LmFzc2lnbih7IHRhYmluZGV4OiBcIi0xXCIgfSwgaHRtbEF0dHJpYnV0ZXMsIHsgc3R5bGU6IHtcbiAgICAgICAgekluZGV4OiBgJHs0MDAwMCArIHRoaXMub3ZlcmxheUluZGV4fWBcbiAgICAgIH0sIG9uSW9uQmFja2Ryb3BUYXA6IHRoaXMub25CYWNrZHJvcFRhcCwgY2xhc3M6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCB7IFttb2RlXTogdHJ1ZSwgJ292ZXJsYXktaGlkZGVuJzogdHJ1ZSwgJ2xvYWRpbmctdHJhbnNsdWNlbnQnOiB0aGlzLnRyYW5zbHVjZW50IH0pIH0pLCBoKFwiaW9uLWJhY2tkcm9wXCIsIHsgdmlzaWJsZTogdGhpcy5zaG93QmFja2Ryb3AsIHRhcHBhYmxlOiB0aGlzLmJhY2tkcm9wRGlzbWlzcyB9KSwgaChcImRpdlwiLCB7IHRhYmluZGV4OiBcIjBcIiB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcImxvYWRpbmctd3JhcHBlciBpb24tb3ZlcmxheS13cmFwcGVyXCIsIHJvbGU6IFwiZGlhbG9nXCIgfSwgc3Bpbm5lciAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImxvYWRpbmctc3Bpbm5lclwiIH0sIGgoXCJpb24tc3Bpbm5lclwiLCB7IG5hbWU6IHNwaW5uZXIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSkpKSwgbWVzc2FnZSAmJiBoKFwiZGl2XCIsIHsgY2xhc3M6IFwibG9hZGluZy1jb250ZW50XCIsIGlubmVySFRNTDogc2FuaXRpemVET01TdHJpbmcobWVzc2FnZSkgfSkpLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbkxvYWRpbmcuc3R5bGUgPSB7XG4gIGlvczogbG9hZGluZ0lvc0NzcyxcbiAgbWQ6IGxvYWRpbmdNZENzc1xufTtcblxuLy8gRGVmYXVsdHMgZm9yIHRoZSBjYXJkIHN3aXBlIGFuaW1hdGlvblxuY29uc3QgU3dpcGVUb0Nsb3NlRGVmYXVsdHMgPSB7XG4gIE1JTl9QUkVTRU5USU5HX1NDQUxFOiAwLjkzLFxufTtcbmNvbnN0IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUgPSAoZWwsIGFuaW1hdGlvbiwgb25EaXNtaXNzKSA9PiB7XG4gIGNvbnN0IGhlaWdodCA9IGVsLm9mZnNldEhlaWdodDtcbiAgbGV0IGlzT3BlbiA9IGZhbHNlO1xuICBjb25zdCBjYW5TdGFydCA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBkZXRhaWwuZXZlbnQudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQgPT09IG51bGwgfHxcbiAgICAgICF0YXJnZXQuY2xvc2VzdCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRlbnRPckZvb3RlciA9IHRhcmdldC5jbG9zZXN0KCdpb24tY29udGVudCwgaW9uLWZvb3RlcicpO1xuICAgIGlmIChjb250ZW50T3JGb290ZXIgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBUYXJnZXQgaXMgaW4gdGhlIGNvbnRlbnQgb3IgdGhlIGZvb3RlciBzbyBkbyBub3Qgc3RhcnQgdGhlIGdlc3R1cmUuXG4gICAgLy8gV2UgY291bGQgYmUgbW9yZSBudWFuY2VkIGhlcmUgYW5kIGFsbG93IGl0IGZvciBjb250ZW50IHRoYXRcbiAgICAvLyBkb2VzIG5vdCBuZWVkIHRvIHNjcm9sbC5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGNvbnN0IG9uU3RhcnQgPSAoKSA9PiB7XG4gICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgKGlzT3BlbikgPyAxIDogMCk7XG4gIH07XG4gIGNvbnN0IG9uTW92ZSA9IChkZXRhaWwpID0+IHtcbiAgICBjb25zdCBzdGVwID0gY2xhbXAoMC4wMDAxLCBkZXRhaWwuZGVsdGFZIC8gaGVpZ2h0LCAwLjk5OTkpO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0ZXAoc3RlcCk7XG4gIH07XG4gIGNvbnN0IG9uRW5kID0gKGRldGFpbCkgPT4ge1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZGV0YWlsLnZlbG9jaXR5WTtcbiAgICBjb25zdCBzdGVwID0gY2xhbXAoMC4wMDAxLCBkZXRhaWwuZGVsdGFZIC8gaGVpZ2h0LCAwLjk5OTkpO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAxMDAwKSAvIGhlaWdodDtcbiAgICBjb25zdCBzaG91bGRDb21wbGV0ZSA9IHRocmVzaG9sZCA+PSAwLjU7XG4gICAgbGV0IG5ld1N0ZXBWYWx1ZSA9IChzaG91bGRDb21wbGV0ZSkgPyAtMC4wMDEgOiAwLjAwMTtcbiAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICBhbmltYXRpb24uZWFzaW5nKCdjdWJpYy1iZXppZXIoMSwgMCwgMC42OCwgMC4yOCknKTtcbiAgICAgIG5ld1N0ZXBWYWx1ZSArPSBnZXRUaW1lR2l2ZW5Qcm9ncmVzc2lvbihbMCwgMF0sIFsxLCAwXSwgWzAuNjgsIDAuMjhdLCBbMSwgMV0sIHN0ZXApWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFuaW1hdGlvbi5lYXNpbmcoJ2N1YmljLWJlemllcigwLjMyLCAwLjcyLCAwLCAxKScpO1xuICAgICAgbmV3U3RlcFZhbHVlICs9IGdldFRpbWVHaXZlblByb2dyZXNzaW9uKFswLCAwXSwgWzAuMzIsIDAuNzJdLCBbMCwgMV0sIFsxLCAxXSwgc3RlcClbMF07XG4gICAgfVxuICAgIGNvbnN0IGR1cmF0aW9uID0gKHNob3VsZENvbXBsZXRlKSA/IGNvbXB1dGVEdXJhdGlvbihzdGVwICogaGVpZ2h0LCB2ZWxvY2l0eSkgOiBjb21wdXRlRHVyYXRpb24oKDEgLSBzdGVwKSAqIGhlaWdodCwgdmVsb2NpdHkpO1xuICAgIGlzT3BlbiA9IHNob3VsZENvbXBsZXRlO1xuICAgIGdlc3R1cmUuZW5hYmxlKGZhbHNlKTtcbiAgICBhbmltYXRpb25cbiAgICAgIC5vbkZpbmlzaCgoKSA9PiB7XG4gICAgICBpZiAoIXNob3VsZENvbXBsZXRlKSB7XG4gICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgfVxuICAgIH0pXG4gICAgICAucHJvZ3Jlc3NFbmQoKHNob3VsZENvbXBsZXRlKSA/IDEgOiAwLCBuZXdTdGVwVmFsdWUsIGR1cmF0aW9uKTtcbiAgICBpZiAoc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgIG9uRGlzbWlzcygpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2VzdHVyZSA9IGNyZWF0ZUdlc3R1cmUoe1xuICAgIGVsLFxuICAgIGdlc3R1cmVOYW1lOiAnbW9kYWxTd2lwZVRvQ2xvc2UnLFxuICAgIGdlc3R1cmVQcmlvcml0eTogNDAsXG4gICAgZGlyZWN0aW9uOiAneScsXG4gICAgdGhyZXNob2xkOiAxMCxcbiAgICBjYW5TdGFydCxcbiAgICBvblN0YXJ0LFxuICAgIG9uTW92ZSxcbiAgICBvbkVuZFxuICB9KTtcbiAgcmV0dXJuIGdlc3R1cmU7XG59O1xuY29uc3QgY29tcHV0ZUR1cmF0aW9uID0gKHJlbWFpbmluZywgdmVsb2NpdHkpID0+IHtcbiAgcmV0dXJuIGNsYW1wKDQwMCwgcmVtYWluaW5nIC8gTWF0aC5hYnModmVsb2NpdHkgKiAxLjEpLCA1MDApO1xufTtcblxuLyoqXG4gKiBVc2UgeSA9IG14ICsgYiB0b1xuICogZmlndXJlIG91dCB0aGUgYmFja2Ryb3AgdmFsdWVcbiAqIGF0IGEgcGFydGljdWxhciB4IGNvb3JkaW5hdGUuIFRoaXNcbiAqIGlzIHVzZWZ1bCB3aGVuIHRoZSBiYWNrZHJvcCBkb2VzXG4gKiBub3QgYmVnaW4gdG8gZmFkZSBpbiB1bnRpbCBhZnRlclxuICogdGhlIDAgYnJlYWtwb2ludC5cbiAqL1xuY29uc3QgZ2V0QmFja2Ryb3BWYWx1ZUZvclNoZWV0ID0gKHgsIGJhY2tkcm9wQnJlYWtwb2ludCkgPT4ge1xuICAvKipcbiAgICogV2Ugd2lsbCB1c2UgdGhlc2UgcG9pbnRzOlxuICAgKiAoYmFja2Ryb3BCcmVha3BvaW50LCAwKVxuICAgKiAobWF4QnJlYWtwb2ludCwgMSlcbiAgICogV2Uga25vdyB0aGF0IGF0IHRoZSBiZWdpbm5pbmcgYnJlYWtwb2ludCxcbiAgICogdGhlIGJhY2tkcm9wIHdpbGwgYmUgaGlkZGVuLiBXZSBhbHNvXG4gICAqIGtub3cgdGhhdCBhdCB0aGUgbWF4QnJlYWtwb2ludCwgdGhlIGJhY2tkcm9wXG4gICAqIG11c3QgYmUgZnVsbHkgdmlzaWJsZS4gbWF4QnJlYWtwb2ludCBzaG91bGRcbiAgICogYWx3YXlzIGJlIDEgZXZlbiBpZiB0aGUgbWF4aW11bSB2YWx1ZVxuICAgKiBvZiB0aGUgYnJlYWtwb2ludHMgYXJyYXkgaXMgbm90IDEgc2luY2VcbiAgICogdGhlIGFuaW1hdGlvbiBydW5zIGZyb20gYSBwcm9ncmVzcyBvZiAwXG4gICAqIHRvIGEgcHJvZ3Jlc3Mgb2YgMS5cbiAgICogbSA9ICh5MiAtIHkxKSAvICh4MiAtIHgxKVxuICAgKlxuICAgKiBUaGlzIGlzIHNpbXBsaWZpZWQgZnJvbTpcbiAgICogbSA9ICgxIC0gMCkgLyAobWF4QnJlYWtwb2ludCAtIGJhY2tkcm9wQnJlYWtwb2ludClcbiAgICovXG4gIGNvbnN0IHNsb3BlID0gMSAvICgxIC0gYmFja2Ryb3BCcmVha3BvaW50KTtcbiAgLyoqXG4gICAqIEZyb20gaGVyZSwgY29tcHV0ZSBiIHdoaWNoIGlzXG4gICAqIHRoZSBiYWNrZHJvcCBvcGFjaXR5IGlmIHRoZSBvZmZzZXRcbiAgICogaXMgMC4gSWYgdGhlIGJhY2tkcm9wIGRvZXMgbm90XG4gICAqIGJlZ2luIHRvIGZhZGUgaW4gdW50aWwgYWZ0ZXIgdGhlXG4gICAqIDAgYnJlYWtwb2ludCwgdGhpcyBiIHZhbHVlIHdpbGwgYmVcbiAgICogbmVnYXRpdmUuIFRoaXMgaXMgZmluZSBhcyB3ZSBuZXZlciBwYXNzXG4gICAqIGIgZGlyZWN0bHkgaW50byB0aGUgYW5pbWF0aW9uIGtleWZyYW1lcy5cbiAgICogYiA9IHkgLSBteFxuICAgKiBVc2UgYSBrbm93biBwb2ludDogKGJhY2tkcm9wQnJlYWtwb2ludCwgMClcbiAgICogVGhpcyBpcyBzaW1wbGlmaWVkIGZyb206XG4gICAqIGIgPSAwIC0gKGJhY2tkcm9wQnJlYWtwb2ludCAqIHNsb3BlKVxuICAgKi9cbiAgY29uc3QgYiA9IC0oYmFja2Ryb3BCcmVha3BvaW50ICogc2xvcGUpO1xuICAvKipcbiAgICogRmluYWxseSwgd2UgY2FuIG5vdyBkZXRlcm1pbmUgdGhlXG4gICAqIGJhY2tkcm9wIG9mZnNldCBnaXZlbiBhbiBhcmJpdHJhcnlcbiAgICogZ2VzdHVyZSBvZmZzZXQuXG4gICAqL1xuICByZXR1cm4gKHggKiBzbG9wZSkgKyBiO1xufTtcblxuY29uc3QgY3JlYXRlU2hlZXRFbnRlckFuaW1hdGlvbiA9IChvcHRzKSA9PiB7XG4gIGNvbnN0IHsgY3VycmVudEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCB9ID0gb3B0cztcbiAgLyoqXG4gICAqIElmIHRoZSBiYWNrZHJvcEJyZWFrcG9pbnQgaXMgdW5kZWZpbmVkLCB0aGVuIHRoZSBiYWNrZHJvcFxuICAgKiBzaG91bGQgYWx3YXlzIGZhZGUgaW4uIElmIHRoZSBiYWNrZHJvcEJyZWFrcG9pbnQgY2FtZSBiZWZvcmUgdGhlXG4gICAqIGN1cnJlbnQgYnJlYWtwb2ludCwgdGhlbiB0aGUgYmFja2Ryb3Agc2hvdWxkIGJlIGZhZGluZyBpbi5cbiAgICovXG4gIGNvbnN0IHNob3VsZFNob3dCYWNrZHJvcCA9IGJhY2tkcm9wQnJlYWtwb2ludCA9PT0gdW5kZWZpbmVkIHx8IGJhY2tkcm9wQnJlYWtwb2ludCA8IGN1cnJlbnRCcmVha3BvaW50O1xuICBjb25zdCBpbml0aWFsQmFja2Ryb3AgPSBzaG91bGRTaG93QmFja2Ryb3AgPyBgY2FsYyh2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KSAqICR7Y3VycmVudEJyZWFrcG9pbnR9KWAgOiAnMCc7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCdiYWNrZHJvcEFuaW1hdGlvbicpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAsIGluaXRpYWxCYWNrZHJvcCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ3dyYXBwZXJBbmltYXRpb24nKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7MTAwIC0gKGN1cnJlbnRCcmVha3BvaW50ICogMTAwKX0lKWAgfVxuICBdKTtcbiAgcmV0dXJuIHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfTtcbn07XG5jb25zdCBjcmVhdGVTaGVldExlYXZlQW5pbWF0aW9uID0gKG9wdHMpID0+IHtcbiAgY29uc3QgeyBjdXJyZW50QnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0gPSBvcHRzO1xuICAvKipcbiAgICogQmFja2Ryb3AgZG9lcyBub3QgYWx3YXlzIGZhZGUgaW4gZnJvbSAwIHRvIDEgaWYgYmFja2Ryb3BCcmVha3BvaW50XG4gICAqIGlzIGRlZmluZWQsIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgdGhhdCBvZmZzZXQgYnkgZmlndXJpbmcgb3V0XG4gICAqIHdoYXQgdGhlIGN1cnJlbnQgYmFja2Ryb3AgdmFsdWUgc2hvdWxkIGJlLlxuICAgKi9cbiAgY29uc3QgYmFja2Ryb3BWYWx1ZSA9IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoY3VycmVudEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCl9KWA7XG4gIGNvbnN0IGRlZmF1bHRCYWNrZHJvcCA9IFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogYmFja2Ryb3BWYWx1ZSB9LFxuICAgIHsgb2Zmc2V0OiAxLCBvcGFjaXR5OiAwIH1cbiAgXTtcbiAgY29uc3QgY3VzdG9tQmFja2Ryb3AgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IGJhY2tkcm9wVmFsdWUgfSxcbiAgICB7IG9mZnNldDogYmFja2Ryb3BCcmVha3BvaW50LCBvcGFjaXR5OiAwIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAgfVxuICBdO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbignYmFja2Ryb3BBbmltYXRpb24nKVxuICAgIC5rZXlmcmFtZXMoYmFja2Ryb3BCcmVha3BvaW50ICE9PSAwID8gY3VzdG9tQmFja2Ryb3AgOiBkZWZhdWx0QmFja2Ryb3ApO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCd3cmFwcGVyQW5pbWF0aW9uJylcbiAgICAua2V5ZnJhbWVzKFtcbiAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgkezEwMCAtIChjdXJyZW50QnJlYWtwb2ludCAqIDEwMCl9JSlgIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMTAwJSlgIH1cbiAgXSk7XG4gIHJldHVybiB7IHdyYXBwZXJBbmltYXRpb24sIGJhY2tkcm9wQW5pbWF0aW9uIH07XG59O1xuXG5jb25zdCBjcmVhdGVFbnRlckFuaW1hdGlvbiQxID0gKCkgPT4ge1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgxMDB2aCknLCAndHJhbnNsYXRlWSgwdmgpJyk7XG4gIHJldHVybiB7IGJhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uIH07XG59O1xuLyoqXG4gKiBpT1MgTW9kYWwgRW50ZXIgQW5pbWF0aW9uIGZvciB0aGUgQ2FyZCBwcmVzZW50YXRpb24gc3R5bGVcbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24kMyA9IChiYXNlRWwsIG9wdHMpID0+IHtcbiAgY29uc3QgeyBwcmVzZW50aW5nRWwsIGN1cnJlbnRCcmVha3BvaW50IH0gPSBvcHRzO1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0RW50ZXJBbmltYXRpb24ob3B0cykgOiBjcmVhdGVFbnRlckFuaW1hdGlvbiQxKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKVxuICAgIC5iZWZvcmVTdHlsZXMoeyAnb3BhY2l0eSc6IDEgfSk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ2VudGVyaW5nLWJhc2UnKVxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoMC4zMiwwLjcyLDAsMSknKVxuICAgIC5kdXJhdGlvbig1MDApXG4gICAgLmFkZEFuaW1hdGlvbih3cmFwcGVyQW5pbWF0aW9uKTtcbiAgaWYgKHByZXNlbnRpbmdFbCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0gd2luZG93LmlubmVyV2lkdGggPCA3Njg7XG4gICAgY29uc3QgaGFzQ2FyZE1vZGFsID0gKHByZXNlbnRpbmdFbC50YWdOYW1lID09PSAnSU9OLU1PREFMJyAmJiBwcmVzZW50aW5nRWwucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCk7XG4gICAgY29uc3QgcHJlc2VudGluZ0VsUm9vdCA9IGdldEVsZW1lbnRSb290KHByZXNlbnRpbmdFbCk7XG4gICAgY29uc3QgcHJlc2VudGluZ0FuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAndHJhbnNmb3JtLW9yaWdpbic6ICd0b3AgY2VudGVyJyxcbiAgICAgICdvdmVyZmxvdyc6ICdoaWRkZW4nXG4gICAgfSk7XG4gICAgY29uc3QgYm9keUVsID0gZG9jdW1lbnQuYm9keTtcbiAgICBpZiAoaXNNb2JpbGUpIHtcbiAgICAgIC8qKlxuICAgICAgICogRmFsbGJhY2sgZm9yIGJyb3dzZXJzIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBgbWF4KClgIChleDogRmlyZWZveClcbiAgICAgICAqIE5vIG5lZWQgdG8gd29ycnkgYWJvdXQgc3RhdHVzYmFyIHBhZGRpbmcgc2luY2UgZW5naW5lcyBsaWtlIEdlY2tvXG4gICAgICAgKiBhcmUgbm90IHVzZWQgYXMgdGhlIGVuZ2luZSBmb3Igc3RhbmRhbG9uZSBDb3Jkb3ZhL0NhcGFjaXRvciBhcHBzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHRyYW5zZm9ybU9mZnNldCA9ICghQ1NTLnN1cHBvcnRzKCd3aWR0aCcsICdtYXgoMHB4LCAxcHgpJykpID8gJzMwcHgnIDogJ21heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpJztcbiAgICAgIGNvbnN0IG1vZGFsVHJhbnNmb3JtID0gaGFzQ2FyZE1vZGFsID8gJy0xMHB4JyA6IHRyYW5zZm9ybU9mZnNldDtcbiAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEU7XG4gICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7bW9kYWxUcmFuc2Zvcm19KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgcHJlc2VudGluZ0FuaW1hdGlvblxuICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAndHJhbnNmb3JtJzogZmluYWxUcmFuc2Zvcm1cbiAgICAgIH0pXG4gICAgICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiBib2R5RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JhY2tncm91bmQtY29sb3InLCAnYmxhY2snKSlcbiAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsKVxuICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwcHgpIHNjYWxlKDEpJywgYm9yZGVyUmFkaXVzOiAnMHB4JyB9LFxuICAgICAgICB7IG9mZnNldDogMSwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtLCBib3JkZXJSYWRpdXM6ICcxMHB4IDEwcHggMCAwJyB9XG4gICAgICBdKTtcbiAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKHByZXNlbnRpbmdBbmltYXRpb24pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGJhY2tkcm9wQW5pbWF0aW9uKTtcbiAgICAgIGlmICghaGFzQ2FyZE1vZGFsKSB7XG4gICAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgJzAnLCAnMScpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRvUHJlc2VudGluZ1NjYWxlID0gKGhhc0NhcmRNb2RhbCkgPyBTd2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRSA6IDE7XG4gICAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoLTEwcHgpIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICAgIHByZXNlbnRpbmdBbmltYXRpb25cbiAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiBmaW5hbFRyYW5zZm9ybVxuICAgICAgICB9KVxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXdyYXBwZXInKSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMSknLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApIHNjYWxlKDEpJyB9LFxuICAgICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0gfVxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3Qgc2hhZG93QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiBmaW5hbFRyYW5zZm9ybVxuICAgICAgICB9KVxuICAgICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbFJvb3QucXVlcnlTZWxlY3RvcignLm1vZGFsLXNoYWRvdycpKVxuICAgICAgICAgIC5rZXlmcmFtZXMoW1xuICAgICAgICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAnMScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCkgc2NhbGUoMSknIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6ICcwJywgdHJhbnNmb3JtOiBmaW5hbFRyYW5zZm9ybSB9XG4gICAgICAgIF0pO1xuICAgICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihbcHJlc2VudGluZ0FuaW1hdGlvbiwgc2hhZG93QW5pbWF0aW9uXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGJhc2VBbmltYXRpb24uYWRkQW5pbWF0aW9uKGJhY2tkcm9wQW5pbWF0aW9uKTtcbiAgfVxuICByZXR1cm4gYmFzZUFuaW1hdGlvbjtcbn07XG5cbmNvbnN0IGNyZWF0ZUxlYXZlQW5pbWF0aW9uJDEgPSAoKSA9PiB7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKDB2aCknLCAndHJhbnNsYXRlWSgxMDB2aCknKTtcbiAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24gfTtcbn07XG4vKipcbiAqIGlPUyBNb2RhbCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zTGVhdmVBbmltYXRpb24kMyA9IChiYXNlRWwsIG9wdHMsIGR1cmF0aW9uID0gNTAwKSA9PiB7XG4gIGNvbnN0IHsgcHJlc2VudGluZ0VsLCBjdXJyZW50QnJlYWtwb2ludCB9ID0gb3B0cztcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHsgd3JhcHBlckFuaW1hdGlvbiwgYmFja2Ryb3BBbmltYXRpb24gfSA9IGN1cnJlbnRCcmVha3BvaW50ICE9PSB1bmRlZmluZWQgPyBjcmVhdGVTaGVldExlYXZlQW5pbWF0aW9uKG9wdHMpIDogY3JlYXRlTGVhdmVBbmltYXRpb24kMSgpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtd3JhcHBlciwgLm1vZGFsLXNoYWRvdycpKVxuICAgIC5iZWZvcmVTdHlsZXMoeyAnb3BhY2l0eSc6IDEgfSk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oJ2xlYXZpbmctYmFzZScpXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllcigwLjMyLDAuNzIsMCwxKScpXG4gICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxuICAgIC5hZGRBbmltYXRpb24od3JhcHBlckFuaW1hdGlvbik7XG4gIGlmIChwcmVzZW50aW5nRWwpIHtcbiAgICBjb25zdCBpc01vYmlsZSA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4O1xuICAgIGNvbnN0IGhhc0NhcmRNb2RhbCA9IChwcmVzZW50aW5nRWwudGFnTmFtZSA9PT0gJ0lPTi1NT0RBTCcgJiYgcHJlc2VudGluZ0VsLnByZXNlbnRpbmdFbGVtZW50ICE9PSB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHByZXNlbnRpbmdFbFJvb3QgPSBnZXRFbGVtZW50Um9vdChwcmVzZW50aW5nRWwpO1xuICAgIGNvbnN0IHByZXNlbnRpbmdBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgICAgLmJlZm9yZUNsZWFyU3R5bGVzKFsndHJhbnNmb3JtJ10pXG4gICAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3RyYW5zZm9ybSddKVxuICAgICAgLm9uRmluaXNoKGN1cnJlbnRTdGVwID0+IHtcbiAgICAgIC8vIG9ubHkgcmVzZXQgYmFja2dyb3VuZCBjb2xvciBpZiB0aGlzIGlzIHRoZSBsYXN0IGNhcmQtc3R5bGUgbW9kYWxcbiAgICAgIGlmIChjdXJyZW50U3RlcCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmVzZW50aW5nRWwuc3R5bGUuc2V0UHJvcGVydHkoJ292ZXJmbG93JywgJycpO1xuICAgICAgY29uc3QgbnVtTW9kYWxzID0gQXJyYXkuZnJvbShib2R5RWwucXVlcnlTZWxlY3RvckFsbCgnaW9uLW1vZGFsJykpLmZpbHRlcihtID0+IG0ucHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCkubGVuZ3RoO1xuICAgICAgaWYgKG51bU1vZGFscyA8PSAxKSB7XG4gICAgICAgIGJvZHlFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYmFja2dyb3VuZC1jb2xvcicsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBib2R5RWwgPSBkb2N1bWVudC5ib2R5O1xuICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgY29uc3QgdHJhbnNmb3JtT2Zmc2V0ID0gKCFDU1Muc3VwcG9ydHMoJ3dpZHRoJywgJ21heCgwcHgsIDFweCknKSkgPyAnMzBweCcgOiAnbWF4KDMwcHgsIHZhcigtLWlvbi1zYWZlLWFyZWEtdG9wKSknO1xuICAgICAgY29uc3QgbW9kYWxUcmFuc2Zvcm0gPSBoYXNDYXJkTW9kYWwgPyAnLTEwcHgnIDogdHJhbnNmb3JtT2Zmc2V0O1xuICAgICAgY29uc3QgdG9QcmVzZW50aW5nU2NhbGUgPSBTd2lwZVRvQ2xvc2VEZWZhdWx0cy5NSU5fUFJFU0VOVElOR19TQ0FMRTtcbiAgICAgIGNvbnN0IGZpbmFsVHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHttb2RhbFRyYW5zZm9ybX0pIHNjYWxlKCR7dG9QcmVzZW50aW5nU2NhbGV9KWA7XG4gICAgICBwcmVzZW50aW5nQW5pbWF0aW9uXG4gICAgICAgIC5hZGRFbGVtZW50KHByZXNlbnRpbmdFbClcbiAgICAgICAgLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCBmaWx0ZXI6ICdjb250cmFzdCgwLjg1KScsIHRyYW5zZm9ybTogZmluYWxUcmFuc2Zvcm0sIGJvcmRlclJhZGl1czogJzEwcHggMTBweCAwIDAnIH0sXG4gICAgICAgIHsgb2Zmc2V0OiAxLCBmaWx0ZXI6ICdjb250cmFzdCgxKScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMHB4KSBzY2FsZSgxKScsIGJvcmRlclJhZGl1czogJzBweCcgfVxuICAgICAgXSk7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihwcmVzZW50aW5nQW5pbWF0aW9uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gICAgICBpZiAoIWhhc0NhcmRNb2RhbCkge1xuICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21Ubygnb3BhY2l0eScsICcxJywgJzAnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB0b1ByZXNlbnRpbmdTY2FsZSA9IChoYXNDYXJkTW9kYWwpID8gU3dpcGVUb0Nsb3NlRGVmYXVsdHMuTUlOX1BSRVNFTlRJTkdfU0NBTEUgOiAxO1xuICAgICAgICBjb25zdCBmaW5hbFRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKC0xMHB4KSBzY2FsZSgke3RvUHJlc2VudGluZ1NjYWxlfSlgO1xuICAgICAgICBwcmVzZW50aW5nQW5pbWF0aW9uXG4gICAgICAgICAgLmFkZEVsZW1lbnQocHJlc2VudGluZ0VsUm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKVxuICAgICAgICAgIC5hZnRlclN0eWxlcyh7XG4gICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgwLCAwLCAwKSdcbiAgICAgICAgfSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgZmlsdGVyOiAnY29udHJhc3QoMC44NSknLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIGZpbHRlcjogJ2NvbnRyYXN0KDEpJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfVxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3Qgc2hhZG93QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAgICAgICAuYWRkRWxlbWVudChwcmVzZW50aW5nRWxSb290LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1zaGFkb3cnKSlcbiAgICAgICAgICAuYWZ0ZXJTdHlsZXMoe1xuICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKSdcbiAgICAgICAgfSlcbiAgICAgICAgICAua2V5ZnJhbWVzKFtcbiAgICAgICAgICB7IG9mZnNldDogMCwgb3BhY2l0eTogJzAnLCB0cmFuc2Zvcm06IGZpbmFsVHJhbnNmb3JtIH0sXG4gICAgICAgICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6ICcxJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKSBzY2FsZSgxKScgfVxuICAgICAgICBdKTtcbiAgICAgICAgYmFzZUFuaW1hdGlvbi5hZGRBbmltYXRpb24oW3ByZXNlbnRpbmdBbmltYXRpb24sIHNoYWRvd0FuaW1hdGlvbl0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBiYXNlQW5pbWF0aW9uLmFkZEFuaW1hdGlvbihiYWNrZHJvcEFuaW1hdGlvbik7XG4gIH1cbiAgcmV0dXJuIGJhc2VBbmltYXRpb247XG59O1xuXG5jb25zdCBjcmVhdGVFbnRlckFuaW1hdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmtleWZyYW1lcyhbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IDAuMDEsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDEsIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoMHB4KWAgfVxuICBdKTtcbiAgcmV0dXJuIHsgYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb24gfTtcbn07XG4vKipcbiAqIE1kIE1vZGFsIEVudGVyIEFuaW1hdGlvblxuICovXG5jb25zdCBtZEVudGVyQW5pbWF0aW9uJDIgPSAoYmFzZUVsLCBvcHRzKSA9PiB7XG4gIGNvbnN0IHsgY3VycmVudEJyZWFrcG9pbnQgfSA9IG9wdHM7XG4gIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICBjb25zdCB7IHdyYXBwZXJBbmltYXRpb24sIGJhY2tkcm9wQW5pbWF0aW9uIH0gPSBjdXJyZW50QnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkID8gY3JlYXRlU2hlZXRFbnRlckFuaW1hdGlvbihvcHRzKSA6IGNyZWF0ZUVudGVyQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKTtcbiAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsKVxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllcigwLjM2LDAuNjYsMC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDI4MClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuY29uc3QgY3JlYXRlTGVhdmVBbmltYXRpb24gPSAoKSA9PiB7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKClcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJywgMCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKVxuICAgIC5rZXlmcmFtZXMoW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAwLjk5LCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKDBweClgIH0sXG4gICAgeyBvZmZzZXQ6IDEsIG9wYWNpdHk6IDAsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoNDBweCknIH1cbiAgXSk7XG4gIHJldHVybiB7IGJhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uIH07XG59O1xuLyoqXG4gKiBNZCBNb2RhbCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiQyID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICBjb25zdCB7IGN1cnJlbnRCcmVha3BvaW50IH0gPSBvcHRzO1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgeyB3cmFwcGVyQW5pbWF0aW9uLCBiYWNrZHJvcEFuaW1hdGlvbiB9ID0gY3VycmVudEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZCA/IGNyZWF0ZVNoZWV0TGVhdmVBbmltYXRpb24ob3B0cykgOiBjcmVhdGVMZWF2ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvbi5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtd3JhcHBlcicpKTtcbiAgcmV0dXJuIGNyZWF0ZUFuaW1hdGlvbigpXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuNDcsMCwwLjc0NSwwLjcxNSknKVxuICAgIC5kdXJhdGlvbigyMDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNoZWV0R2VzdHVyZSA9IChiYXNlRWwsIGJhY2tkcm9wRWwsIHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCwgYW5pbWF0aW9uLCBicmVha3BvaW50cyA9IFtdLCBvbkRpc21pc3MsIG9uQnJlYWtwb2ludENoYW5nZSkgPT4ge1xuICAvLyBEZWZhdWx0cyBmb3IgdGhlIHNoZWV0IHN3aXBlIGFuaW1hdGlvblxuICBjb25zdCBkZWZhdWx0QmFja2Ryb3AgPSBbXG4gICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6ICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMC4wMSB9XG4gIF07XG4gIGNvbnN0IGN1c3RvbUJhY2tkcm9wID0gW1xuICAgIHsgb2Zmc2V0OiAwLCBvcGFjaXR5OiAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknIH0sXG4gICAgeyBvZmZzZXQ6IDEgLSBiYWNrZHJvcEJyZWFrcG9pbnQsIG9wYWNpdHk6IDAgfSxcbiAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogMCB9XG4gIF07XG4gIGNvbnN0IFNoZWV0RGVmYXVsdHMgPSB7XG4gICAgV1JBUFBFUl9LRVlGUkFNRVM6IFtcbiAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDAlKScgfSxcbiAgICAgIHsgb2Zmc2V0OiAxLCB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDEwMCUpJyB9XG4gICAgXSxcbiAgICBCQUNLRFJPUF9LRVlGUkFNRVM6IChiYWNrZHJvcEJyZWFrcG9pbnQgIT09IDApID8gY3VzdG9tQmFja2Ryb3AgOiBkZWZhdWx0QmFja2Ryb3BcbiAgfTtcbiAgY29uc3QgY29udGVudEVsID0gYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1jb250ZW50Jyk7XG4gIGNvbnN0IGhlaWdodCA9IHdyYXBwZXJFbC5jbGllbnRIZWlnaHQ7XG4gIGxldCBjdXJyZW50QnJlYWtwb2ludCA9IGluaXRpYWxCcmVha3BvaW50O1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGFuaW1hdGlvbi5jaGlsZEFuaW1hdGlvbnMuZmluZChhbmkgPT4gYW5pLmlkID09PSAnd3JhcHBlckFuaW1hdGlvbicpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGFuaW1hdGlvbi5jaGlsZEFuaW1hdGlvbnMuZmluZChhbmkgPT4gYW5pLmlkID09PSAnYmFja2Ryb3BBbmltYXRpb24nKTtcbiAgY29uc3QgbWF4QnJlYWtwb2ludCA9IGJyZWFrcG9pbnRzW2JyZWFrcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAvKipcbiAgICogQWZ0ZXIgdGhlIGVudGVyaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXMsXG4gICAqIHdlIG5lZWQgdG8gc2V0IHRoZSBhbmltYXRpb24gdG8gZ28gZnJvbVxuICAgKiBvZmZzZXQgMCB0byBvZmZzZXQgMSBzbyB0aGF0IHVzZXJzIGNhblxuICAgKiBzd2lwZSBpbiBhbnkgZGlyZWN0aW9uLiBXZSB0aGVuIHNldCB0aGVcbiAgICogYW5pbWF0aW9uIG9mZnNldCB0byB0aGUgY3VycmVudCBicmVha3BvaW50XG4gICAqIHNvIHRoZXJlIGlzIG5vIGZsaWNrZXJpbmcuXG4gICAqL1xuICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgIHdyYXBwZXJBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLldSQVBQRVJfS0VZRlJBTUVTXSk7XG4gICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkJBQ0tEUk9QX0tFWUZSQU1FU10pO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0YXJ0KHRydWUsIDEgLSBjdXJyZW50QnJlYWtwb2ludCk7XG4gICAgLyoqXG4gICAgICogQmFja2Ryb3Agc2hvdWxkIGJlY29tZSBlbmFibGVkXG4gICAgICogYWZ0ZXIgdGhlIGJhY2tkcm9wQnJlYWtwb2ludCB2YWx1ZVxuICAgICAqL1xuICAgIGNvbnN0IGJhY2tkcm9wRW5hYmxlZCA9IGN1cnJlbnRCcmVha3BvaW50ID4gYmFja2Ryb3BCcmVha3BvaW50O1xuICAgIGJhY2tkcm9wRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgYmFja2Ryb3BFbmFibGVkID8gJ2F1dG8nIDogJ25vbmUnKTtcbiAgfVxuICBpZiAoY29udGVudEVsICYmIGN1cnJlbnRCcmVha3BvaW50ICE9PSBtYXhCcmVha3BvaW50KSB7XG4gICAgY29udGVudEVsLnNjcm9sbFkgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjYW5TdGFydCA9IChkZXRhaWwpID0+IHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgc2hlZXQgaXMgZnVsbHkgZXhwYW5kZWQgYW5kXG4gICAgICogdGhlIHVzZXIgaXMgc3dpcGluZyBvbiB0aGUgY29udGVudCxcbiAgICAgKiB0aGUgZ2VzdHVyZSBzaG91bGQgbm90IHN0YXJ0IHRvXG4gICAgICogYWxsb3cgZm9yIHNjcm9sbGluZyBvbiB0aGUgY29udGVudC5cbiAgICAgKi9cbiAgICBjb25zdCBjb250ZW50ID0gZGV0YWlsLmV2ZW50LnRhcmdldC5jbG9zZXN0KCdpb24tY29udGVudCcpO1xuICAgIGlmIChjdXJyZW50QnJlYWtwb2ludCA9PT0gMSAmJiBjb250ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBvblN0YXJ0ID0gKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIHN3aXBpbmcgb24gdGhlIGNvbnRlbnRcbiAgICAgKiB3ZSBzaG91bGQgZGlzYWJsZSBzY3JvbGxpbmcgb3RoZXJ3aXNlXG4gICAgICogdGhlIHNoZWV0IHdpbGwgZXhwYW5kIGFuZCB0aGUgY29udGVudCB3aWxsIHNjcm9sbC5cbiAgICAgKi9cbiAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICBjb250ZW50RWwuc2Nyb2xsWSA9IGZhbHNlO1xuICAgIH1cbiAgICBhbmltYXRpb24ucHJvZ3Jlc3NTdGFydCh0cnVlLCAxIC0gY3VycmVudEJyZWFrcG9pbnQpO1xuICB9O1xuICBjb25zdCBvbk1vdmUgPSAoZGV0YWlsKSA9PiB7XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdGhlIGNoYW5nZSBpbiBnZXN0dXJlIHBvc2l0aW9uIG9uIHRoZSBZIGF4aXMsXG4gICAgICogY29tcHV0ZSB3aGVyZSB0aGUgb2Zmc2V0IG9mIHRoZSBhbmltYXRpb24gc2hvdWxkIGJlXG4gICAgICogcmVsYXRpdmUgdG8gd2hlcmUgdGhlIHVzZXIgZHJhZ2dlZC5cbiAgICAgKi9cbiAgICBjb25zdCBpbml0aWFsU3RlcCA9IDEgLSBjdXJyZW50QnJlYWtwb2ludDtcbiAgICBvZmZzZXQgPSBjbGFtcCgwLjAwMDEsIGluaXRpYWxTdGVwICsgKGRldGFpbC5kZWx0YVkgLyBoZWlnaHQpLCAwLjk5OTkpO1xuICAgIGFuaW1hdGlvbi5wcm9ncmVzc1N0ZXAob2Zmc2V0KTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZGV0YWlsKSA9PiB7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgZ2VzdHVyZSByZWxlYXNlcywgd2UgbmVlZCB0byBkZXRlcm1pbmVcbiAgICAgKiB0aGUgY2xvc2VzdCBicmVha3BvaW50IHRvIHNuYXAgdG8uXG4gICAgICovXG4gICAgY29uc3QgdmVsb2NpdHkgPSBkZXRhaWwudmVsb2NpdHlZO1xuICAgIGNvbnN0IHRocmVzaG9sZCA9IChkZXRhaWwuZGVsdGFZICsgdmVsb2NpdHkgKiAxMDApIC8gaGVpZ2h0O1xuICAgIGNvbnN0IGRpZmYgPSBjdXJyZW50QnJlYWtwb2ludCAtIHRocmVzaG9sZDtcbiAgICBjb25zdCBjbG9zZXN0ID0gYnJlYWtwb2ludHMucmVkdWNlKChhLCBiKSA9PiB7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoYiAtIGRpZmYpIDwgTWF0aC5hYnMoYSAtIGRpZmYpID8gYiA6IGE7XG4gICAgfSk7XG4gICAgY29uc3Qgc2hvdWxkUmVtYWluT3BlbiA9IGNsb3Nlc3QgIT09IDA7XG4gICAgY3VycmVudEJyZWFrcG9pbnQgPSAwO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYW5pbWF0aW9uIHNvIHRoYXQgaXQgcGxheXMgZnJvbVxuICAgICAqIHRoZSBsYXN0IG9mZnNldCB0byB0aGUgY2xvc2VzdCBzbmFwIHBvaW50LlxuICAgICAqL1xuICAgIGlmICh3cmFwcGVyQW5pbWF0aW9uICYmIGJhY2tkcm9wQW5pbWF0aW9uKSB7XG4gICAgICB3cmFwcGVyQW5pbWF0aW9uLmtleWZyYW1lcyhbXG4gICAgICAgIHsgb2Zmc2V0OiAwLCB0cmFuc2Zvcm06IGB0cmFuc2xhdGVZKCR7b2Zmc2V0ICogMTAwfSUpYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgkeygxIC0gY2xvc2VzdCkgKiAxMDB9JSlgIH1cbiAgICAgIF0pO1xuICAgICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFtcbiAgICAgICAgeyBvZmZzZXQ6IDAsIG9wYWNpdHk6IGBjYWxjKHZhcigtLWJhY2tkcm9wLW9wYWNpdHkpICogJHtnZXRCYWNrZHJvcFZhbHVlRm9yU2hlZXQoMSAtIG9mZnNldCwgYmFja2Ryb3BCcmVha3BvaW50KX0pYCB9LFxuICAgICAgICB7IG9mZnNldDogMSwgb3BhY2l0eTogYGNhbGModmFyKC0tYmFja2Ryb3Atb3BhY2l0eSkgKiAke2dldEJhY2tkcm9wVmFsdWVGb3JTaGVldChjbG9zZXN0LCBiYWNrZHJvcEJyZWFrcG9pbnQpfSlgIH1cbiAgICAgIF0pO1xuICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RlcCgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VzdHVyZSBzaG91bGQgcmVtYWluIGRpc2FibGVkIHVudGlsIHRoZVxuICAgICAqIHNuYXBwaW5nIGFuaW1hdGlvbiBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgZ2VzdHVyZS5lbmFibGUoZmFsc2UpO1xuICAgIGFuaW1hdGlvblxuICAgICAgLm9uRmluaXNoKCgpID0+IHtcbiAgICAgIGlmIChzaG91bGRSZW1haW5PcGVuKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmNlIHRoZSBzbmFwcGluZyBhbmltYXRpb24gY29tcGxldGVzLFxuICAgICAgICAgKiB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBhbmltYXRpb24gdG8gZ29cbiAgICAgICAgICogZnJvbSAwIHRvIDEgc28gdXNlcnMgY2FuIHN3aXBlIGluIGFueSBkaXJlY3Rpb24uXG4gICAgICAgICAqIFdlIHRoZW4gc2V0IHRoZSBhbmltYXRpb24gb2Zmc2V0IHRvIHRoZSBjdXJyZW50XG4gICAgICAgICAqIGJyZWFrcG9pbnQgc28gdGhhdCBpdCBzdGFydHMgYXQgdGhlIHNuYXBwZWQgcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAod3JhcHBlckFuaW1hdGlvbiAmJiBiYWNrZHJvcEFuaW1hdGlvbikge1xuICAgICAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgICAgICB3cmFwcGVyQW5pbWF0aW9uLmtleWZyYW1lcyhbLi4uU2hlZXREZWZhdWx0cy5XUkFQUEVSX0tFWUZSQU1FU10pO1xuICAgICAgICAgICAgYmFja2Ryb3BBbmltYXRpb24ua2V5ZnJhbWVzKFsuLi5TaGVldERlZmF1bHRzLkJBQ0tEUk9QX0tFWUZSQU1FU10pO1xuICAgICAgICAgICAgYW5pbWF0aW9uLnByb2dyZXNzU3RhcnQodHJ1ZSwgMSAtIGNsb3Nlc3QpO1xuICAgICAgICAgICAgY3VycmVudEJyZWFrcG9pbnQgPSBjbG9zZXN0O1xuICAgICAgICAgICAgb25CcmVha3BvaW50Q2hhbmdlKGN1cnJlbnRCcmVha3BvaW50KTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdGhlIHNoZWV0IGlzIGZ1bGx5IGV4cGFuZGVkLCB3ZSBjYW4gc2FmZWx5XG4gICAgICAgICAgICAgKiBlbmFibGUgc2Nyb2xsaW5nIGFnYWluLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoY29udGVudEVsICYmIGN1cnJlbnRCcmVha3BvaW50ID09PSBicmVha3BvaW50c1ticmVha3BvaW50cy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICBjb250ZW50RWwuc2Nyb2xsWSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhY2tkcm9wIHNob3VsZCBiZWNvbWUgZW5hYmxlZFxuICAgICAgICAgICAgICogYWZ0ZXIgdGhlIGJhY2tkcm9wQnJlYWtwb2ludCB2YWx1ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBiYWNrZHJvcEVuYWJsZWQgPSBjdXJyZW50QnJlYWtwb2ludCA+IGJhY2tkcm9wQnJlYWtwb2ludDtcbiAgICAgICAgICAgIGJhY2tkcm9wRWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgYmFja2Ryb3BFbmFibGVkID8gJ2F1dG8nIDogJ25vbmUnKTtcbiAgICAgICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRoaXMgbXVzdCBiZSBhIG9uZSB0aW1lIGNhbGxiYWNrXG4gICAgICAgKiBvdGhlcndpc2UgYSBuZXcgY2FsbGJhY2sgd2lsbFxuICAgICAgICogYmUgYWRkZWQgZXZlcnkgdGltZSBvbkVuZCBydW5zLlxuICAgICAgICovXG4gICAgfSwgeyBvbmVUaW1lQ2FsbGJhY2s6IHRydWUgfSlcbiAgICAgIC5wcm9ncmVzc0VuZCgxLCAwLCA1MDApO1xuICAgIGlmICghc2hvdWxkUmVtYWluT3Blbikge1xuICAgICAgb25EaXNtaXNzKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXN0dXJlID0gY3JlYXRlR2VzdHVyZSh7XG4gICAgZWw6IHdyYXBwZXJFbCxcbiAgICBnZXN0dXJlTmFtZTogJ21vZGFsU2hlZXQnLFxuICAgIGdlc3R1cmVQcmlvcml0eTogNDAsXG4gICAgZGlyZWN0aW9uOiAneScsXG4gICAgdGhyZXNob2xkOiAxMCxcbiAgICBjYW5TdGFydCxcbiAgICBvblN0YXJ0LFxuICAgIG9uTW92ZSxcbiAgICBvbkVuZFxuICB9KTtcbiAgcmV0dXJuIGdlc3R1cmU7XG59O1xuXG5jb25zdCBtb2RhbElvc0NzcyA9IFwiOmhvc3R7LS13aWR0aDoxMDAlOy0tbWluLXdpZHRoOmF1dG87LS1tYXgtd2lkdGg6YXV0bzstLWhlaWdodDoxMDAlOy0tbWluLWhlaWdodDphdXRvOy0tbWF4LWhlaWdodDphdXRvOy0tb3ZlcmZsb3c6aGlkZGVuOy0tYm9yZGVyLXJhZGl1czowOy0tYm9yZGVyLXdpZHRoOjA7LS1ib3JkZXItc3R5bGU6bm9uZTstLWJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDstLWJhY2tncm91bmQ6dmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpOy0tYm94LXNoYWRvdzpub25lOy0tYmFja2Ryb3Atb3BhY2l0eTowO2xlZnQ6MDtyaWdodDowO3RvcDowO2JvdHRvbTowO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWFsaWduOmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXI7LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtvdXRsaW5lOm5vbmU7Y29udGFpbjpzdHJpY3Q7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCgubW9kYWwtaW50ZXJhY3RpdmUpIC5tb2RhbC13cmFwcGVyLDpob3N0KC5tb2RhbC1pbnRlcmFjdGl2ZSkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9Lm1vZGFsLXdyYXBwZXIsLm1vZGFsLXNoYWRvd3tib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXdpZHRoOnZhcigtLWJvcmRlci13aWR0aCk7Ym9yZGVyLXN0eWxlOnZhcigtLWJvcmRlci1zdHlsZSk7Ym9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzp2YXIoLS1vdmVyZmxvdyk7ei1pbmRleDoxMH0ubW9kYWwtc2hhZG93e3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA2MDBweCl7Omhvc3R7LS13aWR0aDo2MDBweDstLWhlaWdodDo1MDBweDstLWlvbi1zYWZlLWFyZWEtdG9wOjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtcmlnaHQ6MHB4Oy0taW9uLXNhZmUtYXJlYS1sZWZ0OjBweH19QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA3NjhweCkgYW5kIChtaW4taGVpZ2h0OiA3NjhweCl7Omhvc3R7LS13aWR0aDo2MDBweDstLWhlaWdodDo2MDBweH19Lm1vZGFsLWhhbmRsZXtsZWZ0OjBweDtyaWdodDowcHg7dG9wOjVweDtib3JkZXItcmFkaXVzOjhweDttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjM2cHg7aGVpZ2h0OjVweDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMzUwLCAjYzBjMGJlKTt6LWluZGV4OjExfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Lm1vZGFsLWhhbmRsZXttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0b319Omhvc3QoLm1vZGFsLXNoZWV0KXstLWhlaWdodDpjYWxjKDEwMCUgLSAodmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgMTBweCkpfTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtc2hhZG93e3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTowfTpob3N0ey0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC40KX06aG9zdCgubW9kYWwtY2FyZCksOmhvc3QoLm1vZGFsLXNoZWV0KXstLWJvcmRlci1yYWRpdXM6MTBweH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLWJvcmRlci1yYWRpdXM6MTBweH19Lm1vZGFsLXdyYXBwZXJ7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDEwMCUsICAwKX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCl7QHN1cHBvcnRzICh3aWR0aDogbWF4KDBweCwgMXB4KSl7Omhvc3QoLm1vZGFsLWNhcmQpey0taGVpZ2h0OmNhbGMoMTAwJSAtIG1heCgzMHB4LCB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkpIC0gMTBweCl9fUBzdXBwb3J0cyBub3QgKHdpZHRoOiBtYXgoMHB4LCAxcHgpKXs6aG9zdCgubW9kYWwtY2FyZCl7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gNDBweCl9fTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtd3JhcHBlcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtd3JhcHBlciw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkubW9kYWwtY2FyZCAubW9kYWwtd3JhcHBlcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfTpob3N0KC5tb2RhbC1jYXJkKXstLWJhY2tkcm9wLW9wYWNpdHk6MDstLXdpZHRoOjEwMCU7LW1zLWZsZXgtYWxpZ246ZW5kO2FsaWduLWl0ZW1zOmZsZXgtZW5kfTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtc2hhZG93e2Rpc3BsYXk6bm9uZX06aG9zdCgubW9kYWwtY2FyZCkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOm5vbmV9fUBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KXs6aG9zdCgubW9kYWwtY2FyZCl7LS13aWR0aDpjYWxjKDEwMCUgLSAxMjBweCk7LS1oZWlnaHQ6Y2FsYygxMDAlIC0gKDEyMHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3ApICsgdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20pKSk7LS1tYXgtd2lkdGg6NzIwcHg7LS1tYXgtaGVpZ2h0OjEwMDBweDstLWJhY2tkcm9wLW9wYWNpdHk6MDstLWJveC1zaGFkb3c6MHB4IDBweCAzMHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgMC41cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uOmFsbCAwLjVzIGVhc2UtaW4tb3V0fTpob3N0KC5tb2RhbC1jYXJkKSAubW9kYWwtd3JhcHBlcnstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9Omhvc3QoLm1vZGFsLWNhcmQpIC5tb2RhbC1zaGFkb3d7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyl9fTpob3N0KC5tb2RhbC1zaGVldCkgLm1vZGFsLXdyYXBwZXJ7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgubW9kYWwtc2hlZXQpIC5tb2RhbC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5tb2RhbC1zaGVldCAubW9kYWwtd3JhcHBlcntib3JkZXItdG9wLWxlZnQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfVwiO1xuXG5jb25zdCBtb2RhbE1kQ3NzID0gXCI6aG9zdHstLXdpZHRoOjEwMCU7LS1taW4td2lkdGg6YXV0bzstLW1heC13aWR0aDphdXRvOy0taGVpZ2h0OjEwMCU7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS1vdmVyZmxvdzpoaWRkZW47LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOnRyYW5zcGFyZW50Oy0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3gtc2hhZG93Om5vbmU7LS1iYWNrZHJvcC1vcGFjaXR5OjA7bGVmdDowO3JpZ2h0OjA7dG9wOjA7Ym90dG9tOjA7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO291dGxpbmU6bm9uZTtjb250YWluOnN0cmljdDtwb2ludGVyLWV2ZW50czpub25lfTpob3N0KC5tb2RhbC1pbnRlcmFjdGl2ZSkgLm1vZGFsLXdyYXBwZXIsOmhvc3QoLm1vZGFsLWludGVyYWN0aXZlKSBpb24tYmFja2Ryb3B7cG9pbnRlci1ldmVudHM6YXV0b306aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX0ubW9kYWwtd3JhcHBlciwubW9kYWwtc2hhZG93e2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO292ZXJmbG93OnZhcigtLW92ZXJmbG93KTt6LWluZGV4OjEwfS5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp0cmFuc3BhcmVudH1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjUwMHB4Oy0taW9uLXNhZmUtYXJlYS10b3A6MHB4Oy0taW9uLXNhZmUtYXJlYS1ib3R0b206MHB4Oy0taW9uLXNhZmUtYXJlYS1yaWdodDowcHg7LS1pb24tc2FmZS1hcmVhLWxlZnQ6MHB4fX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDc2OHB4KXs6aG9zdHstLXdpZHRoOjYwMHB4Oy0taGVpZ2h0OjYwMHB4fX0ubW9kYWwtaGFuZGxle2xlZnQ6MHB4O3JpZ2h0OjBweDt0b3A6NXB4O2JvcmRlci1yYWRpdXM6OHB4O21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MzZweDtoZWlnaHQ6NXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7YmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC0zNTAsICNjMGMwYmUpO3otaW5kZXg6MTF9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsubW9kYWwtaGFuZGxle21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX06aG9zdCgubW9kYWwtc2hlZXQpey0taGVpZ2h0OmNhbGMoMTAwJSAtICh2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCkgKyAxMHB4KSl9Omhvc3QoLm1vZGFsLXNoZWV0KSAubW9kYWwtd3JhcHBlciw6aG9zdCgubW9kYWwtc2hlZXQpIC5tb2RhbC1zaGFkb3d7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjB9Omhvc3R7LS1iYWNrZHJvcC1vcGFjaXR5OnZhcigtLWlvbi1iYWNrZHJvcC1vcGFjaXR5LCAwLjMyKX1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1pbi1oZWlnaHQ6IDYwMHB4KXs6aG9zdHstLWJvcmRlci1yYWRpdXM6MnB4Oy0tYm94LXNoYWRvdzowIDI4cHggNDhweCByZ2JhKDAsIDAsIDAsIDAuNCl9fS5tb2RhbC13cmFwcGVyey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICA0MHB4LCAgMCk7b3BhY2l0eTowLjAxfVwiO1xuXG5sZXQgTW9kYWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuZGlkUHJlc2VudCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxEaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uTW9kYWxXaWxsRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmRpZERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk1vZGFsRGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLmRpZFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImRpZFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsUHJlc2VudFNob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwid2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwid2lsbERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWREaXNtaXNzU2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWREaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMubW9kYWxJbmRleCA9IG1vZGFsSWRzKys7XG4gICAgdGhpcy5jb3JlRGVsZWdhdGUgPSBDb3JlRGVsZWdhdGUoKTtcbiAgICB0aGlzLmlzU2hlZXRNb2RhbCA9IGZhbHNlO1xuICAgIHRoaXMuaW5saW5lID0gZmFsc2U7XG4gICAgLy8gV2hldGhlciBvciBub3QgbW9kYWwgaXMgYmVpbmcgZGlzbWlzc2VkIHZpYSBnZXN0dXJlXG4gICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgIHRoaXMucHJlc2VudGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaGFzQ29udHJvbGxlciA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBBIGRlY2ltYWwgdmFsdWUgYmV0d2VlbiAwIGFuZCAxIHRoYXQgaW5kaWNhdGVzIHRoZVxuICAgICAqIHBvaW50IGFmdGVyIHdoaWNoIHRoZSBiYWNrZHJvcCB3aWxsIGJlZ2luIHRvIGZhZGUgaW5cbiAgICAgKiB3aGVuIHVzaW5nIGEgc2hlZXQgbW9kYWwuIFByaW9yIHRvIHRoaXMgcG9pbnQsIHRoZVxuICAgICAqIGJhY2tkcm9wIHdpbGwgYmUgaGlkZGVuIGFuZCB0aGUgY29udGVudCB1bmRlcm5lYXRoXG4gICAgICogdGhlIHNoZWV0IGNhbiBiZSBpbnRlcmFjdGVkIHdpdGguIFRoaXMgdmFsdWUgaXMgZXhjbHVzaXZlXG4gICAgICogbWVhbmluZyB0aGUgYmFja2Ryb3Agd2lsbCBiZWNvbWUgYWN0aXZlIGFmdGVyIHRoZSB2YWx1ZVxuICAgICAqIHNwZWNpZmllZC5cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tkcm9wQnJlYWtwb2ludCA9IDA7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgbW9kYWwgd2lsbCBiZSBkaXNtaXNzZWQgd2hlbiB0aGUgYmFja2Ryb3AgaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0aGlzLmJhY2tkcm9wRGlzbWlzcyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCBhIGJhY2tkcm9wIHdpbGwgYmUgZGlzcGxheWVkIGJlaGluZCB0aGUgbW9kYWwuXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgYW5pbWF0ZS5cbiAgICAgKi9cbiAgICB0aGlzLmFuaW1hdGVkID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBtb2RhbCBjYW4gYmUgc3dpcGVkIHRvIGRpc21pc3MuIE9ubHkgYXBwbGllcyBpbiBpT1MgbW9kZS5cbiAgICAgKi9cbiAgICB0aGlzLnN3aXBlVG9DbG9zZSA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIG1vZGFsIHdpbGwgb3Blbi4gSWYgYGZhbHNlYCwgdGhlIG1vZGFsIHdpbGwgY2xvc2UuXG4gICAgICogVXNlIHRoaXMgaWYgeW91IG5lZWQgZmluZXIgZ3JhaW5lZCBjb250cm9sIG92ZXIgcHJlc2VudGF0aW9uLCBvdGhlcndpc2VcbiAgICAgKiBqdXN0IHVzZSB0aGUgbW9kYWxDb250cm9sbGVyIG9yIHRoZSBgdHJpZ2dlcmAgcHJvcGVydHkuXG4gICAgICogTm90ZTogYGlzT3BlbmAgd2lsbCBub3QgYXV0b21hdGljYWxseSBiZSBzZXQgYmFjayB0byBgZmFsc2VgIHdoZW5cbiAgICAgKiB0aGUgbW9kYWwgZGlzbWlzc2VzLiBZb3Ugd2lsbCBuZWVkIHRvIGRvIHRoYXQgaW4geW91ciBjb2RlLlxuICAgICAqL1xuICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHRyaWdnZXIsIGVsLCBkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uIH0gPSB0aGlzO1xuICAgICAgaWYgKGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24pIHtcbiAgICAgICAgZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgY29uc3QgdHJpZ2dlckVsID0gKHRyaWdnZXIgIT09IHVuZGVmaW5lZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VyKSA6IG51bGw7XG4gICAgICBpZiAoIXRyaWdnZXJFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24gPSAodHJpZ2dlckVsLCBtb2RhbEVsKSA9PiB7XG4gICAgICAgIGNvbnN0IG9wZW5Nb2RhbCA9ICgpID0+IHtcbiAgICAgICAgICBtb2RhbEVsLnByZXNlbnQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJpZ2dlckVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vZGFsKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICB0cmlnZ2VyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTW9kYWwpO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHRoaXMuZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbiA9IGNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbih0cmlnZ2VyRWwsIGVsKTtcbiAgICB9O1xuICAgIHRoaXMub25CYWNrZHJvcFRhcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIEJBQ0tEUk9QKTtcbiAgICB9O1xuICAgIHRoaXMub25EaXNtaXNzID0gKGV2KSA9PiB7XG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICB9O1xuICAgIHRoaXMub25MaWZlY3ljbGUgPSAobW9kYWxFdmVudCkgPT4ge1xuICAgICAgY29uc3QgZWwgPSB0aGlzLnVzZXJzRWxlbWVudDtcbiAgICAgIGNvbnN0IG5hbWUgPSBMSUZFQ1lDTEVfTUFQJDFbbW9kYWxFdmVudC50eXBlXTtcbiAgICAgIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIG9uSXNPcGVuQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIGlmIChuZXdWYWx1ZSA9PT0gdHJ1ZSAmJiBvbGRWYWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucHJlc2VudCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gZmFsc2UgJiYgb2xkVmFsdWUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgIH1cbiAgfVxuICBvblRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgfVxuICBzd2lwZVRvQ2xvc2VDaGFuZ2VkKGVuYWJsZSkge1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5lbmFibGUoZW5hYmxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZW5hYmxlKSB7XG4gICAgICB0aGlzLmluaXRTd2lwZVRvQ2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgY29uc3QgeyBicmVha3BvaW50cywgaW5pdGlhbEJyZWFrcG9pbnQgfSA9IHRoaXM7XG4gICAgLyoqXG4gICAgICogSWYgdXNlciBoYXMgY3VzdG9tIElEIHNldCB0aGVuIHdlIHNob3VsZFxuICAgICAqIG5vdCBhc3NpZ24gdGhlIGRlZmF1bHQgaW5jcmVtZW50aW5nIElELlxuICAgICAqL1xuICAgIHRoaXMubW9kYWxJZCA9ICh0aGlzLmVsLmhhc0F0dHJpYnV0ZSgnaWQnKSkgPyB0aGlzLmVsLmdldEF0dHJpYnV0ZSgnaWQnKSA6IGBpb24tbW9kYWwtJHt0aGlzLm1vZGFsSW5kZXh9YDtcbiAgICB0aGlzLmlzU2hlZXRNb2RhbCA9IGJyZWFrcG9pbnRzICE9PSB1bmRlZmluZWQgJiYgaW5pdGlhbEJyZWFrcG9pbnQgIT09IHVuZGVmaW5lZDtcbiAgICBpZiAoYnJlYWtwb2ludHMgIT09IHVuZGVmaW5lZCAmJiBpbml0aWFsQnJlYWtwb2ludCAhPT0gdW5kZWZpbmVkICYmICFicmVha3BvaW50cy5pbmNsdWRlcyhpbml0aWFsQnJlYWtwb2ludCkpIHtcbiAgICAgIGNvbnNvbGUud2FybignW0lvbmljIFdhcm5pbmddOiBZb3VyIGJyZWFrcG9pbnRzIGFycmF5IG11c3QgaW5jbHVkZSB0aGUgaW5pdGlhbEJyZWFrcG9pbnQgdmFsdWUuJyk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZExvYWQoKSB7XG4gICAgLyoqXG4gICAgICogSWYgbW9kYWwgd2FzIHJlbmRlcmVkIHdpdGggaXNPcGVuPVwidHJ1ZVwiXG4gICAgICogdGhlbiB3ZSBzaG91bGQgb3BlbiBtb2RhbCBpbW1lZGlhdGVseS5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgIHJhZigoKSA9PiB0aGlzLnByZXNlbnQoKSk7XG4gICAgfVxuICAgIHRoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uKCk7XG4gIH1cbiAgLyoqXG4gICAqIERldGVybWluZXMgd2hldGhlciBvciBub3QgYW4gb3ZlcmxheVxuICAgKiBpcyBiZWluZyB1c2VkIGlubGluZSBvciB2aWEgYSBjb250cm9sbGVyL0pTXG4gICAqIGFuZCByZXR1cm5zIHRoZSBjb3JyZWN0IGRlbGVnYXRlLlxuICAgKiBCeSBkZWZhdWx0LCBzdWJzZXF1ZW50IGNhbGxzIHRvIGdldERlbGVnYXRlXG4gICAqIHdpbGwgdXNlIGEgY2FjaGVkIHZlcnNpb24gb2YgdGhlIGRlbGVnYXRlLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY2FsbGluZyBkaXNtaXNzIGFmdGVyXG4gICAqIHByZXNlbnQgc28gdGhhdCB0aGUgY29ycmVjdCBkZWxlZ2F0ZSBpcyBnaXZlbi5cbiAgICovXG4gIGdldERlbGVnYXRlKGZvcmNlID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy53b3JraW5nRGVsZWdhdGUgJiYgIWZvcmNlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWxlZ2F0ZTogdGhpcy53b3JraW5nRGVsZWdhdGUsXG4gICAgICAgIGlubGluZTogdGhpcy5pbmxpbmVcbiAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHVzaW5nIG92ZXJsYXkgaW5saW5lXG4gICAgICogd2UgcG90ZW50aWFsbHkgbmVlZCB0byB1c2UgdGhlIGNvcmVEZWxlZ2F0ZVxuICAgICAqIHNvIHRoYXQgdGhpcyB3b3JrcyBpbiB2YW5pbGxhIEpTIGFwcHMuXG4gICAgICogSWYgYSBkZXZlbG9wZXIgaGFzIHByZXNlbnRlZCB0aGlzIGNvbXBvbmVudFxuICAgICAqIHZpYSBhIGNvbnRyb2xsZXIsIHRoZW4gd2UgY2FuIGFzc3VtZVxuICAgICAqIHRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSBpbiB0aGVcbiAgICAgKiBjb3JyZWN0IHBsYWNlLlxuICAgICAqL1xuICAgIGNvbnN0IHBhcmVudEVsID0gdGhpcy5lbC5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGlubGluZSA9IHRoaXMuaW5saW5lID0gcGFyZW50RWwgIT09IG51bGwgJiYgIXRoaXMuaGFzQ29udHJvbGxlcjtcbiAgICBjb25zdCBkZWxlZ2F0ZSA9IHRoaXMud29ya2luZ0RlbGVnYXRlID0gKGlubGluZSkgPyB0aGlzLmRlbGVnYXRlIHx8IHRoaXMuY29yZURlbGVnYXRlIDogdGhpcy5kZWxlZ2F0ZTtcbiAgICByZXR1cm4geyBpbmxpbmUsIGRlbGVnYXRlIH07XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlbnQgdGhlIG1vZGFsIG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIGFzeW5jIHByZXNlbnQoKSB7XG4gICAgaWYgKHRoaXMucHJlc2VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgYW4gaW5saW5lIG1vZGFsXG4gICAgICogYW5kIGRpc21pc3NpbmcgYSBtb2RhbCBpdCBpcyBwb3NzaWJsZSB0b1xuICAgICAqIHF1aWNrbHkgcHJlc2VudCB0aGUgbW9kYWwgd2hpbGUgaXQgaXNcbiAgICAgKiBkaXNtaXNzaW5nLiBXZSBuZWVkIHRvIGF3YWl0IGFueSBjdXJyZW50XG4gICAgICogdHJhbnNpdGlvbiB0byBhbGxvdyB0aGUgZGlzbWlzcyB0byBmaW5pc2hcbiAgICAgKiBiZWZvcmUgcHJlc2VudGluZyBhZ2Fpbi5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5jdXJyZW50VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbXBvbmVudFByb3BzKSwgeyBtb2RhbDogdGhpcy5lbCB9KTtcbiAgICBjb25zdCB7IGlubGluZSwgZGVsZWdhdGUgfSA9IHRoaXMuZ2V0RGVsZWdhdGUodHJ1ZSk7XG4gICAgdGhpcy51c2Vyc0VsZW1lbnQgPSBhd2FpdCBhdHRhY2hDb21wb25lbnQoZGVsZWdhdGUsIHRoaXMuZWwsIHRoaXMuY29tcG9uZW50LCBbJ2lvbi1wYWdlJ10sIGRhdGEsIGlubGluZSk7XG4gICAgYXdhaXQgZGVlcFJlYWR5KHRoaXMudXNlcnNFbGVtZW50KTtcbiAgICB3cml0ZVRhc2soKCkgPT4gdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdzaG93LW1vZGFsJykpO1xuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSBwcmVzZW50KHRoaXMsICdtb2RhbEVudGVyJywgaW9zRW50ZXJBbmltYXRpb24kMywgbWRFbnRlckFuaW1hdGlvbiQyLCB7IHByZXNlbnRpbmdFbDogdGhpcy5wcmVzZW50aW5nRWxlbWVudCwgY3VycmVudEJyZWFrcG9pbnQ6IHRoaXMuaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludDogdGhpcy5iYWNrZHJvcEJyZWFrcG9pbnQgfSk7XG4gICAgYXdhaXQgdGhpcy5jdXJyZW50VHJhbnNpdGlvbjtcbiAgICBpZiAodGhpcy5pc1NoZWV0TW9kYWwpIHtcbiAgICAgIHRoaXMuaW5pdFNoZWV0R2VzdHVyZSgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnN3aXBlVG9DbG9zZSkge1xuICAgICAgdGhpcy5pbml0U3dpcGVUb0Nsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cbiAgaW5pdFN3aXBlVG9DbG9zZSgpIHtcbiAgICBpZiAoZ2V0SW9uTW9kZSh0aGlzKSAhPT0gJ2lvcycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gQWxsIG9mIHRoZSBlbGVtZW50cyBuZWVkZWQgZm9yIHRoZSBzd2lwZSBnZXN0dXJlXG4gICAgLy8gc2hvdWxkIGJlIGluIHRoZSBET00gYW5kIHJlZmVyZW5jZWQgYnkgbm93LCBleGNlcHRcbiAgICAvLyBmb3IgdGhlIHByZXNlbnRpbmcgZWxcbiAgICBjb25zdCBhbmltYXRpb25CdWlsZGVyID0gdGhpcy5sZWF2ZUFuaW1hdGlvbiB8fCBjb25maWcuZ2V0KCdtb2RhbExlYXZlJywgaW9zTGVhdmVBbmltYXRpb24kMyk7XG4gICAgY29uc3QgYW5pID0gdGhpcy5hbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKHRoaXMuZWwsIHsgcHJlc2VudGluZ0VsOiB0aGlzLnByZXNlbnRpbmdFbGVtZW50IH0pO1xuICAgIHRoaXMuZ2VzdHVyZSA9IGNyZWF0ZVN3aXBlVG9DbG9zZUdlc3R1cmUodGhpcy5lbCwgYW5pLCAoKSA9PiB7XG4gICAgICAvKipcbiAgICAgICAqIFdoaWxlIHRoZSBnZXN0dXJlIGFuaW1hdGlvbiBpcyBmaW5pc2hpbmdcbiAgICAgICAqIGl0IGlzIHBvc3NpYmxlIGZvciBhIHVzZXIgdG8gdGFwIHRoZSBiYWNrZHJvcC5cbiAgICAgICAqIFRoaXMgd291bGQgcmVzdWx0IGluIHRoZSBkaXNtaXNzIGFuaW1hdGlvblxuICAgICAgICogYmVpbmcgcGxheWVkIGFnYWluLiBUeXBpY2FsbHkgdGhpcyBpcyBhdm9pZGVkXG4gICAgICAgKiBieSBzZXR0aW5nIGBwcmVzZW50ZWQgPSBmYWxzZWAgb24gdGhlIG92ZXJsYXlcbiAgICAgICAqIGNvbXBvbmVudDsgaG93ZXZlciwgd2UgY2Fubm90IGRvIHRoYXQgaGVyZSBhc1xuICAgICAgICogdGhhdCB3b3VsZCBwcmV2ZW50IHRoZSBlbGVtZW50IGZyb20gYmVpbmdcbiAgICAgICAqIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICovXG4gICAgICB0aGlzLmdlc3R1cmVBbmltYXRpb25EaXNtaXNzaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuYW5pbWF0aW9uLm9uRmluaXNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgJ2dlc3R1cmUnKTtcbiAgICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5nZXN0dXJlLmVuYWJsZSh0cnVlKTtcbiAgfVxuICBpbml0U2hlZXRHZXN0dXJlKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCB9ID0gdGhpcztcbiAgICBpZiAoIXdyYXBwZXJFbCB8fCBpbml0aWFsQnJlYWtwb2ludCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbkJ1aWxkZXIgPSB0aGlzLmVudGVyQW5pbWF0aW9uIHx8IGNvbmZpZy5nZXQoJ21vZGFsRW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiQzKTtcbiAgICBjb25zdCBhbmkgPSB0aGlzLmFuaW1hdGlvbiA9IGFuaW1hdGlvbkJ1aWxkZXIodGhpcy5lbCwgeyBwcmVzZW50aW5nRWw6IHRoaXMucHJlc2VudGluZ0VsZW1lbnQsIGN1cnJlbnRCcmVha3BvaW50OiBpbml0aWFsQnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50IH0pO1xuICAgIGFuaS5wcm9ncmVzc1N0YXJ0KHRydWUsIDEpO1xuICAgIGNvbnN0IHNvcnRlZEJyZWFrcG9pbnRzID0gKChfYSA9IHRoaXMuYnJlYWtwb2ludHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zb3J0KChhLCBiKSA9PiBhIC0gYikpIHx8IFtdO1xuICAgIHRoaXMuZ2VzdHVyZSA9IGNyZWF0ZVNoZWV0R2VzdHVyZSh0aGlzLmVsLCB0aGlzLmJhY2tkcm9wRWwsIHdyYXBwZXJFbCwgaW5pdGlhbEJyZWFrcG9pbnQsIGJhY2tkcm9wQnJlYWtwb2ludCwgYW5pLCBzb3J0ZWRCcmVha3BvaW50cywgKCkgPT4ge1xuICAgICAgLyoqXG4gICAgICAgKiBXaGlsZSB0aGUgZ2VzdHVyZSBhbmltYXRpb24gaXMgZmluaXNoaW5nXG4gICAgICAgKiBpdCBpcyBwb3NzaWJsZSBmb3IgYSB1c2VyIHRvIHRhcCB0aGUgYmFja2Ryb3AuXG4gICAgICAgKiBUaGlzIHdvdWxkIHJlc3VsdCBpbiB0aGUgZGlzbWlzcyBhbmltYXRpb25cbiAgICAgICAqIGJlaW5nIHBsYXllZCBhZ2Fpbi4gVHlwaWNhbGx5IHRoaXMgaXMgYXZvaWRlZFxuICAgICAgICogYnkgc2V0dGluZyBgcHJlc2VudGVkID0gZmFsc2VgIG9uIHRoZSBvdmVybGF5XG4gICAgICAgKiBjb21wb25lbnQ7IGhvd2V2ZXIsIHdlIGNhbm5vdCBkbyB0aGF0IGhlcmUgYXNcbiAgICAgICAqIHRoYXQgd291bGQgcHJldmVudCB0aGUgZWxlbWVudCBmcm9tIGJlaW5nXG4gICAgICAgKiByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAgICAgICAqL1xuICAgICAgdGhpcy5nZXN0dXJlQW5pbWF0aW9uRGlzbWlzc2luZyA9IHRydWU7XG4gICAgICB0aGlzLmFuaW1hdGlvbi5vbkZpbmlzaChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsICdnZXN0dXJlJyk7XG4gICAgICAgIHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIChicmVha3BvaW50KSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gYnJlYWtwb2ludDtcbiAgICB9KTtcbiAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBtb2RhbCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgbW9kYWwuIEZvciBleGFtcGxlLCAnY2FuY2VsJyBvciAnYmFja2Ryb3AnLlxuICAgKi9cbiAgYXN5bmMgZGlzbWlzcyhkYXRhLCByb2xlKSB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZUFuaW1hdGlvbkRpc21pc3NpbmcgJiYgcm9sZSAhPT0gJ2dlc3R1cmUnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgYW4gaW5saW5lIG1vZGFsXG4gICAgICogYW5kIHByZXNlbnRpbmcgYSBtb2RhbCBpdCBpcyBwb3NzaWJsZSB0b1xuICAgICAqIHF1aWNrbHkgZGlzbWlzcyB0aGUgbW9kYWwgd2hpbGUgaXQgaXNcbiAgICAgKiBwcmVzZW50aW5nLiBXZSBuZWVkIHRvIGF3YWl0IGFueSBjdXJyZW50XG4gICAgICogdHJhbnNpdGlvbiB0byBhbGxvdyB0aGUgcHJlc2VudCB0byBmaW5pc2hcbiAgICAgKiBiZWZvcmUgZGlzbWlzc2luZyBhZ2Fpbi5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5jdXJyZW50VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uO1xuICAgIH1cbiAgICBjb25zdCBlbnRlcmluZ0FuaW1hdGlvbiA9IGFjdGl2ZUFuaW1hdGlvbnMuZ2V0KHRoaXMpIHx8IFtdO1xuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSBkaXNtaXNzKHRoaXMsIGRhdGEsIHJvbGUsICdtb2RhbExlYXZlJywgaW9zTGVhdmVBbmltYXRpb24kMywgbWRMZWF2ZUFuaW1hdGlvbiQyLCB7IHByZXNlbnRpbmdFbDogdGhpcy5wcmVzZW50aW5nRWxlbWVudCwgY3VycmVudEJyZWFrcG9pbnQ6IHRoaXMuY3VycmVudEJyZWFrcG9pbnQgfHwgdGhpcy5pbml0aWFsQnJlYWtwb2ludCwgYmFja2Ryb3BCcmVha3BvaW50OiB0aGlzLmJhY2tkcm9wQnJlYWtwb2ludCB9KTtcbiAgICBjb25zdCBkaXNtaXNzZWQgPSBhd2FpdCB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uO1xuICAgIGlmIChkaXNtaXNzZWQpIHtcbiAgICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IHRoaXMuZ2V0RGVsZWdhdGUoKTtcbiAgICAgIGF3YWl0IGRldGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgdGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uKSB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIGVudGVyaW5nQW5pbWF0aW9uLmZvckVhY2goYW5pID0+IGFuaS5kZXN0cm95KCkpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuYW5pbWF0aW9uID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBkaXNtaXNzZWQ7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgbW9kYWwgZGlkIGRpc21pc3MuXG4gICAqL1xuICBvbkRpZERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Nb2RhbERpZERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtb2RhbCB3aWxsIGRpc21pc3MuXG4gICAqL1xuICBvbldpbGxEaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uTW9kYWxXaWxsRGlzbWlzcycpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGhhbmRsZSwgaXNTaGVldE1vZGFsLCBwcmVzZW50aW5nRWxlbWVudCwgaHRtbEF0dHJpYnV0ZXMgfSA9IHRoaXM7XG4gICAgY29uc3Qgc2hvd0hhbmRsZSA9IGhhbmRsZSAhPT0gZmFsc2UgJiYgaXNTaGVldE1vZGFsO1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIGNvbnN0IHsgcHJlc2VudGVkLCBtb2RhbElkIH0gPSB0aGlzO1xuICAgIGNvbnN0IGlzQ2FyZE1vZGFsID0gcHJlc2VudGluZ0VsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBtb2RlID09PSAnaW9zJztcbiAgICByZXR1cm4gKGgoSG9zdCwgT2JqZWN0LmFzc2lnbih7IFwibm8tcm91dGVyXCI6IHRydWUsIFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgdGFiaW5kZXg6IFwiLTFcIiB9LCBodG1sQXR0cmlidXRlcywgeyBzdHlsZToge1xuICAgICAgICB6SW5kZXg6IGAkezIwMDAwICsgdGhpcy5vdmVybGF5SW5kZXh9YCxcbiAgICAgIH0sIGNsYXNzOiBPYmplY3QuYXNzaWduKHsgW21vZGVdOiB0cnVlLCBbJ21vZGFsLWRlZmF1bHQnXTogIWlzQ2FyZE1vZGFsICYmICFpc1NoZWV0TW9kYWwsIFtgbW9kYWwtY2FyZGBdOiBpc0NhcmRNb2RhbCwgW2Btb2RhbC1zaGVldGBdOiBpc1NoZWV0TW9kYWwsICdvdmVybGF5LWhpZGRlbic6IHRydWUsICdtb2RhbC1pbnRlcmFjdGl2ZSc6IHByZXNlbnRlZCB9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIGlkOiBtb2RhbElkLCBvbklvbkJhY2tkcm9wVGFwOiB0aGlzLm9uQmFja2Ryb3BUYXAsIG9uSW9uRGlzbWlzczogdGhpcy5vbkRpc21pc3MsIG9uSW9uTW9kYWxEaWRQcmVzZW50OiB0aGlzLm9uTGlmZWN5Y2xlLCBvbklvbk1vZGFsV2lsbFByZXNlbnQ6IHRoaXMub25MaWZlY3ljbGUsIG9uSW9uTW9kYWxXaWxsRGlzbWlzczogdGhpcy5vbkxpZmVjeWNsZSwgb25Jb25Nb2RhbERpZERpc21pc3M6IHRoaXMub25MaWZlY3ljbGUgfSksIGgoXCJpb24tYmFja2Ryb3BcIiwgeyByZWY6IGVsID0+IHRoaXMuYmFja2Ryb3BFbCA9IGVsLCB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzLCBwYXJ0OiBcImJhY2tkcm9wXCIgfSksIG1vZGUgPT09ICdpb3MnICYmIGgoXCJkaXZcIiwgeyBjbGFzczogXCJtb2RhbC1zaGFkb3dcIiB9KSwgaChcImRpdlwiLCB7IHJvbGU6IFwiZGlhbG9nXCIsIGNsYXNzOiBcIm1vZGFsLXdyYXBwZXIgaW9uLW92ZXJsYXktd3JhcHBlclwiLCBwYXJ0OiBcImNvbnRlbnRcIiwgcmVmOiBlbCA9PiB0aGlzLndyYXBwZXJFbCA9IGVsIH0sIHNob3dIYW5kbGUgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcIm1vZGFsLWhhbmRsZVwiLCBwYXJ0OiBcImhhbmRsZVwiIH0pLCBoKFwic2xvdFwiLCBudWxsKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJpc09wZW5cIjogW1wib25Jc09wZW5DaGFuZ2VcIl0sXG4gICAgXCJ0cmlnZ2VyXCI6IFtcIm9uVHJpZ2dlckNoYW5nZVwiXSxcbiAgICBcInN3aXBlVG9DbG9zZVwiOiBbXCJzd2lwZVRvQ2xvc2VDaGFuZ2VkXCJdXG4gIH07IH1cbn07XG5jb25zdCBMSUZFQ1lDTEVfTUFQJDEgPSB7XG4gICdpb25Nb2RhbERpZFByZXNlbnQnOiAnaW9uVmlld0RpZEVudGVyJyxcbiAgJ2lvbk1vZGFsV2lsbFByZXNlbnQnOiAnaW9uVmlld1dpbGxFbnRlcicsXG4gICdpb25Nb2RhbFdpbGxEaXNtaXNzJzogJ2lvblZpZXdXaWxsTGVhdmUnLFxuICAnaW9uTW9kYWxEaWREaXNtaXNzJzogJ2lvblZpZXdEaWRMZWF2ZScsXG59O1xubGV0IG1vZGFsSWRzID0gMDtcbk1vZGFsLnN0eWxlID0ge1xuICBpb3M6IG1vZGFsSW9zQ3NzLFxuICBtZDogbW9kYWxNZENzc1xufTtcblxuLyoqXG4gKiBpT1MgUGlja2VyIEVudGVyIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NFbnRlckFuaW1hdGlvbiQyID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IGJhY2tkcm9wQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgYmFja2Ryb3BBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChiYXNlRWwucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScpXG4gICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgJ3BvaW50ZXItZXZlbnRzJzogJ25vbmUnXG4gIH0pXG4gICAgLmFmdGVyQ2xlYXJTdHlsZXMoWydwb2ludGVyLWV2ZW50cyddKTtcbiAgd3JhcHBlckFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcucGlja2VyLXdyYXBwZXInKSlcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgxMDAlKScsICd0cmFuc2xhdGVZKDAlKScpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSknKVxuICAgIC5kdXJhdGlvbig0MDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogaU9TIFBpY2tlciBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zTGVhdmVBbmltYXRpb24kMiA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQoYmFzZUVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1iYWNrZHJvcCcpKVxuICAgIC5mcm9tVG8oJ29wYWNpdHknLCAndmFyKC0tYmFja2Ryb3Atb3BhY2l0eSknLCAwLjAxKTtcbiAgd3JhcHBlckFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbC5xdWVyeVNlbGVjdG9yKCcucGlja2VyLXdyYXBwZXInKSlcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlWSgwJSknLCAndHJhbnNsYXRlWSgxMDAlKScpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KGJhc2VFbClcbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSknKVxuICAgIC5kdXJhdGlvbig0MDApXG4gICAgLmFkZEFuaW1hdGlvbihbYmFja2Ryb3BBbmltYXRpb24sIHdyYXBwZXJBbmltYXRpb25dKTtcbn07XG5cbmNvbnN0IHBpY2tlcklvc0NzcyA9IFwiLnNjLWlvbi1waWNrZXItaW9zLWh7LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItc3R5bGU6c29saWQ7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOjEwMCU7LS1tYXgtd2lkdGg6NTAwcHg7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7bGVmdDowO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLWlvcy1oLFtkaXI9cnRsXSAuc2MtaW9uLXBpY2tlci1pb3MtaHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9Lm92ZXJsYXktaGlkZGVuLnNjLWlvbi1waWNrZXItaW9zLWh7ZGlzcGxheTpub25lfS5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLWlvc3tib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87bWFyZ2luLXRvcDphdXRvO21hcmdpbi1ib3R0b206YXV0bzstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMTAwJSwgIDApO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7Ym9yZGVyLXdpZHRoOnZhcigtLWJvcmRlci13aWR0aCk7Ym9yZGVyLXN0eWxlOnZhcigtLWJvcmRlci1zdHlsZSk7Ym9yZGVyLWNvbG9yOnZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTtjb250YWluOnN0cmljdDtvdmVyZmxvdzpoaWRkZW47ei1pbmRleDoxMH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLWlvc3ttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0b319LnBpY2tlci10b29sYmFyLnNjLWlvbi1waWNrZXItaW9ze3dpZHRoOjEwMCU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb250YWluOnN0cmljdDt6LWluZGV4OjF9LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3N7Ym9yZGVyOjA7Zm9udC1mYW1pbHk6aW5oZXJpdH0ucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLWlvczphY3RpdmUsLnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3M6Zm9jdXN7b3V0bGluZTpub25lfS5waWNrZXItY29sdW1ucy5zYy1pb24tcGlja2VyLWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21hcmdpbi1ib3R0b206dmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDApO2NvbnRhaW46c3RyaWN0O2RpcmVjdGlvbjpsdHI7b3ZlcmZsb3c6aGlkZGVufS5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9zLC5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2Rpc3BsYXk6bm9uZTtwb2ludGVyLWV2ZW50czpub25lfS5zYy1pb24tcGlja2VyLWlvcy1oey0tYmFja2dyb3VuZDp2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZik7LS1ib3JkZXItd2lkdGg6MXB4IDAgMDstLWJvcmRlci1jb2xvcjp2YXIoLS1pb24taXRlbS1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1ib3JkZXItY29sb3IsIHZhcigtLWlvbi1jb2xvci1zdGVwLTI1MCwgI2M4YzdjYykpKTstLWhlaWdodDoyNjBweDstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMjYpO2NvbG9yOnZhcigtLWlvbi1pdGVtLWNvbG9yLCB2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCkpfS5waWNrZXItdG9vbGJhci5zYy1pb24tcGlja2VyLWlvc3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtoZWlnaHQ6NDRweDtib3JkZXItYm90dG9tOjAuNTVweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpfS5waWNrZXItdG9vbGJhci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3N7LW1zLWZsZXg6MTtmbGV4OjE7dGV4dC1hbGlnbjplbmR9LnBpY2tlci10b29sYmFyLWJ1dHRvbi5zYy1pb24tcGlja2VyLWlvczpsYXN0LWNoaWxkIC5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9ze2ZvbnQtd2VpZ2h0OjYwMH0ucGlja2VyLXRvb2xiYXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9zOmZpcnN0LWNoaWxke2ZvbnQtd2VpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0fS5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItaW9zLC5waWNrZXItYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLXBpY2tlci1pb3N7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmctbGVmdDoxZW07cGFkZGluZy1yaWdodDoxZW07cGFkZGluZy10b3A6MDtwYWRkaW5nLWJvdHRvbTowO2hlaWdodDo0NHB4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpO2ZvbnQtc2l6ZToxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1pb3MsLnBpY2tlci1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tcGlja2VyLWlvc3twYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MWVtO3BhZGRpbmctaW5saW5lLXN0YXJ0OjFlbTstd2Via2l0LXBhZGRpbmctZW5kOjFlbTtwYWRkaW5nLWlubGluZS1lbmQ6MWVtfX0ucGlja2VyLWNvbHVtbnMuc2MtaW9uLXBpY2tlci1pb3N7aGVpZ2h0OjIxNXB4Oy13ZWJraXQtcGVyc3BlY3RpdmU6MTAwMHB4O3BlcnNwZWN0aXZlOjEwMDBweH0ucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvc3tsZWZ0OjA7dG9wOjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjgxcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGNvbG9yLXN0b3AoMjAlLCB2YXIoLS1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpKSwgdG8ocmdiYSh2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSksIDAuOCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHZhcigtLWJhY2tncm91bmQsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSkgMjAlLCByZ2JhKHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSwgMC44KSAxMDAlKTt6LWluZGV4OjEwfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLWlvcyAucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvcyxbZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1pb3MtaCAucGlja2VyLWFib3ZlLWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLWlvcyxbZGlyPXJ0bF0gLnNjLWlvbi1waWNrZXItaW9zLWggLnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3N7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfS5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2xlZnQ6MDt0b3A6MTE1cHg7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjExOXB4O2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBjb2xvci1zdG9wKDMwJSwgdmFyKC0tYmFja2dyb3VuZCwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpKSksIHRvKHJnYmEodmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpLCAwLjgpKSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gdG9wLCB2YXIoLS1iYWNrZ3JvdW5kLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikpIDMwJSwgcmdiYSh2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSksIDAuOCkgMTAwJSk7ei1pbmRleDoxMX1bZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1pb3MgLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3MsW2Rpcj1ydGxdLnNjLWlvbi1waWNrZXItaW9zLWggLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1pb3MsW2Rpcj1ydGxdIC5zYy1pb24tcGlja2VyLWlvcy1oIC5waWNrZXItYmVsb3ctaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItaW9ze2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1cIjtcblxuY29uc3QgcGlja2VyTWRDc3MgPSBcIi5zYy1pb24tcGlja2VyLW1kLWh7LS1ib3JkZXItcmFkaXVzOjA7LS1ib3JkZXItc3R5bGU6c29saWQ7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOjEwMCU7LS1tYXgtd2lkdGg6NTAwcHg7LS1taW4taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LW1vei1vc3gtZm9udC1zbW9vdGhpbmc6Z3JheXNjYWxlOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7bGVmdDowO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7ei1pbmRleDoxMDAxfVtkaXI9cnRsXS5zYy1pb24tcGlja2VyLW1kLWgsW2Rpcj1ydGxdIC5zYy1pb24tcGlja2VyLW1kLWh7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfS5vdmVybGF5LWhpZGRlbi5zYy1pb24tcGlja2VyLW1kLWh7ZGlzcGxheTpub25lfS5waWNrZXItd3JhcHBlci5zYy1pb24tcGlja2VyLW1ke2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0bzttYXJnaW4tdG9wOmF1dG87bWFyZ2luLWJvdHRvbTphdXRvOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRhaW46c3RyaWN0O292ZXJmbG93OmhpZGRlbjt6LWluZGV4OjEwfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnBpY2tlci13cmFwcGVyLnNjLWlvbi1waWNrZXItbWR7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99fS5waWNrZXItdG9vbGJhci5zYy1pb24tcGlja2VyLW1ke3dpZHRoOjEwMCU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb250YWluOnN0cmljdDt6LWluZGV4OjF9LnBpY2tlci1idXR0b24uc2MtaW9uLXBpY2tlci1tZHtib3JkZXI6MDtmb250LWZhbWlseTppbmhlcml0fS5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItbWQ6YWN0aXZlLC5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItbWQ6Zm9jdXN7b3V0bGluZTpub25lfS5waWNrZXItY29sdW1ucy5zYy1pb24tcGlja2VyLW1ke2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7bWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSwgMCk7Y29udGFpbjpzdHJpY3Q7ZGlyZWN0aW9uOmx0cjtvdmVyZmxvdzpoaWRkZW59LnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZCwucGlja2VyLWJlbG93LWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLW1ke2Rpc3BsYXk6bm9uZTtwb2ludGVyLWV2ZW50czpub25lfS5zYy1pb24tcGlja2VyLW1kLWh7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLWJvcmRlci13aWR0aDowLjU1cHggMCAwOy0tYm9yZGVyLWNvbG9yOnZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCByZ2JhKDAsIDAsIDAsIDAuMTMpKSkpOy0taGVpZ2h0OjI2MHB4Oy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4yNik7Y29sb3I6dmFyKC0taW9uLWl0ZW0tY29sb3IsIHZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKSl9LnBpY2tlci10b29sYmFyLnNjLWlvbi1waWNrZXItbWR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtcGFjazplbmQ7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kO2hlaWdodDo0NHB4fS5waWNrZXItYnV0dG9uLnNjLWlvbi1waWNrZXItbWQsLnBpY2tlci1idXR0b24uaW9uLWFjdGl2YXRlZC5zYy1pb24tcGlja2VyLW1ke21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtwYWRkaW5nLWxlZnQ6MS4xZW07cGFkZGluZy1yaWdodDoxLjFlbTtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjA7aGVpZ2h0OjQ0cHg7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZik7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6NTAwO3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTstd2Via2l0LWJveC1zaGFkb3c6bm9uZTtib3gtc2hhZG93Om5vbmV9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsucGlja2VyLWJ1dHRvbi5zYy1pb24tcGlja2VyLW1kLC5waWNrZXItYnV0dG9uLmlvbi1hY3RpdmF0ZWQuc2MtaW9uLXBpY2tlci1tZHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MS4xZW07cGFkZGluZy1pbmxpbmUtc3RhcnQ6MS4xZW07LXdlYmtpdC1wYWRkaW5nLWVuZDoxLjFlbTtwYWRkaW5nLWlubGluZS1lbmQ6MS4xZW19fS5waWNrZXItY29sdW1ucy5zYy1pb24tcGlja2VyLW1ke2hlaWdodDoyMTZweDstd2Via2l0LXBlcnNwZWN0aXZlOjE4MDBweDtwZXJzcGVjdGl2ZToxODAwcHh9LnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZHtsZWZ0OjA7dG9wOjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICA5MHB4KTtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDo4MXB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWlvbi1pdGVtLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWJvcmRlci1jb2xvciwgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTUwLCByZ2JhKDAsIDAsIDAsIDAuMTMpKSkpO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgY29sb3Itc3RvcCgyMCUsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKSksIHRvKHJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KSkpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpIDIwJSwgcmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpIDEwMCUpO3otaW5kZXg6MTB9W2Rpcj1ydGxdLnNjLWlvbi1waWNrZXItbWQgLnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZCxbZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1tZC1oIC5waWNrZXItYWJvdmUtaGlnaGxpZ2h0LnNjLWlvbi1waWNrZXItbWQsW2Rpcj1ydGxdIC5zYy1pb24tcGlja2VyLW1kLWggLnBpY2tlci1hYm92ZS1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZHtsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O3JpZ2h0OjB9LnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZHtsZWZ0OjA7dG9wOjExNXB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAwLCAgOTBweCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAwLCAgOTBweCk7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTE5cHg7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0taW9uLWl0ZW0tYm9yZGVyLWNvbG9yLCB2YXIoLS1pb24tYm9yZGVyLWNvbG9yLCB2YXIoLS1pb24tY29sb3Itc3RlcC0xNTAsIHJnYmEoMCwgMCwgMCwgMC4xMykpKSk7YmFja2dyb3VuZDotd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCBib3R0b20sIGxlZnQgdG9wLCBjb2xvci1zdG9wKDMwJSwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IsICNmZmYpKSwgdG8ocmdiYSh2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpLCAwLjgpKSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gdG9wLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvciwgI2ZmZikgMzAlLCByZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCkgMTAwJSk7ei1pbmRleDoxMX1bZGlyPXJ0bF0uc2MtaW9uLXBpY2tlci1tZCAucGlja2VyLWJlbG93LWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLW1kLFtkaXI9cnRsXS5zYy1pb24tcGlja2VyLW1kLWggLnBpY2tlci1iZWxvdy1oaWdobGlnaHQuc2MtaW9uLXBpY2tlci1tZCxbZGlyPXJ0bF0gLnNjLWlvbi1waWNrZXItbWQtaCAucGlja2VyLWJlbG93LWhpZ2hsaWdodC5zYy1pb24tcGlja2VyLW1ke2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1cIjtcblxubGV0IFBpY2tlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5kaWRQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25QaWNrZXJEaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblBpY2tlcldpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblBpY2tlcldpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUGlja2VyRGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLnByZXNlbnRlZCA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBidXR0b25zIHRvIGJlIGRpc3BsYXllZCBhdCB0aGUgdG9wIG9mIHRoZSBwaWNrZXIuXG4gICAgICovXG4gICAgdGhpcy5idXR0b25zID0gW107XG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgY29sdW1ucyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIHBpY2tlci5cbiAgICAgKi9cbiAgICB0aGlzLmNvbHVtbnMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGRpc21pc3NpbmcgdGhlIHBpY2tlci5cbiAgICAgKi9cbiAgICB0aGlzLmR1cmF0aW9uID0gMDtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIGEgYmFja2Ryb3Agd2lsbCBiZSBkaXNwbGF5ZWQgYmVoaW5kIHRoZSBwaWNrZXIuXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHBpY2tlciB3aWxsIGJlIGRpc21pc3NlZCB3aGVuIHRoZSBiYWNrZHJvcCBpcyBjbGlja2VkLlxuICAgICAqL1xuICAgIHRoaXMuYmFja2Ryb3BEaXNtaXNzID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBwaWNrZXIgd2lsbCBhbmltYXRlLlxuICAgICAqL1xuICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgIHRoaXMub25CYWNrZHJvcFRhcCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIEJBQ0tEUk9QKTtcbiAgICB9O1xuICAgIHRoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyID0gKGV2KSA9PiB7XG4gICAgICBjb25zdCByb2xlID0gZXYuZGV0YWlsLnJvbGU7XG4gICAgICBpZiAoaXNDYW5jZWwocm9sZSkpIHtcbiAgICAgICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5idXR0b25zLmZpbmQoYiA9PiBiLnJvbGUgPT09ICdjYW5jZWwnKTtcbiAgICAgICAgdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihjYW5jZWxCdXR0b24pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgLyoqXG4gICAqIFByZXNlbnQgdGhlIHBpY2tlciBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBhc3luYyBwcmVzZW50KCkge1xuICAgIGF3YWl0IHByZXNlbnQodGhpcywgJ3BpY2tlckVudGVyJywgaW9zRW50ZXJBbmltYXRpb24kMiwgaW9zRW50ZXJBbmltYXRpb24kMiwgdW5kZWZpbmVkKTtcbiAgICBpZiAodGhpcy5kdXJhdGlvbiA+IDApIHtcbiAgICAgIHRoaXMuZHVyYXRpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB0aGlzLmRpc21pc3MoKSwgdGhpcy5kdXJhdGlvbik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBwaWNrZXIgb3ZlcmxheSBhZnRlciBpdCBoYXMgYmVlbiBwcmVzZW50ZWQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIEFueSBkYXRhIHRvIGVtaXQgaW4gdGhlIGRpc21pc3MgZXZlbnRzLlxuICAgKiBAcGFyYW0gcm9sZSBUaGUgcm9sZSBvZiB0aGUgZWxlbWVudCB0aGF0IGlzIGRpc21pc3NpbmcgdGhlIHBpY2tlci5cbiAgICogVGhpcyBjYW4gYmUgdXNlZnVsIGluIGEgYnV0dG9uIGhhbmRsZXIgZm9yIGRldGVybWluaW5nIHdoaWNoIGJ1dHRvbiB3YXNcbiAgICogY2xpY2tlZCB0byBkaXNtaXNzIHRoZSBwaWNrZXIuXG4gICAqIFNvbWUgZXhhbXBsZXMgaW5jbHVkZTogYGBcImNhbmNlbFwiYCwgYFwiZGVzdHJ1Y3RpdmVcImAsIFwic2VsZWN0ZWRcImAsIGFuZCBgXCJiYWNrZHJvcFwiYC5cbiAgICovXG4gIGRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgIGlmICh0aGlzLmR1cmF0aW9uVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZHVyYXRpb25UaW1lb3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ3BpY2tlckxlYXZlJywgaW9zTGVhdmVBbmltYXRpb24kMiwgaW9zTGVhdmVBbmltYXRpb24kMik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgcGlja2VyIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uUGlja2VyRGlkRGlzbWlzcycpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIHBpY2tlciB3aWxsIGRpc21pc3MuXG4gICAqL1xuICBvbldpbGxEaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uUGlja2VyV2lsbERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjb2x1bW4gdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNvbHVtbi5cbiAgICovXG4gIGdldENvbHVtbihuYW1lKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbHVtbnMuZmluZChjb2x1bW4gPT4gY29sdW1uLm5hbWUgPT09IG5hbWUpKTtcbiAgfVxuICBhc3luYyBidXR0b25DbGljayhidXR0b24pIHtcbiAgICBjb25zdCByb2xlID0gYnV0dG9uLnJvbGU7XG4gICAgaWYgKGlzQ2FuY2VsKHJvbGUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgcm9sZSk7XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZERpc21pc3MgPSBhd2FpdCB0aGlzLmNhbGxCdXR0b25IYW5kbGVyKGJ1dHRvbik7XG4gICAgaWYgKHNob3VsZERpc21pc3MpIHtcbiAgICAgIHJldHVybiB0aGlzLmRpc21pc3ModGhpcy5nZXRTZWxlY3RlZCgpLCBidXR0b24ucm9sZSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBhc3luYyBjYWxsQnV0dG9uSGFuZGxlcihidXR0b24pIHtcbiAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAvLyBhIGhhbmRsZXIgaGFzIGJlZW4gcHJvdmlkZWQsIGV4ZWN1dGUgaXRcbiAgICAgIC8vIHBhc3MgdGhlIGhhbmRsZXIgdGhlIHZhbHVlcyBmcm9tIHRoZSBpbnB1dHNcbiAgICAgIGNvbnN0IHJ0biA9IGF3YWl0IHNhZmVDYWxsKGJ1dHRvbi5oYW5kbGVyLCB0aGlzLmdldFNlbGVjdGVkKCkpO1xuICAgICAgaWYgKHJ0biA9PT0gZmFsc2UpIHtcbiAgICAgICAgLy8gaWYgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgaGFuZGxlciBpcyBmYWxzZSB0aGVuIGRvIG5vdCBkaXNtaXNzXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWQgPSB7fTtcbiAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaCgoY29sLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRDb2x1bW4gPSBjb2wuc2VsZWN0ZWRJbmRleCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gY29sLm9wdGlvbnNbY29sLnNlbGVjdGVkSW5kZXhdXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgc2VsZWN0ZWRbY29sLm5hbWVdID0ge1xuICAgICAgICB0ZXh0OiBzZWxlY3RlZENvbHVtbiA/IHNlbGVjdGVkQ29sdW1uLnRleHQgOiB1bmRlZmluZWQsXG4gICAgICAgIHZhbHVlOiBzZWxlY3RlZENvbHVtbiA/IHNlbGVjdGVkQ29sdW1uLnZhbHVlIDogdW5kZWZpbmVkLFxuICAgICAgICBjb2x1bW5JbmRleDogaW5kZXhcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIHNlbGVjdGVkO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGh0bWxBdHRyaWJ1dGVzIH0gPSB0aGlzO1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCBPYmplY3QuYXNzaWduKHsgXCJhcmlhLW1vZGFsXCI6IFwidHJ1ZVwiLCB0YWJpbmRleDogXCItMVwiIH0sIGh0bWxBdHRyaWJ1dGVzLCB7IHN0eWxlOiB7XG4gICAgICAgIHpJbmRleDogYCR7MjAwMDAgKyB0aGlzLm92ZXJsYXlJbmRleH1gXG4gICAgICB9LCBjbGFzczogT2JqZWN0LmFzc2lnbih7IFttb2RlXTogdHJ1ZSxcbiAgICAgICAgLy8gVXNlZCBpbnRlcm5hbGx5IGZvciBzdHlsaW5nXG4gICAgICAgIFtgcGlja2VyLSR7bW9kZX1gXTogdHJ1ZSwgJ292ZXJsYXktaGlkZGVuJzogdHJ1ZSB9LCBnZXRDbGFzc01hcCh0aGlzLmNzc0NsYXNzKSksIG9uSW9uQmFja2Ryb3BUYXA6IHRoaXMub25CYWNrZHJvcFRhcCwgb25Jb25QaWNrZXJXaWxsRGlzbWlzczogdGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXIgfSksIGgoXCJpb24tYmFja2Ryb3BcIiwgeyB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzIH0pLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLXdyYXBwZXIgaW9uLW92ZXJsYXktd3JhcHBlclwiLCByb2xlOiBcImRpYWxvZ1wiIH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJwaWNrZXItdG9vbGJhclwiIH0sIHRoaXMuYnV0dG9ucy5tYXAoYiA9PiAoaChcImRpdlwiLCB7IGNsYXNzOiBidXR0b25XcmFwcGVyQ2xhc3MoYikgfSwgaChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHRoaXMuYnV0dG9uQ2xpY2soYiksIGNsYXNzOiBidXR0b25DbGFzcyQxKGIpIH0sIGIudGV4dCkpKSkpLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWNvbHVtbnNcIiB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWFib3ZlLWhpZ2hsaWdodFwiIH0pLCB0aGlzLnByZXNlbnRlZCAmJiB0aGlzLmNvbHVtbnMubWFwKGMgPT4gaChcImlvbi1waWNrZXItY29sdW1uXCIsIHsgY29sOiBjIH0pKSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1iZWxvdy1oaWdobGlnaHRcIiB9KSkpLCBoKFwiZGl2XCIsIHsgdGFiaW5kZXg6IFwiMFwiIH0pKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbmNvbnN0IGJ1dHRvbldyYXBwZXJDbGFzcyA9IChidXR0b24pID0+IHtcbiAgcmV0dXJuIHtcbiAgICBbYHBpY2tlci10b29sYmFyLSR7YnV0dG9uLnJvbGV9YF06IGJ1dHRvbi5yb2xlICE9PSB1bmRlZmluZWQsXG4gICAgJ3BpY2tlci10b29sYmFyLWJ1dHRvbic6IHRydWVcbiAgfTtcbn07XG5jb25zdCBidXR0b25DbGFzcyQxID0gKGJ1dHRvbikgPT4ge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7ICdwaWNrZXItYnV0dG9uJzogdHJ1ZSwgJ2lvbi1hY3RpdmF0YWJsZSc6IHRydWUgfSwgZ2V0Q2xhc3NNYXAoYnV0dG9uLmNzc0NsYXNzKSk7XG59O1xuUGlja2VyLnN0eWxlID0ge1xuICBpb3M6IHBpY2tlcklvc0NzcyxcbiAgbWQ6IHBpY2tlck1kQ3NzXG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHBvcG92ZXJcbiAqIGFycm93IG9uIGBpb3NgIG1vZGUuIElmIGFycm93IGlzIGRpc2FibGVkXG4gKiByZXR1cm5zICgwLCAwKS5cbiAqL1xuY29uc3QgZ2V0QXJyb3dEaW1lbnNpb25zID0gKGFycm93RWwpID0+IHtcbiAgaWYgKCFhcnJvd0VsKSB7XG4gICAgcmV0dXJuIHsgYXJyb3dXaWR0aDogMCwgYXJyb3dIZWlnaHQ6IDAgfTtcbiAgfVxuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGFycm93RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB7IGFycm93V2lkdGg6IHdpZHRoLCBhcnJvd0hlaWdodDogaGVpZ2h0IH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWNvbW1lbmRlZCBkaW1lbnNpb25zIG9mIHRoZSBwb3BvdmVyXG4gKiB0aGF0IHRha2VzIGludG8gYWNjb3VudCB3aGV0aGVyIG9yIG5vdCB0aGUgd2lkdGhcbiAqIHNob3VsZCBtYXRjaCB0aGUgdHJpZ2dlciB3aWR0aC5cbiAqL1xuY29uc3QgZ2V0UG9wb3ZlckRpbWVuc2lvbnMgPSAoc2l6ZSwgY29udGVudEVsLCB0cmlnZ2VyRWwpID0+IHtcbiAgY29uc3QgY29udGVudERpbWVudGlvbnMgPSBjb250ZW50RWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNvbnRlbnRIZWlnaHQgPSBjb250ZW50RGltZW50aW9ucy5oZWlnaHQ7XG4gIGxldCBjb250ZW50V2lkdGggPSBjb250ZW50RGltZW50aW9ucy53aWR0aDtcbiAgaWYgKHNpemUgPT09ICdjb3ZlcicgJiYgdHJpZ2dlckVsKSB7XG4gICAgY29uc3QgdHJpZ2dlckRpbWVuc2lvbnMgPSB0cmlnZ2VyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29udGVudFdpZHRoID0gdHJpZ2dlckRpbWVuc2lvbnMud2lkdGg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb250ZW50V2lkdGgsXG4gICAgY29udGVudEhlaWdodFxuICB9O1xufTtcbmNvbnN0IGNvbmZpZ3VyZURpc21pc3NJbnRlcmFjdGlvbiA9ICh0cmlnZ2VyRWwsIHRyaWdnZXJBY3Rpb24sIHBvcG92ZXJFbCwgcGFyZW50UG9wb3ZlckVsKSA9PiB7XG4gIGxldCBkaXNtaXNzQ2FsbGJhY2tzID0gW107XG4gIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChwYXJlbnRQb3BvdmVyRWwpO1xuICBjb25zdCBwYXJlbnRDb250ZW50RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWNvbnRlbnQnKTtcbiAgc3dpdGNoICh0cmlnZ2VyQWN0aW9uKSB7XG4gICAgY2FzZSAnaG92ZXInOlxuICAgICAgZGlzbWlzc0NhbGxiYWNrcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIERvIG5vdCB1c2UgbW91c2VvdmVyIGhlcmVcbiAgICAgICAgICAgKiBhcyB0aGlzIHdpbGwgY2F1c2VzIHRoZSBldmVudCB0b1xuICAgICAgICAgICAqIGJlIGRpc3BhdGNoZWQgb24gZWFjaCB1bmRlcmx5aW5nXG4gICAgICAgICAgICogZWxlbWVudCByYXRoZXIgdGhhbiBvbiB0aGUgcG9wb3ZlclxuICAgICAgICAgICAqIGNvbnRlbnQgYXMgYSB3aG9sZS5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWVudGVyJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERvIG5vdCBkaXNtaXNzIHRoZSBwb3BvdmVyIGlzIHdlXG4gICAgICAgICAgICAgKiBhcmUgaG92ZXJpbmcgb3ZlciBpdHMgdHJpZ2dlci5cbiAgICAgICAgICAgICAqIFRoaXMgd291bGQgYmUgZWFzaWVyIGlmIHdlIHVzZWQgbW91c2VvdmVyXG4gICAgICAgICAgICAgKiBidXQgdGhpcyB3b3VsZCBjYXVzZSB0aGUgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgICogbW9yZSBvZnRlbiB0aGFuIHdlIHdvdWxkIGxpa2UsIHBvdGVudGlhbGx5XG4gICAgICAgICAgICAgKiBjYXVzaW5nIHBlcmZvcm1hbmNlIGlzc3Vlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoZXYuY2xpZW50WCwgZXYuY2xpZW50WSk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gdHJpZ2dlckVsKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcG92ZXJFbC5kaXNtaXNzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY29udGV4dC1tZW51JzpcbiAgICBjYXNlICdjbGljayc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGRpc21pc3NDYWxsYmFja3MgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdjbGljaycsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBEbyBub3QgZGlzbWlzcyB0aGUgcG9wb3ZlciBpcyB3ZVxuICAgICAgICAgICAgICogYXJlIGhvdmVyaW5nIG92ZXIgaXRzIHRyaWdnZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RUcmlnZ2VyID0gdGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXJdJyk7XG4gICAgICAgICAgICBpZiAoY2xvc2VzdFRyaWdnZXIgPT09IHRyaWdnZXJFbCkge1xuICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICogc3RvcFByb3BhZ2F0aW9uIGhlcmUgc28gaWYgdGhlXG4gICAgICAgICAgICAgICAqIHBvcG92ZXIgaGFzIGRpc21pc3NPblNlbGVjdD1cInRydWVcIlxuICAgICAgICAgICAgICAgKiB0aGUgcG9wb3ZlciBkb2VzIG5vdCBkaXNtaXNzIHNpbmNlXG4gICAgICAgICAgICAgICAqIHdlIGp1c3QgY2xpY2tlZCBhIHRyaWdnZXIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGRpc21pc3NDYWxsYmFja3MuZm9yRWFjaCgoeyBldmVudE5hbWUsIGNhbGxiYWNrIH0pID0+IHBhcmVudENvbnRlbnRFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBkaXNtaXNzQ2FsbGJhY2tzLmZvckVhY2goKHsgZXZlbnROYW1lLCBjYWxsYmFjayB9KSA9PiBwYXJlbnRDb250ZW50RWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKSk7XG4gIH07XG59O1xuLyoqXG4gKiBDb25maWd1cmVzIHRoZSB0cmlnZ2VyRWwgdG8gcmVzcG9uZFxuICogdG8gdXNlciBpbnRlcmFjdGlvbiBiYXNlZCB1cG9uIHRoZSB0cmlnZ2VyQWN0aW9uXG4gKiBwcm9wIHRoYXQgZGV2cyBoYXZlIGRlZmluZWQuXG4gKi9cbmNvbnN0IGNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbiA9ICh0cmlnZ2VyRWwsIHRyaWdnZXJBY3Rpb24sIHBvcG92ZXJFbCkgPT4ge1xuICBsZXQgdHJpZ2dlckNhbGxiYWNrcyA9IFtdO1xuICAvKipcbiAgICogQmFzZWQgdXBvbiB0aGUga2luZCBvZiB0cmlnZ2VyIGludGVyYWN0aW9uXG4gICAqIHRoZSB1c2VyIHdhbnRzLCB3ZSBzZXR1cCB0aGUgY29ycmVjdCBldmVudFxuICAgKiBsaXN0ZW5lcnMuXG4gICAqL1xuICBzd2l0Y2ggKHRyaWdnZXJBY3Rpb24pIHtcbiAgICBjYXNlICdob3Zlcic6XG4gICAgICBsZXQgaG92ZXJUaW1lb3V0O1xuICAgICAgdHJpZ2dlckNhbGxiYWNrcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50TmFtZTogJ21vdXNlZW50ZXInLFxuICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoZXYpID0+IHtcbiAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgaWYgKGhvdmVyVGltZW91dCkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSG92ZXJpbmcgb3ZlciBhIHRyaWdnZXIgc2hvdWxkIG5vdFxuICAgICAgICAgICAgICogaW1tZWRpYXRlbHkgb3BlbiB0aGUgbmV4dCBwb3BvdmVyLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBob3ZlclRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2KTtcbiAgICAgICAgICAgICAgICBob3ZlclRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdtb3VzZWxlYXZlJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiB7XG4gICAgICAgICAgICBpZiAoaG92ZXJUaW1lb3V0KSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlclRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiBtb3VzZSBpcyBvdmVyIGFub3RoZXIgcG9wb3ZlclxuICAgICAgICAgICAgICogdGhhdCBpcyBub3QgdGhpcyBwb3BvdmVyIHRoZW4gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgKiBjbG9zZSB0aGlzIHBvcG92ZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJ2lvbi1wb3BvdmVyJykgIT09IHBvcG92ZXJFbCkge1xuICAgICAgICAgICAgICBwb3BvdmVyRWwuZGlzbWlzcyh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIHN0b3BQcm9wYWdhdGlvbiBoZXJlIHByZXZlbnRzIHRoZSBwb3BvdmVyXG4gICAgICAgICAgICogZnJvbSBkaXNtaXNzaW5nIHdoZW4gZGlzbWlzcy1vbi1zZWxlY3Q9XCJ0cnVlXCIuXG4gICAgICAgICAgICovXG4gICAgICAgICAgZXZlbnROYW1lOiAnY2xpY2snLFxuICAgICAgICAgIGNhbGxiYWNrOiAoZXYpID0+IGV2LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdpb25Qb3BvdmVyQWN0aXZhdGVUcmlnZ2VyJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2LCB0cnVlKVxuICAgICAgICB9XG4gICAgICBdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY29udGV4dC1tZW51JzpcbiAgICAgIHRyaWdnZXJDYWxsYmFja3MgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBldmVudE5hbWU6ICdjb250ZXh0bWVudScsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcmV2ZW50cyB0aGUgcGxhdGZvcm0gY29udGV4dFxuICAgICAgICAgICAgICogbWVudSBmcm9tIGFwcGVhcmluZy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHBvcG92ZXJFbC5wcmVzZW50RnJvbVRyaWdnZXIoZXYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiBldi5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSlcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NsaWNrJzpcbiAgICBkZWZhdWx0OlxuICAgICAgdHJpZ2dlckNhbGxiYWNrcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIERvIG5vdCBkbyBhIHN0b3BQcm9wYWdhdGlvbigpIGhlcmVcbiAgICAgICAgICAgKiBiZWNhdXNlIGlmIHlvdSBoYWQgdHdvIGNsaWNrIHRyaWdnZXJzXG4gICAgICAgICAgICogdGhlbiBjbGlja2luZyB0aGUgZmlyc3QgdHJpZ2dlciBhbmQgdGhlblxuICAgICAgICAgICAqIGNsaWNraW5nIHRoZSBzZWNvbmQgdHJpZ2dlciB3b3VsZCBub3QgY2F1c2VcbiAgICAgICAgICAgKiB0aGUgZmlyc3QgcG9wb3ZlciB0byBkaXNtaXNzLlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGV2ZW50TmFtZTogJ2NsaWNrJyxcbiAgICAgICAgICBjYWxsYmFjazogKGV2KSA9PiBwb3BvdmVyRWwucHJlc2VudEZyb21UcmlnZ2VyKGV2KVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZXZlbnROYW1lOiAnaW9uUG9wb3ZlckFjdGl2YXRlVHJpZ2dlcicsXG4gICAgICAgICAgY2FsbGJhY2s6IChldikgPT4gcG9wb3ZlckVsLnByZXNlbnRGcm9tVHJpZ2dlcihldiwgdHJ1ZSlcbiAgICAgICAgfVxuICAgICAgXTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHRyaWdnZXJDYWxsYmFja3MuZm9yRWFjaCgoeyBldmVudE5hbWUsIGNhbGxiYWNrIH0pID0+IHRyaWdnZXJFbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spKTtcbiAgdHJpZ2dlckVsLnNldEF0dHJpYnV0ZSgnZGF0YS1pb24tcG9wb3Zlci10cmlnZ2VyJywgJ3RydWUnKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICB0cmlnZ2VyQ2FsbGJhY2tzLmZvckVhY2goKHsgZXZlbnROYW1lLCBjYWxsYmFjayB9KSA9PiB0cmlnZ2VyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKSk7XG4gICAgdHJpZ2dlckVsLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1pb24tcG9wb3Zlci10cmlnZ2VyJyk7XG4gIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmRleCBvZiBhbiBpb24taXRlbSBpbiBhbiBhcnJheSBvZiBpb24taXRlbXMuXG4gKi9cbmNvbnN0IGdldEluZGV4T2ZJdGVtID0gKGl0ZW1zLCBpdGVtKSA9PiB7XG4gIGlmICghaXRlbSB8fCBpdGVtLnRhZ05hbWUgIT09ICdJT04tSVRFTScpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zLmZpbmRJbmRleChlbCA9PiBlbCA9PT0gaXRlbSk7XG59O1xuLyoqXG4gKiBHaXZlbiBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgYSBjdXJyZW50bHkgZm9jdXNlZCBpb24taXRlbVxuICogcmV0dXJucyB0aGUgbmV4dCBpb24taXRlbSByZWxhdGl2ZSB0byB0aGUgZm9jdXNlZCBvbmUgb3JcbiAqIHVuZGVmaW5lZC5cbiAqL1xuY29uc3QgZ2V0TmV4dEl0ZW0gPSAoaXRlbXMsIGN1cnJlbnRJdGVtKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRJdGVtSW5kZXggPSBnZXRJbmRleE9mSXRlbShpdGVtcywgY3VycmVudEl0ZW0pO1xuICByZXR1cm4gaXRlbXNbY3VycmVudEl0ZW1JbmRleCArIDFdO1xufTtcbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIGEgY3VycmVudGx5IGZvY3VzZWQgaW9uLWl0ZW1cbiAqIHJldHVybnMgdGhlIHByZXZpb3VzIGlvbi1pdGVtIHJlbGF0aXZlIHRvIHRoZSBmb2N1c2VkIG9uZSBvclxuICogdW5kZWZpbmVkLlxuICovXG5jb25zdCBnZXRQcmV2SXRlbSA9IChpdGVtcywgY3VycmVudEl0ZW0pID0+IHtcbiAgY29uc3QgY3VycmVudEl0ZW1JbmRleCA9IGdldEluZGV4T2ZJdGVtKGl0ZW1zLCBjdXJyZW50SXRlbSk7XG4gIHJldHVybiBpdGVtc1tjdXJyZW50SXRlbUluZGV4IC0gMV07XG59O1xuLyoqIEZvY3VzIHRoZSBpbnRlcm5hbCBidXR0b24gb2YgdGhlIGlvbi1pdGVtICovXG5jb25zdCBmb2N1c0l0ZW0gPSAoaXRlbSkgPT4ge1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoaXRlbSk7XG4gIGNvbnN0IGJ1dHRvbiA9IHJvb3QucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG4gIGlmIChidXR0b24pIHtcbiAgICByYWYoKCkgPT4gYnV0dG9uLmZvY3VzKCkpO1xuICB9XG59O1xuLyoqXG4gKiBSZXR1cm5zIGB0cnVlYCBpZiBgZWxgIGhhcyBiZWVuIGRlc2lnbmF0ZWRcbiAqIGFzIGEgdHJpZ2dlciBlbGVtZW50IGZvciBhbiBpb24tcG9wb3Zlci5cbiAqL1xuY29uc3QgaXNUcmlnZ2VyRWxlbWVudCA9IChlbCkgPT4gZWwuaGFzQXR0cmlidXRlKCdkYXRhLWlvbi1wb3BvdmVyLXRyaWdnZXInKTtcbmNvbnN0IGNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24gPSAocG9wb3ZlckVsKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrID0gYXN5bmMgKGV2KSA9PiB7XG4gICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgbGV0IGl0ZW1zID0gW107XG4gICAgLyoqXG4gICAgICogQ29tcGxleCBzZWxlY3RvcnMgd2l0aCA6bm90KCkgYXJlIDpub3Qgc3VwcG9ydGVkXG4gICAgICogaW4gb2xkZXIgdmVyc2lvbnMgb2YgQ2hyb21pdW0gc28gd2UgbmVlZCB0byBkbyBhXG4gICAgICogdHJ5L2NhdGNoIGhlcmUgc28gZXJyb3JzIGFyZSBub3QgdGhyb3duLlxuICAgICAqL1xuICAgIHRyeSB7XG4gICAgICAvKipcbiAgICAgICAqIFNlbGVjdCBhbGwgaW9uLWl0ZW1zIHRoYXQgYXJlIG5vdCBjaGlsZHJlbiBvZiBjaGlsZCBwb3BvdmVycy5cbiAgICAgICAqIGkuZS4gb25seSBzZWxlY3QgaW9uLWl0ZW0gZWxlbWVudHMgdGhhdCBhcmUgcGFydCBvZiB0aGlzIHBvcG92ZXJcbiAgICAgICAqL1xuICAgICAgaXRlbXMgPSBBcnJheS5mcm9tKHBvcG92ZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24taXRlbTpub3QoaW9uLXBvcG92ZXIgaW9uLXBvcG92ZXIgKik6bm90KFtkaXNhYmxlZF0pJykpO1xuICAgICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gICAgfVxuICAgIGNhdGNoIChfYSkgeyB9XG4gICAgc3dpdGNoIChldi5rZXkpIHtcbiAgICAgIC8qKlxuICAgICAgICogSWYgd2UgYXJlIGluIGEgY2hpbGQgcG9wb3ZlclxuICAgICAgICogdGhlbiBwcmVzc2luZyB0aGUgbGVmdCBhcnJvdyBrZXlcbiAgICAgICAqIHNob3VsZCBjbG9zZSB0aGlzIHBvcG92ZXIgYW5kIG1vdmVcbiAgICAgICAqIGZvY3VzIHRvIHRoZSBwb3BvdmVyIHRoYXQgcHJlc2VudGVkXG4gICAgICAgKiB0aGlzIG9uZS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgY29uc3QgcGFyZW50UG9wb3ZlciA9IGF3YWl0IHBvcG92ZXJFbC5nZXRQYXJlbnRQb3BvdmVyKCk7XG4gICAgICAgIGlmIChwYXJlbnRQb3BvdmVyKSB7XG4gICAgICAgICAgcG9wb3ZlckVsLmRpc21pc3ModW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIC8qKlxuICAgICAgICogQXJyb3dEb3duIHNob3VsZCBtb3ZlIGZvY3VzIHRvIHRoZSBuZXh0IGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgLy8gRGlzYWJsZSBtb3ZlbWVudC9zY3JvbGwgd2l0aCBrZXlib2FyZFxuICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBuZXh0SXRlbSA9IGdldE5leHRJdGVtKGl0ZW1zLCBhY3RpdmVFbGVtZW50KTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnN0cmljdC10eXBlLXByZWRpY2F0ZXNcbiAgICAgICAgaWYgKG5leHRJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb2N1c0l0ZW0obmV4dEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyoqXG4gICAgICAgKiBBcnJvd1VwIHNob3VsZCBtb3ZlIGZvY3VzIHRvIHRoZSBwcmV2aW91cyBmb2N1c2FibGUgaW9uLWl0ZW0uXG4gICAgICAgKi9cbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAvLyBEaXNhYmxlIG1vdmVtZW50L3Njcm9sbCB3aXRoIGtleWJvYXJkXG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IHByZXZJdGVtID0gZ2V0UHJldkl0ZW0oaXRlbXMsIGFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c3RyaWN0LXR5cGUtcHJlZGljYXRlc1xuICAgICAgICBpZiAocHJldkl0ZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGZvY3VzSXRlbShwcmV2SXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAvKipcbiAgICAgICAqIEhvbWUgc2hvdWxkIG1vdmUgZm9jdXMgdG8gdGhlIGZpcnN0IGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IGZpcnN0SXRlbSA9IGl0ZW1zWzBdO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c3RyaWN0LXR5cGUtcHJlZGljYXRlc1xuICAgICAgICBpZiAoZmlyc3RJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb2N1c0l0ZW0oZmlyc3RJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIC8qKlxuICAgICAgICogRW5kIHNob3VsZCBtb3ZlIGZvY3VzIHRvIHRoZSBsYXN0IGZvY3VzYWJsZSBpb24taXRlbS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnRW5kJzpcbiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbGFzdEl0ZW0gPSBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXTtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnN0cmljdC10eXBlLXByZWRpY2F0ZXNcbiAgICAgICAgaWYgKGxhc3RJdGVtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBmb2N1c0l0ZW0obGFzdEl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyoqXG4gICAgICAgKiBBcnJvd1JpZ2h0LCBTcGFjZWJhciwgb3IgRW50ZXIgc2hvdWxkIGFjdGl2YXRlXG4gICAgICAgKiB0aGUgY3VycmVudGx5IGZvY3VzZWQgdHJpZ2dlciBpdGVtIHRvIG9wZW4gYVxuICAgICAgICogcG9wb3ZlciBpZiB0aGUgZWxlbWVudCBpcyBhIHRyaWdnZXIgaXRlbS5cbiAgICAgICAqL1xuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQgJiYgaXNUcmlnZ2VyRWxlbWVudChhY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIGNvbnN0IHJpZ2h0RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2lvblBvcG92ZXJBY3RpdmF0ZVRyaWdnZXInKTtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQocmlnaHRFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9O1xuICBwb3BvdmVyRWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGNhbGxiYWNrKTtcbiAgcmV0dXJuICgpID0+IHBvcG92ZXJFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2FsbGJhY2spO1xufTtcbi8qKlxuICogUG9zaXRpb25zIGEgcG9wb3ZlciBieSB0YWtpbmcgaW50byBhY2NvdW50XG4gKiB0aGUgcmVmZXJlbmNlIHBvaW50LCBwcmVmZXJyZWQgc2lkZSwgYWxpZ25tZW50XG4gKiBhbmQgdmlld3BvcnQgZGltZW5zaW9ucy5cbiAqL1xuY29uc3QgZ2V0UG9wb3ZlclBvc2l0aW9uID0gKGlzUlRMLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LCByZWZlcmVuY2UsIHNpZGUsIGFsaWduLCBkZWZhdWx0UG9zaXRpb24sIHRyaWdnZXJFbCwgZXZlbnQpID0+IHtcbiAgdmFyIF9hO1xuICBsZXQgcmVmZXJlbmNlQ29vcmRpbmF0ZXMgPSB7XG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwXG4gIH07XG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlXG4gICAqIHgteSBjb29yZGluYXRlcyBpbiB0aGUgZXZlbnQgdGhhdFxuICAgKiB3YXMgcGFzc2VkIGluXG4gICAqL1xuICBzd2l0Y2ggKHJlZmVyZW5jZSkge1xuICAgIGNhc2UgJ2V2ZW50JzpcbiAgICAgIGlmICghZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRQb3NpdGlvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdXNlRXYgPSBldmVudDtcbiAgICAgIHJlZmVyZW5jZUNvb3JkaW5hdGVzID0ge1xuICAgICAgICB0b3A6IG1vdXNlRXYuY2xpZW50WSxcbiAgICAgICAgbGVmdDogbW91c2VFdi5jbGllbnRYLFxuICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgaGVpZ2h0OiAxXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBib3VuZGluZ1xuICAgICAqIGJveCBvbiBlaXRoZXIgdGhlIHRyaWdnZXIgZWxlbWVudFxuICAgICAqIHNwZWNpZmllZCB2aWEgdGhlIGB0cmlnZ2VyYCBwcm9wIG9yXG4gICAgICogdGhlIHRhcmdldCBzcGVjaWZpZWQgb24gdGhlIGV2ZW50XG4gICAgICogdGhhdCB3YXMgcGFzc2VkIGluLlxuICAgICAqL1xuICAgIGNhc2UgJ3RyaWdnZXInOlxuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zdCBjdXN0b21FdiA9IGV2ZW50O1xuICAgICAgLyoqXG4gICAgICAgKiBpb25TaGFkb3dUYXJnZXQgaXMgdXNlZCB3aGVuIHdlIG5lZWQgdG8gYWxpZ24gdGhlXG4gICAgICAgKiBwb3BvdmVyIHdpdGggYW4gZWxlbWVudCBpbnNpZGUgb2YgdGhlIHNoYWRvdyByb290XG4gICAgICAgKiBvZiBhbiBJb25pYyBjb21wb25lbnQuIEV4OiBQcmVzZW50aW5nIGEgcG9wb3ZlclxuICAgICAgICogYnkgY2xpY2tpbmcgb24gdGhlIGNvbGxhcHNlZCBpbmRpY2F0b3IgaW5zaWRlXG4gICAgICAgKiBvZiBgaW9uLWJyZWFkY3J1bWJgIGFuZCBjZW50ZXJpbmcgaXQgcmVsYXRpdmVcbiAgICAgICAqIHRvIHRoZSBpbmRpY2F0b3IgcmF0aGVyIHRoYW4gYGlvbi1icmVhZGNydW1iYFxuICAgICAgICogYXMgYSB3aG9sZS5cbiAgICAgICAqL1xuICAgICAgY29uc3QgYWN0dWFsVHJpZ2dlckVsID0gKHRyaWdnZXJFbCB8fCAoKF9hID0gY3VzdG9tRXYgPT09IG51bGwgfHwgY3VzdG9tRXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1c3RvbUV2LmRldGFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlvblNoYWRvd1RhcmdldCkgfHwgKGN1c3RvbUV2ID09PSBudWxsIHx8IGN1c3RvbUV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXN0b21Fdi50YXJnZXQpKTtcbiAgICAgIGlmICghYWN0dWFsVHJpZ2dlckVsKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0UG9zaXRpb247XG4gICAgICB9XG4gICAgICBjb25zdCB0cmlnZ2VyQm91bmRpbmdCb3ggPSBhY3R1YWxUcmlnZ2VyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICByZWZlcmVuY2VDb29yZGluYXRlcyA9IHtcbiAgICAgICAgdG9wOiB0cmlnZ2VyQm91bmRpbmdCb3gudG9wLFxuICAgICAgICBsZWZ0OiB0cmlnZ2VyQm91bmRpbmdCb3gubGVmdCxcbiAgICAgICAgd2lkdGg6IHRyaWdnZXJCb3VuZGluZ0JveC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0XG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gIH1cbiAgLyoqXG4gICAqIEdldCB0b3AvbGVmdCBvZmZzZXQgdGhhdCB3b3VsZCBhbGxvd1xuICAgKiBwb3BvdmVyIHRvIGJlIHBvc2l0aW9uZWQgb24gdGhlXG4gICAqIHByZWZlcnJlZCBzaWRlIG9mIHRoZSByZWZlcmVuY2UuXG4gICAqL1xuICBjb25zdCBjb29yZGluYXRlcyA9IGNhbGN1bGF0ZVBvcG92ZXJTaWRlKHNpZGUsIHJlZmVyZW5jZUNvb3JkaW5hdGVzLCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIGFycm93V2lkdGgsIGFycm93SGVpZ2h0LCBpc1JUTCk7XG4gIC8qKlxuICAgKiBHZXQgdGhlIHRvcC9sZWZ0IGFkanVzdG1lbnRzIHRoYXRcbiAgICogd291bGQgYWxsb3cgdGhlIHBvcG92ZXIgY29udGVudFxuICAgKiB0byBoYXZlIHRoZSBjb3JyZWN0IGFsaWdubWVudC5cbiAgICovXG4gIGNvbnN0IGFsaWduZWRDb29yZGluYXRlcyA9IGNhbGN1bGF0ZVBvcG92ZXJBbGlnbihhbGlnbiwgc2lkZSwgcmVmZXJlbmNlQ29vcmRpbmF0ZXMsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCk7XG4gIGNvbnN0IHRvcCA9IGNvb3JkaW5hdGVzLnRvcCArIGFsaWduZWRDb29yZGluYXRlcy50b3A7XG4gIGNvbnN0IGxlZnQgPSBjb29yZGluYXRlcy5sZWZ0ICsgYWxpZ25lZENvb3JkaW5hdGVzLmxlZnQ7XG4gIGNvbnN0IHsgYXJyb3dUb3AsIGFycm93TGVmdCB9ID0gY2FsY3VsYXRlQXJyb3dQb3NpdGlvbihzaWRlLCBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCwgdG9wLCBsZWZ0LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQsIGlzUlRMKTtcbiAgY29uc3QgeyBvcmlnaW5YLCBvcmlnaW5ZIH0gPSBjYWxjdWxhdGVQb3BvdmVyT3JpZ2luKHNpZGUsIGFsaWduLCBpc1JUTCk7XG4gIHJldHVybiB7IHRvcCwgbGVmdCwgcmVmZXJlbmNlQ29vcmRpbmF0ZXMsIGFycm93VG9wLCBhcnJvd0xlZnQsIG9yaWdpblgsIG9yaWdpblkgfTtcbn07XG4vKipcbiAqIERldGVybWluZXMgdGhlIHRyYW5zZm9ybS1vcmlnaW5cbiAqIG9mIHRoZSBwb3BvdmVyIGFuaW1hdGlvbiBzbyB0aGF0IGl0XG4gKiBpcyBpbiBsaW5lIHdpdGggd2hhdCB0aGUgc2lkZSBhbmQgYWxpZ25tZW50XG4gKiBwcm9wIHZhbHVlcyBhcmUuIEN1cnJlbnRseSBvbmx5IHVzZWRcbiAqIHdpdGggdGhlIE1EIGFuaW1hdGlvbi5cbiAqL1xuY29uc3QgY2FsY3VsYXRlUG9wb3Zlck9yaWdpbiA9IChzaWRlLCBhbGlnbiwgaXNSVEwpID0+IHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAndG9wJzpcbiAgICAgIHJldHVybiB7IG9yaWdpblg6IGdldE9yaWdpblhBbGlnbm1lbnQoYWxpZ24pLCBvcmlnaW5ZOiAnYm90dG9tJyB9O1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4geyBvcmlnaW5YOiBnZXRPcmlnaW5YQWxpZ25tZW50KGFsaWduKSwgb3JpZ2luWTogJ3RvcCcgfTtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHJldHVybiB7IG9yaWdpblg6ICdyaWdodCcsIG9yaWdpblk6IGdldE9yaWdpbllBbGlnbm1lbnQoYWxpZ24pIH07XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIHsgb3JpZ2luWDogJ2xlZnQnLCBvcmlnaW5ZOiBnZXRPcmlnaW5ZQWxpZ25tZW50KGFsaWduKSB9O1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIHJldHVybiB7IG9yaWdpblg6IChpc1JUTCkgPyAnbGVmdCcgOiAncmlnaHQnLCBvcmlnaW5ZOiBnZXRPcmlnaW5ZQWxpZ25tZW50KGFsaWduKSB9O1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4geyBvcmlnaW5YOiAoaXNSVEwpID8gJ3JpZ2h0JyA6ICdsZWZ0Jywgb3JpZ2luWTogZ2V0T3JpZ2luWUFsaWdubWVudChhbGlnbikgfTtcbiAgfVxufTtcbmNvbnN0IGdldE9yaWdpblhBbGlnbm1lbnQgPSAoYWxpZ24pID0+IHtcbiAgc3dpdGNoIChhbGlnbikge1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiAnY2VudGVyJztcbiAgICBjYXNlICdlbmQnOlxuICAgICAgcmV0dXJuICdyaWdodCc7XG4gIH1cbn07XG5jb25zdCBnZXRPcmlnaW5ZQWxpZ25tZW50ID0gKGFsaWduKSA9PiB7XG4gIHN3aXRjaCAoYWxpZ24pIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICByZXR1cm4gJ3RvcCc7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiAnY2VudGVyJztcbiAgICBjYXNlICdlbmQnOlxuICAgICAgcmV0dXJuICdib3R0b20nO1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGVzIHdoZXJlIHRoZSBhcnJvdyBwb3NpdGlvbmluZ1xuICogc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBwb3BvdmVyIGNvbnRlbnQuXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZUFycm93UG9zaXRpb24gPSAoc2lkZSwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIHRvcCwgbGVmdCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBpc1JUTCkgPT4ge1xuICAvKipcbiAgICogTm90ZTogV2hlbiBzaWRlIGlzIGxlZnQsIHJpZ2h0LCBzdGFydCwgb3IgZW5kLCB0aGUgYXJyb3cgaXNcbiAgICogYmVlbiByb3RhdGVkIHVzaW5nIGEgYHRyYW5zZm9ybWAsIHNvIHRvIG1vdmUgdGhlIGFycm93IHVwIG9yIGRvd25cbiAgICogYnkgaXRzIGRpbWVuc2lvbiwgeW91IG5lZWQgdG8gdXNlIGBhcnJvd1dpZHRoYC5cbiAgICovXG4gIGNvbnN0IGxlZnRQb3NpdGlvbiA9IHsgYXJyb3dUb3A6IHRvcCArIChjb250ZW50SGVpZ2h0IC8gMikgLSAoYXJyb3dXaWR0aCAvIDIpLCBhcnJvd0xlZnQ6IGxlZnQgKyBjb250ZW50V2lkdGggLSAoYXJyb3dXaWR0aCAvIDIpIH07XG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBhcnJvdyB0byB0aGUgbGVmdCBieSBhcnJvd1dpZHRoIGFuZCB0aGVuXG4gICAqIGFnYWluIGJ5IGhhbGYgb2YgaXRzIHdpZHRoIGJlY2F1c2Ugd2UgaGF2ZSByb3RhdGVkXG4gICAqIHRoZSBhcnJvdyB1c2luZyBhIHRyYW5zZm9ybS5cbiAgICovXG4gIGNvbnN0IHJpZ2h0UG9zaXRpb24gPSB7IGFycm93VG9wOiB0b3AgKyAoY29udGVudEhlaWdodCAvIDIpIC0gKGFycm93V2lkdGggLyAyKSwgYXJyb3dMZWZ0OiBsZWZ0IC0gKGFycm93V2lkdGggKiAxLjUpIH07XG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICByZXR1cm4geyBhcnJvd1RvcDogdG9wICsgY29udGVudEhlaWdodCwgYXJyb3dMZWZ0OiBsZWZ0ICsgKGNvbnRlbnRXaWR0aCAvIDIpIC0gKGFycm93V2lkdGggLyAyKSB9O1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4geyBhcnJvd1RvcDogdG9wIC0gYXJyb3dIZWlnaHQsIGFycm93TGVmdDogbGVmdCArIChjb250ZW50V2lkdGggLyAyKSAtIChhcnJvd1dpZHRoIC8gMikgfTtcbiAgICBjYXNlICdsZWZ0JzpcbiAgICAgIHJldHVybiBsZWZ0UG9zaXRpb247XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIHJpZ2h0UG9zaXRpb247XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgICAgcmV0dXJuIChpc1JUTCkgPyByaWdodFBvc2l0aW9uIDogbGVmdFBvc2l0aW9uO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4gKGlzUlRMKSA/IGxlZnRQb3NpdGlvbiA6IHJpZ2h0UG9zaXRpb247XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IGFycm93VG9wOiAwLCBhcnJvd0xlZnQ6IDAgfTtcbiAgfVxufTtcbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgcmVxdWlyZWQgdG9wL2xlZnRcbiAqIHZhbHVlcyBuZWVkZWQgdG8gcG9zaXRpb24gdGhlIHBvcG92ZXJcbiAqIGNvbnRlbnQgb24gdGhlIHNpZGUgc3BlY2lmaWVkIGluIHRoZVxuICogYHNpZGVgIHByb3AuXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZVBvcG92ZXJTaWRlID0gKHNpZGUsIHRyaWdnZXJCb3VuZGluZ0JveCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBhcnJvd1dpZHRoLCBhcnJvd0hlaWdodCwgaXNSVEwpID0+IHtcbiAgY29uc3Qgc2lkZUxlZnQgPSB7XG4gICAgdG9wOiB0cmlnZ2VyQm91bmRpbmdCb3gudG9wLFxuICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0IC0gY29udGVudFdpZHRoIC0gYXJyb3dXaWR0aFxuICB9O1xuICBjb25zdCBzaWRlUmlnaHQgPSB7XG4gICAgdG9wOiB0cmlnZ2VyQm91bmRpbmdCb3gudG9wLFxuICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0ICsgdHJpZ2dlckJvdW5kaW5nQm94LndpZHRoICsgYXJyb3dXaWR0aFxuICB9O1xuICBzd2l0Y2ggKHNpZGUpIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0cmlnZ2VyQm91bmRpbmdCb3gudG9wIC0gY29udGVudEhlaWdodCAtIGFycm93SGVpZ2h0LFxuICAgICAgICBsZWZ0OiB0cmlnZ2VyQm91bmRpbmdCb3gubGVmdFxuICAgICAgfTtcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICByZXR1cm4gc2lkZVJpZ2h0O1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRyaWdnZXJCb3VuZGluZ0JveC50b3AgKyB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0ICsgYXJyb3dIZWlnaHQsXG4gICAgICAgIGxlZnQ6IHRyaWdnZXJCb3VuZGluZ0JveC5sZWZ0XG4gICAgICB9O1xuICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgcmV0dXJuIHNpZGVMZWZ0O1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIHJldHVybiAoaXNSVEwpID8gc2lkZVJpZ2h0IDogc2lkZUxlZnQ7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiAoaXNSVEwpID8gc2lkZUxlZnQgOiBzaWRlUmlnaHQ7XG4gIH1cbn07XG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHJlcXVpcmVkIHRvcC9sZWZ0XG4gKiBvZmZzZXQgdmFsdWVzIG5lZWRlZCB0byBwcm92aWRlIHRoZVxuICogY29ycmVjdCBhbGlnbm1lbnQgcmVnYXJkbGVzcyB3aGlsZSB0YWtpbmdcbiAqIGludG8gYWNjb3VudCB0aGUgc2lkZSB0aGUgcG9wb3ZlciBpcyBvbi5cbiAqL1xuY29uc3QgY2FsY3VsYXRlUG9wb3ZlckFsaWduID0gKGFsaWduLCBzaWRlLCB0cmlnZ2VyQm91bmRpbmdCb3gsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCkgPT4ge1xuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ24oc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpO1xuICAgIGNhc2UgJ2VuZCc6XG4gICAgICByZXR1cm4gY2FsY3VsYXRlUG9wb3ZlckVuZEFsaWduKHNpZGUsIHRyaWdnZXJCb3VuZGluZ0JveCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KTtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGVuZCBhbGlnbm1lbnQgZm9yXG4gKiB0aGUgcG9wb3Zlci4gSWYgc2lkZSBpcyBvbiB0aGUgeC1heGlzXG4gKiB0aGVuIHRoZSBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIHRvcFxuICogYW5kIGJvdHRvbSBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICogSWYgc2lkZSBpcyBvbiB0aGUgeS1heGlzIHRoZW4gdGhlXG4gKiBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gKiBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyRW5kQWxpZ24gPSAoc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgIGNhc2UgJ2VuZCc6XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAtKGNvbnRlbnRIZWlnaHQgLSB0cmlnZ2VyQm91bmRpbmdCb3guaGVpZ2h0KSxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfTtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogLShjb250ZW50V2lkdGggLSB0cmlnZ2VyQm91bmRpbmdCb3gud2lkdGgpXG4gICAgICB9O1xuICB9XG59O1xuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGNlbnRlciBhbGlnbm1lbnQgZm9yXG4gKiB0aGUgcG9wb3Zlci4gSWYgc2lkZSBpcyBvbiB0aGUgeC1heGlzXG4gKiB0aGVuIHRoZSBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIHRvcFxuICogYW5kIGJvdHRvbSBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICogSWYgc2lkZSBpcyBvbiB0aGUgeS1heGlzIHRoZW4gdGhlXG4gKiBhbGlnbiB2YWx1ZXMgcmVmZXIgdG8gdGhlIGxlZnQgYW5kIHJpZ2h0XG4gKiBtYXJnaW5zIG9mIHRoZSBjb250ZW50LlxuICovXG5jb25zdCBjYWxjdWxhdGVQb3BvdmVyQ2VudGVyQWxpZ24gPSAoc2lkZSwgdHJpZ2dlckJvdW5kaW5nQm94LCBjb250ZW50V2lkdGgsIGNvbnRlbnRIZWlnaHQpID0+IHtcbiAgc3dpdGNoIChzaWRlKSB7XG4gICAgY2FzZSAnc3RhcnQnOlxuICAgIGNhc2UgJ2VuZCc6XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgY2FzZSAncmlnaHQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAtKChjb250ZW50SGVpZ2h0IC8gMikgLSAodHJpZ2dlckJvdW5kaW5nQm94LmhlaWdodCAvIDIpKSxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfTtcbiAgICBjYXNlICd0b3AnOlxuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogLSgoY29udGVudFdpZHRoIC8gMikgLSAodHJpZ2dlckJvdW5kaW5nQm94LndpZHRoIC8gMikpXG4gICAgICB9O1xuICB9XG59O1xuLyoqXG4gKiBBZGp1c3RzIHBvcG92ZXIgcG9zaXRpb25pbmcgY29vcmRpbmF0ZXNcbiAqIHN1Y2ggdGhhdCBwb3BvdmVyIGRvZXMgbm90IGFwcGVhciBvZmZzY3JlZW5cbiAqIG9yIG92ZXJsYXBwaW5nIHNhZmUgYXJlYSBib3VuZHMuXG4gKi9cbmNvbnN0IGNhbGN1bGF0ZVdpbmRvd0FkanVzdG1lbnQgPSAoc2lkZSwgY29vcmRUb3AsIGNvb3JkTGVmdCwgYm9keVBhZGRpbmcsIGJvZHlXaWR0aCwgYm9keUhlaWdodCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCBzYWZlQXJlYU1hcmdpbiwgY29udGVudE9yaWdpblgsIGNvbnRlbnRPcmlnaW5ZLCB0cmlnZ2VyQ29vcmRpbmF0ZXMsIGNvb3JkQXJyb3dUb3AgPSAwLCBjb29yZEFycm93TGVmdCA9IDAsIGFycm93SGVpZ2h0ID0gMCkgPT4ge1xuICBsZXQgYXJyb3dUb3AgPSBjb29yZEFycm93VG9wO1xuICBjb25zdCBhcnJvd0xlZnQgPSBjb29yZEFycm93TGVmdDtcbiAgbGV0IGxlZnQgPSBjb29yZExlZnQ7XG4gIGxldCB0b3AgPSBjb29yZFRvcDtcbiAgbGV0IGJvdHRvbTtcbiAgbGV0IG9yaWdpblggPSBjb250ZW50T3JpZ2luWDtcbiAgbGV0IG9yaWdpblkgPSBjb250ZW50T3JpZ2luWTtcbiAgbGV0IGNoZWNrU2FmZUFyZWFMZWZ0ID0gZmFsc2U7XG4gIGxldCBjaGVja1NhZmVBcmVhUmlnaHQgPSBmYWxzZTtcbiAgY29uc3QgdHJpZ2dlclRvcCA9IHRyaWdnZXJDb29yZGluYXRlcyA/IHRyaWdnZXJDb29yZGluYXRlcy50b3AgKyB0cmlnZ2VyQ29vcmRpbmF0ZXMuaGVpZ2h0IDogYm9keUhlaWdodCAvIDIgLSBjb250ZW50SGVpZ2h0IC8gMjtcbiAgY29uc3QgdHJpZ2dlckhlaWdodCA9IHRyaWdnZXJDb29yZGluYXRlcyA/IHRyaWdnZXJDb29yZGluYXRlcy5oZWlnaHQgOiAwO1xuICBsZXQgYWRkUG9wb3ZlckJvdHRvbUNsYXNzID0gZmFsc2U7XG4gIC8qKlxuICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgKiBnbyBvZmYgdGhlIGxlZnQgb2YgdGhlIHNjcmVlbi5cbiAgICovXG4gIGlmIChsZWZ0IDwgYm9keVBhZGRpbmcgKyBzYWZlQXJlYU1hcmdpbikge1xuICAgIGxlZnQgPSBib2R5UGFkZGluZztcbiAgICBjaGVja1NhZmVBcmVhTGVmdCA9IHRydWU7XG4gICAgb3JpZ2luWCA9ICdsZWZ0JztcbiAgICAvKipcbiAgICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgICAqIGdvIG9mZiB0aGUgcmlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgfVxuICBlbHNlIGlmIChjb250ZW50V2lkdGggKyBib2R5UGFkZGluZyArIGxlZnQgKyBzYWZlQXJlYU1hcmdpbiA+IGJvZHlXaWR0aCkge1xuICAgIGNoZWNrU2FmZUFyZWFSaWdodCA9IHRydWU7XG4gICAgbGVmdCA9IGJvZHlXaWR0aCAtIGNvbnRlbnRXaWR0aCAtIGJvZHlQYWRkaW5nO1xuICAgIG9yaWdpblggPSAncmlnaHQnO1xuICB9XG4gIC8qKlxuICAgKiBBZGp1c3QgcG9wb3ZlciBzbyBpdCBkb2VzIG5vdFxuICAgKiBnbyBvZmYgdGhlIHRvcCBvZiB0aGUgc2NyZWVuLlxuICAgKiBJZiBwb3BvdmVyIGlzIG9uIHRoZSBsZWZ0IG9yIHRoZSByaWdodCBvZlxuICAgKiB0aGUgdHJpZ2dlciwgdGhlbiB3ZSBzaG91bGQgbm90IGFkanVzdCB0b3BcbiAgICogbWFyZ2lucy5cbiAgICovXG4gIGlmICh0cmlnZ2VyVG9wICsgdHJpZ2dlckhlaWdodCArIGNvbnRlbnRIZWlnaHQgPiBib2R5SGVpZ2h0ICYmXG4gICAgKHNpZGUgPT09ICd0b3AnIHx8IHNpZGUgPT09ICdib3R0b20nKSkge1xuICAgIGlmICh0cmlnZ2VyVG9wIC0gY29udGVudEhlaWdodCA+IDApIHtcbiAgICAgIHRvcCA9IHRyaWdnZXJUb3AgLSBjb250ZW50SGVpZ2h0IC0gdHJpZ2dlckhlaWdodCAtIChhcnJvd0hlaWdodCAtIDEpO1xuICAgICAgYXJyb3dUb3AgPSB0b3AgKyBjb250ZW50SGVpZ2h0O1xuICAgICAgb3JpZ2luWSA9ICdib3R0b20nO1xuICAgICAgYWRkUG9wb3ZlckJvdHRvbUNsYXNzID0gdHJ1ZTtcbiAgICAgIC8qKlxuICAgICAgICogSWYgbm90IGVub3VnaCByb29tIGZvciBwb3BvdmVyIHRvIGFwcGVhclxuICAgICAgICogYWJvdmUgdHJpZ2dlciwgdGhlbiBjdXQgaXQgb2ZmLlxuICAgICAgICovXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYm90dG9tID0gYm9keVBhZGRpbmc7XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHRvcCwgbGVmdCwgYm90dG9tLCBvcmlnaW5YLCBvcmlnaW5ZLCBjaGVja1NhZmVBcmVhTGVmdCwgY2hlY2tTYWZlQXJlYVJpZ2h0LCBhcnJvd1RvcCwgYXJyb3dMZWZ0LCBhZGRQb3BvdmVyQm90dG9tQ2xhc3MgfTtcbn07XG5jb25zdCBzaG91bGRTaG93QXJyb3cgPSAoc2lkZSwgZGlkQWRqdXN0Qm91bmRzID0gZmFsc2UsIGV2LCB0cmlnZ2VyKSA9PiB7XG4gIC8qKlxuICAgKiBJZiBubyBldmVudCBwcm92aWRlZCBhbmRcbiAgICogd2UgZG8gbm90IGhhdmUgYSB0cmlnZ2VyLFxuICAgKiB0aGVuIHRoaXMgcG9wb3ZlciB3YXMgbGlrZWx5XG4gICAqIHByZXNlbnRlZCB2aWEgdGhlIHBvcG92ZXJDb250cm9sbGVyXG4gICAqIG9yIHVzZXJzIGNhbGxlZCBgcHJlc2VudGAgbWFudWFsbHkuXG4gICAqIEluIHRoaXMgY2FzZSwgdGhlIGFycm93IHNob3VsZCBub3QgYmVcbiAgICogc2hvd24gYXMgd2UgZG8gbm90IGhhdmUgYSByZWZlcmVuY2UuXG4gICAqL1xuICBpZiAoIWV2ICYmICF0cmlnZ2VyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBJZiBwb3BvdmVyIGlzIG9uIHRoZSBsZWZ0IG9yIHRoZSByaWdodFxuICAgKiBvZiBhIHRyaWdnZXIsIGJ1dCB3ZSBuZWVkZWQgdG8gYWRqdXN0IHRoZVxuICAgKiBwb3BvdmVyIGR1ZSB0byBzY3JlZW4gYm91bmRzLCB0aGVuIHdlIHNob3VsZFxuICAgKiBoaWRlIHRoZSBhcnJvdyBhcyBpdCB3aWxsIG5ldmVyIGJlIHBvaW50aW5nXG4gICAqIGF0IHRoZSB0cmlnZ2VyLlxuICAgKi9cbiAgaWYgKHNpZGUgIT09ICd0b3AnICYmIHNpZGUgIT09ICdib3R0b20nICYmIGRpZEFkanVzdEJvdW5kcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IFBPUE9WRVJfSU9TX0JPRFlfUEFERElORyA9IDU7XG4vKipcbiAqIGlPUyBQb3BvdmVyIEVudGVyIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NFbnRlckFuaW1hdGlvbiQxID0gKGJhc2VFbCwgb3B0cykgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IHsgZXZlbnQ6IGV2LCBzaXplLCB0cmlnZ2VyLCByZWZlcmVuY2UsIHNpZGUsIGFsaWduIH0gPSBvcHRzO1xuICBjb25zdCBkb2MgPSBiYXNlRWwub3duZXJEb2N1bWVudDtcbiAgY29uc3QgaXNSVEwgPSBkb2MuZGlyID09PSAncnRsJztcbiAgY29uc3QgYm9keVdpZHRoID0gZG9jLmRlZmF1bHRWaWV3LmlubmVyV2lkdGg7XG4gIGNvbnN0IGJvZHlIZWlnaHQgPSBkb2MuZGVmYXVsdFZpZXcuaW5uZXJIZWlnaHQ7XG4gIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICBjb25zdCBjb250ZW50RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWNvbnRlbnQnKTtcbiAgY29uc3QgYXJyb3dFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItYXJyb3cnKTtcbiAgY29uc3QgcmVmZXJlbmNlU2l6ZUVsID0gdHJpZ2dlciB8fCAoKF9hID0gZXYgPT09IG51bGwgfHwgZXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2LmRldGFpbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlvblNoYWRvd1RhcmdldCkgfHwgKGV2ID09PSBudWxsIHx8IGV2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldi50YXJnZXQpO1xuICBjb25zdCB7IGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCB9ID0gZ2V0UG9wb3ZlckRpbWVuc2lvbnMoc2l6ZSwgY29udGVudEVsLCByZWZlcmVuY2VTaXplRWwpO1xuICBjb25zdCB7IGFycm93V2lkdGgsIGFycm93SGVpZ2h0IH0gPSBnZXRBcnJvd0RpbWVuc2lvbnMoYXJyb3dFbCk7XG4gIGNvbnN0IGRlZmF1bHRQb3NpdGlvbiA9IHtcbiAgICB0b3A6IGJvZHlIZWlnaHQgLyAyIC0gY29udGVudEhlaWdodCAvIDIsXG4gICAgbGVmdDogYm9keVdpZHRoIC8gMiAtIGNvbnRlbnRXaWR0aCAvIDIsXG4gICAgb3JpZ2luWDogaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnLFxuICAgIG9yaWdpblk6ICd0b3AnXG4gIH07XG4gIGNvbnN0IHJlc3VsdHMgPSBnZXRQb3BvdmVyUG9zaXRpb24oaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgYXJyb3dXaWR0aCwgYXJyb3dIZWlnaHQsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24sIGRlZmF1bHRQb3NpdGlvbiwgdHJpZ2dlciwgZXYpO1xuICBjb25zdCBwYWRkaW5nID0gc2l6ZSA9PT0gJ2NvdmVyJyA/IDAgOiBQT1BPVkVSX0lPU19CT0RZX1BBRERJTkc7XG4gIGNvbnN0IG1hcmdpbiA9IHNpemUgPT09ICdjb3ZlcicgPyAwIDogMjU7XG4gIGNvbnN0IHsgb3JpZ2luWCwgb3JpZ2luWSwgdG9wLCBsZWZ0LCBib3R0b20sIGNoZWNrU2FmZUFyZWFMZWZ0LCBjaGVja1NhZmVBcmVhUmlnaHQsIGFycm93VG9wLCBhcnJvd0xlZnQsIGFkZFBvcG92ZXJCb3R0b21DbGFzcyB9ID0gY2FsY3VsYXRlV2luZG93QWRqdXN0bWVudChzaWRlLCByZXN1bHRzLnRvcCwgcmVzdWx0cy5sZWZ0LCBwYWRkaW5nLCBib2R5V2lkdGgsIGJvZHlIZWlnaHQsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgbWFyZ2luLCByZXN1bHRzLm9yaWdpblgsIHJlc3VsdHMub3JpZ2luWSwgcmVzdWx0cy5yZWZlcmVuY2VDb29yZGluYXRlcywgcmVzdWx0cy5hcnJvd1RvcCwgcmVzdWx0cy5hcnJvd0xlZnQsIGFycm93SGVpZ2h0KTtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBiYWNrZHJvcEFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuMDEsIDEpO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2Vhc2UnKVxuICAgIC5kdXJhdGlvbigxMDApXG4gICAgLmJlZm9yZUFkZFdyaXRlKCgpID0+IHtcbiAgICBpZiAoc2l6ZSA9PT0gJ2NvdmVyJykge1xuICAgICAgYmFzZUVsLnN0eWxlLnNldFByb3BlcnR5KCctLXdpZHRoJywgYCR7Y29udGVudFdpZHRofXB4YCk7XG4gICAgfVxuICAgIGlmIChhZGRQb3BvdmVyQm90dG9tQ2xhc3MpIHtcbiAgICAgIGJhc2VFbC5jbGFzc0xpc3QuYWRkKCdwb3BvdmVyLWJvdHRvbScpO1xuICAgIH1cbiAgICBpZiAoYm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnYm90dG9tJywgYCR7Ym90dG9tfXB4YCk7XG4gICAgfVxuICAgIGNvbnN0IHNhZmVBcmVhTGVmdCA9ICcgKyB2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQsIDApJztcbiAgICBjb25zdCBzYWZlQXJlYVJpZ2h0ID0gJyAtIHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQsIDApJztcbiAgICBsZXQgbGVmdFZhbHVlID0gYCR7bGVmdH1weGA7XG4gICAgaWYgKGNoZWNrU2FmZUFyZWFMZWZ0KSB7XG4gICAgICBsZWZ0VmFsdWUgPSBgJHtsZWZ0fXB4JHtzYWZlQXJlYUxlZnR9YDtcbiAgICB9XG4gICAgaWYgKGNoZWNrU2FmZUFyZWFSaWdodCkge1xuICAgICAgbGVmdFZhbHVlID0gYCR7bGVmdH1weCR7c2FmZUFyZWFSaWdodH1gO1xuICAgIH1cbiAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RvcCcsIGBjYWxjKCR7dG9wfXB4ICsgdmFyKC0tb2Zmc2V0LXksIDApKWApO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnbGVmdCcsIGBjYWxjKCR7bGVmdFZhbHVlfSArIHZhcigtLW9mZnNldC14LCAwKSlgKTtcbiAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ3RyYW5zZm9ybS1vcmlnaW4nLCBgJHtvcmlnaW5ZfSAke29yaWdpblh9YCk7XG4gICAgaWYgKGFycm93RWwgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRpZEFkanVzdEJvdW5kcyA9IHJlc3VsdHMudG9wICE9PSB0b3AgfHwgcmVzdWx0cy5sZWZ0ICE9PSBsZWZ0O1xuICAgICAgY29uc3Qgc2hvd0Fycm93ID0gc2hvdWxkU2hvd0Fycm93KHNpZGUsIGRpZEFkanVzdEJvdW5kcywgZXYsIHRyaWdnZXIpO1xuICAgICAgaWYgKHNob3dBcnJvdykge1xuICAgICAgICBhcnJvd0VsLnN0eWxlLnNldFByb3BlcnR5KCd0b3AnLCBgY2FsYygke2Fycm93VG9wfXB4ICsgdmFyKC0tb2Zmc2V0LXksIDApKWApO1xuICAgICAgICBhcnJvd0VsLnN0eWxlLnNldFByb3BlcnR5KCdsZWZ0JywgYGNhbGMoJHthcnJvd0xlZnR9cHggKyB2YXIoLS1vZmZzZXQteCwgMCkpYCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYXJyb3dFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG4gICAgfVxuICB9KVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG4vKipcbiAqIGlPUyBQb3BvdmVyIExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NMZWF2ZUFuaW1hdGlvbiQxID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gIGNvbnN0IGFycm93RWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy5wb3BvdmVyLWFycm93Jyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2Vhc2UnKVxuICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICBiYXNlRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0td2lkdGgnKTtcbiAgICBiYXNlRWwuY2xhc3NMaXN0LnJlbW92ZSgncG9wb3Zlci1ib3R0b20nKTtcbiAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYm90dG9tJyk7XG4gICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2Zvcm0tb3JpZ2luJyk7XG4gICAgaWYgKGFycm93RWwpIHtcbiAgICAgIGFycm93RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgICAgYXJyb3dFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICAgIH1cbiAgfSlcbiAgICAuZHVyYXRpb24oMzAwKVxuICAgIC5hZGRBbmltYXRpb24oW2JhY2tkcm9wQW5pbWF0aW9uLCB3cmFwcGVyQW5pbWF0aW9uXSk7XG59O1xuXG5jb25zdCBQT1BPVkVSX01EX0JPRFlfUEFERElORyA9IDEyO1xuLyoqXG4gKiBNZCBQb3BvdmVyIEVudGVyIEFuaW1hdGlvblxuICovXG5jb25zdCBtZEVudGVyQW5pbWF0aW9uJDEgPSAoYmFzZUVsLCBvcHRzKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBldmVudDogZXYsIHNpemUsIHRyaWdnZXIsIHJlZmVyZW5jZSwgc2lkZSwgYWxpZ24gfSA9IG9wdHM7XG4gIGNvbnN0IGRvYyA9IGJhc2VFbC5vd25lckRvY3VtZW50O1xuICBjb25zdCBpc1JUTCA9IGRvYy5kaXIgPT09ICdydGwnO1xuICBjb25zdCBib2R5V2lkdGggPSBkb2MuZGVmYXVsdFZpZXcuaW5uZXJXaWR0aDtcbiAgY29uc3QgYm9keUhlaWdodCA9IGRvYy5kZWZhdWx0Vmlldy5pbm5lckhlaWdodDtcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IGNvbnRlbnRFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItY29udGVudCcpO1xuICBjb25zdCByZWZlcmVuY2VTaXplRWwgPSB0cmlnZ2VyIHx8ICgoX2EgPSBldiA9PT0gbnVsbCB8fCBldiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXYuZGV0YWlsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW9uU2hhZG93VGFyZ2V0KSB8fCAoZXYgPT09IG51bGwgfHwgZXYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV2LnRhcmdldCk7XG4gIGNvbnN0IHsgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0IH0gPSBnZXRQb3BvdmVyRGltZW5zaW9ucyhzaXplLCBjb250ZW50RWwsIHJlZmVyZW5jZVNpemVFbCk7XG4gIGNvbnN0IGRlZmF1bHRQb3NpdGlvbiA9IHtcbiAgICB0b3A6IGJvZHlIZWlnaHQgLyAyIC0gY29udGVudEhlaWdodCAvIDIsXG4gICAgbGVmdDogYm9keVdpZHRoIC8gMiAtIGNvbnRlbnRXaWR0aCAvIDIsXG4gICAgb3JpZ2luWDogaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnLFxuICAgIG9yaWdpblk6ICd0b3AnXG4gIH07XG4gIGNvbnN0IHJlc3VsdHMgPSBnZXRQb3BvdmVyUG9zaXRpb24oaXNSVEwsIGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgMCwgMCwgcmVmZXJlbmNlLCBzaWRlLCBhbGlnbiwgZGVmYXVsdFBvc2l0aW9uLCB0cmlnZ2VyLCBldik7XG4gIGNvbnN0IHBhZGRpbmcgPSBzaXplID09PSAnY292ZXInID8gMCA6IFBPUE9WRVJfTURfQk9EWV9QQURESU5HO1xuICBjb25zdCB7IG9yaWdpblgsIG9yaWdpblksIHRvcCwgbGVmdCwgYm90dG9tIH0gPSBjYWxjdWxhdGVXaW5kb3dBZGp1c3RtZW50KHNpZGUsIHJlc3VsdHMudG9wLCByZXN1bHRzLmxlZnQsIHBhZGRpbmcsIGJvZHlXaWR0aCwgYm9keUhlaWdodCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0LCAwLCByZXN1bHRzLm9yaWdpblgsIHJlc3VsdHMub3JpZ2luWSwgcmVzdWx0cy5yZWZlcmVuY2VDb29yZGluYXRlcyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCBjb250ZW50QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHZpZXdwb3J0QW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGJhY2tkcm9wQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tYmFja2Ryb3AnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgJ3ZhcigtLWJhY2tkcm9wLW9wYWNpdHkpJylcbiAgICAuYmVmb3JlU3R5bGVzKHtcbiAgICAncG9pbnRlci1ldmVudHMnOiAnbm9uZSdcbiAgfSlcbiAgICAuYWZ0ZXJDbGVhclN0eWxlcyhbJ3BvaW50ZXItZXZlbnRzJ10pO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpXG4gICAgLmR1cmF0aW9uKDE1MClcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gIGNvbnRlbnRBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudChjb250ZW50RWwpXG4gICAgLmJlZm9yZVN0eWxlcyh7XG4gICAgJ3RvcCc6IGBjYWxjKCR7dG9wfXB4ICsgdmFyKC0tb2Zmc2V0LXksIDBweCkpYCxcbiAgICAnbGVmdCc6IGBjYWxjKCR7bGVmdH1weCArIHZhcigtLW9mZnNldC14LCAwcHgpKWAsXG4gICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBgJHtvcmlnaW5ZfSAke29yaWdpblh9YFxuICB9KVxuICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgaWYgKGJvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb250ZW50RWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JvdHRvbScsIGAke2JvdHRvbX1weGApO1xuICAgIH1cbiAgfSlcbiAgICAuZnJvbVRvKCd0cmFuc2Zvcm0nLCAnc2NhbGUoMC44KScsICdzY2FsZSgxKScpO1xuICB2aWV3cG9ydEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignLnBvcG92ZXItdmlld3BvcnQnKSlcbiAgICAuZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gIHJldHVybiBiYXNlQW5pbWF0aW9uXG4gICAgLmVhc2luZygnY3ViaWMtYmV6aWVyKDAuMzYsMC42NiwwLjA0LDEpJylcbiAgICAuZHVyYXRpb24oMzAwKVxuICAgIC5iZWZvcmVBZGRXcml0ZSgoKSA9PiB7XG4gICAgaWYgKHNpemUgPT09ICdjb3ZlcicpIHtcbiAgICAgIGJhc2VFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS13aWR0aCcsIGAke2NvbnRlbnRXaWR0aH1weGApO1xuICAgIH1cbiAgICBpZiAob3JpZ2luWSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgIGJhc2VFbC5jbGFzc0xpc3QuYWRkKCdwb3BvdmVyLWJvdHRvbScpO1xuICAgIH1cbiAgfSlcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbiwgY29udGVudEFuaW1hdGlvbiwgdmlld3BvcnRBbmltYXRpb25dKTtcbn07XG5cbi8qKlxuICogTWQgUG9wb3ZlciBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiQxID0gKGJhc2VFbCkgPT4ge1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3QgY29udGVudEVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci1jb250ZW50Jyk7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3QgYmFja2Ryb3BBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBiYWNrZHJvcEFuaW1hdGlvblxuICAgIC5hZGRFbGVtZW50KHJvb3QucXVlcnlTZWxlY3RvcignaW9uLWJhY2tkcm9wJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsICd2YXIoLS1iYWNrZHJvcC1vcGFjaXR5KScsIDApO1xuICB3cmFwcGVyQW5pbWF0aW9uXG4gICAgLmFkZEVsZW1lbnQocm9vdC5xdWVyeVNlbGVjdG9yKCcucG9wb3Zlci13cmFwcGVyJykpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2Vhc2UnKVxuICAgIC5hZnRlckFkZFdyaXRlKCgpID0+IHtcbiAgICBiYXNlRWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0td2lkdGgnKTtcbiAgICBiYXNlRWwuY2xhc3NMaXN0LnJlbW92ZSgncG9wb3Zlci1ib3R0b20nKTtcbiAgICBjb250ZW50RWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3RvcCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnbGVmdCcpO1xuICAgIGNvbnRlbnRFbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnYm90dG9tJyk7XG4gICAgY29udGVudEVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2Zvcm0tb3JpZ2luJyk7XG4gIH0pXG4gICAgLmR1cmF0aW9uKDE1MClcbiAgICAuYWRkQW5pbWF0aW9uKFtiYWNrZHJvcEFuaW1hdGlvbiwgd3JhcHBlckFuaW1hdGlvbl0pO1xufTtcblxuY29uc3QgcG9wb3Zlcklvc0NzcyA9IFwiOmhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLW1pbi13aWR0aDowOy0tbWluLWhlaWdodDowOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6YXV0bzstLW9mZnNldC14OjBweDstLW9mZnNldC15OjBweDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgLnBvcG92ZXItY29udGVudCw6aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9LnBvcG92ZXItd3JhcHBlcntvcGFjaXR5OjA7ei1pbmRleDoxMH0ucG9wb3Zlci1jb250ZW50e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzphdXRvO3otaW5kZXg6MTB9LnBvcG92ZXItdmlld3BvcnR7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVufTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtbGVmdCl7LS1vZmZzZXQteDo1cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1yaWdodCl7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnR7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKXstLW9mZnNldC14Oi01cHh9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5key0tb2Zmc2V0LXg6NXB4fTpob3N0ey0td2lkdGg6MjAwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLWJveC1zaGFkb3c6bm9uZTstLWJhY2tkcm9wLW9wYWNpdHk6dmFyKC0taW9uLWJhY2tkcm9wLW9wYWNpdHksIDAuMDgpfTpob3N0KC5wb3BvdmVyLWRlc2t0b3Apey0tYm94LXNoYWRvdzowcHggNHB4IDE2cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4xMil9LnBvcG92ZXItY29udGVudHtib3JkZXItcmFkaXVzOjEwcHh9Omhvc3QoLnBvcG92ZXItZGVza3RvcCkgLnBvcG92ZXItY29udGVudHtib3JkZXI6MC41cHggc29saWQgdmFyKC0taW9uLWNvbG9yLXN0ZXAtMTAwLCAjZTZlNmU2KX0ucG9wb3Zlci1hcnJvd3tkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjIwcHg7aGVpZ2h0OjEwcHg7b3ZlcmZsb3c6aGlkZGVufS5wb3BvdmVyLWFycm93OjphZnRlcntsZWZ0OjNweDt0b3A6M3B4O2JvcmRlci1yYWRpdXM6M3B4O3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE0cHg7aGVpZ2h0OjE0cHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKDQ1ZGVnKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpO2NvbnRlbnQ6XFxcIlxcXCI7ei1pbmRleDoxMH1bZGlyPXJ0bF0gLnBvcG92ZXItYXJyb3c6OmFmdGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDozcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvd3t0b3A6YXV0bztib3R0b206LTEwcHh9Omhvc3QoLnBvcG92ZXItYm90dG9tKSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7dG9wOi02cHh9Omhvc3QoLnBvcG92ZXItc2lkZS1sZWZ0KSAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtcmlnaHQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdCgucG9wb3Zlci1zaWRlLXRvcCkgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDE4MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfTpob3N0KC5wb3BvdmVyLXNpZGUtc3RhcnQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItc2lkZS1zdGFydCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1zdGFydCAucG9wb3Zlci1hcnJvd3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKC05MGRlZyl9Omhvc3QoLnBvcG92ZXItc2lkZS1lbmQpIC5wb3BvdmVyLWFycm93ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtOTBkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTkwZGVnKX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCgucG9wb3Zlci1zaWRlLWVuZCkgLnBvcG92ZXItYXJyb3csOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLnBvcG92ZXItc2lkZS1lbmQgLnBvcG92ZXItYXJyb3d7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX1Ac3VwcG9ydHMgKCgtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkgb3IgKGJhY2tkcm9wLWZpbHRlcjogYmx1cigwKSkpezpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1jb250ZW50LDpob3N0KC5wb3BvdmVyLXRyYW5zbHVjZW50KSAucG9wb3Zlci1hcnJvdzo6YWZ0ZXJ7YmFja2dyb3VuZDpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuOCk7LXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KTtiYWNrZHJvcC1maWx0ZXI6c2F0dXJhdGUoMTgwJSkgYmx1cigyMHB4KX19XCI7XG5cbmNvbnN0IHBvcG92ZXJNZENzcyA9IFwiOmhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLCAjZmZmKTstLW1pbi13aWR0aDowOy0tbWluLWhlaWdodDowOy0tbWF4LXdpZHRoOmF1dG87LS1oZWlnaHQ6YXV0bzstLW9mZnNldC14OjBweDstLW9mZnNldC15OjBweDtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpmaXhlZDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWlvbi10ZXh0LWNvbG9yLCAjMDAwKTt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgLnBvcG92ZXItY29udGVudCw6aG9zdCgucG9wb3Zlci1pbnRlcmFjdGl2ZSkgaW9uLWJhY2tkcm9we3BvaW50ZXItZXZlbnRzOmF1dG99Omhvc3QoLm92ZXJsYXktaGlkZGVuKXtkaXNwbGF5Om5vbmV9LnBvcG92ZXItd3JhcHBlcntvcGFjaXR5OjA7ei1pbmRleDoxMH0ucG9wb3Zlci1jb250ZW50e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOmFic29sdXRlOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dpZHRoOnZhcigtLXdpZHRoKTttaW4td2lkdGg6dmFyKC0tbWluLXdpZHRoKTttYXgtd2lkdGg6dmFyKC0tbWF4LXdpZHRoKTtoZWlnaHQ6dmFyKC0taGVpZ2h0KTttaW4taGVpZ2h0OnZhcigtLW1pbi1oZWlnaHQpO21heC1oZWlnaHQ6dmFyKC0tbWF4LWhlaWdodCk7YmFja2dyb3VuZDp2YXIoLS1iYWNrZ3JvdW5kKTstd2Via2l0LWJveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyk7Ym94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtvdmVyZmxvdzphdXRvO3otaW5kZXg6MTB9LnBvcG92ZXItdmlld3BvcnR7LS1pb24tc2FmZS1hcmVhLXRvcDowcHg7LS1pb24tc2FmZS1hcmVhLXJpZ2h0OjBweDstLWlvbi1zYWZlLWFyZWEtYm90dG9tOjBweDstLWlvbi1zYWZlLWFyZWEtbGVmdDowcHg7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47b3ZlcmZsb3c6aGlkZGVufTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtbGVmdCl7LS1vZmZzZXQteDo1cHh9Omhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1yaWdodCl7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpey0tb2Zmc2V0LXg6NXB4fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtc3RhcnR7LS1vZmZzZXQteDotNXB4fTpob3N0KC5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5kKXstLW9mZnNldC14Oi01cHh9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLnBvcG92ZXItbmVzdGVkLnBvcG92ZXItc2lkZS1lbmQpLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5wb3BvdmVyLW5lc3RlZC5wb3BvdmVyLXNpZGUtZW5key0tb2Zmc2V0LXg6NXB4fTpob3N0ey0td2lkdGg6MjUwcHg7LS1tYXgtaGVpZ2h0OjkwJTstLWJveC1zaGFkb3c6MCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpOy0tYmFja2Ryb3Atb3BhY2l0eTp2YXIoLS1pb24tYmFja2Ryb3Atb3BhY2l0eSwgMC4zMil9LnBvcG92ZXItY29udGVudHtib3JkZXItcmFkaXVzOjRweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcH1bZGlyPXJ0bF0gLnBvcG92ZXItY29udGVudCw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnBvcG92ZXItY29udGVudHstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wO3RyYW5zZm9ybS1vcmlnaW46cmlnaHQgdG9wfS5wb3BvdmVyLXZpZXdwb3J0ey13ZWJraXQtdHJhbnNpdGlvbi1kZWxheToxMDBtczt0cmFuc2l0aW9uLWRlbGF5OjEwMG1zfVwiO1xuXG5sZXQgUG9wb3ZlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5kaWRQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Qb3BvdmVyRGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Qb3BvdmVyV2lsbFByZXNlbnRcIiwgNyk7XG4gICAgdGhpcy53aWxsRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlcldpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzcyA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uUG9wb3ZlckRpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWRQcmVzZW50U2hvcnRoYW5kID0gY3JlYXRlRXZlbnQodGhpcywgXCJkaWRQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbFByZXNlbnRTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3NTaG9ydGhhbmQgPSBjcmVhdGVFdmVudCh0aGlzLCBcIndpbGxEaXNtaXNzXCIsIDcpO1xuICAgIHRoaXMuZGlkRGlzbWlzc1Nob3J0aGFuZCA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiZGlkRGlzbWlzc1wiLCA3KTtcbiAgICB0aGlzLnBhcmVudFBvcG92ZXIgPSBudWxsO1xuICAgIHRoaXMucG9wb3ZlckluZGV4ID0gcG9wb3ZlcklkcysrO1xuICAgIHRoaXMuY29yZURlbGVnYXRlID0gQ29yZURlbGVnYXRlKCk7XG4gICAgdGhpcy5pbmxpbmUgPSBmYWxzZTtcbiAgICB0aGlzLmZvY3VzRGVzY2VuZGFudE9uUHJlc2VudCA9IGZhbHNlO1xuICAgIHRoaXMucHJlc2VudGVkID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHRoaXMuaGFzQ29udHJvbGxlciA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBwb3BvdmVyIHdpbGwgYmUgZGlzbWlzc2VkIHdoZW4gdGhlIGJhY2tkcm9wIGlzIGNsaWNrZWQuXG4gICAgICovXG4gICAgdGhpcy5iYWNrZHJvcERpc21pc3MgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgYSBiYWNrZHJvcCB3aWxsIGJlIGRpc3BsYXllZCBiZWhpbmQgdGhlIHBvcG92ZXIuXG4gICAgICovXG4gICAgdGhpcy5zaG93QmFja2Ryb3AgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIHBvcG92ZXIgd2lsbCBiZSB0cmFuc2x1Y2VudC5cbiAgICAgKiBPbmx5IGFwcGxpZXMgd2hlbiB0aGUgbW9kZSBpcyBgXCJpb3NcImAgYW5kIHRoZSBkZXZpY2Ugc3VwcG9ydHNcbiAgICAgKiBbYGJhY2tkcm9wLWZpbHRlcmBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9iYWNrZHJvcC1maWx0ZXIjQnJvd3Nlcl9jb21wYXRpYmlsaXR5KS5cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zbHVjZW50ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIGFuaW1hdGUuXG4gICAgICovXG4gICAgdGhpcy5hbmltYXRlZCA9IHRydWU7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHdoYXQga2luZCBvZiBpbnRlcmFjdGlvbiB3aXRoIHRoZSB0cmlnZ2VyIHRoYXRcbiAgICAgKiBzaG91bGQgY2F1c2UgdGhlIHBvcG92ZXIgdG8gb3Blbi4gRG9lcyBub3QgYXBwbHkgd2hlbiB0aGUgYHRyaWdnZXJgXG4gICAgICogcHJvcGVydHkgaXMgYHVuZGVmaW5lZGAuXG4gICAgICogSWYgYCdjbGljaydgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIHByZXNlbnRlZCB3aGVuIHRoZSB0cmlnZ2VyIGlzIGxlZnQgY2xpY2tlZC5cbiAgICAgKiBJZiBgJ2hvdmVyJ2AsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcHJlc2VudGVkIHdoZW4gYSBwb2ludGVyIGhvdmVycyBvdmVyIHRoZSB0cmlnZ2VyLlxuICAgICAqIElmIGAnY29udGV4dC1tZW51J2AsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcHJlc2VudGVkIHdoZW4gdGhlIHRyaWdnZXIgaXMgcmlnaHRcbiAgICAgKiBjbGlja2VkIG9uIGRlc2t0b3AgYW5kIGxvbmcgcHJlc3NlZCBvbiBtb2JpbGUuIFRoaXMgd2lsbCBhbHNvIHByZXZlbnQgeW91clxuICAgICAqIGRldmljZSdzIG5vcm1hbCBjb250ZXh0IG1lbnUgZnJvbSBhcHBlYXJpbmcuXG4gICAgICovXG4gICAgdGhpcy50cmlnZ2VyQWN0aW9uID0gJ2NsaWNrJztcbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaG93IHRvIGNhbGN1bGF0ZSB0aGUgcG9wb3ZlciB3aWR0aC5cbiAgICAgKiBJZiBgJ2NvdmVyJ2AsIHRoZSBwb3BvdmVyIHdpZHRoIHdpbGwgbWF0Y2ggdGhlIHdpZHRoIG9mIHRoZSB0cmlnZ2VyLlxuICAgICAqIElmIGAnYXV0bydgLCB0aGUgcG9wb3ZlciB3aWR0aCB3aWxsIGJlIGRldGVybWluZWQgYnkgdGhlIGNvbnRlbnQgaW5cbiAgICAgKiB0aGUgcG9wb3Zlci5cbiAgICAgKi9cbiAgICB0aGlzLnNpemUgPSAnYXV0byc7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBkaXNtaXNzZWQgd2hlbiB0aGUgY29udGVudCBoYXMgYmVlbiBjbGlja2VkLlxuICAgICAqL1xuICAgIHRoaXMuZGlzbWlzc09uU2VsZWN0ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIHdoYXQgdG8gcG9zaXRpb24gdGhlIHBvcG92ZXIgcmVsYXRpdmUgdG8uXG4gICAgICogSWYgYCd0cmlnZ2VyJ2AsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcG9zaXRpb25lZCByZWxhdGl2ZVxuICAgICAqIHRvIHRoZSB0cmlnZ2VyIGJ1dHRvbi4gSWYgcGFzc2luZyBpbiBhbiBldmVudCwgdGhpcyBpc1xuICAgICAqIGRldGVybWluZWQgdmlhIGV2ZW50LnRhcmdldC5cbiAgICAgKiBJZiBgJ2V2ZW50J2AsIHRoZSBwb3BvdmVyIHdpbGwgYmUgcG9zaXRpb25lZCByZWxhdGl2ZVxuICAgICAqIHRvIHRoZSB4L3kgY29vcmRpbmF0ZXMgb2YgdGhlIHRyaWdnZXIgYWN0aW9uLiBJZiBwYXNzaW5nXG4gICAgICogaW4gYW4gZXZlbnQsIHRoaXMgaXMgZGV0ZXJtaW5lZCB2aWEgZXZlbnQuY2xpZW50WCBhbmQgZXZlbnQuY2xpZW50WS5cbiAgICAgKi9cbiAgICB0aGlzLnJlZmVyZW5jZSA9ICd0cmlnZ2VyJztcbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgd2hpY2ggc2lkZSBvZiB0aGUgYHJlZmVyZW5jZWAgcG9pbnQgdG8gcG9zaXRpb25cbiAgICAgKiB0aGUgcG9wb3ZlciBvbi4gVGhlIGAnc3RhcnQnYCBhbmQgYCdlbmQnYCB2YWx1ZXMgYXJlIFJUTC1hd2FyZSxcbiAgICAgKiBhbmQgdGhlIGAnbGVmdCdgIGFuZCBgJ3JpZ2h0J2AgdmFsdWVzIGFyZSBub3QuXG4gICAgICovXG4gICAgdGhpcy5zaWRlID0gJ2JvdHRvbSc7XG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGhvdyB0byBhbGlnbiB0aGUgcG9wb3ZlciBjb250ZW50IHdpdGggdGhlIGByZWZlcmVuY2VgIHBvaW50LlxuICAgICAqL1xuICAgIHRoaXMuYWxpZ25tZW50ID0gJ3N0YXJ0JztcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSBwb3BvdmVyIHdpbGwgZGlzcGxheSBhbiBhcnJvd1xuICAgICAqIHRoYXQgcG9pbnRzIGF0IHRoZSBgcmVmZXJlbmNlYCB3aGVuIHJ1bm5pbmcgaW4gYGlvc2AgbW9kZVxuICAgICAqIG9uIG1vYmlsZS4gRG9lcyBub3QgYXBwbHkgaW4gYG1kYCBtb2RlIG9yIG9uIGRlc2t0b3AuXG4gICAgICovXG4gICAgdGhpcy5hcnJvdyA9IHRydWU7XG4gICAgLyoqXG4gICAgICogSWYgYHRydWVgLCB0aGUgcG9wb3ZlciB3aWxsIG9wZW4uIElmIGBmYWxzZWAsIHRoZSBwb3BvdmVyIHdpbGwgY2xvc2UuXG4gICAgICogVXNlIHRoaXMgaWYgeW91IG5lZWQgZmluZXIgZ3JhaW5lZCBjb250cm9sIG92ZXIgcHJlc2VudGF0aW9uLCBvdGhlcndpc2VcbiAgICAgKiBqdXN0IHVzZSB0aGUgcG9wb3ZlckNvbnRyb2xsZXIgb3IgdGhlIGB0cmlnZ2VyYCBwcm9wZXJ0eS5cbiAgICAgKiBOb3RlOiBgaXNPcGVuYCB3aWxsIG5vdCBhdXRvbWF0aWNhbGx5IGJlIHNldCBiYWNrIHRvIGBmYWxzZWAgd2hlblxuICAgICAqIHRoZSBwb3BvdmVyIGRpc21pc3Nlcy4gWW91IHdpbGwgbmVlZCB0byBkbyB0aGF0IGluIHlvdXIgY29kZS5cbiAgICAgKi9cbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqXG4gICAgICogSWYgYHRydWVgIHRoZSBwb3BvdmVyIHdpbGwgbm90IHJlZ2lzdGVyIGl0cyBvd24ga2V5Ym9hcmQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICogVGhpcyBhbGxvd3MgdGhlIGNvbnRlbnRzIG9mIHRoZSBwb3BvdmVyIHRvIGhhbmRsZSB0aGVpciBvd24ga2V5Ym9hcmQgaW50ZXJhY3Rpb25zLlxuICAgICAqXG4gICAgICogSWYgYGZhbHNlYCwgdGhlIHBvcG92ZXIgd2lsbCByZWdpc3RlciBpdHMgb3duIGtleWJvYXJkIGV2ZW50IGhhbmRsZXJzIGZvclxuICAgICAqIG5hdmlnYXRpbmcgYGlvbi1saXN0YCBpdGVtcyB3aXRoaW4gYSBwb3BvdmVyICh1cC9kb3duL2hvbWUvZW5kL2V0Yy4pLlxuICAgICAqIFRoaXMgd2lsbCBhbHNvIGNhbmNlbCBicm93c2VyIGtleWJvYXJkIGV2ZW50IGJpbmRpbmdzIHRvIHByZXZlbnQgc2Nyb2xsXG4gICAgICogYmVoYXZpb3IgaW4gYSBwb3BvdmVyIHVzaW5nIGEgbGlzdCBvZiBpdGVtcy5cbiAgICAgKi9cbiAgICB0aGlzLmtleWJvYXJkRXZlbnRzID0gZmFsc2U7XG4gICAgdGhpcy5vbkRpc21pc3MgPSAoZXYpID0+IHtcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuZGlzbWlzcygpO1xuICAgIH07XG4gICAgdGhpcy5vbkJhY2tkcm9wVGFwID0gKCkgPT4ge1xuICAgICAgdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgQkFDS0RST1ApO1xuICAgIH07XG4gICAgdGhpcy5vbkxpZmVjeWNsZSA9IChtb2RhbEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHRoaXMudXNlcnNFbGVtZW50O1xuICAgICAgY29uc3QgbmFtZSA9IExJRkVDWUNMRV9NQVBbbW9kYWxFdmVudC50eXBlXTtcbiAgICAgIGlmIChlbCAmJiBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgICBkZXRhaWw6IG1vZGFsRXZlbnQuZGV0YWlsXG4gICAgICAgIH0pO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY29uZmlndXJlVHJpZ2dlckludGVyYWN0aW9uID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyB0cmlnZ2VyLCB0cmlnZ2VyQWN0aW9uLCBlbCwgZGVzdHJveVRyaWdnZXJJbnRlcmFjdGlvbiB9ID0gdGhpcztcbiAgICAgIGlmIChkZXN0cm95VHJpZ2dlckludGVyYWN0aW9uKSB7XG4gICAgICAgIGRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRyaWdnZXJFbCA9IHRoaXMudHJpZ2dlckVsID0gKHRyaWdnZXIgIT09IHVuZGVmaW5lZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VyKSA6IG51bGw7XG4gICAgICBpZiAoIXRyaWdnZXJFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRlc3Ryb3lUcmlnZ2VySW50ZXJhY3Rpb24gPSBjb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24odHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBlbCk7XG4gICAgfTtcbiAgICB0aGlzLmNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uLCBlbCB9ID0gdGhpcztcbiAgICAgIGlmIChkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5kZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbiA9IGNvbmZpZ3VyZUtleWJvYXJkSW50ZXJhY3Rpb24oZWwpO1xuICAgIH07XG4gICAgdGhpcy5jb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24sIHBhcmVudFBvcG92ZXIsIHRyaWdnZXJBY3Rpb24sIHRyaWdnZXJFbCwgZWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIXBhcmVudFBvcG92ZXIgfHwgIXRyaWdnZXJFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24gPSBjb25maWd1cmVEaXNtaXNzSW50ZXJhY3Rpb24odHJpZ2dlckVsLCB0cmlnZ2VyQWN0aW9uLCBlbCwgcGFyZW50UG9wb3Zlcik7XG4gICAgfTtcbiAgfVxuICBvblRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5jb25maWd1cmVUcmlnZ2VySW50ZXJhY3Rpb24oKTtcbiAgfVxuICBvbklzT3BlbkNoYW5nZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICBpZiAobmV3VmFsdWUgPT09IHRydWUgJiYgb2xkVmFsdWUgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLnByZXNlbnQoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV3VmFsdWUgPT09IGZhbHNlICYmIG9sZFZhbHVlID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmRpc21pc3MoKTtcbiAgICB9XG4gIH1cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgcHJlcGFyZU92ZXJsYXkodGhpcy5lbCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgLyoqXG4gICAgICogSWYgdXNlciBoYXMgY3VzdG9tIElEIHNldCB0aGVuIHdlIHNob3VsZFxuICAgICAqIG5vdCBhc3NpZ24gdGhlIGRlZmF1bHQgaW5jcmVtZW50aW5nIElELlxuICAgICAqL1xuICAgIHRoaXMucG9wb3ZlcklkID0gKHRoaXMuZWwuaGFzQXR0cmlidXRlKCdpZCcpKSA/IHRoaXMuZWwuZ2V0QXR0cmlidXRlKCdpZCcpIDogYGlvbi1wb3BvdmVyLSR7dGhpcy5wb3BvdmVySW5kZXh9YDtcbiAgICB0aGlzLnBhcmVudFBvcG92ZXIgPSB0aGlzLmVsLmNsb3Nlc3QoYGlvbi1wb3BvdmVyOm5vdCgjJHt0aGlzLnBvcG92ZXJJZH0pYCk7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBjb25zdCB7IHBhcmVudFBvcG92ZXIsIGlzT3BlbiB9ID0gdGhpcztcbiAgICAvKipcbiAgICAgKiBJZiBwb3BvdmVyIHdhcyByZW5kZXJlZCB3aXRoIGlzT3Blbj1cInRydWVcIlxuICAgICAqIHRoZW4gd2Ugc2hvdWxkIG9wZW4gcG9wb3ZlciBpbW1lZGlhdGVseS5cbiAgICAgKi9cbiAgICBpZiAoaXNPcGVuID09PSB0cnVlKSB7XG4gICAgICByYWYoKCkgPT4gdGhpcy5wcmVzZW50KCkpO1xuICAgIH1cbiAgICBpZiAocGFyZW50UG9wb3Zlcikge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihwYXJlbnRQb3BvdmVyLCAnaW9uUG9wb3ZlcldpbGxEaXNtaXNzJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc21pc3ModW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ3VyZVRyaWdnZXJJbnRlcmFjdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIG9wZW5pbmcgYSBwb3BvdmVyIGZyb20gYSB0cmlnZ2VyLCB3ZSBzaG91bGQgbm90IGJlXG4gICAqIG1vZGlmeWluZyB0aGUgYGV2ZW50YCBwcm9wIGZyb20gaW5zaWRlIHRoZSBjb21wb25lbnQuXG4gICAqIEFkZGl0aW9uYWxseSwgd2hlbiBwcmVzc2luZyB0aGUgXCJSaWdodFwiIGFycm93IGtleSwgd2UgbmVlZFxuICAgKiB0byBzaGlmdCBmb2N1cyB0byB0aGUgZmlyc3QgZGVzY2VuZGFudCBpbiB0aGUgbmV3bHkgcHJlc2VudGVkXG4gICAqIHBvcG92ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgYXN5bmMgcHJlc2VudEZyb21UcmlnZ2VyKGV2ZW50LCBmb2N1c0Rlc2NlbmRhbnQgPSBmYWxzZSkge1xuICAgIHRoaXMuZm9jdXNEZXNjZW5kYW50T25QcmVzZW50ID0gZm9jdXNEZXNjZW5kYW50O1xuICAgIGF3YWl0IHRoaXMucHJlc2VudChldmVudCk7XG4gICAgdGhpcy5mb2N1c0Rlc2NlbmRhbnRPblByZXNlbnQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCBhbiBvdmVybGF5XG4gICAqIGlzIGJlaW5nIHVzZWQgaW5saW5lIG9yIHZpYSBhIGNvbnRyb2xsZXIvSlNcbiAgICogYW5kIHJldHVybnMgdGhlIGNvcnJlY3QgZGVsZWdhdGUuXG4gICAqIEJ5IGRlZmF1bHQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gZ2V0RGVsZWdhdGVcbiAgICogd2lsbCB1c2UgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgZGVsZWdhdGUuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYWxsaW5nIGRpc21pc3MgYWZ0ZXJcbiAgICogcHJlc2VudCBzbyB0aGF0IHRoZSBjb3JyZWN0IGRlbGVnYXRlIGlzIGdpdmVuLlxuICAgKi9cbiAgZ2V0RGVsZWdhdGUoZm9yY2UgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLndvcmtpbmdEZWxlZ2F0ZSAmJiAhZm9yY2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRlbGVnYXRlOiB0aGlzLndvcmtpbmdEZWxlZ2F0ZSxcbiAgICAgICAgaW5saW5lOiB0aGlzLmlubGluZVxuICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdXNpbmcgb3ZlcmxheSBpbmxpbmVcbiAgICAgKiB3ZSBwb3RlbnRpYWxseSBuZWVkIHRvIHVzZSB0aGUgY29yZURlbGVnYXRlXG4gICAgICogc28gdGhhdCB0aGlzIHdvcmtzIGluIHZhbmlsbGEgSlMgYXBwcy5cbiAgICAgKiBJZiBhIGRldmVsb3BlciBoYXMgcHJlc2VudGVkIHRoaXMgY29tcG9uZW50XG4gICAgICogdmlhIGEgY29udHJvbGxlciwgdGhlbiB3ZSBjYW4gYXNzdW1lXG4gICAgICogdGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IGluIHRoZVxuICAgICAqIGNvcnJlY3QgcGxhY2UuXG4gICAgICovXG4gICAgY29uc3QgcGFyZW50RWwgPSB0aGlzLmVsLnBhcmVudE5vZGU7XG4gICAgY29uc3QgaW5saW5lID0gdGhpcy5pbmxpbmUgPSBwYXJlbnRFbCAhPT0gbnVsbCAmJiAhdGhpcy5oYXNDb250cm9sbGVyO1xuICAgIGNvbnN0IGRlbGVnYXRlID0gdGhpcy53b3JraW5nRGVsZWdhdGUgPSAoaW5saW5lKSA/IHRoaXMuZGVsZWdhdGUgfHwgdGhpcy5jb3JlRGVsZWdhdGUgOiB0aGlzLmRlbGVnYXRlO1xuICAgIHJldHVybiB7IGlubGluZSwgZGVsZWdhdGUgfTtcbiAgfVxuICAvKipcbiAgICogUHJlc2VudCB0aGUgcG9wb3ZlciBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqIERldmVsb3BlcnMgY2FuIHBhc3MgYSBtb3VzZSwgdG91Y2gsIG9yIHBvaW50ZXIgZXZlbnRcbiAgICogdG8gcG9zaXRpb24gdGhlIHBvcG92ZXIgcmVsYXRpdmUgdG8gd2hlcmUgdGhhdCBldmVudFxuICAgKiB3YXMgZGlzcGF0Y2hlZC5cbiAgICovXG4gIGFzeW5jIHByZXNlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5wcmVzZW50ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hlbiB1c2luZyBhbiBpbmxpbmUgcG9wb3ZlclxuICAgICAqIGFuZCBkaXNtaXNzaW5nIGEgcG9wb3ZlciBpdCBpcyBwb3NzaWJsZSB0b1xuICAgICAqIHF1aWNrbHkgcHJlc2VudCB0aGUgcG9wb3ZlciB3aGlsZSBpdCBpc1xuICAgICAqIGRpc21pc3NpbmcuIFdlIG5lZWQgdG8gYXdhaXQgYW55IGN1cnJlbnRcbiAgICAgKiB0cmFuc2l0aW9uIHRvIGFsbG93IHRoZSBkaXNtaXNzIHRvIGZpbmlzaFxuICAgICAqIGJlZm9yZSBwcmVzZW50aW5nIGFnYWluLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmN1cnJlbnRUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29tcG9uZW50UHJvcHMpLCB7IHBvcG92ZXI6IHRoaXMuZWwgfSk7XG4gICAgY29uc3QgeyBpbmxpbmUsIGRlbGVnYXRlIH0gPSB0aGlzLmdldERlbGVnYXRlKHRydWUpO1xuICAgIHRoaXMudXNlcnNFbGVtZW50ID0gYXdhaXQgYXR0YWNoQ29tcG9uZW50KGRlbGVnYXRlLCB0aGlzLmVsLCB0aGlzLmNvbXBvbmVudCwgWydwb3BvdmVyLXZpZXdwb3J0J10sIGRhdGEsIGlubGluZSk7XG4gICAgYXdhaXQgZGVlcFJlYWR5KHRoaXMudXNlcnNFbGVtZW50KTtcbiAgICBpZiAoIXRoaXMua2V5Ym9hcmRFdmVudHMpIHtcbiAgICAgIHRoaXMuY29uZmlndXJlS2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgICB0aGlzLmNvbmZpZ3VyZURpc21pc3NJbnRlcmFjdGlvbigpO1xuICAgIHRoaXMuY3VycmVudFRyYW5zaXRpb24gPSBwcmVzZW50KHRoaXMsICdwb3BvdmVyRW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiQxLCBtZEVudGVyQW5pbWF0aW9uJDEsIHtcbiAgICAgIGV2ZW50OiBldmVudCB8fCB0aGlzLmV2ZW50LFxuICAgICAgc2l6ZTogdGhpcy5zaXplLFxuICAgICAgdHJpZ2dlcjogdGhpcy50cmlnZ2VyRWwsXG4gICAgICByZWZlcmVuY2U6IHRoaXMucmVmZXJlbmNlLFxuICAgICAgc2lkZTogdGhpcy5zaWRlLFxuICAgICAgYWxpZ246IHRoaXMuYWxpZ25tZW50XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5jdXJyZW50VHJhbnNpdGlvbjtcbiAgICB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIElmIHBvcG92ZXIgaXMgbmVzdGVkIGFuZCB3YXNcbiAgICAgKiBwcmVzZW50ZWQgdXNpbmcgdGhlIFwiUmlnaHRcIiBhcnJvdyBrZXksXG4gICAgICogd2UgbmVlZCB0byBtb3ZlIGZvY3VzIHRvIHRoZSBmaXJzdFxuICAgICAqIGRlc2NlbmRhbnQgaW5zaWRlIG9mIHRoZSBwb3BvdmVyLlxuICAgICAqL1xuICAgIGlmICh0aGlzLmZvY3VzRGVzY2VuZGFudE9uUHJlc2VudCkge1xuICAgICAgZm9jdXNGaXJzdERlc2NlbmRhbnQodGhpcy5lbCwgdGhpcy5lbCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSBwb3BvdmVyIG92ZXJsYXkgYWZ0ZXIgaXQgaGFzIGJlZW4gcHJlc2VudGVkLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBBbnkgZGF0YSB0byBlbWl0IGluIHRoZSBkaXNtaXNzIGV2ZW50cy5cbiAgICogQHBhcmFtIHJvbGUgVGhlIHJvbGUgb2YgdGhlIGVsZW1lbnQgdGhhdCBpcyBkaXNtaXNzaW5nIHRoZSBwb3BvdmVyLiBGb3IgZXhhbXBsZSwgJ2NhbmNlbCcgb3IgJ2JhY2tkcm9wJy5cbiAgICogQHBhcmFtIGRpc21pc3NQYXJlbnRQb3BvdmVyIElmIGB0cnVlYCwgZGlzbWlzc2luZyB0aGlzIHBvcG92ZXIgd2lsbCBhbHNvIGRpc21pc3NcbiAgICogYSBwYXJlbnQgcG9wb3ZlciBpZiB0aGlzIHBvcG92ZXIgaXMgbmVzdGVkLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqL1xuICBhc3luYyBkaXNtaXNzKGRhdGEsIHJvbGUsIGRpc21pc3NQYXJlbnRQb3BvdmVyID0gdHJ1ZSkge1xuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgYW4gaW5saW5lIHBvcG92ZXJcbiAgICAgKiBhbmQgcHJlc2VudGluZyBhIHBvcG92ZXIgaXQgaXMgcG9zc2libGUgdG9cbiAgICAgKiBxdWlja2x5IGRpc21pc3MgdGhlIHBvcG92ZXIgd2hpbGUgaXQgaXNcbiAgICAgKiBwcmVzZW50aW5nLiBXZSBuZWVkIHRvIGF3YWl0IGFueSBjdXJyZW50XG4gICAgICogdHJhbnNpdGlvbiB0byBhbGxvdyB0aGUgcHJlc2VudCB0byBmaW5pc2hcbiAgICAgKiBiZWZvcmUgZGlzbWlzc2luZyBhZ2Fpbi5cbiAgICAgKi9cbiAgICBpZiAodGhpcy5jdXJyZW50VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhd2FpdCB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uO1xuICAgIH1cbiAgICBjb25zdCB7IGRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uLCBkZXN0cm95RGlzbWlzc0ludGVyYWN0aW9uIH0gPSB0aGlzO1xuICAgIGlmIChkaXNtaXNzUGFyZW50UG9wb3ZlciAmJiB0aGlzLnBhcmVudFBvcG92ZXIpIHtcbiAgICAgIHRoaXMucGFyZW50UG9wb3Zlci5kaXNtaXNzKGRhdGEsIHJvbGUsIGRpc21pc3NQYXJlbnRQb3BvdmVyKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50VHJhbnNpdGlvbiA9IGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ3BvcG92ZXJMZWF2ZScsIGlvc0xlYXZlQW5pbWF0aW9uJDEsIG1kTGVhdmVBbmltYXRpb24kMSwgdGhpcy5ldmVudCk7XG4gICAgY29uc3Qgc2hvdWxkRGlzbWlzcyA9IGF3YWl0IHRoaXMuY3VycmVudFRyYW5zaXRpb247XG4gICAgaWYgKHNob3VsZERpc21pc3MpIHtcbiAgICAgIGlmIChkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbikge1xuICAgICAgICBkZXN0cm95S2V5Ym9hcmRJbnRlcmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lLZXlib2FyZEludGVyYWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24pIHtcbiAgICAgICAgZGVzdHJveURpc21pc3NJbnRlcmFjdGlvbigpO1xuICAgICAgICB0aGlzLmRlc3Ryb3lEaXNtaXNzSW50ZXJhY3Rpb24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIElmIHVzaW5nIHBvcG92ZXIgaW5saW5lXG4gICAgICAgKiB3ZSBwb3RlbnRpYWxseSBuZWVkIHRvIHVzZSB0aGUgY29yZURlbGVnYXRlXG4gICAgICAgKiBzbyB0aGF0IHRoaXMgd29ya3MgaW4gdmFuaWxsYSBKUyBhcHBzXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IHRoaXMuZ2V0RGVsZWdhdGUoKTtcbiAgICAgIGF3YWl0IGRldGFjaENvbXBvbmVudChkZWxlZ2F0ZSwgdGhpcy51c2Vyc0VsZW1lbnQpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRUcmFuc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzaG91bGREaXNtaXNzO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGdldFBhcmVudFBvcG92ZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50UG9wb3ZlcjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwb3BvdmVyIGRpZCBkaXNtaXNzLlxuICAgKi9cbiAgb25EaWREaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uUG9wb3ZlckRpZERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBwb3BvdmVyIHdpbGwgZGlzbWlzcy5cbiAgICovXG4gIG9uV2lsbERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Qb3BvdmVyV2lsbERpc21pc3MnKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3QgeyBvbkxpZmVjeWNsZSwgcG9wb3ZlcklkLCBwYXJlbnRQb3BvdmVyLCBkaXNtaXNzT25TZWxlY3QsIHByZXNlbnRlZCwgc2lkZSwgYXJyb3csIGh0bWxBdHRyaWJ1dGVzIH0gPSB0aGlzO1xuICAgIGNvbnN0IGRlc2t0b3AgPSBpc1BsYXRmb3JtKCdkZXNrdG9wJyk7XG4gICAgY29uc3QgZW5hYmxlQXJyb3cgPSBhcnJvdyAmJiAhcGFyZW50UG9wb3ZlciAmJiAhZGVza3RvcDtcbiAgICByZXR1cm4gKGgoSG9zdCwgT2JqZWN0LmFzc2lnbih7IFwiYXJpYS1tb2RhbFwiOiBcInRydWVcIiwgXCJuby1yb3V0ZXJcIjogdHJ1ZSwgdGFiaW5kZXg6IFwiLTFcIiB9LCBodG1sQXR0cmlidXRlcywgeyBzdHlsZToge1xuICAgICAgICB6SW5kZXg6IGAkezIwMDAwICsgdGhpcy5vdmVybGF5SW5kZXh9YCxcbiAgICAgIH0sIGlkOiBwb3BvdmVySWQsIGNsYXNzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGdldENsYXNzTWFwKHRoaXMuY3NzQ2xhc3MpKSwgeyBbbW9kZV06IHRydWUsICdwb3BvdmVyLXRyYW5zbHVjZW50JzogdGhpcy50cmFuc2x1Y2VudCwgJ292ZXJsYXktaGlkZGVuJzogdHJ1ZSwgJ3BvcG92ZXItaW50ZXJhY3RpdmUnOiBwcmVzZW50ZWQsICdwb3BvdmVyLWRlc2t0b3AnOiBkZXNrdG9wLCBbYHBvcG92ZXItc2lkZS0ke3NpZGV9YF06IHRydWUsICdwb3BvdmVyLW5lc3RlZCc6ICEhcGFyZW50UG9wb3ZlciB9KSwgb25Jb25Qb3BvdmVyRGlkUHJlc2VudDogb25MaWZlY3ljbGUsIG9uSW9uUG9wb3ZlcldpbGxQcmVzZW50OiBvbkxpZmVjeWNsZSwgb25Jb25Qb3BvdmVyV2lsbERpc21pc3M6IG9uTGlmZWN5Y2xlLCBvbklvblBvcG92ZXJEaWREaXNtaXNzOiBvbkxpZmVjeWNsZSwgb25Jb25EaXNtaXNzOiB0aGlzLm9uRGlzbWlzcywgb25Jb25CYWNrZHJvcFRhcDogdGhpcy5vbkJhY2tkcm9wVGFwIH0pLCAhcGFyZW50UG9wb3ZlciAmJiBoKFwiaW9uLWJhY2tkcm9wXCIsIHsgdGFwcGFibGU6IHRoaXMuYmFja2Ryb3BEaXNtaXNzLCB2aXNpYmxlOiB0aGlzLnNob3dCYWNrZHJvcCwgcGFydDogXCJiYWNrZHJvcFwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicG9wb3Zlci13cmFwcGVyIGlvbi1vdmVybGF5LXdyYXBwZXJcIiwgb25DbGljazogZGlzbWlzc09uU2VsZWN0ID8gKCkgPT4gdGhpcy5kaXNtaXNzKCkgOiB1bmRlZmluZWQgfSwgZW5hYmxlQXJyb3cgJiYgaChcImRpdlwiLCB7IGNsYXNzOiBcInBvcG92ZXItYXJyb3dcIiwgcGFydDogXCJhcnJvd1wiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicG9wb3Zlci1jb250ZW50XCIsIHBhcnQ6IFwiY29udGVudFwiIH0sIGgoXCJzbG90XCIsIG51bGwpKSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJ0cmlnZ2VyXCI6IFtcIm9uVHJpZ2dlckNoYW5nZVwiXSxcbiAgICBcInRyaWdnZXJBY3Rpb25cIjogW1wib25UcmlnZ2VyQ2hhbmdlXCJdLFxuICAgIFwiaXNPcGVuXCI6IFtcIm9uSXNPcGVuQ2hhbmdlXCJdXG4gIH07IH1cbn07XG5jb25zdCBMSUZFQ1lDTEVfTUFQID0ge1xuICAnaW9uUG9wb3ZlckRpZFByZXNlbnQnOiAnaW9uVmlld0RpZEVudGVyJyxcbiAgJ2lvblBvcG92ZXJXaWxsUHJlc2VudCc6ICdpb25WaWV3V2lsbEVudGVyJyxcbiAgJ2lvblBvcG92ZXJXaWxsRGlzbWlzcyc6ICdpb25WaWV3V2lsbExlYXZlJyxcbiAgJ2lvblBvcG92ZXJEaWREaXNtaXNzJzogJ2lvblZpZXdEaWRMZWF2ZScsXG59O1xubGV0IHBvcG92ZXJJZHMgPSAwO1xuUG9wb3Zlci5zdHlsZSA9IHtcbiAgaW9zOiBwb3BvdmVySW9zQ3NzLFxuICBtZDogcG9wb3Zlck1kQ3NzXG59O1xuXG4vKipcbiAqIGlPUyBUb2FzdCBFbnRlciBBbmltYXRpb25cbiAqL1xuY29uc3QgaW9zRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBwb3NpdGlvbikgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHdyYXBwZXJFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnRvYXN0LXdyYXBwZXInKTtcbiAgY29uc3QgYm90dG9tID0gYGNhbGMoLTEwcHggLSB2YXIoLS1pb24tc2FmZS1hcmVhLWJvdHRvbSwgMHB4KSlgO1xuICBjb25zdCB0b3AgPSBgY2FsYygxMHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3AsIDBweCkpYDtcbiAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHdyYXBwZXJFbCk7XG4gIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ3RyYW5zZm9ybScsICd0cmFuc2xhdGVZKC0xMDAlKScsIGB0cmFuc2xhdGVZKCR7dG9wfSlgKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICBjb25zdCB0b3BQb3NpdGlvbiA9IE1hdGguZmxvb3IoYmFzZUVsLmNsaWVudEhlaWdodCAvIDIgLSB3cmFwcGVyRWwuY2xpZW50SGVpZ2h0IC8gMik7XG4gICAgICB3cmFwcGVyRWwuc3R5bGUudG9wID0gYCR7dG9wUG9zaXRpb259cHhgO1xuICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ29wYWNpdHknLCAwLjAxLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21UbygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZVkoMTAwJSknLCBgdHJhbnNsYXRlWSgke2JvdHRvbX0pYCk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMTU1LDEuMTA1LC4yOTUsMS4xMiknKVxuICAgIC5kdXJhdGlvbig0MDApXG4gICAgLmFkZEFuaW1hdGlvbih3cmFwcGVyQW5pbWF0aW9uKTtcbn07XG5cbi8qKlxuICogaU9TIFRvYXN0IExlYXZlIEFuaW1hdGlvblxuICovXG5jb25zdCBpb3NMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwsIHBvc2l0aW9uKSA9PiB7XG4gIGNvbnN0IGJhc2VBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgd3JhcHBlckFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCByb290ID0gZ2V0RWxlbWVudFJvb3QoYmFzZUVsKTtcbiAgY29uc3Qgd3JhcHBlckVsID0gcm9vdC5xdWVyeVNlbGVjdG9yKCcudG9hc3Qtd3JhcHBlcicpO1xuICBjb25zdCBib3R0b20gPSBgY2FsYygtMTBweCAtIHZhcigtLWlvbi1zYWZlLWFyZWEtYm90dG9tLCAwcHgpKWA7XG4gIGNvbnN0IHRvcCA9IGBjYWxjKDEwcHggKyB2YXIoLS1pb24tc2FmZS1hcmVhLXRvcCwgMHB4KSlgO1xuICB3cmFwcGVyQW5pbWF0aW9uLmFkZEVsZW1lbnQod3JhcHBlckVsKTtcbiAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgIGNhc2UgJ3RvcCc6XG4gICAgICB3cmFwcGVyQW5pbWF0aW9uLmZyb21UbygndHJhbnNmb3JtJywgYHRyYW5zbGF0ZVkoJHt0b3B9KWAsICd0cmFuc2xhdGVZKC0xMDAlKScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC45OSwgMCk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgd3JhcHBlckFuaW1hdGlvbi5mcm9tVG8oJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGVZKCR7Ym90dG9tfSlgLCAndHJhbnNsYXRlWSgxMDAlKScpO1xuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIGJhc2VBbmltYXRpb25cbiAgICAuZWFzaW5nKCdjdWJpYy1iZXppZXIoLjM2LC42NiwuMDQsMSknKVxuICAgIC5kdXJhdGlvbigzMDApXG4gICAgLmFkZEFuaW1hdGlvbih3cmFwcGVyQW5pbWF0aW9uKTtcbn07XG5cbi8qKlxuICogTUQgVG9hc3QgRW50ZXIgQW5pbWF0aW9uXG4gKi9cbmNvbnN0IG1kRW50ZXJBbmltYXRpb24gPSAoYmFzZUVsLCBwb3NpdGlvbikgPT4ge1xuICBjb25zdCBiYXNlQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHdyYXBwZXJBbmltYXRpb24gPSBjcmVhdGVBbmltYXRpb24oKTtcbiAgY29uc3Qgcm9vdCA9IGdldEVsZW1lbnRSb290KGJhc2VFbCk7XG4gIGNvbnN0IHdyYXBwZXJFbCA9IHJvb3QucXVlcnlTZWxlY3RvcignLnRvYXN0LXdyYXBwZXInKTtcbiAgY29uc3QgYm90dG9tID0gYGNhbGMoOHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS1ib3R0b20sIDBweCkpYDtcbiAgY29uc3QgdG9wID0gYGNhbGMoOHB4ICsgdmFyKC0taW9uLXNhZmUtYXJlYS10b3AsIDBweCkpYDtcbiAgd3JhcHBlckFuaW1hdGlvbi5hZGRFbGVtZW50KHdyYXBwZXJFbCk7XG4gIHN3aXRjaCAocG9zaXRpb24pIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgd3JhcHBlckVsLnN0eWxlLnRvcCA9IHRvcDtcbiAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtaWRkbGUnOlxuICAgICAgY29uc3QgdG9wUG9zaXRpb24gPSBNYXRoLmZsb29yKGJhc2VFbC5jbGllbnRIZWlnaHQgLyAyIC0gd3JhcHBlckVsLmNsaWVudEhlaWdodCAvIDIpO1xuICAgICAgd3JhcHBlckVsLnN0eWxlLnRvcCA9IGAke3RvcFBvc2l0aW9ufXB4YDtcbiAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgd3JhcHBlckVsLnN0eWxlLmJvdHRvbSA9IGJvdHRvbTtcbiAgICAgIHdyYXBwZXJBbmltYXRpb24uZnJvbVRvKCdvcGFjaXR5JywgMC4wMSwgMSk7XG4gICAgICBicmVhaztcbiAgfVxuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDQwMClcbiAgICAuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xufTtcblxuLyoqXG4gKiBtZCBUb2FzdCBMZWF2ZSBBbmltYXRpb25cbiAqL1xuY29uc3QgbWRMZWF2ZUFuaW1hdGlvbiA9IChiYXNlRWwpID0+IHtcbiAgY29uc3QgYmFzZUFuaW1hdGlvbiA9IGNyZWF0ZUFuaW1hdGlvbigpO1xuICBjb25zdCB3cmFwcGVyQW5pbWF0aW9uID0gY3JlYXRlQW5pbWF0aW9uKCk7XG4gIGNvbnN0IHJvb3QgPSBnZXRFbGVtZW50Um9vdChiYXNlRWwpO1xuICBjb25zdCB3cmFwcGVyRWwgPSByb290LnF1ZXJ5U2VsZWN0b3IoJy50b2FzdC13cmFwcGVyJyk7XG4gIHdyYXBwZXJBbmltYXRpb25cbiAgICAuYWRkRWxlbWVudCh3cmFwcGVyRWwpXG4gICAgLmZyb21Ubygnb3BhY2l0eScsIDAuOTksIDApO1xuICByZXR1cm4gYmFzZUFuaW1hdGlvblxuICAgIC5lYXNpbmcoJ2N1YmljLWJlemllciguMzYsLjY2LC4wNCwxKScpXG4gICAgLmR1cmF0aW9uKDMwMClcbiAgICAuYWRkQW5pbWF0aW9uKHdyYXBwZXJBbmltYXRpb24pO1xufTtcblxuY29uc3QgdG9hc3RJb3NDc3MgPSBcIjpob3N0ey0tYm9yZGVyLXdpZHRoOjA7LS1ib3JkZXItc3R5bGU6bm9uZTstLWJvcmRlci1jb2xvcjppbml0aWFsOy0tYm94LXNoYWRvdzpub25lOy0tbWluLXdpZHRoOmF1dG87LS13aWR0aDphdXRvOy0tbWluLWhlaWdodDphdXRvOy0taGVpZ2h0OmF1dG87LS1tYXgtaGVpZ2h0OmF1dG87LS13aGl0ZS1zcGFjZTpub3JtYWw7bGVmdDowO3RvcDowO2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdXRsaW5lOm5vbmU7Y29sb3I6dmFyKC0tY29sb3IpO2ZvbnQtZmFtaWx5OnZhcigtLWlvbi1mb250LWZhbWlseSwgaW5oZXJpdCk7Y29udGFpbjpzdHJpY3Q7ei1pbmRleDoxMDAxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH06aG9zdCgub3ZlcmxheS1oaWRkZW4pe2Rpc3BsYXk6bm9uZX06aG9zdCguaW9uLWNvbG9yKXstLWJ1dHRvbi1jb2xvcjppbmhlcml0O2NvbG9yOnZhcigtLWlvbi1jb2xvci1jb250cmFzdCl9Omhvc3QoLmlvbi1jb2xvcikgLnRvYXN0LWJ1dHRvbi1jYW5jZWx7Y29sb3I6aW5oZXJpdH06aG9zdCguaW9uLWNvbG9yKSAudG9hc3Qtd3JhcHBlcntiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1iYXNlKX0udG9hc3Qtd3JhcHBlcntib3JkZXItcmFkaXVzOnZhcigtLWJvcmRlci1yYWRpdXMpO2xlZnQ6dmFyKC0tc3RhcnQpO3JpZ2h0OnZhcigtLWVuZCk7d2lkdGg6dmFyKC0td2lkdGgpO21pbi13aWR0aDp2YXIoLS1taW4td2lkdGgpO21heC13aWR0aDp2YXIoLS1tYXgtd2lkdGgpO2hlaWdodDp2YXIoLS1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tbWluLWhlaWdodCk7bWF4LWhlaWdodDp2YXIoLS1tYXgtaGVpZ2h0KTtib3JkZXItd2lkdGg6dmFyKC0tYm9yZGVyLXdpZHRoKTtib3JkZXItc3R5bGU6dmFyKC0tYm9yZGVyLXN0eWxlKTtib3JkZXItY29sb3I6dmFyKC0tYm9yZGVyLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWJhY2tncm91bmQpOy13ZWJraXQtYm94LXNoYWRvdzp2YXIoLS1ib3gtc2hhZG93KTtib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpfVtkaXI9cnRsXSAudG9hc3Qtd3JhcHBlciw6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnRvYXN0LXdyYXBwZXJ7bGVmdDp1bnNldDtyaWdodDp1bnNldDtsZWZ0OnZhcigtLWVuZCk7cmlnaHQ6dmFyKC0tc3RhcnQpfS50b2FzdC1jb250YWluZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjtwb2ludGVyLWV2ZW50czphdXRvO2hlaWdodDppbmhlcml0O21pbi1oZWlnaHQ6aW5oZXJpdDttYXgtaGVpZ2h0OmluaGVyaXQ7Y29udGFpbjpjb250ZW50fS50b2FzdC1jb250ZW50e2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4OjE7ZmxleDoxOy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9LnRvYXN0LWljb257bWFyZ2luLWxlZnQ6MTZweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1pY29ue21hcmdpbi1sZWZ0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjE2cHg7bWFyZ2luLWlubGluZS1zdGFydDoxNnB4fX0udG9hc3QtbWVzc2FnZXstbXMtZmxleDoxO2ZsZXg6MTt3aGl0ZS1zcGFjZTp2YXIoLS13aGl0ZS1zcGFjZSl9LnRvYXN0LWJ1dHRvbi1ncm91cHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleH0udG9hc3QtYnV0dG9ue2JvcmRlcjowO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1idXR0b24tY29sb3IpO3otaW5kZXg6MH0udG9hc3QtaWNvbiwudG9hc3QtYnV0dG9uLWljb257Zm9udC1zaXplOjEuNGVtfS50b2FzdC1idXR0b24taW5uZXJ7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7Y3Vyc29yOnBvaW50ZXJ9fTpob3N0ey0tYmFja2dyb3VuZDp2YXIoLS1pb24tY29sb3Itc3RlcC01MCwgI2YyZjJmMik7LS1ib3JkZXItcmFkaXVzOjE0cHg7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtODUwLCAjMjYyNjI2KTstLW1heC13aWR0aDo3MDBweDstLXN0YXJ0OjEwcHg7LS1lbmQ6MTBweDtmb250LXNpemU6MTRweH0udG9hc3Qtd3JhcHBlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG87ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwfUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LXdyYXBwZXJ7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OmF1dG87bWFyZ2luLWlubGluZS1zdGFydDphdXRvOy13ZWJraXQtbWFyZ2luLWVuZDphdXRvO21hcmdpbi1pbmxpbmUtZW5kOmF1dG99fUBzdXBwb3J0cyAoKC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSBvciAoYmFja2Ryb3AtZmlsdGVyOiBibHVyKDApKSl7Omhvc3QoLnRvYXN0LXRyYW5zbHVjZW50KSAudG9hc3Qtd3JhcHBlcntiYWNrZ3JvdW5kOnJnYmEodmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSwgMC44KTstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpO2JhY2tkcm9wLWZpbHRlcjpzYXR1cmF0ZSgxODAlKSBibHVyKDIwcHgpfX0udG9hc3Qtd3JhcHBlci50b2FzdC10b3B7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIC0xMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAtMTAwJSwgIDApO3RvcDowfS50b2FzdC13cmFwcGVyLnRvYXN0LW1pZGRsZXtvcGFjaXR5OjAuMDF9LnRvYXN0LXdyYXBwZXIudG9hc3QtYm90dG9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsICAxMDAlLCAgMCk7Ym90dG9tOjB9LnRvYXN0LWNvbnRlbnR7cGFkZGluZy1sZWZ0OjE1cHg7cGFkZGluZy1yaWdodDoxNXB4O3BhZGRpbmctdG9wOjE1cHg7cGFkZGluZy1ib3R0b206MTVweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1jb250ZW50e3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxNXB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjE1cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxNXB4O3BhZGRpbmctaW5saW5lLWVuZDoxNXB4fX0udG9hc3QtaGVhZGVye21hcmdpbi1ib3R0b206MnB4O2ZvbnQtd2VpZ2h0OjUwMH0udG9hc3QtYnV0dG9ue3BhZGRpbmctbGVmdDoxNXB4O3BhZGRpbmctcmlnaHQ6MTVweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7aGVpZ2h0OjQ0cHg7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IsIG9wYWNpdHkgMTAwbXMgbGluZWFyO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciwgb3BhY2l0eSAxMDBtcyBsaW5lYXI7Ym9yZGVyOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHkpO2ZvbnQtc2l6ZToxN3B4O2ZvbnQtd2VpZ2h0OjUwMDtvdmVyZmxvdzpoaWRkZW59QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsudG9hc3QtYnV0dG9ue3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxNXB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjE1cHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxNXB4O3BhZGRpbmctaW5saW5lLWVuZDoxNXB4fX0udG9hc3QtYnV0dG9uLmlvbi1hY3RpdmF0ZWR7b3BhY2l0eTowLjR9QG1lZGlhIChhbnktaG92ZXI6IGhvdmVyKXsudG9hc3QtYnV0dG9uOmhvdmVye29wYWNpdHk6MC42fX1cIjtcblxuY29uc3QgdG9hc3RNZENzcyA9IFwiOmhvc3R7LS1ib3JkZXItd2lkdGg6MDstLWJvcmRlci1zdHlsZTpub25lOy0tYm9yZGVyLWNvbG9yOmluaXRpYWw7LS1ib3gtc2hhZG93Om5vbmU7LS1taW4td2lkdGg6YXV0bzstLXdpZHRoOmF1dG87LS1taW4taGVpZ2h0OmF1dG87LS1oZWlnaHQ6YXV0bzstLW1heC1oZWlnaHQ6YXV0bzstLXdoaXRlLXNwYWNlOm5vcm1hbDtsZWZ0OjA7dG9wOjA7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO291dGxpbmU6bm9uZTtjb2xvcjp2YXIoLS1jb2xvcik7Zm9udC1mYW1pbHk6dmFyKC0taW9uLWZvbnQtZmFtaWx5LCBpbmhlcml0KTtjb250YWluOnN0cmljdDt6LWluZGV4OjEwMDE7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSl7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfTpob3N0KC5vdmVybGF5LWhpZGRlbil7ZGlzcGxheTpub25lfTpob3N0KC5pb24tY29sb3Ipey0tYnV0dG9uLWNvbG9yOmluaGVyaXQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0KX06aG9zdCguaW9uLWNvbG9yKSAudG9hc3QtYnV0dG9uLWNhbmNlbHtjb2xvcjppbmhlcml0fTpob3N0KC5pb24tY29sb3IpIC50b2FzdC13cmFwcGVye2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLWJhc2UpfS50b2FzdC13cmFwcGVye2JvcmRlci1yYWRpdXM6dmFyKC0tYm9yZGVyLXJhZGl1cyk7bGVmdDp2YXIoLS1zdGFydCk7cmlnaHQ6dmFyKC0tZW5kKTt3aWR0aDp2YXIoLS13aWR0aCk7bWluLXdpZHRoOnZhcigtLW1pbi13aWR0aCk7bWF4LXdpZHRoOnZhcigtLW1heC13aWR0aCk7aGVpZ2h0OnZhcigtLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1taW4taGVpZ2h0KTttYXgtaGVpZ2h0OnZhcigtLW1heC1oZWlnaHQpO2JvcmRlci13aWR0aDp2YXIoLS1ib3JkZXItd2lkdGgpO2JvcmRlci1zdHlsZTp2YXIoLS1ib3JkZXItc3R5bGUpO2JvcmRlci1jb2xvcjp2YXIoLS1ib3JkZXItY29sb3IpO2JhY2tncm91bmQ6dmFyKC0tYmFja2dyb3VuZCk7LXdlYmtpdC1ib3gtc2hhZG93OnZhcigtLWJveC1zaGFkb3cpO2JveC1zaGFkb3c6dmFyKC0tYm94LXNoYWRvdyl9W2Rpcj1ydGxdIC50b2FzdC13cmFwcGVyLDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAudG9hc3Qtd3JhcHBlcntsZWZ0OnVuc2V0O3JpZ2h0OnVuc2V0O2xlZnQ6dmFyKC0tZW5kKTtyaWdodDp2YXIoLS1zdGFydCl9LnRvYXN0LWNvbnRhaW5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO3BvaW50ZXItZXZlbnRzOmF1dG87aGVpZ2h0OmluaGVyaXQ7bWluLWhlaWdodDppbmhlcml0O21heC1oZWlnaHQ6aW5oZXJpdDtjb250YWluOmNvbnRlbnR9LnRvYXN0LWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXg6MTtmbGV4OjE7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcn0udG9hc3QtaWNvbnttYXJnaW4tbGVmdDoxNnB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWljb257bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MTZweDttYXJnaW4taW5saW5lLXN0YXJ0OjE2cHh9fS50b2FzdC1tZXNzYWdley1tcy1mbGV4OjE7ZmxleDoxO3doaXRlLXNwYWNlOnZhcigtLXdoaXRlLXNwYWNlKX0udG9hc3QtYnV0dG9uLWdyb3Vwe2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4fS50b2FzdC1idXR0b257Ym9yZGVyOjA7b3V0bGluZTpub25lO2NvbG9yOnZhcigtLWJ1dHRvbi1jb2xvcik7ei1pbmRleDowfS50b2FzdC1pY29uLC50b2FzdC1idXR0b24taWNvbntmb250LXNpemU6MS40ZW19LnRvYXN0LWJ1dHRvbi1pbm5lcntkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfUBtZWRpYSAoYW55LWhvdmVyOiBob3Zlcil7LnRvYXN0LWJ1dHRvbjpob3ZlcntjdXJzb3I6cG9pbnRlcn19Omhvc3R7LS1iYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTgwMCwgIzMzMzMzMyk7LS1ib3JkZXItcmFkaXVzOjRweDstLWJveC1zaGFkb3c6MCAzcHggNXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7LS1idXR0b24tY29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpOy0tY29sb3I6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNTAsICNmMmYyZjIpOy0tbWF4LXdpZHRoOjcwMHB4Oy0tc3RhcnQ6OHB4Oy0tZW5kOjhweDtmb250LXNpemU6MTRweH0udG9hc3Qtd3JhcHBlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvO21hcmdpbi10b3A6YXV0bzttYXJnaW4tYm90dG9tOmF1dG87ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5OjAuMDE7ei1pbmRleDoxMH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC13cmFwcGVye21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDphdXRvO21hcmdpbi1pbmxpbmUtc3RhcnQ6YXV0bzstd2Via2l0LW1hcmdpbi1lbmQ6YXV0bzttYXJnaW4taW5saW5lLWVuZDphdXRvfX0udG9hc3QtY29udGVudHtwYWRkaW5nLWxlZnQ6MTZweDtwYWRkaW5nLXJpZ2h0OjE2cHg7cGFkZGluZy10b3A6MTRweDtwYWRkaW5nLWJvdHRvbToxNHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWNvbnRlbnR7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE2cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTZweDstd2Via2l0LXBhZGRpbmctZW5kOjE2cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE2cHh9fS50b2FzdC1oZWFkZXJ7bWFyZ2luLWJvdHRvbToycHg7Zm9udC13ZWlnaHQ6NTAwO2xpbmUtaGVpZ2h0OjIwcHh9LnRvYXN0LW1lc3NhZ2V7bGluZS1oZWlnaHQ6MjBweH0udG9hc3QtYnV0dG9uLWdyb3VwLXN0YXJ0e21hcmdpbi1sZWZ0OjhweH1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1idXR0b24tZ3JvdXAtc3RhcnR7bWFyZ2luLWxlZnQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6OHB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6OHB4fX0udG9hc3QtYnV0dG9uLWdyb3VwLWVuZHttYXJnaW4tcmlnaHQ6OHB4fUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7LnRvYXN0LWJ1dHRvbi1ncm91cC1lbmR7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLWVuZDo4cHg7bWFyZ2luLWlubGluZS1lbmQ6OHB4fX0udG9hc3QtYnV0dG9ue3BhZGRpbmctbGVmdDoxNXB4O3BhZGRpbmctcmlnaHQ6MTVweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHkpO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMDtsZXR0ZXItc3BhY2luZzowLjg0cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApey50b2FzdC1idXR0b257cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OjE1cHg7cGFkZGluZy1pbmxpbmUtc3RhcnQ6MTVweDstd2Via2l0LXBhZGRpbmctZW5kOjE1cHg7cGFkZGluZy1pbmxpbmUtZW5kOjE1cHh9fS50b2FzdC1idXR0b24tY2FuY2Vse2NvbG9yOnZhcigtLWlvbi1jb2xvci1zdGVwLTEwMCwgI2U2ZTZlNil9LnRvYXN0LWJ1dHRvbi1pY29uLW9ubHl7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZy1sZWZ0OjlweDtwYWRkaW5nLXJpZ2h0OjlweDtwYWRkaW5nLXRvcDo5cHg7cGFkZGluZy1ib3R0b206OXB4O3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXsudG9hc3QtYnV0dG9uLWljb24tb25seXtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6OXB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjlweDstd2Via2l0LXBhZGRpbmctZW5kOjlweDtwYWRkaW5nLWlubGluZS1lbmQ6OXB4fX1AbWVkaWEgKGFueS1ob3ZlcjogaG92ZXIpey50b2FzdC1idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC4wOCl9LnRvYXN0LWJ1dHRvbi1jYW5jZWw6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSksIDAuMDgpfX1cIjtcblxubGV0IFRvYXN0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRpZFByZXNlbnQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblRvYXN0RGlkUHJlc2VudFwiLCA3KTtcbiAgICB0aGlzLndpbGxQcmVzZW50ID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Ub2FzdFdpbGxQcmVzZW50XCIsIDcpO1xuICAgIHRoaXMud2lsbERpc21pc3MgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblRvYXN0V2lsbERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5kaWREaXNtaXNzID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25Ub2FzdERpZERpc21pc3NcIiwgNyk7XG4gICAgdGhpcy5wcmVzZW50ZWQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBIb3cgbWFueSBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgaGlkaW5nIHRoZSB0b2FzdC4gQnkgZGVmYXVsdCwgaXQgd2lsbCBzaG93XG4gICAgICogdW50aWwgYGRpc21pc3MoKWAgaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgIC8qKlxuICAgICAqIElmIGB0cnVlYCwgdGhlIGtleWJvYXJkIHdpbGwgYmUgYXV0b21hdGljYWxseSBkaXNtaXNzZWQgd2hlbiB0aGUgb3ZlcmxheSBpcyBwcmVzZW50ZWQuXG4gICAgICovXG4gICAgdGhpcy5rZXlib2FyZENsb3NlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSB0b2FzdCBvbiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gPSAnYm90dG9tJztcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSB0b2FzdCB3aWxsIGJlIHRyYW5zbHVjZW50LlxuICAgICAqIE9ubHkgYXBwbGllcyB3aGVuIHRoZSBtb2RlIGlzIGBcImlvc1wiYCBhbmQgdGhlIGRldmljZSBzdXBwb3J0c1xuICAgICAqIFtgYmFja2Ryb3AtZmlsdGVyYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2JhY2tkcm9wLWZpbHRlciNCcm93c2VyX2NvbXBhdGliaWxpdHkpLlxuICAgICAqL1xuICAgIHRoaXMudHJhbnNsdWNlbnQgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBJZiBgdHJ1ZWAsIHRoZSB0b2FzdCB3aWxsIGFuaW1hdGUuXG4gICAgICovXG4gICAgdGhpcy5hbmltYXRlZCA9IHRydWU7XG4gICAgdGhpcy5kaXNwYXRjaENhbmNlbEhhbmRsZXIgPSAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHJvbGUgPSBldi5kZXRhaWwucm9sZTtcbiAgICAgIGlmIChpc0NhbmNlbChyb2xlKSkge1xuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b24gPSB0aGlzLmdldEJ1dHRvbnMoKS5maW5kKGIgPT4gYi5yb2xlID09PSAnY2FuY2VsJyk7XG4gICAgICAgIHRoaXMuY2FsbEJ1dHRvbkhhbmRsZXIoY2FuY2VsQnV0dG9uKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHByZXBhcmVPdmVybGF5KHRoaXMuZWwpO1xuICB9XG4gIC8qKlxuICAgKiBQcmVzZW50IHRoZSB0b2FzdCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBhc3luYyBwcmVzZW50KCkge1xuICAgIGF3YWl0IHByZXNlbnQodGhpcywgJ3RvYXN0RW50ZXInLCBpb3NFbnRlckFuaW1hdGlvbiwgbWRFbnRlckFuaW1hdGlvbiwgdGhpcy5wb3NpdGlvbik7XG4gICAgaWYgKHRoaXMuZHVyYXRpb24gPiAwKSB7XG4gICAgICB0aGlzLmR1cmF0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgJ3RpbWVvdXQnKSwgdGhpcy5kdXJhdGlvbik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEaXNtaXNzIHRoZSB0b2FzdCBvdmVybGF5IGFmdGVyIGl0IGhhcyBiZWVuIHByZXNlbnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgQW55IGRhdGEgdG8gZW1pdCBpbiB0aGUgZGlzbWlzcyBldmVudHMuXG4gICAqIEBwYXJhbSByb2xlIFRoZSByb2xlIG9mIHRoZSBlbGVtZW50IHRoYXQgaXMgZGlzbWlzc2luZyB0aGUgdG9hc3QuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpbiBhIGJ1dHRvbiBoYW5kbGVyIGZvciBkZXRlcm1pbmluZyB3aGljaCBidXR0b24gd2FzXG4gICAqIGNsaWNrZWQgdG8gZGlzbWlzcyB0aGUgdG9hc3QuXG4gICAqIFNvbWUgZXhhbXBsZXMgaW5jbHVkZTogYGBcImNhbmNlbFwiYCwgYFwiZGVzdHJ1Y3RpdmVcImAsIFwic2VsZWN0ZWRcImAsIGFuZCBgXCJiYWNrZHJvcFwiYC5cbiAgICovXG4gIGRpc21pc3MoZGF0YSwgcm9sZSkge1xuICAgIGlmICh0aGlzLmR1cmF0aW9uVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZHVyYXRpb25UaW1lb3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpc21pc3ModGhpcywgZGF0YSwgcm9sZSwgJ3RvYXN0TGVhdmUnLCBpb3NMZWF2ZUFuaW1hdGlvbiwgbWRMZWF2ZUFuaW1hdGlvbiwgdGhpcy5wb3NpdGlvbik7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgdG9hc3QgZGlkIGRpc21pc3MuXG4gICAqL1xuICBvbkRpZERpc21pc3MoKSB7XG4gICAgcmV0dXJuIGV2ZW50TWV0aG9kKHRoaXMuZWwsICdpb25Ub2FzdERpZERpc21pc3MnKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSB0b2FzdCB3aWxsIGRpc21pc3MuXG4gICAqL1xuICBvbldpbGxEaXNtaXNzKCkge1xuICAgIHJldHVybiBldmVudE1ldGhvZCh0aGlzLmVsLCAnaW9uVG9hc3RXaWxsRGlzbWlzcycpO1xuICB9XG4gIGdldEJ1dHRvbnMoKSB7XG4gICAgY29uc3QgYnV0dG9ucyA9IHRoaXMuYnV0dG9uc1xuICAgICAgPyB0aGlzLmJ1dHRvbnMubWFwKGIgPT4ge1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBiID09PSAnc3RyaW5nJylcbiAgICAgICAgICA/IHsgdGV4dDogYiB9XG4gICAgICAgICAgOiBiO1xuICAgICAgfSlcbiAgICAgIDogW107XG4gICAgcmV0dXJuIGJ1dHRvbnM7XG4gIH1cbiAgYXN5bmMgYnV0dG9uQ2xpY2soYnV0dG9uKSB7XG4gICAgY29uc3Qgcm9sZSA9IGJ1dHRvbi5yb2xlO1xuICAgIGlmIChpc0NhbmNlbChyb2xlKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzbWlzcyh1bmRlZmluZWQsIHJvbGUpO1xuICAgIH1cbiAgICBjb25zdCBzaG91bGREaXNtaXNzID0gYXdhaXQgdGhpcy5jYWxsQnV0dG9uSGFuZGxlcihidXR0b24pO1xuICAgIGlmIChzaG91bGREaXNtaXNzKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNtaXNzKHVuZGVmaW5lZCwgcm9sZSk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuICBhc3luYyBjYWxsQnV0dG9uSGFuZGxlcihidXR0b24pIHtcbiAgICBpZiAoYnV0dG9uICYmIGJ1dHRvbi5oYW5kbGVyKSB7XG4gICAgICAvLyBhIGhhbmRsZXIgaGFzIGJlZW4gcHJvdmlkZWQsIGV4ZWN1dGUgaXRcbiAgICAgIC8vIHBhc3MgdGhlIGhhbmRsZXIgdGhlIHZhbHVlcyBmcm9tIHRoZSBpbnB1dHNcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJ0biA9IGF3YWl0IHNhZmVDYWxsKGJ1dHRvbi5oYW5kbGVyKTtcbiAgICAgICAgaWYgKHJ0biA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAvLyBpZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBoYW5kbGVyIGlzIGZhbHNlIHRoZW4gZG8gbm90IGRpc21pc3NcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlbmRlckJ1dHRvbnMoYnV0dG9ucywgc2lkZSkge1xuICAgIGlmIChidXR0b25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCBidXR0b25Hcm91cHNDbGFzc2VzID0ge1xuICAgICAgJ3RvYXN0LWJ1dHRvbi1ncm91cCc6IHRydWUsXG4gICAgICBbYHRvYXN0LWJ1dHRvbi1ncm91cC0ke3NpZGV9YF06IHRydWVcbiAgICB9O1xuICAgIHJldHVybiAoaChcImRpdlwiLCB7IGNsYXNzOiBidXR0b25Hcm91cHNDbGFzc2VzIH0sIGJ1dHRvbnMubWFwKGIgPT4gaChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzOiBidXR0b25DbGFzcyhiKSwgdGFiSW5kZXg6IDAsIG9uQ2xpY2s6ICgpID0+IHRoaXMuYnV0dG9uQ2xpY2soYiksIHBhcnQ6IFwiYnV0dG9uXCIgfSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInRvYXN0LWJ1dHRvbi1pbm5lclwiIH0sIGIuaWNvbiAmJlxuICAgICAgaChcImlvbi1pY29uXCIsIHsgaWNvbjogYi5pY29uLCBzbG90OiBiLnRleHQgPT09IHVuZGVmaW5lZCA/ICdpY29uLW9ubHknIDogdW5kZWZpbmVkLCBjbGFzczogXCJ0b2FzdC1idXR0b24taWNvblwiIH0pLCBiLnRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCB7IHR5cGU6IGIuaWNvbiAhPT0gdW5kZWZpbmVkICYmIGIudGV4dCA9PT0gdW5kZWZpbmVkID8gJ3VuYm91bmRlZCcgOiAnYm91bmRlZCcgfSkpKSkpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBhbGxCdXR0b25zID0gdGhpcy5nZXRCdXR0b25zKCk7XG4gICAgY29uc3Qgc3RhcnRCdXR0b25zID0gYWxsQnV0dG9ucy5maWx0ZXIoYiA9PiBiLnNpZGUgPT09ICdzdGFydCcpO1xuICAgIGNvbnN0IGVuZEJ1dHRvbnMgPSBhbGxCdXR0b25zLmZpbHRlcihiID0+IGIuc2lkZSAhPT0gJ3N0YXJ0Jyk7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3Qgd3JhcHBlckNsYXNzID0ge1xuICAgICAgJ3RvYXN0LXdyYXBwZXInOiB0cnVlLFxuICAgICAgW2B0b2FzdC0ke3RoaXMucG9zaXRpb259YF06IHRydWVcbiAgICB9O1xuICAgIGNvbnN0IHJvbGUgPSBhbGxCdXR0b25zLmxlbmd0aCA+IDAgPyAnZGlhbG9nJyA6ICdzdGF0dXMnO1xuICAgIHJldHVybiAoaChIb3N0LCBPYmplY3QuYXNzaWduKHsgcm9sZTogcm9sZSwgdGFiaW5kZXg6IFwiLTFcIiB9LCB0aGlzLmh0bWxBdHRyaWJ1dGVzLCB7IHN0eWxlOiB7XG4gICAgICAgIHpJbmRleDogYCR7NjAwMDAgKyB0aGlzLm92ZXJsYXlJbmRleH1gLFxuICAgICAgfSwgY2xhc3M6IGNyZWF0ZUNvbG9yQ2xhc3Nlcyh0aGlzLmNvbG9yLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBbbW9kZV06IHRydWUgfSwgZ2V0Q2xhc3NNYXAodGhpcy5jc3NDbGFzcykpLCB7ICdvdmVybGF5LWhpZGRlbic6IHRydWUsICd0b2FzdC10cmFuc2x1Y2VudCc6IHRoaXMudHJhbnNsdWNlbnQgfSkpLCBvbklvblRvYXN0V2lsbERpc21pc3M6IHRoaXMuZGlzcGF0Y2hDYW5jZWxIYW5kbGVyIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IHdyYXBwZXJDbGFzcyB9LCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwidG9hc3QtY29udGFpbmVyXCIsIHBhcnQ6IFwiY29udGFpbmVyXCIgfSwgdGhpcy5yZW5kZXJCdXR0b25zKHN0YXJ0QnV0dG9ucywgJ3N0YXJ0JyksIHRoaXMuaWNvbiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBoKFwiaW9uLWljb25cIiwgeyBjbGFzczogXCJ0b2FzdC1pY29uXCIsIHBhcnQ6IFwiaWNvblwiLCBpY29uOiB0aGlzLmljb24sIGxhenk6IGZhbHNlLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwidG9hc3QtY29udGVudFwiIH0sIHRoaXMuaGVhZGVyICE9PSB1bmRlZmluZWQgJiZcbiAgICAgIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0b2FzdC1oZWFkZXJcIiwgcGFydDogXCJoZWFkZXJcIiB9LCB0aGlzLmhlYWRlciksIHRoaXMubWVzc2FnZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICBoKFwiZGl2XCIsIHsgY2xhc3M6IFwidG9hc3QtbWVzc2FnZVwiLCBwYXJ0OiBcIm1lc3NhZ2VcIiwgaW5uZXJIVE1MOiBzYW5pdGl6ZURPTVN0cmluZyh0aGlzLm1lc3NhZ2UpIH0pKSwgdGhpcy5yZW5kZXJCdXR0b25zKGVuZEJ1dHRvbnMsICdlbmQnKSkpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcbmNvbnN0IGJ1dHRvbkNsYXNzID0gKGJ1dHRvbikgPT4ge1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7ICd0b2FzdC1idXR0b24nOiB0cnVlLCAndG9hc3QtYnV0dG9uLWljb24tb25seSc6IGJ1dHRvbi5pY29uICE9PSB1bmRlZmluZWQgJiYgYnV0dG9uLnRleHQgPT09IHVuZGVmaW5lZCwgW2B0b2FzdC1idXR0b24tJHtidXR0b24ucm9sZX1gXTogYnV0dG9uLnJvbGUgIT09IHVuZGVmaW5lZCwgJ2lvbi1mb2N1c2FibGUnOiB0cnVlLCAnaW9uLWFjdGl2YXRhYmxlJzogdHJ1ZSB9LCBnZXRDbGFzc01hcChidXR0b24uY3NzQ2xhc3MpKTtcbn07XG5Ub2FzdC5zdHlsZSA9IHtcbiAgaW9zOiB0b2FzdElvc0NzcyxcbiAgbWQ6IHRvYXN0TWRDc3Ncbn07XG5cbmxldCBsYXN0SWQgPSAwO1xuY29uc3QgYWN0aXZlQW5pbWF0aW9ucyA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCBjcmVhdGVDb250cm9sbGVyID0gKHRhZ05hbWUsIGN1c3RvbUVsZW1lbnQpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBjcmVhdGUob3B0aW9ucykge1xuICAgICAgcmV0dXJuIGNyZWF0ZU92ZXJsYXkodGFnTmFtZSwgb3B0aW9ucywgY3VzdG9tRWxlbWVudCk7XG4gICAgfSxcbiAgICBkaXNtaXNzKGRhdGEsIHJvbGUsIGlkKSB7XG4gICAgICByZXR1cm4gZGlzbWlzc092ZXJsYXkoZG9jdW1lbnQsIGRhdGEsIHJvbGUsIHRhZ05hbWUsIGlkKTtcbiAgICB9LFxuICAgIGFzeW5jIGdldFRvcCgpIHtcbiAgICAgIHJldHVybiBnZXRPdmVybGF5KGRvY3VtZW50LCB0YWdOYW1lKTtcbiAgICB9XG4gIH07XG59O1xuY29uc3QgYWxlcnRDb250cm9sbGVyID0gLypAX19QVVJFX18qLyBjcmVhdGVDb250cm9sbGVyKCdpb24tYWxlcnQnLCBBbGVydCk7XG5jb25zdCBhY3Rpb25TaGVldENvbnRyb2xsZXIgPSAvKkBfX1BVUkVfXyovIGNyZWF0ZUNvbnRyb2xsZXIoJ2lvbi1hY3Rpb24tc2hlZXQnLCBBY3Rpb25TaGVldCk7XG5jb25zdCBsb2FkaW5nQ29udHJvbGxlciA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlQ29udHJvbGxlcignaW9uLWxvYWRpbmcnLCBMb2FkaW5nKTtcbmNvbnN0IG1vZGFsQ29udHJvbGxlciA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlQ29udHJvbGxlcignaW9uLW1vZGFsJywgTW9kYWwpO1xuY29uc3QgcGlja2VyQ29udHJvbGxlciA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlQ29udHJvbGxlcignaW9uLXBpY2tlcicsIFBpY2tlcik7XG5jb25zdCBwb3BvdmVyQ29udHJvbGxlciA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlQ29udHJvbGxlcignaW9uLXBvcG92ZXInLCBQb3BvdmVyKTtcbmNvbnN0IHRvYXN0Q29udHJvbGxlciA9IC8qQF9fUFVSRV9fKi8gY3JlYXRlQ29udHJvbGxlcignaW9uLXRvYXN0JywgVG9hc3QpO1xuY29uc3QgcHJlcGFyZU92ZXJsYXkgPSAoZWwpID0+IHtcbiAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lICovXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29ubmVjdExpc3RlbmVycyhkb2N1bWVudCk7XG4gIH1cbiAgY29uc3Qgb3ZlcmxheUluZGV4ID0gbGFzdElkKys7XG4gIGVsLm92ZXJsYXlJbmRleCA9IG92ZXJsYXlJbmRleDtcbiAgaWYgKCFlbC5oYXNBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICBlbC5pZCA9IGBpb24tb3ZlcmxheS0ke292ZXJsYXlJbmRleH1gO1xuICB9XG59O1xuY29uc3QgY3JlYXRlT3ZlcmxheSA9ICh0YWdOYW1lLCBvcHRzLCBjdXN0b21FbGVtZW50KSA9PiB7XG4gIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZSAqL1xuICBpZiAodHlwZW9mIHdpbmRvdy5jdXN0b21FbGVtZW50cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cyAmJlxuICAgICAgIXdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSkpIHtcbiAgICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY3VzdG9tRWxlbWVudCk7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQodGFnTmFtZSkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheS1oaWRkZW4nKTtcbiAgICAgIC8qKlxuICAgICAgICogQ29udmVydCB0aGUgcGFzc2VkIGluIG92ZXJsYXkgb3B0aW9ucyBpbnRvIHByb3BzXG4gICAgICAgKiB0aGF0IGdldCBwYXNzZWQgZG93biBpbnRvIHRoZSBuZXcgb3ZlcmxheS5cbiAgICAgICAqL1xuICAgICAgT2JqZWN0LmFzc2lnbihlbGVtZW50LCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdHMpLCB7IGhhc0NvbnRyb2xsZXI6IHRydWUgfSkpO1xuICAgICAgLy8gYXBwZW5kIHRoZSBvdmVybGF5IGVsZW1lbnQgdG8gdGhlIGRvY3VtZW50IGJvZHlcbiAgICAgIGdldEFwcFJvb3QoZG9jdW1lbnQpLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gY29tcG9uZW50T25SZWFkeShlbGVtZW50LCByZXNvbHZlKSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xufTtcbmNvbnN0IGZvY3VzYWJsZVF1ZXJ5U3RyaW5nID0gJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pOm5vdChbdGFiaW5kZXhePVwiLVwiXSksIHRleHRhcmVhOm5vdChbdGFiaW5kZXhePVwiLVwiXSksIGJ1dHRvbjpub3QoW3RhYmluZGV4Xj1cIi1cIl0pLCBzZWxlY3Q6bm90KFt0YWJpbmRleF49XCItXCJdKSwgLmlvbi1mb2N1c2FibGU6bm90KFt0YWJpbmRleF49XCItXCJdKSc7XG5jb25zdCBpbm5lckZvY3VzYWJsZVF1ZXJ5U3RyaW5nID0gJ2lucHV0Om5vdChbdHlwZT1oaWRkZW5dKSwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0JztcbmNvbnN0IGZvY3VzRmlyc3REZXNjZW5kYW50ID0gKHJlZiwgb3ZlcmxheSkgPT4ge1xuICBsZXQgZmlyc3RJbnB1dCA9IHJlZi5xdWVyeVNlbGVjdG9yKGZvY3VzYWJsZVF1ZXJ5U3RyaW5nKTtcbiAgY29uc3Qgc2hhZG93Um9vdCA9IGZpcnN0SW5wdXQgJiYgZmlyc3RJbnB1dC5zaGFkb3dSb290O1xuICBpZiAoc2hhZG93Um9vdCkge1xuICAgIC8vIElmIHRoZXJlIGFyZSBubyBpbm5lciBmb2N1c2FibGUgZWxlbWVudHMsIGp1c3QgZm9jdXMgdGhlIGhvc3QgZWxlbWVudC5cbiAgICBmaXJzdElucHV0ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGlubmVyRm9jdXNhYmxlUXVlcnlTdHJpbmcpIHx8IGZpcnN0SW5wdXQ7XG4gIH1cbiAgaWYgKGZpcnN0SW5wdXQpIHtcbiAgICBmb2N1c0VsZW1lbnQoZmlyc3RJbnB1dCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRm9jdXMgb3ZlcmxheSBpbnN0ZWFkIG9mIGxldHRpbmcgZm9jdXMgZXNjYXBlXG4gICAgb3ZlcmxheS5mb2N1cygpO1xuICB9XG59O1xuY29uc3QgZm9jdXNMYXN0RGVzY2VuZGFudCA9IChyZWYsIG92ZXJsYXkpID0+IHtcbiAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShyZWYucXVlcnlTZWxlY3RvckFsbChmb2N1c2FibGVRdWVyeVN0cmluZykpO1xuICBsZXQgbGFzdElucHV0ID0gaW5wdXRzLmxlbmd0aCA+IDAgPyBpbnB1dHNbaW5wdXRzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgY29uc3Qgc2hhZG93Um9vdCA9IGxhc3RJbnB1dCAmJiBsYXN0SW5wdXQuc2hhZG93Um9vdDtcbiAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaW5uZXIgZm9jdXNhYmxlIGVsZW1lbnRzLCBqdXN0IGZvY3VzIHRoZSBob3N0IGVsZW1lbnQuXG4gICAgbGFzdElucHV0ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGlubmVyRm9jdXNhYmxlUXVlcnlTdHJpbmcpIHx8IGxhc3RJbnB1dDtcbiAgfVxuICBpZiAobGFzdElucHV0KSB7XG4gICAgbGFzdElucHV0LmZvY3VzKCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gRm9jdXMgb3ZlcmxheSBpbnN0ZWFkIG9mIGxldHRpbmcgZm9jdXMgZXNjYXBlXG4gICAgb3ZlcmxheS5mb2N1cygpO1xuICB9XG59O1xuLyoqXG4gKiBUcmFwcyBrZXlib2FyZCBmb2N1cyBpbnNpZGUgb2Ygb3ZlcmxheSBjb21wb25lbnRzLlxuICogQmFzZWQgb24gaHR0cHM6Ly93M2MuZ2l0aHViLmlvL2FyaWEtcHJhY3RpY2VzL2V4YW1wbGVzL2RpYWxvZy1tb2RhbC9hbGVydGRpYWxvZy5odG1sXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogQWN0aW9uIFNoZWV0LCBBbGVydCwgTG9hZGluZywgTW9kYWwsXG4gKiBQaWNrZXIsIGFuZCBQb3BvdmVyLlxuICogU2hvdWxkIE5PVCBpbmNsdWRlOiBUb2FzdFxuICovXG5jb25zdCB0cmFwS2V5Ym9hcmRGb2N1cyA9IChldiwgZG9jKSA9PiB7XG4gIGNvbnN0IGxhc3RPdmVybGF5ID0gZ2V0T3ZlcmxheShkb2MpO1xuICBjb25zdCB0YXJnZXQgPSBldi50YXJnZXQ7XG4gIC8qKlxuICAgKiBJZiBubyBhY3RpdmUgb3ZlcmxheSwgaWdub3JlIHRoaXMgZXZlbnQuXG4gICAqXG4gICAqIElmIHRoaXMgY29tcG9uZW50IHVzZXMgdGhlIHNoYWRvdyBkb20sXG4gICAqIHRoaXMgZ2xvYmFsIGxpc3RlbmVyIGlzIHBvaW50bGVzc1xuICAgKiBzaW5jZSBpdCB3aWxsIG5vdCBjYXRjaCB0aGUgZm9jdXNcbiAgICogdHJhcHMgYXMgdGhleSBhcmUgaW5zaWRlIHRoZSBzaGFkb3cgcm9vdC5cbiAgICogV2UgbmVlZCB0byBhZGQgYSBsaXN0ZW5lciB0byB0aGUgc2hhZG93IHJvb3RcbiAgICogaXRzZWxmIHRvIGVuc3VyZSB0aGUgZm9jdXMgdHJhcCB3b3Jrcy5cbiAgICovXG4gIGlmICghbGFzdE92ZXJsYXkgfHwgIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0cmFwU2NvcGVkRm9jdXMgPSAoKSA9PiB7XG4gICAgLyoqXG4gICAgICogSWYgd2UgYXJlIGZvY3VzaW5nIHRoZSBvdmVybGF5LCBjbGVhclxuICAgICAqIHRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudCBzbyB0aGF0IGhpdHRpbmdcbiAgICAgKiB0YWIgYWN0aXZhdGVzIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudFxuICAgICAqIGluIHRoZSBvdmVybGF5IHdyYXBwZXIuXG4gICAgICovXG4gICAgaWYgKGxhc3RPdmVybGF5ID09PSB0YXJnZXQpIHtcbiAgICAgIGxhc3RPdmVybGF5Lmxhc3RGb2N1cyA9IHVuZGVmaW5lZDtcbiAgICAgIC8qKlxuICAgICAgICogT3RoZXJ3aXNlLCB3ZSBtdXN0IGJlIGZvY3VzaW5nIGFuIGVsZW1lbnRcbiAgICAgICAqIGluc2lkZSBvZiB0aGUgb3ZlcmxheS4gVGhlIHR3byBwb3NzaWJsZSBvcHRpb25zXG4gICAgICAgKiBoZXJlIGFyZSBhbiBpbnB1dC9idXR0b24vZXRjIG9yIHRoZSBpb24tZm9jdXMtdHJhcFxuICAgICAgICogZWxlbWVudC4gVGhlIGZvY3VzIHRyYXAgZWxlbWVudCBpcyB1c2VkIHRvIHByZXZlbnRcbiAgICAgICAqIHRoZSBrZXlib2FyZCBmb2N1cyBmcm9tIGxlYXZpbmcgdGhlIG92ZXJsYXkgd2hlblxuICAgICAgICogdXNpbmcgVGFiIG9yIHNjcmVlbiBhc3Npc3RhbnRzLlxuICAgICAgICovXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBXZSBkbyBub3Qgd2FudCB0byBmb2N1cyB0aGUgdHJhcHMsIHNvIGdldCB0aGUgb3ZlcmxheVxuICAgICAgICogd3JhcHBlciBlbGVtZW50IGFzIHRoZSB0cmFwcyBsaXZlIG91dHNpZGUgb2YgdGhlIHdyYXBwZXIuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IG92ZXJsYXlSb290ID0gZ2V0RWxlbWVudFJvb3QobGFzdE92ZXJsYXkpO1xuICAgICAgaWYgKCFvdmVybGF5Um9vdC5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG92ZXJsYXlXcmFwcGVyID0gb3ZlcmxheVJvb3QucXVlcnlTZWxlY3RvcignLmlvbi1vdmVybGF5LXdyYXBwZXInKTtcbiAgICAgIGlmICghb3ZlcmxheVdyYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBJZiB0aGUgdGFyZ2V0IGlzIGluc2lkZSB0aGUgd3JhcHBlciwgbGV0IHRoZSBicm93c2VyXG4gICAgICAgKiBmb2N1cyBhcyBub3JtYWwgYW5kIGtlZXAgYSBsb2cgb2YgdGhlIGxhc3QgZm9jdXNlZCBlbGVtZW50LlxuICAgICAgICovXG4gICAgICBpZiAob3ZlcmxheVdyYXBwZXIuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICBsYXN0T3ZlcmxheS5sYXN0Rm9jdXMgPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE90aGVyd2lzZSwgd2UgbXVzdCBoYXZlIGZvY3VzZWQgb25lIG9mIHRoZSBmb2N1cyB0cmFwcy5cbiAgICAgICAgICogV2UgbmVlZCB0byB3cmFwIHRoZSBmb2N1cyB0byBlaXRoZXIgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICogb3IgdGhlIGxhc3QgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmNlIHdlIGNhbGwgYGZvY3VzRmlyc3REZXNjZW5kYW50YCBhbmQgZm9jdXMgdGhlIGZpcnN0XG4gICAgICAgICAqIGRlc2NlbmRhbnQsIGFub3RoZXIgZm9jdXMgZXZlbnQgd2lsbCBmaXJlIHdoaWNoIHdpbGxcbiAgICAgICAgICogY2F1c2UgYGxhc3RPdmVybGF5Lmxhc3RGb2N1c2AgdG8gYmUgdXBkYXRlZCBiZWZvcmVcbiAgICAgICAgICogd2UgY2FuIHJ1biB0aGUgY29kZSBhZnRlciB0aGF0LiBXZSB3aWxsIGNhY2hlIHRoZSB2YWx1ZVxuICAgICAgICAgKiBoZXJlIHRvIGF2b2lkIHRoYXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCBsYXN0Rm9jdXMgPSBsYXN0T3ZlcmxheS5sYXN0Rm9jdXM7XG4gICAgICAgIC8vIEZvY3VzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBvdmVybGF5IHdyYXBwZXJcbiAgICAgICAgZm9jdXNGaXJzdERlc2NlbmRhbnQob3ZlcmxheVdyYXBwZXIsIGxhc3RPdmVybGF5KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoZSBjYWNoZWQgbGFzdCBmb2N1c2VkIGVsZW1lbnQgaXMgdGhlXG4gICAgICAgICAqIHNhbWUgYXMgdGhlIGFjdGl2ZSBlbGVtZW50LCB0aGVuIHdlIG5lZWRcbiAgICAgICAgICogdG8gd3JhcCBmb2N1cyB0byB0aGUgbGFzdCBkZXNjZW5kYW50LiBUaGlzIGhhcHBlbnNcbiAgICAgICAgICogd2hlbiB0aGUgZmlyc3QgZGVzY2VuZGFudCBpcyBmb2N1c2VkLCBhbmQgdGhlIHVzZXJcbiAgICAgICAgICogcHJlc3NlcyBTaGlmdCArIFRhYi4gVGhlIHByZXZpb3VzIGxpbmUgd2lsbCBmb2N1c1xuICAgICAgICAgKiB0aGUgc2FtZSBkZXNjZW5kYW50IGFnYWluICh0aGUgZmlyc3Qgb25lKSwgY2F1c2luZ1xuICAgICAgICAgKiBsYXN0IGZvY3VzIHRvIGVxdWFsIHRoZSBhY3RpdmUgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChsYXN0Rm9jdXMgPT09IGRvYy5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgZm9jdXNMYXN0RGVzY2VuZGFudChvdmVybGF5V3JhcHBlciwgbGFzdE92ZXJsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RPdmVybGF5Lmxhc3RGb2N1cyA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgdHJhcFNoYWRvd0ZvY3VzID0gKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIElmIHRoZSB0YXJnZXQgaXMgaW5zaWRlIHRoZSB3cmFwcGVyLCBsZXQgdGhlIGJyb3dzZXJcbiAgICAgKiBmb2N1cyBhcyBub3JtYWwgYW5kIGtlZXAgYSBsb2cgb2YgdGhlIGxhc3QgZm9jdXNlZCBlbGVtZW50LlxuICAgICAqL1xuICAgIGlmIChsYXN0T3ZlcmxheS5jb250YWlucyh0YXJnZXQpKSB7XG4gICAgICBsYXN0T3ZlcmxheS5sYXN0Rm9jdXMgPSB0YXJnZXQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLyoqXG4gICAgICAgKiBPdGhlcndpc2UsIHdlIGFyZSBhYm91dCB0byBoYXZlIGZvY3VzXG4gICAgICAgKiBnbyBvdXQgb2YgdGhlIG92ZXJsYXkuIFdlIG5lZWQgdG8gd3JhcFxuICAgICAgICogdGhlIGZvY3VzIHRvIGVpdGhlciB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICogb3IgdGhlIGxhc3QgZWxlbWVudC5cbiAgICAgICAqL1xuICAgICAgLyoqXG4gICAgICAgKiBPbmNlIHdlIGNhbGwgYGZvY3VzRmlyc3REZXNjZW5kYW50YCBhbmQgZm9jdXMgdGhlIGZpcnN0XG4gICAgICAgKiBkZXNjZW5kYW50LCBhbm90aGVyIGZvY3VzIGV2ZW50IHdpbGwgZmlyZSB3aGljaCB3aWxsXG4gICAgICAgKiBjYXVzZSBgbGFzdE92ZXJsYXkubGFzdEZvY3VzYCB0byBiZSB1cGRhdGVkIGJlZm9yZVxuICAgICAgICogd2UgY2FuIHJ1biB0aGUgY29kZSBhZnRlciB0aGF0LiBXZSB3aWxsIGNhY2hlIHRoZSB2YWx1ZVxuICAgICAgICogaGVyZSB0byBhdm9pZCB0aGF0LlxuICAgICAgICovXG4gICAgICBjb25zdCBsYXN0Rm9jdXMgPSBsYXN0T3ZlcmxheS5sYXN0Rm9jdXM7XG4gICAgICAvLyBGb2N1cyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgb3ZlcmxheSB3cmFwcGVyXG4gICAgICBmb2N1c0ZpcnN0RGVzY2VuZGFudChsYXN0T3ZlcmxheSwgbGFzdE92ZXJsYXkpO1xuICAgICAgLyoqXG4gICAgICAgKiBJZiB0aGUgY2FjaGVkIGxhc3QgZm9jdXNlZCBlbGVtZW50IGlzIHRoZVxuICAgICAgICogc2FtZSBhcyB0aGUgYWN0aXZlIGVsZW1lbnQsIHRoZW4gd2UgbmVlZFxuICAgICAgICogdG8gd3JhcCBmb2N1cyB0byB0aGUgbGFzdCBkZXNjZW5kYW50LiBUaGlzIGhhcHBlbnNcbiAgICAgICAqIHdoZW4gdGhlIGZpcnN0IGRlc2NlbmRhbnQgaXMgZm9jdXNlZCwgYW5kIHRoZSB1c2VyXG4gICAgICAgKiBwcmVzc2VzIFNoaWZ0ICsgVGFiLiBUaGUgcHJldmlvdXMgbGluZSB3aWxsIGZvY3VzXG4gICAgICAgKiB0aGUgc2FtZSBkZXNjZW5kYW50IGFnYWluICh0aGUgZmlyc3Qgb25lKSwgY2F1c2luZ1xuICAgICAgICogbGFzdCBmb2N1cyB0byBlcXVhbCB0aGUgYWN0aXZlIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIGlmIChsYXN0Rm9jdXMgPT09IGRvYy5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGZvY3VzTGFzdERlc2NlbmRhbnQobGFzdE92ZXJsYXksIGxhc3RPdmVybGF5KTtcbiAgICAgIH1cbiAgICAgIGxhc3RPdmVybGF5Lmxhc3RGb2N1cyA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIH1cbiAgfTtcbiAgaWYgKGxhc3RPdmVybGF5LnNoYWRvd1Jvb3QpIHtcbiAgICB0cmFwU2hhZG93Rm9jdXMoKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0cmFwU2NvcGVkRm9jdXMoKTtcbiAgfVxufTtcbmNvbnN0IGNvbm5lY3RMaXN0ZW5lcnMgPSAoZG9jKSA9PiB7XG4gIGlmIChsYXN0SWQgPT09IDApIHtcbiAgICBsYXN0SWQgPSAxO1xuICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGV2ID0+IHRyYXBLZXlib2FyZEZvY3VzKGV2LCBkb2MpLCB0cnVlKTtcbiAgICAvLyBoYW5kbGUgYmFjay1idXR0b24gY2xpY2tcbiAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcignaW9uQmFja0J1dHRvbicsIGV2ID0+IHtcbiAgICAgIGNvbnN0IGxhc3RPdmVybGF5ID0gZ2V0VG9wT3Blbk92ZXJsYXkoZG9jKTtcbiAgICAgIGlmIChsYXN0T3ZlcmxheSAmJiBsYXN0T3ZlcmxheS5iYWNrZHJvcERpc21pc3MpIHtcbiAgICAgICAgZXYuZGV0YWlsLnJlZ2lzdGVyKE9WRVJMQVlfQkFDS19CVVRUT05fUFJJT1JJVFksICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gbGFzdE92ZXJsYXkuZGlzbWlzcyh1bmRlZmluZWQsIEJBQ0tEUk9QKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaGFuZGxlIEVTQyB0byBjbG9zZSBvdmVybGF5XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXYgPT4ge1xuICAgICAgaWYgKGV2LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgY29uc3QgbGFzdE92ZXJsYXkgPSBnZXRUb3BPcGVuT3ZlcmxheShkb2MpO1xuICAgICAgICBpZiAobGFzdE92ZXJsYXkgJiYgbGFzdE92ZXJsYXkuYmFja2Ryb3BEaXNtaXNzKSB7XG4gICAgICAgICAgbGFzdE92ZXJsYXkuZGlzbWlzcyh1bmRlZmluZWQsIEJBQ0tEUk9QKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuY29uc3QgZGlzbWlzc092ZXJsYXkgPSAoZG9jLCBkYXRhLCByb2xlLCBvdmVybGF5VGFnLCBpZCkgPT4ge1xuICBjb25zdCBvdmVybGF5ID0gZ2V0T3ZlcmxheShkb2MsIG92ZXJsYXlUYWcsIGlkKTtcbiAgaWYgKCFvdmVybGF5KSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdvdmVybGF5IGRvZXMgbm90IGV4aXN0Jyk7XG4gIH1cbiAgcmV0dXJuIG92ZXJsYXkuZGlzbWlzcyhkYXRhLCByb2xlKTtcbn07XG5jb25zdCBnZXRPdmVybGF5cyA9IChkb2MsIHNlbGVjdG9yKSA9PiB7XG4gIGlmIChzZWxlY3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2VsZWN0b3IgPSAnaW9uLWFsZXJ0LGlvbi1hY3Rpb24tc2hlZXQsaW9uLWxvYWRpbmcsaW9uLW1vZGFsLGlvbi1waWNrZXIsaW9uLXBvcG92ZXIsaW9uLXRvYXN0JztcbiAgfVxuICByZXR1cm4gQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpXG4gICAgLmZpbHRlcihjID0+IGMub3ZlcmxheUluZGV4ID4gMCk7XG59O1xuLyoqXG4gKiBHZXRzIHRoZSB0b3AtbW9zdC9sYXN0IG9wZW5lZFxuICogb3ZlcmxheSB0aGF0IGlzIGN1cnJlbnRseSBwcmVzZW50ZWQuXG4gKi9cbmNvbnN0IGdldFRvcE9wZW5PdmVybGF5ID0gKGRvYykgPT4ge1xuICBjb25zdCBvdmVybGF5cyA9IGdldE92ZXJsYXlzKGRvYyk7XG4gIGZvciAobGV0IGkgPSBvdmVybGF5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSBvdmVybGF5c1tpXTtcbiAgICAvKipcbiAgICAgKiBPbmx5IGNvbnNpZGVyIG92ZXJsYXlzIHRoYXRcbiAgICAgKiBhcmUgcHJlc2VudGVkLiBQcmVzZW50ZWQgb3ZlcmxheXNcbiAgICAgKiB3aWxsIG5vdCBoYXZlIHRoZSAub3ZlcmxheS1oaWRkZW5cbiAgICAgKiBjbGFzcyBvbiB0aGUgaG9zdC5cbiAgICAgKi9cbiAgICBpZiAoIW92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdvdmVybGF5LWhpZGRlbicpKSB7XG4gICAgICByZXR1cm4gb3ZlcmxheTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuO1xufTtcbmNvbnN0IGdldE92ZXJsYXkgPSAoZG9jLCBvdmVybGF5VGFnLCBpZCkgPT4ge1xuICBjb25zdCBvdmVybGF5cyA9IGdldE92ZXJsYXlzKGRvYywgb3ZlcmxheVRhZyk7XG4gIHJldHVybiAoaWQgPT09IHVuZGVmaW5lZClcbiAgICA/IG92ZXJsYXlzW292ZXJsYXlzLmxlbmd0aCAtIDFdXG4gICAgOiBvdmVybGF5cy5maW5kKG8gPT4gby5pZCA9PT0gaWQpO1xufTtcbi8qKlxuICogV2hlbiBhbiBvdmVybGF5IGlzIHByZXNlbnRlZCwgdGhlIG1haW5cbiAqIGZvY3VzIGlzIHRoZSBvdmVybGF5IG5vdCB0aGUgcGFnZSBjb250ZW50LlxuICogV2UgbmVlZCB0byByZW1vdmUgdGhlIHBhZ2UgY29udGVudCBmcm9tIHRoZVxuICogYWNjZXNzaWJpbGl0eSB0cmVlIG90aGVyd2lzZSB3aGVuXG4gKiB1c2VycyB1c2UgXCJyZWFkIHNjcmVlbiBmcm9tIHRvcFwiIGdlc3R1cmVzIHdpdGhcbiAqIFRhbGtCYWNrIGFuZCBWb2ljZU92ZXIsIHRoZSBzY3JlZW4gcmVhZGVyIHdpbGwgYmVnaW5cbiAqIHRvIHJlYWQgdGhlIGNvbnRlbnQgdW5kZXJuZWF0aCB0aGUgb3ZlcmxheS5cbiAqXG4gKiBXZSBuZWVkIGEgY29udGFpbmVyIHdoZXJlIGFsbCBwYWdlIGNvbXBvbmVudHNcbiAqIGV4aXN0IHRoYXQgaXMgc2VwYXJhdGUgZnJvbSB3aGVyZSB0aGUgb3ZlcmxheXNcbiAqIGFyZSBhZGRlZCBpbiB0aGUgRE9NLiBGb3IgbW9zdCBhcHBzLCB0aGlzIGVsZW1lbnRcbiAqIGlzIHRoZSB0b3AgbW9zdCBpb24tcm91dGVyLW91dGxldC4gSW4gdGhlIGV2ZW50XG4gKiB0aGF0IGRldnMgYXJlIG5vdCB1c2luZyBhIHJvdXRlcixcbiAqIHRoZXkgd2lsbCBuZWVkIHRvIGFkZCB0aGUgXCJpb24tdmlldy1jb250YWluZXItcm9vdFwiXG4gKiBpZCB0byB0aGUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIGFsbCBvZiB0aGVpciB2aWV3cy5cbiAqXG4gKiBUT0RPOiBJZiBGcmFtZXdvcmsgc3VwcG9ydHMgaGF2aW5nIG11bHRpcGxlIHRvcFxuICogbGV2ZWwgcm91dGVyIG91dGxldHMgd2Ugd291bGQgbmVlZCB0byB1cGRhdGUgdGhpcy5cbiAqIEV4YW1wbGU6IE9uZSBvdXRsZXQgZm9yIHNpZGUgbWVudSBhbmQgb25lIG91dGxldFxuICogZm9yIG1haW4gY29udGVudC5cbiAqL1xuY29uc3Qgc2V0Um9vdEFyaWFIaWRkZW4gPSAoaGlkZGVuID0gZmFsc2UpID0+IHtcbiAgY29uc3Qgcm9vdCA9IGdldEFwcFJvb3QoZG9jdW1lbnQpO1xuICBjb25zdCB2aWV3Q29udGFpbmVyID0gcm9vdC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyLW91dGxldCwgaW9uLW5hdiwgI2lvbi12aWV3LWNvbnRhaW5lci1yb290Jyk7XG4gIGlmICghdmlld0NvbnRhaW5lcikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaGlkZGVuKSB7XG4gICAgdmlld0NvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICB2aWV3Q29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgfVxufTtcbmNvbnN0IHByZXNlbnQgPSBhc3luYyAob3ZlcmxheSwgbmFtZSwgaW9zRW50ZXJBbmltYXRpb24sIG1kRW50ZXJBbmltYXRpb24sIG9wdHMpID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKG92ZXJsYXkucHJlc2VudGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNldFJvb3RBcmlhSGlkZGVuKHRydWUpO1xuICBvdmVybGF5LnByZXNlbnRlZCA9IHRydWU7XG4gIG92ZXJsYXkud2lsbFByZXNlbnQuZW1pdCgpO1xuICAoX2EgPSBvdmVybGF5LndpbGxQcmVzZW50U2hvcnRoYW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW1pdCgpO1xuICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZShvdmVybGF5KTtcbiAgLy8gZ2V0IHRoZSB1c2VyJ3MgYW5pbWF0aW9uIGZuIGlmIG9uZSB3YXMgcHJvdmlkZWRcbiAgY29uc3QgYW5pbWF0aW9uQnVpbGRlciA9IChvdmVybGF5LmVudGVyQW5pbWF0aW9uKVxuICAgID8gb3ZlcmxheS5lbnRlckFuaW1hdGlvblxuICAgIDogY29uZmlnLmdldChuYW1lLCBtb2RlID09PSAnaW9zJyA/IGlvc0VudGVyQW5pbWF0aW9uIDogbWRFbnRlckFuaW1hdGlvbik7XG4gIGNvbnN0IGNvbXBsZXRlZCA9IGF3YWl0IG92ZXJsYXlBbmltYXRpb24ob3ZlcmxheSwgYW5pbWF0aW9uQnVpbGRlciwgb3ZlcmxheS5lbCwgb3B0cyk7XG4gIGlmIChjb21wbGV0ZWQpIHtcbiAgICBvdmVybGF5LmRpZFByZXNlbnQuZW1pdCgpO1xuICAgIChfYiA9IG92ZXJsYXkuZGlkUHJlc2VudFNob3J0aGFuZCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmVtaXQoKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiBhbiBvdmVybGF5IHRoYXQgc3RlYWxzIGZvY3VzXG4gICAqIGlzIGRpc21pc3NlZCwgZm9jdXMgc2hvdWxkIGJlIHJldHVybmVkXG4gICAqIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIGZvY3VzZWRcbiAgICogcHJpb3IgdG8gdGhlIG92ZXJsYXkgb3BlbmluZy4gVG9hc3RcbiAgICogZG9lcyBub3Qgc3RlYWwgZm9jdXMgYW5kIGlzIGV4Y2x1ZGVkXG4gICAqIGZyb20gcmV0dXJuaW5nIGZvY3VzIGFzIGEgcmVzdWx0LlxuICAgKi9cbiAgaWYgKG92ZXJsYXkuZWwudGFnTmFtZSAhPT0gJ0lPTi1UT0FTVCcpIHtcbiAgICBmb2N1c1ByZXZpb3VzRWxlbWVudE9uRGlzbWlzcyhvdmVybGF5LmVsKTtcbiAgfVxuICBpZiAob3ZlcmxheS5rZXlib2FyZENsb3NlKSB7XG4gICAgb3ZlcmxheS5lbC5mb2N1cygpO1xuICB9XG59O1xuLyoqXG4gKiBXaGVuIGFuIG92ZXJsYXkgY29tcG9uZW50IGlzIGRpc21pc3NlZCxcbiAqIGZvY3VzIHNob3VsZCBiZSByZXR1cm5lZCB0byB0aGUgZWxlbWVudFxuICogdGhhdCBwcmVzZW50ZWQgdGhlIG92ZXJsYXkuIE90aGVyd2lzZVxuICogZm9jdXMgd2lsbCBiZSBzZXQgb24gdGhlIGJvZHkgd2hpY2hcbiAqIG1lYW5zIHRoYXQgcGVvcGxlIHVzaW5nIHNjcmVlbiByZWFkZXJzXG4gKiBvciB0YWJiaW5nIHdpbGwgbmVlZCB0byByZS1uYXZpZ2F0ZVxuICogdG8gd2hlcmUgdGhleSB3ZXJlIGJlZm9yZSB0aGV5XG4gKiBvcGVuZWQgdGhlIG92ZXJsYXkuXG4gKi9cbmNvbnN0IGZvY3VzUHJldmlvdXNFbGVtZW50T25EaXNtaXNzID0gYXN5bmMgKG92ZXJsYXlFbCkgPT4ge1xuICBsZXQgcHJldmlvdXNFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgaWYgKCFwcmV2aW91c0VsZW1lbnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2hhZG93Um9vdCA9IHByZXZpb3VzRWxlbWVudCAmJiBwcmV2aW91c0VsZW1lbnQuc2hhZG93Um9vdDtcbiAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaW5uZXIgZm9jdXNhYmxlIGVsZW1lbnRzLCBqdXN0IGZvY3VzIHRoZSBob3N0IGVsZW1lbnQuXG4gICAgcHJldmlvdXNFbGVtZW50ID0gc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKGlubmVyRm9jdXNhYmxlUXVlcnlTdHJpbmcpIHx8IHByZXZpb3VzRWxlbWVudDtcbiAgfVxuICBhd2FpdCBvdmVybGF5RWwub25EaWREaXNtaXNzKCk7XG4gIHByZXZpb3VzRWxlbWVudC5mb2N1cygpO1xufTtcbmNvbnN0IGRpc21pc3MgPSBhc3luYyAob3ZlcmxheSwgZGF0YSwgcm9sZSwgbmFtZSwgaW9zTGVhdmVBbmltYXRpb24sIG1kTGVhdmVBbmltYXRpb24sIG9wdHMpID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKCFvdmVybGF5LnByZXNlbnRlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzZXRSb290QXJpYUhpZGRlbihmYWxzZSk7XG4gIG92ZXJsYXkucHJlc2VudGVkID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgLy8gT3ZlcmxheSBjb250ZW50cyBzaG91bGQgbm90IGJlIGNsaWNrYWJsZSBkdXJpbmcgZGlzbWlzc1xuICAgIG92ZXJsYXkuZWwuc3R5bGUuc2V0UHJvcGVydHkoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKTtcbiAgICBvdmVybGF5LndpbGxEaXNtaXNzLmVtaXQoeyBkYXRhLCByb2xlIH0pO1xuICAgIChfYSA9IG92ZXJsYXkud2lsbERpc21pc3NTaG9ydGhhbmQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbWl0KHsgZGF0YSwgcm9sZSB9KTtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZShvdmVybGF5KTtcbiAgICBjb25zdCBhbmltYXRpb25CdWlsZGVyID0gKG92ZXJsYXkubGVhdmVBbmltYXRpb24pXG4gICAgICA/IG92ZXJsYXkubGVhdmVBbmltYXRpb25cbiAgICAgIDogY29uZmlnLmdldChuYW1lLCBtb2RlID09PSAnaW9zJyA/IGlvc0xlYXZlQW5pbWF0aW9uIDogbWRMZWF2ZUFuaW1hdGlvbik7XG4gICAgLy8gSWYgZGlzbWlzc2VkIHZpYSBnZXN0dXJlLCBubyBuZWVkIHRvIHBsYXkgbGVhdmluZyBhbmltYXRpb24gYWdhaW5cbiAgICBpZiAocm9sZSAhPT0gJ2dlc3R1cmUnKSB7XG4gICAgICBhd2FpdCBvdmVybGF5QW5pbWF0aW9uKG92ZXJsYXksIGFuaW1hdGlvbkJ1aWxkZXIsIG92ZXJsYXkuZWwsIG9wdHMpO1xuICAgIH1cbiAgICBvdmVybGF5LmRpZERpc21pc3MuZW1pdCh7IGRhdGEsIHJvbGUgfSk7XG4gICAgKF9iID0gb3ZlcmxheS5kaWREaXNtaXNzU2hvcnRoYW5kKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZW1pdCh7IGRhdGEsIHJvbGUgfSk7XG4gICAgYWN0aXZlQW5pbWF0aW9ucy5kZWxldGUob3ZlcmxheSk7XG4gICAgLy8gTWFrZSBvdmVybGF5IGhpZGRlbiBhZ2FpbiBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuICAgIG92ZXJsYXkuZWwuY2xhc3NMaXN0LmFkZCgnb3ZlcmxheS1oaWRkZW4nKTtcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG4gIG92ZXJsYXkuZWwucmVtb3ZlKCk7XG4gIHJldHVybiB0cnVlO1xufTtcbmNvbnN0IGdldEFwcFJvb3QgPSAoZG9jKSA9PiB7XG4gIHJldHVybiBkb2MucXVlcnlTZWxlY3RvcignaW9uLWFwcCcpIHx8IGRvYy5ib2R5O1xufTtcbmNvbnN0IG92ZXJsYXlBbmltYXRpb24gPSBhc3luYyAob3ZlcmxheSwgYW5pbWF0aW9uQnVpbGRlciwgYmFzZUVsLCBvcHRzKSA9PiB7XG4gIC8vIE1ha2Ugb3ZlcmxheSB2aXNpYmxlIGluIGNhc2UgaXQncyBoaWRkZW5cbiAgYmFzZUVsLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJsYXktaGlkZGVuJyk7XG4gIGNvbnN0IGFuaVJvb3QgPSBvdmVybGF5LmVsO1xuICBjb25zdCBhbmltYXRpb24gPSBhbmltYXRpb25CdWlsZGVyKGFuaVJvb3QsIG9wdHMpO1xuICBpZiAoIW92ZXJsYXkuYW5pbWF0ZWQgfHwgIWNvbmZpZy5nZXRCb29sZWFuKCdhbmltYXRlZCcsIHRydWUpKSB7XG4gICAgYW5pbWF0aW9uLmR1cmF0aW9uKDApO1xuICB9XG4gIGlmIChvdmVybGF5LmtleWJvYXJkQ2xvc2UpIHtcbiAgICBhbmltYXRpb24uYmVmb3JlQWRkV3JpdGUoKCkgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlRWxlbWVudCA9IGJhc2VFbC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50Lm1hdGNoZXMoJ2lucHV0LGlvbi1pbnB1dCwgaW9uLXRleHRhcmVhJykpIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgYWN0aXZlQW5pID0gYWN0aXZlQW5pbWF0aW9ucy5nZXQob3ZlcmxheSkgfHwgW107XG4gIGFjdGl2ZUFuaW1hdGlvbnMuc2V0KG92ZXJsYXksIFsuLi5hY3RpdmVBbmksIGFuaW1hdGlvbl0pO1xuICBhd2FpdCBhbmltYXRpb24ucGxheSgpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBldmVudE1ldGhvZCA9IChlbGVtZW50LCBldmVudE5hbWUpID0+IHtcbiAgbGV0IHJlc29sdmU7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyID0+IHJlc29sdmUgPSByKTtcbiAgb25jZUV2ZW50KGVsZW1lbnQsIGV2ZW50TmFtZSwgKGV2ZW50KSA9PiB7XG4gICAgcmVzb2x2ZShldmVudC5kZXRhaWwpO1xuICB9KTtcbiAgcmV0dXJuIHByb21pc2U7XG59O1xuY29uc3Qgb25jZUV2ZW50ID0gKGVsZW1lbnQsIGV2ZW50TmFtZSwgY2FsbGJhY2spID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IChldikgPT4ge1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICBjYWxsYmFjayhldik7XG4gIH07XG4gIGFkZEV2ZW50TGlzdGVuZXIoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbn07XG5jb25zdCBpc0NhbmNlbCA9IChyb2xlKSA9PiB7XG4gIHJldHVybiByb2xlID09PSAnY2FuY2VsJyB8fCByb2xlID09PSBCQUNLRFJPUDtcbn07XG5jb25zdCBkZWZhdWx0R2F0ZSA9IChoKSA9PiBoKCk7XG4vKipcbiAqIENhbGxzIGEgZGV2ZWxvcGVyIHByb3ZpZGVkIG1ldGhvZCB3aGlsZSBhdm9pZGluZ1xuICogQW5ndWxhciBab25lcy4gU2luY2UgdGhlIGhhbmRsZXIgaXMgcHJvdmlkZWQgYnlcbiAqIHRoZSBkZXZlbG9wZXIsIHdlIHNob3VsZCB0aHJvdyBhbnkgZXJyb3JzXG4gKiByZWNlaXZlZCBzbyB0aGF0IGRldmVsb3Blci1wcm92aWRlZCBidWdcbiAqIHRyYWNraW5nIHNvZnR3YXJlIGNhbiBsb2cgaXQuXG4gKi9cbmNvbnN0IHNhZmVDYWxsID0gKGhhbmRsZXIsIGFyZykgPT4ge1xuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zdCBqbXAgPSBjb25maWcuZ2V0KCdfem9uZUdhdGUnLCBkZWZhdWx0R2F0ZSk7XG4gICAgcmV0dXJuIGptcCgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcihhcmcpO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IEJBQ0tEUk9QID0gJ2JhY2tkcm9wJztcblxuZXhwb3J0IHsgQWN0aW9uU2hlZXQgYXMgQSwgTG9hZGluZyBhcyBMLCBNb2RhbCBhcyBNLCBQb3BvdmVyIGFzIFAsIFRvYXN0IGFzIFQsIGFsZXJ0Q29udHJvbGxlciBhcyBhLCBhY3Rpb25TaGVldENvbnRyb2xsZXIgYXMgYiwgcG9wb3ZlckNvbnRyb2xsZXIgYXMgYywgQWxlcnQgYXMgZCwgUGlja2VyIGFzIGUsIGxvYWRpbmdDb250cm9sbGVyIGFzIGwsIG1vZGFsQ29udHJvbGxlciBhcyBtLCBwaWNrZXJDb250cm9sbGVyIGFzIHAsIHNhZmVDYWxsIGFzIHMsIHRvYXN0Q29udHJvbGxlciBhcyB0IH07XG4iLCIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuY29uc3QgaG9zdENvbnRleHQgPSAoc2VsZWN0b3IsIGVsKSA9PiB7XG4gIHJldHVybiBlbC5jbG9zZXN0KHNlbGVjdG9yKSAhPT0gbnVsbDtcbn07XG4vKipcbiAqIENyZWF0ZSB0aGUgbW9kZSBhbmQgY29sb3IgY2xhc3NlcyBmb3IgdGhlIGNvbXBvbmVudCBiYXNlZCBvbiB0aGUgY2xhc3NlcyBwYXNzZWQgaW5cbiAqL1xuY29uc3QgY3JlYXRlQ29sb3JDbGFzc2VzID0gKGNvbG9yLCBjc3NDbGFzc01hcCkgPT4ge1xuICByZXR1cm4gKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgJiYgY29sb3IubGVuZ3RoID4gMCkgPyBPYmplY3QuYXNzaWduKHsgJ2lvbi1jb2xvcic6IHRydWUsIFtgaW9uLWNvbG9yLSR7Y29sb3J9YF06IHRydWUgfSwgY3NzQ2xhc3NNYXApIDogY3NzQ2xhc3NNYXA7XG59O1xuY29uc3QgZ2V0Q2xhc3NMaXN0ID0gKGNsYXNzZXMpID0+IHtcbiAgaWYgKGNsYXNzZXMgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuaXNBcnJheShjbGFzc2VzKSA/IGNsYXNzZXMgOiBjbGFzc2VzLnNwbGl0KCcgJyk7XG4gICAgcmV0dXJuIGFycmF5XG4gICAgICAuZmlsdGVyKGMgPT4gYyAhPSBudWxsKVxuICAgICAgLm1hcChjID0+IGMudHJpbSgpKVxuICAgICAgLmZpbHRlcihjID0+IGMgIT09ICcnKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuY29uc3QgZ2V0Q2xhc3NNYXAgPSAoY2xhc3NlcykgPT4ge1xuICBjb25zdCBtYXAgPSB7fTtcbiAgZ2V0Q2xhc3NMaXN0KGNsYXNzZXMpLmZvckVhY2goYyA9PiBtYXBbY10gPSB0cnVlKTtcbiAgcmV0dXJuIG1hcDtcbn07XG5jb25zdCBTQ0hFTUUgPSAvXlthLXpdW2EtejAtOStcXC0uXSo6LztcbmNvbnN0IG9wZW5VUkwgPSBhc3luYyAodXJsLCBldiwgZGlyZWN0aW9uLCBhbmltYXRpb24pID0+IHtcbiAgaWYgKHVybCAhPSBudWxsICYmIHVybFswXSAhPT0gJyMnICYmICFTQ0hFTUUudGVzdCh1cmwpKSB7XG4gICAgY29uc3Qgcm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpO1xuICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgIGlmIChldiAhPSBudWxsKSB7XG4gICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcm91dGVyLnB1c2godXJsLCBkaXJlY3Rpb24sIGFuaW1hdGlvbik7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUNvbG9yQ2xhc3NlcyBhcyBjLCBnZXRDbGFzc01hcCBhcyBnLCBob3N0Q29udGV4dCBhcyBoLCBvcGVuVVJMIGFzIG8gfTtcbiIsInZhciBtYXAgPSB7XG5cdFwiLi9pb24tYWNjb3JkaW9uXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1hY2NvcmRpb25fMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tYWNjb3JkaW9uXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWFjdGlvbi1zaGVldC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWFjdGlvbi1zaGVldC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWFjdGlvbi1zaGVldF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYWxlcnQuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1hbGVydC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWFsZXJ0X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1hcHBfOC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWFwcF84LmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1hcHBfOF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYXZhdGFyXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1hdmF0YXJfMy5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWF2YXRhcl8zX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1iYWNrLWJ1dHRvbi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWJhY2stYnV0dG9uLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1iYWNrLWJ1dHRvbl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYmFja2Ryb3AuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1iYWNrZHJvcC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWJhY2tkcm9wX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1icmVhZGNydW1iXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1icmVhZGNydW1iXzIuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWJyZWFkY3J1bWJfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tYnV0dG9uXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1idXR0b25fMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tYnV0dG9uXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWNhcmRfNS5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWNhcmRfNS5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tY2FyZF81X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1jaGVja2JveC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWNoZWNrYm94LmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tY2hlY2tib3hfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWNoaXAuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1jaGlwLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tY2hpcF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tY29sXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1jb2xfMy5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tY29sXzNfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWRhdGV0aW1lXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1kYXRldGltZV8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1kYXRldGltZV8zX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1mYWJfMy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWZhYl8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1mYWJfM19lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24taW1nLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24taW1nLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24taW1nX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1pbmZpbml0ZS1zY3JvbGxfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWluZmluaXRlLXNjcm9sbF8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1pbmZpbml0ZS1zY3JvbGxfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24taW5wdXQuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1pbnB1dC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24taW5wdXRfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLWl0ZW0tb3B0aW9uXzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1pdGVtLW9wdGlvbl8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1pdGVtLW9wdGlvbl8zX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1pdGVtXzguZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1pdGVtXzguZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWl0ZW1fOF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tbG9hZGluZy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLWxvYWRpbmcuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1sb2FkaW5nX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1tZW51XzMuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1tZW51XzMuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLW1lbnVfM19lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tbW9kYWwuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1tb2RhbC5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLW1vZGFsX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1uYXZfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLW5hdl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1uYXZfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcGlja2VyLWNvbHVtbi1pbnRlcm5hbC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWwuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBpY2tlci1jb2x1bW4taW50ZXJuYWxfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXBpY2tlci1pbnRlcm5hbC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXBpY2tlci1pbnRlcm5hbC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tcGlja2VyLWludGVybmFsX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1wb3BvdmVyLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcG9wb3Zlci5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBvcG92ZXJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXByb2dyZXNzLWJhci5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXByb2dyZXNzLWJhci5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tcHJvZ3Jlc3MtYmFyX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1yYWRpb18yLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmFkaW9fMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tcmFkaW9fMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcmFuZ2UuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1yYW5nZS5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tcmFuZ2VfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXJlZnJlc2hlcl8yLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmVmcmVzaGVyXzIuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlZnJlc2hlcl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1yZW9yZGVyXzIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1yZW9yZGVyXzIuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlb3JkZXJfMl9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tcmlwcGxlLWVmZmVjdC5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXJpcHBsZS1lZmZlY3QuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1yaXBwbGUtZWZmZWN0X2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1yb3V0ZV80LmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcm91dGVfNC5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tcm91dGVfNF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2VhcmNoYmFyLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tc2VhcmNoYmFyLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1zZWFyY2hiYXJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXNlZ21lbnRfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXNlZ21lbnRfMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tc2VnbWVudF8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1zZWxlY3RfMy5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXNlbGVjdF8zLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1zZWxlY3RfM19lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tc2xpZGVfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXNsaWRlXzIuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXNsaWRlXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXNwaW5uZXIuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi1zcGlubmVyLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi1zcGlubmVyX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi1zcGxpdC1wYW5lLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tc3BsaXQtcGFuZS5lbnRyeS5qc1wiLFxuXHRcdFwibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXNwbGl0LXBhbmVfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXRhYi1iYXJfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXRhYi1iYXJfMi5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tdGFiLWJhcl8yX2VudHJ5X2pzXCJcblx0XSxcblx0XCIuL2lvbi10YWJfMi5lbnRyeS5qc1wiOiBbXG5cdFx0XCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXRhYl8yLmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tdGFiXzJfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXRleHQuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi10ZXh0LmVudHJ5LmpzXCIsXG5cdFx0XCJub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tdGV4dF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tdGV4dGFyZWEuZW50cnkuanNcIjogW1xuXHRcdFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtL2lvbi10ZXh0YXJlYS5lbnRyeS5qc1wiLFxuXHRcdFwidmVuZG9ycy1ub2RlX21vZHVsZXNfaW9uaWNfY29yZV9kaXN0X2VzbV9pb24tdGV4dGFyZWFfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXRvYXN0LmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tdG9hc3QuZW50cnkuanNcIixcblx0XHRcIm5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi10b2FzdF9lbnRyeV9qc1wiXG5cdF0sXG5cdFwiLi9pb24tdG9nZ2xlLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tdG9nZ2xlLmVudHJ5LmpzXCIsXG5cdFx0XCJ2ZW5kb3JzLW5vZGVfbW9kdWxlc19pb25pY19jb3JlX2Rpc3RfZXNtX2lvbi10b2dnbGVfZW50cnlfanNcIlxuXHRdLFxuXHRcIi4vaW9uLXZpcnR1YWwtc2Nyb2xsLmVudHJ5LmpzXCI6IFtcblx0XHRcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tdmlydHVhbC1zY3JvbGwuZW50cnkuanNcIixcblx0XHRcInZlbmRvcnMtbm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXZpcnR1YWwtc2Nyb2xsX2VudHJ5X2pzXCJcblx0XVxufTtcbmZ1bmN0aW9uIHdlYnBhY2tBc3luY0NvbnRleHQocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9KTtcblx0fVxuXG5cdHZhciBpZHMgPSBtYXBbcmVxXSwgaWQgPSBpZHNbMF07XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoaWRzWzFdKS50aGVuKCgpID0+IHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG5cdH0pO1xufVxud2VicGFja0FzeW5jQ29udGV4dC5rZXlzID0gKCkgPT4gKE9iamVjdC5rZXlzKG1hcCkpO1xud2VicGFja0FzeW5jQ29udGV4dC5pZCA9IFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Bpb25pYy9jb3JlL2Rpc3QvZXNtIGxhenkgcmVjdXJzaXZlIF5cXFxcLlxcXFwvLipcXFxcLmVudHJ5XFxcXC5qcyQgaW5jbHVkZTogXFxcXC5lbnRyeVxcXFwuanMkIGV4Y2x1ZGU6IFxcXFwuc3lzdGVtXFxcXC5lbnRyeVxcXFwuanMkXCI7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tBc3luY0NvbnRleHQ7IiwiZXhwb3J0ICogZnJvbSAnLi9lc20tZXM1L2luZGV4LmpzJzsiLCJpbXBvcnQgQXBwbGljYXRpb25TdGF0ZSBmcm9tICcuL3NyYy9hcHBsaWNhdGlvbl9zdGF0ZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBsaWNhdGlvblN0YXRlO1xyXG4iLCJpbXBvcnQgeyBTdGF0ZUxvYWRlciwgc2V0dXBMb2FkZXIgfSBmcm9tICcuL3NyYy9sb2FkZXIuanMnO1xyXG5pbXBvcnQgeyBTdGF0ZVBlcnNpc3RlbmNlLCBzZXR1cFBlcnNpc3RlbmNlIH0gZnJvbSAnLi9zcmMvcGVyc2lzdGVuY2UuanMnO1xyXG5cclxuY29uc3QgaW5pdCA9IGFzeW5jIChhcHBfc3RhdGUsIGRiX25hbWUpID0+IHtcclxuICAgIHNldHVwTG9hZGVyKGFwcF9zdGF0ZSk7XHJcbiAgICBzZXR1cFBlcnNpc3RlbmNlKGFwcF9zdGF0ZSk7XHJcblxyXG4gICAgaWYgKGRiX25hbWUpIHtcclxuICAgICAgICBuZXcgU3RhdGVQZXJzaXN0ZW5jZShkYl9uYW1lKTtcclxuICAgICAgICByZXR1cm4gU3RhdGVMb2FkZXIubG9hZChkYl9uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IFN0YXRlTG9hZGVyLCBTdGF0ZVBlcnNpc3RlbmNlLCBpbml0IH1cclxuZXhwb3J0IGRlZmF1bHQgeyBTdGF0ZUxvYWRlciwgU3RhdGVQZXJzaXN0ZW5jZSwgaW5pdCB9XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IERleGllIGZyb20gJ2RleGllJztcclxubGV0IEFwcGxpY2F0aW9uU3RhdGU7XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dXBMb2FkZXIgPSAoYXBwX3N0YXRlKSA9PiB7XHJcbiAgICBBcHBsaWNhdGlvblN0YXRlID0gYXBwX3N0YXRlO1xyXG59XHJcblxyXG4vKipcclxuICogVXRpbGl0eSBjbGFzcyB0byBoYW5kbGUgbG9hZGluZyBzYXZlZCBzdGF0ZSBhbmQgc2V0dGluZyB1cCBhcHBsaWNhdGlvbiBzdGF0ZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFN0YXRlTG9hZGVyIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZSBhbmQgbG9hZCBzdGF0ZSBmb3IgdXNlIHdpdGggQXBwbGljYXRpb25TdGF0ZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYl9uYW1lIFRoZSBuYW1lIG9mIHRoZSBpbmRleGVkZGIgdG8gdXNlIHRvIGhvbGQgYXBwbGljYXRpb24gc3RhdGUuXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBsb2FkKGRiX25hbWUpIHtcclxuICAgICAgICBpZiAoIWRiX25hbWUpIHRocm93IFwiVGhlIGxvYWQgbWV0aG9kIHJlcXVpcmVzIGEgZGF0YWJhc2UgbmFtZVwiO1xyXG5cclxuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcclxuICAgICAgICBsZXQgZGIgPSBuZXcgRGV4aWUoZGJfbmFtZSk7XHJcbiAgICAgICAgZGIudmVyc2lvbigxKS5zdG9yZXMoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uX3N0YXRlOiAna2V5J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy9wcmV2ZW50IGFwcGxpY2F0aW9uIGZyb20gcmVzcG9uZGluZyB0byBzdGF0ZSBsb2FkaW5nLiBhbHNvIHByZXZlbnRzIHdhc3RlZCByZXdyaXRlIG9uXHJcbiAgICAgICAgLy9zdGF0ZSBwZXJzaXN0ZW5jZSBhcHAgbGlzdGVuZXJcclxuICAgICAgICBBcHBsaWNhdGlvblN0YXRlLmRpc2FibGVfbm90ZmljYXRpb24oKTtcclxuXHJcbiAgICAgICAgbGV0IGNvdW50ID0gYXdhaXQgZGIuYXBwbGljYXRpb25fc3RhdGUuY291bnQoKTtcclxuICAgICAgICBpZiAoIWNvdW50KVxyXG4gICAgICAgICAgICByZXR1cm4gQXBwbGljYXRpb25TdGF0ZS5lbmFibGVfbm90aWZpY2F0aW9uKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBkYi5hcHBsaWNhdGlvbl9zdGF0ZS5lYWNoKFxyXG4gICAgICAgICAgICAocm93KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHJvdyBpcyB1bmRlZmluZWQsIHdlJ3ZlIHByb2Nlc3NlZCBhbGwgcm93c1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLmVuYWJsZV9ub3RpZmljYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCB7IGtleSwgdmFsdWUgfSA9IHJvdztcclxuICAgICAgICAgICAgICAgIC8vZGVzZXJpYWxpemUgc3RyaW5naWZpZWQgbGl0ZXJhbHMsIGkuZS4gJzEnIC0+IDFcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0cnkgY2F0Y2ggc2xvd3MgdGhpbmdzIGRvd24sIGJ1dCB3ZSBkb24ndCBoYXZlIGEgY2hvaWNlLiAgRm9yIHRoZSBtb3N0IHBhcnRcclxuICAgICAgICAgICAgICAgIC8vIEpTT04ucGFyc2UoKSBqdXN0IHRha2VzIGEgdmFsdWUgYW5kIHBhc3NlcyBpdCBvbiBpZiBpdCdzIGEgbnVtYmVyLCBkYXRlLCBvYmplY3Qgb3IgYXJyYXksXHJcbiAgICAgICAgICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBzdHJpbmdzLCBpdCBzb21ldGltZXMgZmFpbHMuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gSlNPTi5wYXJzZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub29wXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3B1dCAnYXBwJyBiYWNrIGluIHRoZSBwYXRoXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX2Fzc2lnblZhbHVlKFwiYXBwLlwiICsga2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgZG8gdGhhdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBub3RpZmljYXRpb25zIGFyZSByZS1lbmFibGVkIGFmdGVyIGFsbCByb3dzIGFyZSBwcm9jZXNzZWRcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5lbmFibGVfbm90aWZpY2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLmVuYWJsZV9ub3RpZmljYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuaW1wb3J0IERleGllIGZyb20gJ2RleGllJztcclxuXHJcbmxldCBBcHBsaWNhdGlvblN0YXRlO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHVwUGVyc2lzdGVuY2UgPSAoYXBwX3N0YXRlKSA9PiB7XHJcbiAgICBBcHBsaWNhdGlvblN0YXRlID0gYXBwX3N0YXRlO1xyXG59XHJcblxyXG4vKipcclxuICogVXRpbGl0eSBjbGFzcyB0aGF0IGxpc3RlbnMgZm9yIGNoYW5nZXMgdG8gdGhlIHJvb3QgJ2FwcCcgc3RhdGUgYW5kIHBlcnNpc3RzIHRoZW0gdG8gbmF0aXZlIHN0b3JhZ2VcclxuICogdXNpbmcgUmVhY3QncyBBc3luY1N0b3JhZ2UgY2xhc3NcclxuICovXHJcbmV4cG9ydCBjbGFzcyBTdGF0ZVBlcnNpc3RlbmNlIHtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0IGEgbmV3IGluc3RhbmNlIG9mIFN0YXRlUGVyc2lzdGVuY2UgZm9yIHRoZSBpbmRpY2F0ZWQgZGF0YWJhc2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGJfbmFtZSBUaGUgbmFtZSBvZiB0aGUgZGF0YWJhc2UgdG8gd3JpdGUgdG8uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGRiX25hbWUpIHtcclxuICAgICAgICBsZXQgZGIgPSBuZXcgRGV4aWUoZGJfbmFtZSk7XHJcbiAgICAgICAgZGIudmVyc2lvbigxKS5zdG9yZXMoXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uX3N0YXRlOiAna2V5J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmRiID0gZGI7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25fcXVldWUgPSBbXTtcclxuXHJcbiAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5saXN0ZW4oJ2FwcCcsIHRoaXMub25BcHBDaGFuZ2UuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGEgY2hhbmdlIGluIHRoZSBhcHBsaWNhdGlvbiBzdGF0ZSBhbmQgcGVyc2lzdCBpdCBpbiBhbiBvcHRpbWl6ZWQgd2F5LlxyXG4gICAgICogV2UgcXVldWUgY2hhbmdlcyB0byBlbnN1cmUgb3BlcmF0aW9ucyBoYXBwZW4gaW4gb3JkZXIsIHNpbmNlIGRiIHdyaXRlcyBhbmQgcmVhZHMgYXJlIGFzeW5jLlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqIEBwYXJhbSBwcmV2aW91c19zdGF0ZVxyXG4gICAgICogQHBhcmFtIG1vZGlmaWVkX25hbWVcclxuICAgICAqL1xyXG4gICAgYXN5bmMgb25BcHBDaGFuZ2Uoc3RhdGUsIHByZXZpb3VzX3N0YXRlLCBtb2RpZmllZF9uYW1lKSB7XHJcbiAgICAgICAgaWYgKEFwcGxpY2F0aW9uU3RhdGUuX29wdGlvbnNbbW9kaWZpZWRfbmFtZV0pIHtcclxuICAgICAgICAgICAgbGV0IHBlcnNpc3QgPSBBcHBsaWNhdGlvblN0YXRlLl9vcHRpb25zW21vZGlmaWVkX25hbWVdWydwZXJzaXN0J107XHJcbiAgICAgICAgICAgIGlmICghcGVyc2lzdClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBzdWJfcGF0aCA9IG1vZGlmaWVkX25hbWUucmVwbGFjZSgnYXBwLicsICcnKTtcclxuXHJcbiAgICAgICAgLy9maXJzdCB3ZSBuZWVkIHRvIGNob3Agb2ZmIHRoZSAnYXBwLicgcGFydCBvZiB0aGUgcGF0aCwgc2luY2UgdGhlIG9iamVjdCB3ZSdyZSByZWNlaXZpbmcgL2lzLyAnYXBwJ1xyXG4gICAgICAgIC8vbW9kaWZpZWRfbmFtZSA9IG1vZGlmaWVkX25hbWUucmVwbGFjZSgnYXBwLicsICcnKTtcclxuICAgICAgICBsZXQgdmFsdWUgPSBBcHBsaWNhdGlvblN0YXRlLl9yZXNvbHZlUGF0aChzdWJfcGF0aCwgc3RhdGUpO1xyXG5cclxuICAgICAgICB0aGlzLm9wZXJhdGlvbl9xdWV1ZS5wdXNoKHtcclxuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxyXG4gICAgICAgICAgICBmdWxsX3BhdGg6IG1vZGlmaWVkX25hbWUsXHJcbiAgICAgICAgICAgIHN1Yl9wYXRoOiBzdWJfcGF0aCxcclxuICAgICAgICAgICAgLy9kZWVwIGNsb25lIG9iamVjdCBzbyB3ZSBoYXZlIGEgY29weSB0byBlbnN1cmUgaXQgaGFzbid0IGJlZW4gY2hhbmdlZCBieSB0aGUgdGltZSB3ZSBwcm9jZXNzIGl0XHJcbiAgICAgICAgICAgIHZhbHVlOiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgPyB2YWx1ZSA6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vaWYgdGhlcmUgYXJlIGFscmVhZHkgaXRlbXMgaW4gdGhlIHF1ZXVlLCB0aGV5IGFyZSBiZWluZyB3b3JrZWQgYnkgYW5vdGhlciAndGhyZWFkJ1xyXG4gICAgICAgIGlmICh0aGlzLm9wZXJhdGlvbl9xdWV1ZS5sZW5ndGggPiAxKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHByb2Nlc3NRdWV1ZS5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGVycikge1xyXG4gICAgICAgICAgICBhbGVydChcIkVycm9yIHNhdmluZyBzdGF0ZTogXCIgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpO1xyXG4gICAgICAgICAgICBjb25zb2xlLnRyYWNlKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZSgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3BlcmF0aW9uX3F1ZXVlLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5vcGVyYXRpb25fcXVldWVbMF07XHJcblxyXG4gICAgICAgICAgICAvL2Rlcml2ZSBsZWFmIGtleXMgYW5kIHZhbHVlcyBmcm9tIHRoZSBzdGF0ZSwgaWYgaXQncyBhbiBvYmplY3QuXHJcbiAgICAgICAgICAgIC8vZm9yIGFuIG9iamVjdCwgd2Ugb25seSB3YW50IHRvIHN0b3JlIGxlYWYgdmFsdWVzLCBvdGhlcndpc2UgcmVjb25zdHJ1Y3Rpb25cclxuICAgICAgICAgICAgLy93aWxsIGJlIGJyb2tlbiAtIGkuZS4sIGlmIHdlIHB1bGwgYSBKU09OIG9iamVjdCBhbmQgYXNzaWduIGl0LCBidXQgdGhlbiB3ZSBhbHNvIHB1bGwgYSBsZWFmXHJcbiAgICAgICAgICAgIC8vbm9kZSB0aGF0IHdhcyBzZXQgZXhwbGljaXRseSwgd2hvIHdpbnM/IHRvIGF2b2lkIHRoYXQsIHdlIGZsYXR0ZW4gYWxsIG9iamVjdHMgaW50byBhIGtleSBsaXN0XHJcbiAgICAgICAgICAgIC8vYW5kIHN0b3JlIHRoZSB2YWx1ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBmbGF0dGVuZWQga2V5LiBTdGF0ZUxvYWRlciB3aWxsIHJldmVyc2UgdGhpcyBwcm9jZXNzXHJcbiAgICAgICAgICAgIGxldCBmdWxsX3BhdGggPSBpdGVtLmZ1bGxfcGF0aDtcclxuICAgICAgICAgICAgbGV0IHN1Yl9wYXRoID0gaXRlbS5zdWJfcGF0aDtcclxuICAgICAgICAgICAgbGV0IHN0YXRlID0gaXRlbS5zdGF0ZTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gaXRlbS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhpcyBjb2RlIGlzIGEgaGVsbGF0aW91cyBjaHJpc3RtYXMgdHJlZSBiZWNhdXNlIGRleGllIGhhdGVzIGFzeW5jL2F3YWl0XHJcbiAgICAgICAgICAgIC8vZmlyc3QsIGNsZWFyIHRoZSBleGlzdGluZyBrZXlzIG91dFxyXG4gICAgICAgICAgICAvL2tleXMgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgIGxldCBrZXlzX3RvX3JlbW92ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgLy9UT0RPOiBhdCBzb21lIHBvaW50LCB0cnkgdG8gbWFrZSB0cmFuc2FjdGlvbnMgd29yay4gYWZ0ZXIgaG91cnMgb2Ygc3RydWdnbGUsIGNhbid0IGdldFxyXG4gICAgICAgICAgICAvL2RleGllIHRyYW5zYWN0aW9ucyB0byB3b3JrIHJpZ2h0LCBzbyBnaXZpbmcgdXAuXHJcblxyXG4gICAgICAgICAgICAvL2dldCBhbGwgdGhlIGtleXMgYW5kIGNoZWNrIHRvIHNlZSBpZiB0aGV5IGNvbnRhaW4gb3VyIHBhdGhcclxuICAgICAgICAgICAgbGV0IHByaW1hcnlfa2V5cyA9IGF3YWl0IHRoaXMuZGIuYXBwbGljYXRpb25fc3RhdGUudG9Db2xsZWN0aW9uKCkucHJpbWFyeUtleXMoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJpbWFyeV9rZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwcmltYXJ5X2tleXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2Yoc3ViX3BhdGgpID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3dlIG5lZWQgdG8gbWFrZSBzdXJlIHdlJ3JlIGRlbGV0aW5nIHRoZSByaWdodCBzdHVmZiBoZXJlLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc2lkZXIgdGhlIGNhc2Ugb2Ygc2V0dGluZyAnYXBwLmxvY2F0aW9uJyB3aGlsZSB3ZSBoYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hbm90aGVyIHNldHRpbmcgdGhhdCdzICdsb2NhdGlvblByZXZpb3VzJ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkubGVuZ3RoID4gc3ViX3BhdGgubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5W3N1Yl9wYXRoLmxlbmd0aF0gIT0gJy4nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGtleXNfdG9fcmVtb3ZlLnB1c2gocHJpbWFyeV9rZXlzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChrZXlzX3RvX3JlbW92ZS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLmFwcGxpY2F0aW9uX3N0YXRlLmJ1bGtEZWxldGUoa2V5c190b19yZW1vdmUpO1xyXG5cclxuICAgICAgICAgICAgLy9ub3cgZG8gYW4gb3B0aW1pemVkIHdyaXRlXHJcbiAgICAgICAgICAgIGxldCBpbW11dGFibGUgPSBBcHBsaWNhdGlvblN0YXRlLl9vcHRpb25zW2Z1bGxfcGF0aF0gJiYgQXBwbGljYXRpb25TdGF0ZS5fb3B0aW9uc1tmdWxsX3BhdGhdWydpbW11dGFibGUnXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgJiYgIWltbXV0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZsYXR0ZW5lZCA9IEFwcGxpY2F0aW9uU3RhdGUuZmxhdHRlbih2YWx1ZSwgc3ViX3BhdGgpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLmFwcGxpY2F0aW9uX3N0YXRlLmJ1bGtQdXQoZmxhdHRlbmVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3Igc2F2aW5nIHN0YXRlOiBcIiArIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS50cmFjZShlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VyaWFsaXplZF92YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGlmICghc2VyaWFsaXplZF92YWx1ZSkgc2VyaWFsaXplZF92YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIuYXBwbGljYXRpb25fc3RhdGUucHV0KHsga2V5OiBzdWJfcGF0aCwgdmFsdWU6IHNlcmlhbGl6ZWRfdmFsdWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVycm9yIHNhdmluZyBzdGF0ZTogXCIgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdGlvbl9xdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICBhd2FpdCBwcm9jZXNzUXVldWUuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuIiwiLyoqXHJcbiAqIFRoaXMgY2xhc3MgbWFpbnRhaW5zIHRoZSBvdmVyYWxsIGFwcGxpY2F0aW9uIHN0YXRlIGluIGEgcGxhdGZvcm0tYWdub3N0aWMgd2F5LlxyXG4gKiBBcHBsaWNhdGlvbiBzdGF0ZXMgYXJlIGtleS12YWx1ZSBwYWlycywgd2hlcmUgdGhlIHZhbHVlIGlzIG5vcm1hbGx5IGFuIG9iamVjdCwgYnV0IGNhbiBiZSBhbnkgc2VyaWFsaXphYmxlXHJcbiAqIGRhdGEgdHlwZS5cclxuICogQSB1c2VmdWwgZmVhdHVyZSBvZiB0aGlzIGNsYXNzIGlzIHRoYXQgYWxsIGNoYW5nZXMgdG8gdGhlIGFwcGxpY2F0aW9uIHN0YXRlIGFyZSBzdG9yZWQsIGFuZCBjYW4gYmUgcmVzdG9yZWQgdmlhXHJcbiAqIGEgc2ltcGxlIGNhbGwgdG8gdW5kbyhuYW1lKVxyXG4gKlxyXG4gKiBAYXV0aG9yIENsYXkgR3VsaWNrXHJcbiAqL1xyXG5jbGFzcyBBcHBsaWNhdGlvblN0YXRlIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgdmFsdWUgZm9yIHRoZSBzcGVjaWZpYyBzdGF0ZSBpbnN0YW5jZVxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEByZXR1cm5zIHsqfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0KG5hbWUpIHtcclxuICAgICAgICBuYW1lID0gQXBwbGljYXRpb25TdGF0ZS5fZGVyZWZlcmVuY2VQYXRoKG5hbWUpO1xyXG4gICAgICAgIHJldHVybiBBcHBsaWNhdGlvblN0YXRlLl9yZXNvbHZlUGF0aChuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYSBzcGVjaWZpZWQgcGF0aCwgb3Igc2V0cyBpdCB3aXRoIHRoZSBkZWZhdWx0IHZhbHVlcyBpZiBpdCdzIG5vdCBwcmVzZW50LlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIHBhdGggdG8gZWl0aGVyIGdldCBvciBzZXQuXHJcbiAgICAgKiBAcGFyYW0geyp9IGRlZmF1bHRzIFRoZSB2YWx1ZSB0byBzZXQgaWYgbm90IHByZXNlbnQuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9ucyBvYmplY3QgdG8gdXNlIGZvciB0aGlzIHBhdGguXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZXRPclNldChuYW1lLCBkZWZhdWx0cywgb3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gQXBwbGljYXRpb25TdGF0ZS5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHJldHVybiB2YWx1ZTtcclxuXHJcbiAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5zZXQobmFtZSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICByZXR1cm4gQXBwbGljYXRpb25TdGF0ZS5nZXQobmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIGZvciBsaXN0ZW5pbmcgdG8gY2hhbmdlcyB0byB0aGUgc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZVxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIGZ1bmN0aW9uIE9mIHRoZSBmb3JtIGNhbGxiYWNrKG5ld192YWx1ZSwgb2xkX3ZhbHVlKSB3aGVyZSB2YWx1ZSB3aWxsIGJlIHBhc3NlZCB0byB0aGUgY2FsbGJhY2tcclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBsaXN0ZW5lciBrZXkgdG8gcGFzcyBiYWNrIHdoZW4gcmVtb3ZpbmcgdGhlIGxpc3RlbmVyLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgbGlzdGVuKG5hbWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKCFBcHBsaWNhdGlvblN0YXRlLl9saXN0ZW5lcnNbbmFtZV0pXHJcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tuYW1lXSA9IFtdO1xyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyS2V5Kys7XHJcbiAgICAgICAgY2FsbGJhY2suX2xpc3RlbmVyS2V5ID0gQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJLZXk7XHJcbiAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW25hbWVdLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIHJldHVybiBjYWxsYmFjay5fbGlzdGVuZXJLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgdGhlIGxpc3RlbmVyIG9uIHRoZSBzcGVjaWZpZWQgbmFtZSBmb3IgdGhlIHNwZWNpZmllZCBrZXlcclxuICAgICAqIEBwYXJhbSBuYW1lXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyByZW1vdmVMaXN0ZW5lcihuYW1lLCBrZXkpIHtcclxuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tuYW1lXSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW25hbWVdLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBpZiAoQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW25hbWVdW2luZGV4XS5fbGlzdGVuZXJLZXkgPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLl9saXN0ZW5lcnNbbmFtZV0uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldCB0aGUgc3RhdGUgdmFsdWUsIHRyaWdnZXJzIGxpc3RlbmVycy5cclxuICAgICAqIElmIG5hbWUgaXMgYSBkb3R0ZWQgZXhwcmVzc2lvbiwgaS5lLiBhcHAuam9icy4xMjM0NSB0aGVuIGFueSBsaXN0ZW5lcnMgb24gXCJwYXJlbnRcIiBlbGVtZW50cyB3aWxsIGFsc28gYmVcclxuICAgICAqIG5vdGlmaWVkIG9mIHRoZSBjaGFuZ2UuIFNvLCBmb3IgZXhhbXBsZSBpZiBzZXQgaXMgY2FsbGVkIG9uICdhcHAuam9icy4xMjM0NScgYW5kIHRoZXJlIGlzIGEgbGlzdGVuZXIgb24gJ2FwcC5qb2JzJ1xyXG4gICAgICogdGhlbiB0aGUgJ2FwcC5qb2JzJyBsaXN0ZW5lciB3aWxsIGFsc28gYmUgbm90aWZpZWQsIGFuZCBzbyBvbi5cclxuICAgICAqIEBwYXJhbSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqIEBwYXJhbSBvcHRpb25zIG9iamVjdCB7bm90aWZ5OiB0cnVlLCBpbW11dGFibGU6IGZhbHNlLCBwZXJzaXN0OiB0cnVlfVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgbmFtZSA9IEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aChuYW1lKTtcclxuICAgICAgICBsZXQgZGVmYXVsdF9vcHRpb25zID0ge1xyXG4gICAgICAgICAgICAvL3RyaWdnZXIgbm90aWZpY2F0aW9ucz9cclxuICAgICAgICAgICAgbm90aWZ5OiB0cnVlLFxyXG4gICAgICAgICAgICAvL2Egc3BlY2lmaWMgbGlzdCBvZiBwYXRocyB0byBleGNsdWRlIGZyb20gYmVpbmcgbm90aWZpZWRcclxuICAgICAgICAgICAgZXhjbHVkZV9ub3RpZmljYXRpb25fcGF0aHM6IFtdLFxyXG4gICAgICAgICAgICAvL2EgbGlzdCBvZiBzcGVjaWZpYyBsaXN0ZW5lciBrZXlzIHRoYXQgc2hvdWxkIG5vdCBiZSBub3RpZmllZCBvZiBjaGFuZ2VzXHJcbiAgICAgICAgICAgIGV4Y2x1ZGVfbm90aWZpY2F0aW9uX2xpc3RlbmVyczogW10sXHJcbiAgICAgICAgICAgIC8vaXMgdGhpcyBhIGNoYW5nZWFibGUgb2JqZWN0P1xyXG4gICAgICAgICAgICBpbW11dGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAvL3Nob3VsZCB0aGlzIHZhbHVlIGJlIHBlcnNpc3RlZD9cclxuICAgICAgICAgICAgcGVyc2lzdDogdHJ1ZSxcclxuICAgICAgICAgICAgLy9kbyB3ZSB3YW50IHRvIG1haW50YWluIHByZXZpb3VzIHN0YXRlP1xyXG4gICAgICAgICAgICBzYXZlX3ByZXZpb3VzOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0X29wdGlvbnMsIG9wdGlvbnMpO1xyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX29wdGlvbnNbbmFtZV0gPSBvcHRpb25zO1xyXG4gICAgICAgIGlmICghQXBwbGljYXRpb25TdGF0ZS5fcHJldmlvdXNTdGF0ZVtuYW1lXSAmJiBvcHRpb25zLnNhdmVfcHJldmlvdXMpXHJcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3ByZXZpb3VzU3RhdGVbbmFtZV0gPSBbXTtcclxuICAgICAgICBpZiAob3B0aW9ucy5zYXZlX3ByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgIGxldCBwcmV2aW91c192YWx1ZSA9IEFwcGxpY2F0aW9uU3RhdGUuX3Jlc29sdmVQYXRoKG5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoISh0eXBlb2YgcHJldmlvdXNfdmFsdWUgPT09ICd1bmRlZmluZWQnKSlcclxuICAgICAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3ByZXZpb3VzU3RhdGVbbmFtZV0ucHVzaChwcmV2aW91c192YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX2Fzc2lnblZhbHVlKG5hbWUsIHZhbHVlKTtcclxuICAgICAgICBhd2FpdCBBcHBsaWNhdGlvblN0YXRlLm5vdGlmeShuYW1lLCBmYWxzZSwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgdXRpbGl0eSBmdW5jdGlvbiB0byBzZXQgdmFsdWUgYXQgYSBkb3R0ZWQgcGF0aFxyXG4gICAgICogQHBhcmFtIHBhdGhcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICogQHBhcmFtIG9iamVjdCBPYmplY3Qgb3B0aW9uYWwgb2JqZWN0IHRoYXQgY2FuIGJlIHN1YnN0aXR1dGVkIGZvciB1c2UgaW5zdGVhZCBvZiBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9hc3NpZ25WYWx1ZShwYXRoLCB2YWx1ZSwgb2JqZWN0KSB7XHJcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0IHx8IEFwcGxpY2F0aW9uU3RhdGUuX3N0YXRlO1xyXG5cclxuICAgICAgICBjb25zdCBub2RlcyA9IEFwcGxpY2F0aW9uU3RhdGUud2FsayhwYXRoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG5vZGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtub2RlLm5hbWVdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Rbbm9kZS5uYW1lXSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmplY3Rbbm9kZS5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FycmF5JzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9iamVjdFtub2RlLm5hbWVdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3Rbbm9kZS5uYW1lXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmplY3Rbbm9kZS5uYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xlYWYnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3Rbbm9kZS5uYW1lXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aHJvdyBFcnJvcihcIldlIHNob3VsZCBoYXZlIHJldHVybmVkIGFmdGVyIHNldHRpbmcgdGhlIHZhbHVlLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNpbWlsYXIgdG8gKm5peCBsbiBjb21tYW5kLCB0aGlzIGNyZWF0ZXMgYSBcInN5bWxpbmtcIiBiZXR3ZWVuIG5vZGVzXHJcbiAgICAgKiBFeGFtcGxlOiBBcHBsaWNhdGlvblN0YXRlLmxuKCdhcHAuYXNzZXNzbWVudHMuMTIzNCcsICdhcHAuY3VycmVudF9hc3Nlc3NtZW50Jyk7XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IHN0cmluZyBUaGUgcGF0aCB0byB0aGUgcmVhbCwgZXhpc3Rpbmcgbm9kZSB0aGF0IGEgbGluayBpcyBiZWluZyBjcmVhdGVkIGZvclxyXG4gICAgICogQHBhcmFtIGxpbmtfcGF0aCBzdHJpbmcgVGhlIHBhdGggdG8gdGhlIG5ldyBzeW1saW5rXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBsbih0YXJnZXQsIGxpbmtfcGF0aCkge1xyXG4gICAgICAgIGlmICghQXBwbGljYXRpb25TdGF0ZS5fc3ltbGlua3MpXHJcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3N5bWxpbmtzID0ge307XHJcbiAgICAgICAgLy90aGlzIGlzIGFuIG9wdGltaXphdGlvbiB0byBzdG9yZSBiYWNrcmVmcyBmcm9tIHRhcmdldGVkIG5vZGVzLiBJdCBtYWtlcyBsb29rdXBzIGZvciBub3RpZmljYXRpb25zIGZhc3RcclxuICAgICAgICBpZiAoIUFwcGxpY2F0aW9uU3RhdGUuX3JldmVyc2Vfc3ltbGlua3MpXHJcbiAgICAgICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3JldmVyc2Vfc3ltbGlua3MgPSB7fTtcclxuXHJcbiAgICAgICAgdGFyZ2V0ID0gQXBwbGljYXRpb25TdGF0ZS5fZGVyZWZlcmVuY2VQYXRoKHRhcmdldCk7XHJcbiAgICAgICAgbGV0IHBhcnRzID0gbGlua19wYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgbGV0IGxlYWYgPSBwYXJ0cy5zbGljZSgtMSk7XHJcbiAgICAgICAgLy9kZXJlZmVyZW5jZSB0aGUgcGFyZW50IHBhdGggc28gdGhhdCBpdHMgbWF0ZXJpYWxpemVkLlxyXG4gICAgICAgIGxldCBwYXJlbnRfcGF0aCA9IEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aChwYXJ0cy5zbGljZSgwLCAtMSkuam9pbignLicpKTtcclxuICAgICAgICBsaW5rX3BhdGggPSBwYXJlbnRfcGF0aCArICcuJyArIGxlYWY7XHJcblxyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3N5bWxpbmtzW2xpbmtfcGF0aF0gPSB0YXJnZXQ7XHJcbiAgICAgICAgaWYgKCEoQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZV9zeW1saW5rc1t0YXJnZXRdKSlcclxuICAgICAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZV9zeW1saW5rc1t0YXJnZXRdID0gW107XHJcbiAgICAgICAgLy9hIG5vZGUgY2FuIGJlIHJlZmVycmVkIHRvIGJ5IG11bHRpcGxlIHN5bWxpbmtzLCBzbyB3ZSBzdG9yZSBhbiBhcnJheVxyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX3JldmVyc2Vfc3ltbGlua3NbdGFyZ2V0XS5wdXNoKGxpbmtfcGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWxldGUgdGhlIHNwZWNpZmllZCBwYXRoLiBJZiB0aGUgdGFyZ2V0IGlzIGEgc3ltbGluaywgb25seSB0aGUgc3ltbGluayB3aWxsIGJlIHJlbW92ZWQuXHJcbiAgICAgKiBJZiBhIG5vZGUgcG9pbnRlZCB0byBieSBhIHN5bWxpbmsgaXMgZGVsZXRlZCwgdGhlIHN5bWxpbmsgd2lsbCBhbHNvIGJlIGRlbGV0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldFxyXG4gICAgICogQHBhcmFtIG9iamVjdCBhbiBvcHRpb25hbCBhbHRlcm5hdGUgb2JqZWN0IHRvIG9wZXJhdGUgb24gaW5zdGVhZCBvZiBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXN5bmMgcm0odGFyZ2V0LCBvYmplY3QpIHtcclxuICAgICAgICBvYmplY3QgPSBvYmplY3QgfHwgQXBwbGljYXRpb25TdGF0ZS5fc3RhdGU7XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsX3BhdGggPSB0YXJnZXQ7IC8vc2F2ZSB0aGlzIGZvciBub3RpZmljYXRpb25zXHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gJ2FwcCcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBpZiAoIXRhcmdldClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0YXJnZXQgPSBBcHBsaWNhdGlvblN0YXRlLl9tYXRlcmlhbGl6ZVBhdGgodGFyZ2V0KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlU3ltbGluayh0YXJnZXQsIGtlZXBfcmVmZXJyZXJzKSB7XHJcbiAgICAgICAgICAgIGxldCBsaW5rX3RhcmdldCA9IEFwcGxpY2F0aW9uU3RhdGUuX3N5bWxpbmtzW3RhcmdldF07XHJcbiAgICAgICAgICAgIGRlbGV0ZSBBcHBsaWNhdGlvblN0YXRlLl9zeW1saW5rc1t0YXJnZXRdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFrZWVwX3JlZmVycmVycykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlZmVycmVycyA9IEFwcGxpY2F0aW9uU3RhdGUuX3JldmVyc2Vfc3ltbGlua3NbbGlua190YXJnZXRdO1xyXG4gICAgICAgICAgICAgICAgcmVmZXJyZXJzLnNwbGljZShyZWZlcnJlcnMuaW5kZXhPZih0YXJnZXQpLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNTeW1saW5rKHRhcmdldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISEoQXBwbGljYXRpb25TdGF0ZS5fc3ltbGlua3MgJiYgQXBwbGljYXRpb25TdGF0ZS5fc3ltbGlua3NbdGFyZ2V0XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWZlcnJlZFRvKHRhcmdldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISEoQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZV9zeW1saW5rcyAmJiBBcHBsaWNhdGlvblN0YXRlLl9yZXZlcnNlX3N5bWxpbmtzW3RhcmdldF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9maXJzdCwgY2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgYSBzeW1saW5rLiBJZiBzbywganVzdCByZW1vdmUgaXQgZnJvbSB0aGUgc3ltbGluayB0cmFja2Vyc1xyXG4gICAgICAgIGlmIChpc1N5bWxpbmsodGFyZ2V0KSlcclxuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZVN5bWxpbmsodGFyZ2V0KTtcclxuXHJcbiAgICAgICAgaWYgKHJlZmVycmVkVG8odGFyZ2V0KSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZV9zeW1saW5rc1t0YXJnZXRdLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlU3ltbGluayh0YXJnZXQsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBBcHBsaWNhdGlvblN0YXRlLl9yZXZlcnNlX3N5bWxpbmtzW3RhcmdldF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGFydHMgPSBBcHBsaWNhdGlvblN0YXRlLndhbGsodGFyZ2V0KTtcclxuICAgICAgICBsZXQgbGVhZiA9IHBhcnRzLnNsaWNlKC0xKVswXTtcclxuICAgICAgICAvL3N0cmlwIG9mZiB0aGUgbGVhZlxyXG4gICAgICAgIHBhcnRzID0gcGFydHMuc2xpY2UoMCwgLTEpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFtwYXJ0c1tpXS5uYW1lXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmRlZmluZWQgdGFyZ2V0IGluIEFwcGxpY2F0aW9uU3RhdGUucm06ICcgKyB0YXJnZXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxlYWYucGFyZW50X3R5cGUgPT09IFwiYXJyYXlcIikge1xyXG4gICAgICAgICAgICBvYmplY3Quc3BsaWNlKGxlYWYubmFtZSwgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtsZWFmLm5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBBcHBsaWNhdGlvblN0YXRlLl9vcHRpb25zW29yaWdpbmFsX3BhdGhdO1xyXG4gICAgICAgIGlmICghb3B0aW9ucylcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIC8vdHJpZ2dlciBub3RpZmljYXRpb25zP1xyXG4gICAgICAgICAgICAgICAgbm90aWZ5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy9hIHNwZWNpZmljIGxpc3Qgb2YgcGF0aHMgdG8gZXhjbHVkZSBmcm9tIGJlaW5nIG5vdGlmaWVkXHJcbiAgICAgICAgICAgICAgICBleGNsdWRlX25vdGlmaWNhdGlvbl9wYXRoczogW10sXHJcbiAgICAgICAgICAgICAgICAvL2EgbGlzdCBvZiBzcGVjaWZpYyBsaXN0ZW5lciBrZXlzIHRoYXQgc2hvdWxkIG5vdCBiZSBub3RpZmllZCBvZiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICBleGNsdWRlX25vdGlmaWNhdGlvbl9saXN0ZW5lcnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgLy9pcyB0aGlzIGEgY2hhbmdlYWJsZSBvYmplY3Q/XHJcbiAgICAgICAgICAgICAgICBpbW11dGFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgLy9zaG91bGQgdGhpcyB2YWx1ZSBiZSBwZXJzaXN0ZWQ/XHJcbiAgICAgICAgICAgICAgICBwZXJzaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgLy9kbyB3ZSB3YW50IHRvIG1haW50YWluIHByZXZpb3VzIHN0YXRlP1xyXG4gICAgICAgICAgICAgICAgc2F2ZV9wcmV2aW91czogdHJ1ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIGF3YWl0IEFwcGxpY2F0aW9uU3RhdGUubm90aWZ5KG9yaWdpbmFsX3BhdGgsIGZhbHNlLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIG1hdGVyaWFsaXplZCBwYXRoIHRoYXQgZm9sbG93cyBzeW1saW5rcyBpbiB0aGUgb3JpZ2luYWwgcGF0aC5cclxuICAgICAqIEV4YW1wbGU6XHJcbiAgICAgKiBBcHBsaWNhdGlvblN0YXRlLmxuKCdhcHAuYXNzZXNzbWVudHMuMTIzNCcsJ2FwcC5jdXJyZW50X2Fzc2Vzc21lbnQnKTtcclxuICAgICAqIEFwcGxpY2F0aW9uU3RhdGUubG4oJ2FwcC5jdXJyZW50X2Fzc2Vzc21lbnQudG9waWNzLmJhdGhpbmcnLCAnYXBwLmN1cnJlbnRfYXNzZXNzbWVudC50b3BpY3MuY3VycmVudF90b3BpYycpO1xyXG4gICAgICpcclxuICAgICAqIEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aCgnYXBwLmN1cnJlbnRfYXNzZXNzbWVudC50b3BpY3MuY3VycmVudF90b3BpYycpXHJcbiAgICAgKiByZXR1cm5zOiAnYXBwLmFzc2Vzc21lbnRzLjEyMzQudG9waWNzLmJhdGhpbmcnXHJcbiAgICAgKiBAcGFyYW0gcGF0aFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9kZXJlZmVyZW5jZVBhdGgocGF0aCkge1xyXG4gICAgICAgIGlmICghQXBwbGljYXRpb25TdGF0ZS5fc3ltbGlua3MpXHJcbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xyXG5cclxuICAgICAgICBjb25zdCBub2RlcyA9IEFwcGxpY2F0aW9uU3RhdGUud2FsayhwYXRoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG5vZGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoQXBwbGljYXRpb25TdGF0ZS5fc3ltbGlua3Nbbm9kZS5wYXRoXSkge1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZShub2RlLnBhdGgsIEFwcGxpY2F0aW9uU3RhdGUuX3N5bWxpbmtzW25vZGUucGF0aF0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aChwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBhdGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGVzc2VudGlhbGx5IGRvZXMgdGhlIG9wcG9zaXRlIG9mIF9kZXJlZmVyZW5jZVBhdGgsIHdoaWNoIGlzIHRoYXQgaXQgd2lsbCByZXR1cm4gYW4gYXJyYXkgb2YgYWxsIGNvbWJpbmF0aW9uc1xyXG4gICAgICogb2Ygc3ltbGlua3MgdGhhdCBwb2ludCB0byB0aGlzIHBhdGguXHJcbiAgICAgKiBFeGFtcGxlOlxyXG4gICAgICogQXBwbGljYXRpb25TdGF0ZS5sbignYXBwLmFzc2Vzc21lbnRzLjEyMzQnLCdhcHAuY3VycmVudF9hc3Nlc3NtZW50Jyk7XHJcbiAgICAgKiBBcHBsaWNhdGlvblN0YXRlLmxuKCdhcHAuY3VycmVudF9hc3Nlc3NtZW50LnRvcGljcy5iYXRoaW5nJywgJ2FwcC5jdXJyZW50X2Fzc2Vzc21lbnQudG9waWNzLmN1cnJlbnRfdG9waWMnKTtcclxuICAgICAqXHJcbiAgICAgKiBBcHBsaWNhdGlvblN0YXRlLl9yZXZlcnNlU3ltbGluaygnYXBwLmFzc2Vzc21lbnRzLjEyMzQudG9waWNzLmJhdGhpbmcudmFsdWUnKVxyXG4gICAgICogcmV0dXJuczogW1xyXG4gICAgICogJ2FwcC5hc3Nlc3NtZW50cy4xMjM0LnRvcGljcy5jdXJyZW50X3RvcGljLnZhbHVlJyxcclxuICAgICAqICdhcHAuY3VycmVudF9hc3Nlc3NtZW50LnRvcGljcy5jdXJyZW50X3RvcGljLnZhbHVlJyxcclxuICAgICAqICdhcHAuY3VycmVudF9hc3Nlc3NtZW50LnRvcGljcy5iYXRoaW5nLnZhbHVlJ1xyXG4gICAgICogXVxyXG4gICAgICogQHBhcmFtIHBhdGhcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfcmV2ZXJzZVN5bWxpbmsocGF0aCkge1xyXG4gICAgICAgIGlmIChwYXRoLmluZGV4T2YoJy4nKSA8IDApIHJldHVybiBbXTtcclxuICAgICAgICBsZXQgc3ltbGlua3MgPSBbXTtcclxuICAgICAgICBsZXQgcmVzb2x2ZWRfc3ltbGlua3MgPSBbXTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkUGFyZW50U3ltbGlua3MocGF0aCkge1xyXG4gICAgICAgICAgICBsZXQgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgICAgIGxldCBsZWFmID0gcGFydHMuc2xpY2UoLTEpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50X3BhdGggPSBwYXJ0cy5zbGljZSgwLCAtMSkuam9pbignLicpO1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50X3N5bWxpbmtzID0gQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZVN5bWxpbmsocGFyZW50X3BhdGgpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcGFyZW50X3N5bWxpbmtzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRfc3ltbGlua3MucHVzaChwYXJlbnRfc3ltbGlua3NbaW5kZXhdICsgXCIuXCIgKyBsZWFmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEFwcGxpY2F0aW9uU3RhdGUuX3JldmVyc2Vfc3ltbGlua3NbcGF0aF0pXHJcbiAgICAgICAgICAgIHN5bWxpbmtzID0gQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZV9zeW1saW5rc1twYXRoXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHN5bWxpbmtzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBhZGRQYXJlbnRTeW1saW5rcyhzeW1saW5rc1tpbmRleF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkUGFyZW50U3ltbGlua3MocGF0aCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzeW1saW5rcy5jb25jYXQocmVzb2x2ZWRfc3ltbGlua3MpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIF9kZWZlcmVuY2VQYXRoLCBleGNlcHQgaXQgd2lsbCBub3QgY29tcGxldGVseSBkZXJlZmVyZW5jZSB0aGUgcGF0aCwgaXQgd2lsbCBvbmx5IGRlcmVmZXJlbmNlXHJcbiAgICAgKiB0aGUgcGFyZW50IHBhdGggb2YgdGhlIHBvaW50ZWQgdG8gbm9kZVxyXG4gICAgICogRXhhbXBsZTpcclxuICAgICAqIEFwcGxpY2F0aW9uU3RhdGUubG4oJ2FwcC5hc3Nlc3NtZW50cy4xMjM0JywnYXBwLmN1cnJlbnRfYXNzZXNzbWVudCcpO1xyXG4gICAgICogQXBwbGljYXRpb25TdGF0ZS5sbignYXBwLmN1cnJlbnRfYXNzZXNzbWVudC50b3BpY3MuYmF0aGluZycsICdhcHAuY3VycmVudF9hc3Nlc3NtZW50LnRvcGljcy5jdXJyZW50X3RvcGljJyk7XHJcbiAgICAgKlxyXG4gICAgICogQXBwbGljYXRpb25TdGF0ZS5fbWF0ZXJpYWxpemVQYXRoKCdhcHAuY3VycmVudF9hc3Nlc3NtZW50LnRvcGljcy5jdXJyZW50X3RvcGljJylcclxuICAgICAqIHJldHVybnM6ICdhcHAuYXNzZXNzbWVudHMuMTIzNC50b3BpY3MuY3VycmVudF90b3BpYydcclxuICAgICAqIEFwcGxpY2F0aW9uLmxuKFxyXG4gICAgICogQHBhcmFtIHBhdGhcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBfbWF0ZXJpYWxpemVQYXRoKHBhdGgpIHtcclxuICAgICAgICBsZXQgcGFydHMgPSBwYXRoLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgbGV0IGxlYWYgPSBwYXJ0cy5zbGljZSgtMSk7XHJcbiAgICAgICAgLy9kZXJlZmVyZW5jZSB0aGUgcGFyZW50IHBhdGggc28gdGhhdCBpdHMgbWF0ZXJpYWxpemVkLlxyXG4gICAgICAgIGxldCBwYXJlbnRfcGF0aCA9IEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aChwYXJ0cy5zbGljZSgwLCAtMSkuam9pbignLicpKTtcclxuICAgICAgICByZXR1cm4gcGFyZW50X3BhdGggKyAnLicgKyBsZWFmO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgdXRpbGl0eSBmdW5jdGlvbiB0byBkZXJlZmVyZW5jZSBkb3R0ZWQgcGF0aCB0byBhIHNwZWNpZmljIG9iamVjdC92YWx1ZVxyXG4gICAgICogQHBhcmFtIHBhdGggZWl0aGVyIGEgc2ltcGxlIHN0cmluZyBrZXksIGEgZG90dGVkIHN0cmluZyBvciBhbiBhcnJheSB0aGF0IGluZGljYXRlcyB0aGUgcGF0aFxyXG4gICAgICogQHBhcmFtIG9iamVjdCBPYmplY3Qgb3B0aW9uYWwgb2JqZWN0IHRoYXQgY2FuIGJlIHN1YnN0aXR1dGVkIGZvciB1c2UgaW5zdGVhZCBvZiBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIF9yZXNvbHZlUGF0aChwYXRoLCBvYmplY3QpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnKSB0aHJvdyBFcnJvcihcIlJlcXVpcmVzIGEgc3RyaW5nLCBnb3QgYW4gXCIgKyB0eXBlb2YgcGF0aCArIFwiIHRoYXQgXCIgKyBBcnJheS5pc0FycmF5KHBhdGgpID8gXCJpc1wiIDogXCJpc24ndFwiICsgXCIgYW4gYXJyYXlcIik7XHJcblxyXG4gICAgICAgIG9iamVjdCA9IG9iamVjdCB8fCBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZTtcclxuICAgICAgICBjb25zdCBub2RlcyA9IEFwcGxpY2F0aW9uU3RhdGUud2FsayhwYXRoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG5vZGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBvYmplY3QgPSBvYmplY3Rbbm9kZS5uYW1lXTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0ID09PSBudWxsKSByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBvYmplY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmlnZ2VycyBhIG5vdGlmaWNhdGlvbiwgb3IgJ2dldCcgb2YgYSB2YWx1ZSBpbiB0aGUgYXBwbGljYXRpb24gc3RhdGUuXHJcbiAgICAgKiBAcGFyYW0gbmFtZVxyXG4gICAgICogQHBhcmFtIGV4cGxpY2l0IEJvb2xlYW4gaW5kaWNhdGUgd2hldGhlciB0byBub3RpZnkgdXAvZG93biB0aGUgaGllcmFyY2h5XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBub3RpZnkobmFtZSwgZXhwbGljaXQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoQXBwbGljYXRpb25TdGF0ZS5fZGlzYWJsZV9ub3RpZmljYXRpb24pIHJldHVybjtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2VuZCB0aGUgYWN0dWFsIG5vdGlmaWNhdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBsaXN0ZW5lclxyXG4gICAgICAgICAqIEBwYXJhbSBuYW1lIHRoZSBwbGFjZSBpbiB0aGUgaGllcmFjaHkgdGhhdCdzIHRyaWdnZXJpbmcgdGhlIHNlbmRcclxuICAgICAgICAgKiBAcGFyYW0gbW9kaWZpZWRfbmFtZSB0aGUgbmFtZSBvZiB0aGUgaGllcmFyY2hpY2FsIGtleSB0aGF0IHdhcyBhY3R1YWxseSBtb2RpZmllZCwgbWF5IGJlIGRpZmZlcmVudCB0aGFuIGBuYW1lYFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHNlbmQobGlzdGVuZXIsIG5hbWUsIG1vZGlmaWVkX25hbWUpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhjbHVkZV9ub3RpZmljYXRpb25fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIuX2xpc3RlbmVyS2V5KSA+PSAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgbmFtZSA9IEFwcGxpY2F0aW9uU3RhdGUuX2RlcmVmZXJlbmNlUGF0aChuYW1lKTtcclxuICAgICAgICAgICAgaWYgKEFwcGxpY2F0aW9uU3RhdGUuX3ByZXZpb3VzU3RhdGVbbmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBsaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLl9yZXNvbHZlUGF0aChuYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLl9wcmV2aW91c1N0YXRlW25hbWVdW0FwcGxpY2F0aW9uU3RhdGUuX3ByZXZpb3VzU3RhdGVbbmFtZV0ubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRfbmFtZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9ubyBwcmV2aW91cyBzdGF0ZSwgc2V0IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICBhd2FpdCBsaXN0ZW5lcihBcHBsaWNhdGlvblN0YXRlLl9yZXNvbHZlUGF0aChuYW1lKSwgdW5kZWZpbmVkLCBtb2RpZmllZF9uYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIElmIHRoZXJlJ3MgYSBzeW1saW5rIHRoYXQgcG9pbnRzIHRvIHRoaXMgcGF0aCwgaW52b2tlIGFueSBsaXN0ZW5lcnMgb24gdGhlIHN5bWxpbmtcclxuICAgICAgICAgKiBAcGFyYW0gbmFtZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIG5vdGlmeVN5bWxpbmsobmFtZSkge1xyXG4gICAgICAgICAgICBpZiAoIUFwcGxpY2F0aW9uU3RhdGUuX3N5bWxpbmtzKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy9pZiB0aGVyZSdzIGEgc3ltbGluayB0aGF0IHJlZmVycyB0byB0aGlzIHBhdGhcclxuICAgICAgICAgICAgbGV0IHN5bWxpbmtzID0gQXBwbGljYXRpb25TdGF0ZS5fcmV2ZXJzZVN5bWxpbmsobmFtZSk7XHJcbiAgICAgICAgICAgIC8vYW5kIHRoZXJlJ3MgYSBsaXN0ZW5lciBvbiB0aGF0IHN5bWxpbmssIHRyaWdnZXIgdGhhdCBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHN5bWxpbmtzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ltbGluayA9IHN5bWxpbmtzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmICghQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW3N5bWxpbmtdKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5leGNsdWRlX25vdGlmaWNhdGlvbl9wYXRocy5pbmRleE9mKHN5bWxpbmspID49IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzeW1saW5rX2xpc3RlbmVycyA9IEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tzeW1saW5rXTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGxpc3RlbmVyX2luZGV4ID0gMDsgbGlzdGVuZXJfaW5kZXggPCBzeW1saW5rX2xpc3RlbmVycy5sZW50aDsgbGlzdGVuZXJfaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQoc3ltbGlua19saXN0ZW5lcnNbbGlzdGVuZXJfaW5kZXhdLCBzeW1saW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9ub3RpZnkgbGlzdGVuZXJzIHVwIHRoZSBoaWVyYXJjaHlcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiBub3RpZnlVcChuYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gQXBwbGljYXRpb25TdGF0ZS53YWxrKG5hbWUpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbm9kZXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJsZWFmXCIpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbm90aWZ5U3ltbGluayhub2RlLnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhjbHVkZV9ub3RpZmljYXRpb25fcGF0aHMuaW5kZXhPZihub2RlLnBhdGgpID49IDApIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChBcHBsaWNhdGlvblN0YXRlLl9saXN0ZW5lcnNbbm9kZS5wYXRoXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tub2RlLnBhdGhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsaXN0ZW5lcnMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQobGlzdGVuZXJzW2luZGV4XSwgbm9kZS5wYXRoLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vbm90aWZ5IG9uIGFuIGV4cGxpY2l0IG5hbWVcclxuICAgICAgICBhc3luYyBmdW5jdGlvbiBub3RpZnlFeHBsaWNpdChuYW1lKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG5vdGlmeVN5bWxpbmsobmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tuYW1lXSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5leGNsdWRlX25vdGlmaWNhdGlvbl9wYXRocy5pbmRleE9mKG5hbWUpID49IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tuYW1lXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxpc3RlbmVycy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHNlbmQobGlzdGVuZXJzW2luZGV4XSwgbmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlY3Vyc2l2ZWx5IG5vdGlmeSBkb3duIHRoZSBoaWVyYXJjaHlcclxuICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QganVzdCBub3RpZnkgZG93biB0aGUgY2hhaW4gb2YgdGhlIHN0cmluZyBuYW1lLCBpdCBnb2VzIGFjcm9zcyBhbGwgc3ViLW9iamVjdHMgYW5kIGFycmF5cy5cclxuICAgICAgICBhc3luYyBmdW5jdGlvbiBub3RpZnlEb3duKG5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqID0gQXBwbGljYXRpb25TdGF0ZS5fcmVzb2x2ZVBhdGgobmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghb2JqKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICghKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG5ndGggPSBvYmoubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VibmFtZSA9IG5hbWUgKyBcIltcIiArIGluZGV4ICsgXCJdXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbm90aWZ5U3ltbGluayhzdWJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5leGNsdWRlX25vdGlmaWNhdGlvbl9wYXRocy5pbmRleE9mKHN1Ym5hbWUpID49IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBub3RpZnlEb3duKHN1Ym5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW3N1Ym5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Ym5hbWVfbGlzdGVuZXJzID0gQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJzW3N1Ym5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBzdWJuYW1lX2luZGV4ID0gMDsgc3VibmFtZV9pbmRleCA8IHN1Ym5hbWVfbGlzdGVuZXJzLmxlbmd0aDsgc3VibmFtZV9pbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kKHN1Ym5hbWVfbGlzdGVuZXJzW3N1Ym5hbWVfaW5kZXhdLCBzdWJuYW1lLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbm90aWZ5RG93bihzdWJuYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGtleXMubGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VibmFtZSA9IG5hbWUgKyBcIi5cIiArIGtleXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5vdGlmeVN5bWxpbmsoc3VibmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXhjbHVkZV9ub3RpZmljYXRpb25fcGF0aHMuaW5kZXhPZihzdWJuYW1lKSA+PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgbm90aWZ5RG93bihzdWJuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFwcGxpY2F0aW9uU3RhdGUuX2xpc3RlbmVyc1tzdWJuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBBcHBsaWNhdGlvblN0YXRlLl9saXN0ZW5lcnNbc3VibmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN1Ym5hbWVfaW5kZXggPSAwOyBzdWJuYW1lX2luZGV4IDwgbGlzdGVuZXJzLmxlbmd0aDsgc3VibmFtZV9pbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kKGxpc3RlbmVyc1tzdWJuYW1lX2luZGV4XSwgc3VibmFtZSwgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5vdGlmeURvd24oc3VibmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZXhwbGljaXQpXHJcbiAgICAgICAgICAgIGF3YWl0IG5vdGlmeVVwKG5hbWUpO1xyXG5cclxuICAgICAgICBhd2FpdCBub3RpZnlFeHBsaWNpdChuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKCFleHBsaWNpdClcclxuICAgICAgICAgICAgYXdhaXQgbm90aWZ5RG93bihuYW1lKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXZlcnQgY2hhbmdlcyB0byBzdGF0ZSBmb3IgdGhlIHNwZWNpZmljIG5hbWUuIE5vdGU6IHRoaXMgaG9ub3JzIHRoZSBoaWVyYXJjaHksIHNvIGl0IHdpbGwgbmF2aWdhdGUgdGhyb3VnaCBhbGxcclxuICAgICAqIGNoaWxkIG5hbWVzIGFuZCB1bmRvIGFueSBjaGFuZ2VzIGJlbG93IGl0LiBTbywgZm9yIGV4YW1wbGUsIGlmIHlvdSB3ZXJlIHRvIGNhbGwgdW5kbygnYXBwJykgIGFuZCAnYXBwJyB3YXMgdGhlIHRvcFxyXG4gICAgICogbGV2ZWwga2V5IGluIHlvdXIgYXBwbGljYXRpb24sIGFueSBjaGFuZ2VzIHRvIGFueSBjaGlsZCBvZiBhcHAgd2lsbCBiZSByZXdvdW5kLCAnYXBwLmxvZ2luJywgJ2FwcC51c2VyLnJvbGUnIGV0Yy4uLlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZXJlIGlzIG5vIHByZXZpb3VzIHN0YXRlIGZvciB0aGUgc3BlY2lmaWVkIHZhbHVlLCBpdCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuXHJcbiAgICAgKiBAcGFyYW0gbmFtZVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdW5kbyhuYW1lKSB7XHJcbiAgICAgICAgLy90aGlzIGlzIGp1c3QgYSByZWd1bGFyIGtleSwgbm8gZG90dGVkIHBhdGhcclxuICAgICAgICBpZiAobmFtZS5pbmRleE9mKCcuJykgPCAwKSB7XHJcbiAgICAgICAgICAgIGlmICghQXBwbGljYXRpb25TdGF0ZS5fcHJldmlvdXNTdGF0ZVtuYW1lXSlcclxuICAgICAgICAgICAgICAgIHJldHVybiBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZVtuYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgQXBwbGljYXRpb25TdGF0ZS5fc3RhdGVbbmFtZV0gPSBBcHBsaWNhdGlvblN0YXRlLl9wcmV2aW91c1N0YXRlW25hbWVdLnBvcCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3dlIGhhdmUgYSBkb3R0ZWQgbmFtZVxyXG4gICAgICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoJy4nKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gbmFtZXMubGVuZ3RoOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lcy5zbGljZSgwLCBpKS5qb2luKCcuJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIUFwcGxpY2F0aW9uU3RhdGUuX3N0YXRlW25hbWVdKSBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKCFBcHBsaWNhdGlvblN0YXRlLl9wcmV2aW91c1N0YXRlW25hbWVdKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEFwcGxpY2F0aW9uU3RhdGUuX3N0YXRlW25hbWVdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICBBcHBsaWNhdGlvblN0YXRlLl9zdGF0ZVtuYW1lXSA9IEFwcGxpY2F0aW9uU3RhdGUuX3ByZXZpb3VzU3RhdGVbbmFtZV0ucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWxsb3cgZm9yIGRpc2FibGluZyBub3RpZmljYXRpb25zLCBpbiB0aGUgY2FzZSB3aGVyZSBhcHBsaWNhdGlvbiBzdGF0ZSBuZWVkcyB0byBiZSBtb2RpZmllZCB3aXRob3V0XHJcbiAgICAgKiB0cmlnZ2VyaW5nIGxpc3RlbmVyc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZGlzYWJsZV9ub3RmaWNhdGlvbigpIHtcclxuICAgICAgICBBcHBsaWNhdGlvblN0YXRlLl9kaXNhYmxlX25vdGlmaWNhdGlvbiA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWVuYWJsZSBub3RpZmljYXRpb25zXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBlbmFibGVfbm90aWZpY2F0aW9uKCkge1xyXG4gICAgICAgIEFwcGxpY2F0aW9uU3RhdGUuX2Rpc2FibGVfbm90aWZpY2F0aW9uID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb252ZXJ0IGFuIG9iamVjdCB0byBhIDJkIGFycmF5LCB3aGVyZSBlYWNoIGVsZW1lbnQgaXMgW2tleSx2YWx1ZV0uIEtleSBpcyB0aGUgZnVsbCBkb3R0ZWQgcGF0aC5cclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBwYXRoXHJcbiAgICAgKiBAcGFyYW0gZmxhdHRlbmVkXHJcbiAgICAgKiBAcmV0dXJuIG9iamVjdCBvYmplY3QgY29udGFpbmluZyBrZXlzIGFuZCB2YWx1ZXMgb2YgdGhlIGZsYXR0ZW5lZCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZsYXR0ZW4ob2JqLCBwYXRoLCBmbGF0dGVuZWQpIHtcclxuICAgICAgICBpZiAoIWZsYXR0ZW5lZCkgZmxhdHRlbmVkID0gW107XHJcbiAgICAgICAgaWYgKCFwYXRoKSBwYXRoID0gXCJcIjtcclxuXHJcbiAgICAgICAgLy8gY29udmVydCB0byBhIGRvdHRlZCBwYXRoXHJcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xyXG4gICAgICAgIGxldCBpc19hcnJheSA9IEFycmF5LmlzQXJyYXkob2JqKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gb2JqW2tleXNbaV1dO1xyXG4gICAgICAgICAgICBsZXQgbmV3X3BhdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNfYXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIG5ld19wYXRoID0gcGF0aCArIChwYXRoID8gXCJbXCIgKyBrZXlzW2ldICsgXCJdXCIgOiBcIlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5ld19wYXRoID0gcGF0aCArIChwYXRoID8gXCIuXCIgOiBcIlwiKSArIGtleXNbaV07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmxhdHRlbih2YWx1ZSwgbmV3X3BhdGgsIGZsYXR0ZW5lZCk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkobnVsbCk7XHJcbiAgICAgICAgICAgIGZsYXR0ZW5lZC5wdXNoKHsga2V5OiBuZXdfcGF0aCwgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgd2FsayhyZWZlcmVuY2UpIHtcclxuICAgICAgICBsZXQgc3RhcnRfaW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBlbmRfaW5kZXg7XHJcbiAgICAgICAgbGV0IHJlZjtcclxuICAgICAgICBsZXQgcGF0aDtcclxuICAgICAgICBsZXQgdHlwZTtcclxuICAgICAgICBsZXQgcGFyZW50X3JlZjtcclxuICAgICAgICBsZXQgcGFyZW50X3BhdGg7XHJcbiAgICAgICAgbGV0IHBhcmVudF90eXBlO1xyXG5cclxuICAgICAgICBjb25zdCBub2RlcyA9IFtdO1xyXG5cclxuICAgICAgICBpZiAocmVmZXJlbmNlWzBdID09PSBcIltcIikge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJvb3Qgbm9kZSBjYW5ub3QgYmUgYW4gYXJyYXlcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBldmFsdWF0ZVBhcmVudFBhdGggPSBmdW5jdGlvbiAobmFtZSwgcGF0aCwgdHlwZSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50X3BhdGg7XHJcbiAgICAgICAgICAgIGlmICghcGF0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImFycmF5XCIpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudF9wYXRoID0gcGF0aC5yZXBsYWNlKFwiW1wiICsgbmFtZSArIFwiXVwiLCBcIlwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudF9wYXRoID0gcGF0aC5yZXBsYWNlKFwiLlwiICsgbmFtZSwgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJlbnRfcGF0aDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmb3IgKGVuZF9pbmRleCA9IDA7IGVuZF9pbmRleCA8IHJlZmVyZW5jZS5sZW5ndGg7IGVuZF9pbmRleCsrKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gdHJ5IHRvIHByb2Nlc3MgaWYgdGhlIGluZGV4ZXMgbWF0Y2hcclxuICAgICAgICAgICAgaWYgKHN0YXJ0X2luZGV4ID09PSBlbmRfaW5kZXgpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZVtzdGFydF9pbmRleF0gPT09IFwiLlwiIHx8XHJcbiAgICAgICAgICAgICAgICByZWZlcmVuY2Vbc3RhcnRfaW5kZXhdID09PSBcIltcIiB8fFxyXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlW3N0YXJ0X2luZGV4XSA9PT0gXCJdXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydF9pbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVmZXJlbmNlW2VuZF9pbmRleF0gPT09IFwiLlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZWYgPSByZWZlcmVuY2Uuc3Vic3RyaW5nKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IHJlZmVyZW5jZS5zdWJzdHJpbmcoMCwgZW5kX2luZGV4KTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2luZGV4ID0gZW5kX2luZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBcIm9iamVjdFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHJlZixcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogcGFyZW50X3JlZixcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRfcGF0aDogZXZhbHVhdGVQYXJlbnRQYXRoKHJlZiwgcGF0aCwgcGFyZW50X3R5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF90eXBlOiBwYXJlbnRfdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnRfcmVmID0gcmVmO1xyXG4gICAgICAgICAgICAgICAgcGFyZW50X3R5cGUgPSB0eXBlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVmZXJlbmNlW2VuZF9pbmRleF0gPT09IFwiW1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZWYgPSByZWZlcmVuY2Uuc3Vic3RyaW5nKHN0YXJ0X2luZGV4LCBlbmRfaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgcGF0aCA9IHJlZmVyZW5jZS5zdWJzdHJpbmcoMCwgZW5kX2luZGV4KTtcclxuICAgICAgICAgICAgICAgIHN0YXJ0X2luZGV4ID0gZW5kX2luZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBcImFycmF5XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVmLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnRfcmVmLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9wYXRoOiBldmFsdWF0ZVBhcmVudFBhdGgocmVmLCBwYXRoLCBwYXJlbnRfdHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50X3R5cGU6IHBhcmVudF90eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHBhcmVudF9yZWYgPSByZWY7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRfdHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChyZWZlcmVuY2VbZW5kX2luZGV4XSA9PT0gXCJdXCIpIHtcclxuICAgICAgICAgICAgICAgIHJlZiA9IHJlZmVyZW5jZS5zdWJzdHJpbmcoc3RhcnRfaW5kZXgsIGVuZF9pbmRleCk7XHJcbiAgICAgICAgICAgICAgICBwYXRoID0gcmVmZXJlbmNlLnN1YnN0cmluZygwLCBlbmRfaW5kZXggKyAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBlbmQgb2YgdGhlIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZF9pbmRleCArIDEgPT09IHJlZmVyZW5jZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFyc2VJbnQocmVmKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnRfcmVmLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfcGF0aDogZXZhbHVhdGVQYXJlbnRQYXRoKHJlZiwgcGF0aCwgcGFyZW50X3R5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfdHlwZTogcGFyZW50X3R5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibGVhZlwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9yZWYgPSByZWY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlcztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHJlZmVyZW5jZVtlbmRfaW5kZXggKyAxXSA9PT0gXCJbXCIgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXJzZUludChyZWYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHBhcmVudF9yZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF9wYXRoOiBldmFsdWF0ZVBhcmVudFBhdGgocmVmLCBwYXRoLCBwYXJlbnRfdHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF90eXBlOiBwYXJlbnRfdHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRfcmVmID0gcmVmO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBzdGFydF9pbmRleCA9IGVuZF9pbmRleCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHdlJ3ZlIG1hZGUgaXQgYWxsIHRoZSB3YXkgdGhyb3VnaCwgZG9uJ3QgZG8gYSBmaW5hbCB5aWVsZFxyXG4gICAgICAgIGlmIChzdGFydF9pbmRleCA9PT0gZW5kX2luZGV4ICsgMSkgcmV0dXJuIG5vZGVzO1xyXG5cclxuICAgICAgICBub2Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogcmVmZXJlbmNlLnN1YnN0cmluZyhzdGFydF9pbmRleCksXHJcbiAgICAgICAgICAgIHBhdGg6IHJlZmVyZW5jZSxcclxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnRfcmVmLFxyXG4gICAgICAgICAgICBwYXJlbnRfcGF0aDogZXZhbHVhdGVQYXJlbnRQYXRoKHJlZmVyZW5jZSwgcGF0aCwgcGFyZW50X3R5cGUpLFxyXG4gICAgICAgICAgICBwYXJlbnRfdHlwZTogcGFyZW50X3R5cGUsXHJcbiAgICAgICAgICAgIHR5cGU6IFwibGVhZlwiXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBub2RlcztcclxuICAgIH1cclxufVxyXG5cclxuQXBwbGljYXRpb25TdGF0ZS5fcHJldmlvdXNTdGF0ZSA9IHt9O1xyXG5BcHBsaWNhdGlvblN0YXRlLl9zdGF0ZSA9IHt9O1xyXG5BcHBsaWNhdGlvblN0YXRlLl9saXN0ZW5lcnMgPSBbXTtcclxuQXBwbGljYXRpb25TdGF0ZS5fbGlzdGVuZXJLZXkgPSAwO1xyXG5BcHBsaWNhdGlvblN0YXRlLl9vcHRpb25zID0ge307XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBcHBsaWNhdGlvblN0YXRlO1xyXG4iLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJodG1sLmlvc3stLWlvbi1kZWZhdWx0LWZvbnQ6LWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsXFxcIkhlbHZldGljYSBOZXVlXFxcIixcXFwiUm9ib3RvXFxcIixzYW5zLXNlcmlmfWh0bWwubWR7LS1pb24tZGVmYXVsdC1mb250OlxcXCJSb2JvdG9cXFwiLFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsc2Fucy1zZXJpZn1ib2R5LmJhY2tkcm9wLW5vLXNjcm9sbHtvdmVyZmxvdzpoaWRkZW59aHRtbC5pb3MgaW9uLW1vZGFsIGlvbi1mb290ZXIgaW9uLXRvb2xiYXI6Zmlyc3Qtb2YtdHlwZSxodG1sLmlvcyBpb24tbW9kYWwubW9kYWwtY2FyZCBpb24taGVhZGVyIGlvbi10b29sYmFyOmZpcnN0LW9mLXR5cGUsaHRtbC5pb3MgaW9uLW1vZGFsLm1vZGFsLXNoZWV0IGlvbi1oZWFkZXIgaW9uLXRvb2xiYXI6Zmlyc3Qtb2YtdHlwZXtwYWRkaW5nLXRvcDo2cHh9aHRtbC5pb3MgaW9uLW1vZGFsLm1vZGFsLWNhcmQgaW9uLWhlYWRlciBpb24tdG9vbGJhcjpsYXN0LW9mLXR5cGUsaHRtbC5pb3MgaW9uLW1vZGFsLm1vZGFsLXNoZWV0IGlvbi1oZWFkZXIgaW9uLXRvb2xiYXI6bGFzdC1vZi10eXBle3BhZGRpbmctYm90dG9tOjZweH1odG1sLmlvcyBpb24tbW9kYWwgaW9uLXRvb2xiYXJ7cGFkZGluZy1yaWdodDpjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgOHB4KTtwYWRkaW5nLWxlZnQ6Y2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgOHB4KX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjc2OHB4KXtodG1sLmlvcyBpb24tbW9kYWwubW9kYWwtY2FyZDpmaXJzdC1vZi10eXBley0tYmFja2Ryb3Atb3BhY2l0eTowLjE4fX1pb24tbW9kYWwubW9kYWwtZGVmYXVsdDpub3QoLm92ZXJsYXktaGlkZGVuKX5pb24tbW9kYWwubW9kYWwtZGVmYXVsdHstLWJhY2tkcm9wLW9wYWNpdHk6MDstLWJveC1zaGFkb3c6bm9uZX1odG1sLmlvcyBpb24tbW9kYWwubW9kYWwtY2FyZCAuaW9uLXBhZ2V7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czp2YXIoLS1ib3JkZXItcmFkaXVzKX0uaW9uLWNvbG9yLXByaW1hcnl7LS1pb24tY29sb3ItYmFzZTp2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWJhc2UtcmdiOnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3Q6dmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QsICNmZmYpIWltcG9ydGFudDstLWlvbi1jb2xvci1jb250cmFzdC1yZ2I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3QtcmdiLCAyNTUsIDI1NSwgMjU1KSFpbXBvcnRhbnQ7LS1pb24tY29sb3Itc2hhZGU6dmFyKC0taW9uLWNvbG9yLXByaW1hcnktc2hhZGUsICMzMTcxZTApIWltcG9ydGFudDstLWlvbi1jb2xvci10aW50OnZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXRpbnQsICM0YzhkZmYpIWltcG9ydGFudH0uaW9uLWNvbG9yLXNlY29uZGFyeXstLWlvbi1jb2xvci1iYXNlOnZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnksICMzZGMyZmYpIWltcG9ydGFudDstLWlvbi1jb2xvci1iYXNlLXJnYjp2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LXJnYiwgNjEsIDE5NCwgMjU1KSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3Q6dmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdCwgI2ZmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjp2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0LXJnYiwgMjU1LCAyNTUsIDI1NSkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXNoYWRlOnZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktc2hhZGUsICMzNmFiZTApIWltcG9ydGFudDstLWlvbi1jb2xvci10aW50OnZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktdGludCwgIzUwYzhmZikhaW1wb3J0YW50fS5pb24tY29sb3ItdGVydGlhcnl7LS1pb24tY29sb3ItYmFzZTp2YXIoLS1pb24tY29sb3ItdGVydGlhcnksICM1MjYwZmYpIWltcG9ydGFudDstLWlvbi1jb2xvci1iYXNlLXJnYjp2YXIoLS1pb24tY29sb3ItdGVydGlhcnktcmdiLCA4MiwgOTYsIDI1NSkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0OnZhcigtLWlvbi1jb2xvci10ZXJ0aWFyeS1jb250cmFzdCwgI2ZmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjp2YXIoLS1pb24tY29sb3ItdGVydGlhcnktY29udHJhc3QtcmdiLCAyNTUsIDI1NSwgMjU1KSFpbXBvcnRhbnQ7LS1pb24tY29sb3Itc2hhZGU6dmFyKC0taW9uLWNvbG9yLXRlcnRpYXJ5LXNoYWRlLCAjNDg1NGUwKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItdGludDp2YXIoLS1pb24tY29sb3ItdGVydGlhcnktdGludCwgIzYzNzBmZikhaW1wb3J0YW50fS5pb24tY29sb3Itc3VjY2Vzc3stLWlvbi1jb2xvci1iYXNlOnZhcigtLWlvbi1jb2xvci1zdWNjZXNzLCAjMmRkMzZmKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItYmFzZS1yZ2I6dmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MtcmdiLCA0NSwgMjExLCAxMTEpIWltcG9ydGFudDstLWlvbi1jb2xvci1jb250cmFzdDp2YXIoLS1pb24tY29sb3Itc3VjY2Vzcy1jb250cmFzdCwgI2ZmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjp2YXIoLS1pb24tY29sb3Itc3VjY2Vzcy1jb250cmFzdC1yZ2IsIDI1NSwgMjU1LCAyNTUpIWltcG9ydGFudDstLWlvbi1jb2xvci1zaGFkZTp2YXIoLS1pb24tY29sb3Itc3VjY2Vzcy1zaGFkZSwgIzI4YmE2MikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXRpbnQ6dmFyKC0taW9uLWNvbG9yLXN1Y2Nlc3MtdGludCwgIzQyZDc3ZCkhaW1wb3J0YW50fS5pb24tY29sb3Itd2FybmluZ3stLWlvbi1jb2xvci1iYXNlOnZhcigtLWlvbi1jb2xvci13YXJuaW5nLCAjZmZjNDA5KSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItYmFzZS1yZ2I6dmFyKC0taW9uLWNvbG9yLXdhcm5pbmctcmdiLCAyNTUsIDE5NiwgOSkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0OnZhcigtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0LCAjMDAwKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3QtcmdiOnZhcigtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0LXJnYiwgMCwgMCwgMCkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXNoYWRlOnZhcigtLWlvbi1jb2xvci13YXJuaW5nLXNoYWRlLCAjZTBhYzA4KSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItdGludDp2YXIoLS1pb24tY29sb3Itd2FybmluZy10aW50LCAjZmZjYTIyKSFpbXBvcnRhbnR9Lmlvbi1jb2xvci1kYW5nZXJ7LS1pb24tY29sb3ItYmFzZTp2YXIoLS1pb24tY29sb3ItZGFuZ2VyLCAjZWI0NDVhKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItYmFzZS1yZ2I6dmFyKC0taW9uLWNvbG9yLWRhbmdlci1yZ2IsIDIzNSwgNjgsIDkwKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3Q6dmFyKC0taW9uLWNvbG9yLWRhbmdlci1jb250cmFzdCwgI2ZmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjp2YXIoLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0LXJnYiwgMjU1LCAyNTUsIDI1NSkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXNoYWRlOnZhcigtLWlvbi1jb2xvci1kYW5nZXItc2hhZGUsICNjZjNjNGYpIWltcG9ydGFudDstLWlvbi1jb2xvci10aW50OnZhcigtLWlvbi1jb2xvci1kYW5nZXItdGludCwgI2VkNTc2YikhaW1wb3J0YW50fS5pb24tY29sb3ItbGlnaHR7LS1pb24tY29sb3ItYmFzZTp2YXIoLS1pb24tY29sb3ItbGlnaHQsICNmNGY1ZjgpIWltcG9ydGFudDstLWlvbi1jb2xvci1iYXNlLXJnYjp2YXIoLS1pb24tY29sb3ItbGlnaHQtcmdiLCAyNDQsIDI0NSwgMjQ4KSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3Q6dmFyKC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0LCAjMDAwKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3QtcmdiOnZhcigtLWlvbi1jb2xvci1saWdodC1jb250cmFzdC1yZ2IsIDAsIDAsIDApIWltcG9ydGFudDstLWlvbi1jb2xvci1zaGFkZTp2YXIoLS1pb24tY29sb3ItbGlnaHQtc2hhZGUsICNkN2Q4ZGEpIWltcG9ydGFudDstLWlvbi1jb2xvci10aW50OnZhcigtLWlvbi1jb2xvci1saWdodC10aW50LCAjZjVmNmY5KSFpbXBvcnRhbnR9Lmlvbi1jb2xvci1tZWRpdW17LS1pb24tY29sb3ItYmFzZTp2YXIoLS1pb24tY29sb3ItbWVkaXVtLCAjOTI5NDljKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItYmFzZS1yZ2I6dmFyKC0taW9uLWNvbG9yLW1lZGl1bS1yZ2IsIDE0NiwgMTQ4LCAxNTYpIWltcG9ydGFudDstLWlvbi1jb2xvci1jb250cmFzdDp2YXIoLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0LCAjZmZmKSFpbXBvcnRhbnQ7LS1pb24tY29sb3ItY29udHJhc3QtcmdiOnZhcigtLWlvbi1jb2xvci1tZWRpdW0tY29udHJhc3QtcmdiLCAyNTUsIDI1NSwgMjU1KSFpbXBvcnRhbnQ7LS1pb24tY29sb3Itc2hhZGU6dmFyKC0taW9uLWNvbG9yLW1lZGl1bS1zaGFkZSwgIzgwODI4OSkhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXRpbnQ6dmFyKC0taW9uLWNvbG9yLW1lZGl1bS10aW50LCAjOWQ5ZmE2KSFpbXBvcnRhbnR9Lmlvbi1jb2xvci1kYXJrey0taW9uLWNvbG9yLWJhc2U6dmFyKC0taW9uLWNvbG9yLWRhcmssICMyMjI0MjgpIWltcG9ydGFudDstLWlvbi1jb2xvci1iYXNlLXJnYjp2YXIoLS1pb24tY29sb3ItZGFyay1yZ2IsIDM0LCAzNiwgNDApIWltcG9ydGFudDstLWlvbi1jb2xvci1jb250cmFzdDp2YXIoLS1pb24tY29sb3ItZGFyay1jb250cmFzdCwgI2ZmZikhaW1wb3J0YW50Oy0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjp2YXIoLS1pb24tY29sb3ItZGFyay1jb250cmFzdC1yZ2IsIDI1NSwgMjU1LCAyNTUpIWltcG9ydGFudDstLWlvbi1jb2xvci1zaGFkZTp2YXIoLS1pb24tY29sb3ItZGFyay1zaGFkZSwgIzFlMjAyMykhaW1wb3J0YW50Oy0taW9uLWNvbG9yLXRpbnQ6dmFyKC0taW9uLWNvbG9yLWRhcmstdGludCwgIzM4M2EzZSkhaW1wb3J0YW50fS5pb24tcGFnZXtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5OmZsZXg7cG9zaXRpb246YWJzb2x1dGU7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2NvbnRhaW46bGF5b3V0IHNpemUgc3R5bGU7b3ZlcmZsb3c6aGlkZGVuO3otaW5kZXg6MH0uc3BsaXQtcGFuZS12aXNpYmxlPi5pb24tcGFnZS5zcGxpdC1wYW5lLW1haW57cG9zaXRpb246cmVsYXRpdmV9Lmlvbi1wYWdlLWhpZGRlbixbaGlkZGVuXSxpb24tYWN0aW9uLXNoZWV0LWNvbnRyb2xsZXIsaW9uLWFsZXJ0LWNvbnRyb2xsZXIsaW9uLWxvYWRpbmctY29udHJvbGxlcixpb24tbWVudS1jb250cm9sbGVyLGlvbi1tb2RhbC1jb250cm9sbGVyLGlvbi1uYXYtY29udHJvbGxlcixpb24tcGlja2VyLWNvbnRyb2xsZXIsaW9uLXBvcG92ZXItY29udHJvbGxlcixpb24tcm91dGUsaW9uLXJvdXRlLXJlZGlyZWN0LGlvbi1yb3V0ZXIsaW9uLXNlbGVjdC1vcHRpb24saW9uLXRvYXN0LWNvbnRyb2xsZXJ7ZGlzcGxheTpub25lIWltcG9ydGFudH0uaW9uLXBhZ2UtaW52aXNpYmxle29wYWNpdHk6MH0uY2FuLWdvLWJhY2s+aW9uLWhlYWRlciBpb24tYmFjay1idXR0b257ZGlzcGxheTpibG9ja31odG1sLnBsdC1pb3MucGx0LWh5YnJpZCxodG1sLnBsdC1pb3MucGx0LXB3YXstLWlvbi1zdGF0dXNiYXItcGFkZGluZzoyMHB4fUBzdXBwb3J0cyAocGFkZGluZy10b3A6MjBweCl7aHRtbHstLWlvbi1zYWZlLWFyZWEtdG9wOnZhcigtLWlvbi1zdGF0dXNiYXItcGFkZGluZyl9fUBzdXBwb3J0cyAocGFkZGluZy10b3A6Y29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXRvcCkpe2h0bWx7LS1pb24tc2FmZS1hcmVhLXRvcDpjb25zdGFudChzYWZlLWFyZWEtaW5zZXQtdG9wKTstLWlvbi1zYWZlLWFyZWEtYm90dG9tOmNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pOy0taW9uLXNhZmUtYXJlYS1sZWZ0OmNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1sZWZ0KTstLWlvbi1zYWZlLWFyZWEtcmlnaHQ6Y29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LXJpZ2h0KX19QHN1cHBvcnRzIChwYWRkaW5nLXRvcDplbnYoc2FmZS1hcmVhLWluc2V0LXRvcCkpe2h0bWx7LS1pb24tc2FmZS1hcmVhLXRvcDplbnYoc2FmZS1hcmVhLWluc2V0LXRvcCk7LS1pb24tc2FmZS1hcmVhLWJvdHRvbTplbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7LS1pb24tc2FmZS1hcmVhLWxlZnQ6ZW52KHNhZmUtYXJlYS1pbnNldC1sZWZ0KTstLWlvbi1zYWZlLWFyZWEtcmlnaHQ6ZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCl9fWlvbi1jYXJkLWhlYWRlci5pb24tY29sb3IgLmlvbi1pbmhlcml0LWNvbG9yLGlvbi1jYXJkLmlvbi1jb2xvciAuaW9uLWluaGVyaXQtY29sb3J7Y29sb3I6aW5oZXJpdH0ubWVudS1jb250ZW50e3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDAsMCl9Lm1lbnUtY29udGVudC1vcGVue2N1cnNvcjpwb2ludGVyO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247cG9pbnRlci1ldmVudHM6bm9uZX0uaW9zIC5tZW51LWNvbnRlbnQtcmV2ZWFse2JveC1zaGFkb3c6LThweCAwIDQycHggcmdiYSgwLDAsMCwuMDgpfVtkaXI9cnRsXS5pb3MgLm1lbnUtY29udGVudC1yZXZlYWx7Ym94LXNoYWRvdzo4cHggMCA0MnB4IHJnYmEoMCwwLDAsLjA4KX0ubWQgLm1lbnUtY29udGVudC1wdXNoLC5tZCAubWVudS1jb250ZW50LXJldmVhbHtib3gtc2hhZG93OjRweCAwIDE2cHggcmdiYSgwLDAsMCwuMTgpfWlvbi1hY2NvcmRpb24tZ3JvdXAuYWNjb3JkaW9uLWdyb3VwLWV4cGFuZC1pbnNldD5pb24tYWNjb3JkaW9uOmZpcnN0LW9mLXR5cGV7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo4cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6OHB4fWlvbi1hY2NvcmRpb24tZ3JvdXAuYWNjb3JkaW9uLWdyb3VwLWV4cGFuZC1pbnNldD5pb24tYWNjb3JkaW9uOmxhc3Qtb2YtdHlwZXtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjhweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo4cHh9aW9uLWFjY29yZGlvbi1ncm91cD5pb24tYWNjb3JkaW9uOmxhc3Qtb2YtdHlwZSBpb24taXRlbXstLWJvcmRlci13aWR0aDowcHh9aW9uLWFjY29yZGlvbi5hY2NvcmRpb24tYW5pbWF0ZWQ+W3Nsb3Q9aGVhZGVyXSAuaW9uLWFjY29yZGlvbi10b2dnbGUtaWNvbnt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgY3ViaWMtYmV6aWVyKC4yNSwuOCwuNSwxKX1AbWVkaWEgKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246cmVkdWNlKXtpb24tYWNjb3JkaW9uIC5pb24tYWNjb3JkaW9uLXRvZ2dsZS1pY29ue3RyYW5zaXRpb246bm9uZSFpbXBvcnRhbnR9fWlvbi1hY2NvcmRpb24uYWNjb3JkaW9uLWV4cGFuZGVkPltzbG90PWhlYWRlcl0gLmlvbi1hY2NvcmRpb24tdG9nZ2xlLWljb24saW9uLWFjY29yZGlvbi5hY2NvcmRpb24tZXhwYW5kaW5nPltzbG90PWhlYWRlcl0gLmlvbi1hY2NvcmRpb24tdG9nZ2xlLWljb257dHJhbnNmb3JtOnJvdGF0ZSgxODBkZWcpfWlvbi1hY2NvcmRpb24tZ3JvdXAuYWNjb3JkaW9uLWdyb3VwLWV4cGFuZC1pbnNldC5tZD5pb24tYWNjb3JkaW9uLmFjY29yZGlvbi1wcmV2aW91cyBpb24taXRlbVtzbG90PWhlYWRlcl17LS1ib3JkZXItd2lkdGg6MHB4Oy0taW5uZXItYm9yZGVyLXdpZHRoOjBweH1pb24tYWNjb3JkaW9uLWdyb3VwLmFjY29yZGlvbi1ncm91cC1leHBhbmQtaW5zZXQubWQ+aW9uLWFjY29yZGlvbi5hY2NvcmRpb24tZXhwYW5kZWQ6Zmlyc3Qtb2YtdHlwZSxpb24tYWNjb3JkaW9uLWdyb3VwLmFjY29yZGlvbi1ncm91cC1leHBhbmQtaW5zZXQubWQ+aW9uLWFjY29yZGlvbi5hY2NvcmRpb24tZXhwYW5kaW5nOmZpcnN0LW9mLXR5cGV7bWFyZ2luLXRvcDowfWlvbi1pbnB1dCBpbnB1dDo6LXdlYmtpdC1kYXRlLWFuZC10aW1lLXZhbHVle3RleHQtYWxpZ246c3RhcnR9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9YixzdHJvbmd7Zm9udC13ZWlnaHQ6NzAwfWltZ3ttYXgtd2lkdGg6MTAwJTtib3JkZXI6MH1zdmc6bm90KDpyb290KXtvdmVyZmxvdzpoaWRkZW59ZmlndXJle21hcmdpbjoxZW0gNDBweH1ocntoZWlnaHQ6MXB4O2JvcmRlci13aWR0aDowO2JveC1zaXppbmc6Y29udGVudC1ib3h9cHJle292ZXJmbG93OmF1dG99Y29kZSxrYmQscHJlLHNhbXB7Zm9udC1mYW1pbHk6bW9ub3NwYWNlLG1vbm9zcGFjZTtmb250LXNpemU6MWVtfWlucHV0LGxhYmVsLHNlbGVjdCx0ZXh0YXJlYXtmb250LWZhbWlseTppbmhlcml0O2xpbmUtaGVpZ2h0Om5vcm1hbH10ZXh0YXJlYXtvdmVyZmxvdzphdXRvO2hlaWdodDphdXRvO2ZvbnQ6aW5oZXJpdDtjb2xvcjppbmhlcml0fXRleHRhcmVhOjpwbGFjZWhvbGRlcntwYWRkaW5nLWxlZnQ6MnB4fWZvcm0saW5wdXQsb3B0Z3JvdXAsc2VsZWN0e21hcmdpbjowO2ZvbnQ6aW5oZXJpdDtjb2xvcjppbmhlcml0fWh0bWwgaW5wdXRbdHlwZT1idXR0b25dLGlucHV0W3R5cGU9cmVzZXRdLGlucHV0W3R5cGU9c3VibWl0XXtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6YnV0dG9ufS5pb24tdGFwcGFibGUsW3RhcHBhYmxlXSxbdGFwcGFibGVdIGRpdixbdGFwcGFibGVdIGlvbi1pY29uLFt0YXBwYWJsZV0gaW9uLWxhYmVsLFt0YXBwYWJsZV0gc3BhbixhLGEgZGl2LGEgaW9uLWljb24sYSBpb24tbGFiZWwsYSBzcGFuLGJ1dHRvbixidXR0b24gZGl2LGJ1dHRvbiBpb24taWNvbixidXR0b24gaW9uLWxhYmVsLGJ1dHRvbiBzcGFuLGlucHV0LHRleHRhcmVhe3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb259YSBpb24tbGFiZWwsYnV0dG9uIGlvbi1sYWJlbHtwb2ludGVyLWV2ZW50czpub25lfWJ1dHRvbntib3JkZXI6MDtib3JkZXItcmFkaXVzOjA7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXN0eWxlOmluaGVyaXQ7Zm9udC12YXJpYW50OmluaGVyaXQ7bGluZS1oZWlnaHQ6MTt0ZXh0LXRyYW5zZm9ybTpub25lO2N1cnNvcjpwb2ludGVyOy13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259W3RhcHBhYmxlXXtjdXJzb3I6cG9pbnRlcn1hW2Rpc2FibGVkXSxidXR0b25bZGlzYWJsZWRdLGh0bWwgaW5wdXRbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcixpbnB1dDo6LW1vei1mb2N1cy1pbm5lcntwYWRkaW5nOjA7Ym9yZGVyOjB9aW5wdXRbdHlwZT1jaGVja2JveF0saW5wdXRbdHlwZT1yYWRpb117cGFkZGluZzowO2JveC1zaXppbmc6Ym9yZGVyLWJveH1pbnB1dFt0eXBlPW51bWJlcl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24saW5wdXRbdHlwZT1udW1iZXJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfWlucHV0W3R5cGU9c2VhcmNoXTo6LXdlYmtpdC1zZWFyY2gtY2FuY2VsLWJ1dHRvbixpbnB1dFt0eXBlPXNlYXJjaF06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb257LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9dGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjB9dGQsdGh7cGFkZGluZzowfSp7Ym94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmV9aHRtbHstLWlvbi1mb250LWZhbWlseTp2YXIoLS1pb24tZGVmYXVsdC1mb250KTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RleHQtc2l6ZS1hZGp1c3Q6MTAwJTtmb250LWZhbWlseTp2YXIoLS1pb24tZm9udC1mYW1pbHkpfWh0bWw6bm90KC5oeWRyYXRlZCkgYm9keXtkaXNwbGF5Om5vbmV9aHRtbC5pb24tY2UgYm9keXtkaXNwbGF5OmJsb2NrfWh0bWwucGx0LXB3YXtoZWlnaHQ6MTAwdmh9Ym9keXtiYWNrZ3JvdW5kOnZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTstbW96LW9zeC1mb250LXNtb290aGluZzpncmF5c2NhbGU7LXdlYmtpdC1mb250LXNtb290aGluZzphbnRpYWxpYXNlZDtwb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDAlO21heC13aWR0aDoxMDAlO2hlaWdodDoxMDAlO21heC1oZWlnaHQ6MTAwJTt0ZXh0LXJlbmRlcmluZzpvcHRpbWl6ZUxlZ2liaWxpdHk7b3ZlcmZsb3c6aGlkZGVuO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247LXdlYmtpdC11c2VyLWRyYWc6bm9uZTstbXMtY29udGVudC16b29taW5nOm5vbmU7d29yZC13cmFwOmJyZWFrLXdvcmQ7b3ZlcnNjcm9sbC1iZWhhdmlvci15Om5vbmU7dGV4dC1zaXplLWFkanVzdDpub25lO21hcmdpbjowO3BhZGRpbmc6MH1he2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6dmFyKC0taW9uLWNvbG9yLXByaW1hcnksIzM4ODBmZil9aDEsaDIsaDMsaDQsaDUsaDZ7bWFyZ2luLXRvcDoxNnB4O21hcmdpbi1ib3R0b206MTBweDtmb250LXdlaWdodDo1MDA7bGluZS1oZWlnaHQ6MS4yfWgxe21hcmdpbi10b3A6MjBweDtmb250LXNpemU6MjZweH1oMnttYXJnaW4tdG9wOjE4cHg7Zm9udC1zaXplOjI0cHh9aDN7Zm9udC1zaXplOjIycHh9aDR7Zm9udC1zaXplOjIwcHh9aDV7Zm9udC1zaXplOjE4cHh9aDZ7Zm9udC1zaXplOjE2cHh9c21hbGx7Zm9udC1zaXplOjc1JX1zdWIsc3Vwe3Bvc2l0aW9uOnJlbGF0aXZlO2ZvbnQtc2l6ZTo3NSU7bGluZS1oZWlnaHQ6MDt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZX1zdXB7dG9wOi0uNWVtfXN1Yntib3R0b206LS4yNWVtfS5pb24tbm8tcGFkZGluZ3stLXBhZGRpbmctc3RhcnQ6MDstLXBhZGRpbmctZW5kOjA7LS1wYWRkaW5nLXRvcDowOy0tcGFkZGluZy1ib3R0b206MDtwYWRkaW5nOjB9Lmlvbi1wYWRkaW5ney0tcGFkZGluZy1zdGFydDp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7LS1wYWRkaW5nLWVuZDp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7LS1wYWRkaW5nLXRvcDp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7LS1wYWRkaW5nLWJvdHRvbTp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7cGFkZGluZy1sZWZ0OnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpO3BhZGRpbmctcmlnaHQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCk7cGFkZGluZy10b3A6dmFyKC0taW9uLXBhZGRpbmcsMTZweCk7cGFkZGluZy1ib3R0b206dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9QHN1cHBvcnRzIChtYXJnaW4taW5saW5lLXN0YXJ0OjApIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDowKXsuaW9uLXBhZGRpbmd7cGFkZGluZy1sZWZ0OnVuc2V0O3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLXN0YXJ0OnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpO3BhZGRpbmctaW5saW5lLXN0YXJ0OnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpOy13ZWJraXQtcGFkZGluZy1lbmQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCk7cGFkZGluZy1pbmxpbmUtZW5kOnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpfX0uaW9uLXBhZGRpbmctdG9wey0tcGFkZGluZy10b3A6dmFyKC0taW9uLXBhZGRpbmcsIDE2cHgpO3BhZGRpbmctdG9wOnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpfS5pb24tcGFkZGluZy1zdGFydHstLXBhZGRpbmctc3RhcnQ6dmFyKC0taW9uLXBhZGRpbmcsIDE2cHgpO3BhZGRpbmctbGVmdDp2YXIoLS1pb24tcGFkZGluZywxNnB4KX0uaW9uLXBhZGRpbmctZW5key0tcGFkZGluZy1lbmQ6dmFyKC0taW9uLXBhZGRpbmcsIDE2cHgpO3BhZGRpbmctcmlnaHQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9QHN1cHBvcnRzIChtYXJnaW4taW5saW5lLXN0YXJ0OjApIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDowKXsuaW9uLXBhZGRpbmctc3RhcnR7cGFkZGluZy1sZWZ0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDp2YXIoLS1pb24tcGFkZGluZywxNnB4KTtwYWRkaW5nLWlubGluZS1zdGFydDp2YXIoLS1pb24tcGFkZGluZywxNnB4KX0uaW9uLXBhZGRpbmctZW5ke3BhZGRpbmctcmlnaHQ6dW5zZXQ7LXdlYmtpdC1wYWRkaW5nLWVuZDp2YXIoLS1pb24tcGFkZGluZywxNnB4KTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9fS5pb24tcGFkZGluZy1ib3R0b217LS1wYWRkaW5nLWJvdHRvbTp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7cGFkZGluZy1ib3R0b206dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9Lmlvbi1wYWRkaW5nLXZlcnRpY2Fsey0tcGFkZGluZy10b3A6dmFyKC0taW9uLXBhZGRpbmcsIDE2cHgpOy0tcGFkZGluZy1ib3R0b206dmFyKC0taW9uLXBhZGRpbmcsIDE2cHgpO3BhZGRpbmctdG9wOnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpO3BhZGRpbmctYm90dG9tOnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpfS5pb24tcGFkZGluZy1ob3Jpem9udGFsey0tcGFkZGluZy1zdGFydDp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7LS1wYWRkaW5nLWVuZDp2YXIoLS1pb24tcGFkZGluZywgMTZweCk7cGFkZGluZy1sZWZ0OnZhcigtLWlvbi1wYWRkaW5nLDE2cHgpO3BhZGRpbmctcmlnaHQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9Lmlvbi1uby1tYXJnaW57LS1tYXJnaW4tc3RhcnQ6MDstLW1hcmdpbi1lbmQ6MDstLW1hcmdpbi10b3A6MDstLW1hcmdpbi1ib3R0b206MDttYXJnaW46MH0uaW9uLW1hcmdpbnstLW1hcmdpbi1zdGFydDp2YXIoLS1pb24tbWFyZ2luLCAxNnB4KTstLW1hcmdpbi1lbmQ6dmFyKC0taW9uLW1hcmdpbiwgMTZweCk7LS1tYXJnaW4tdG9wOnZhcigtLWlvbi1tYXJnaW4sIDE2cHgpOy0tbWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tbWFyZ2luLCAxNnB4KTttYXJnaW4tbGVmdDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpO21hcmdpbi1yaWdodDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpO21hcmdpbi10b3A6dmFyKC0taW9uLW1hcmdpbiwxNnB4KTttYXJnaW4tYm90dG9tOnZhcigtLWlvbi1tYXJnaW4sMTZweCl9QHN1cHBvcnRzIChtYXJnaW4taW5saW5lLXN0YXJ0OjApIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDowKXsuaW9uLXBhZGRpbmctaG9yaXpvbnRhbHtwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCk7cGFkZGluZy1pbmxpbmUtc3RhcnQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCk7LXdlYmtpdC1wYWRkaW5nLWVuZDp2YXIoLS1pb24tcGFkZGluZywxNnB4KTtwYWRkaW5nLWlubGluZS1lbmQ6dmFyKC0taW9uLXBhZGRpbmcsMTZweCl9Lmlvbi1tYXJnaW57bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OnZhcigtLWlvbi1tYXJnaW4sMTZweCk7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpOy13ZWJraXQtbWFyZ2luLWVuZDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpO21hcmdpbi1pbmxpbmUtZW5kOnZhcigtLWlvbi1tYXJnaW4sMTZweCl9fS5pb24tbWFyZ2luLXRvcHstLW1hcmdpbi10b3A6dmFyKC0taW9uLW1hcmdpbiwgMTZweCk7bWFyZ2luLXRvcDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpfS5pb24tbWFyZ2luLXN0YXJ0ey0tbWFyZ2luLXN0YXJ0OnZhcigtLWlvbi1tYXJnaW4sIDE2cHgpO21hcmdpbi1sZWZ0OnZhcigtLWlvbi1tYXJnaW4sMTZweCl9Lmlvbi1tYXJnaW4tZW5key0tbWFyZ2luLWVuZDp2YXIoLS1pb24tbWFyZ2luLCAxNnB4KTttYXJnaW4tcmlnaHQ6dmFyKC0taW9uLW1hcmdpbiwxNnB4KX1Ac3VwcG9ydHMgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6MCkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OjApey5pb24tbWFyZ2luLXN0YXJ0e21hcmdpbi1sZWZ0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OnZhcigtLWlvbi1tYXJnaW4sMTZweCk7bWFyZ2luLWlubGluZS1zdGFydDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpfS5pb24tbWFyZ2luLWVuZHttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tZW5kOnZhcigtLWlvbi1tYXJnaW4sMTZweCk7bWFyZ2luLWlubGluZS1lbmQ6dmFyKC0taW9uLW1hcmdpbiwxNnB4KX19Lmlvbi1tYXJnaW4tYm90dG9tey0tbWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tbWFyZ2luLCAxNnB4KTttYXJnaW4tYm90dG9tOnZhcigtLWlvbi1tYXJnaW4sMTZweCl9Lmlvbi1tYXJnaW4tdmVydGljYWx7LS1tYXJnaW4tdG9wOnZhcigtLWlvbi1tYXJnaW4sIDE2cHgpOy0tbWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tbWFyZ2luLCAxNnB4KTttYXJnaW4tdG9wOnZhcigtLWlvbi1tYXJnaW4sMTZweCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1pb24tbWFyZ2luLDE2cHgpfS5pb24tbWFyZ2luLWhvcml6b250YWx7LS1tYXJnaW4tc3RhcnQ6dmFyKC0taW9uLW1hcmdpbiwgMTZweCk7LS1tYXJnaW4tZW5kOnZhcigtLWlvbi1tYXJnaW4sIDE2cHgpO21hcmdpbi1sZWZ0OnZhcigtLWlvbi1tYXJnaW4sMTZweCk7bWFyZ2luLXJpZ2h0OnZhcigtLWlvbi1tYXJnaW4sMTZweCl9QHN1cHBvcnRzIChtYXJnaW4taW5saW5lLXN0YXJ0OjApIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDowKXsuaW9uLW1hcmdpbi1ob3Jpem9udGFse21hcmdpbi1sZWZ0OnVuc2V0O21hcmdpbi1yaWdodDp1bnNldDstd2Via2l0LW1hcmdpbi1zdGFydDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpO21hcmdpbi1pbmxpbmUtc3RhcnQ6dmFyKC0taW9uLW1hcmdpbiwxNnB4KTstd2Via2l0LW1hcmdpbi1lbmQ6dmFyKC0taW9uLW1hcmdpbiwxNnB4KTttYXJnaW4taW5saW5lLWVuZDp2YXIoLS1pb24tbWFyZ2luLDE2cHgpfX0uaW9uLWZsb2F0LWxlZnR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1yaWdodHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1zdGFydHtmbG9hdDpsZWZ0IWltcG9ydGFudH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLmlvbi1mbG9hdC1zdGFydCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1zdGFydHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1lbmR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAuaW9uLWZsb2F0LWVuZCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1lbmR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9Lmlvbi10ZXh0LWp1c3RpZnl7dGV4dC1hbGlnbjpqdXN0aWZ5IWltcG9ydGFudH0uaW9uLXRleHQtc3RhcnR7dGV4dC1hbGlnbjpzdGFydCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWVuZHt0ZXh0LWFsaWduOmVuZCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxlZnR7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudH0uaW9uLXRleHQtcmlnaHR7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW5vd3JhcHt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50fS5pb24tdGV4dC13cmFwe3doaXRlLXNwYWNlOm5vcm1hbCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXVwcGVyY2FzZXt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50fS5pb24tdGV4dC1sb3dlcmNhc2V7dGV4dC10cmFuc2Zvcm06bG93ZXJjYXNlIWltcG9ydGFudH0uaW9uLXRleHQtY2FwaXRhbGl6ZXt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudH0uaW9uLWFsaWduLXNlbGYtc3RhcnR7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0IWltcG9ydGFudH0uaW9uLWFsaWduLXNlbGYtZW5ke2FsaWduLXNlbGY6ZmxleC1lbmQhaW1wb3J0YW50fS5pb24tYWxpZ24tc2VsZi1jZW50ZXJ7YWxpZ24tc2VsZjpjZW50ZXIhaW1wb3J0YW50fS5pb24tYWxpZ24tc2VsZi1zdHJldGNoe2FsaWduLXNlbGY6c3RyZXRjaCFpbXBvcnRhbnR9Lmlvbi1hbGlnbi1zZWxmLWJhc2VsaW5le2FsaWduLXNlbGY6YmFzZWxpbmUhaW1wb3J0YW50fS5pb24tYWxpZ24tc2VsZi1hdXRve2FsaWduLXNlbGY6YXV0byFpbXBvcnRhbnR9Lmlvbi13cmFwe2ZsZXgtd3JhcDp3cmFwIWltcG9ydGFudH0uaW9uLW5vd3JhcHtmbGV4LXdyYXA6bm93cmFwIWltcG9ydGFudH0uaW9uLXdyYXAtcmV2ZXJzZXtmbGV4LXdyYXA6d3JhcC1yZXZlcnNlIWltcG9ydGFudH0uaW9uLWp1c3RpZnktY29udGVudC1zdGFydHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydCFpbXBvcnRhbnR9Lmlvbi1qdXN0aWZ5LWNvbnRlbnQtY2VudGVye2p1c3RpZnktY29udGVudDpjZW50ZXIhaW1wb3J0YW50fS5pb24tanVzdGlmeS1jb250ZW50LWVuZHtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQhaW1wb3J0YW50fS5pb24tanVzdGlmeS1jb250ZW50LWFyb3VuZHtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYXJvdW5kIWltcG9ydGFudH0uaW9uLWp1c3RpZnktY29udGVudC1iZXR3ZWVue2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuIWltcG9ydGFudH0uaW9uLWp1c3RpZnktY29udGVudC1ldmVubHl7anVzdGlmeS1jb250ZW50OnNwYWNlLWV2ZW5seSFpbXBvcnRhbnR9Lmlvbi1hbGlnbi1pdGVtcy1zdGFydHthbGlnbi1pdGVtczpmbGV4LXN0YXJ0IWltcG9ydGFudH0uaW9uLWFsaWduLWl0ZW1zLWNlbnRlcnthbGlnbi1pdGVtczpjZW50ZXIhaW1wb3J0YW50fS5pb24tYWxpZ24taXRlbXMtZW5ke2FsaWduLWl0ZW1zOmZsZXgtZW5kIWltcG9ydGFudH0uaW9uLWFsaWduLWl0ZW1zLXN0cmV0Y2h7YWxpZ24taXRlbXM6c3RyZXRjaCFpbXBvcnRhbnR9Lmlvbi1hbGlnbi1pdGVtcy1iYXNlbGluZXthbGlnbi1pdGVtczpiYXNlbGluZSFpbXBvcnRhbnR9Lmlvbi1oaWRlLC5pb24taGlkZS1kb3duLC5pb24taGlkZS11cHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fUBtZWRpYSAobWluLXdpZHRoOjU3NnB4KXsuaW9uLWZsb2F0LXNtLWxlZnR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1zbS1yaWdodHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1zbS1zdGFydHtmbG9hdDpsZWZ0IWltcG9ydGFudH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLmlvbi1mbG9hdC1zbS1zdGFydCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1zbS1zdGFydHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1zbS1lbmR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAuaW9uLWZsb2F0LXNtLWVuZCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1zbS1lbmR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLWp1c3RpZnl7dGV4dC1hbGlnbjpqdXN0aWZ5IWltcG9ydGFudH0uaW9uLXRleHQtc20tc3RhcnR7dGV4dC1hbGlnbjpzdGFydCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLWVuZHt0ZXh0LWFsaWduOmVuZCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLWxlZnR7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudH0uaW9uLXRleHQtc20tcmlnaHR7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLW5vd3JhcHt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50fS5pb24tdGV4dC1zbS13cmFwe3doaXRlLXNwYWNlOm5vcm1hbCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXNtLXVwcGVyY2FzZXt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50fS5pb24tdGV4dC1zbS1sb3dlcmNhc2V7dGV4dC10cmFuc2Zvcm06bG93ZXJjYXNlIWltcG9ydGFudH0uaW9uLXRleHQtc20tY2FwaXRhbGl6ZXt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudH0uaW9uLWhpZGUtc20tdXB7ZGlzcGxheTpub25lIWltcG9ydGFudH19QG1lZGlhIChtYXgtd2lkdGg6NTc1Ljk4cHgpey5pb24taGlkZS1zbS1kb3due2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjc2OHB4KXsuaW9uLWZsb2F0LW1kLWxlZnR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1tZC1yaWdodHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1tZC1zdGFydHtmbG9hdDpsZWZ0IWltcG9ydGFudH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLmlvbi1mbG9hdC1tZC1zdGFydCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1tZC1zdGFydHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1tZC1lbmR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAuaW9uLWZsb2F0LW1kLWVuZCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1tZC1lbmR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLWp1c3RpZnl7dGV4dC1hbGlnbjpqdXN0aWZ5IWltcG9ydGFudH0uaW9uLXRleHQtbWQtc3RhcnR7dGV4dC1hbGlnbjpzdGFydCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLWVuZHt0ZXh0LWFsaWduOmVuZCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLWxlZnR7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudH0uaW9uLXRleHQtbWQtcmlnaHR7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLW5vd3JhcHt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50fS5pb24tdGV4dC1tZC13cmFwe3doaXRlLXNwYWNlOm5vcm1hbCFpbXBvcnRhbnR9Lmlvbi10ZXh0LW1kLXVwcGVyY2FzZXt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50fS5pb24tdGV4dC1tZC1sb3dlcmNhc2V7dGV4dC10cmFuc2Zvcm06bG93ZXJjYXNlIWltcG9ydGFudH0uaW9uLXRleHQtbWQtY2FwaXRhbGl6ZXt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudH0uaW9uLWhpZGUtbWQtdXB7ZGlzcGxheTpub25lIWltcG9ydGFudH19QG1lZGlhIChtYXgtd2lkdGg6NzY3Ljk4cHgpey5pb24taGlkZS1tZC1kb3due2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjk5MnB4KXsuaW9uLWZsb2F0LWxnLWxlZnR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1sZy1yaWdodHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1sZy1zdGFydHtmbG9hdDpsZWZ0IWltcG9ydGFudH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLmlvbi1mbG9hdC1sZy1zdGFydCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1sZy1zdGFydHtmbG9hdDpyaWdodCFpbXBvcnRhbnR9Lmlvbi1mbG9hdC1sZy1lbmR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAuaW9uLWZsb2F0LWxnLWVuZCxbZGlyPXJ0bF0gLmlvbi1mbG9hdC1sZy1lbmR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLWNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLWp1c3RpZnl7dGV4dC1hbGlnbjpqdXN0aWZ5IWltcG9ydGFudH0uaW9uLXRleHQtbGctc3RhcnR7dGV4dC1hbGlnbjpzdGFydCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLWVuZHt0ZXh0LWFsaWduOmVuZCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLWxlZnR7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudH0uaW9uLXRleHQtbGctcmlnaHR7dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLW5vd3JhcHt3aGl0ZS1zcGFjZTpub3dyYXAhaW1wb3J0YW50fS5pb24tdGV4dC1sZy13cmFwe3doaXRlLXNwYWNlOm5vcm1hbCFpbXBvcnRhbnR9Lmlvbi10ZXh0LWxnLXVwcGVyY2FzZXt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2UhaW1wb3J0YW50fS5pb24tdGV4dC1sZy1sb3dlcmNhc2V7dGV4dC10cmFuc2Zvcm06bG93ZXJjYXNlIWltcG9ydGFudH0uaW9uLXRleHQtbGctY2FwaXRhbGl6ZXt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplIWltcG9ydGFudH0uaW9uLWhpZGUtbGctdXB7ZGlzcGxheTpub25lIWltcG9ydGFudH19QG1lZGlhIChtYXgtd2lkdGg6OTkxLjk4cHgpey5pb24taGlkZS1sZy1kb3due2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9fUBtZWRpYSAobWluLXdpZHRoOjEyMDBweCl7Lmlvbi1mbG9hdC14bC1sZWZ0e2Zsb2F0OmxlZnQhaW1wb3J0YW50fS5pb24tZmxvYXQteGwtcmlnaHR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fS5pb24tZmxvYXQteGwtc3RhcnR7ZmxvYXQ6bGVmdCFpbXBvcnRhbnR9Omhvc3QtY29udGV4dChbZGlyPXJ0bF0pIC5pb24tZmxvYXQteGwtc3RhcnQsW2Rpcj1ydGxdIC5pb24tZmxvYXQteGwtc3RhcnR7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50fS5pb24tZmxvYXQteGwtZW5ke2Zsb2F0OnJpZ2h0IWltcG9ydGFudH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLmlvbi1mbG9hdC14bC1lbmQsW2Rpcj1ydGxdIC5pb24tZmxvYXQteGwtZW5ke2Zsb2F0OmxlZnQhaW1wb3J0YW50fS5pb24tdGV4dC14bC1jZW50ZXJ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50fS5pb24tdGV4dC14bC1qdXN0aWZ5e3RleHQtYWxpZ246anVzdGlmeSFpbXBvcnRhbnR9Lmlvbi10ZXh0LXhsLXN0YXJ0e3RleHQtYWxpZ246c3RhcnQhaW1wb3J0YW50fS5pb24tdGV4dC14bC1lbmR7dGV4dC1hbGlnbjplbmQhaW1wb3J0YW50fS5pb24tdGV4dC14bC1sZWZ0e3RleHQtYWxpZ246bGVmdCFpbXBvcnRhbnR9Lmlvbi10ZXh0LXhsLXJpZ2h0e3RleHQtYWxpZ246cmlnaHQhaW1wb3J0YW50fS5pb24tdGV4dC14bC1ub3dyYXB7d2hpdGUtc3BhY2U6bm93cmFwIWltcG9ydGFudH0uaW9uLXRleHQteGwtd3JhcHt3aGl0ZS1zcGFjZTpub3JtYWwhaW1wb3J0YW50fS5pb24tdGV4dC14bC11cHBlcmNhc2V7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlIWltcG9ydGFudH0uaW9uLXRleHQteGwtbG93ZXJjYXNle3RleHQtdHJhbnNmb3JtOmxvd2VyY2FzZSFpbXBvcnRhbnR9Lmlvbi10ZXh0LXhsLWNhcGl0YWxpemV7dGV4dC10cmFuc2Zvcm06Y2FwaXRhbGl6ZSFpbXBvcnRhbnR9Lmlvbi1oaWRlLXhsLXVwe2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9fUBtZWRpYSAobWF4LXdpZHRoOjExOTkuOThweCl7Lmlvbi1oaWRlLXhsLWRvd257ZGlzcGxheTpub25lIWltcG9ydGFudH19XCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbnZhciBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSByZXF1aXJlKFwiLi9mb250cy9yb2JvdG8vUm9ib3RvLVRoaW4ud29mZjJcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzFfX18gPSByZXF1aXJlKFwiLi9mb250cy9yb2JvdG8vUm9ib3RvLVRoaW4ud29mZlwiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyA9IHJlcXVpcmUoXCIuL2ZvbnRzL3JvYm90by9Sb2JvdG8tTGlnaHQud29mZjJcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18gPSByZXF1aXJlKFwiLi9mb250cy9yb2JvdG8vUm9ib3RvLUxpZ2h0LndvZmZcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18gPSByZXF1aXJlKFwiLi9mb250cy9yb2JvdG8vUm9ib3RvLVJlZ3VsYXIud29mZjJcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzVfX18gPSByZXF1aXJlKFwiLi9mb250cy9yb2JvdG8vUm9ib3RvLVJlZ3VsYXIud29mZlwiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyA9IHJlcXVpcmUoXCIuL2ZvbnRzL3JvYm90by9Sb2JvdG8tTWVkaXVtLndvZmYyXCIpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF83X19fID0gcmVxdWlyZShcIi4vZm9udHMvcm9ib3RvL1JvYm90by1NZWRpdW0ud29mZlwiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyA9IHJlcXVpcmUoXCIuL2ZvbnRzL3JvYm90by9Sb2JvdG8tQm9sZC53b2ZmMlwiKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOV9fXyA9IHJlcXVpcmUoXCIuL2ZvbnRzL3JvYm90by9Sb2JvdG8tQm9sZC53b2ZmXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzNfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzRfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF80X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF81X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzZfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzdfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF83X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF84X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfOF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzlfX18pO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcXG46cm9vdCB7XFxuICAtLWlvbi1jb2xvci1wcmltYXJ5OiAjMDBhNzlkO1xcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1yZ2I6IDAsMTY3LDE1NztcXG4gIC0taW9uLWNvbG9yLXByaW1hcnktY29udHJhc3Q6ICNmZmZmZmY7XFxuICAtLWlvbi1jb2xvci1wcmltYXJ5LWNvbnRyYXN0LXJnYjogMjU1LDI1NSwyNTU7XFxuICAtLWlvbi1jb2xvci1wcmltYXJ5LXNoYWRlOiAjMDA5MzhhO1xcbiAgLS1pb24tY29sb3ItcHJpbWFyeS10aW50OiAjMWFiMGE3O1xcblxcblxcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5OiAjMGNkMWU4O1xcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXJnYjogMTIsMjA5LDIzMjtcXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdDogI2ZmZmZmZjtcXG4gIC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdC1yZ2I6IDI1NSwyNTUsMjU1O1xcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXNoYWRlOiAjMGJiOGNjO1xcbiAgLS1pb24tY29sb3Itc2Vjb25kYXJ5LXRpbnQ6ICMyNGQ2ZWE7XFxuXFxuICAtLWlvbi1jb2xvci10ZXJ0aWFyeTogIzcwNDRmZjtcXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LXJnYjogMTEyLDY4LDI1NTtcXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LWNvbnRyYXN0OiAjZmZmZmZmO1xcbiAgLS1pb24tY29sb3ItdGVydGlhcnktY29udHJhc3QtcmdiOiAyNTUsMjU1LDI1NTtcXG4gIC0taW9uLWNvbG9yLXRlcnRpYXJ5LXNoYWRlOiAjNjMzY2UwO1xcbiAgLS1pb24tY29sb3ItdGVydGlhcnktdGludDogIzdlNTdmZjtcXG5cXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3M6ICMxMGRjNjA7XFxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXJnYjogMTYsMjIwLDk2O1xcbiAgLS1pb24tY29sb3Itc3VjY2Vzcy1jb250cmFzdDogI2ZmZmZmZjtcXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3MtY29udHJhc3QtcmdiOiAyNTUsMjU1LDI1NTtcXG4gIC0taW9uLWNvbG9yLXN1Y2Nlc3Mtc2hhZGU6ICMwZWMyNTQ7XFxuICAtLWlvbi1jb2xvci1zdWNjZXNzLXRpbnQ6ICMyOGUwNzA7XFxuXFxuICAtLWlvbi1jb2xvci13YXJuaW5nOiAjZmZjZTAwO1xcbiAgLS1pb24tY29sb3Itd2FybmluZy1yZ2I6IDI1NSwyMDYsMDtcXG4gIC0taW9uLWNvbG9yLXdhcm5pbmctY29udHJhc3Q6ICNmZmZmZmY7XFxuICAtLWlvbi1jb2xvci13YXJuaW5nLWNvbnRyYXN0LXJnYjogMjU1LDI1NSwyNTU7XFxuICAtLWlvbi1jb2xvci13YXJuaW5nLXNoYWRlOiAjZTBiNTAwO1xcbiAgLS1pb24tY29sb3Itd2FybmluZy10aW50OiAjZmZkMzFhO1xcblxcbiAgLS1pb24tY29sb3ItZGFuZ2VyOiAjZjA0MTQxO1xcbiAgLS1pb24tY29sb3ItZGFuZ2VyLXJnYjogMjQ1LDYxLDYxO1xcbiAgLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0OiAjZmZmZmZmO1xcbiAgLS1pb24tY29sb3ItZGFuZ2VyLWNvbnRyYXN0LXJnYjogMjU1LDI1NSwyNTU7XFxuICAtLWlvbi1jb2xvci1kYW5nZXItc2hhZGU6ICNkMzM5Mzk7XFxuICAtLWlvbi1jb2xvci1kYW5nZXItdGludDogI2YyNTQ1NDtcXG5cXG4gIC0taW9uLWNvbG9yLWRhcms6ICMyMjI0Mjg7XFxuICAtLWlvbi1jb2xvci1kYXJrLXJnYjogMzQsMzQsMzQ7XFxuICAtLWlvbi1jb2xvci1kYXJrLWNvbnRyYXN0OiAjZmZmZmZmO1xcbiAgLS1pb24tY29sb3ItZGFyay1jb250cmFzdC1yZ2I6IDI1NSwyNTUsMjU1O1xcbiAgLS1pb24tY29sb3ItZGFyay1zaGFkZTogIzFlMjAyMztcXG4gIC0taW9uLWNvbG9yLWRhcmstdGludDogIzM4M2EzZTtcXG5cXG4gIC0taW9uLWNvbG9yLW1lZGl1bTogIzk4OWFhMjtcXG4gIC0taW9uLWNvbG9yLW1lZGl1bS1yZ2I6IDE1MiwxNTQsMTYyO1xcbiAgLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0OiAjZmZmZmZmO1xcbiAgLS1pb24tY29sb3ItbWVkaXVtLWNvbnRyYXN0LXJnYjogMjU1LDI1NSwyNTU7XFxuICAtLWlvbi1jb2xvci1tZWRpdW0tc2hhZGU6ICM4Njg4OGY7XFxuICAtLWlvbi1jb2xvci1tZWRpdW0tdGludDogI2EyYTRhYjtcXG5cXG4gIC0taW9uLWNvbG9yLWxpZ2h0OiAjZjRmNWY4O1xcbiAgLS1pb24tY29sb3ItbGlnaHQtcmdiOiAyNDQsMjQ0LDI0NDtcXG4gIC0taW9uLWNvbG9yLWxpZ2h0LWNvbnRyYXN0OiAjMDAwMDAwO1xcbiAgLS1pb24tY29sb3ItbGlnaHQtY29udHJhc3QtcmdiOiAwLDAsMDtcXG4gIC0taW9uLWNvbG9yLWxpZ2h0LXNoYWRlOiAjZDdkOGRhO1xcbiAgLS1pb24tY29sb3ItbGlnaHQtdGludDogI2Y1ZjZmOTtcXG4gIH1cXG5cXG4gIEBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJSb2JvdG9cXFwiO1xcbiAgc3JjOiBsb2NhbChSb2JvdG8gVGhpbiksIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gKyBcIikgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fICsgXCIpIGZvcm1hdChcXFwid29mZlxcXCIpO1xcbiAgZm9udC13ZWlnaHQ6IDEwMDtcXG4gIH1cXG5cXG4gIEBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJSb2JvdG9cXFwiO1xcbiAgc3JjOiBsb2NhbChSb2JvdG8gTGlnaHQpLCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8yX19fICsgXCIpIGZvcm1hdChcXFwid29mZjJcXFwiKSwgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fXyArIFwiKSBmb3JtYXQoXFxcIndvZmZcXFwiKTtcXG4gIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICB9XFxuXFxuICBAZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIjtcXG4gIHNyYzogbG9jYWwoUm9ib3RvIFJlZ3VsYXIpLCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fICsgXCIpIGZvcm1hdChcXFwid29mZjJcXFwiKSwgdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyArIFwiKSBmb3JtYXQoXFxcIndvZmZcXFwiKTtcXG4gIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICB9XFxuXFxuICBAZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUm9ib3RvXFxcIjtcXG4gIHNyYzogbG9jYWwoUm9ib3RvIE1lZGl1bSksIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gKyBcIikgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF83X19fICsgXCIpIGZvcm1hdChcXFwid29mZlxcXCIpO1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIH1cXG5cXG4gIEBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJSb2JvdG9cXFwiO1xcbiAgc3JjOiBsb2NhbChSb2JvdG8gQm9sZCksIHVybChcIiArIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzhfX18gKyBcIikgZm9ybWF0KFxcXCJ3b2ZmMlxcXCIpLCB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF85X19fICsgXCIpIGZvcm1hdChcXFwid29mZlxcXCIpO1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG4gIH1cXG5cXG4gIC8qIHJlc3BvbnNpdmUgdGFibGVzICovXFxuICB0YWJsZSB7IGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IHdpZHRoOiAxMDAlOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IGJvcmRlci1zcGFjaW5nOiAwOyB9XFxuICB0YWJsZSB0ciB7IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDVweDsgfVxcbiAgdGFibGUgdGgsIHRhYmxlIHRkIHsgcGFkZGluZzogMTBweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9XFxuICB0YWJsZSB0aCB7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGZvbnQtc2l6ZTogMTRweDsgbGV0dGVyLXNwYWNpbmc6IDFweDsgfVxcbiAgdGFibGUgdHI6aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpO31cXG5cXG4gIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDYwMHB4KSB7XFxuICAgIHRhYmxlIHsgYm9yZGVyOiAwOyB9XFxuICAgIHRhYmxlIHRoZWFkIHsgZGlzcGxheTogbm9uZTsgfVxcbiAgICB0YWJsZSB0ciB7IG1hcmdpbi1ib3R0b206IDEwcHg7IGRpc3BsYXk6IGJsb2NrOyBib3JkZXItYm90dG9tOiAycHggc29saWQgI2RkZDsgfVxcbiAgICB0YWJsZSB0ZCB7IGRpc3BsYXk6IGJsb2NrOyB0ZXh0LWFsaWduOiByaWdodDsgZm9udC1zaXplOiAxM3B4OyBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNjY2M7IH1cXG4gICAgdGFibGUgdGQ6bGFzdC1jaGlsZCB7IGJvcmRlci1ib3R0b206IDA7IH1cXG4gICAgdGFibGUgdGQ6YmVmb3JlIHsgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTsgZmxvYXQ6IGxlZnQ7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGZvbnQtd2VpZ2h0OiBib2xkOyB9XFxuICB9XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgb3B0aW9ucyA9IHt9O1xuICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlcnNjb3JlLWRhbmdsZSwgbm8tcGFyYW0tcmVhc3NpZ25cblxuXG4gIHVybCA9IHVybCAmJiB1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsO1xuXG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJyksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyIsImltcG9ydCBCcm9rZXIgZnJvbSAnLi9zcmMvZGF0YV9icm9rZXInO1xuXG5leHBvcnQgZGVmYXVsdCBCcm9rZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy9UT0RPOiB0aGlzIG5lZWRzIHRvIGJlIG1vdmVkIHRvIGJpbmRpbmcgc2luY2UgaXQgcmVseXMgb24gYSB0b24gb2YgbmF0aXZlIHdlYiBmdW5jYXRpb25hbGl0eSAtIGZldGNoLCBGb3JtRGF0YSwgZW5jb2RlVVJJQ29tcG9uZW50LCBldGMuLlxuXG5pbXBvcnQgQXBwbGljYXRpb25TdGF0ZSBmcm9tICdhcHBsaWNhdGlvbnN0YXRlJztcblxuXG4vKipcbiAqIERhdGEgYnJva2VyIGNsYXNzLCBoYW5kbGVzIGNvbW11bmljYXRpb24gdG8gdGhlIHNlcnZlciBhbmQgcmV0dXJucyBhIHByb21pc2UuXG4gKiBUaGluIHdyYXBwZXIgYXJvdW5kIGZldGNoIGFwaS5cbiAqIEFkZHMgY3JlZGVudGlhbHMgdG8gYWxsIHJlcXVlc3RzLlxuICogRXZlbnR1YWwgZXhwYW5zaW9uIHRvIHN1cHBvcnQgY2FjaGluZywgZXRjLi4uXG4gKi9cbmNsYXNzIEJyb2tlciB7XG5cbiAgICAvKiogUHJvdmlkZSBhIHNpbmdsZXRvbiBwYXR0ZXJuLCBpZiBuZWVkZWQgKi9cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIGlmICghQnJva2VyLl9pbnN0YW5jZSlcbiAgICAgICAgICAgIEJyb2tlci5faW5zdGFuY2UgPSBuZXcgQnJva2VyKCk7XG4gICAgICAgIHJldHVybiBCcm9rZXIuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGJhc2VfdXJsKSB7XG4gICAgICAgIGxldCBnbG9iYWxfYmFzZV91cmwgPSBCcm9rZXI/LmNvbmZpZz8uYmFzZV91cmw7XG4gICAgICAgIHRoaXMuYmFzZV91cmwgPSBiYXNlX3VybCB8fCBnbG9iYWxfYmFzZV91cmwgfHwgJyc7XG4gICAgfVxuXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycylcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVyc1tldmVudF9uYW1lXSlcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVyc1tldmVudF9uYW1lXSA9IFtdO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZlbnRfbmFtZV0ucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgZGlzcGF0Y2hFdmVudChldmVudF9uYW1lLCBkYXRhKSB7XG4gICAgICAgIGlmICghKHRoaXMuX2xpc3RlbmVycyAmJiB0aGlzLl9saXN0ZW5lcnNbZXZlbnRfbmFtZV0gJiYgdGhpcy5fbGlzdGVuZXJzW2V2ZW50X25hbWVdLmxlbmd0aCkpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2ZW50X25hbWVdLmZvckVhY2goXG4gICAgICAgICAgICAobGlzdGVuZXIpID0+IGxpc3RlbmVyKGRhdGEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIGFuIG9iamVjdCB0byBmb3JtIGRhdGEgZm9yIG11bHRpcGFydC9mb3JtLWRhdGFcbiAgICAgKiBAcGFyYW0gb2JqZWN0XG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBvYmplY3RUb0Zvcm1EYXRhKG9iamVjdCkge1xuICAgICAgICBpZiAoKG9iamVjdCA9PT0gdW5kZWZpbmVkKSB8fCAob2JqZWN0ID09PSBudWxsKSkgcmV0dXJuICcnO1xuICAgICAgICBpZiAodHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHJldHVybiAnJztcblxuICAgICAgICBsZXQgZm9ybV9kYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMob2JqZWN0KS5mb3JFYWNoKFxuICAgICAgICAgICAga2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IG9iamVjdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiB2YWwgPT0gJ0ZpbGVMaXN0JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGZpbGUgb2YgdmFsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtX2RhdGEuYXBwZW5kKGtleSxmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodHlwZW9mIHZhbCA9PSAnRmlsZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybV9kYXRhLnNldChrZXksIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybV9kYXRhLnNldChrZXksIEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmb3JtX2RhdGE7XG4gICAgfVxuXG4gICAgc2VyaWFsaXplUGFyYW1zKHBhcmFtcykge1xuICAgICAgICBpZighcGFyYW1zKVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICBsZXQgc2VyaWFsaXplZCA9IE9iamVjdC5rZXlzKHBhcmFtcylcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgICAga2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IHBhcmFtc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IEpTT04uc3RyaW5naWZ5KHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtrZXksIHZhbF0ubWFwKGVuY29kZVVSSUNvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5qb2luKFwiPVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApLmpvaW4oXCImXCIpOyAgXG4gICAgICAgIHJldHVybiBzZXJpYWxpemVkO1xuICAgIH1cblxuICAgIGdldEJvZHkoZGF0YSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgYm9keSA9IFwiXCI7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgICBib2R5ID0gZGF0YTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiBvcHRpb25zLmpzb24pXG4gICAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgKCFvcHRpb25zLmpzb24pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tdWx0aXBhcnQpIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gdGhpcy5vYmplY3RUb0Zvcm1EYXRhKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYm9keSA9IHRoaXMuc2VyaWFsaXplUGFyYW1zKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXNzdWUgaHR0cCBHRVQsIHJldHVybnMgcHJvbWlzZVxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGFzeW5jIGdldCh1cmwsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYmxvYjogZmFsc2UsXG4gICAgICAgICAgICBhcnJheWJ1ZmZlcjogZmFsc2UsXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1pbmc6IGZhbHNlXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRpbmcnKTtcbiAgICAgICAgdHJ5IHtcblxuICAgICAgICAgICAgaWYob3B0aW9ucy50aW1pbmcpIGNvbnNvbGUudGltZSgnYnJva2VyLWdldC1zZXJpYWxpemUtcGFyYW1zJyk7XG4gICAgICAgICAgICBsZXQgcXVlcnlfc3RyaW5nID0gdGhpcy5zZXJpYWxpemVQYXJhbXMoZGF0YSk7XG4gICAgICAgICAgICBpZiAoZGF0YSkgcXVlcnlfc3RyaW5nID0gXCI/XCIgKyBxdWVyeV9zdHJpbmc7XG4gICAgICAgICAgICBsZXQgZ2V0X3VybCA9IHRoaXMuYmFzZV91cmwgKyB1cmwgKyBxdWVyeV9zdHJpbmc7XG4gICAgICAgICAgICBpZihvcHRpb25zLnRpbWluZykgY29uc29sZS50aW1lRW5kKCdicm9rZXItZ2V0LXNlcmlhbGl6ZS1wYXJhbXMnKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMudGltaW5nKSBjb25zb2xlLnRpbWUoJ2Jyb2tlci1nZXQtaGVhZGVycycpO1xuICAgICAgICAgICAgbGV0IGdldF9vcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMoe2NhY2hlOiBvcHRpb25zLmNhY2hlLCBibG9iOiBvcHRpb25zLmJsb2J9KSxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMudGltaW5nKSBjb25zb2xlLnRpbWVFbmQoJ2Jyb2tlci1nZXQtaGVhZGVycycpO1xuICAgICAgICAgICAgaWYoIW9wdGlvbnMuY2FjaGUpXG4gICAgICAgICAgICAgICAgZ2V0X29wdGlvbnMuY2FjaGUgPSAnbm8tc3RvcmUnO1xuXG4gICAgICAgICAgICBpZihvcHRpb25zLnRpbWluZykgY29uc29sZS50aW1lKCdicm9rZXItZ2V0LWZldGNoJyk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGdldF91cmwsIGdldF9vcHRpb25zKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMudGltaW5nKSBjb25zb2xlLnRpbWVFbmQoJ2Jyb2tlci1nZXQtZmV0Y2gnKTtcbiAgICAgICAgICAgIGlmKG9wdGlvbnMudGltaW5nKSBjb25zb2xlLnRpbWUoJ2Jyb2tlci1nZXQtaGFuZGxlLXJlc3BvbnNlJyk7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VfYm9keSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYob3B0aW9ucy50aW1pbmcpIGNvbnNvbGUudGltZUVuZCgnYnJva2VyLWdldC1oYW5kbGUtcmVzcG9uc2UnKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnbG9hZGluZ19jb21wbGV0ZScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2JvZHk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nX2NvbXBsZXRlJyk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJc3N1ZSBodHRwIFBVVCwgcmV0dXJucyBwcm9taXNlXG4gICAgICogQHBhcmFtIHVybFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIHNlcmlhbGl6ZV9qc29uXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgYXN5bmMgcHV0KHVybCwgZGF0YSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgZGVmYXVsdF9vcHRpb25zID0ge1xuICAgICAgICAgICAganNvbjogZmFsc2UsXG4gICAgICAgICAgICBtdWx0aXBhcnQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdF9vcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcHV0X3VybCA9IHRoaXMuYmFzZV91cmwgKyB1cmw7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHB1dF91cmwsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLmdldEhlYWRlcnMob3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB0aGlzLmdldEJvZHkoZGF0YSwgb3B0aW9ucylcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlX2JvZHkgPSBhd2FpdCB0aGlzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnbG9hZGluZ19jb21wbGV0ZScpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2JvZHk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nX2NvbXBsZXRlJyk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJc3N1ZSBodHRwIFBPU1QsIHJldHVybnMgcHJvbWlzZVxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVfanNvblxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGFzeW5jIHBvc3QodXJsLCBkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBkZWZhdWx0X29wdGlvbnMgPSB7XG4gICAgICAgICAgICBqc29uOiBmYWxzZSxcbiAgICAgICAgICAgIG11bHRpcGFydDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0X29wdGlvbnMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRpbmcnKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBwb3N0X3VybCA9IHRoaXMuYmFzZV91cmwgKyB1cmw7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBvc3RfdXJsLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgY2FjaGU6ICduby1zdG9yZScsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHRoaXMuZ2V0Qm9keShkYXRhLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VfYm9keSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nX2NvbXBsZXRlJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VfYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRpbmdfY29tcGxldGUnKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBhIFJGQyA2OTAyIGNvbXBsaWFudCBqc29uLXBhdGNoIGRvY3VtZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICAgKiBAcGFyYW0geyp9IHVybCBcbiAgICAgKiBAcGFyYW0geyp9IHBhdGNoIFxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9ucyBcbiAgICAgKi9cbiAgICBhc3luYyBwYXRjaCh1cmwsIHBhdGNoLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGpzb246IHRydWUsXG4gICAgICAgICAgICBtdWx0aXBhcnQ6IGZhbHNlXG4gICAgICAgIH0sb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnbG9hZGluZycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHBhdGNoX3VybCA9IHRoaXMuYmFzZV91cmwgKyB1cmw7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHBhdGNoX3VybCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5nZXRIZWFkZXJzKG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZTogJ25vLXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogdGhpcy5nZXRCb2R5KHBhdGNoLCBvcHRpb25zKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VfYm9keSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nX2NvbXBsZXRlJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VfYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRpbmdfY29tcGxldGUnKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzc3VlIGh0dHAgREVMRVRFLCByZXR1cm5zIHByb21pc2VcbiAgICAgKlxuICAgICAqIFVzaW5nIHRoZSBuYW1lIGRlbCBpbnN0ZWFkIG9mIGRlbGV0ZSBiZWNhdXNlICdkZWxldGUnIGlzIGEgcmVzZXJ2ZWQga2V5d29yZFxuICAgICAqIEBwYXJhbSB1cmxcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGFzeW5jIGRlbCh1cmwsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcXVlcnlfc3RyaW5nID0gZGF0YSA/IHRoaXMuc2VyaWFsaXplKGRhdGEpIDogXCJcIjtcbiAgICAgICAgICAgIGlmIChkYXRhKSBxdWVyeV9zdHJpbmcgPSBcIj9cIiArIHF1ZXJ5X3N0cmluZztcbiAgICAgICAgICAgIGxldCBnZXRfdXJsID0gdGhpcy5iYXNlX3VybCArIHVybCArIHF1ZXJ5X3N0cmluZztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZ2V0X3VybCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAgICAgICAgICAgICAgICBjYWNoZTogJ25vLXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2VfYm9keSA9IGF3YWl0IHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nX2NvbXBsZXRlJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VfYm9keTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2xvYWRpbmdfY29tcGxldGUnKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SGVhZGVycyhvcHRpb25zKSB7XG4gICAgICAgIGxldCBkZWZhdWx0X29wdGlvbnMgPSB7XG4gICAgICAgICAgICBqc29uOiBmYWxzZSxcbiAgICAgICAgICAgIG11bHRpcGFydDogZmFsc2UsXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICBjbGllbnRfdmVyc2lvbjogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRfb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIGxldCBjb250ZW50X3R5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICAgICAgaWYob3B0aW9ucy5qc29uKVxuICAgICAgICAgICAgY29udGVudF90eXBlID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICBpZihvcHRpb25zLm11bHRpcGFydClcbiAgICAgICAgICAgIGNvbnRlbnRfdHlwZSA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJztcblxuICAgICAgICBsZXQgaGVhZGVyX3Rva2VuID0gQXBwbGljYXRpb25TdGF0ZS5nZXQoJ2FwcC5qd3QnKSB8fCBcIlwiO1xuXG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6IGNvbnRlbnRfdHlwZSxcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgaGVhZGVyX3Rva2VuXG4gICAgICAgIH1cbiAgICAgICAgaWYoIW9wdGlvbnMuYmxvYilcbiAgICAgICAgICAgIGhlYWRlcnNbJ0FjY2VwdCddID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgICAgICBpZighb3B0aW9ucy5jYWNoZSlcbiAgICAgICAgICAgIGhlYWRlcnNbJ0NhY2hlLUNvbnRyb2wnXSA9ICduby1jYWNoZSc7XG4gICAgICAgIGlmKG9wdGlvbnMuY2xpZW50X3ZlcnNpb24pXG4gICAgICAgICAgICBoZWFkZXJzWydjbGllbnQtc29mdHdhcmUtdmVyc2lvbiddID0gVkVSU0lPTjtcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICBsZXQgYm9keTtcbiAgICAgICAgbGV0IGVycjtcblxuICAgICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSA0MDA6IC8vYmFkIHJlcXVlc3RcbiAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcihcIjQwMCBiYWQgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgICAgICBlcnIuY29kZSA9IHN0YXR1cztcbiAgICAgICAgICAgICAgICBlcnIuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDE6IC8vZm9yYmlkZGVuIC0gZm9yIG1pc3NpbmcgY3JlZGVudGlhbHNcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ21pc3NpbmdfY3JlZGVudGlhbHMnKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI0MDEgZm9yYmlkZGVuXCIpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwMzogLy91bmF1dGhvcml6ZWQgLSBkb24ndCBoYXZlIHBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3VuYXV0aG9yaXplZCcpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjQwMyB1bmF1dGhvcml6ZWRcIilcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDA5OiAvL2NsaWVudCBvdXQgb2YgZGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnbmVlZF91cGRhdGUnKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCI0MDkgb3V0IG9mIGRhdGVcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQxODogLy9JJ20gYSB0ZWFwb3RcbiAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgICAgICAgIGVyciA9IG5ldyBFcnJvcihcIjQxOCBJJ20gYSB0ZWFwb3RcIik7XG4gICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgZXJyLmJvZHkgPSBib2R5O1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIGRlZmF1bHQ6IC8vY2hlY2sgZm9yIHN1Y2Nlc3NcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zICYmIG9wdGlvbnMuYmxvYilcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmKG9wdGlvbnMgJiYgb3B0aW9ucy5hcnJheWJ1ZmZlcilcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKGAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH0gLS0gJHtKU09OLnN0cmluZ2lmeShib2R5KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgPSBzdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGVyci5ib2R5ID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEJyb2tlci5nZXRJbnN0YW5jZSgpO1xuIiwiLypcbiAqIERleGllLmpzIC0gYSBtaW5pbWFsaXN0aWMgd3JhcHBlciBmb3IgSW5kZXhlZERCXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIEJ5IERhdmlkIEZhaGxhbmRlciwgZGF2aWQuZmFobGFuZGVyQGdtYWlsLmNvbVxuICpcbiAqIFZlcnNpb24ge3ZlcnNpb259LCB7ZGF0ZX1cbiAqXG4gKiBodHRwOi8vZGV4aWUub3JnXG4gKlxuICogQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIEphbnVhcnkgMjAwNCwgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL1xuICovXG4gXG52YXIga2V5cyA9IE9iamVjdC5rZXlzO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIF9nbG9iYWwgPSB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDpcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6XG4gICAgICAgIGdsb2JhbDtcbmZ1bmN0aW9uIGV4dGVuZChvYmosIGV4dGVuc2lvbikge1xuICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICBrZXlzKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIG9ialtrZXldID0gZXh0ZW5zaW9uW2tleV07XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBoYXNPd24ob2JqLCBwcm9wKSB7XG4gICAgcmV0dXJuIF9oYXNPd24uY2FsbChvYmosIHByb3ApO1xufVxuZnVuY3Rpb24gcHJvcHMocHJvdG8sIGV4dGVuc2lvbikge1xuICAgIGlmICh0eXBlb2YgZXh0ZW5zaW9uID09PSAnZnVuY3Rpb24nKVxuICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24oZ2V0UHJvdG8ocHJvdG8pKTtcbiAgICBrZXlzKGV4dGVuc2lvbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHNldFByb3AocHJvdG8sIGtleSwgZXh0ZW5zaW9uW2tleV0pO1xuICAgIH0pO1xufVxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuZnVuY3Rpb24gc2V0UHJvcChvYmosIHByb3AsIGZ1bmN0aW9uT3JHZXRTZXQsIG9wdGlvbnMpIHtcbiAgICBkZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIGV4dGVuZChmdW5jdGlvbk9yR2V0U2V0ICYmIGhhc093bihmdW5jdGlvbk9yR2V0U2V0LCBcImdldFwiKSAmJiB0eXBlb2YgZnVuY3Rpb25PckdldFNldC5nZXQgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICB7IGdldDogZnVuY3Rpb25PckdldFNldC5nZXQsIHNldDogZnVuY3Rpb25PckdldFNldC5zZXQsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IDpcbiAgICAgICAgeyB2YWx1ZTogZnVuY3Rpb25PckdldFNldCwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9LCBvcHRpb25zKSk7XG59XG5mdW5jdGlvbiBkZXJpdmUoQ2hpbGQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmcm9tOiBmdW5jdGlvbiAoUGFyZW50KSB7XG4gICAgICAgICAgICBDaGlsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFBhcmVudC5wcm90b3R5cGUpO1xuICAgICAgICAgICAgc2V0UHJvcChDaGlsZC5wcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgQ2hpbGQpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBleHRlbmQ6IHByb3BzLmJpbmQobnVsbCwgQ2hpbGQucHJvdG90eXBlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbmZ1bmN0aW9uIGdldFByb3BlcnR5RGVzY3JpcHRvcihvYmosIHByb3ApIHtcbiAgICB2YXIgcGQgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBwcm9wKSwgcHJvdG87XG4gICAgcmV0dXJuIHBkIHx8IChwcm90byA9IGdldFByb3RvKG9iaikpICYmIGdldFByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgcHJvcCk7XG59XG52YXIgX3NsaWNlID0gW10uc2xpY2U7XG5mdW5jdGlvbiBzbGljZShhcmdzLCBzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIF9zbGljZS5jYWxsKGFyZ3MsIHN0YXJ0LCBlbmQpO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGUob3JpZ0Z1bmMsIG92ZXJyaWRlZEZhY3RvcnkpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVkRmFjdG9yeShvcmlnRnVuYyk7XG59XG5mdW5jdGlvbiBhc3NlcnQoYikge1xuICAgIGlmICghYilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXNzZXJ0aW9uIEZhaWxlZFwiKTtcbn1cbmZ1bmN0aW9uIGFzYXAoZm4pIHtcbiAgICBpZiAoX2dsb2JhbC5zZXRJbW1lZGlhdGUpXG4gICAgICAgIHNldEltbWVkaWF0ZShmbik7XG4gICAgZWxzZVxuICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbn1cblxuLyoqIEdlbmVyYXRlIGFuIG9iamVjdCAoaGFzaCBtYXApIGJhc2VkIG9uIGdpdmVuIGFycmF5LlxuICogQHBhcmFtIGV4dHJhY3RvciBGdW5jdGlvbiB0YWtpbmcgYW4gYXJyYXkgaXRlbSBhbmQgaXRzIGluZGV4IGFuZCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgMiBpdGVtcyAoW2tleSwgdmFsdWVdKSB0b1xuICogICAgICAgIGluc3RlcnQgb24gdGhlIHJlc3VsdGluZyBvYmplY3QgZm9yIGVhY2ggaXRlbSBpbiB0aGUgYXJyYXkuIElmIHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCB0aGVcbiAqICAgICAgICBjdXJyZW50IGl0ZW0gd29udCBhZmZlY3QgdGhlIHJlc3VsdGluZyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyYXksIGV4dHJhY3Rvcikge1xuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwgaXRlbSwgaSkge1xuICAgICAgICB2YXIgbmFtZUFuZFZhbHVlID0gZXh0cmFjdG9yKGl0ZW0sIGkpO1xuICAgICAgICBpZiAobmFtZUFuZFZhbHVlKVxuICAgICAgICAgICAgcmVzdWx0W25hbWVBbmRWYWx1ZVswXV0gPSBuYW1lQW5kVmFsdWVbMV07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xufVxuZnVuY3Rpb24gdHJ5Y2F0Y2hlcihmbiwgcmVqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiB0cnlDYXRjaChmbiwgb25lcnJvciwgYXJncykge1xuICAgIHRyeSB7XG4gICAgICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH1cbiAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgb25lcnJvciAmJiBvbmVycm9yKGV4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKSB7XG4gICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvSW5kZXhlZERCLyNzdGVwcy1mb3ItZXh0cmFjdGluZy1hLWtleS1mcm9tLWEtdmFsdWUtdXNpbmctYS1rZXktcGF0aFxuICAgIGlmIChoYXNPd24ob2JqLCBrZXlQYXRoKSlcbiAgICAgICAgcmV0dXJuIG9ialtrZXlQYXRoXTsgLy8gVGhpcyBsaW5lIGlzIG1vdmVkIGZyb20gbGFzdCB0byBmaXJzdCBmb3Igb3B0aW1pemF0aW9uIHB1cnBvc2UuXG4gICAgaWYgKCFrZXlQYXRoKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIGlmICh0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFyIHJ2ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoW2ldKTtcbiAgICAgICAgICAgIHJ2LnB1c2godmFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIHZhciBwZXJpb2QgPSBrZXlQYXRoLmluZGV4T2YoJy4nKTtcbiAgICBpZiAocGVyaW9kICE9PSAtMSkge1xuICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpba2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKV07XG4gICAgICAgIHJldHVybiBpbm5lck9iaiA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogZ2V0QnlLZXlQYXRoKGlubmVyT2JqLCBrZXlQYXRoLnN1YnN0cihwZXJpb2QgKyAxKSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCB2YWx1ZSkge1xuICAgIGlmICghb2JqIHx8IGtleVBhdGggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICgnaXNGcm96ZW4nIGluIE9iamVjdCAmJiBPYmplY3QuaXNGcm96ZW4ob2JqKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycgJiYgJ2xlbmd0aCcgaW4ga2V5UGF0aCkge1xuICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJyAmJiAnbGVuZ3RoJyBpbiB2YWx1ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0ga2V5UGF0aC5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGhbaV0sIHZhbHVlW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHBlcmlvZCA9IGtleVBhdGguaW5kZXhPZignLicpO1xuICAgICAgICBpZiAocGVyaW9kICE9PSAtMSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRLZXlQYXRoID0ga2V5UGF0aC5zdWJzdHIoMCwgcGVyaW9kKTtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmdLZXlQYXRoID0ga2V5UGF0aC5zdWJzdHIocGVyaW9kICsgMSk7XG4gICAgICAgICAgICBpZiAocmVtYWluaW5nS2V5UGF0aCA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtjdXJyZW50S2V5UGF0aF07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvYmpbY3VycmVudEtleVBhdGhdID0gdmFsdWU7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJPYmogPSBvYmpbY3VycmVudEtleVBhdGhdO1xuICAgICAgICAgICAgICAgIGlmICghaW5uZXJPYmopXG4gICAgICAgICAgICAgICAgICAgIGlubmVyT2JqID0gKG9ialtjdXJyZW50S2V5UGF0aF0gPSB7fSk7XG4gICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGlubmVyT2JqLCByZW1haW5pbmdLZXlQYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqW2tleVBhdGhdO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9ialtrZXlQYXRoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZGVsQnlLZXlQYXRoKG9iaiwga2V5UGF0aCkge1xuICAgIGlmICh0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIHVuZGVmaW5lZCk7XG4gICAgZWxzZSBpZiAoJ2xlbmd0aCcgaW4ga2V5UGF0aClcbiAgICAgICAgW10ubWFwLmNhbGwoa2V5UGF0aCwgZnVuY3Rpb24gKGtwKSB7XG4gICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrcCwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSk7XG59XG5mdW5jdGlvbiBzaGFsbG93Q2xvbmUob2JqKSB7XG4gICAgdmFyIHJ2ID0ge307XG4gICAgZm9yICh2YXIgbSBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc093bihvYmosIG0pKVxuICAgICAgICAgICAgcnZbbV0gPSBvYmpbbV07XG4gICAgfVxuICAgIHJldHVybiBydjtcbn1cbnZhciBjb25jYXQgPSBbXS5jb25jYXQ7XG5mdW5jdGlvbiBmbGF0dGVuKGEpIHtcbiAgICByZXR1cm4gY29uY2F0LmFwcGx5KFtdLCBhKTtcbn1cbi8vaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYl9Xb3JrZXJzX0FQSS9TdHJ1Y3R1cmVkX2Nsb25lX2FsZ29yaXRobVxudmFyIGludHJpbnNpY1R5cGVzID0gXCJCb29sZWFuLFN0cmluZyxEYXRlLFJlZ0V4cCxCbG9iLEZpbGUsRmlsZUxpc3QsQXJyYXlCdWZmZXIsRGF0YVZpZXcsVWludDhDbGFtcGVkQXJyYXksSW1hZ2VEYXRhLE1hcCxTZXRcIlxuICAgIC5zcGxpdCgnLCcpLmNvbmNhdChmbGF0dGVuKFs4LCAxNiwgMzIsIDY0XS5tYXAoZnVuY3Rpb24gKG51bSkgeyByZXR1cm4gW1wiSW50XCIsIFwiVWludFwiLCBcIkZsb2F0XCJdLm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gdCArIG51bSArIFwiQXJyYXlcIjsgfSk7IH0pKSkuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiBfZ2xvYmFsW3RdOyB9KS5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIF9nbG9iYWxbdF07IH0pO1xuZnVuY3Rpb24gZGVlcENsb25lKGFueSkge1xuICAgIGlmICghYW55IHx8IHR5cGVvZiBhbnkgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gYW55O1xuICAgIHZhciBydjtcbiAgICBpZiAoaXNBcnJheShhbnkpKSB7XG4gICAgICAgIHJ2ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYW55Lmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgICAgICAgICAgcnYucHVzaChkZWVwQ2xvbmUoYW55W2ldKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaW50cmluc2ljVHlwZXMuaW5kZXhPZihhbnkuY29uc3RydWN0b3IpID49IDApIHtcbiAgICAgICAgcnYgPSBhbnk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBydiA9IGFueS5jb25zdHJ1Y3RvciA/IE9iamVjdC5jcmVhdGUoYW55LmNvbnN0cnVjdG9yLnByb3RvdHlwZSkgOiB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBhbnkpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24oYW55LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIHJ2W3Byb3BdID0gZGVlcENsb25lKGFueVtwcm9wXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJ2O1xufVxuZnVuY3Rpb24gZ2V0T2JqZWN0RGlmZihhLCBiLCBydiwgcHJmeCkge1xuICAgIC8vIENvbXBhcmVzIG9iamVjdHMgYSBhbmQgYiBhbmQgcHJvZHVjZXMgYSBkaWZmIG9iamVjdC5cbiAgICBydiA9IHJ2IHx8IHt9O1xuICAgIHByZnggPSBwcmZ4IHx8ICcnO1xuICAgIGtleXMoYSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBpZiAoIWhhc093bihiLCBwcm9wKSlcbiAgICAgICAgICAgIHJ2W3ByZnggKyBwcm9wXSA9IHVuZGVmaW5lZDsgLy8gUHJvcGVydHkgcmVtb3ZlZFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcCA9IGFbcHJvcF0sIGJwID0gYltwcm9wXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXAgPT09ICdvYmplY3QnICYmIHR5cGVvZiBicCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICBhcCAmJiBicCAmJlxuICAgICAgICAgICAgICAgIC8vIE5vdyBjb21wYXJlIGNvbnN0cnVjdG9ycyBhcmUgc2FtZSAobm90IGVxdWFsIGJlY2F1c2Ugd29udCB3b3JrIGluIFNhZmFyaSlcbiAgICAgICAgICAgICAgICAoJycgKyBhcC5jb25zdHJ1Y3RvcikgPT09ICgnJyArIGJwLmNvbnN0cnVjdG9yKSlcbiAgICAgICAgICAgICAgICAvLyBTYW1lIHR5cGUgb2Ygb2JqZWN0IGJ1dCBpdHMgcHJvcGVydGllcyBtYXkgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgZ2V0T2JqZWN0RGlmZihhcCwgYnAsIHJ2LCBwcmZ4ICsgcHJvcCArIFwiLlwiKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGFwICE9PSBicClcbiAgICAgICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdOyAvLyBQcmltaXRpdmUgdmFsdWUgY2hhbmdlZFxuICAgICAgICB9XG4gICAgfSk7XG4gICAga2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgIGlmICghaGFzT3duKGEsIHByb3ApKSB7XG4gICAgICAgICAgICBydltwcmZ4ICsgcHJvcF0gPSBiW3Byb3BdOyAvLyBQcm9wZXJ0eSBhZGRlZFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJ2O1xufVxuLy8gSWYgZmlyc3QgYXJndW1lbnQgaXMgaXRlcmFibGUgb3IgYXJyYXktbGlrZSwgcmV0dXJuIGl0IGFzIGFuIGFycmF5XG52YXIgaXRlcmF0b3JTeW1ib2wgPSB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG52YXIgZ2V0SXRlcmF0b3JPZiA9IGl0ZXJhdG9yU3ltYm9sID8gZnVuY3Rpb24gKHgpIHtcbiAgICB2YXIgaTtcbiAgICByZXR1cm4geCAhPSBudWxsICYmIChpID0geFtpdGVyYXRvclN5bWJvbF0pICYmIGkuYXBwbHkoeCk7XG59IDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfTtcbnZhciBOT19DSEFSX0FSUkFZID0ge307XG4vLyBUYWtlcyBvbmUgb3Igc2V2ZXJhbCBhcmd1bWVudHMgYW5kIHJldHVybnMgYW4gYXJyYXkgYmFzZWQgb24gdGhlIGZvbGxvd2luZyBjcml0ZXJhczpcbi8vICogSWYgc2V2ZXJhbCBhcmd1bWVudHMgcHJvdmlkZWQsIHJldHVybiBhcmd1bWVudHMgY29udmVydGVkIHRvIGFuIGFycmF5IGluIGEgd2F5IHRoYXRcbi8vICAgc3RpbGwgYWxsb3dzIGphdmFzY3JpcHQgZW5naW5lIHRvIG9wdGltaXplIHRoZSBjb2RlLlxuLy8gKiBJZiBzaW5nbGUgYXJndW1lbnQgaXMgYW4gYXJyYXksIHJldHVybiBhIGNsb25lIG9mIGl0LlxuLy8gKiBJZiB0aGlzLXBvaW50ZXIgZXF1YWxzIE5PX0NIQVJfQVJSQVksIGRvbid0IGFjY2VwdCBzdHJpbmdzIGFzIHZhbGlkIGl0ZXJhYmxlcyBhcyBhIHNwZWNpYWxcbi8vICAgY2FzZSB0byB0aGUgdHdvIGJ1bGxldHMgYmVsb3cuXG4vLyAqIElmIHNpbmdsZSBhcmd1bWVudCBpcyBhbiBpdGVyYWJsZSwgY29udmVydCBpdCB0byBhbiBhcnJheSBhbmQgcmV0dXJuIHRoZSByZXN1bHRpbmcgYXJyYXkuXG4vLyAqIElmIHNpbmdsZSBhcmd1bWVudCBpcyBhcnJheS1saWtlIChoYXMgbGVuZ3RoIG9mIHR5cGUgbnVtYmVyKSwgY29udmVydCBpdCB0byBhbiBhcnJheS5cbmZ1bmN0aW9uIGdldEFycmF5T2YoYXJyYXlMaWtlKSB7XG4gICAgdmFyIGksIGEsIHgsIGl0O1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChpc0FycmF5KGFycmF5TGlrZSkpXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlMaWtlLnNsaWNlKCk7XG4gICAgICAgIGlmICh0aGlzID09PSBOT19DSEFSX0FSUkFZICYmIHR5cGVvZiBhcnJheUxpa2UgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgICAgICBpZiAoKGl0ID0gZ2V0SXRlcmF0b3JPZihhcnJheUxpa2UpKSkge1xuICAgICAgICAgICAgYSA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKCh4ID0gaXQubmV4dCgpKSwgIXguZG9uZSlcbiAgICAgICAgICAgICAgICBhLnB1c2goeC52YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gW2FycmF5TGlrZV07XG4gICAgICAgIGkgPSBhcnJheUxpa2UubGVuZ3RoO1xuICAgICAgICBpZiAodHlwZW9mIGkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBhID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBhW2ldID0gYXJyYXlMaWtlW2ldO1xuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFthcnJheUxpa2VdO1xuICAgIH1cbiAgICBpID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhID0gbmV3IEFycmF5KGkpO1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIGFbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgcmV0dXJuIGE7XG59XG5cbi8vIEJ5IGRlZmF1bHQsIGRlYnVnIHdpbGwgYmUgdHJ1ZSBvbmx5IGlmIHBsYXRmb3JtIGlzIGEgd2ViIHBsYXRmb3JtIGFuZCBpdHMgcGFnZSBpcyBzZXJ2ZWQgZnJvbSBsb2NhbGhvc3QuXG4vLyBXaGVuIGRlYnVnID0gdHJ1ZSwgZXJyb3IncyBzdGFja3Mgd2lsbCBjb250YWluIGFzeW5jcm9uaWMgbG9uZyBzdGFja3MuXG52YXIgZGVidWcgPSB0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gQnkgZGVmYXVsdCwgdXNlIGRlYnVnIG1vZGUgaWYgc2VydmVkIGZyb20gbG9jYWxob3N0LlxuICAgIC9eKGh0dHB8aHR0cHMpOlxcL1xcLyhsb2NhbGhvc3R8MTI3XFwuMFxcLjBcXC4xKS8udGVzdChsb2NhdGlvbi5ocmVmKTtcbmZ1bmN0aW9uIHNldERlYnVnKHZhbHVlLCBmaWx0ZXIpIHtcbiAgICBkZWJ1ZyA9IHZhbHVlO1xuICAgIGxpYnJhcnlGaWx0ZXIgPSBmaWx0ZXI7XG59XG52YXIgbGlicmFyeUZpbHRlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG52YXIgTkVFRFNfVEhST1dfRk9SX1NUQUNLID0gIW5ldyBFcnJvcihcIlwiKS5zdGFjaztcbmZ1bmN0aW9uIGdldEVycm9yV2l0aFN0YWNrKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGlmIChORUVEU19USFJPV19GT1JfU1RBQ0spXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBEb2luZyBzb21ldGhpbmcgbmF1Z2h0eSBpbiBzdHJpY3QgbW9kZSBoZXJlIHRvIHRyaWdnZXIgYSBzcGVjaWZpYyBlcnJvclxuICAgICAgICAgICAgLy8gdGhhdCBjYW4gYmUgZXhwbGljaXRlbHkgaWdub3JlZCBpbiBkZWJ1Z2dlcidzIGV4Y2VwdGlvbiBzZXR0aW5ncy5cbiAgICAgICAgICAgIC8vIElmIHdlJ2QganVzdCB0aHJvdyBuZXcgRXJyb3IoKSBoZXJlLCBJRSdzIGRlYnVnZ2VyJ3MgZXhjZXB0aW9uIHNldHRpbmdzXG4gICAgICAgICAgICAvLyB3aWxsIGp1c3QgY29uc2lkZXIgaXQgYXMgXCJleGNlcHRpb24gdGhyb3duIGJ5IGphdmFzY3JpcHQgY29kZVwiIHdoaWNoIGlzXG4gICAgICAgICAgICAvLyBzb21ldGhpbmcgeW91IHdvdWxkbid0IHdhbnQgaXQgdG8gaWdub3JlLlxuICAgICAgICAgICAgZ2V0RXJyb3JXaXRoU3RhY2suYXJndW1lbnRzO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7IC8vIEZhbGxiYWNrIGlmIGFib3ZlIGxpbmUgZG9uJ3QgdGhyb3cuXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcigpO1xufVxuZnVuY3Rpb24gcHJldHR5U3RhY2soZXhjZXB0aW9uLCBudW1JZ25vcmVkRnJhbWVzKSB7XG4gICAgdmFyIHN0YWNrID0gZXhjZXB0aW9uLnN0YWNrO1xuICAgIGlmICghc3RhY2spXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIG51bUlnbm9yZWRGcmFtZXMgPSAobnVtSWdub3JlZEZyYW1lcyB8fCAwKTtcbiAgICBpZiAoc3RhY2suaW5kZXhPZihleGNlcHRpb24ubmFtZSkgPT09IDApXG4gICAgICAgIG51bUlnbm9yZWRGcmFtZXMgKz0gKGV4Y2VwdGlvbi5uYW1lICsgZXhjZXB0aW9uLm1lc3NhZ2UpLnNwbGl0KCdcXG4nKS5sZW5ndGg7XG4gICAgcmV0dXJuIHN0YWNrLnNwbGl0KCdcXG4nKVxuICAgICAgICAuc2xpY2UobnVtSWdub3JlZEZyYW1lcylcbiAgICAgICAgLmZpbHRlcihsaWJyYXJ5RmlsdGVyKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChmcmFtZSkgeyByZXR1cm4gXCJcXG5cIiArIGZyYW1lOyB9KVxuICAgICAgICAuam9pbignJyk7XG59XG5mdW5jdGlvbiBkZXByZWNhdGVkKHdoYXQsIGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKHdoYXQgKyBcIiBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2RmYWhsYW5kZXIvRGV4aWUuanMvd2lraS9EZXByZWNhdGlvbnMuIFwiICsgcHJldHR5U3RhY2soZ2V0RXJyb3JXaXRoU3RhY2soKSwgMSkpO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG52YXIgZGV4aWVFcnJvck5hbWVzID0gW1xuICAgICdNb2RpZnknLFxuICAgICdCdWxrJyxcbiAgICAnT3BlbkZhaWxlZCcsXG4gICAgJ1ZlcnNpb25DaGFuZ2UnLFxuICAgICdTY2hlbWEnLFxuICAgICdVcGdyYWRlJyxcbiAgICAnSW52YWxpZFRhYmxlJyxcbiAgICAnTWlzc2luZ0FQSScsXG4gICAgJ05vU3VjaERhdGFiYXNlJyxcbiAgICAnSW52YWxpZEFyZ3VtZW50JyxcbiAgICAnU3ViVHJhbnNhY3Rpb24nLFxuICAgICdVbnN1cHBvcnRlZCcsXG4gICAgJ0ludGVybmFsJyxcbiAgICAnRGF0YWJhc2VDbG9zZWQnLFxuICAgICdQcmVtYXR1cmVDb21taXQnLFxuICAgICdGb3JlaWduQXdhaXQnXG5dO1xudmFyIGlkYkRvbUVycm9yTmFtZXMgPSBbXG4gICAgJ1Vua25vd24nLFxuICAgICdDb25zdHJhaW50JyxcbiAgICAnRGF0YScsXG4gICAgJ1RyYW5zYWN0aW9uSW5hY3RpdmUnLFxuICAgICdSZWFkT25seScsXG4gICAgJ1ZlcnNpb24nLFxuICAgICdOb3RGb3VuZCcsXG4gICAgJ0ludmFsaWRTdGF0ZScsXG4gICAgJ0ludmFsaWRBY2Nlc3MnLFxuICAgICdBYm9ydCcsXG4gICAgJ1RpbWVvdXQnLFxuICAgICdRdW90YUV4Y2VlZGVkJyxcbiAgICAnU3ludGF4JyxcbiAgICAnRGF0YUNsb25lJ1xuXTtcbnZhciBlcnJvckxpc3QgPSBkZXhpZUVycm9yTmFtZXMuY29uY2F0KGlkYkRvbUVycm9yTmFtZXMpO1xudmFyIGRlZmF1bHRUZXh0cyA9IHtcbiAgICBWZXJzaW9uQ2hhbmdlZDogXCJEYXRhYmFzZSB2ZXJzaW9uIGNoYW5nZWQgYnkgb3RoZXIgZGF0YWJhc2UgY29ubmVjdGlvblwiLFxuICAgIERhdGFiYXNlQ2xvc2VkOiBcIkRhdGFiYXNlIGhhcyBiZWVuIGNsb3NlZFwiLFxuICAgIEFib3J0OiBcIlRyYW5zYWN0aW9uIGFib3J0ZWRcIixcbiAgICBUcmFuc2FjdGlvbkluYWN0aXZlOiBcIlRyYW5zYWN0aW9uIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvciBmYWlsZWRcIlxufTtcbi8vXG4vLyBEZXhpZUVycm9yIC0gYmFzZSBjbGFzcyBvZiBhbGwgb3V0IGV4Y2VwdGlvbnMuXG4vL1xuZnVuY3Rpb24gRGV4aWVFcnJvcihuYW1lLCBtc2cpIHtcbiAgICAvLyBSZWFzb24gd2UgZG9uJ3QgdXNlIEVTNiBjbGFzc2VzIGlzIGJlY2F1c2U6XG4gICAgLy8gMS4gSXQgYmxvYXRzIHRyYW5zcGlsZWQgY29kZSBhbmQgaW5jcmVhc2VzIHNpemUgb2YgbWluaWZpZWQgY29kZS5cbiAgICAvLyAyLiBJdCBkb2Vzbid0IGdpdmUgdXMgbXVjaCBpbiB0aGlzIGNhc2UuXG4gICAgLy8gMy4gSXQgd291bGQgcmVxdWlyZSBzdWIgY2xhc3NlcyB0byBjYWxsIHN1cGVyKCksIHdoaWNoXG4gICAgLy8gICAgaXMgbm90IG5lZWRlZCB3aGVuIGRlcml2aW5nIGZyb20gRXJyb3IuXG4gICAgdGhpcy5fZSA9IGdldEVycm9yV2l0aFN0YWNrKCk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtc2c7XG59XG5kZXJpdmUoRGV4aWVFcnJvcikuZnJvbShFcnJvcikuZXh0ZW5kKHtcbiAgICBzdGFjazoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGFjayB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9zdGFjayA9IHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZSArIHByZXR0eVN0YWNrKHRoaXMuX2UsIDIpKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubmFtZSArIFwiOiBcIiArIHRoaXMubWVzc2FnZTsgfVxufSk7XG5mdW5jdGlvbiBnZXRNdWx0aUVycm9yTWVzc2FnZShtc2csIGZhaWx1cmVzKSB7XG4gICAgcmV0dXJuIG1zZyArIFwiLiBFcnJvcnM6IFwiICsgZmFpbHVyZXNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoZikgeyByZXR1cm4gZi50b1N0cmluZygpOyB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBzKSB7IHJldHVybiBzLmluZGV4T2YodikgPT09IGk7IH0pIC8vIE9ubHkgdW5pcXVlIGVycm9yIHN0cmluZ3NcbiAgICAgICAgLmpvaW4oJ1xcbicpO1xufVxuLy9cbi8vIE1vZGlmeUVycm9yIC0gdGhyb3duIGluIENvbGxlY3Rpb24ubW9kaWZ5KClcbi8vIFNwZWNpZmljIGNvbnN0cnVjdG9yIGJlY2F1c2UgaXQgY29udGFpbnMgbWVtYmVycyBmYWlsdXJlcyBhbmQgZmFpbGVkS2V5cy5cbi8vXG5mdW5jdGlvbiBNb2RpZnlFcnJvcihtc2csIGZhaWx1cmVzLCBzdWNjZXNzQ291bnQsIGZhaWxlZEtleXMpIHtcbiAgICB0aGlzLl9lID0gZ2V0RXJyb3JXaXRoU3RhY2soKTtcbiAgICB0aGlzLmZhaWx1cmVzID0gZmFpbHVyZXM7XG4gICAgdGhpcy5mYWlsZWRLZXlzID0gZmFpbGVkS2V5cztcbiAgICB0aGlzLnN1Y2Nlc3NDb3VudCA9IHN1Y2Nlc3NDb3VudDtcbn1cbmRlcml2ZShNb2RpZnlFcnJvcikuZnJvbShEZXhpZUVycm9yKTtcbmZ1bmN0aW9uIEJ1bGtFcnJvcihtc2csIGZhaWx1cmVzKSB7XG4gICAgdGhpcy5fZSA9IGdldEVycm9yV2l0aFN0YWNrKCk7XG4gICAgdGhpcy5uYW1lID0gXCJCdWxrRXJyb3JcIjtcbiAgICB0aGlzLmZhaWx1cmVzID0gZmFpbHVyZXM7XG4gICAgdGhpcy5tZXNzYWdlID0gZ2V0TXVsdGlFcnJvck1lc3NhZ2UobXNnLCBmYWlsdXJlcyk7XG59XG5kZXJpdmUoQnVsa0Vycm9yKS5mcm9tKERleGllRXJyb3IpO1xuLy9cbi8vXG4vLyBEeW5hbWljYWxseSBnZW5lcmF0ZSBlcnJvciBuYW1lcyBhbmQgZXhjZXB0aW9uIGNsYXNzZXMgYmFzZWRcbi8vIG9uIHRoZSBuYW1lcyBpbiBlcnJvckxpc3QuXG4vL1xuLy9cbi8vIE1hcCBvZiB7RXJyb3JOYW1lIC0+IEVycm9yTmFtZSArIFwiRXJyb3JcIn1cbnZhciBlcnJuYW1lcyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkgeyByZXR1cm4gKG9ialtuYW1lXSA9IG5hbWUgKyBcIkVycm9yXCIsIG9iaik7IH0sIHt9KTtcbi8vIE5lZWQgYW4gYWxpYXMgZm9yIERleGllRXJyb3IgYmVjYXVzZSB3ZSdyZSBnb25uYSBjcmVhdGUgc3ViY2xhc3NlcyB3aXRoIHRoZSBzYW1lIG5hbWUuXG52YXIgQmFzZUV4Y2VwdGlvbiA9IERleGllRXJyb3I7XG4vLyBNYXAgb2Yge0Vycm9yTmFtZSAtPiBleGNlcHRpb24gY29uc3RydWN0b3J9XG52YXIgZXhjZXB0aW9ucyA9IGVycm9yTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgIC8vIExldCB0aGUgbmFtZSBiZSBcIkRleGllRXJyb3JcIiBiZWNhdXNlIHRoaXMgbmFtZSBtYXlcbiAgICAvLyBiZSBzaG93biBpbiBjYWxsIHN0YWNrIGFuZCB3aGVuIGRlYnVnZ2luZy4gRGV4aWVFcnJvciBpc1xuICAgIC8vIHRoZSBtb3N0IHRydWUgbmFtZSBiZWNhdXNlIGl0IGRlcml2ZXMgZnJvbSBEZXhpZUVycm9yLFxuICAgIC8vIGFuZCB3ZSBjYW5ub3QgY2hhbmdlIEZ1bmN0aW9uLm5hbWUgcHJvZ3JhbWF0aWNhbGx5IHdpdGhvdXRcbiAgICAvLyBkeW5hbWljYWxseSBjcmVhdGUgYSBGdW5jdGlvbiBvYmplY3QsIHdoaWNoIHdvdWxkIGJlIGNvbnNpZGVyZWRcbiAgICAvLyAnZXZhbC1ldmlsJy5cbiAgICB2YXIgZnVsbE5hbWUgPSBuYW1lICsgXCJFcnJvclwiO1xuICAgIGZ1bmN0aW9uIERleGllRXJyb3IobXNnT3JJbm5lciwgaW5uZXIpIHtcbiAgICAgICAgdGhpcy5fZSA9IGdldEVycm9yV2l0aFN0YWNrKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IGZ1bGxOYW1lO1xuICAgICAgICBpZiAoIW1zZ09ySW5uZXIpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGRlZmF1bHRUZXh0c1tuYW1lXSB8fCBmdWxsTmFtZTtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnT3JJbm5lcjtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIgPSBpbm5lciB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtc2dPcklubmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbXNnT3JJbm5lci5uYW1lICsgXCIgXCIgKyBtc2dPcklubmVyLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLmlubmVyID0gbXNnT3JJbm5lcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXJpdmUoRGV4aWVFcnJvcikuZnJvbShCYXNlRXhjZXB0aW9uKTtcbiAgICBvYmpbbmFtZV0gPSBEZXhpZUVycm9yO1xuICAgIHJldHVybiBvYmo7XG59LCB7fSk7XG4vLyBVc2UgRUNNQVNDUklQVCBzdGFuZGFyZCBleGNlcHRpb25zIHdoZXJlIGFwcGxpY2FibGU6XG5leGNlcHRpb25zLlN5bnRheCA9IFN5bnRheEVycm9yO1xuZXhjZXB0aW9ucy5UeXBlID0gVHlwZUVycm9yO1xuZXhjZXB0aW9ucy5SYW5nZSA9IFJhbmdlRXJyb3I7XG52YXIgZXhjZXB0aW9uTWFwID0gaWRiRG9tRXJyb3JOYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgbmFtZSkge1xuICAgIG9ialtuYW1lICsgXCJFcnJvclwiXSA9IGV4Y2VwdGlvbnNbbmFtZV07XG4gICAgcmV0dXJuIG9iajtcbn0sIHt9KTtcbmZ1bmN0aW9uIG1hcEVycm9yKGRvbUVycm9yLCBtZXNzYWdlKSB7XG4gICAgaWYgKCFkb21FcnJvciB8fCBkb21FcnJvciBpbnN0YW5jZW9mIERleGllRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgfHwgZG9tRXJyb3IgaW5zdGFuY2VvZiBTeW50YXhFcnJvciB8fCAhZG9tRXJyb3IubmFtZSB8fCAhZXhjZXB0aW9uTWFwW2RvbUVycm9yLm5hbWVdKVxuICAgICAgICByZXR1cm4gZG9tRXJyb3I7XG4gICAgdmFyIHJ2ID0gbmV3IGV4Y2VwdGlvbk1hcFtkb21FcnJvci5uYW1lXShtZXNzYWdlIHx8IGRvbUVycm9yLm1lc3NhZ2UsIGRvbUVycm9yKTtcbiAgICBpZiAoXCJzdGFja1wiIGluIGRvbUVycm9yKSB7XG4gICAgICAgIC8vIERlcml2ZSBzdGFjayBmcm9tIGlubmVyIGV4Y2VwdGlvbiBpZiBpdCBoYXMgYSBzdGFja1xuICAgICAgICBzZXRQcm9wKHJ2LCBcInN0YWNrXCIsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5uZXIuc3RhY2s7XG4gICAgICAgICAgICB9IH0pO1xuICAgIH1cbiAgICByZXR1cm4gcnY7XG59XG52YXIgZnVsbE5hbWVFeGNlcHRpb25zID0gZXJyb3JMaXN0LnJlZHVjZShmdW5jdGlvbiAob2JqLCBuYW1lKSB7XG4gICAgaWYgKFtcIlN5bnRheFwiLCBcIlR5cGVcIiwgXCJSYW5nZVwiXS5pbmRleE9mKG5hbWUpID09PSAtMSlcbiAgICAgICAgb2JqW25hbWUgKyBcIkVycm9yXCJdID0gZXhjZXB0aW9uc1tuYW1lXTtcbiAgICByZXR1cm4gb2JqO1xufSwge30pO1xuZnVsbE5hbWVFeGNlcHRpb25zLk1vZGlmeUVycm9yID0gTW9kaWZ5RXJyb3I7XG5mdWxsTmFtZUV4Y2VwdGlvbnMuRGV4aWVFcnJvciA9IERleGllRXJyb3I7XG5mdWxsTmFtZUV4Y2VwdGlvbnMuQnVsa0Vycm9yID0gQnVsa0Vycm9yO1xuXG5mdW5jdGlvbiBub3AoKSB7IH1cbmZ1bmN0aW9uIG1pcnJvcih2YWwpIHsgcmV0dXJuIHZhbDsgfVxuZnVuY3Rpb24gcHVyZUZ1bmN0aW9uQ2hhaW4oZjEsIGYyKSB7XG4gICAgLy8gRW5hYmxlcyBjaGFpbmVkIGV2ZW50cyB0aGF0IHRha2VzIE9ORSBhcmd1bWVudCBhbmQgcmV0dXJucyBpdCB0byB0aGUgbmV4dCBmdW5jdGlvbiBpbiBjaGFpbi5cbiAgICAvLyBUaGlzIHBhdHRlcm4gaXMgdXNlZCBpbiB0aGUgaG9vayhcInJlYWRpbmdcIikgZXZlbnQuXG4gICAgaWYgKGYxID09IG51bGwgfHwgZjEgPT09IG1pcnJvcilcbiAgICAgICAgcmV0dXJuIGYyO1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiBmMihmMSh2YWwpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY2FsbEJvdGgob24xLCBvbjIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBvbjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgb24yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGhvb2tDcmVhdGluZ0NoYWluKGYxLCBmMikge1xuICAgIC8vIEVuYWJsZXMgY2hhaW5lZCBldmVudHMgdGhhdCB0YWtlcyBzZXZlcmFsIGFyZ3VtZW50cyBhbmQgbWF5IG1vZGlmeSBmaXJzdCBhcmd1bWVudCBieSBtYWtpbmcgYSBtb2RpZmljYXRpb24gYW5kIHRoZW4gcmV0dXJuaW5nIHRoZSBzYW1lIGluc3RhbmNlLlxuICAgIC8vIFRoaXMgcGF0dGVybiBpcyB1c2VkIGluIHRoZSBob29rKFwiY3JlYXRpbmdcIikgZXZlbnQuXG4gICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgIHJldHVybiBmMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVzID0gZjEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYXJndW1lbnRzWzBdID0gcmVzO1xuICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsIC8vIEluIGNhc2UgZXZlbnQgbGlzdGVuZXIgaGFzIHNldCB0aGlzLm9uc3VjY2Vzc1xuICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yOyAvLyBJbiBjYXNlIGV2ZW50IGxpc3RlbmVyIGhhcyBzZXQgdGhpcy5vbmVycm9yXG4gICAgICAgIHRoaXMub25zdWNjZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgdmFyIHJlczIgPSBmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAob25zdWNjZXNzKVxuICAgICAgICAgICAgdGhpcy5vbnN1Y2Nlc3MgPSB0aGlzLm9uc3VjY2VzcyA/IGNhbGxCb3RoKG9uc3VjY2VzcywgdGhpcy5vbnN1Y2Nlc3MpIDogb25zdWNjZXNzO1xuICAgICAgICBpZiAob25lcnJvcilcbiAgICAgICAgICAgIHRoaXMub25lcnJvciA9IHRoaXMub25lcnJvciA/IGNhbGxCb3RoKG9uZXJyb3IsIHRoaXMub25lcnJvcikgOiBvbmVycm9yO1xuICAgICAgICByZXR1cm4gcmVzMiAhPT0gdW5kZWZpbmVkID8gcmVzMiA6IHJlcztcbiAgICB9O1xufVxuZnVuY3Rpb24gaG9va0RlbGV0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgIHJldHVybiBmMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBmMS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB2YXIgb25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MsIC8vIEluIGNhc2UgZXZlbnQgbGlzdGVuZXIgaGFzIHNldCB0aGlzLm9uc3VjY2Vzc1xuICAgICAgICBvbmVycm9yID0gdGhpcy5vbmVycm9yOyAvLyBJbiBjYXNlIGV2ZW50IGxpc3RlbmVyIGhhcyBzZXQgdGhpcy5vbmVycm9yXG4gICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICB9O1xufVxuZnVuY3Rpb24gaG9va1VwZGF0aW5nQ2hhaW4oZjEsIGYyKSB7XG4gICAgaWYgKGYxID09PSBub3ApXG4gICAgICAgIHJldHVybiBmMjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG1vZGlmaWNhdGlvbnMpIHtcbiAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGV4dGVuZChtb2RpZmljYXRpb25zLCByZXMpOyAvLyBJZiBmMSByZXR1cm5zIG5ldyBtb2RpZmljYXRpb25zLCBleHRlbmQgY2FsbGVyJ3MgbW9kaWZpY2F0aW9ucyB3aXRoIHRoZSByZXN1bHQgYmVmb3JlIGNhbGxpbmcgbmV4dCBpbiBjaGFpbi5cbiAgICAgICAgdmFyIG9uc3VjY2VzcyA9IHRoaXMub25zdWNjZXNzLCAvLyBJbiBjYXNlIGV2ZW50IGxpc3RlbmVyIGhhcyBzZXQgdGhpcy5vbnN1Y2Nlc3NcbiAgICAgICAgb25lcnJvciA9IHRoaXMub25lcnJvcjsgLy8gSW4gY2FzZSBldmVudCBsaXN0ZW5lciBoYXMgc2V0IHRoaXMub25lcnJvclxuICAgICAgICB0aGlzLm9uc3VjY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMub25lcnJvciA9IG51bGw7XG4gICAgICAgIHZhciByZXMyID0gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKG9uc3VjY2VzcylcbiAgICAgICAgICAgIHRoaXMub25zdWNjZXNzID0gdGhpcy5vbnN1Y2Nlc3MgPyBjYWxsQm90aChvbnN1Y2Nlc3MsIHRoaXMub25zdWNjZXNzKSA6IG9uc3VjY2VzcztcbiAgICAgICAgaWYgKG9uZXJyb3IpXG4gICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IgPyBjYWxsQm90aChvbmVycm9yLCB0aGlzLm9uZXJyb3IpIDogb25lcnJvcjtcbiAgICAgICAgcmV0dXJuIHJlcyA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgIChyZXMyID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiByZXMyKSA6XG4gICAgICAgICAgICAoZXh0ZW5kKHJlcywgcmVzMikpO1xuICAgIH07XG59XG5mdW5jdGlvbiByZXZlcnNlU3RvcHBhYmxlRXZlbnRDaGFpbihmMSwgZjIpIHtcbiAgICBpZiAoZjEgPT09IG5vcClcbiAgICAgICAgcmV0dXJuIGYyO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gcHJvbWlzYWJsZUNoYWluKGYxLCBmMikge1xuICAgIGlmIChmMSA9PT0gbm9wKVxuICAgICAgICByZXR1cm4gZjI7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcyA9IGYxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmIChyZXMgJiYgdHlwZW9mIHJlcy50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgdGhpeiA9IHRoaXMsIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgcmV0dXJuIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpeiwgYXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LTIwMTcgRGF2aWQgRmFobGFuZGVyXG4gKiBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgSmFudWFyeSAyMDA0LCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqL1xuLy9cbi8vIFByb21pc2UgYW5kIFpvbmUgKFBTRCkgZm9yIERleGllIGxpYnJhcnlcbi8vXG4vLyBJIHN0YXJ0ZWQgb3V0IHdyaXRpbmcgdGhpcyBQcm9taXNlIGNsYXNzIGJ5IGNvcHlpbmcgcHJvbWlzZS1saWdodCAoaHR0cHM6Ly9naXRodWIuY29tL3RheWxvcmhha2VzL3Byb21pc2UtbGlnaHQpIGJ5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGF5bG9yaGFrZXMgLSBhbiBBKyBhbmQgRUNNQVNDUklQVCA2IGNvbXBsaWFudCBQcm9taXNlIGltcGxlbWVudGF0aW9uLlxuLy9cbi8vIEluIHByZXZpb3VzIHZlcnNpb25zIHRoaXMgd2FzIGZpeGVkIGJ5IG5vdCBjYWxsaW5nIHNldFRpbWVvdXQgd2hlbiBrbm93aW5nIHRoYXQgdGhlIHJlc29sdmUoKSBvciByZWplY3QoKSBjYW1lIGZyb20gYW5vdGhlclxuLy8gdGljay4gSW4gRGV4aWUgdjEuNC4wLCBJJ3ZlIHJld3JpdHRlbiB0aGUgUHJvbWlzZSBjbGFzcyBlbnRpcmVseS4gSnVzdCBzb21lIGZyYWdtZW50cyBvZiBwcm9taXNlLWxpZ2h0IGlzIGxlZnQuIEkgdXNlXG4vLyBhbm90aGVyIHN0cmF0ZWd5IG5vdyB0aGF0IHNpbXBsaWZpZXMgZXZlcnl0aGluZyBhIGxvdDogdG8gYWx3YXlzIGV4ZWN1dGUgY2FsbGJhY2tzIGluIGEgbmV3IG1pY3JvLXRhc2ssIGJ1dCBoYXZlIGFuIG93biBtaWNyby10YXNrXG4vLyBlbmdpbmUgdGhhdCBpcyBpbmRleGVkREIgY29tcGxpYW50IGFjcm9zcyBhbGwgYnJvd3NlcnMuXG4vLyBQcm9taXNlIGNsYXNzIGhhcyBhbHNvIGJlZW4gb3B0aW1pemVkIGEgbG90IHdpdGggaW5zcGlyYXRpb24gZnJvbSBibHVlYmlyZCAtIHRvIGF2b2lkIGNsb3N1cmVzIGFzIG11Y2ggYXMgcG9zc2libGUuXG4vLyBBbHNvIHdpdGggaW5zcGlyYXRpb24gZnJvbSBibHVlYmlyZCwgYXN5bmNyb25pYyBzdGFja3MgaW4gZGVidWcgbW9kZS5cbi8vXG4vLyBTcGVjaWZpYyBub24tc3RhbmRhcmQgZmVhdHVyZXMgb2YgdGhpcyBQcm9taXNlIGNsYXNzOlxuLy8gKiBDdXN0b20gem9uZSBzdXBwb3J0IChhLmsuYS4gUFNEKSB3aXRoIGFiaWxpdHkgdG8ga2VlcCB6b25lcyBhbHNvIHdoZW4gdXNpbmcgbmF0aXZlIHByb21pc2VzIGFzIHdlbGwgYXNcbi8vICAgbmF0aXZlIGFzeW5jIC8gYXdhaXQuXG4vLyAqIFByb21pc2UuZm9sbG93KCkgbWV0aG9kIGJ1aWx0IHVwb24gdGhlIGN1c3RvbSB6b25lIGVuZ2luZSwgdGhhdCBhbGxvd3MgdXNlciB0byB0cmFjayBhbGwgcHJvbWlzZXMgY3JlYXRlZCBmcm9tIGN1cnJlbnQgc3RhY2sgZnJhbWVcbi8vICAgYW5kIGJlbG93ICsgYWxsIHByb21pc2VzIHRoYXQgdGhvc2UgcHJvbWlzZXMgY3JlYXRlcyBvciBhd2FpdHMuXG4vLyAqIERldGVjdCBhbnkgdW5oYW5kbGVkIHByb21pc2UgaW4gYSBQU0Qtc2NvcGUgKFBTRC5vbnVuaGFuZGxlZCkuIFxuLy9cbi8vIERhdmlkIEZhaGxhbmRlciwgaHR0cHM6Ly9naXRodWIuY29tL2RmYWhsYW5kZXJcbi8vXG4vLyBKdXN0IGEgcG9pbnRlciB0aGF0IG9ubHkgdGhpcyBtb2R1bGUga25vd3MgYWJvdXQuXG4vLyBVc2VkIGluIFByb21pc2UgY29uc3RydWN0b3IgdG8gZW11bGF0ZSBhIHByaXZhdGUgY29uc3RydWN0b3IuXG52YXIgSU5URVJOQUwgPSB7fTtcbi8vIEFzeW5jIHN0YWNrcyAobG9uZyBzdGFja3MpIG11c3Qgbm90IGdyb3cgaW5maW5pdGVseS5cbnZhciBMT05HX1NUQUNLU19DTElQX0xJTUlUID0gMTAwO1xudmFyIE1BWF9MT05HX1NUQUNLUyA9IDIwO1xudmFyIFpPTkVfRUNIT19MSU1JVCA9IDc7XG52YXIgbmF0aXZlUHJvbWlzZUluc3RhbmNlQW5kUHJvdG8gPSAoZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEJlIGFibGUgdG8gcGF0Y2ggbmF0aXZlIGFzeW5jIGZ1bmN0aW9uc1xuICAgICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKFwibGV0IEY9YXN5bmMgKCk9Pnt9LHA9RigpO3JldHVybiBbcCxPYmplY3QuZ2V0UHJvdG90eXBlT2YocCksUHJvbWlzZS5yZXNvbHZlKCksRi5jb25zdHJ1Y3Rvcl07XCIpKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHZhciBQID0gX2dsb2JhbC5Qcm9taXNlO1xuICAgICAgICByZXR1cm4gUCA/XG4gICAgICAgICAgICBbUC5yZXNvbHZlKCksIFAucHJvdG90eXBlLCBQLnJlc29sdmUoKV0gOlxuICAgICAgICAgICAgW107XG4gICAgfVxufSkoKTtcbnZhciByZXNvbHZlZE5hdGl2ZVByb21pc2UgPSBuYXRpdmVQcm9taXNlSW5zdGFuY2VBbmRQcm90b1swXTtcbnZhciBuYXRpdmVQcm9taXNlUHJvdG8gPSBuYXRpdmVQcm9taXNlSW5zdGFuY2VBbmRQcm90b1sxXTtcbnZhciByZXNvbHZlZEdsb2JhbFByb21pc2UgPSBuYXRpdmVQcm9taXNlSW5zdGFuY2VBbmRQcm90b1syXTtcbnZhciBuYXRpdmVQcm9taXNlVGhlbiA9IG5hdGl2ZVByb21pc2VQcm90byAmJiBuYXRpdmVQcm9taXNlUHJvdG8udGhlbjtcbnZhciBOYXRpdmVQcm9taXNlID0gcmVzb2x2ZWROYXRpdmVQcm9taXNlICYmIHJlc29sdmVkTmF0aXZlUHJvbWlzZS5jb25zdHJ1Y3RvcjtcbnZhciBBc3luY0Z1bmN0aW9uID0gbmF0aXZlUHJvbWlzZUluc3RhbmNlQW5kUHJvdG9bM107XG52YXIgcGF0Y2hHbG9iYWxQcm9taXNlID0gISFyZXNvbHZlZEdsb2JhbFByb21pc2U7XG52YXIgc3RhY2tfYmVpbmdfZ2VuZXJhdGVkID0gZmFsc2U7XG4vKiBUaGUgZGVmYXVsdCBmdW5jdGlvbiB1c2VkIG9ubHkgZm9yIHRoZSB2ZXJ5IGZpcnN0IHByb21pc2UgaW4gYSBwcm9taXNlIGNoYWluLlxuICAgQXMgc29vbiBhcyB0aGVuIHByb21pc2UgaXMgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGFsbCBuZXh0IHRhc2tzIHdpbGwgYmUgZXhlY3V0ZWQgaW4gbWljcm8gdGlja3NcbiAgIGVtdWxhdGVkIGluIHRoaXMgbW9kdWxlLiBGb3IgaW5kZXhlZERCIGNvbXBhdGliaWxpdHksIHRoaXMgbWVhbnMgdGhhdCBldmVyeSBtZXRob2QgbmVlZHMgdG9cbiAgIGV4ZWN1dGUgYXQgbGVhc3Qgb25lIHByb21pc2UgYmVmb3JlIGRvaW5nIGFuIGluZGV4ZWREQiBvcGVyYXRpb24uIERleGllIHdpbGwgYWx3YXlzIGNhbGxcbiAgIGRiLnJlYWR5KCkudGhlbigpIGZvciBldmVyeSBvcGVyYXRpb24gdG8gbWFrZSBzdXJlIHRoZSBpbmRleGVkREIgZXZlbnQgaXMgc3RhcnRlZCBpbiBhblxuICAgaW5kZXhlZERCLWNvbXBhdGlibGUgZW11bGF0ZWQgbWljcm8gdGFzayBsb29wLlxuKi9cbnZhciBzY2hlZHVsZVBoeXNpY2FsVGljayA9IHJlc29sdmVkR2xvYmFsUHJvbWlzZSA/XG4gICAgZnVuY3Rpb24gKCkgeyByZXNvbHZlZEdsb2JhbFByb21pc2UudGhlbihwaHlzaWNhbFRpY2spOyB9XG4gICAgOlxuICAgICAgICBfZ2xvYmFsLnNldEltbWVkaWF0ZSA/XG4gICAgICAgICAgICAvLyBzZXRJbW1lZGlhdGUgc3VwcG9ydGVkLiBUaG9zZSBtb2Rlcm4gcGxhdGZvcm1zIGFsc28gc3VwcG9ydHMgRnVuY3Rpb24uYmluZCgpLlxuICAgICAgICAgICAgc2V0SW1tZWRpYXRlLmJpbmQobnVsbCwgcGh5c2ljYWxUaWNrKSA6XG4gICAgICAgICAgICBfZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgP1xuICAgICAgICAgICAgICAgIC8vIE11dGF0aW9uT2JzZXJ2ZXIgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGlkZGVuRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgKG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBoeXNpY2FsVGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuRGl2ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSkpLm9ic2VydmUoaGlkZGVuRGl2LCB7IGF0dHJpYnV0ZXM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbkRpdi5zZXRBdHRyaWJ1dGUoJ2knLCAnMScpO1xuICAgICAgICAgICAgICAgIH0gOlxuICAgICAgICAgICAgICAgIC8vIE5vIHN1cHBvcnQgZm9yIHNldEltbWVkaWF0ZSBvciBNdXRhdGlvbk9ic2VydmVyLiBObyB3b3JyeSwgc2V0VGltZW91dCBpcyBvbmx5IGNhbGxlZFxuICAgICAgICAgICAgICAgIC8vIG9uY2UgdGltZS4gRXZlcnkgdGljayB0aGF0IGZvbGxvd3Mgd2lsbCBiZSBvdXIgZW11bGF0ZWQgbWljcm8gdGljay5cbiAgICAgICAgICAgICAgICAvLyBDb3VsZCBoYXZlIHVzZXMgc2V0VGltZW91dC5iaW5kKG51bGwsIDAsIHBoeXNpY2FsVGljaykgaWYgaXQgd2FzbnQgZm9yIHRoYXQgRkYxMyBhbmQgYmVsb3cgaGFzIGEgYnVnIFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHsgc2V0VGltZW91dChwaHlzaWNhbFRpY2ssIDApOyB9O1xuLy8gQ29uZmlndXJhYmxlIHRocm91Z2ggUHJvbWlzZS5zY2hlZHVsZXIuXG4vLyBEb24ndCBleHBvcnQgYmVjYXVzZSBpdCB3b3VsZCBiZSB1bnNhZmUgdG8gbGV0IHVua25vd25cbi8vIGNvZGUgY2FsbCBpdCB1bmxlc3MgdGhleSBkbyB0cnkuLmNhdGNoIHdpdGhpbiB0aGVpciBjYWxsYmFjay5cbi8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHJldHJpZXZlZCB0aHJvdWdoIGdldHRlciBvZiBQcm9taXNlLnNjaGVkdWxlciB0aG91Z2gsXG4vLyBidXQgdXNlcnMgbXVzdCBub3QgZG8gUHJvbWlzZS5zY2hlZHVsZXIgPSBteUZ1bmNUaGF0VGhyb3dzRXhjZXB0aW9uXG52YXIgYXNhcCQxID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBhcmdzKSB7XG4gICAgbWljcm90aWNrUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ3NdKTtcbiAgICBpZiAobmVlZHNOZXdQaHlzaWNhbFRpY2spIHtcbiAgICAgICAgc2NoZWR1bGVQaHlzaWNhbFRpY2soKTtcbiAgICAgICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSBmYWxzZTtcbiAgICB9XG59O1xudmFyIGlzT3V0c2lkZU1pY3JvVGljayA9IHRydWU7XG52YXIgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSB0cnVlO1xudmFyIHVuaGFuZGxlZEVycm9ycyA9IFtdO1xudmFyIHJlamVjdGluZ0Vycm9ycyA9IFtdO1xudmFyIGN1cnJlbnRGdWxmaWxsZXIgPSBudWxsO1xudmFyIHJlamVjdGlvbk1hcHBlciA9IG1pcnJvcjsgLy8gUmVtb3ZlIGluIG5leHQgbWFqb3Igd2hlbiByZW1vdmluZyBlcnJvciBtYXBwaW5nIG9mIERPTUVycm9ycyBhbmQgRE9NRXhjZXB0aW9uc1xudmFyIGdsb2JhbFBTRCA9IHtcbiAgICBpZDogJ2dsb2JhbCcsXG4gICAgZ2xvYmFsOiB0cnVlLFxuICAgIHJlZjogMCxcbiAgICB1bmhhbmRsZWRzOiBbXSxcbiAgICBvbnVuaGFuZGxlZDogZ2xvYmFsRXJyb3IsXG4gICAgcGdwOiBmYWxzZSxcbiAgICBlbnY6IHt9LFxuICAgIGZpbmFsaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudW5oYW5kbGVkcy5mb3JFYWNoKGZ1bmN0aW9uICh1aCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBnbG9iYWxFcnJvcih1aFswXSwgdWhbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xudmFyIFBTRCA9IGdsb2JhbFBTRDtcbnZhciBtaWNyb3RpY2tRdWV1ZSA9IFtdOyAvLyBDYWxsYmFja3MgdG8gY2FsbCBpbiB0aGlzIG9yIG5leHQgcGh5c2ljYWwgdGljay5cbnZhciBudW1TY2hlZHVsZWRDYWxscyA9IDA7IC8vIE51bWJlciBvZiBsaXN0ZW5lci1jYWxscyBsZWZ0IHRvIGRvIGluIHRoaXMgcGh5c2ljYWwgdGljay5cbnZhciB0aWNrRmluYWxpemVycyA9IFtdOyAvLyBGaW5hbGl6ZXJzIHRvIGNhbGwgd2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBhc3luYyBjYWxscyBzY2hlZHVsZWQgd2l0aGluIGN1cnJlbnQgcGh5c2ljYWwgdGljay5cbmZ1bmN0aW9uIFByb21pc2UoZm4pIHtcbiAgICBpZiAodHlwZW9mIHRoaXMgIT09ICdvYmplY3QnKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXcnKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLm9udW5jYXRjaGVkID0gbm9wOyAvLyBEZXByZWNhdGUgaW4gbmV4dCBtYWpvci4gTm90IG5lZWRlZC4gQmV0dGVyIHRvIHVzZSBnbG9iYWwgZXJyb3IgaGFuZGxlci5cbiAgICAvLyBBIGxpYnJhcnkgbWF5IHNldCBgcHJvbWlzZS5fbGliID0gdHJ1ZTtgIGFmdGVyIHByb21pc2UgaXMgY3JlYXRlZCB0byBtYWtlIHJlc29sdmUoKSBvciByZWplY3QoKVxuICAgIC8vIGV4ZWN1dGUgdGhlIG1pY3JvdGFzayBlbmdpbmUgaW1wbGljaXRlbHkgd2l0aGluIHRoZSBjYWxsIHRvIHJlc29sdmUoKSBvciByZWplY3QoKS5cbiAgICAvLyBUbyByZW1haW4gQSsgY29tcGxpYW50LCBhIGxpYnJhcnkgbXVzdCBvbmx5IHNldCBgX2xpYj10cnVlYCBpZiBpdCBjYW4gZ3VhcmFudGVlIHRoYXQgdGhlIHN0YWNrXG4gICAgLy8gb25seSBjb250YWlucyBsaWJyYXJ5IGNvZGUgd2hlbiBjYWxsaW5nIHJlc29sdmUoKSBvciByZWplY3QoKS5cbiAgICAvLyBSVUxFIE9GIFRIVU1COiBPTkxZIHNldCBfbGliID0gdHJ1ZSBmb3IgcHJvbWlzZXMgZXhwbGljaXRlbHkgcmVzb2x2aW5nL3JlamVjdGluZyBkaXJlY3RseSBmcm9tXG4gICAgLy8gZ2xvYmFsIHNjb3BlIChldmVudCBoYW5kbGVyLCB0aW1lciBldGMpIVxuICAgIHRoaXMuX2xpYiA9IGZhbHNlO1xuICAgIC8vIEN1cnJlbnQgYXN5bmMgc2NvcGVcbiAgICB2YXIgcHNkID0gKHRoaXMuX1BTRCA9IFBTRCk7XG4gICAgaWYgKGRlYnVnKSB7XG4gICAgICAgIHRoaXMuX3N0YWNrSG9sZGVyID0gZ2V0RXJyb3JXaXRoU3RhY2soKTtcbiAgICAgICAgdGhpcy5fcHJldiA9IG51bGw7XG4gICAgICAgIHRoaXMuX251bVByZXYgPSAwOyAvLyBOdW1iZXIgb2YgcHJldmlvdXMgcHJvbWlzZXMgKGZvciBsb25nIHN0YWNrcylcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpZiAoZm4gIT09IElOVEVSTkFMKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm90IGEgZnVuY3Rpb24nKTtcbiAgICAgICAgLy8gUHJpdmF0ZSBjb25zdHJ1Y3RvciAoSU5URVJOQUwsIHN0YXRlLCB2YWx1ZSkuXG4gICAgICAgIC8vIFVzZWQgaW50ZXJuYWxseSBieSBQcm9taXNlLnJlc29sdmUoKSBhbmQgUHJvbWlzZS5yZWplY3QoKS5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gYXJndW1lbnRzWzJdO1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IGZhbHNlKVxuICAgICAgICAgICAgaGFuZGxlUmVqZWN0aW9uKHRoaXMsIHRoaXMuX3ZhbHVlKTsgLy8gTWFwIGVycm9yLCBzZXQgc3RhY2sgYW5kIGFkZFBvc3NpYmx5VW5oYW5kbGVkRXJyb3IoKS5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9zdGF0ZSA9IG51bGw7IC8vIG51bGwgKD1wZW5kaW5nKSwgZmFsc2UgKD1yZWplY3RlZCkgb3IgdHJ1ZSAoPXJlc29sdmVkKVxuICAgIHRoaXMuX3ZhbHVlID0gbnVsbDsgLy8gZXJyb3Igb3IgcmVzdWx0XG4gICAgKytwc2QucmVmOyAvLyBSZWZjb3VudGluZyBjdXJyZW50IHNjb3BlXG4gICAgZXhlY3V0ZVByb21pc2VUYXNrKHRoaXMsIGZuKTtcbn1cbi8vIFByZXBhcmUgYSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHRvIHB1dCBvbnRvIFByb21pc2UucHJvdG90eXBlLnRoZW5cbnZhciB0aGVuUHJvcCA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBzZCA9IFBTRCwgbWljcm9UYXNrSWQgPSB0b3RhbEVjaG9lcztcbiAgICAgICAgZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBwb3NzaWJsZUF3YWl0ID0gIXBzZC5nbG9iYWwgJiYgKHBzZCAhPT0gUFNEIHx8IG1pY3JvVGFza0lkICE9PSB0b3RhbEVjaG9lcyk7XG4gICAgICAgICAgICBpZiAocG9zc2libGVBd2FpdClcbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgdmFyIHJ2ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZVRvTGlzdGVuZXIoX3RoaXMsIG5ldyBMaXN0ZW5lcihuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKG9uRnVsZmlsbGVkLCBwc2QsIHBvc3NpYmxlQXdhaXQpLCBuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKG9uUmVqZWN0ZWQsIHBzZCwgcG9zc2libGVBd2FpdCksIHJlc29sdmUsIHJlamVjdCwgcHNkKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlYnVnICYmIGxpbmtUb1ByZXZpb3VzUHJvbWlzZShydiwgdGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gcnY7XG4gICAgICAgIH1cbiAgICAgICAgdGhlbi5wcm90b3R5cGUgPSBJTlRFUk5BTDsgLy8gRm9yIGlkZW1wb3RlbnNlLCBzZWUgc2V0dGVyIGJlbG93LlxuICAgICAgICByZXR1cm4gdGhlbjtcbiAgICB9LFxuICAgIC8vIEJlIGlkZW1wb3RlbnQgYW5kIGFsbG93IGFub3RoZXIgZnJhbWV3b3JrIChzdWNoIGFzIHpvbmUuanMgb3IgYW5vdGhlciBpbnN0YW5jZSBvZiBhIERleGllLlByb21pc2UgbW9kdWxlKSB0byByZXBsYWNlIFByb21pc2UucHJvdG90eXBlLnRoZW5cbiAgICAvLyBhbmQgd2hlbiB0aGF0IGZyYW1ld29yayB3YW50cyB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSwgd2UgbXVzdCBpZGVudGlmeSB0aGF0IGFuZCByZXN0b3JlIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxuICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHNldFByb3AodGhpcywgJ3RoZW4nLCB2YWx1ZSAmJiB2YWx1ZS5wcm90b3R5cGUgPT09IElOVEVSTkFMID9cbiAgICAgICAgICAgIHRoZW5Qcm9wIDogLy8gUmVzdG9yZSB0byBvcmlnaW5hbCBwcm9wZXJ0eSBkZXNjcmlwdG9yLlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7IC8vIEdldHRlciByZXR1cm5pbmcgcHJvdmlkZWQgdmFsdWUgKGJlaGF2ZXMgbGlrZSB2YWx1ZSBpcyBqdXN0IGNoYW5nZWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IHRoZW5Qcm9wLnNldCAvLyBLZWVwIGEgc2V0dGVyIHRoYXQgaXMgcHJlcGFyZWQgdG8gcmVzdG9yZSBvcmlnaW5hbC5cbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5wcm9wcyhQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIHRoZW46IHRoZW5Qcm9wLFxuICAgIF90aGVuOiBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgLy8gQSBsaXR0bGUgdGluaWVyIHZlcnNpb24gb2YgdGhlbigpIHRoYXQgZG9uJ3QgaGF2ZSB0byBjcmVhdGUgYSByZXN1bHRpbmcgcHJvbWlzZS5cbiAgICAgICAgcHJvcGFnYXRlVG9MaXN0ZW5lcih0aGlzLCBuZXcgTGlzdGVuZXIobnVsbCwgbnVsbCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIFBTRCkpO1xuICAgIH0sXG4gICAgY2F0Y2g6IGZ1bmN0aW9uIChvblJlamVjdGVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbiAgICAgICAgLy8gRmlyc3QgYXJndW1lbnQgaXMgdGhlIEVycm9yIHR5cGUgdG8gY2F0Y2hcbiAgICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHNbMF0sIGhhbmRsZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAvLyBDYXRjaGluZyBlcnJvcnMgYnkgaXRzIGNvbnN0cnVjdG9yIHR5cGUgKHNpbWlsYXIgdG8gamF2YSAvIGMrKyAvIGMjKVxuICAgICAgICAgICAgLy8gU2FtcGxlOiBwcm9taXNlLmNhdGNoKFR5cGVFcnJvciwgZnVuY3Rpb24gKGUpIHsgLi4uIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGVyciBpbnN0YW5jZW9mIHR5cGUgPyBoYW5kbGVyKGVycikgOiBQcm9taXNlUmVqZWN0KGVycik7XG4gICAgICAgIH0pXG4gICAgICAgICAgICA6IHRoaXMudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2F0Y2hpbmcgZXJyb3JzIGJ5IHRoZSBlcnJvci5uYW1lIHByb3BlcnR5LiBNYWtlcyBzZW5zZSBmb3IgaW5kZXhlZERCIHdoZXJlIGVycm9yIHR5cGVcbiAgICAgICAgICAgICAgICAvLyBpcyBhbHdheXMgRE9NRXJyb3IgYnV0IHdoZXJlIGUubmFtZSB0ZWxscyB0aGUgYWN0dWFsIGVycm9yIHR5cGUuXG4gICAgICAgICAgICAgICAgLy8gU2FtcGxlOiBwcm9taXNlLmNhdGNoKCdDb25zdHJhaW50RXJyb3InLCBmdW5jdGlvbiAoZSkgeyAuLi4gfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVyciAmJiBlcnIubmFtZSA9PT0gdHlwZSA/IGhhbmRsZXIoZXJyKSA6IFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG4gICAgZmluYWxseTogZnVuY3Rpb24gKG9uRmluYWxseSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgb25GaW5hbGx5KCk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIG9uRmluYWxseSgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBzdGFjazoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2s7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YWNrX2JlaW5nX2dlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrcyA9IGdldFN0YWNrKHRoaXMsIFtdLCBNQVhfTE9OR19TVEFDS1MpO1xuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IHN0YWNrcy5qb2luKFwiXFxuRnJvbSBwcmV2aW91czogXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBzdGFjazsgLy8gU3RhY2sgbWF5IGJlIHVwZGF0ZWQgb24gcmVqZWN0LlxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHN0YWNrX2JlaW5nX2dlbmVyYXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0aW1lb3V0OiBmdW5jdGlvbiAobXMsIG1zZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbXMgPCBJbmZpbml0eSA/XG4gICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVqZWN0KG5ldyBleGNlcHRpb25zLlRpbWVvdXQobXNnKSk7IH0sIG1zKTtcbiAgICAgICAgICAgICAgICBfdGhpcy50aGVuKHJlc29sdmUsIHJlamVjdCkuZmluYWxseShjbGVhclRpbWVvdXQuYmluZChudWxsLCBoYW5kbGUpKTtcbiAgICAgICAgICAgIH0pIDogdGhpcztcbiAgICB9XG59KTtcbmlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpXG4gICAgc2V0UHJvcChQcm9taXNlLnByb3RvdHlwZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCAnUHJvbWlzZScpO1xuLy8gTm93IHRoYXQgUHJvbWlzZS5wcm90b3R5cGUgaXMgZGVmaW5lZCwgd2UgaGF2ZSBhbGwgaXQgdGFrZXMgdG8gc2V0IGdsb2JhbFBTRC5lbnYuXG4vLyBFbnZpcm9ubWVudCBnbG9iYWxzIHNuYXBzaG90dGVkIG9uIGxlYXZpbmcgZ2xvYmFsIHpvbmVcbmdsb2JhbFBTRC5lbnYgPSBzbmFwU2hvdCgpO1xuZnVuY3Rpb24gTGlzdGVuZXIob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHJlc29sdmUsIHJlamVjdCwgem9uZSkge1xuICAgIHRoaXMub25GdWxmaWxsZWQgPSB0eXBlb2Ygb25GdWxmaWxsZWQgPT09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IG51bGw7XG4gICAgdGhpcy5vblJlamVjdGVkID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicgPyBvblJlamVjdGVkIDogbnVsbDtcbiAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgIHRoaXMucHNkID0gem9uZTtcbn1cbi8vIFByb21pc2UgU3RhdGljIFByb3BlcnRpZXNcbnByb3BzKFByb21pc2UsIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKSAvLyBTdXBwb3J0cyBpdGVyYWJsZXMsIGltcGxpY2l0IGFyZ3VtZW50cyBhbmQgYXJyYXktbGlrZS5cbiAgICAgICAgICAgIC5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTsgLy8gSGFuZGxlIHBhcmFsbGVsbCBhc3luYy9hd2FpdHMgXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSB2YWx1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGkpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2ldID0geDtcbiAgICAgICAgICAgICAgICBpZiAoIS0tcmVtYWluaW5nKVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgICAgICB9LCByZWplY3QpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByZXNvbHZlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSlcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJ2ID0gbmV3IFByb21pc2UoSU5URVJOQUwsIHRydWUsIHZhbHVlKTtcbiAgICAgICAgbGlua1RvUHJldmlvdXNQcm9taXNlKHJ2LCBjdXJyZW50RnVsZmlsbGVyKTtcbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH0sXG4gICAgcmVqZWN0OiBQcm9taXNlUmVqZWN0LFxuICAgIHJhY2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IGdldEFycmF5T2YuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5tYXAob25Qb3NzaWJsZVBhcmFsbGVsbEFzeW5jKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgUFNEOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUFNEOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gUFNEID0gdmFsdWU7IH1cbiAgICB9LFxuICAgIC8vdG90YWxFY2hvZXM6IHtnZXQ6ICgpPT50b3RhbEVjaG9lc30sXG4gICAgLy90YXNrOiB7Z2V0OiAoKT0+dGFza30sXG4gICAgbmV3UFNEOiBuZXdTY29wZSxcbiAgICB1c2VQU0Q6IHVzZVBTRCxcbiAgICBzY2hlZHVsZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhc2FwJDE7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IGFzYXAkMSA9IHZhbHVlOyB9XG4gICAgfSxcbiAgICByZWplY3Rpb25NYXBwZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZWplY3Rpb25NYXBwZXI7IH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHJlamVjdGlvbk1hcHBlciA9IHZhbHVlOyB9IC8vIE1hcCByZWplY3QgZmFpbHVyZXNcbiAgICB9LFxuICAgIGZvbGxvdzogZnVuY3Rpb24gKGZuLCB6b25lUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBzZCA9IFBTRDtcbiAgICAgICAgICAgICAgICBwc2QudW5oYW5kbGVkcyA9IFtdOyAvLyBGb3IgdW5oYW5kbGVkIHN0YW5kYXJkLSBvciAzcmQgcGFydHkgUHJvbWlzZXMuIENoZWNrZWQgYXQgcHNkLmZpbmFsaXplKClcbiAgICAgICAgICAgICAgICBwc2Qub251bmhhbmRsZWQgPSByZWplY3Q7IC8vIFRyaWdnZXJlZCBkaXJlY3RseSBvbiB1bmhhbmRsZWQgcHJvbWlzZXMgb2YgdGhpcyBsaWJyYXJ5LlxuICAgICAgICAgICAgICAgIHBzZC5maW5hbGl6ZSA9IGNhbGxCb3RoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5oYW5kbGVkIHN0YW5kYXJkIG9yIDNyZCBwYXJ0IHByb21pc2VzIGFyZSBwdXQgaW4gUFNELnVuaGFuZGxlZHMgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGV4YW1pbmVkIHVwb24gc2NvcGUgY29tcGxldGlvbiB3aGlsZSB1bmhhbmRsZWQgcmVqZWN0aW9ucyBpbiB0aGlzIFByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCB0cmlnZ2VyIGRpcmVjdGx5IHRocm91Z2ggcHNkLm9udW5oYW5kbGVkXG4gICAgICAgICAgICAgICAgICAgIHJ1bl9hdF9lbmRfb2ZfdGhpc19vcl9uZXh0X3BoeXNpY2FsX3RpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudW5oYW5kbGVkcy5sZW5ndGggPT09IDAgPyByZXNvbHZlKCkgOiByZWplY3QoX3RoaXMudW5oYW5kbGVkc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIHBzZC5maW5hbGl6ZSk7XG4gICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgIH0sIHpvbmVQcm9wcywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG4vKipcbiogVGFrZSBhIHBvdGVudGlhbGx5IG1pc2JlaGF2aW5nIHJlc29sdmVyIGZ1bmN0aW9uIGFuZCBtYWtlIHN1cmVcbiogb25GdWxmaWxsZWQgYW5kIG9uUmVqZWN0ZWQgYXJlIG9ubHkgY2FsbGVkIG9uY2UuXG4qXG4qIE1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgYXN5bmNocm9ueS5cbiovXG5mdW5jdGlvbiBleGVjdXRlUHJvbWlzZVRhc2socHJvbWlzZSwgZm4pIHtcbiAgICAvLyBQcm9taXNlIFJlc29sdXRpb24gUHJvY2VkdXJlOlxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9taXNlcy1hcGx1cy9wcm9taXNlcy1zcGVjI3RoZS1wcm9taXNlLXJlc29sdXRpb24tcHJvY2VkdXJlXG4gICAgdHJ5IHtcbiAgICAgICAgZm4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBBbHJlYWR5IHNldHRsZWRcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gcHJvbWlzZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2UgY2Fubm90IGJlIHJlc29sdmVkIHdpdGggaXRzZWxmLicpO1xuICAgICAgICAgICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGV4ZWN1dGVQcm9taXNlVGFzayhwcm9taXNlLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSA/XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5fdGhlbihyZXNvbHZlLCByZWplY3QpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHByb21pc2UuX3N0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaG91bGRFeGVjdXRlVGljaylcbiAgICAgICAgICAgICAgICBlbmRNaWNyb1RpY2tTY29wZSgpO1xuICAgICAgICB9LCBoYW5kbGVSZWplY3Rpb24uYmluZChudWxsLCBwcm9taXNlKSk7IC8vIElmIEZ1bmN0aW9uLmJpbmQgaXMgbm90IHN1cHBvcnRlZC4gRXhjZXB0aW9uIGlzIGhhbmRsZWQgaW4gY2F0Y2ggYmVsb3dcbiAgICB9XG4gICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgIGhhbmRsZVJlamVjdGlvbihwcm9taXNlLCBleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlUmVqZWN0aW9uKHByb21pc2UsIHJlYXNvbikge1xuICAgIHJlamVjdGluZ0Vycm9ycy5wdXNoKHJlYXNvbik7XG4gICAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIHNob3VsZEV4ZWN1dGVUaWNrID0gcHJvbWlzZS5fbGliICYmIGJlZ2luTWljcm9UaWNrU2NvcGUoKTtcbiAgICByZWFzb24gPSByZWplY3Rpb25NYXBwZXIocmVhc29uKTtcbiAgICBwcm9taXNlLl9zdGF0ZSA9IGZhbHNlO1xuICAgIHByb21pc2UuX3ZhbHVlID0gcmVhc29uO1xuICAgIGRlYnVnICYmIHJlYXNvbiAhPT0gbnVsbCAmJiB0eXBlb2YgcmVhc29uID09PSAnb2JqZWN0JyAmJiAhcmVhc29uLl9wcm9taXNlICYmIHRyeUNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9yaWdQcm9wID0gZ2V0UHJvcGVydHlEZXNjcmlwdG9yKHJlYXNvbiwgXCJzdGFja1wiKTtcbiAgICAgICAgcmVhc29uLl9wcm9taXNlID0gcHJvbWlzZTtcbiAgICAgICAgc2V0UHJvcChyZWFzb24sIFwic3RhY2tcIiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YWNrX2JlaW5nX2dlbmVyYXRlZCA/XG4gICAgICAgICAgICAgICAgICAgIG9yaWdQcm9wICYmIChvcmlnUHJvcC5nZXQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ1Byb3AuZ2V0LmFwcGx5KHJlYXNvbikgOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ1Byb3AudmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5zdGFjaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gQWRkIHRoZSBmYWlsdXJlIHRvIGEgbGlzdCBvZiBwb3NzaWJseSB1bmNhdWdodCBlcnJvcnNcbiAgICBhZGRQb3NzaWJseVVuaGFuZGxlZEVycm9yKHByb21pc2UpO1xuICAgIHByb3BhZ2F0ZUFsbExpc3RlbmVycyhwcm9taXNlKTtcbiAgICBpZiAoc2hvdWxkRXhlY3V0ZVRpY2spXG4gICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG59XG5mdW5jdGlvbiBwcm9wYWdhdGVBbGxMaXN0ZW5lcnMocHJvbWlzZSkge1xuICAgIC8vZGVidWcgJiYgbGlua1RvUHJldmlvdXNQcm9taXNlKHByb21pc2UpO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgcHJvbWlzZS5fbGlzdGVuZXJzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyc1tpXSk7XG4gICAgfVxuICAgIHZhciBwc2QgPSBwcm9taXNlLl9QU0Q7XG4gICAgLS1wc2QucmVmIHx8IHBzZC5maW5hbGl6ZSgpOyAvLyBpZiBwc2QucmVmIHJlYWNoZXMgemVybywgY2FsbCBwc2QuZmluYWxpemUoKTtcbiAgICBpZiAobnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApIHtcbiAgICAgICAgLy8gSWYgbnVtU2NoZWR1bGVkQ2FsbHMgaXMgMCwgaXQgbWVhbnMgdGhhdCBvdXIgc3RhY2sgaXMgbm90IGluIGEgY2FsbGJhY2sgb2YgYSBzY2hlZHVsZWQgY2FsbCxcbiAgICAgICAgLy8gYW5kIHRoYXQgbm8gZGVmZXJyZWRzIHdoZXJlIGxpc3RlbmluZyB0byB0aGlzIHJlamVjdGlvbiBvciBzdWNjZXNzLlxuICAgICAgICAvLyBTaW5jZSB0aGVyZSBpcyBhIHJpc2sgdGhhdCBvdXIgc3RhY2sgY2FuIGNvbnRhaW4gYXBwbGljYXRpb24gY29kZSB0aGF0IG1heVxuICAgICAgICAvLyBkbyBzdHVmZiBhZnRlciB0aGlzIGNvZGUgaXMgZmluaXNoZWQgdGhhdCBtYXkgZ2VuZXJhdGUgbmV3IGNhbGxzLCB3ZSBjYW5ub3RcbiAgICAgICAgLy8gY2FsbCBmaW5hbGl6ZXJzIGhlcmUuXG4gICAgICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgICAgIGFzYXAkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpOyAvLyBXaWxsIGRldGVjdCB1bmhhbmRsZWQgZXJyb3JzXG4gICAgICAgIH0sIFtdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwcm9wYWdhdGVUb0xpc3RlbmVyKHByb21pc2UsIGxpc3RlbmVyKSB7XG4gICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBudWxsKSB7XG4gICAgICAgIHByb21pc2UuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2IgPSBwcm9taXNlLl9zdGF0ZSA/IGxpc3RlbmVyLm9uRnVsZmlsbGVkIDogbGlzdGVuZXIub25SZWplY3RlZDtcbiAgICBpZiAoY2IgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhpcyBMaXN0ZW5lciBkb2VzbnQgaGF2ZSBhIGxpc3RlbmVyIGZvciB0aGUgZXZlbnQgYmVpbmcgdHJpZ2dlcmVkIChvbkZ1bGZpbGxlZCBvciBvblJlamVjdCkgc28gbGV0cyBmb3J3YXJkIHRoZSBldmVudCB0byBhbnkgZXZlbnR1YWwgbGlzdGVuZXJzIG9uIHRoZSBQcm9taXNlIGluc3RhbmNlIHJldHVybmVkIGJ5IHRoZW4oKSBvciBjYXRjaCgpXG4gICAgICAgIHJldHVybiAocHJvbWlzZS5fc3RhdGUgPyBsaXN0ZW5lci5yZXNvbHZlIDogbGlzdGVuZXIucmVqZWN0KShwcm9taXNlLl92YWx1ZSk7XG4gICAgfVxuICAgICsrbGlzdGVuZXIucHNkLnJlZjtcbiAgICArK251bVNjaGVkdWxlZENhbGxzO1xuICAgIGFzYXAkMShjYWxsTGlzdGVuZXIsIFtjYiwgcHJvbWlzZSwgbGlzdGVuZXJdKTtcbn1cbmZ1bmN0aW9uIGNhbGxMaXN0ZW5lcihjYiwgcHJvbWlzZSwgbGlzdGVuZXIpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBTZXQgc3RhdGljIHZhcmlhYmxlIGN1cnJlbnRGdWxmaWxsZXIgdG8gdGhlIHByb21pc2UgdGhhdCBpcyBiZWluZyBmdWxsZmlsbGVkLFxuICAgICAgICAvLyBzbyB0aGF0IHdlIGNvbm5lY3QgdGhlIGNoYWluIG9mIHByb21pc2VzIChmb3IgbG9uZyBzdGFja3Mgc3VwcG9ydClcbiAgICAgICAgY3VycmVudEZ1bGZpbGxlciA9IHByb21pc2U7XG4gICAgICAgIC8vIENhbGwgY2FsbGJhY2sgYW5kIHJlc29sdmUgb3VyIGxpc3RlbmVyIHdpdGggaXQncyByZXR1cm4gdmFsdWUuXG4gICAgICAgIHZhciByZXQsIHZhbHVlID0gcHJvbWlzZS5fdmFsdWU7XG4gICAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSkge1xuICAgICAgICAgICAgLy8gY2IgaXMgb25SZXNvbHZlZFxuICAgICAgICAgICAgcmV0ID0gY2IodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gY2IgaXMgb25SZWplY3RlZFxuICAgICAgICAgICAgaWYgKHJlamVjdGluZ0Vycm9ycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgcmVqZWN0aW5nRXJyb3JzID0gW107XG4gICAgICAgICAgICByZXQgPSBjYih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAocmVqZWN0aW5nRXJyb3JzLmluZGV4T2YodmFsdWUpID09PSAtMSlcbiAgICAgICAgICAgICAgICBtYXJrRXJyb3JBc0hhbmRsZWQocHJvbWlzZSk7IC8vIENhbGxiYWNrIGRpZG50IGRvIFByb21pc2UucmVqZWN0KGVycikgbm9yIHJlamVjdChlcnIpIG9udG8gYW5vdGhlciBwcm9taXNlLlxuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVyLnJlc29sdmUocmV0KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBpbiBjYWxsYmFjay4gUmVqZWN0IG91ciBsaXN0ZW5lci5cbiAgICAgICAgbGlzdGVuZXIucmVqZWN0KGUpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgLy8gUmVzdG9yZSBlbnYgYW5kIGN1cnJlbnRGdWxmaWxsZXIuXG4gICAgICAgIGN1cnJlbnRGdWxmaWxsZXIgPSBudWxsO1xuICAgICAgICBpZiAoLS1udW1TY2hlZHVsZWRDYWxscyA9PT0gMClcbiAgICAgICAgICAgIGZpbmFsaXplUGh5c2ljYWxUaWNrKCk7XG4gICAgICAgIC0tbGlzdGVuZXIucHNkLnJlZiB8fCBsaXN0ZW5lci5wc2QuZmluYWxpemUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRTdGFjayhwcm9taXNlLCBzdGFja3MsIGxpbWl0KSB7XG4gICAgaWYgKHN0YWNrcy5sZW5ndGggPT09IGxpbWl0KVxuICAgICAgICByZXR1cm4gc3RhY2tzO1xuICAgIHZhciBzdGFjayA9IFwiXCI7XG4gICAgaWYgKHByb21pc2UuX3N0YXRlID09PSBmYWxzZSkge1xuICAgICAgICB2YXIgZmFpbHVyZSA9IHByb21pc2UuX3ZhbHVlLCBlcnJvck5hbWUsIG1lc3NhZ2U7XG4gICAgICAgIGlmIChmYWlsdXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGVycm9yTmFtZSA9IGZhaWx1cmUubmFtZSB8fCBcIkVycm9yXCI7XG4gICAgICAgICAgICBtZXNzYWdlID0gZmFpbHVyZS5tZXNzYWdlIHx8IGZhaWx1cmU7XG4gICAgICAgICAgICBzdGFjayA9IHByZXR0eVN0YWNrKGZhaWx1cmUsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXJyb3JOYW1lID0gZmFpbHVyZTsgLy8gSWYgZXJyb3IgaXMgdW5kZWZpbmVkIG9yIG51bGwsIHNob3cgdGhhdC5cbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrcy5wdXNoKGVycm9yTmFtZSArIChtZXNzYWdlID8gXCI6IFwiICsgbWVzc2FnZSA6IFwiXCIpICsgc3RhY2spO1xuICAgIH1cbiAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgc3RhY2sgPSBwcmV0dHlTdGFjayhwcm9taXNlLl9zdGFja0hvbGRlciwgMik7XG4gICAgICAgIGlmIChzdGFjayAmJiBzdGFja3MuaW5kZXhPZihzdGFjaykgPT09IC0xKVxuICAgICAgICAgICAgc3RhY2tzLnB1c2goc3RhY2spO1xuICAgICAgICBpZiAocHJvbWlzZS5fcHJldilcbiAgICAgICAgICAgIGdldFN0YWNrKHByb21pc2UuX3ByZXYsIHN0YWNrcywgbGltaXQpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhY2tzO1xufVxuZnVuY3Rpb24gbGlua1RvUHJldmlvdXNQcm9taXNlKHByb21pc2UsIHByZXYpIHtcbiAgICAvLyBTdXBwb3J0IGxvbmcgc3RhY2tzIGJ5IGxpbmtpbmcgdG8gcHJldmlvdXMgY29tcGxldGVkIHByb21pc2UuXG4gICAgdmFyIG51bVByZXYgPSBwcmV2ID8gcHJldi5fbnVtUHJldiArIDEgOiAwO1xuICAgIGlmIChudW1QcmV2IDwgTE9OR19TVEFDS1NfQ0xJUF9MSU1JVCkge1xuICAgICAgICBwcm9taXNlLl9wcmV2ID0gcHJldjtcbiAgICAgICAgcHJvbWlzZS5fbnVtUHJldiA9IG51bVByZXY7XG4gICAgfVxufVxuLyogVGhlIGNhbGxiYWNrIHRvIHNjaGVkdWxlIHdpdGggc2V0SW1tZWRpYXRlKCkgb3Igc2V0VGltZW91dCgpLlxuICAgSXQgcnVucyBhIHZpcnR1YWwgbWljcm90aWNrIGFuZCBleGVjdXRlcyBhbnkgY2FsbGJhY2sgcmVnaXN0ZXJlZCBpbiBtaWNyb3RpY2tRdWV1ZS5cbiAqL1xuZnVuY3Rpb24gcGh5c2ljYWxUaWNrKCkge1xuICAgIGJlZ2luTWljcm9UaWNrU2NvcGUoKSAmJiBlbmRNaWNyb1RpY2tTY29wZSgpO1xufVxuZnVuY3Rpb24gYmVnaW5NaWNyb1RpY2tTY29wZSgpIHtcbiAgICB2YXIgd2FzUm9vdEV4ZWMgPSBpc091dHNpZGVNaWNyb1RpY2s7XG4gICAgaXNPdXRzaWRlTWljcm9UaWNrID0gZmFsc2U7XG4gICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSBmYWxzZTtcbiAgICByZXR1cm4gd2FzUm9vdEV4ZWM7XG59XG4vKiBFeGVjdXRlcyBtaWNyby10aWNrcyB3aXRob3V0IGRvaW5nIHRyeS4uY2F0Y2guXG4gICBUaGlzIGNhbiBiZSBwb3NzaWJsZSBiZWNhdXNlIHdlIG9ubHkgdXNlIHRoaXMgaW50ZXJuYWxseSBhbmRcbiAgIHRoZSByZWdpc3RlcmVkIGZ1bmN0aW9ucyBhcmUgZXhjZXB0aW9uLXNhZmUgKHRoZXkgZG8gdHJ5Li5jYXRjaFxuICAgaW50ZXJuYWxseSBiZWZvcmUgY2FsbGluZyBhbnkgZXh0ZXJuYWwgbWV0aG9kKS4gSWYgcmVnaXN0ZXJpbmdcbiAgIGZ1bmN0aW9ucyBpbiB0aGUgbWljcm90aWNrUXVldWUgdGhhdCBhcmUgbm90IGV4Y2VwdGlvbi1zYWZlLCB0aGlzXG4gICB3b3VsZCBkZXN0cm95IHRoZSBmcmFtZXdvcmsgYW5kIG1ha2UgaXQgaW5zdGFibGUuIFNvIHdlIGRvbid0IGV4cG9ydFxuICAgb3VyIGFzYXAgbWV0aG9kLlxuKi9cbmZ1bmN0aW9uIGVuZE1pY3JvVGlja1Njb3BlKCkge1xuICAgIHZhciBjYWxsYmFja3MsIGksIGw7XG4gICAgZG8ge1xuICAgICAgICB3aGlsZSAobWljcm90aWNrUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY2FsbGJhY2tzID0gbWljcm90aWNrUXVldWU7XG4gICAgICAgICAgICBtaWNyb3RpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgbCA9IGNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjYWxsYmFja3NbaV07XG4gICAgICAgICAgICAgICAgaXRlbVswXS5hcHBseShudWxsLCBpdGVtWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKG1pY3JvdGlja1F1ZXVlLmxlbmd0aCA+IDApO1xuICAgIGlzT3V0c2lkZU1pY3JvVGljayA9IHRydWU7XG4gICAgbmVlZHNOZXdQaHlzaWNhbFRpY2sgPSB0cnVlO1xufVxuZnVuY3Rpb24gZmluYWxpemVQaHlzaWNhbFRpY2soKSB7XG4gICAgdmFyIHVuaGFuZGxlZEVycnMgPSB1bmhhbmRsZWRFcnJvcnM7XG4gICAgdW5oYW5kbGVkRXJyb3JzID0gW107XG4gICAgdW5oYW5kbGVkRXJycy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuX1BTRC5vbnVuaGFuZGxlZC5jYWxsKG51bGwsIHAuX3ZhbHVlLCBwKTtcbiAgICB9KTtcbiAgICB2YXIgZmluYWxpemVycyA9IHRpY2tGaW5hbGl6ZXJzLnNsaWNlKDApOyAvLyBDbG9uZSBmaXJzdCBiZWNhdXNlIGZpbmFsaXplciBtYXkgcmVtb3ZlIGl0c2VsZiBmcm9tIGxpc3QuXG4gICAgdmFyIGkgPSBmaW5hbGl6ZXJzLmxlbmd0aDtcbiAgICB3aGlsZSAoaSlcbiAgICAgICAgZmluYWxpemVyc1stLWldKCk7XG59XG5mdW5jdGlvbiBydW5fYXRfZW5kX29mX3RoaXNfb3JfbmV4dF9waHlzaWNhbF90aWNrKGZuKSB7XG4gICAgZnVuY3Rpb24gZmluYWxpemVyKCkge1xuICAgICAgICBmbigpO1xuICAgICAgICB0aWNrRmluYWxpemVycy5zcGxpY2UodGlja0ZpbmFsaXplcnMuaW5kZXhPZihmaW5hbGl6ZXIpLCAxKTtcbiAgICB9XG4gICAgdGlja0ZpbmFsaXplcnMucHVzaChmaW5hbGl6ZXIpO1xuICAgICsrbnVtU2NoZWR1bGVkQ2FsbHM7XG4gICAgYXNhcCQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKC0tbnVtU2NoZWR1bGVkQ2FsbHMgPT09IDApXG4gICAgICAgICAgICBmaW5hbGl6ZVBoeXNpY2FsVGljaygpO1xuICAgIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGFkZFBvc3NpYmx5VW5oYW5kbGVkRXJyb3IocHJvbWlzZSkge1xuICAgIC8vIE9ubHkgYWRkIHRvIHVuaGFuZGxlZEVycm9ycyBpZiBub3QgYWxyZWFkeSB0aGVyZS4gVGhlIGZpcnN0IG9uZSB0byBhZGQgdG8gdGhpcyBsaXN0XG4gICAgLy8gd2lsbCBiZSB1cG9uIHRoZSBmaXJzdCByZWplY3Rpb24gc28gdGhhdCB0aGUgcm9vdCBjYXVzZSAoZmlyc3QgcHJvbWlzZSBpbiB0aGVcbiAgICAvLyByZWplY3Rpb24gY2hhaW4pIGlzIHRoZSBvbmUgbGlzdGVkLlxuICAgIGlmICghdW5oYW5kbGVkRXJyb3JzLnNvbWUoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuX3ZhbHVlID09PSBwcm9taXNlLl92YWx1ZTsgfSkpXG4gICAgICAgIHVuaGFuZGxlZEVycm9ycy5wdXNoKHByb21pc2UpO1xufVxuZnVuY3Rpb24gbWFya0Vycm9yQXNIYW5kbGVkKHByb21pc2UpIHtcbiAgICAvLyBDYWxsZWQgd2hlbiBhIHJlamVjdCBoYW5kbGVkIGlzIGFjdHVhbGx5IGJlaW5nIGNhbGxlZC5cbiAgICAvLyBTZWFyY2ggaW4gdW5oYW5kbGVkRXJyb3JzIGZvciBhbnkgcHJvbWlzZSB3aG9zIF92YWx1ZSBpcyB0aGlzIHByb21pc2VfdmFsdWUgKGxpc3RcbiAgICAvLyBjb250YWlucyBvbmx5IHJlamVjdGVkIHByb21pc2VzLCBhbmQgb25seSBvbmUgaXRlbSBwZXIgZXJyb3IpXG4gICAgdmFyIGkgPSB1bmhhbmRsZWRFcnJvcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpKVxuICAgICAgICBpZiAodW5oYW5kbGVkRXJyb3JzWy0taV0uX3ZhbHVlID09PSBwcm9taXNlLl92YWx1ZSkge1xuICAgICAgICAgICAgLy8gRm91bmQgYSBwcm9taXNlIHRoYXQgZmFpbGVkIHdpdGggdGhpcyBzYW1lIGVycm9yIG9iamVjdCBwb2ludGVyLFxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoYXQgc2luY2UgdGhlcmUgaXMgYSBsaXN0ZW5lciB0aGF0IGFjdHVhbGx5IHRha2VzIGNhcmUgb2YgaXQuXG4gICAgICAgICAgICB1bmhhbmRsZWRFcnJvcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG59XG5mdW5jdGlvbiBQcm9taXNlUmVqZWN0KHJlYXNvbikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShJTlRFUk5BTCwgZmFsc2UsIHJlYXNvbik7XG59XG5mdW5jdGlvbiB3cmFwKGZuLCBlcnJvckNhdGNoZXIpIHtcbiAgICB2YXIgcHNkID0gUFNEO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB3YXNSb290RXhlYyA9IGJlZ2luTWljcm9UaWNrU2NvcGUoKSwgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaFRvWm9uZShwc2QsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yQ2F0Y2hlciAmJiBlcnJvckNhdGNoZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHdhc1Jvb3RFeGVjKVxuICAgICAgICAgICAgICAgIGVuZE1pY3JvVGlja1Njb3BlKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy9cbi8vIHZhcmlhYmxlcyB1c2VkIGZvciBuYXRpdmUgYXdhaXQgc3VwcG9ydFxuLy9cbnZhciB0YXNrID0geyBhd2FpdHM6IDAsIGVjaG9lczogMCwgaWQ6IDAgfTsgLy8gVGhlIG9uZ29pbmcgbWFjcm8tdGFzayB3aGVuIHVzaW5nIHpvbmUtZWNob2luZy5cbnZhciB0YXNrQ291bnRlciA9IDA7IC8vIElEIGNvdW50ZXIgZm9yIG1hY3JvIHRhc2tzLlxudmFyIHpvbmVTdGFjayA9IFtdOyAvLyBTdGFjayBvZiBsZWZ0IHpvbmVzIHRvIHJlc3RvcmUgYXN5bmNocm9uaWNhbGx5LlxudmFyIHpvbmVFY2hvZXMgPSAwOyAvLyB6b25lRWNob2VzIGlzIGEgbXVzdCBpbiBvcmRlciB0byBwZXJzaXN0IHpvbmVzIGJldHdlZW4gbmF0aXZlIGF3YWl0IGV4cHJlc3Npb25zLlxudmFyIHRvdGFsRWNob2VzID0gMDsgLy8gSUQgY291bnRlciBmb3IgbWljcm8tdGFza3MuIFVzZWQgdG8gZGV0ZWN0IHBvc3NpYmxlIG5hdGl2ZSBhd2FpdCBpbiBvdXIgUHJvbWlzZS5wcm90b3R5cGUudGhlbi5cbnZhciB6b25lX2lkX2NvdW50ZXIgPSAwO1xuZnVuY3Rpb24gbmV3U2NvcGUoZm4sIHByb3BzJCQxLCBhMSwgYTIpIHtcbiAgICB2YXIgcGFyZW50ID0gUFNELCBwc2QgPSBPYmplY3QuY3JlYXRlKHBhcmVudCk7XG4gICAgcHNkLnBhcmVudCA9IHBhcmVudDtcbiAgICBwc2QucmVmID0gMDtcbiAgICBwc2QuZ2xvYmFsID0gZmFsc2U7XG4gICAgcHNkLmlkID0gKyt6b25lX2lkX2NvdW50ZXI7XG4gICAgLy8gUHJlcGFyZSBmb3IgcHJvbWlzZSBwYXRjaGluZyAoZG9uZSBpbiB1c2VQU0QpOlxuICAgIHZhciBnbG9iYWxFbnYgPSBnbG9iYWxQU0QuZW52O1xuICAgIHBzZC5lbnYgPSBwYXRjaEdsb2JhbFByb21pc2UgPyB7XG4gICAgICAgIFByb21pc2U6IFByb21pc2UsXG4gICAgICAgIFByb21pc2VQcm9wOiB7IHZhbHVlOiBQcm9taXNlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0sXG4gICAgICAgIGFsbDogUHJvbWlzZS5hbGwsXG4gICAgICAgIHJhY2U6IFByb21pc2UucmFjZSxcbiAgICAgICAgcmVzb2x2ZTogUHJvbWlzZS5yZXNvbHZlLFxuICAgICAgICByZWplY3Q6IFByb21pc2UucmVqZWN0LFxuICAgICAgICBudGhlbjogZ2V0UGF0Y2hlZFByb21pc2VUaGVuKGdsb2JhbEVudi5udGhlbiwgcHNkKSxcbiAgICAgICAgZ3RoZW46IGdldFBhdGNoZWRQcm9taXNlVGhlbihnbG9iYWxFbnYuZ3RoZW4sIHBzZCkgLy8gZ2xvYmFsIHRoZW5cbiAgICB9IDoge307XG4gICAgaWYgKHByb3BzJCQxKVxuICAgICAgICBleHRlbmQocHNkLCBwcm9wcyQkMSk7XG4gICAgLy8gdW5oYW5kbGVkcyBhbmQgb251bmhhbmRsZWQgc2hvdWxkIG5vdCBiZSBzcGVjaWZpY2FsbHkgc2V0IGhlcmUuXG4gICAgLy8gTGVhdmUgdGhlbSBvbiBwYXJlbnQgcHJvdG90eXBlLlxuICAgIC8vIHVuaGFuZGxlZHMucHVzaChlcnIpIHdpbGwgcHVzaCB0byBwYXJlbnQncyBwcm90b3R5cGVcbiAgICAvLyBvbnVuaGFuZGxlZCgpIHdpbGwgY2FsbCBwYXJlbnRzIG9udW5oYW5kbGVkICh3aXRoIHRoaXMgc2NvcGUncyB0aGlzLXBvaW50ZXIgdGhvdWdoISlcbiAgICArK3BhcmVudC5yZWY7XG4gICAgcHNkLmZpbmFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAtLXRoaXMucGFyZW50LnJlZiB8fCB0aGlzLnBhcmVudC5maW5hbGl6ZSgpO1xuICAgIH07XG4gICAgdmFyIHJ2ID0gdXNlUFNEKHBzZCwgZm4sIGExLCBhMik7XG4gICAgaWYgKHBzZC5yZWYgPT09IDApXG4gICAgICAgIHBzZC5maW5hbGl6ZSgpO1xuICAgIHJldHVybiBydjtcbn1cbi8vIEZ1bmN0aW9uIHRvIGNhbGwgaWYgc2NvcGVGdW5jIHJldHVybnMgTmF0aXZlUHJvbWlzZVxuLy8gQWxzbyBmb3IgZWFjaCBOYXRpdmVQcm9taXNlIGluIHRoZSBhcmd1bWVudHMgdG8gUHJvbWlzZS5hbGwoKVxuZnVuY3Rpb24gaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKSB7XG4gICAgaWYgKCF0YXNrLmlkKVxuICAgICAgICB0YXNrLmlkID0gKyt0YXNrQ291bnRlcjtcbiAgICArK3Rhc2suYXdhaXRzO1xuICAgIHRhc2suZWNob2VzICs9IFpPTkVfRUNIT19MSU1JVDtcbiAgICByZXR1cm4gdGFzay5pZDtcbn1cbi8vIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiAndGhlbicgY2FsbHMgYmFjayBvbiBhIG5hdGl2ZSBwcm9taXNlIHdoZXJlIG9uQXdhaXRFeHBlY3RlZCgpIGhhZCBiZWVuIGNhbGxlZC5cbi8vIEFsc28gY2FsbCB0aGlzIHdoZW4gYSBuYXRpdmUgYXdhaXQgY2FsbHMgdGhlbiBtZXRob2Qgb24gYSBwcm9taXNlLiBJbiB0aGF0IGNhc2UsIGRvbid0IHN1cHBseVxuLy8gc291cmNlVGFza0lkIGJlY2F1c2Ugd2UgYWxyZWFkeSBrbm93IGl0IHJlZmVycyB0byBjdXJyZW50IHRhc2suXG5mdW5jdGlvbiBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cyhzb3VyY2VUYXNrSWQpIHtcbiAgICBpZiAoIXRhc2suYXdhaXRzIHx8IChzb3VyY2VUYXNrSWQgJiYgc291cmNlVGFza0lkICE9PSB0YXNrLmlkKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICgtLXRhc2suYXdhaXRzID09PSAwKVxuICAgICAgICB0YXNrLmlkID0gMDtcbiAgICB0YXNrLmVjaG9lcyA9IHRhc2suYXdhaXRzICogWk9ORV9FQ0hPX0xJTUlUOyAvLyBXaWxsIHJlc2V0IGVjaG9lcyB0byAwIGlmIGF3YWl0cyBpcyAwLlxufVxuLy8gQ2FsbCBmcm9tIFByb21pc2UuYWxsKCkgYW5kIFByb21pc2UucmFjZSgpXG5mdW5jdGlvbiBvblBvc3NpYmxlUGFyYWxsZWxsQXN5bmMocG9zc2libGVQcm9taXNlKSB7XG4gICAgaWYgKHRhc2suZWNob2VzICYmIHBvc3NpYmxlUHJvbWlzZSAmJiBwb3NzaWJsZVByb21pc2UuY29uc3RydWN0b3IgPT09IE5hdGl2ZVByb21pc2UpIHtcbiAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgcmV0dXJuIHBvc3NpYmxlUHJvbWlzZS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBkZWNyZW1lbnRFeHBlY3RlZEF3YWl0cygpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwb3NzaWJsZVByb21pc2U7XG59XG5mdW5jdGlvbiB6b25lRW50ZXJFY2hvKHRhcmdldFpvbmUpIHtcbiAgICArK3RvdGFsRWNob2VzO1xuICAgIGlmICghdGFzay5lY2hvZXMgfHwgLS10YXNrLmVjaG9lcyA9PT0gMCkge1xuICAgICAgICB0YXNrLmVjaG9lcyA9IHRhc2suaWQgPSAwOyAvLyBDYW5jZWwgem9uZSBlY2hvaW5nLlxuICAgIH1cbiAgICB6b25lU3RhY2sucHVzaChQU0QpO1xuICAgIHN3aXRjaFRvWm9uZSh0YXJnZXRab25lLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIHpvbmVMZWF2ZUVjaG8oKSB7XG4gICAgdmFyIHpvbmUgPSB6b25lU3RhY2tbem9uZVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIHpvbmVTdGFjay5wb3AoKTtcbiAgICBzd2l0Y2hUb1pvbmUoem9uZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gc3dpdGNoVG9ab25lKHRhcmdldFpvbmUsIGJFbnRlcmluZ1pvbmUpIHtcbiAgICB2YXIgY3VycmVudFpvbmUgPSBQU0Q7XG4gICAgaWYgKGJFbnRlcmluZ1pvbmUgPyB0YXNrLmVjaG9lcyAmJiAoIXpvbmVFY2hvZXMrKyB8fCB0YXJnZXRab25lICE9PSBQU0QpIDogem9uZUVjaG9lcyAmJiAoIS0tem9uZUVjaG9lcyB8fCB0YXJnZXRab25lICE9PSBQU0QpKSB7XG4gICAgICAgIC8vIEVudGVyIG9yIGxlYXZlIHpvbmUgYXN5bmNocm9uaWNhbGx5IGFzIHdlbGwsIHNvIHRoYXQgdGFza3MgaW5pdGlhdGVkIGR1cmluZyBjdXJyZW50IHRpY2tcbiAgICAgICAgLy8gd2lsbCBiZSBzdXJyb3VuZGVkIGJ5IHRoZSB6b25lIHdoZW4gdGhleSBhcmUgaW52b2tlZC5cbiAgICAgICAgZW5xdWV1ZU5hdGl2ZU1pY3JvVGFzayhiRW50ZXJpbmdab25lID8gem9uZUVudGVyRWNoby5iaW5kKG51bGwsIHRhcmdldFpvbmUpIDogem9uZUxlYXZlRWNobyk7XG4gICAgfVxuICAgIGlmICh0YXJnZXRab25lID09PSBQU0QpXG4gICAgICAgIHJldHVybjtcbiAgICBQU0QgPSB0YXJnZXRab25lOyAvLyBUaGUgYWN0dWFsIHpvbmUgc3dpdGNoIG9jY3VycyBhdCB0aGlzIGxpbmUuXG4gICAgLy8gU25hcHNob3Qgb24gZXZlcnkgbGVhdmUgZnJvbSBnbG9iYWwgem9uZS5cbiAgICBpZiAoY3VycmVudFpvbmUgPT09IGdsb2JhbFBTRClcbiAgICAgICAgZ2xvYmFsUFNELmVudiA9IHNuYXBTaG90KCk7XG4gICAgaWYgKHBhdGNoR2xvYmFsUHJvbWlzZSkge1xuICAgICAgICAvLyBMZXQncyBwYXRjaCB0aGUgZ2xvYmFsIGFuZCBuYXRpdmUgUHJvbWlzZXMgKG1heSBiZSBzYW1lIG9yIG1heSBiZSBkaWZmZXJlbnQpXG4gICAgICAgIHZhciBHbG9iYWxQcm9taXNlID0gZ2xvYmFsUFNELmVudi5Qcm9taXNlO1xuICAgICAgICAvLyBTd2ljaCBlbnZpcm9ubWVudHMgKG1heSBiZSBQU0Qtem9uZSBvciB0aGUgZ2xvYmFsIHpvbmUuIEJvdGggYXBwbHkuKVxuICAgICAgICB2YXIgdGFyZ2V0RW52ID0gdGFyZ2V0Wm9uZS5lbnY7XG4gICAgICAgIC8vIENoYW5nZSBQcm9taXNlLnByb3RvdHlwZS50aGVuIGZvciBuYXRpdmUgYW5kIGdsb2JhbCBQcm9taXNlICh0aGV5IE1BWSBkaWZmZXIgb24gcG9seWZpbGxlZCBlbnZpcm9ubWVudHMsIGJ1dCBib3RoIGNhbiBiZSBhY2Nlc3NlZClcbiAgICAgICAgLy8gTXVzdCBiZSBkb25lIG9uIGVhY2ggem9uZSBjaGFuZ2UgYmVjYXVzZSB0aGUgcGF0Y2hlZCBtZXRob2QgY29udGFpbnMgdGFyZ2V0Wm9uZSBpbiBpdHMgY2xvc3VyZS5cbiAgICAgICAgbmF0aXZlUHJvbWlzZVByb3RvLnRoZW4gPSB0YXJnZXRFbnYubnRoZW47XG4gICAgICAgIEdsb2JhbFByb21pc2UucHJvdG90eXBlLnRoZW4gPSB0YXJnZXRFbnYuZ3RoZW47XG4gICAgICAgIGlmIChjdXJyZW50Wm9uZS5nbG9iYWwgfHwgdGFyZ2V0Wm9uZS5nbG9iYWwpIHtcbiAgICAgICAgICAgIC8vIExlYXZpbmcgb3IgZW50ZXJpbmcgZ2xvYmFsIHpvbmUuIEl0J3MgdGltZSB0byBwYXRjaCAvIHJlc3RvcmUgZ2xvYmFsIFByb21pc2UuXG4gICAgICAgICAgICAvLyBTZXQgdGhpcyBQcm9taXNlIHRvIHdpbmRvdy5Qcm9taXNlIHNvIHRoYXQgdHJhbnNpbGVkIGFzeW5jIGZ1bmN0aW9ucyB3aWxsIHdvcmsgb24gRmlyZWZveCwgU2FmYXJpIGFuZCBJRSwgYXMgd2VsbCBhcyB3aXRoIFpvbmVqcyBhbmQgYW5ndWxhci5cbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfZ2xvYmFsLCAnUHJvbWlzZScsIHRhcmdldEVudi5Qcm9taXNlUHJvcCk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0IFByb21pc2UuYWxsKCkgZXRjIHRvIHdvcmsgaW5kZXhlZERCLXNhZmUgYWxzbyB3aGVuIHBlb3BsZSBhcmUgaW5jbHVkaW5nIGVzNi1wcm9taXNlIGFzIGEgbW9kdWxlICh0aGV5IG1pZ2h0XG4gICAgICAgICAgICAvLyBub3QgYmUgYWNjZXNzaW5nIGdsb2JhbC5Qcm9taXNlIGJ1dCBhIGxvY2FsIHJlZmVyZW5jZSB0byBpdClcbiAgICAgICAgICAgIEdsb2JhbFByb21pc2UuYWxsID0gdGFyZ2V0RW52LmFsbDtcbiAgICAgICAgICAgIEdsb2JhbFByb21pc2UucmFjZSA9IHRhcmdldEVudi5yYWNlO1xuICAgICAgICAgICAgR2xvYmFsUHJvbWlzZS5yZXNvbHZlID0gdGFyZ2V0RW52LnJlc29sdmU7XG4gICAgICAgICAgICBHbG9iYWxQcm9taXNlLnJlamVjdCA9IHRhcmdldEVudi5yZWplY3Q7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzbmFwU2hvdCgpIHtcbiAgICB2YXIgR2xvYmFsUHJvbWlzZSA9IF9nbG9iYWwuUHJvbWlzZTtcbiAgICByZXR1cm4gcGF0Y2hHbG9iYWxQcm9taXNlID8ge1xuICAgICAgICBQcm9taXNlOiBHbG9iYWxQcm9taXNlLFxuICAgICAgICBQcm9taXNlUHJvcDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihfZ2xvYmFsLCBcIlByb21pc2VcIiksXG4gICAgICAgIGFsbDogR2xvYmFsUHJvbWlzZS5hbGwsXG4gICAgICAgIHJhY2U6IEdsb2JhbFByb21pc2UucmFjZSxcbiAgICAgICAgcmVzb2x2ZTogR2xvYmFsUHJvbWlzZS5yZXNvbHZlLFxuICAgICAgICByZWplY3Q6IEdsb2JhbFByb21pc2UucmVqZWN0LFxuICAgICAgICBudGhlbjogbmF0aXZlUHJvbWlzZVByb3RvLnRoZW4sXG4gICAgICAgIGd0aGVuOiBHbG9iYWxQcm9taXNlLnByb3RvdHlwZS50aGVuXG4gICAgfSA6IHt9O1xufVxuZnVuY3Rpb24gdXNlUFNEKHBzZCwgZm4sIGExLCBhMiwgYTMpIHtcbiAgICB2YXIgb3V0ZXJTY29wZSA9IFBTRDtcbiAgICB0cnkge1xuICAgICAgICBzd2l0Y2hUb1pvbmUocHNkLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGZuKGExLCBhMiwgYTMpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgc3dpdGNoVG9ab25lKG91dGVyU2NvcGUsIGZhbHNlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnF1ZXVlTmF0aXZlTWljcm9UYXNrKGpvYikge1xuICAgIC8vXG4gICAgLy8gUHJlY29uZGl0aW9uOiBuYXRpdmVQcm9taXNlVGhlbiAhPT0gdW5kZWZpbmVkXG4gICAgLy9cbiAgICBuYXRpdmVQcm9taXNlVGhlbi5jYWxsKHJlc29sdmVkTmF0aXZlUHJvbWlzZSwgam9iKTtcbn1cbmZ1bmN0aW9uIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAoZm4sIHpvbmUsIHBvc3NpYmxlQXdhaXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nID8gZm4gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdXRlclpvbmUgPSBQU0Q7XG4gICAgICAgIGlmIChwb3NzaWJsZUF3YWl0KVxuICAgICAgICAgICAgaW5jcmVtZW50RXhwZWN0ZWRBd2FpdHMoKTtcbiAgICAgICAgc3dpdGNoVG9ab25lKHpvbmUsIHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBzd2l0Y2hUb1pvbmUob3V0ZXJab25lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0UGF0Y2hlZFByb21pc2VUaGVuKG9yaWdUaGVuLCB6b25lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvblJlc29sdmVkLCBvblJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiBvcmlnVGhlbi5jYWxsKHRoaXMsIG5hdGl2ZUF3YWl0Q29tcGF0aWJsZVdyYXAob25SZXNvbHZlZCwgem9uZSwgZmFsc2UpLCBuYXRpdmVBd2FpdENvbXBhdGlibGVXcmFwKG9uUmVqZWN0ZWQsIHpvbmUsIGZhbHNlKSk7XG4gICAgfTtcbn1cbnZhciBVTkhBTkRMRURSRUpFQ1RJT04gPSBcInVuaGFuZGxlZHJlamVjdGlvblwiO1xuZnVuY3Rpb24gZ2xvYmFsRXJyb3IoZXJyLCBwcm9taXNlKSB7XG4gICAgdmFyIHJ2O1xuICAgIHRyeSB7XG4gICAgICAgIHJ2ID0gcHJvbWlzZS5vbnVuY2F0Y2hlZChlcnIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkgeyB9XG4gICAgaWYgKHJ2ICE9PSBmYWxzZSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBldmVudCwgZXZlbnREYXRhID0geyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IGVyciB9O1xuICAgICAgICAgICAgaWYgKF9nbG9iYWwuZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgICAgIGV2ZW50LmluaXRFdmVudChVTkhBTkRMRURSRUpFQ1RJT04sIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGV4dGVuZChldmVudCwgZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF9nbG9iYWwuQ3VzdG9tRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChVTkhBTkRMRURSRUpFQ1RJT04sIHsgZGV0YWlsOiBldmVudERhdGEgfSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKGV2ZW50LCBldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50ICYmIF9nbG9iYWwuZGlzcGF0Y2hFdmVudCkge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICghX2dsb2JhbC5Qcm9taXNlUmVqZWN0aW9uRXZlbnQgJiYgX2dsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gbmF0aXZlIHN1cHBvcnQgZm9yIFByb21pc2VSZWplY3Rpb25FdmVudCBidXQgdXNlciBoYXMgc2V0IHdpbmRvdy5vbnVuaGFuZGxlZHJlamVjdGlvbi4gTWFudWFsbHkgY2FsbCBpdC5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWwub251bmhhbmRsZWRyZWplY3Rpb24oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuaGFuZGxlZCByZWplY3Rpb246IFwiICsgKGVyci5zdGFjayB8fCBlcnIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkgeyB9XG59XG52YXIgcmVqZWN0aW9uID0gUHJvbWlzZS5yZWplY3Q7XG5cbmZ1bmN0aW9uIEV2ZW50cyhjdHgpIHtcbiAgICB2YXIgZXZzID0ge307XG4gICAgdmFyIHJ2ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgLy8gU3Vic2NyaWJlLiBJZiBhZGRpdGlvbmFsIGFyZ3VtZW50cyB0aGFuIGp1c3QgdGhlIHN1YnNjcmliZXIgd2FzIHByb3ZpZGVkLCBmb3J3YXJkIHRoZW0gYXMgd2VsbC5cbiAgICAgICAgICAgIHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShpIC0gMSk7XG4gICAgICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZXZzW2V2ZW50TmFtZV0uc3Vic2NyaWJlLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIGN0eDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgKGV2ZW50TmFtZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBSZXR1cm4gaW50ZXJmYWNlIGFsbG93aW5nIHRvIGZpcmUgb3IgdW5zdWJzY3JpYmUgZnJvbSBldmVudFxuICAgICAgICAgICAgcmV0dXJuIGV2c1tldmVudE5hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBydi5hZGRFdmVudFR5cGUgPSBhZGQ7XG4gICAgZm9yICh2YXIgaSA9IDEsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgIGFkZChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcnY7XG4gICAgZnVuY3Rpb24gYWRkKGV2ZW50TmFtZSwgY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lID09PSAnb2JqZWN0JylcbiAgICAgICAgICAgIHJldHVybiBhZGRDb25maWd1cmVkRXZlbnRzKGV2ZW50TmFtZSk7XG4gICAgICAgIGlmICghY2hhaW5GdW5jdGlvbilcbiAgICAgICAgICAgIGNoYWluRnVuY3Rpb24gPSByZXZlcnNlU3RvcHBhYmxlRXZlbnRDaGFpbjtcbiAgICAgICAgaWYgKCFkZWZhdWx0RnVuY3Rpb24pXG4gICAgICAgICAgICBkZWZhdWx0RnVuY3Rpb24gPSBub3A7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgc3Vic2NyaWJlcnM6IFtdLFxuICAgICAgICAgICAgZmlyZTogZGVmYXVsdEZ1bmN0aW9uLFxuICAgICAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5zdWJzY3JpYmVycy5pbmRleE9mKGNiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5wdXNoKGNiKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maXJlID0gY2hhaW5GdW5jdGlvbihjb250ZXh0LmZpcmUsIGNiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Vic2NyaWJlcnMgPSBjb250ZXh0LnN1YnNjcmliZXJzLmZpbHRlcihmdW5jdGlvbiAoZm4pIHsgcmV0dXJuIGZuICE9PSBjYjsgfSk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5maXJlID0gY29udGV4dC5zdWJzY3JpYmVycy5yZWR1Y2UoY2hhaW5GdW5jdGlvbiwgZGVmYXVsdEZ1bmN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZXZzW2V2ZW50TmFtZV0gPSBydltldmVudE5hbWVdID0gY29udGV4dDtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZENvbmZpZ3VyZWRFdmVudHMoY2ZnKSB7XG4gICAgICAgIC8vIGV2ZW50cyh0aGlzLCB7cmVhZGluZzogW2Z1bmN0aW9uQ2hhaW4sIG5vcF19KTtcbiAgICAgICAga2V5cyhjZmcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBjZmdbZXZlbnROYW1lXTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZ3MpKSB7XG4gICAgICAgICAgICAgICAgYWRkKGV2ZW50TmFtZSwgY2ZnW2V2ZW50TmFtZV1bMF0sIGNmZ1tldmVudE5hbWVdWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGFyZ3MgPT09ICdhc2FwJykge1xuICAgICAgICAgICAgICAgIC8vIFJhdGhlciB0aGFuIGFwcHJvYWNoaW5nIGV2ZW50IHN1YnNjcmlwdGlvbiB1c2luZyBhIGZ1bmN0aW9uYWwgYXBwcm9hY2gsIHdlIGhlcmUgZG8gaXQgaW4gYSBmb3ItbG9vcCB3aGVyZSBzdWJzY3JpYmVyIGlzIGV4ZWN1dGVkIGluIGl0cyBvd24gc3RhY2tcbiAgICAgICAgICAgICAgICAvLyBlbmFibGluZyB0aGF0IGFueSBleGNlcHRpb24gdGhhdCBvY2N1ciB3b250IGRpc3R1cmIgdGhlIGluaXRpYXRvciBhbmQgYWxzbyBub3QgbmVzY2Vzc2FyeSBiZSBjYXRjaGVkIGFuZCBmb3Jnb3R0ZW4uXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBhZGQoZXZlbnROYW1lLCBtaXJyb3IsIGZ1bmN0aW9uIGZpcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGltYXphdGlvbi1zYWZlIGNsb25pbmcgb2YgYXJndW1lbnRzIGludG8gYXJncy5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxsIGVhY2ggc3Vic2NyaWJlcjpcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpYmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNhcChmdW5jdGlvbiBmaXJlRXZlbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiSW52YWxpZCBldmVudCBjb25maWdcIik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuLypcbiAqIERleGllLmpzIC0gYSBtaW5pbWFsaXN0aWMgd3JhcHBlciBmb3IgSW5kZXhlZERCXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE3IERhdmlkIEZhaGxhbmRlclxuICpcbiAqIFZlcnNpb24ge3ZlcnNpb259LCB7ZGF0ZX1cbiAqXG4gKiBodHRwOi8vZGV4aWUub3JnXG4gKlxuICogQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIEphbnVhcnkgMjAwNCwgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICovXG52YXIgREVYSUVfVkVSU0lPTiA9ICd7dmVyc2lvbn0nO1xudmFyIG1heFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzUpO1xudmFyIG1heEtleSA9IChmdW5jdGlvbiAoKSB7IHRyeSB7XG4gICAgSURCS2V5UmFuZ2Uub25seShbW11dKTtcbiAgICByZXR1cm4gW1tdXTtcbn1cbmNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG1heFN0cmluZztcbn0gfSkoKTtcbnZhciBtaW5LZXkgPSAtSW5maW5pdHk7XG52YXIgSU5WQUxJRF9LRVlfQVJHVU1FTlQgPSBcIkludmFsaWQga2V5IHByb3ZpZGVkLiBLZXlzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcsIG51bWJlciwgRGF0ZSBvciBBcnJheTxzdHJpbmcgfCBudW1iZXIgfCBEYXRlPi5cIjtcbnZhciBTVFJJTkdfRVhQRUNURUQgPSBcIlN0cmluZyBleHBlY3RlZC5cIjtcbnZhciBjb25uZWN0aW9ucyA9IFtdO1xudmFyIGlzSUVPckVkZ2UgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvKE1TSUV8VHJpZGVudHxFZGdlKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBoYXNJRURlbGV0ZU9iamVjdFN0b3JlQnVnID0gaXNJRU9yRWRnZTtcbnZhciBoYW5nc09uRGVsZXRlTGFyZ2VLZXlSYW5nZSA9IGlzSUVPckVkZ2U7XG52YXIgZGV4aWVTdGFja0ZyYW1lRmlsdGVyID0gZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiAhLyhkZXhpZVxcLmpzfGRleGllXFwubWluXFwuanMpLy50ZXN0KGZyYW1lKTsgfTtcbnZhciBkYk5hbWVzREI7IC8vIEdsb2JhbCBkYXRhYmFzZSBmb3IgYmFja2luZyBEZXhpZS5nZXREYXRhYmFzZU5hbWVzKCkgb24gYnJvd3NlciB3aXRob3V0IGluZGV4ZWREQi53ZWJraXRHZXREYXRhYmFzZU5hbWVzKCkgXG4vLyBJbml0IGRlYnVnXG5zZXREZWJ1ZyhkZWJ1ZywgZGV4aWVTdGFja0ZyYW1lRmlsdGVyKTtcbmZ1bmN0aW9uIERleGllKGRiTmFtZSwgb3B0aW9ucykge1xuICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIiB0eXBlPVwiT2JqZWN0XCIgb3B0aW9uYWw9XCJ0cnVlXCI+U3BlY2lmeSBvbmx5IGlmIHlvdSB3aWNoIHRvIGNvbnRyb2wgd2hpY2ggYWRkb25zIHRoYXQgc2hvdWxkIHJ1biBvbiB0aGlzIGluc3RhbmNlPC9wYXJhbT5cbiAgICB2YXIgZGVwcyA9IERleGllLmRlcGVuZGVuY2llcztcbiAgICB2YXIgb3B0cyA9IGV4dGVuZCh7XG4gICAgICAgIC8vIERlZmF1bHQgT3B0aW9uc1xuICAgICAgICBhZGRvbnM6IERleGllLmFkZG9ucyxcbiAgICAgICAgYXV0b09wZW46IHRydWUsXG4gICAgICAgIGluZGV4ZWREQjogZGVwcy5pbmRleGVkREIsXG4gICAgICAgIElEQktleVJhbmdlOiBkZXBzLklEQktleVJhbmdlIC8vIEJhY2tlbmQgSURCS2V5UmFuZ2UgYXBpLiBEZWZhdWx0IHRvIGJyb3dzZXIgZW52LlxuICAgIH0sIG9wdGlvbnMpO1xuICAgIHZhciBhZGRvbnMgPSBvcHRzLmFkZG9ucywgYXV0b09wZW4gPSBvcHRzLmF1dG9PcGVuLCBpbmRleGVkREIgPSBvcHRzLmluZGV4ZWREQiwgSURCS2V5UmFuZ2UgPSBvcHRzLklEQktleVJhbmdlO1xuICAgIHZhciBnbG9iYWxTY2hlbWEgPSB0aGlzLl9kYlNjaGVtYSA9IHt9O1xuICAgIHZhciB2ZXJzaW9ucyA9IFtdO1xuICAgIHZhciBkYlN0b3JlTmFtZXMgPSBbXTtcbiAgICB2YXIgYWxsVGFibGVzID0ge307XG4gICAgLy8vPHZhciB0eXBlPVwiSURCRGF0YWJhc2VcIiAvPlxuICAgIHZhciBpZGJkYiA9IG51bGw7IC8vIEluc3RhbmNlIG9mIElEQkRhdGFiYXNlXG4gICAgdmFyIGRiT3BlbkVycm9yID0gbnVsbDtcbiAgICB2YXIgaXNCZWluZ09wZW5lZCA9IGZhbHNlO1xuICAgIHZhciBvblJlYWR5QmVpbmdGaXJlZCA9IG51bGw7XG4gICAgdmFyIG9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgIHZhciBSRUFET05MWSA9IFwicmVhZG9ubHlcIiwgUkVBRFdSSVRFID0gXCJyZWFkd3JpdGVcIjtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIHZhciBkYlJlYWR5UmVzb2x2ZSwgZGJSZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBkYlJlYWR5UmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSksIGNhbmNlbE9wZW4sIG9wZW5DYW5jZWxsZXIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgIGNhbmNlbE9wZW4gPSByZWplY3Q7XG4gICAgfSk7XG4gICAgdmFyIGF1dG9TY2hlbWEgPSB0cnVlO1xuICAgIHZhciBoYXNOYXRpdmVHZXREYXRhYmFzZU5hbWVzID0gISFnZXROYXRpdmVHZXREYXRhYmFzZU5hbWVzRm4oaW5kZXhlZERCKSwgaGFzR2V0QWxsO1xuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIC8vIERlZmF1bHQgc3Vic2NyaWJlcnMgdG8gXCJ2ZXJzaW9uY2hhbmdlXCIgYW5kIFwiYmxvY2tlZFwiLlxuICAgICAgICAvLyBDYW4gYmUgb3ZlcnJpZGRlbiBieSBjdXN0b20gaGFuZGxlcnMuIElmIGN1c3RvbSBoYW5kbGVycyByZXR1cm4gZmFsc2UsIHRoZXNlIGRlZmF1bHRcbiAgICAgICAgLy8gYmVoYXZpb3VycyB3aWxsIGJlIHByZXZlbnRlZC5cbiAgICAgICAgZGIub24oXCJ2ZXJzaW9uY2hhbmdlXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCBiZWhhdmlvciBmb3IgdmVyc2lvbmNoYW5nZSBldmVudCBpcyB0byBjbG9zZSBkYXRhYmFzZSBjb25uZWN0aW9uLlxuICAgICAgICAgICAgLy8gQ2FsbGVyIGNhbiBvdmVycmlkZSB0aGlzIGJlaGF2aW9yIGJ5IGRvaW5nIGRiLm9uKFwidmVyc2lvbmNoYW5nZVwiLCBmdW5jdGlvbigpeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgICAgICAgICAgLy8gTGV0J3Mgbm90IGJsb2NrIHRoZSBvdGhlciB3aW5kb3cgZnJvbSBtYWtpbmcgaXQncyBkZWxldGUoKSBvciBvcGVuKCkgY2FsbC5cbiAgICAgICAgICAgIC8vIE5PVEUhIFRoaXMgZXZlbnQgaXMgbmV2ZXIgZmlyZWQgaW4gSUUsRWRnZSBvciBTYWZhcmkuXG4gICAgICAgICAgICBpZiAoZXYubmV3VmVyc2lvbiA+IDApXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQW5vdGhlciBjb25uZWN0aW9uIHdhbnRzIHRvIHVwZ3JhZGUgZGF0YWJhc2UgJ1wiICsgZGIubmFtZSArIFwiJy4gQ2xvc2luZyBkYiBub3cgdG8gcmVzdW1lIHRoZSB1cGdyYWRlLlwiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbm90aGVyIGNvbm5lY3Rpb24gd2FudHMgdG8gZGVsZXRlIGRhdGFiYXNlICdcIiArIGRiLm5hbWUgKyBcIicuIENsb3NpbmcgZGIgbm93IHRvIHJlc3VtZSB0aGUgZGVsZXRlIHJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIEluIG1hbnkgd2ViIGFwcGxpY2F0aW9ucywgaXQgd291bGQgYmUgcmVjb21tZW5kZWQgdG8gZm9yY2Ugd2luZG93LnJlbG9hZCgpXG4gICAgICAgICAgICAvLyB3aGVuIHRoaXMgZXZlbnQgb2NjdXJzLiBUbyBkbyB0aGF0LCBzdWJzY3JpYmUgdG8gdGhlIHZlcnNpb25jaGFuZ2UgZXZlbnRcbiAgICAgICAgICAgIC8vIGFuZCBjYWxsIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSkgaWYgZXYubmV3VmVyc2lvbiA+IDAgKG5vdCBhIGRlbGV0aW9uKVxuICAgICAgICAgICAgLy8gVGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IHlvdXIgY3VycmVudCB3ZWIgYXBwIG9idmlvdXNseSBoYXMgb2xkIHNjaGVtYSBjb2RlIHRoYXQgbmVlZHNcbiAgICAgICAgICAgIC8vIHRvIGJlIHVwZGF0ZWQuIEFub3RoZXIgd2luZG93IGdvdCBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIGFwcCBhbmQgbmVlZHMgdG8gdXBncmFkZSBEQiBidXRcbiAgICAgICAgICAgIC8vIHlvdXIgd2luZG93IGlzIGJsb2NraW5nIGl0IHVubGVzcyB3ZSBjbG9zZSBpdCBoZXJlLlxuICAgICAgICB9KTtcbiAgICAgICAgZGIub24oXCJibG9ja2VkXCIsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgaWYgKCFldi5uZXdWZXJzaW9uIHx8IGV2Lm5ld1ZlcnNpb24gPCBldi5vbGRWZXJzaW9uKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkRleGllLmRlbGV0ZSgnXCIgKyBkYi5uYW1lICsgXCInKSB3YXMgYmxvY2tlZFwiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJVcGdyYWRlICdcIiArIGRiLm5hbWUgKyBcIicgYmxvY2tlZCBieSBvdGhlciBjb25uZWN0aW9uIGhvbGRpbmcgdmVyc2lvbiBcIiArIGV2Lm9sZFZlcnNpb24gLyAxMCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlcnNpb25pbmcgRnJhbWV3b3JrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgdGhpcy52ZXJzaW9uID0gZnVuY3Rpb24gKHZlcnNpb25OdW1iZXIpIHtcbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmVyc2lvbk51bWJlclwiIHR5cGU9XCJOdW1iZXJcIj48L3BhcmFtPlxuICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIlZlcnNpb25cIj48L3JldHVybnM+XG4gICAgICAgIGlmIChpZGJkYiB8fCBpc0JlaW5nT3BlbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiQ2Fubm90IGFkZCB2ZXJzaW9uIHdoZW4gZGF0YWJhc2UgaXMgb3BlblwiKTtcbiAgICAgICAgdGhpcy52ZXJubyA9IE1hdGgubWF4KHRoaXMudmVybm8sIHZlcnNpb25OdW1iZXIpO1xuICAgICAgICB2YXIgdmVyc2lvbkluc3RhbmNlID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA9PT0gdmVyc2lvbk51bWJlcjsgfSlbMF07XG4gICAgICAgIGlmICh2ZXJzaW9uSW5zdGFuY2UpXG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbkluc3RhbmNlO1xuICAgICAgICB2ZXJzaW9uSW5zdGFuY2UgPSBuZXcgVmVyc2lvbih2ZXJzaW9uTnVtYmVyKTtcbiAgICAgICAgdmVyc2lvbnMucHVzaCh2ZXJzaW9uSW5zdGFuY2UpO1xuICAgICAgICB2ZXJzaW9ucy5zb3J0KGxvd2VyVmVyc2lvbkZpcnN0KTtcbiAgICAgICAgLy8gRGlzYWJsZSBhdXRvc2NoZW1hIG1vZGUsIGFzIGF0IGxlYXN0IG9uZSB2ZXJzaW9uIGlzIHNwZWNpZmllZC5cbiAgICAgICAgYXV0b1NjaGVtYSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdmVyc2lvbkluc3RhbmNlO1xuICAgIH07XG4gICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuX2NmZyA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IHZlcnNpb25OdW1iZXIsXG4gICAgICAgICAgICBzdG9yZXNTb3VyY2U6IG51bGwsXG4gICAgICAgICAgICBkYnNjaGVtYToge30sXG4gICAgICAgICAgICB0YWJsZXM6IHt9LFxuICAgICAgICAgICAgY29udGVudFVwZ3JhZGU6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9yZXMoe30pOyAvLyBEZXJpdmUgZWFybGllciBzY2hlbWFzIGJ5IGRlZmF1bHQuXG4gICAgfVxuICAgIGV4dGVuZChWZXJzaW9uLnByb3RvdHlwZSwge1xuICAgICAgICBzdG9yZXM6IGZ1bmN0aW9uIChzdG9yZXMpIHtcbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyAgIERlZmluZXMgdGhlIHNjaGVtYSBmb3IgYSBwYXJ0aWN1bGFyIHZlcnNpb25cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdG9yZXNcIiB0eXBlPVwiT2JqZWN0XCI+XG4gICAgICAgICAgICAvLy8gRXhhbXBsZTogPGJyLz5cbiAgICAgICAgICAgIC8vLyAgIHt1c2VyczogXCJpZCsrLGZpcnN0LGxhc3QsJmFtcDt1c2VybmFtZSwqZW1haWxcIiwgPGJyLz5cbiAgICAgICAgICAgIC8vLyAgIHBhc3N3b3JkczogXCJpZCsrLCZhbXA7dXNlcm5hbWVcIn08YnIvPlxuICAgICAgICAgICAgLy8vIDxici8+XG4gICAgICAgICAgICAvLy8gU3ludGF4OiB7VGFibGU6IFwiW3ByaW1hcnlLZXldWysrXSxbJmFtcDtdWypdaW5kZXgxLFsmYW1wO11bKl1pbmRleDIsLi4uXCJ9PGJyLz48YnIvPlxuICAgICAgICAgICAgLy8vIFNwZWNpYWwgY2hhcmFjdGVyczo8YnIvPlxuICAgICAgICAgICAgLy8vICBcIiZhbXA7XCIgIG1lYW5zIHVuaXF1ZSBrZXksIDxici8+XG4gICAgICAgICAgICAvLy8gIFwiKlwiICBtZWFucyB2YWx1ZSBpcyBtdWx0aUVudHJ5LCA8YnIvPlxuICAgICAgICAgICAgLy8vICBcIisrXCIgbWVhbnMgYXV0by1pbmNyZW1lbnQgYW5kIG9ubHkgYXBwbGljYWJsZSBmb3IgcHJpbWFyeSBrZXkgPGJyLz5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgdGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSA9IHRoaXMuX2NmZy5zdG9yZXNTb3VyY2UgPyBleHRlbmQodGhpcy5fY2ZnLnN0b3Jlc1NvdXJjZSwgc3RvcmVzKSA6IHN0b3JlcztcbiAgICAgICAgICAgIC8vIERlcml2ZSBzdG9yZXMgZnJvbSBlYXJsaWVyIHZlcnNpb25zIGlmIHRoZXkgYXJlIG5vdCBleHBsaWNpdGVseSBzcGVjaWZpZWQgYXMgbnVsbCBvciBhIG5ldyBzeW50YXguXG4gICAgICAgICAgICB2YXIgc3RvcmVzU3BlYyA9IHt9O1xuICAgICAgICAgICAgdmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgICAgIGV4dGVuZChzdG9yZXNTcGVjLCB2ZXJzaW9uLl9jZmcuc3RvcmVzU291cmNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGRic2NoZW1hID0gKHRoaXMuX2NmZy5kYnNjaGVtYSA9IHt9KTtcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlU3RvcmVzU3BlYyhzdG9yZXNTcGVjLCBkYnNjaGVtYSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGxhdGVzdCBzY2hlbWEgdG8gdGhpcyB2ZXJzaW9uXG4gICAgICAgICAgICAvLyBVcGRhdGUgQVBJXG4gICAgICAgICAgICBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBkYnNjaGVtYTtcbiAgICAgICAgICAgIHJlbW92ZVRhYmxlc0FwaShbYWxsVGFibGVzLCBkYiwgVHJhbnNhY3Rpb24ucHJvdG90eXBlXSk7IC8vIEtlZXAgVHJhbnNhY3Rpb24ucHJvdG90eXBlIGV2ZW4gdGhvdWdoIGl0IHNob3VsZCBiZSBkZXByLlxuICAgICAgICAgICAgc2V0QXBpT25QbGFjZShbYWxsVGFibGVzLCBkYiwgVHJhbnNhY3Rpb24ucHJvdG90eXBlLCB0aGlzLl9jZmcudGFibGVzXSwga2V5cyhkYnNjaGVtYSksIGRic2NoZW1hKTtcbiAgICAgICAgICAgIGRiU3RvcmVOYW1lcyA9IGtleXMoZGJzY2hlbWEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZ3JhZGU6IGZ1bmN0aW9uICh1cGdyYWRlRnVuY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2NmZy5jb250ZW50VXBncmFkZSA9IHVwZ3JhZGVGdW5jdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfcGFyc2VTdG9yZXNTcGVjOiBmdW5jdGlvbiAoc3RvcmVzLCBvdXRTY2hlbWEpIHtcbiAgICAgICAgICAgIGtleXMoc3RvcmVzKS5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVzW3RhYmxlTmFtZV0gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlVGVtcGxhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSBwYXJzZUluZGV4U3ludGF4KHN0b3Jlc1t0YWJsZU5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaW1LZXkgPSBpbmRleGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmltS2V5Lm11bHRpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiUHJpbWFyeSBrZXkgY2Fubm90IGJlIG11bHRpLXZhbHVlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1LZXkua2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpbnN0YW5jZVRlbXBsYXRlLCBwcmltS2V5LmtleVBhdGgsIHByaW1LZXkuYXV0byA/IDAgOiBwcmltS2V5LmtleVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleGVzLmZvckVhY2goZnVuY3Rpb24gKGlkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkeC5hdXRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIk9ubHkgcHJpbWFyeSBrZXkgY2FuIGJlIG1hcmtlZCBhcyBhdXRvSW5jcmVtZW50ICgrKylcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlkeC5rZXlQYXRoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlNjaGVtYShcIkluZGV4IG11c3QgaGF2ZSBhIG5hbWUgYW5kIGNhbm5vdCBiZSBhbiBlbXB0eSBzdHJpbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaW5zdGFuY2VUZW1wbGF0ZSwgaWR4LmtleVBhdGgsIGlkeC5jb21wb3VuZCA/IGlkeC5rZXlQYXRoLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBcIlwiOyB9KSA6IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0U2NoZW1hW3RhYmxlTmFtZV0gPSBuZXcgVGFibGVTY2hlbWEodGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzLCBpbnN0YW5jZVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHJ1blVwZ3JhZGVycyhvbGRWZXJzaW9uLCBpZGJ0cmFucywgcmVqZWN0KSB7XG4gICAgICAgIHZhciB0cmFucyA9IGRiLl9jcmVhdGVUcmFuc2FjdGlvbihSRUFEV1JJVEUsIGRiU3RvcmVOYW1lcywgZ2xvYmFsU2NoZW1hKTtcbiAgICAgICAgdHJhbnMuY3JlYXRlKGlkYnRyYW5zKTtcbiAgICAgICAgdHJhbnMuX2NvbXBsZXRpb24uY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgdmFyIHJlamVjdFRyYW5zYWN0aW9uID0gdHJhbnMuX3JlamVjdC5iaW5kKHRyYW5zKTtcbiAgICAgICAgbmV3U2NvcGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICBpZiAob2xkVmVyc2lvbiA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0YWJsZXM6XG4gICAgICAgICAgICAgICAga2V5cyhnbG9iYWxTY2hlbWEpLmZvckVhY2goZnVuY3Rpb24gKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5wcmltS2V5LCBnbG9iYWxTY2hlbWFbdGFibGVOYW1lXS5pbmRleGVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLmZvbGxvdyhmdW5jdGlvbiAoKSB7IHJldHVybiBkYi5vbi5wb3B1bGF0ZS5maXJlKHRyYW5zKTsgfSkuY2F0Y2gocmVqZWN0VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHVwZGF0ZVRhYmxlc0FuZEluZGV4ZXMob2xkVmVyc2lvbiwgdHJhbnMsIGlkYnRyYW5zKS5jYXRjaChyZWplY3RUcmFuc2FjdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUYWJsZXNBbmRJbmRleGVzKG9sZFZlcnNpb24sIHRyYW5zLCBpZGJ0cmFucykge1xuICAgICAgICAvLyBVcGdyYWRlIHZlcnNpb24gdG8gdmVyc2lvbiwgc3RlcC1ieS1zdGVwIGZyb20gb2xkZXN0IHRvIG5ld2VzdCB2ZXJzaW9uLlxuICAgICAgICAvLyBFYWNoIHRyYW5zYWN0aW9uIG9iamVjdCB3aWxsIGNvbnRhaW4gdGhlIHRhYmxlIHNldCB0aGF0IHdhcyBjdXJyZW50IGluIHRoYXQgdmVyc2lvbiAoYnV0IGFsc28gbm90LXlldC1kZWxldGVkIHRhYmxlcyBmcm9tIGl0cyBwcmV2aW91cyB2ZXJzaW9uKVxuICAgICAgICB2YXIgcXVldWUgPSBbXTtcbiAgICAgICAgdmFyIG9sZFZlcnNpb25TdHJ1Y3QgPSB2ZXJzaW9ucy5maWx0ZXIoZnVuY3Rpb24gKHZlcnNpb24pIHsgcmV0dXJuIHZlcnNpb24uX2NmZy52ZXJzaW9uID09PSBvbGRWZXJzaW9uOyB9KVswXTtcbiAgICAgICAgaWYgKCFvbGRWZXJzaW9uU3RydWN0KVxuICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVXBncmFkZShcIkRleGllIHNwZWNpZmljYXRpb24gb2YgY3VycmVudGx5IGluc3RhbGxlZCBEQiB2ZXJzaW9uIGlzIG1pc3NpbmdcIik7XG4gICAgICAgIGdsb2JhbFNjaGVtYSA9IGRiLl9kYlNjaGVtYSA9IG9sZFZlcnNpb25TdHJ1Y3QuX2NmZy5kYnNjaGVtYTtcbiAgICAgICAgdmFyIGFueUNvbnRlbnRVcGdyYWRlckhhc1J1biA9IGZhbHNlO1xuICAgICAgICB2YXIgdmVyc1RvUnVuID0gdmVyc2lvbnMuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2Ll9jZmcudmVyc2lvbiA+IG9sZFZlcnNpb247IH0pO1xuICAgICAgICB2ZXJzVG9SdW4uZm9yRWFjaChmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmVyc2lvblwiIHR5cGU9XCJWZXJzaW9uXCI+PC9wYXJhbT5cbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBvbGRTY2hlbWEgPSBnbG9iYWxTY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1NjaGVtYSA9IHZlcnNpb24uX2NmZy5kYnNjaGVtYTtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhvbGRTY2hlbWEsIGlkYnRyYW5zKTtcbiAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhuZXdTY2hlbWEsIGlkYnRyYW5zKTtcbiAgICAgICAgICAgICAgICBnbG9iYWxTY2hlbWEgPSBkYi5fZGJTY2hlbWEgPSBuZXdTY2hlbWE7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBnZXRTY2hlbWFEaWZmKG9sZFNjaGVtYSwgbmV3U2NoZW1hKTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGFibGVzICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUYWJsZShpZGJ0cmFucywgdHVwbGVbMF0sIHR1cGxlWzFdLnByaW1LZXksIHR1cGxlWzFdLmluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0YWJsZXNcbiAgICAgICAgICAgICAgICBkaWZmLmNoYW5nZS5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZS5yZWNyZWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuVXBncmFkZShcIk5vdCB5ZXQgc3VwcG9ydCBmb3IgY2hhbmdpbmcgcHJpbWFyeSBrZXlcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSBpZGJ0cmFucy5vYmplY3RTdG9yZShjaGFuZ2UubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgaW5kZXhlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmFkZC5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRJbmRleChzdG9yZSwgaWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIGluZGV4ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UuZm9yRWFjaChmdW5jdGlvbiAoaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGVsZXRlSW5kZXgoaWR4Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEluZGV4KHN0b3JlLCBpZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgaW5kZXhlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmRlbC5mb3JFYWNoKGZ1bmN0aW9uIChpZHhOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGVsZXRlSW5kZXgoaWR4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uLl9jZmcuY29udGVudFVwZ3JhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYW55Q29udGVudFVwZ3JhZGVySGFzUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuZm9sbG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnNpb24uX2NmZy5jb250ZW50VXBncmFkZSh0cmFucyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcXVldWUucHVzaChmdW5jdGlvbiAoaWRidHJhbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFueUNvbnRlbnRVcGdyYWRlckhhc1J1biB8fCAhaGFzSUVEZWxldGVPYmplY3RTdG9yZUJ1Zykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2NoZW1hID0gdmVyc2lvbi5fY2ZnLmRic2NoZW1hO1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgb2xkIHRhYmxlc1xuICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1vdmVkVGFibGVzKG5ld1NjaGVtYSwgaWRidHJhbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm93LCBjcmVhdGUgYSBxdWV1ZSBleGVjdXRpb24gZW5naW5lXG4gICAgICAgIGZ1bmN0aW9uIHJ1blF1ZXVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXVlLmxlbmd0aCA/IFByb21pc2UucmVzb2x2ZShxdWV1ZS5zaGlmdCgpKHRyYW5zLmlkYnRyYW5zKSkudGhlbihydW5RdWV1ZSkgOlxuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydW5RdWV1ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlTWlzc2luZ1RhYmxlcyhnbG9iYWxTY2hlbWEsIGlkYnRyYW5zKTsgLy8gQXQgbGFzdCwgbWFrZSBzdXJlIHRvIGNyZWF0ZSBhbnkgbWlzc2luZyB0YWJsZXMuIChOZWVkZWQgYnkgYWRkb25zIHRoYXQgYWRkIHN0b3JlcyB0byBEQiB3aXRob3V0IHNwZWNpZnlpbmcgdmVyc2lvbilcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNjaGVtYURpZmYob2xkU2NoZW1hLCBuZXdTY2hlbWEpIHtcbiAgICAgICAgdmFyIGRpZmYgPSB7XG4gICAgICAgICAgICBkZWw6IFtdLFxuICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgIGNoYW5nZTogW10gLy8gQXJyYXkgb2Yge25hbWU6IHRhYmxlTmFtZSwgcmVjcmVhdGU6IG5ld0RlZmluaXRpb24sIGRlbDogZGVsSW5kZXhOYW1lcywgYWRkOiBuZXdJbmRleERlZnMsIGNoYW5nZTogY2hhbmdlZEluZGV4RGVmc31cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgdGFibGUgaW4gb2xkU2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoIW5ld1NjaGVtYVt0YWJsZV0pXG4gICAgICAgICAgICAgICAgZGlmZi5kZWwucHVzaCh0YWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh0YWJsZSBpbiBuZXdTY2hlbWEpIHtcbiAgICAgICAgICAgIHZhciBvbGREZWYgPSBvbGRTY2hlbWFbdGFibGVdLCBuZXdEZWYgPSBuZXdTY2hlbWFbdGFibGVdO1xuICAgICAgICAgICAgaWYgKCFvbGREZWYpIHtcbiAgICAgICAgICAgICAgICBkaWZmLmFkZC5wdXNoKFt0YWJsZSwgbmV3RGVmXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0YWJsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBuZXdEZWYsXG4gICAgICAgICAgICAgICAgICAgIHJlY3JlYXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKG9sZERlZi5wcmltS2V5LnNyYyAhPT0gbmV3RGVmLnByaW1LZXkuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByaW1hcnkga2V5IGhhcyBjaGFuZ2VkLiBSZW1vdmUgYW5kIHJlLWFkZCB0YWJsZS5cbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlLnJlY3JlYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2FtZSBwcmltYXJ5IGtleS4gSnVzdCBmaW5kIG91dCB3aGF0IGRpZmZlcnM6XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbGRJbmRleGVzID0gb2xkRGVmLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4ZXMgPSBuZXdEZWYuaWR4QnlOYW1lO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpZHhOYW1lIGluIG9sZEluZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV3SW5kZXhlc1tpZHhOYW1lXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2UuZGVsLnB1c2goaWR4TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpZHhOYW1lIGluIG5ld0luZGV4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRJZHggPSBvbGRJbmRleGVzW2lkeE5hbWVdLCBuZXdJZHggPSBuZXdJbmRleGVzW2lkeE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGRJZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlLmFkZC5wdXNoKG5ld0lkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChvbGRJZHguc3JjICE9PSBuZXdJZHguc3JjKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2UucHVzaChuZXdJZHgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UuZGVsLmxlbmd0aCA+IDAgfHwgY2hhbmdlLmFkZC5sZW5ndGggPiAwIHx8IGNoYW5nZS5jaGFuZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5jaGFuZ2UucHVzaChjaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZShpZGJ0cmFucywgdGFibGVOYW1lLCBwcmltS2V5LCBpbmRleGVzKSB7XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImlkYnRyYW5zXCIgdHlwZT1cIklEQlRyYW5zYWN0aW9uXCI+PC9wYXJhbT5cbiAgICAgICAgdmFyIHN0b3JlID0gaWRidHJhbnMuZGIuY3JlYXRlT2JqZWN0U3RvcmUodGFibGVOYW1lLCBwcmltS2V5LmtleVBhdGggPyB7IGtleVBhdGg6IHByaW1LZXkua2V5UGF0aCwgYXV0b0luY3JlbWVudDogcHJpbUtleS5hdXRvIH0gOiB7IGF1dG9JbmNyZW1lbnQ6IHByaW1LZXkuYXV0byB9KTtcbiAgICAgICAgaW5kZXhlcy5mb3JFYWNoKGZ1bmN0aW9uIChpZHgpIHsgYWRkSW5kZXgoc3RvcmUsIGlkeCk7IH0pO1xuICAgICAgICByZXR1cm4gc3RvcmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1pc3NpbmdUYWJsZXMobmV3U2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICBrZXlzKG5ld1NjaGVtYSkuZm9yRWFjaChmdW5jdGlvbiAodGFibGVOYW1lKSB7XG4gICAgICAgICAgICBpZiAoIWlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnModGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGNyZWF0ZVRhYmxlKGlkYnRyYW5zLCB0YWJsZU5hbWUsIG5ld1NjaGVtYVt0YWJsZU5hbWVdLnByaW1LZXksIG5ld1NjaGVtYVt0YWJsZU5hbWVdLmluZGV4ZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVsZXRlUmVtb3ZlZFRhYmxlcyhuZXdTY2hlbWEsIGlkYnRyYW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRidHJhbnMuZGIub2JqZWN0U3RvcmVOYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHN0b3JlTmFtZSA9IGlkYnRyYW5zLmRiLm9iamVjdFN0b3JlTmFtZXNbaV07XG4gICAgICAgICAgICBpZiAobmV3U2NoZW1hW3N0b3JlTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlkYnRyYW5zLmRiLmRlbGV0ZU9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkSW5kZXgoc3RvcmUsIGlkeCkge1xuICAgICAgICBzdG9yZS5jcmVhdGVJbmRleChpZHgubmFtZSwgaWR4LmtleVBhdGgsIHsgdW5pcXVlOiBpZHgudW5pcXVlLCBtdWx0aUVudHJ5OiBpZHgubXVsdGkgfSk7XG4gICAgfVxuICAgIC8vXG4gICAgLy9cbiAgICAvLyAgICAgIERleGllIFByb3RlY3RlZCBBUElcbiAgICAvL1xuICAgIC8vXG4gICAgdGhpcy5fYWxsVGFibGVzID0gYWxsVGFibGVzO1xuICAgIHRoaXMuX2NyZWF0ZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGRic2NoZW1hLCBwYXJlbnRUcmFuc2FjdGlvbik7XG4gICAgfTtcbiAgICAvKiBHZW5lcmF0ZSBhIHRlbXBvcmFyeSB0cmFuc2FjdGlvbiB3aGVuIGRiIG9wZXJhdGlvbnMgYXJlIGRvbmUgb3V0c2lkZSBhIHRyYW5zYWN0aW9uIHNjb3BlLlxuICAgICovXG4gICAgZnVuY3Rpb24gdGVtcFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGZuKSB7XG4gICAgICAgIGlmICghb3BlbkNvbXBsZXRlICYmICghUFNELmxldFRocm91Z2gpKSB7XG4gICAgICAgICAgICBpZiAoIWlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF1dG9PcGVuKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgIGRiLm9wZW4oKS5jYXRjaChub3ApOyAvLyBPcGVuIGluIGJhY2tncm91bmQuIElmIGlmIGZhaWxzLCBpdCB3aWxsIGJlIGNhdGNoZWQgYnkgdGhlIGZpbmFsIHByb21pc2UgYW55d2F5LlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRiUmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGVtcFRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGZuKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdHJhbnMgPSBkYi5fY3JlYXRlVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZ2xvYmFsU2NoZW1hKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdHJhbnMuY3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1Njb3BlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgUFNELnRyYW5zID0gdHJhbnM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbihyZXNvbHZlLCByZWplY3QsIHRyYW5zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIC8vIEluc3RlYWQgb2YgcmVzb2x2aW5nIHZhbHVlIGRpcmVjdGx5LCB3YWl0IHdpdGggcmVzb2x2aW5nIGl0IHVudGlsIHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQuXG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBkYXRhIHdvdWxkIG5vdCBiZSBpbiB0aGUgREIgaWYgcmVxdWVzdGluZyBpdCBpbiB0aGUgdGhlbigpIG9wZXJhdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBTcGVjaWZpY2FsbHksIHRvIGVuc3VyZSB0aGF0IHRoZSBmb2xsb3dpbmcgZXhwcmVzc2lvbiB3aWxsIHdvcms6XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyAgIGRiLmZyaWVuZHMucHV0KHtuYW1lOiBcIkFybmVcIn0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAgIGRiLmZyaWVuZHMud2hlcmUoXCJuYW1lXCIpLmVxdWFscyhcIkFybmVcIikuY291bnQoZnVuY3Rpb24oY291bnQpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgYXNzZXJ0IChjb3VudCA9PT0gMSk7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gICB9KTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFucy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc3VsdDsgfSk7XG4gICAgICAgICAgICB9KTsgLyouY2F0Y2goZXJyID0+IHsgLy8gRG9uJ3QgZG8gdGhpcyBhcyBvZiBub3cuIElmIHdvdWxkIGFmZmVjdCBidWxrLSBhbmQgbW9kaWZ5IG1ldGhvZHMgaW4gYSB3YXkgdGhhdCBjb3VsZCBiZSBtb3JlIGludHVpdGl2ZS4gQnV0IHdhaXQhIE1heWJlIGNoYW5nZSBpbiBuZXh0IG1ham9yLlxuICAgICAgICAgICAgICAgIHRyYW5zLl9yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGVycik7XG4gICAgICAgICAgICB9KTsqL1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3doZW5SZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICByZXR1cm4gb3BlbkNvbXBsZXRlIHx8IFBTRC5sZXRUaHJvdWdoID8gZm4oKSA6IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmICghaXNCZWluZ09wZW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICghYXV0b09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBleGNlcHRpb25zLkRhdGFiYXNlQ2xvc2VkKCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRiLm9wZW4oKS5jYXRjaChub3ApOyAvLyBPcGVuIGluIGJhY2tncm91bmQuIElmIGlmIGZhaWxzLCBpdCB3aWxsIGJlIGNhdGNoZWQgYnkgdGhlIGZpbmFsIHByb21pc2UgYW55d2F5LlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGJSZWFkeVByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9KS50aGVuKGZuKTtcbiAgICB9O1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgLy8gICAgICBEZXhpZSBBUElcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICB0aGlzLnZlcm5vID0gMDtcbiAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0JlaW5nT3BlbmVkIHx8IGlkYmRiKVxuICAgICAgICAgICAgcmV0dXJuIGRiUmVhZHlQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gZGJPcGVuRXJyb3IgPyByZWplY3Rpb24oZGJPcGVuRXJyb3IpIDogZGI7IH0pO1xuICAgICAgICBkZWJ1ZyAmJiAob3BlbkNhbmNlbGxlci5fc3RhY2tIb2xkZXIgPSBnZXRFcnJvcldpdGhTdGFjaygpKTsgLy8gTGV0IHN0YWNrcyBwb2ludCB0byB3aGVuIG9wZW4oKSB3YXMgY2FsbGVkIHJhdGhlciB0aGFuIHdoZXJlIG5ldyBEZXhpZSgpIHdhcyBjYWxsZWQuXG4gICAgICAgIGlzQmVpbmdPcGVuZWQgPSB0cnVlO1xuICAgICAgICBkYk9wZW5FcnJvciA9IG51bGw7XG4gICAgICAgIG9wZW5Db21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAvLyBGdW5jdGlvbiBwb2ludGVycyB0byBjYWxsIHdoZW4gdGhlIGNvcmUgb3BlbmluZyBwcm9jZXNzIGNvbXBsZXRlcy5cbiAgICAgICAgdmFyIHJlc29sdmVEYlJlYWR5ID0gZGJSZWFkeVJlc29sdmUsIFxuICAgICAgICAvLyB1cGdyYWRlVHJhbnNhY3Rpb24gdG8gYWJvcnQgb24gZmFpbHVyZS5cbiAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmFjZShbb3BlbkNhbmNlbGxlciwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIC8vIE11bHRpcGx5IGRiLnZlcm5vIHdpdGggMTAgd2lsbCBiZSBuZWVkZWQgdG8gd29ya2Fyb3VuZCB1cGdyYWRpbmcgYnVnIGluIElFOlxuICAgICAgICAgICAgICAgIC8vIElFIGZhaWxzIHdoZW4gZGVsZXRpbmcgb2JqZWN0U3RvcmUgYWZ0ZXIgcmVhZGluZyBmcm9tIGl0LlxuICAgICAgICAgICAgICAgIC8vIEEgZnV0dXJlIHZlcnNpb24gb2YgRGV4aWUuanMgd2lsbCBzdG9wb3ZlciBhbiBpbnRlcm1lZGlhdGUgdmVyc2lvbiB0byB3b3JrYXJvdW5kIHRoaXMuXG4gICAgICAgICAgICAgICAgLy8gQXQgdGhhdCBwb2ludCwgd2Ugd2FudCB0byBiZSBiYWNrd2FyZCBjb21wYXRpYmxlLiBDb3VsZCBoYXZlIGJlZW4gbXVsdGlwbGllZCB3aXRoIDIsIGJ1dCBieSB1c2luZyAxMCwgaXQgaXMgZWFzaWVyIHRvIG1hcCB0aGUgbnVtYmVyIHRvIHRoZSByZWFsIHZlcnNpb24gbnVtYmVyLlxuICAgICAgICAgICAgICAgIC8vIElmIG5vIEFQSSwgdGhyb3chXG4gICAgICAgICAgICAgICAgaWYgKCFpbmRleGVkREIpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoXCJpbmRleGVkREIgQVBJIG5vdCBmb3VuZC4gSWYgdXNpbmcgSUUxMCssIG1ha2Ugc3VyZSB0byBydW4geW91ciBjb2RlIG9uIGEgc2VydmVyIFVSTCBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIihub3QgbG9jYWxseSkuIElmIHVzaW5nIG9sZCBTYWZhcmkgdmVyc2lvbnMsIG1ha2Ugc3VyZSB0byBpbmNsdWRlIGluZGV4ZWREQiBwb2x5ZmlsbC5cIik7XG4gICAgICAgICAgICAgICAgdmFyIHJlcSA9IGF1dG9TY2hlbWEgPyBpbmRleGVkREIub3BlbihkYk5hbWUpIDogaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBNYXRoLnJvdW5kKGRiLnZlcm5vICogMTApKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuTWlzc2luZ0FQSShcIkluZGV4ZWREQiBBUEkgbm90IGF2YWlsYWJsZVwiKTsgLy8gTWF5IGhhcHBlbiBpbiBTYWZhcmkgcHJpdmF0ZSBtb2RlLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2RmYWhsYW5kZXIvRGV4aWUuanMvaXNzdWVzLzEzNFxuICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgcmVxLm9uYmxvY2tlZCA9IHdyYXAoZmlyZU9uQmxvY2tlZCk7XG4gICAgICAgICAgICAgICAgcmVxLm9udXBncmFkZW5lZWRlZCA9IHdyYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uID0gcmVxLnRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b1NjaGVtYSAmJiAhZGIuX2FsbG93RW1wdHlEQikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbGVyIGRpZCBub3Qgc3BlY2lmeSBhIHZlcnNpb24gb3Igc2NoZW1hLiBEb2luZyB0aGF0IGlzIG9ubHkgYWNjZXB0YWJsZSBmb3Igb3BlbmluZyBhbHJlYWQgZXhpc3RpbmcgZGF0YWJhc2VzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgb251cGdyYWRlbmVlZGVkIGlzIGNhbGxlZCBpdCBtZWFucyBkYXRhYmFzZSBkaWQgbm90IGV4aXN0LiBSZWplY3QgdGhlIG9wZW4oKSBwcm9taXNlIGFuZCBtYWtlIHN1cmUgdGhhdCB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGNyZWF0ZSBhIG5ldyBkYXRhYmFzZSBieSBhY2NpZGVudCBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBwcmV2ZW50RGVmYXVsdDsgLy8gUHJvaGliaXQgb25hYm9ydCBlcnJvciBmcm9tIGZpcmluZyBiZWZvcmUgd2UncmUgZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZ3JhZGVUcmFuc2FjdGlvbi5hYm9ydCgpOyAvLyBBYm9ydCB0cmFuc2FjdGlvbiAod291bGQgaG9wZSB0aGF0IHRoaXMgd291bGQgbWFrZSBEQiBkaXNhcHBlYXIgYnV0IGl0IGRvZXNudC4pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSBkYXRhYmFzZSBhbmQgZGVsZXRlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpOyAvLyBUaGUgdXBncmFkZSB0cmFuc2FjdGlvbiBpcyBhdG9taWMsIGFuZCBqYXZhc2NyaXB0IGlzIHNpbmdsZSB0aHJlYWRlZCAtIG1lYW5pbmcgdGhhdCB0aGVyZSBpcyBubyByaXNrIHRoYXQgd2UgZGVsZXRlIHNvbWVvbmUgZWxzZXMgZGF0YWJhc2UgaGVyZSFcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHJlcS5vbnN1Y2Nlc3MgPSBkZWxyZXEub25lcnJvciA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgZXhjZXB0aW9ucy5Ob1N1Y2hEYXRhYmFzZShcIkRhdGFiYXNlIFwiICsgZGJOYW1lICsgXCIgZG9lc250IGV4aXN0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBncmFkZVRyYW5zYWN0aW9uLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRWZXIgPSBlLm9sZFZlcnNpb24gPiBNYXRoLnBvdygyLCA2MikgPyAwIDogZS5vbGRWZXJzaW9uOyAvLyBTYWZhcmkgOCBmaXguXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5VcGdyYWRlcnMob2xkVmVyIC8gMTAsIHVwZ3JhZGVUcmFuc2FjdGlvbiwgcmVqZWN0LCByZXEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENvcmUgb3BlbmluZyBwcm9jZWR1cmUgY29tcGxldGUuIE5vdyBsZXQncyBqdXN0IHJlY29yZCBzb21lIHN0dWZmLlxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZGJkYiA9IHJlcS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25zLnB1c2goZGIpOyAvLyBVc2VkIGZvciBlbXVsYXRpbmcgdmVyc2lvbmNoYW5nZSBldmVudCBvbiBJRS9FZGdlL1NhZmFyaS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9TY2hlbWEpXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkR2xvYmFsU2NoZW1hKCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlkYmRiLm9iamVjdFN0b3JlTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RUb0V4aXN0aW5nSW5kZXhOYW1lcyhnbG9iYWxTY2hlbWEsIGlkYmRiLnRyYW5zYWN0aW9uKHNhZmFyaU11bHRpU3RvcmVGaXgoaWRiZGIub2JqZWN0U3RvcmVOYW1lcyksIFJFQURPTkxZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSBtYXkgYmFpbCBvdXQgaWYgPiAxIHN0b3JlIG5hbWVzLiBIb3dldmVyLCB0aGlzIHNob3VsZG50IGJlIGEgc2hvd3N0b3BwZXIuIElzc3VlICMxMjAuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWRiZGIub252ZXJzaW9uY2hhbmdlID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLl92Y0ZpcmVkID0gdHJ1ZTsgLy8gZGV0ZWN0IGltcGxlbWVudGF0aW9ucyB0aGF0IG5vdCBzdXBwb3J0IHZlcnNpb25jaGFuZ2UgKElFL0VkZ2UvU2FmYXJpKVxuICAgICAgICAgICAgICAgICAgICAgICAgZGIub24oXCJ2ZXJzaW9uY2hhbmdlXCIpLmZpcmUoZXYpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNOYXRpdmVHZXREYXRhYmFzZU5hbWVzICYmIGRiTmFtZSAhPT0gJ19fZGJuYW1lcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiTmFtZXNEQi5kYm5hbWVzLnB1dCh7IG5hbWU6IGRiTmFtZSB9KS5jYXRjaChub3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfSldKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBmaW5hbGx5IHJlc29sdmluZyB0aGUgZGJSZWFkeVByb21pc2UgYW5kIHRoaXMgcHJvbWlzZSxcbiAgICAgICAgICAgIC8vIGNhbGwgYW5kIGF3YWl0IGFsbCBvbigncmVhZHknKSBzdWJzY3JpYmVyczpcbiAgICAgICAgICAgIC8vIERleGllLnZpcCgpIG1ha2VzIHN1YnNjcmliZXJzIGFibGUgdG8gdXNlIHRoZSBkYXRhYmFzZSB3aGlsZSBiZWluZyBvcGVuZWQuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgbXVzdCBzaW5jZSB0aGVzZSBzdWJzY3JpYmVycyB0YWtlIHBhcnQgb2YgdGhlIG9wZW5pbmcgcHJvY2VkdXJlLlxuICAgICAgICAgICAgb25SZWFkeUJlaW5nRmlyZWQgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoRGV4aWUudmlwKGRiLm9uLnJlYWR5LmZpcmUpKS50aGVuKGZ1bmN0aW9uIGZpcmVSZW1haW5kZXJzKCkge1xuICAgICAgICAgICAgICAgIGlmIChvblJlYWR5QmVpbmdGaXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIGNhc2UgYWRkaXRpb25hbCBzdWJzY3JpYmVycyB0byBkYi5vbigncmVhZHknKSB3ZXJlIGFkZGVkIGR1cmluZyB0aGUgdGltZSBkYi5vbi5yZWFkeS5maXJlIHdhcyBleGVjdXRlZC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbWFpbmRlcnMgPSBvblJlYWR5QmVpbmdGaXJlZC5yZWR1Y2UocHJvbWlzYWJsZUNoYWluLCBub3ApO1xuICAgICAgICAgICAgICAgICAgICBvblJlYWR5QmVpbmdGaXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKERleGllLnZpcChyZW1haW5kZXJzKSkudGhlbihmaXJlUmVtYWluZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25SZWFkeUJlaW5nRmlyZWQgPSBudWxsO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIGRiLm9wZW4oKSB3aXRoIHRoZSBkYiBpbnN0YW5jZS5cbiAgICAgICAgICAgIGlzQmVpbmdPcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBkYjtcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBEaWQgd2UgZmFpbCB3aXRoaW4gb251cGdyYWRlbmVlZGVkPyBNYWtlIHN1cmUgdG8gYWJvcnQgdGhlIHVwZ3JhZGUgdHJhbnNhY3Rpb24gc28gaXQgZG9lc250IGNvbW1pdC5cbiAgICAgICAgICAgICAgICB1cGdyYWRlVHJhbnNhY3Rpb24gJiYgdXBncmFkZVRyYW5zYWN0aW9uLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICBpc0JlaW5nT3BlbmVkID0gZmFsc2U7IC8vIFNldCBiZWZvcmUgY2FsbGluZyBkYi5jbG9zZSgpIHNvIHRoYXQgaXQgZG9lc250IHJlamVjdCBvcGVuQ2FuY2VsbGVyIGFnYWluIChsZWFkcyB0byB1bmhhbmRsZWQgcmVqZWN0aW9uIGV2ZW50KS5cbiAgICAgICAgICAgIGRiLmNsb3NlKCk7IC8vIENsb3NlcyBhbmQgcmVzZXRzIGlkYmRiLCByZW1vdmVzIGNvbm5lY3Rpb25zLCByZXNldHMgZGJSZWFkeVByb21pc2UgYW5kIG9wZW5DYW5jZWxsZXIgc28gdGhhdCBhIGxhdGVyIGRiLm9wZW4oKSBpcyBmcmVzaC5cbiAgICAgICAgICAgIC8vIEEgY2FsbCB0byBkYi5jbG9zZSgpIG1heSBoYXZlIG1hZGUgb24tcmVhZHkgc3Vic2NyaWJlcnMgZmFpbC4gVXNlIGRiT3BlbkVycm9yIGlmIHNldCwgc2luY2UgZXJyIGNvdWxkIGJlIGEgZm9sbG93LXVwIGVycm9yIG9uIHRoYXQuXG4gICAgICAgICAgICBkYk9wZW5FcnJvciA9IGVycjsgLy8gUmVjb3JkIHRoZSBlcnJvci4gSXQgd2lsbCBiZSB1c2VkIHRvIHJlamVjdCBmdXJ0aGVyIHByb21pc2VzIG9mIGRiIG9wZXJhdGlvbnMuXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0aW9uKGRiT3BlbkVycm9yKTtcbiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBvcGVuQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgcmVzb2x2ZURiUmVhZHkoKTsgLy8gZGJSZWFkeVByb21pc2UgaXMgcmVzb2x2ZWQgbm8gbWF0dGVyIGlmIG9wZW4oKSByZWplY3RzIG9yIHJlc29sdmVkLiBJdCdzIGp1c3QgdG8gd2FrZSB1cCB3YWl0ZXJzLlxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpZHggPSBjb25uZWN0aW9ucy5pbmRleE9mKGRiKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKVxuICAgICAgICAgICAgY29ubmVjdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIGlmIChpZGJkYikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZGJkYi5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWRiZGIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGF1dG9PcGVuID0gZmFsc2U7XG4gICAgICAgIGRiT3BlbkVycm9yID0gbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoKTtcbiAgICAgICAgaWYgKGlzQmVpbmdPcGVuZWQpXG4gICAgICAgICAgICBjYW5jZWxPcGVuKGRiT3BlbkVycm9yKTtcbiAgICAgICAgLy8gUmVzZXQgZGJSZWFkeVByb21pc2UgcHJvbWlzZTpcbiAgICAgICAgZGJSZWFkeVByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgZGJSZWFkeVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICB9KTtcbiAgICAgICAgb3BlbkNhbmNlbGxlciA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChfLCByZWplY3QpIHtcbiAgICAgICAgICAgIGNhbmNlbE9wZW4gPSByZWplY3Q7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoYXNBcmd1bWVudHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNBcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiQXJndW1lbnRzIG5vdCBhbGxvd2VkIGluIGRiLmRlbGV0ZSgpXCIpO1xuICAgICAgICAgICAgaWYgKGlzQmVpbmdPcGVuZWQpIHtcbiAgICAgICAgICAgICAgICBkYlJlYWR5UHJvbWlzZS50aGVuKGRvRGVsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvRGVsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBkb0RlbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIHZhciByZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcbiAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzTmF0aXZlR2V0RGF0YWJhc2VOYW1lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGJOYW1lc0RCLmRibmFtZXMuZGVsZXRlKGRiTmFtZSkuY2F0Y2gobm9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICByZXEub25ibG9ja2VkID0gZmlyZU9uQmxvY2tlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmJhY2tlbmREQiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlkYmRiO1xuICAgIH07XG4gICAgdGhpcy5pc09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpZGJkYiAhPT0gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuaGFzQmVlbkNsb3NlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRiT3BlbkVycm9yICYmIChkYk9wZW5FcnJvciBpbnN0YW5jZW9mIGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQpO1xuICAgIH07XG4gICAgdGhpcy5oYXNGYWlsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkYk9wZW5FcnJvciAhPT0gbnVsbDtcbiAgICB9O1xuICAgIHRoaXMuZHluYW1pY2FsbHlPcGVuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhdXRvU2NoZW1hO1xuICAgIH07XG4gICAgLy9cbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgLy9cbiAgICB0aGlzLm5hbWUgPSBkYk5hbWU7XG4gICAgLy8gZGIudGFibGVzIC0gYW4gYXJyYXkgb2YgYWxsIFRhYmxlIGluc3RhbmNlcy5cbiAgICBwcm9wcyh0aGlzLCB7XG4gICAgICAgIHRhYmxlczoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJBcnJheVwiIGVsZW1lbnRUeXBlPVwiVGFibGVcIiAvPlxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzKGFsbFRhYmxlcykubWFwKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBhbGxUYWJsZXNbbmFtZV07IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy9cbiAgICAvLyBFdmVudHNcbiAgICAvL1xuICAgIHRoaXMub24gPSBFdmVudHModGhpcywgXCJwb3B1bGF0ZVwiLCBcImJsb2NrZWRcIiwgXCJ2ZXJzaW9uY2hhbmdlXCIsIHsgcmVhZHk6IFtwcm9taXNhYmxlQ2hhaW4sIG5vcF0gfSk7XG4gICAgdGhpcy5vbi5yZWFkeS5zdWJzY3JpYmUgPSBvdmVycmlkZSh0aGlzLm9uLnJlYWR5LnN1YnNjcmliZSwgZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIsIGJTdGlja3kpIHtcbiAgICAgICAgICAgIERleGllLnZpcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wZW5Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBhbHJlYWR5IG9wZW4uIENhbGwgc3Vic2NyaWJlciBhc2FwLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRiT3BlbkVycm9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYlN0aWNreTogQWxzbyBzdWJzY3JpYmUgdG8gZnV0dXJlIG9wZW4gc3VjZXNzZXMgKGFmdGVyIGNsb3NlIC8gcmVvcGVuKSBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJTdGlja3kpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG9uUmVhZHlCZWluZ0ZpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRiLm9uKCdyZWFkeScpIHN1YnNjcmliZXJzIGFyZSBjdXJyZW50bHkgYmVpbmcgZXhlY3V0ZWQgYW5kIGhhdmUgbm90IHlldCByZXNvbHZlZCBvciByZWplY3RlZFxuICAgICAgICAgICAgICAgICAgICBvblJlYWR5QmVpbmdGaXJlZC5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYlN0aWNreSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERhdGFiYXNlIG5vdCB5ZXQgb3Blbi4gU3Vic2NyaWJlIHRvIGl0LlxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGJTdGlja3kgaXMgZmFsc3ksIG1ha2Ugc3VyZSB0byB1bnN1YnNjcmliZSBzdWJzY3JpYmVyIHdoZW4gZmlyZWQgb25jZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiU3RpY2t5KVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlKGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLm9uLnJlYWR5LnVuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLm9uLnJlYWR5LnVuc3Vic2NyaWJlKHVuc3Vic2NyaWJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMudHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vLyA8c3VtbWFyeT5cbiAgICAgICAgLy8vXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm1vZGVcIiB0eXBlPVwiU3RyaW5nXCI+XCJyXCIgZm9yIHJlYWRvbmx5LCBvciBcInJ3XCIgZm9yIHJlYWR3cml0ZTwvcGFyYW0+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInRhYmxlSW5zdGFuY2VzXCI+VGFibGUgaW5zdGFuY2UsIEFycmF5IG9mIFRhYmxlIGluc3RhbmNlcywgU3RyaW5nIG9yIFN0cmluZyBBcnJheSBvZiBvYmplY3Qgc3RvcmVzIHRvIGluY2x1ZGUgaW4gdGhlIHRyYW5zYWN0aW9uPC9wYXJhbT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic2NvcGVGdW5jXCIgdHlwZT1cIkZ1bmN0aW9uXCI+RnVuY3Rpb24gdG8gZXhlY3V0ZSB3aXRoIHRyYW5zYWN0aW9uPC9wYXJhbT5cbiAgICAgICAgdmFyIGFyZ3MgPSBleHRyYWN0VHJhbnNhY3Rpb25BcmdzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc2FjdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGV4dHJhY3RUcmFuc2FjdGlvbkFyZ3MobW9kZSwgX3RhYmxlQXJnc18sIHNjb3BlRnVuYykge1xuICAgICAgICAvLyBMZXQgdGFibGUgYXJndW1lbnRzIGJlIGFsbCBhcmd1bWVudHMgYmV0d2VlbiBtb2RlIGFuZCBsYXN0IGFyZ3VtZW50LlxuICAgICAgICB2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIGlmIChpIDwgMilcbiAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIlRvbyBmZXcgYXJndW1lbnRzXCIpO1xuICAgICAgICAvLyBQcmV2ZW50IG9wdGltemF0aW9uIGtpbGxlciAoaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMyLWxlYWtpbmctYXJndW1lbnRzKVxuICAgICAgICAvLyBhbmQgY2xvbmUgYXJndW1lbnRzIGV4Y2VwdCB0aGUgZmlyc3Qgb25lIGludG8gbG9jYWwgdmFyICdhcmdzJy5cbiAgICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoaSAtIDEpO1xuICAgICAgICB3aGlsZSAoLS1pKVxuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIC8vIExldCBzY29wZUZ1bmMgYmUgdGhlIGxhc3QgYXJndW1lbnQgYW5kIHBvcCBpdCBzbyB0aGF0IGFyZ3Mgbm93IG9ubHkgY29udGFpbiB0aGUgdGFibGUgYXJndW1lbnRzLlxuICAgICAgICBzY29wZUZ1bmMgPSBhcmdzLnBvcCgpO1xuICAgICAgICB2YXIgdGFibGVzID0gZmxhdHRlbihhcmdzKTsgLy8gU3VwcG9ydCB1c2luZyBhcnJheSBhcyBtaWRkbGUgYXJndW1lbnQsIG9yIGEgbWl4IG9mIGFycmF5cyBhbmQgbm9uLWFycmF5cy5cbiAgICAgICAgcmV0dXJuIFttb2RlLCB0YWJsZXMsIHNjb3BlRnVuY107XG4gICAgfVxuICAgIHRoaXMuX3RyYW5zYWN0aW9uID0gZnVuY3Rpb24gKG1vZGUsIHRhYmxlcywgc2NvcGVGdW5jKSB7XG4gICAgICAgIHZhciBwYXJlbnRUcmFuc2FjdGlvbiA9IFBTRC50cmFucztcbiAgICAgICAgLy8gQ2hlY2sgaWYgcGFyZW50IHRyYW5zYWN0aW9ucyBpcyBib3VuZCB0byB0aGlzIGRiIGluc3RhbmNlLCBhbmQgaWYgY2FsbGVyIHdhbnRzIHRvIHJldXNlIGl0XG4gICAgICAgIGlmICghcGFyZW50VHJhbnNhY3Rpb24gfHwgcGFyZW50VHJhbnNhY3Rpb24uZGIgIT09IGRiIHx8IG1vZGUuaW5kZXhPZignIScpICE9PSAtMSlcbiAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uID0gbnVsbDtcbiAgICAgICAgdmFyIG9ubHlJZkNvbXBhdGlibGUgPSBtb2RlLmluZGV4T2YoJz8nKSAhPT0gLTE7XG4gICAgICAgIG1vZGUgPSBtb2RlLnJlcGxhY2UoJyEnLCAnJykucmVwbGFjZSgnPycsICcnKTsgLy8gT2suIFdpbGwgY2hhbmdlIGFyZ3VtZW50c1swXSBhcyB3ZWxsIGJ1dCB3ZSB3b250IHRvdWNoIGFyZ3VtZW50cyBoZW5jZWZvcnRoLlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEdldCBzdG9yZU5hbWVzIGZyb20gYXJndW1lbnRzLiBFaXRoZXIgdGhyb3VnaCBnaXZlbiB0YWJsZSBpbnN0YW5jZXMsIG9yIHRocm91Z2ggZ2l2ZW4gdGFibGUgbmFtZXMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdmFyIHN0b3JlTmFtZXMgPSB0YWJsZXMubWFwKGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSB0YWJsZSBpbnN0YW5jZW9mIFRhYmxlID8gdGFibGUubmFtZSA6IHRhYmxlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RvcmVOYW1lICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFibGUgYXJndW1lbnQgdG8gRGV4aWUudHJhbnNhY3Rpb24oKS4gT25seSBUYWJsZSBvciBTdHJpbmcgYXJlIGFsbG93ZWRcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlTmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFJlc29sdmUgbW9kZS4gQWxsb3cgc2hvcnRjdXRzIFwiclwiIGFuZCBcInJ3XCIuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgaWYgKG1vZGUgPT0gXCJyXCIgfHwgbW9kZSA9PSBSRUFET05MWSlcbiAgICAgICAgICAgICAgICBtb2RlID0gUkVBRE9OTFk7XG4gICAgICAgICAgICBlbHNlIGlmIChtb2RlID09IFwicndcIiB8fCBtb2RlID09IFJFQURXUklURSlcbiAgICAgICAgICAgICAgICBtb2RlID0gUkVBRFdSSVRFO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkludmFsaWQgdHJhbnNhY3Rpb24gbW9kZTogXCIgKyBtb2RlKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIEJhc2ljIGNoZWNrc1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbi5tb2RlID09PSBSRUFET05MWSAmJiBtb2RlID09PSBSRUFEV1JJVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9ubHlJZkNvbXBhdGlibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwYXduIG5ldyB0cmFuc2FjdGlvbiBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VHJhbnNhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlN1YlRyYW5zYWN0aW9uKFwiQ2Fubm90IGVudGVyIGEgc3ViLXRyYW5zYWN0aW9uIHdpdGggUkVBRFdSSVRFIG1vZGUgd2hlbiBwYXJlbnQgdHJhbnNhY3Rpb24gaXMgUkVBRE9OTFlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uICYmIHBhcmVudFRyYW5zYWN0aW9uLnN0b3JlTmFtZXMuaW5kZXhPZihzdG9yZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwYXduIG5ldyB0cmFuc2FjdGlvbiBpbnN0ZWFkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU3ViVHJhbnNhY3Rpb24oXCJUYWJsZSBcIiArIHN0b3JlTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBub3QgaW5jbHVkZWQgaW4gcGFyZW50IHRyYW5zYWN0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvbmx5SWZDb21wYXRpYmxlICYmIHBhcmVudFRyYW5zYWN0aW9uICYmICFwYXJlbnRUcmFuc2FjdGlvbi5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gJz8nIG1vZGUgc2hvdWxkIG5vdCBrZWVwIHVzaW5nIGFuIGluYWN0aXZlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50VHJhbnNhY3Rpb24gP1xuICAgICAgICAgICAgICAgIHBhcmVudFRyYW5zYWN0aW9uLl9wcm9taXNlKG51bGwsIGZ1bmN0aW9uIChfLCByZWplY3QpIHsgcmVqZWN0KGUpOyB9KSA6XG4gICAgICAgICAgICAgICAgcmVqZWN0aW9uKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdWItdHJhbnNhY3Rpb24sIGxvY2sgdGhlIHBhcmVudCBhbmQgdGhlbiBsYXVuY2ggdGhlIHN1Yi10cmFuc2FjdGlvbi5cbiAgICAgICAgcmV0dXJuIChwYXJlbnRUcmFuc2FjdGlvbiA/XG4gICAgICAgICAgICBwYXJlbnRUcmFuc2FjdGlvbi5fcHJvbWlzZShtb2RlLCBlbnRlclRyYW5zYWN0aW9uU2NvcGUsIFwibG9ja1wiKSA6XG4gICAgICAgICAgICBQU0QudHJhbnMgP1xuICAgICAgICAgICAgICAgIC8vIG5vIHBhcmVudCB0cmFuc2FjdGlvbiBkZXNwaXRlIFBTRC50cmFucyBleGlzdHMuIE1ha2Ugc3VyZSBhbHNvXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGUgem9uZSB3ZSBjcmVhdGUgaXMgbm90IGEgc3ViLXpvbmUgb2YgY3VycmVudCwgYmVjYXVzZVxuICAgICAgICAgICAgICAgIC8vIFByb21pc2UuZm9sbG93KCkgc2hvdWxkIG5vdCB3YWl0IGZvciBpdCBpZiBzby5cbiAgICAgICAgICAgICAgICB1c2VQU0QoUFNELnRyYW5zbGVzcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGIuX3doZW5SZWFkeShlbnRlclRyYW5zYWN0aW9uU2NvcGUpOyB9KSA6XG4gICAgICAgICAgICAgICAgZGIuX3doZW5SZWFkeShlbnRlclRyYW5zYWN0aW9uU2NvcGUpKTtcbiAgICAgICAgZnVuY3Rpb24gZW50ZXJUcmFuc2FjdGlvblNjb3BlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIEtlZXAgYSBwb2ludGVyIHRvIGxhc3Qgbm9uLXRyYW5zYWN0aW9uYWwgUFNEIHRvIHVzZSBpZiBzb21lb25lIGNhbGxzIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKCkuXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGVzcyA9IFBTRC50cmFuc2xlc3MgfHwgUFNEO1xuICAgICAgICAgICAgICAgIC8vIE91ciB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAvL3JldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zID0gZGIuX2NyZWF0ZVRyYW5zYWN0aW9uKG1vZGUsIHN0b3JlTmFtZXMsIGdsb2JhbFNjaGVtYSwgcGFyZW50VHJhbnNhY3Rpb24pO1xuICAgICAgICAgICAgICAgIC8vIExldCB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2UgYmUgcGFydCBvZiBhIFByb21pc2Utc3BlY2lmaWMgZGF0YSAoUFNEKSB2YWx1ZS5cbiAgICAgICAgICAgICAgICB2YXIgem9uZVByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICB0cmFuczogdHJhbnMsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGVzczogdHJhbnNsZXNzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRW11bGF0ZSB0cmFuc2FjdGlvbiBjb21taXQgYXdhcmVuZXNzIGZvciBpbm5lciB0cmFuc2FjdGlvbiAobXVzdCAnY29tbWl0JyB3aGVuIHRoZSBpbm5lciB0cmFuc2FjdGlvbiBoYXMgbm8gbW9yZSBvcGVyYXRpb25zIG9uZ29pbmcpXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLmlkYnRyYW5zID0gcGFyZW50VHJhbnNhY3Rpb24uaWRidHJhbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFucy5jcmVhdGUoKTsgLy8gQ3JlYXRlIHRoZSBiYWNrZW5kIHRyYW5zYWN0aW9uIHNvIHRoYXQgY29tcGxldGUoKSBvciBlcnJvcigpIHdpbGwgdHJpZ2dlciBldmVuIGlmIG5vIG9wZXJhdGlvbiBpcyBtYWRlIHVwb24gaXQuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgZm9yIG5hdGl2ZSBhc3luYyBhd2FpdC5cbiAgICAgICAgICAgICAgICBpZiAoc2NvcGVGdW5jLmNvbnN0cnVjdG9yID09PSBBc3luY0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudEV4cGVjdGVkQXdhaXRzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZUZvbGxvd2VkID0gUHJvbWlzZS5mb2xsb3coZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbGx5LCBjYWxsIHRoZSBzY29wZSBmdW5jdGlvbiB3aXRoIG91ciB0YWJsZSBhbmQgdHJhbnNhY3Rpb24gYXJndW1lbnRzLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHNjb3BlRnVuYy5jYWxsKHRyYW5zLCB0cmFucyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlLmNvbnN0cnVjdG9yID09PSBOYXRpdmVQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY3JlbWVudG9yID0gZGVjcmVtZW50RXhwZWN0ZWRBd2FpdHMuYmluZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKGRlY3JlbWVudG9yLCBkZWNyZW1lbnRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUubmV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY29wZUZ1bmMgcmV0dXJuZWQgYW4gaXRlcmF0b3Igd2l0aCB0aHJvdy1zdXBwb3J0LiBIYW5kbGUgeWllbGQgYXMgYXdhaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBhd2FpdEl0ZXJhdG9yKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHpvbmVQcm9wcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChyZXR1cm5WYWx1ZSAmJiB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICAgIC8vIFByb21pc2UgcmV0dXJuZWQuIFVzZXIgdXNlcyBwcm9taXNlLXN0eWxlIHRyYW5zYWN0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uICh4KSB7IHJldHVybiB0cmFucy5hY3RpdmUgP1xuICAgICAgICAgICAgICAgICAgICAgICAgeCAvLyBUcmFuc2FjdGlvbiBzdGlsbCBhY3RpdmUuIENvbnRpbnVlLlxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZWplY3Rpb24obmV3IGV4Y2VwdGlvbnMuUHJlbWF0dXJlQ29tbWl0KFwiVHJhbnNhY3Rpb24gY29tbWl0dGVkIHRvbyBlYXJseS4gU2VlIGh0dHA6Ly9iaXQubHkvMmtkY2tNblwiKSk7IH0pXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHByb21pc2UgcmV0dXJuZWQuIFdhaXQgZm9yIGFsbCBvdXRzdGFuZGluZyBwcm9taXNlcyBiZWZvcmUgY29udGludWluZy4gXG4gICAgICAgICAgICAgICAgICAgIDogcHJvbWlzZUZvbGxvd2VkLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gcmV0dXJuVmFsdWU7IH0pKS50aGVuKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN1YiB0cmFuc2FjdGlvbnMgZG9uJ3QgcmVhY3QgdG8gaWRidHJhbnMub25jb21wbGV0ZS4gV2UgbXVzdCB0cmlnZ2VyIGEgY29tcGxldGlvbjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnMuX3Jlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdHJhbnMuX2NvbXBsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gKGlmIHJvb3QgdHJhbnNhY3Rpb24sIHRoaXMgbWVhbnMgJ2NvbXBsZXRlJyBldmVudC4gSWYgc3ViLXRyYW5zYWN0aW9uLCB3ZSd2ZSBqdXN0IGZpcmVkIGl0IG91cnNlbHZlcylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zLl9jb21wbGV0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnMuX3JlamVjdChlKTsgLy8gWWVzLCBhYm92ZSB0aGVuLWhhbmRsZXIgd2VyZSBtYXliZSBub3QgY2FsbGVkIGJlY2F1c2Ugb2YgYW4gdW5oYW5kbGVkIHJlamVjdGlvbiBpbiBzY29wZUZ1bmMhXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Rpb24oZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy50YWJsZSA9IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJUYWJsZVwiPjwvcmV0dXJucz5cbiAgICAgICAgaWYgKCFoYXNPd24oYWxsVGFibGVzLCB0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkVGFibGUoXCJUYWJsZSBcIiArIHRhYmxlTmFtZSArIFwiIGRvZXMgbm90IGV4aXN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbGxUYWJsZXNbdGFibGVOYW1lXTtcbiAgICB9O1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFRhYmxlIENsYXNzXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgZnVuY3Rpb24gVGFibGUobmFtZSwgdGFibGVTY2hlbWEsIG9wdGlvbmFsVHJhbnMpIHtcbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibmFtZVwiIHR5cGU9XCJTdHJpbmdcIj48L3BhcmFtPlxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHRhYmxlU2NoZW1hO1xuICAgICAgICB0aGlzLl90eCA9IG9wdGlvbmFsVHJhbnM7XG4gICAgICAgIHRoaXMuaG9vayA9IGFsbFRhYmxlc1tuYW1lXSA/IGFsbFRhYmxlc1tuYW1lXS5ob29rIDogRXZlbnRzKG51bGwsIHtcbiAgICAgICAgICAgIFwiY3JlYXRpbmdcIjogW2hvb2tDcmVhdGluZ0NoYWluLCBub3BdLFxuICAgICAgICAgICAgXCJyZWFkaW5nXCI6IFtwdXJlRnVuY3Rpb25DaGFpbiwgbWlycm9yXSxcbiAgICAgICAgICAgIFwidXBkYXRpbmdcIjogW2hvb2tVcGRhdGluZ0NoYWluLCBub3BdLFxuICAgICAgICAgICAgXCJkZWxldGluZ1wiOiBbaG9va0RlbGV0aW5nQ2hhaW4sIG5vcF1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEJ1bGtFcnJvckhhbmRsZXJDYXRjaEFsbChlcnJvckxpc3QsIGRvbmUsIHN1cHBvcnRIb29rcykge1xuICAgICAgICByZXR1cm4gKHN1cHBvcnRIb29rcyA/IGhvb2tlZEV2ZW50UmVqZWN0SGFuZGxlciA6IGV2ZW50UmVqZWN0SGFuZGxlcikoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGVycm9yTGlzdC5wdXNoKGUpO1xuICAgICAgICAgICAgZG9uZSAmJiBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWxrRGVsZXRlKGlkYnN0b3JlLCB0cmFucywga2V5c09yVHVwbGVzLCBoYXNEZWxldGVIb29rLCBkZWxldGluZ0hvb2spIHtcbiAgICAgICAgLy8gSWYgaGFzRGVsZXRlSG9vaywga2V5c09yVHVwbGVzIG11c3QgYmUgYW4gYXJyYXkgb2YgdHVwbGVzOiBbW2tleTEsIHZhbHVlMl0sW2tleTIsdmFsdWUyXSwuLi5dLFxuICAgICAgICAvLyBlbHNlIGtleXNPclR1cGxlcyBtdXN0IGJlIGp1c3QgYW4gYXJyYXkgb2Yga2V5czogW2tleTEsIGtleTIsIC4uLl0uXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgbGVuID0ga2V5c09yVHVwbGVzLmxlbmd0aCwgbGFzdEl0ZW0gPSBsZW4gLSAxO1xuICAgICAgICAgICAgaWYgKGxlbiA9PT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgaWYgKCFoYXNEZWxldGVIb29rKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gaWRic3RvcmUuZGVsZXRlKGtleXNPclR1cGxlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBsYXN0SXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvb2tDdHgsIGVycm9ySGFuZGxlciA9IGhvb2tlZEV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpLCBzdWNjZXNzSGFuZGxlciA9IGhvb2tlZEV2ZW50U3VjY2Vzc0hhbmRsZXIobnVsbCk7XG4gICAgICAgICAgICAgICAgdHJ5Q2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob29rQ3R4ID0geyBvbnN1Y2Nlc3M6IG51bGwsIG9uZXJyb3I6IG51bGwgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0dXBsZSA9IGtleXNPclR1cGxlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0aW5nSG9vay5jYWxsKGhvb2tDdHgsIHR1cGxlWzBdLCB0dXBsZVsxXSwgdHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IGlkYnN0b3JlLmRlbGV0ZSh0dXBsZVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEuX2hvb2tDdHggPSBob29rQ3R4O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbGFzdEl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGhvb2tlZEV2ZW50U3VjY2Vzc0hhbmRsZXIocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHN1Y2Nlc3NIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBob29rQ3R4Lm9uZXJyb3IgJiYgaG9va0N0eC5vbmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHByb3BzKFRhYmxlLnByb3RvdHlwZSwge1xuICAgICAgICAvL1xuICAgICAgICAvLyBUYWJsZSBQcm90ZWN0ZWQgTWV0aG9kc1xuICAgICAgICAvL1xuICAgICAgICBfdHJhbnM6IGZ1bmN0aW9uIGdldFRyYW5zYWN0aW9uKG1vZGUsIGZuLCB3cml0ZUxvY2tlZCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zID0gdGhpcy5fdHggfHwgUFNELnRyYW5zO1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zICYmIHRyYW5zLmRiID09PSBkYiA/XG4gICAgICAgICAgICAgICAgdHJhbnMgPT09IFBTRC50cmFucyA/XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zLl9wcm9taXNlKG1vZGUsIGZuLCB3cml0ZUxvY2tlZCkgOlxuICAgICAgICAgICAgICAgICAgICBuZXdTY29wZShmdW5jdGlvbiAoKSB7IHJldHVybiB0cmFucy5fcHJvbWlzZShtb2RlLCBmbiwgd3JpdGVMb2NrZWQpOyB9LCB7IHRyYW5zOiB0cmFucywgdHJhbnNsZXNzOiBQU0QudHJhbnNsZXNzIHx8IFBTRCB9KSA6XG4gICAgICAgICAgICAgICAgdGVtcFRyYW5zYWN0aW9uKG1vZGUsIFt0aGlzLm5hbWVdLCBmbik7XG4gICAgICAgIH0sXG4gICAgICAgIF9pZGJzdG9yZTogZnVuY3Rpb24gZ2V0SURCT2JqZWN0U3RvcmUobW9kZSwgZm4sIHdyaXRlTG9ja2VkKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVOYW1lID0gdGhpcy5uYW1lO1xuICAgICAgICAgICAgZnVuY3Rpb24gc3VwcGx5SWRiU3RvcmUocmVzb2x2ZSwgcmVqZWN0LCB0cmFucykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFucy5zdG9yZU5hbWVzLmluZGV4T2YodGFibGVOYW1lKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk5vdEZvdW5kKFwiVGFibGVcIiArIHRhYmxlTmFtZSArIFwiIG5vdCBwYXJ0IG9mIHRyYW5zYWN0aW9uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbihyZXNvbHZlLCByZWplY3QsIHRyYW5zLmlkYnRyYW5zLm9iamVjdFN0b3JlKHRhYmxlTmFtZSksIHRyYW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucyhtb2RlLCBzdXBwbHlJZGJTdG9yZSwgd3JpdGVMb2NrZWQpO1xuICAgICAgICB9LFxuICAgICAgICAvL1xuICAgICAgICAvLyBUYWJsZSBQdWJsaWMgTWV0aG9kc1xuICAgICAgICAvL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChrZXlPckNyaXQsIGNiKSB7XG4gICAgICAgICAgICBpZiAoa2V5T3JDcml0ICYmIGtleU9yQ3JpdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKGtleU9yQ3JpdCkuZmlyc3QoY2IpO1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkYnN0b3JlKFJFQURPTkxZLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGJzdG9yZS5nZXQoa2V5T3JDcml0KTtcbiAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzZWxmLmhvb2sucmVhZGluZy5maXJlKHJlcS5yZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgIH0sXG4gICAgICAgIHdoZXJlOiBmdW5jdGlvbiAoaW5kZXhPckNyaXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXhPckNyaXQgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV2hlcmVDbGF1c2UodGhpcywgaW5kZXhPckNyaXQpO1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoaW5kZXhPckNyaXQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgV2hlcmVDbGF1c2UodGhpcywgXCJbXCIgKyBpbmRleE9yQ3JpdC5qb2luKCcrJykgKyBcIl1cIik7XG4gICAgICAgICAgICAvLyBpbmRleE9yQ3JpdCBpcyBhbiBvYmplY3QgbWFwIG9mIHtba2V5UGF0aF06dmFsdWV9IFxuICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhpbmRleE9yQ3JpdCk7XG4gICAgICAgICAgICBpZiAoa2V5UGF0aHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIC8vIE9ubHkgb25lIGNyaXRlcmEuIFRoaXMgd2FzIHRoZSBlYXN5IGNhc2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLndoZXJlKGtleVBhdGhzWzBdKVxuICAgICAgICAgICAgICAgICAgICAuZXF1YWxzKGluZGV4T3JDcml0W2tleVBhdGhzWzBdXSk7XG4gICAgICAgICAgICAvLyBNdWx0aXBsZSBjcml0ZXJpYXMuXG4gICAgICAgICAgICAvLyBMZXQncyB0cnkgZmluZGluZyBhIGNvbXBvdW5kIGluZGV4IHRoYXQgbWF0Y2hlcyBhbGwga2V5UGF0aHMgaW5cbiAgICAgICAgICAgIC8vIGFyYnJpdGFyeSBvcmRlcjpcbiAgICAgICAgICAgIHZhciBjb21wb3VuZEluZGV4ID0gdGhpcy5zY2hlbWEuaW5kZXhlcy5jb25jYXQodGhpcy5zY2hlbWEucHJpbUtleSkuZmlsdGVyKGZ1bmN0aW9uIChpeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpeC5jb21wb3VuZCAmJlxuICAgICAgICAgICAgICAgICAgICBrZXlQYXRocy5ldmVyeShmdW5jdGlvbiAoa2V5UGF0aCkgeyByZXR1cm4gaXgua2V5UGF0aC5pbmRleE9mKGtleVBhdGgpID49IDA7IH0pICYmXG4gICAgICAgICAgICAgICAgICAgIGl4LmtleVBhdGguZXZlcnkoZnVuY3Rpb24gKGtleVBhdGgpIHsgcmV0dXJuIGtleVBhdGhzLmluZGV4T2Yoa2V5UGF0aCkgPj0gMDsgfSk7XG4gICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgIGlmIChjb21wb3VuZEluZGV4ICYmIG1heEtleSAhPT0gbWF4U3RyaW5nKVxuICAgICAgICAgICAgICAgIC8vIENvb2whIFdlIGZvdW5kIHN1Y2ggY29tcG91bmQgaW5kZXhcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhpcyBicm93c2VyIHN1cHBvcnRzIGNvbXBvdW5kIGluZGV4ZXMgKG1heEtleSAhPT0gbWF4U3RyaW5nKSFcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAud2hlcmUoY29tcG91bmRJbmRleC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAuZXF1YWxzKGNvbXBvdW5kSW5kZXgua2V5UGF0aC5tYXAoZnVuY3Rpb24gKGtwKSB7IHJldHVybiBpbmRleE9yQ3JpdFtrcF07IH0pKTtcbiAgICAgICAgICAgIGlmICghY29tcG91bmRJbmRleClcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJUaGUgcXVlcnkgXCIgKyBKU09OLnN0cmluZ2lmeShpbmRleE9yQ3JpdCkgKyBcIiBvbiBcIiArIHRoaXMubmFtZSArIFwiIHdvdWxkIGJlbmVmaXQgb2YgYSBcIiArXG4gICAgICAgICAgICAgICAgICAgIChcImNvbXBvdW5kIGluZGV4IFtcIiArIGtleVBhdGhzLmpvaW4oJysnKSArIFwiXVwiKSk7XG4gICAgICAgICAgICAvLyBPaywgbm93IGxldCdzIGZhbGxiYWNrIHRvIGZpbmRpbmcgYXQgbGVhc3Qgb25lIG1hdGNoaW5nIGluZGV4XG4gICAgICAgICAgICAvLyBhbmQgZmlsdGVyIHRoZSByZXN0LlxuICAgICAgICAgICAgdmFyIGlkeEJ5TmFtZSA9IHRoaXMuc2NoZW1hLmlkeEJ5TmFtZTtcbiAgICAgICAgICAgIHZhciBzaW1wbGVJbmRleCA9IGtleVBhdGhzLnJlZHVjZShmdW5jdGlvbiAociwga2V5UGF0aCkgeyByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHJbMF0gfHwgaWR4QnlOYW1lW2tleVBhdGhdLFxuICAgICAgICAgICAgICAgIHJbMF0gfHwgIWlkeEJ5TmFtZVtrZXlQYXRoXSA/XG4gICAgICAgICAgICAgICAgICAgIGNvbWJpbmUoclsxXSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuICcnICsgZ2V0QnlLZXlQYXRoKHgsIGtleVBhdGgpID09XG4gICAgICAgICAgICAgICAgICAgICAgICAnJyArIGluZGV4T3JDcml0W2tleVBhdGhdOyB9KVxuICAgICAgICAgICAgICAgICAgICA6IHJbMV1cbiAgICAgICAgICAgIF07IH0sIFtudWxsLCBudWxsXSk7XG4gICAgICAgICAgICB2YXIgaWR4ID0gc2ltcGxlSW5kZXhbMF07XG4gICAgICAgICAgICByZXR1cm4gaWR4ID9cbiAgICAgICAgICAgICAgICB0aGlzLndoZXJlKGlkeC5uYW1lKS5lcXVhbHMoaW5kZXhPckNyaXRbaWR4LmtleVBhdGhdKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHNpbXBsZUluZGV4WzFdKSA6XG4gICAgICAgICAgICAgICAgY29tcG91bmRJbmRleCA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyKHNpbXBsZUluZGV4WzFdKSA6IC8vIEhhcyBjb21wb3VuZCBidXQgYnJvd3NlciBiYWQuIEFsbG93IGZpbHRlci5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVyZShrZXlQYXRocykuZXF1YWxzKCcnKTsgLy8gTm8gaW5kZXggYXQgYWxsLiBGYWlsIGxhemlseS5cbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuY291bnQoY2IpO1xuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLm9mZnNldChvZmZzZXQpO1xuICAgICAgICB9LFxuICAgICAgICBsaW1pdDogZnVuY3Rpb24gKG51bVJvd3MpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmxpbWl0KG51bVJvd3MpO1xuICAgICAgICB9LFxuICAgICAgICByZXZlcnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5yZXZlcnNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b0NvbGxlY3Rpb24oKS5hbmQoZmlsdGVyRnVuY3Rpb24pO1xuICAgICAgICB9LFxuICAgICAgICBlYWNoOiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLmVhY2goZm4pO1xuICAgICAgICB9LFxuICAgICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQ29sbGVjdGlvbigpLnRvQXJyYXkoY2IpO1xuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbihuZXcgV2hlcmVDbGF1c2UodGhpcywgaXNBcnJheShpbmRleCkgP1xuICAgICAgICAgICAgICAgIFwiW1wiICsgaW5kZXguam9pbignKycpICsgXCJdXCIgOlxuICAgICAgICAgICAgICAgIGluZGV4KSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRvQ29sbGVjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKG5ldyBXaGVyZUNsYXVzZSh0aGlzKSk7XG4gICAgICAgIH0sXG4gICAgICAgIG1hcFRvQ2xhc3M6IGZ1bmN0aW9uIChjb25zdHJ1Y3Rvciwgc3RydWN0dXJlKSB7XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgICAgICAvLy8gICAgIE1hcCB0YWJsZSB0byBhIGphdmFzY3JpcHQgY29uc3RydWN0b3IgZnVuY3Rpb24uIE9iamVjdHMgcmV0dXJuZWQgZnJvbSB0aGUgZGF0YWJhc2Ugd2lsbCBiZSBpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcywgbWFraW5nXG4gICAgICAgICAgICAvLy8gICAgIGl0IHBvc3NpYmxlIHRvIHRoZSBpbnN0YW5jZU9mIG9wZXJhdG9yIGFzIHdlbGwgYXMgZXh0ZW5kaW5nIHRoZSBjbGFzcyB1c2luZyBjb25zdHJ1Y3Rvci5wcm90b3R5cGUubWV0aG9kID0gZnVuY3Rpb24oKXsuLi59LlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImNvbnN0cnVjdG9yXCI+Q29uc3RydWN0b3IgZnVuY3Rpb24gcmVwcmVzZW50aW5nIHRoZSBjbGFzcy48L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic3RydWN0dXJlXCIgb3B0aW9uYWw9XCJ0cnVlXCI+SGVscHMgSURFIGNvZGUgY29tcGxldGlvbiBieSBrbm93aW5nIHRoZSBtZW1iZXJzIHRoYXQgb2JqZWN0cyBjb250YWluIGFuZCBub3QganVzdCB0aGUgaW5kZXhlcy4gQWxzb1xuICAgICAgICAgICAgLy8vIGtub3cgd2hhdCB0eXBlIGVhY2ggbWVtYmVyIGhhcy4gRXhhbXBsZToge25hbWU6IFN0cmluZywgZW1haWxBZGRyZXNzZXM6IFtTdHJpbmddLCBwYXNzd29yZH08L3BhcmFtPlxuICAgICAgICAgICAgdGhpcy5zY2hlbWEubWFwcGVkQ2xhc3MgPSBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZVRlbXBsYXRlID0gT2JqZWN0LmNyZWF0ZShjb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHN0cnVjdHVyZSkge1xuICAgICAgICAgICAgICAgIC8vIHN0cnVjdHVyZSBhbmQgaW5zdGFuY2VUZW1wbGF0ZSBpcyBmb3IgSURFIGNvZGUgY29tcGV0aW9uIG9ubHkgd2hpbGUgY29uc3RydWN0b3IucHJvdG90eXBlIGlzIGZvciBhY3R1YWwgaW5oZXJpdGFuY2UuXG4gICAgICAgICAgICAgICAgYXBwbHlTdHJ1Y3R1cmUoaW5zdGFuY2VUZW1wbGF0ZSwgc3RydWN0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NoZW1hLmluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlO1xuICAgICAgICAgICAgLy8gTm93LCBzdWJzY3JpYmUgdG8gdGhlIHdoZW4oXCJyZWFkaW5nXCIpIGV2ZW50IHRvIG1ha2UgYWxsIG9iamVjdHMgdGhhdCBjb21lIG91dCBmcm9tIHRoaXMgdGFibGUgaW5oZXJpdCBmcm9tIGdpdmVuIGNsYXNzXG4gICAgICAgICAgICAvLyBubyBtYXR0ZXIgd2hpY2ggbWV0aG9kIHRvIHVzZSBmb3IgcmVhZGluZyAoVGFibGUuZ2V0KCkgb3IgVGFibGUud2hlcmUoLi4uKS4uLiApXG4gICAgICAgICAgICB2YXIgcmVhZEhvb2sgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmopXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7IC8vIE5vIHZhbGlkIG9iamVjdC4gKFZhbHVlIGlzIG51bGwpLiBSZXR1cm4gYXMgaXMuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IG9iamVjdCB0aGF0IGRlcml2ZXMgZnJvbSBjb25zdHJ1Y3RvcjpcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShjb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIC8vIENsb25lIG1lbWJlcnM6XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSBpbiBvYmopXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNPd24ob2JqLCBtKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzW21dID0gb2JqW21dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc2NoZW1hLnJlYWRIb29rKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ob29rLnJlYWRpbmcudW5zdWJzY3JpYmUodGhpcy5zY2hlbWEucmVhZEhvb2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2hlbWEucmVhZEhvb2sgPSByZWFkSG9vaztcbiAgICAgICAgICAgIHRoaXMuaG9vayhcInJlYWRpbmdcIiwgcmVhZEhvb2spO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yO1xuICAgICAgICB9LFxuICAgICAgICBkZWZpbmVDbGFzczogZnVuY3Rpb24gKHN0cnVjdHVyZSkge1xuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5PlxuICAgICAgICAgICAgLy8vICAgICBEZWZpbmUgYWxsIG1lbWJlcnMgb2YgdGhlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUgdGFibGUuIFRoaXMgd2lsbCBoZWxwIGNvZGUgY29tcGxldGlvbiBvZiB3aGVuIG9iamVjdHMgYXJlIHJlYWQgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICAgICAgICAgIC8vLyAgICAgYXMgd2VsbCBhcyBtYWtpbmcgaXQgcG9zc2libGUgdG8gZXh0ZW5kIHRoZSBwcm90b3R5cGUgb2YgdGhlIHJldHVybmVkIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInN0cnVjdHVyZVwiPkhlbHBzIElERSBjb2RlIGNvbXBsZXRpb24gYnkga25vd2luZyB0aGUgbWVtYmVycyB0aGF0IG9iamVjdHMgY29udGFpbiBhbmQgbm90IGp1c3QgdGhlIGluZGV4ZXMuIEFsc29cbiAgICAgICAgICAgIC8vLyBrbm93IHdoYXQgdHlwZSBlYWNoIG1lbWJlciBoYXMuIEV4YW1wbGU6IHtuYW1lOiBTdHJpbmcsIGVtYWlsQWRkcmVzc2VzOiBbU3RyaW5nXSwgcHJvcGVydGllczoge3Nob2VTaXplOiBOdW1iZXJ9fTwvcGFyYW0+XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXBUb0NsYXNzKERleGllLmRlZmluZUNsYXNzKHN0cnVjdHVyZSksIHN0cnVjdHVyZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1bGtEZWxldGU6IGZ1bmN0aW9uIChrZXlzJCQxKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob29rLmRlbGV0aW5nLmZpcmUgPT09IG5vcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZGJzdG9yZShSRUFEV1JJVEUsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlLCB0cmFucykge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJ1bGtEZWxldGUoaWRic3RvcmUsIHRyYW5zLCBrZXlzJCQxLCBmYWxzZSwgbm9wKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAud2hlcmUoJzppZCcpXG4gICAgICAgICAgICAgICAgICAgIC5hbnlPZihrZXlzJCQxKVxuICAgICAgICAgICAgICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyB9KTsgLy8gUmVzb2x2ZSB3aXRoIHVuZGVmaW5lZC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYnVsa1B1dDogZnVuY3Rpb24gKG9iamVjdHMsIGtleXMkJDEpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWRic3RvcmUoUkVBRFdSSVRFLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgICAgIGlmICghaWRic3RvcmUua2V5UGF0aCAmJiAhX3RoaXMuc2NoZW1hLnByaW1LZXkuYXV0byAmJiAha2V5cyQkMSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiYnVsa1B1dCgpIHdpdGggbm9uLWluYm91bmQga2V5cyByZXF1aXJlcyBrZXlzIGFycmF5IGluIHNlY29uZCBhcmd1bWVudFwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRic3RvcmUua2V5UGF0aCAmJiBrZXlzJCQxKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJidWxrUHV0KCk6IGtleXMgYXJndW1lbnQgaW52YWxpZCBvbiB0YWJsZXMgd2l0aCBpbmJvdW5kIGtleXNcIik7XG4gICAgICAgICAgICAgICAgaWYgKGtleXMkJDEgJiYga2V5cyQkMS5sZW5ndGggIT09IG9iamVjdHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJBcmd1bWVudHMgb2JqZWN0cyBhbmQga2V5cyBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgICAgICAgICAgICAgIGlmIChvYmplY3RzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTsgLy8gQ2FsbGVyIHByb3ZpZGVkIGVtcHR5IGxpc3QuXG4gICAgICAgICAgICAgICAgdmFyIGRvbmUgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckxpc3QubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEJ1bGtFcnJvcihfdGhpcy5uYW1lICsgXCIuYnVsa1B1dCgpOiBcIiArIGVycm9yTGlzdC5sZW5ndGggKyBcIiBvZiBcIiArIG51bU9ianMgKyBcIiBvcGVyYXRpb25zIGZhaWxlZFwiLCBlcnJvckxpc3QpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciByZXEsIGVycm9yTGlzdCA9IFtdLCBlcnJvckhhbmRsZXIsIG51bU9ianMgPSBvYmplY3RzLmxlbmd0aCwgdGFibGUgPSBfdGhpcztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaG9vay5jcmVhdGluZy5maXJlID09PSBub3AgJiYgX3RoaXMuaG9vay51cGRhdGluZy5maXJlID09PSBub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhbmRhcmQgQnVsayAobm8gJ2NyZWF0aW5nJyBvciAndXBkYXRpbmcnIGhvb2tzIHRvIGNhcmUgYWJvdXQpXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIGVycm9ySGFuZGxlciA9IEJ1bGtFcnJvckhhbmRsZXJDYXRjaEFsbChlcnJvckxpc3QpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEgPSBrZXlzJCQxID8gaWRic3RvcmUucHV0KG9iamVjdHNbaV0sIGtleXMkJDFbaV0pIDogaWRic3RvcmUucHV0KG9iamVjdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBuZWVkIHRvIGNhdGNoIHN1Y2Nlc3Mgb3IgZXJyb3Igb24gdGhlIGxhc3Qgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY29yZGluZyB0byB0aGUgSURCIHNwZWMuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gQnVsa0Vycm9ySGFuZGxlckNhdGNoQWxsKGVycm9yTGlzdCwgZG9uZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBldmVudFN1Y2Nlc3NIYW5kbGVyKGRvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVmZmVjdGl2ZUtleXMgPSBrZXlzJCQxIHx8IGlkYnN0b3JlLmtleVBhdGggJiYgb2JqZWN0cy5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIGdldEJ5S2V5UGF0aChvLCBpZGJzdG9yZS5rZXlQYXRoKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIG1hcCBvZiB7W2tleV06IG9iamVjdH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdExvb2t1cCA9IGVmZmVjdGl2ZUtleXMgJiYgYXJyYXlUb09iamVjdChlZmZlY3RpdmVLZXlzLCBmdW5jdGlvbiAoa2V5LCBpKSB7IHJldHVybiBrZXkgIT0gbnVsbCAmJiBba2V5LCBvYmplY3RzW2ldXTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gIWVmZmVjdGl2ZUtleXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXV0by1pbmNyZW1lbnRlZCBrZXktbGVzcyBvYmplY3RzIG9ubHkgd2l0aG91dCBhbnkga2V5cyBhcmd1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLmJ1bGtBZGQob2JqZWN0cykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2V5cyBwcm92aWRlZC4gRWl0aGVyIGFzIGluYm91bmQgaW4gcHJvdmlkZWQgb2JqZWN0cywgb3IgYXMgYSBrZXlzIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQmVnaW4gd2l0aCB1cGRhdGluZyB0aG9zZSB0aGF0IGV4aXN0cyBpbiBEQjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLndoZXJlKCc6aWQnKS5hbnlPZihlZmZlY3RpdmVLZXlzLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBrZXkgIT0gbnVsbDsgfSkpLm1vZGlmeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG9iamVjdExvb2t1cFt0aGlzLnByaW1LZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdExvb2t1cFt0aGlzLnByaW1LZXldID0gbnVsbDsgLy8gTWFyayBhcyBcImRvbid0IGFkZCB0aGlzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKE1vZGlmeUVycm9yLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTGlzdCA9IGUuZmFpbHVyZXM7IC8vIE5vIG5lZWQgdG8gY29uY2F0IGhlcmUuIFRoZXNlIGFyZSB0aGUgZmlyc3QgZXJyb3JzIGFkZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm93LCBsZXQncyBleGFtaW5lIHdoaWNoIGl0ZW1zIGRpZG50IGV4aXN0IHNvIHdlIGNhbiBhZGQgdGhlbTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Jqc1RvQWRkID0gW10sIGtleXNUb0FkZCA9IGtleXMkJDEgJiYgW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSBiYWNrd2FyZHMuIFdoeT8gQmVjYXVzZSBpZiBzYW1lIGtleSB3YXMgdXNlZCB0d2ljZSwganVzdCBhZGQgdGhlIGxhc3Qgb25lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBlZmZlY3RpdmVLZXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlZmZlY3RpdmVLZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09IG51bGwgfHwgb2JqZWN0TG9va3VwW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ianNUb0FkZC5wdXNoKG9iamVjdHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cyQkMSAmJiBrZXlzVG9BZGQucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdExvb2t1cFtrZXldID0gbnVsbDsgLy8gTWFyayBhcyBcImRvbnQgYWRkIGFnYWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgaXRlbXMgYXJlIGluIHJldmVyc2Ugb3JkZXIgc28gcmV2ZXJzZSB0aGVtIGJlZm9yZSBhZGRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ291bGQgYmUgaW1wb3J0YW50IGluIG9yZGVyIHRvIGdldCBhdXRvLWluY3JlbWVudGVkIGtleXMgdGhlIHdheSB0aGUgY2FsbGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd291bGQgZXhwZWN0LiBDb3VsZCBoYXZlIHVzZWQgdW5zaGlmdCBpbnN0ZWFkIG9mIHB1c2goKS9yZXZlcnNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0OiBodHRwOi8vanNwZXJmLmNvbS91bnNoaWZ0LXZzLXJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpzVG9BZGQucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMkJDEgJiYga2V5c1RvQWRkLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuYnVsa0FkZChvYmpzVG9BZGQsIGtleXNUb0FkZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0QWRkZWRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHdpdGgga2V5IG9mIHRoZSBsYXN0IG9iamVjdCBpbiBnaXZlbiBhcmd1bWVudHMgdG8gYnVsa1B1dCgpOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXN0RWZmZWN0aXZlS2V5ID0gZWZmZWN0aXZlS2V5c1tlZmZlY3RpdmVLZXlzLmxlbmd0aCAtIDFdOyAvLyBLZXkgd2FzIHByb3ZpZGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXN0RWZmZWN0aXZlS2V5ICE9IG51bGwgPyBsYXN0RWZmZWN0aXZlS2V5IDogbGFzdEFkZGVkS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihkb25lKS5jYXRjaChCdWxrRXJyb3IsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb25jYXQgZmFpbHVyZSBmcm9tIE1vZGlmeUVycm9yIGFuZCByZWplY3QgdXNpbmcgb3VyICdkb25lJyBtZXRob2QuXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvckxpc3QgPSBlcnJvckxpc3QuY29uY2F0KGUuZmFpbHVyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIFwibG9ja2VkXCIpOyAvLyBJZiBjYWxsZWQgZnJvbSB0cmFuc2FjdGlvbiBzY29wZSwgbG9jayB0cmFuc2FjdGlvbiB0aWwgYWxsIHN0ZXBzIGFyZSBkb25lLlxuICAgICAgICB9LFxuICAgICAgICBidWxrQWRkOiBmdW5jdGlvbiAob2JqZWN0cywga2V5cyQkMSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLCBjcmVhdGluZ0hvb2sgPSB0aGlzLmhvb2suY3JlYXRpbmcuZmlyZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZGJzdG9yZShSRUFEV1JJVEUsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlLCB0cmFucykge1xuICAgICAgICAgICAgICAgIGlmICghaWRic3RvcmUua2V5UGF0aCAmJiAhc2VsZi5zY2hlbWEucHJpbUtleS5hdXRvICYmICFrZXlzJCQxKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJidWxrQWRkKCkgd2l0aCBub24taW5ib3VuZCBrZXlzIHJlcXVpcmVzIGtleXMgYXJyYXkgaW4gc2Vjb25kIGFyZ3VtZW50XCIpO1xuICAgICAgICAgICAgICAgIGlmIChpZGJzdG9yZS5rZXlQYXRoICYmIGtleXMkJDEpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcImJ1bGtBZGQoKToga2V5cyBhcmd1bWVudCBpbnZhbGlkIG9uIHRhYmxlcyB3aXRoIGluYm91bmQga2V5c1wiKTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5cyQkMSAmJiBrZXlzJCQxLmxlbmd0aCAhPT0gb2JqZWN0cy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLkludmFsaWRBcmd1bWVudChcIkFyZ3VtZW50cyBvYmplY3RzIGFuZCBrZXlzIG11c3QgaGF2ZSB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpOyAvLyBDYWxsZXIgcHJvdmlkZWQgZW1wdHkgbGlzdC5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb25lKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JMaXN0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBCdWxrRXJyb3Ioc2VsZi5uYW1lICsgXCIuYnVsa0FkZCgpOiBcIiArIGVycm9yTGlzdC5sZW5ndGggKyBcIiBvZiBcIiArIG51bU9ianMgKyBcIiBvcGVyYXRpb25zIGZhaWxlZFwiLCBlcnJvckxpc3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlcSwgZXJyb3JMaXN0ID0gW10sIGVycm9ySGFuZGxlciwgc3VjY2Vzc0hhbmRsZXIsIG51bU9ianMgPSBvYmplY3RzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoY3JlYXRpbmdIb29rICE9PSBub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgYXJlIHN1YnNjcmliZXJzIHRvIGhvb2soJ2NyZWF0aW5nJylcbiAgICAgICAgICAgICAgICAgICAgLy8gTXVzdCBiZWhhdmUgYXMgZG9jdW1lbnRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBpZGJzdG9yZS5rZXlQYXRoLCBob29rQ3R4O1xuICAgICAgICAgICAgICAgICAgICBlcnJvckhhbmRsZXIgPSBCdWxrRXJyb3JIYW5kbGVyQ2F0Y2hBbGwoZXJyb3JMaXN0LCBudWxsLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0hhbmRsZXIgPSBob29rZWRFdmVudFN1Y2Nlc3NIYW5kbGVyKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB0cnlDYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9va0N0eCA9IHsgb25lcnJvcjogbnVsbCwgb25zdWNjZXNzOiBudWxsIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGtleXMkJDEgJiYga2V5cyQkMVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gb2JqZWN0c1tpXSwgZWZmZWN0aXZlS2V5ID0ga2V5cyQkMSA/IGtleSA6IGtleVBhdGggPyBnZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoKSA6IHVuZGVmaW5lZCwga2V5VG9Vc2UgPSBjcmVhdGluZ0hvb2suY2FsbChob29rQ3R4LCBlZmZlY3RpdmVLZXksIG9iaiwgdHJhbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZmZlY3RpdmVLZXkgPT0gbnVsbCAmJiBrZXlUb1VzZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBkZWVwQ2xvbmUob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChvYmosIGtleVBhdGgsIGtleVRvVXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleVRvVXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcSA9IGtleSAhPSBudWxsID8gaWRic3RvcmUuYWRkKG9iaiwga2V5KSA6IGlkYnN0b3JlLmFkZChvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5faG9va0N0eCA9IGhvb2tDdHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBsIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvb2tDdHgub25zdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHN1Y2Nlc3NIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9va0N0eC5vbmVycm9yICYmIGhvb2tDdHgub25lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBCdWxrRXJyb3JIYW5kbGVyQ2F0Y2hBbGwoZXJyb3JMaXN0LCBkb25lLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGhvb2tlZEV2ZW50U3VjY2Vzc0hhbmRsZXIoZG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBCdWxrIChubyAnY3JlYXRpbmcnIGhvb2sgdG8gY2FyZSBhYm91dClcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyID0gQnVsa0Vycm9ySGFuZGxlckNhdGNoQWxsKGVycm9yTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqZWN0cy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcSA9IGtleXMkJDEgPyBpZGJzdG9yZS5hZGQob2JqZWN0c1tpXSwga2V5cyQkMVtpXSkgOiBpZGJzdG9yZS5hZGQob2JqZWN0c1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGVycm9ySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gY2F0Y2ggc3VjY2VzcyBvciBlcnJvciBvbiB0aGUgbGFzdCBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjb3JkaW5nIHRvIHRoZSBJREIgc3BlYy5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBCdWxrRXJyb3JIYW5kbGVyQ2F0Y2hBbGwoZXJyb3JMaXN0LCBkb25lKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGV2ZW50U3VjY2Vzc0hhbmRsZXIoZG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgICAgICAvLy8gICBBZGQgYW4gb2JqZWN0IHRvIHRoZSBkYXRhYmFzZS4gSW4gY2FzZSBhbiBvYmplY3Qgd2l0aCBzYW1lIHByaW1hcnkga2V5IGFscmVhZHkgZXhpc3RzLCB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGFkZGVkLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9ialwiIHR5cGU9XCJPYmplY3RcIj5BIGphdmFzY3JpcHQgb2JqZWN0IHRvIGluc2VydDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJrZXlcIiBvcHRpb25hbD1cInRydWVcIj5QcmltYXJ5IGtleTwvcGFyYW0+XG4gICAgICAgICAgICB2YXIgY3JlYXRpbmdIb29rID0gdGhpcy5ob29rLmNyZWF0aW5nLmZpcmU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faWRic3RvcmUoUkVBRFdSSVRFLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSwgdHJhbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG9va0N0eCA9IHsgb25zdWNjZXNzOiBudWxsLCBvbmVycm9yOiBudWxsIH07XG4gICAgICAgICAgICAgICAgaWYgKGNyZWF0aW5nSG9vayAhPT0gbm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZmZlY3RpdmVLZXkgPSAoa2V5ICE9IG51bGwpID8ga2V5IDogKGlkYnN0b3JlLmtleVBhdGggPyBnZXRCeUtleVBhdGgob2JqLCBpZGJzdG9yZS5rZXlQYXRoKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlUb1VzZSA9IGNyZWF0aW5nSG9vay5jYWxsKGhvb2tDdHgsIGVmZmVjdGl2ZUtleSwgb2JqLCB0cmFucyk7IC8vIEFsbG93IHN1YnNjcmliZXJzIHRvIHdoZW4oXCJjcmVhdGluZ1wiKSB0byBnZW5lcmF0ZSB0aGUga2V5LlxuICAgICAgICAgICAgICAgICAgICBpZiAoZWZmZWN0aXZlS2V5ID09IG51bGwgJiYga2V5VG9Vc2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkYnN0b3JlLmtleVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwgaWRic3RvcmUua2V5UGF0aCwga2V5VG9Vc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleSA9IGtleVRvVXNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBrZXkgIT0gbnVsbCA/IGlkYnN0b3JlLmFkZChvYmosIGtleSkgOiBpZGJzdG9yZS5hZGQob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLl9ob29rQ3R4ID0gaG9va0N0eDtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBob29rZWRFdmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGhvb2tlZEV2ZW50U3VjY2Vzc0hhbmRsZXIoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlIHR3byBsaW5lcyBpbiBuZXh0IG1ham9yIHJlbGVhc2UgKDIuMD8pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCdzIG5vIGdvb2QgcHJhY3RpY2UgdG8gaGF2ZSBzaWRlIGVmZmVjdHMgb24gcHJvdmlkZWQgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBpZGJzdG9yZS5rZXlQYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKG9iaiwga2V5UGF0aCwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChob29rQ3R4Lm9uZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICBob29rQ3R4Lm9uZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHB1dDogZnVuY3Rpb24gKG9iaiwga2V5KSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5PlxuICAgICAgICAgICAgLy8vICAgQWRkIGFuIG9iamVjdCB0byB0aGUgZGF0YWJhc2UgYnV0IGluIGNhc2UgYW4gb2JqZWN0IHdpdGggc2FtZSBwcmltYXJ5IGtleSBhbHJlYWQgZXhpc3RzLCB0aGUgZXhpc3Rpbmcgb25lIHdpbGwgZ2V0IHVwZGF0ZWQuXG4gICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwib2JqXCIgdHlwZT1cIk9iamVjdFwiPkEgamF2YXNjcmlwdCBvYmplY3QgdG8gaW5zZXJ0IG9yIHVwZGF0ZTwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJrZXlcIiBvcHRpb25hbD1cInRydWVcIj5QcmltYXJ5IGtleTwvcGFyYW0+XG4gICAgICAgICAgICB2YXIgY3JlYXRpbmdIb29rID0gdGhpcy5ob29rLmNyZWF0aW5nLmZpcmUsIHVwZGF0aW5nSG9vayA9IHRoaXMuaG9vay51cGRhdGluZy5maXJlO1xuICAgICAgICAgICAgaWYgKGNyZWF0aW5nSG9vayAhPT0gbm9wIHx8IHVwZGF0aW5nSG9vayAhPT0gbm9wKSB7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAvLyBQZW9wbGUgbGlzdGVucyB0byB3aGVuKFwiY3JlYXRpbmdcIikgb3Igd2hlbihcInVwZGF0aW5nXCIpIGV2ZW50cyFcbiAgICAgICAgICAgICAgICAvLyBXZSBtdXN0IGtub3cgd2hldGhlciB0aGUgcHV0IG9wZXJhdGlvbiByZXN1bHRzIGluIGFuIENSRUFURSBvciBVUERBVEUuXG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IHRoaXMuc2NoZW1hLnByaW1LZXkua2V5UGF0aDtcbiAgICAgICAgICAgICAgICB2YXIgZWZmZWN0aXZlS2V5ID0gKGtleSAhPT0gdW5kZWZpbmVkKSA/IGtleSA6IChrZXlQYXRoICYmIGdldEJ5S2V5UGF0aChvYmosIGtleVBhdGgpKTtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0aXZlS2V5ID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChvYmopO1xuICAgICAgICAgICAgICAgIC8vIFNpbmNlIGtleSBpcyBvcHRpb25hbCwgbWFrZSBzdXJlIHdlIGdldCBpdCBmcm9tIG9iaiBpZiBub3QgcHJvdmlkZWRcbiAgICAgICAgICAgICAgICAvLyBQcmltYXJ5IGtleSBleGlzdC4gTG9jayB0cmFuc2FjdGlvbiBhbmQgdHJ5IG1vZGlmeWluZyBleGlzdGluZy4gSWYgbm90aGluZyBtb2RpZmllZCwgY2FsbCBhZGQoKS5cbiAgICAgICAgICAgICAgICAvLyBjbG9uZSBvYmogYmVmb3JlIHRoaXMgYXN5bmMgY2FsbC4gSWYgY2FsbGVyIG1vZGlmaWVzIG9iaiB0aGUgbGluZSBhZnRlciBwdXQoKSwgdGhlIElEQiBzcGVjIHJlcXVpcmVzIHRoYXQgaXQgc2hvdWxkIG5vdCBhZmZlY3Qgb3BlcmF0aW9uLlxuICAgICAgICAgICAgICAgIG9iaiA9IGRlZXBDbG9uZShvYmopO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90cmFucyhSRUFEV1JJVEUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhlZmZlY3RpdmVLZXkpLm1vZGlmeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGV4dGlzdGluZyB2YWx1ZSB3aXRoIG91ciBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENSVUQgZXZlbnQgZmlyaW5nIGhhbmRsZWQgaW4gQ29sbGVjdGlvbi5tb2RpZnkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG9iajtcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoY291bnQpIHsgcmV0dXJuIGNvdW50ID09PSAwID8gX3RoaXMuYWRkKG9iaiwga2V5KSA6IGVmZmVjdGl2ZUtleTsgfSk7XG4gICAgICAgICAgICAgICAgfSwgXCJsb2NrZWRcIik7IC8vIExvY2sgbmVlZGVkIGJlY2F1c2Ugb3BlcmF0aW9uIGlzIHNwbGl0dGVkIGludG8gbW9kaWZ5KCkgYW5kIGFkZCgpLlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzdGFuZGFyZCBJREIgcHV0KCkgbWV0aG9kLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pZGJzdG9yZShSRUFEV1JJVEUsIGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBrZXkgIT09IHVuZGVmaW5lZCA/IGlkYnN0b3JlLnB1dChvYmosIGtleSkgOiBpZGJzdG9yZS5wdXQob2JqKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5UGF0aCA9IGlkYnN0b3JlLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5UGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgob2JqLCBrZXlQYXRoLCBldi50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwia2V5XCI+UHJpbWFyeSBrZXkgb2YgdGhlIG9iamVjdCB0byBkZWxldGU8L3BhcmFtPlxuICAgICAgICAgICAgaWYgKHRoaXMuaG9vay5kZWxldGluZy5zdWJzY3JpYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBQZW9wbGUgbGlzdGVucyB0byB3aGVuKFwiZGVsZXRpbmdcIikgZXZlbnQuIE11c3QgaW1wbGVtZW50IGRlbGV0ZSB1c2luZyBDb2xsZWN0aW9uLmRlbGV0ZSgpIHRoYXQgd2lsbFxuICAgICAgICAgICAgICAgIC8vIGNhbGwgdGhlIENSVUQgZXZlbnQuIE9ubHkgQ29sbGVjdGlvbi5kZWxldGUoKSB3aWxsIGtub3cgd2hldGhlciBhbiBvYmplY3Qgd2FzIGFjdHVhbGx5IGRlbGV0ZWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hlcmUoXCI6aWRcIikuZXF1YWxzKGtleSkuZGVsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBvbmUgbGlzdGVucy4gVXNlIHN0YW5kYXJkIElEQiBkZWxldGUoKSBtZXRob2QuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lkYnN0b3JlKFJFQURXUklURSwgZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgaWRic3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IGlkYnN0b3JlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gd3JhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcS5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvb2suZGVsZXRpbmcuc3Vic2NyaWJlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gUGVvcGxlIGxpc3RlbnMgdG8gd2hlbihcImRlbGV0aW5nXCIpIGV2ZW50LiBNdXN0IGltcGxlbWVudCBkZWxldGUgdXNpbmcgQ29sbGVjdGlvbi5kZWxldGUoKSB0aGF0IHdpbGxcbiAgICAgICAgICAgICAgICAvLyBjYWxsIHRoZSBDUlVEIGV2ZW50LiBPbmx5IENvbGxlY3Rpb24uZGVsZXRlKCkgd2lsbCBrbm93cyB3aGljaCBvYmplY3RzIHRoYXQgYXJlIGFjdHVhbGx5IGRlbGV0ZWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9Db2xsZWN0aW9uKCkuZGVsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faWRic3RvcmUoUkVBRFdSSVRFLCBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gaWRic3RvcmUuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHdyYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXEucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gKGtleU9yT2JqZWN0LCBtb2RpZmljYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1vZGlmaWNhdGlvbnMgIT09ICdvYmplY3QnIHx8IGlzQXJyYXkobW9kaWZpY2F0aW9ucykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KFwiTW9kaWZpY2F0aW9ucyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGtleU9yT2JqZWN0ID09PSAnb2JqZWN0JyAmJiAhaXNBcnJheShrZXlPck9iamVjdCkpIHtcbiAgICAgICAgICAgICAgICAvLyBvYmplY3QgdG8gbW9kaWZ5LiBBbHNvIG1vZGlmeSBnaXZlbiBvYmplY3Qgd2l0aCB0aGUgbW9kaWZpY2F0aW9uczpcbiAgICAgICAgICAgICAgICBrZXlzKG1vZGlmaWNhdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleVBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QnlLZXlQYXRoKGtleU9yT2JqZWN0LCBrZXlQYXRoLCBtb2RpZmljYXRpb25zW2tleVBhdGhdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0QnlLZXlQYXRoKGtleU9yT2JqZWN0LCB0aGlzLnNjaGVtYS5wcmltS2V5LmtleVBhdGgpO1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5JbnZhbGlkQXJndW1lbnQoXCJHaXZlbiBvYmplY3QgZG9lcyBub3QgY29udGFpbiBpdHMgcHJpbWFyeSBrZXlcIikpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndoZXJlKFwiOmlkXCIpLmVxdWFscyhrZXkpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGtleSB0byBtb2RpZnlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGVyZShcIjppZFwiKS5lcXVhbHMoa2V5T3JPYmplY3QpLm1vZGlmeShtb2RpZmljYXRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFRyYW5zYWN0aW9uIENsYXNzXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgZnVuY3Rpb24gVHJhbnNhY3Rpb24obW9kZSwgc3RvcmVOYW1lcywgZGJzY2hlbWEsIHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vLyAgICBUcmFuc2FjdGlvbiBjbGFzcy4gUmVwcmVzZW50cyBhIGRhdGFiYXNlIHRyYW5zYWN0aW9uLiBBbGwgb3BlcmF0aW9ucyBvbiBkYiBnb2VzIHRocm91Z2ggYSBUcmFuc2FjdGlvbi5cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibW9kZVwiIHR5cGU9XCJTdHJpbmdcIj5Bbnkgb2YgXCJyZWFkd3JpdGVcIiBvciBcInJlYWRvbmx5XCI8L3BhcmFtPlxuICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdG9yZU5hbWVzXCIgdHlwZT1cIkFycmF5XCI+QXJyYXkgb2YgdGFibGUgbmFtZXMgdG8gb3BlcmF0ZSBvbjwvcGFyYW0+XG4gICAgICAgIHRoaXMuZGIgPSBkYjtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5zdG9yZU5hbWVzID0gc3RvcmVOYW1lcztcbiAgICAgICAgdGhpcy5pZGJ0cmFucyA9IG51bGw7XG4gICAgICAgIHRoaXMub24gPSBFdmVudHModGhpcywgXCJjb21wbGV0ZVwiLCBcImVycm9yXCIsIFwiYWJvcnRcIik7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50IHx8IG51bGw7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjdWxvY2sgPSAwO1xuICAgICAgICB0aGlzLl9ibG9ja2VkRnVuY3MgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dhaXRpbmdGb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl93YWl0aW5nUXVldWUgPSBudWxsO1xuICAgICAgICB0aGlzLl9zcGluQ291bnQgPSAwOyAvLyBKdXN0IGZvciBkZWJ1Z2dpbmcgd2FpdEZvcigpXG4gICAgICAgIHRoaXMuX2NvbXBsZXRpb24gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgICBfdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fY29tcGxldGlvbi50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMub24uY29tcGxldGUuZmlyZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHdhc0FjdGl2ZSA9IF90aGlzLmFjdGl2ZTtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMub24uZXJyb3IuZmlyZShlKTtcbiAgICAgICAgICAgIF90aGlzLnBhcmVudCA/XG4gICAgICAgICAgICAgICAgX3RoaXMucGFyZW50Ll9yZWplY3QoZSkgOlxuICAgICAgICAgICAgICAgIHdhc0FjdGl2ZSAmJiBfdGhpcy5pZGJ0cmFucyAmJiBfdGhpcy5pZGJ0cmFucy5hYm9ydCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTsgLy8gSW5kaWNhdGUgd2UgYWN0dWFsbHkgRE8gTk9UIGNhdGNoIHRoaXMgZXJyb3IuXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwcm9wcyhUcmFuc2FjdGlvbi5wcm90b3R5cGUsIHtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVHJhbnNhY3Rpb24gUHJvdGVjdGVkIE1ldGhvZHMgKG5vdCByZXF1aXJlZCBieSBBUEkgdXNlcnMsIGJ1dCBuZWVkZWQgaW50ZXJuYWxseSBhbmQgZXZlbnR1YWxseSBieSBkZXhpZSBleHRlbnNpb25zKVxuICAgICAgICAvL1xuICAgICAgICBfbG9jazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXNzZXJ0KCFQU0QuZ2xvYmFsKTsgLy8gTG9ja2luZyBhbmQgdW5sb2NraW5nIHJldWlyZXMgdG8gYmUgd2l0aGluIGEgUFNEIHNjb3BlLlxuICAgICAgICAgICAgLy8gVGVtcG9yYXJ5IHNldCBhbGwgcmVxdWVzdHMgaW50byBhIHBlbmRpbmcgcXVldWUgaWYgdGhleSBhcmUgY2FsbGVkIGJlZm9yZSBkYXRhYmFzZSBpcyByZWFkeS5cbiAgICAgICAgICAgICsrdGhpcy5fcmVjdWxvY2s7IC8vIFJlY3Vyc2l2ZSByZWFkL3dyaXRlIGxvY2sgcGF0dGVybiB1c2luZyBQU0QgKFByb21pc2UgU3BlY2lmaWMgRGF0YSkgaW5zdGVhZCBvZiBUTFMgKFRocmVhZCBMb2NhbCBTdG9yYWdlKVxuICAgICAgICAgICAgaWYgKHRoaXMuX3JlY3Vsb2NrID09PSAxICYmICFQU0QuZ2xvYmFsKVxuICAgICAgICAgICAgICAgIFBTRC5sb2NrT3duZXJGb3IgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF91bmxvY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFzc2VydCghUFNELmdsb2JhbCk7IC8vIExvY2tpbmcgYW5kIHVubG9ja2luZyByZXVpcmVzIHRvIGJlIHdpdGhpbiBhIFBTRCBzY29wZS5cbiAgICAgICAgICAgIGlmICgtLXRoaXMuX3JlY3Vsb2NrID09PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFQU0QuZ2xvYmFsKVxuICAgICAgICAgICAgICAgICAgICBQU0QubG9ja093bmVyRm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5fYmxvY2tlZEZ1bmNzLmxlbmd0aCA+IDAgJiYgIXRoaXMuX2xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbkFuZFBTRCA9IHRoaXMuX2Jsb2NrZWRGdW5jcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlUFNEKGZuQW5kUFNEWzFdLCBmbkFuZFBTRFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfbG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgYW55IHdyaXRlLWxvY2sgaXMgYXBwbGllZCBvbiB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgLy8gVG8gc2ltcGxpZnkgdGhlIERleGllIEFQSSBmb3IgZXh0ZW5zaW9uIGltcGxlbWVudGF0aW9ucywgd2Ugc3VwcG9ydCByZWN1cnNpdmUgbG9ja3MuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFjY29tcGxpc2hlZCBieSB1c2luZyBcIlByb21pc2UgU3BlY2lmaWMgRGF0YVwiIChQU0QpLlxuICAgICAgICAgICAgLy8gUFNEIGRhdGEgaXMgYm91bmQgdG8gYSBQcm9taXNlIGFuZCBhbnkgY2hpbGQgUHJvbWlzZSBlbWl0dGVkIHRocm91Z2ggdGhlbigpIG9yIHJlc29sdmUoIG5ldyBQcm9taXNlKCkgKS5cbiAgICAgICAgICAgIC8vIFBTRCBpcyBsb2NhbCB0byBjb2RlIGV4ZWN1dGluZyBvbiB0b3Agb2YgdGhlIGNhbGwgc3RhY2tzIG9mIGFueSBvZiBhbnkgY29kZSBleGVjdXRlZCBieSBQcm9taXNlKCk6XG4gICAgICAgICAgICAvLyAgICAgICAgICogY2FsbGJhY2sgZ2l2ZW4gdG8gdGhlIFByb21pc2UoKSBjb25zdHJ1Y3RvciAgKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3Qpey4uLn0pXG4gICAgICAgICAgICAvLyAgICAgICAgICogY2FsbGJhY2tzIGdpdmVuIHRvIHRoZW4oKS9jYXRjaCgpL2ZpbmFsbHkoKSBtZXRob2RzIChmdW5jdGlvbiAodmFsdWUpey4uLn0pXG4gICAgICAgICAgICAvLyBJZiBjcmVhdGluZyBhIG5ldyBpbmRlcGVuZGFudCBQcm9taXNlIGluc3RhbmNlIGZyb20gd2l0aGluIGEgUHJvbWlzZSBjYWxsIHN0YWNrLCB0aGUgbmV3IFByb21pc2Ugd2lsbCBkZXJpdmUgdGhlIFBTRCBmcm9tIHRoZSBjYWxsIHN0YWNrIG9mIHRoZSBwYXJlbnQgUHJvbWlzZS5cbiAgICAgICAgICAgIC8vIERlcml2YXRpb24gaXMgZG9uZSBzbyB0aGF0IHRoZSBpbm5lciBQU0QgX19wcm90b19fIHBvaW50cyB0byB0aGUgb3V0ZXIgUFNELlxuICAgICAgICAgICAgLy8gUFNELmxvY2tPd25lckZvciB3aWxsIHBvaW50IHRvIGN1cnJlbnQgdHJhbnNhY3Rpb24gb2JqZWN0IGlmIHRoZSBjdXJyZW50bHkgZXhlY3V0aW5nIFBTRCBzY29wZSBvd25zIHRoZSBsb2NrLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY3Vsb2NrICYmIFBTRC5sb2NrT3duZXJGb3IgIT09IHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGlkYnRyYW5zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBhc3NlcnQoIXRoaXMuaWRidHJhbnMpO1xuICAgICAgICAgICAgaWYgKCFpZGJ0cmFucyAmJiAhaWRiZGIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRiT3BlbkVycm9yICYmIGRiT3BlbkVycm9yLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkRhdGFiYXNlQ2xvc2VkRXJyb3JcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVycm9ycyB3aGVyZSBpdCBpcyBubyBkaWZmZXJlbmNlIHdoZXRoZXIgaXQgd2FzIGNhdXNlZCBieSB0aGUgdXNlciBvcGVyYXRpb24gb3IgYW4gZWFybGllciBjYWxsIHRvIGRiLm9wZW4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuRGF0YWJhc2VDbG9zZWQoZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTWlzc2luZ0FQSUVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFcnJvcnMgd2hlcmUgaXQgaXMgbm8gZGlmZmVyZW5jZSB3aGV0aGVyIGl0IHdhcyBjYXVzZWQgYnkgdGhlIHVzZXIgb3BlcmF0aW9uIG9yIGFuIGVhcmxpZXIgY2FsbCB0byBkYi5vcGVuKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLk1pc3NpbmdBUEkoZGJPcGVuRXJyb3IubWVzc2FnZSwgZGJPcGVuRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBpdCBjbGVhciB0aGF0IHRoZSB1c2VyIG9wZXJhdGlvbiB3YXMgbm90IHdoYXQgY2F1c2VkIHRoZSBlcnJvciAtIHRoZSBlcnJvciBoYWQgb2NjdXJyZWQgZWFybGllciBvbiBkYi5vcGVuKCkhXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXhjZXB0aW9ucy5PcGVuRmFpbGVkKGRiT3BlbkVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBleGNlcHRpb25zLlRyYW5zYWN0aW9uSW5hY3RpdmUoKTtcbiAgICAgICAgICAgIGFzc2VydCh0aGlzLl9jb21wbGV0aW9uLl9zdGF0ZSA9PT0gbnVsbCk7XG4gICAgICAgICAgICBpZGJ0cmFucyA9IHRoaXMuaWRidHJhbnMgPSBpZGJ0cmFucyB8fCBpZGJkYi50cmFuc2FjdGlvbihzYWZhcmlNdWx0aVN0b3JlRml4KHRoaXMuc3RvcmVOYW1lcyksIHRoaXMubW9kZSk7XG4gICAgICAgICAgICBpZGJ0cmFucy5vbmVycm9yID0gd3JhcChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChldik7IC8vIFByb2hpYml0IGRlZmF1bHQgYnViYmxpbmcgdG8gd2luZG93LmVycm9yXG4gICAgICAgICAgICAgICAgX3RoaXMuX3JlamVjdChpZGJ0cmFucy5lcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uYWJvcnQgPSB3cmFwKGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGV2KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgJiYgX3RoaXMuX3JlamVjdChuZXcgZXhjZXB0aW9ucy5BYm9ydChpZGJ0cmFucy5lcnJvcikpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uKFwiYWJvcnRcIikuZmlyZShldik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlkYnRyYW5zLm9uY29tcGxldGUgPSB3cmFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgX3Byb21pc2U6IGZ1bmN0aW9uIChtb2RlLCBmbiwgYldyaXRlTG9jaykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBSRUFEV1JJVEUgJiYgdGhpcy5tb2RlICE9PSBSRUFEV1JJVEUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5SZWFkT25seShcIlRyYW5zYWN0aW9uIGlzIHJlYWRvbmx5XCIpKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihuZXcgZXhjZXB0aW9ucy5UcmFuc2FjdGlvbkluYWN0aXZlKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Jsb2NrZWRGdW5jcy5wdXNoKFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Byb21pc2UobW9kZSwgZm4sIGJXcml0ZUxvY2spLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFBTRF0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYldyaXRlTG9jaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ2ICYmIHJ2LnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnYudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcC5maW5hbGx5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl91bmxvY2soKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIHAuX2xpYiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBydiA9IGZuKHJlc29sdmUsIHJlamVjdCwgX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocnYgJiYgcnYudGhlbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ2LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwLl9saWIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfcm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQuX3Jvb3QoKSA6IHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIHdhaXRGb3I6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBBbHdheXMgb3BlcmF0ZSBvbiB0aGUgcm9vdCB0cmFuc2FjdGlvbiAoaW4gY2FzZSB0aGlzIGlzIGEgc3ViIHN0cmFuc2FjdGlvbilcbiAgICAgICAgICAgIHZhciByb290ID0gdGhpcy5fcm9vdCgpO1xuICAgICAgICAgICAgLy8gRm9yIHN0YWJpbGl0eSByZWFzb25zLCBjb252ZXJ0IHBhcmFtZXRlciB0byBwcm9taXNlIG5vIG1hdHRlciB3aGF0IHR5cGUgaXMgcGFzc2VkIHRvIHdhaXRGb3IoKS5cbiAgICAgICAgICAgIC8vIChXZSBtdXN0IGJlIGFibGUgdG8gY2FsbCAudGhlbigpIG9uIGl0LilcbiAgICAgICAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUocHJvbWlzZSk7XG4gICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0Zvcikge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgY2FsbGVkIHdhaXRGb3IoKS4gV2FpdCBmb3IgYm90aCB0byBjb21wbGV0ZS5cbiAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nRm9yID0gcm9vdC5fd2FpdGluZ0Zvci50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2U7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgbm90IGluIHdhaXRpbmcgc3RhdGUuIFN0YXJ0IHdhaXRpbmcgc3RhdGUuXG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ0ZvciA9IHByb21pc2U7XG4gICAgICAgICAgICAgICAgcm9vdC5fd2FpdGluZ1F1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgaW50ZXJhY3Rpbmcgd2l0aCBpbmRleGVkREIgdW50aWwgcHJvbWlzZSBjb21wbGV0ZXM6XG4gICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gcm9vdC5pZGJ0cmFucy5vYmplY3RTdG9yZShyb290LnN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgICAgIChmdW5jdGlvbiBzcGluKCkge1xuICAgICAgICAgICAgICAgICAgICArK3Jvb3QuX3NwaW5Db3VudDsgLy8gRm9yIGRlYnVnZ2luZyBvbmx5XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChyb290Ll93YWl0aW5nUXVldWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHJvb3QuX3dhaXRpbmdRdWV1ZS5zaGlmdCgpKSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vdC5fd2FpdGluZ0ZvcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmdldCgtSW5maW5pdHkpLm9uc3VjY2VzcyA9IHNwaW47XG4gICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50V2FpdFByb21pc2UgPSByb290Ll93YWl0aW5nRm9yO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gcm9vdC5fd2FpdGluZ1F1ZXVlLnB1c2god3JhcChyZXNvbHZlLmJpbmQobnVsbCwgcmVzKSkpOyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByb290Ll93YWl0aW5nUXVldWUucHVzaCh3cmFwKHJlamVjdC5iaW5kKG51bGwsIGVycikpKTsgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290Ll93YWl0aW5nRm9yID09PSBjdXJyZW50V2FpdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vIG9uZSBhZGRlZCBhIHdhaXQgYWZ0ZXIgdXMuIFNhZmUgdG8gc3RvcCB0aGUgc3Bpbm5pbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICByb290Ll93YWl0aW5nRm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRyYW5zYWN0aW9uIFB1YmxpYyBQcm9wZXJ0aWVzIGFuZCBNZXRob2RzXG4gICAgICAgIC8vXG4gICAgICAgIGFib3J0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSAmJiB0aGlzLl9yZWplY3QobmV3IGV4Y2VwdGlvbnMuQWJvcnQoKSk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICB0YWJsZXM6IHtcbiAgICAgICAgICAgIGdldDogZGVwcmVjYXRlZChcIlRyYW5zYWN0aW9uLnRhYmxlc1wiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhbGxUYWJsZXM7IH0pXG4gICAgICAgIH0sXG4gICAgICAgIHRhYmxlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gZGIudGFibGUobmFtZSk7IC8vIERvbid0IGNoZWNrIHRoYXQgdGFibGUgaXMgcGFydCBvZiB0cmFuc2FjdGlvbi4gSXQgbXVzdCBmYWlsIGxhemlseSFcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGFibGUobmFtZSwgdGFibGUuc2NoZW1hLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIC8vIFdoZXJlQ2xhdXNlXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgZnVuY3Rpb24gV2hlcmVDbGF1c2UodGFibGUsIGluZGV4LCBvckNvbGxlY3Rpb24pIHtcbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidGFibGVcIiB0eXBlPVwiVGFibGVcIj48L3BhcmFtPlxuICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbmRleFwiIHR5cGU9XCJTdHJpbmdcIiBvcHRpb25hbD1cInRydWVcIj48L3BhcmFtPlxuICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJvckNvbGxlY3Rpb25cIiB0eXBlPVwiQ29sbGVjdGlvblwiIG9wdGlvbmFsPVwidHJ1ZVwiPjwvcGFyYW0+XG4gICAgICAgIHRoaXMuX2N0eCA9IHtcbiAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCA9PT0gXCI6aWRcIiA/IG51bGwgOiBpbmRleCxcbiAgICAgICAgICAgIG9yOiBvckNvbGxlY3Rpb25cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvcHMoV2hlcmVDbGF1c2UucHJvdG90eXBlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdoZXJlQ2xhdXNlIHByaXZhdGUgbWV0aG9kc1xuICAgICAgICBmdW5jdGlvbiBmYWlsKGNvbGxlY3Rpb25PcldoZXJlQ2xhdXNlLCBlcnIsIFQpIHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0aW9uID0gY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UgaW5zdGFuY2VvZiBXaGVyZUNsYXVzZSA/XG4gICAgICAgICAgICAgICAgbmV3IENvbGxlY3Rpb24oY29sbGVjdGlvbk9yV2hlcmVDbGF1c2UpIDpcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uT3JXaGVyZUNsYXVzZTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uX2N0eC5lcnJvciA9IFQgPyBuZXcgVChlcnIpIDogbmV3IFR5cGVFcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZW1wdHlDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24od2hlcmVDbGF1c2UsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIElEQktleVJhbmdlLm9ubHkoXCJcIik7IH0pLmxpbWl0KDApO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHVwcGVyRmFjdG9yeShkaXIpIHtcbiAgICAgICAgICAgIHJldHVybiBkaXIgPT09IFwibmV4dFwiID8gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfSA6IGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnRvTG93ZXJDYXNlKCk7IH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbG93ZXJGYWN0b3J5KGRpcikge1xuICAgICAgICAgICAgcmV0dXJuIGRpciA9PT0gXCJuZXh0XCIgPyBmdW5jdGlvbiAocykgeyByZXR1cm4gcy50b0xvd2VyQ2FzZSgpOyB9IDogZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMudG9VcHBlckNhc2UoKTsgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBuZXh0Q2FzaW5nKGtleSwgbG93ZXJLZXksIHVwcGVyTmVlZGxlLCBsb3dlck5lZWRsZSwgY21wLCBkaXIpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihrZXkubGVuZ3RoLCBsb3dlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIGxscCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBsd3JLZXlDaGFyID0gbG93ZXJLZXlbaV07XG4gICAgICAgICAgICAgICAgaWYgKGx3cktleUNoYXIgIT09IGxvd2VyTmVlZGxlW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAoa2V5W2ldLCB1cHBlck5lZWRsZVtpXSkgPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyB1cHBlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbXAoa2V5W2ldLCBsb3dlck5lZWRsZVtpXSkgPCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleS5zdWJzdHIoMCwgaSkgKyBsb3dlck5lZWRsZVtpXSArIHVwcGVyTmVlZGxlLnN1YnN0cihpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsbHAgPj0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkuc3Vic3RyKDAsIGxscCkgKyBsb3dlcktleVtsbHBdICsgdXBwZXJOZWVkbGUuc3Vic3RyKGxscCArIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNtcChrZXlbaV0sIGx3cktleUNoYXIpIDwgMClcbiAgICAgICAgICAgICAgICAgICAgbGxwID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZW5ndGggPCBsb3dlck5lZWRsZS5sZW5ndGggJiYgZGlyID09PSBcIm5leHRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICsgdXBwZXJOZWVkbGUuc3Vic3RyKGtleS5sZW5ndGgpO1xuICAgICAgICAgICAgaWYgKGxlbmd0aCA8IGtleS5sZW5ndGggJiYgZGlyID09PSBcInByZXZcIilcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnN1YnN0cigwLCB1cHBlck5lZWRsZS5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIChsbHAgPCAwID8gbnVsbCA6IGtleS5zdWJzdHIoMCwgbGxwKSArIGxvd2VyTmVlZGxlW2xscF0gKyB1cHBlck5lZWRsZS5zdWJzdHIobGxwICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZElnbm9yZUNhc2VBbGdvcml0aG0od2hlcmVDbGF1c2UsIG1hdGNoLCBuZWVkbGVzLCBzdWZmaXgpIHtcbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5lZWRsZXNcIiB0eXBlPVwiQXJyYXlcIiBlbGVtZW50VHlwZT1cIlN0cmluZ1wiPjwvcGFyYW0+XG4gICAgICAgICAgICB2YXIgdXBwZXIsIGxvd2VyLCBjb21wYXJlLCB1cHBlck5lZWRsZXMsIGxvd2VyTmVlZGxlcywgZGlyZWN0aW9uLCBuZXh0S2V5U3VmZml4LCBuZWVkbGVzTGVuID0gbmVlZGxlcy5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoIW5lZWRsZXMuZXZlcnkoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHR5cGVvZiBzID09PSAnc3RyaW5nJzsgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh3aGVyZUNsYXVzZSwgU1RSSU5HX0VYUEVDVEVEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXREaXJlY3Rpb24oZGlyKSB7XG4gICAgICAgICAgICAgICAgdXBwZXIgPSB1cHBlckZhY3RvcnkoZGlyKTtcbiAgICAgICAgICAgICAgICBsb3dlciA9IGxvd2VyRmFjdG9yeShkaXIpO1xuICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyID09PSBcIm5leHRcIiA/IHNpbXBsZUNvbXBhcmUgOiBzaW1wbGVDb21wYXJlUmV2ZXJzZSk7XG4gICAgICAgICAgICAgICAgdmFyIG5lZWRsZUJvdW5kcyA9IG5lZWRsZXMubWFwKGZ1bmN0aW9uIChuZWVkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbG93ZXI6IGxvd2VyKG5lZWRsZSksIHVwcGVyOiB1cHBlcihuZWVkbGUpIH07XG4gICAgICAgICAgICAgICAgfSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZShhLmxvd2VyLCBiLmxvd2VyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB1cHBlck5lZWRsZXMgPSBuZWVkbGVCb3VuZHMubWFwKGZ1bmN0aW9uIChuYikgeyByZXR1cm4gbmIudXBwZXI7IH0pO1xuICAgICAgICAgICAgICAgIGxvd2VyTmVlZGxlcyA9IG5lZWRsZUJvdW5kcy5tYXAoZnVuY3Rpb24gKG5iKSB7IHJldHVybiBuYi5sb3dlcjsgfSk7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gZGlyO1xuICAgICAgICAgICAgICAgIG5leHRLZXlTdWZmaXggPSAoZGlyID09PSBcIm5leHRcIiA/IFwiXCIgOiBzdWZmaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5pdERpcmVjdGlvbihcIm5leHRcIik7XG4gICAgICAgICAgICB2YXIgYyA9IG5ldyBDb2xsZWN0aW9uKHdoZXJlQ2xhdXNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHVwcGVyTmVlZGxlc1swXSwgbG93ZXJOZWVkbGVzW25lZWRsZXNMZW4gLSAxXSArIHN1ZmZpeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGMuX29uZGlyZWN0aW9uY2hhbmdlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZXZlbnQgb25seXMgb2NjdXIgYmVmb3JlIGZpbHRlciBpcyBjYWxsZWQgdGhlIGZpcnN0IHRpbWUuXG4gICAgICAgICAgICAgICAgaW5pdERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBmaXJzdFBvc3NpYmxlTmVlZGxlID0gMDtcbiAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiY3Vyc29yXCIgdHlwZT1cIklEQkN1cnNvclwiPjwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiYWR2YW5jZVwiIHR5cGU9XCJGdW5jdGlvblwiPjwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwicmVzb2x2ZVwiIHR5cGU9XCJGdW5jdGlvblwiPjwvcGFyYW0+XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGN1cnNvci5rZXk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGxvd2VyS2V5ID0gbG93ZXIoa2V5KTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2gobG93ZXJLZXksIGxvd2VyTmVlZGxlcywgZmlyc3RQb3NzaWJsZU5lZWRsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbG93ZXN0UG9zc2libGVDYXNpbmcgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RQb3NzaWJsZU5lZWRsZTsgaSA8IG5lZWRsZXNMZW47ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhc2luZyA9IG5leHRDYXNpbmcoa2V5LCBsb3dlcktleSwgdXBwZXJOZWVkbGVzW2ldLCBsb3dlck5lZWRsZXNbaV0sIGNvbXBhcmUsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FzaW5nID09PSBudWxsICYmIGxvd2VzdFBvc3NpYmxlQ2FzaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0UG9zc2libGVOZWVkbGUgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvd2VzdFBvc3NpYmxlQ2FzaW5nID09PSBudWxsIHx8IGNvbXBhcmUobG93ZXN0UG9zc2libGVDYXNpbmcsIGNhc2luZykgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXN0UG9zc2libGVDYXNpbmcgPSBjYXNpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHsgY3Vyc29yLmNvbnRpbnVlKGxvd2VzdFBvc3NpYmxlQ2FzaW5nICsgbmV4dEtleVN1ZmZpeCk7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfVxuICAgICAgICAvL1xuICAgICAgICAvLyBXaGVyZUNsYXVzZSBwdWJsaWMgbWV0aG9kc1xuICAgICAgICAvL1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmV0d2VlbjogZnVuY3Rpb24gKGxvd2VyLCB1cHBlciwgaW5jbHVkZUxvd2VyLCBpbmNsdWRlVXBwZXIpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vICAgICBGaWx0ZXIgb3V0IHJlY29yZHMgd2hvc2Ugd2hlcmUtZmllbGQgbGF5cyBiZXR3ZWVuIGdpdmVuIGxvd2VyIGFuZCB1cHBlciB2YWx1ZXMuIEFwcGxpZXMgdG8gU3RyaW5ncywgTnVtYmVycyBhbmQgRGF0ZXMuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJsb3dlclwiPjwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidXBwZXJcIj48L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImluY2x1ZGVMb3dlclwiIG9wdGlvbmFsPVwidHJ1ZVwiPldoZXRoZXIgaXRlbXMgdGhhdCBlcXVhbHMgbG93ZXIgc2hvdWxkIGJlIGluY2x1ZGVkLiBEZWZhdWx0IHRydWUuPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbmNsdWRlVXBwZXJcIiBvcHRpb25hbD1cInRydWVcIj5XaGV0aGVyIGl0ZW1zIHRoYXQgZXF1YWxzIHVwcGVyIHNob3VsZCBiZSBpbmNsdWRlZC4gRGVmYXVsdCBmYWxzZS48L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiQ29sbGVjdGlvblwiPjwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICBpbmNsdWRlTG93ZXIgPSBpbmNsdWRlTG93ZXIgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICAgICAgICAgICAgICBpbmNsdWRlVXBwZXIgPSBpbmNsdWRlVXBwZXIgPT09IHRydWU7IC8vIERlZmF1bHQgdG8gZmFsc2VcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoKGNtcChsb3dlciwgdXBwZXIpID4gMCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbXAobG93ZXIsIHVwcGVyKSA9PT0gMCAmJiAoaW5jbHVkZUxvd2VyIHx8IGluY2x1ZGVVcHBlcikgJiYgIShpbmNsdWRlTG93ZXIgJiYgaW5jbHVkZVVwcGVyKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpOyAvLyBXb3JrYXJvdW5kIGZvciBpZGlvdGljIFczQyBTcGVjaWZpY2F0aW9uIHRoYXQgRGF0YUVycm9yIG11c3QgYmUgdGhyb3duIGlmIGxvd2VyID4gdXBwZXIuIFRoZSBuYXR1cmFsIHJlc3VsdCB3b3VsZCBiZSB0byByZXR1cm4gYW4gZW1wdHkgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKGxvd2VyLCB1cHBlciwgIWluY2x1ZGVMb3dlciwgIWluY2x1ZGVVcHBlcik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVxdWFsczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIElEQktleVJhbmdlLm9ubHkodmFsdWUpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhYm92ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQodmFsdWUsIHRydWUpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhYm92ZU9yRXF1YWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHZhbHVlKTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmVsb3c6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvbih0aGlzLCBmdW5jdGlvbiAoKSB7IHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKHZhbHVlLCB0cnVlKTsgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmVsb3dPckVxdWFsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZCh2YWx1ZSk7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXJ0c1dpdGg6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdHJcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIFNUUklOR19FWFBFQ1RFRCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmV0d2VlbihzdHIsIHN0ciArIG1heFN0cmluZywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RhcnRzV2l0aElnbm9yZUNhc2U6IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdHJcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAgICAgICAgICAgICBpZiAoc3RyID09PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydHNXaXRoKHN0cik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZElnbm9yZUNhc2VBbGdvcml0aG0odGhpcywgZnVuY3Rpb24gKHgsIGEpIHsgcmV0dXJuIHguaW5kZXhPZihhWzBdKSA9PT0gMDsgfSwgW3N0cl0sIG1heFN0cmluZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXF1YWxzSWdub3JlQ2FzZTogZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInN0clwiIHR5cGU9XCJTdHJpbmdcIj48L3BhcmFtPlxuICAgICAgICAgICAgICAgIHJldHVybiBhZGRJZ25vcmVDYXNlQWxnb3JpdGhtKHRoaXMsIGZ1bmN0aW9uICh4LCBhKSB7IHJldHVybiB4ID09PSBhWzBdOyB9LCBbc3RyXSwgXCJcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW55T2ZJZ25vcmVDYXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkgeyByZXR1cm4gYS5pbmRleE9mKHgpICE9PSAtMTsgfSwgc2V0LCBcIlwiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGFydHNXaXRoQW55T2ZJZ25vcmVDYXNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldCA9IGdldEFycmF5T2YuYXBwbHkoTk9fQ0hBUl9BUlJBWSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkSWdub3JlQ2FzZUFsZ29yaXRobSh0aGlzLCBmdW5jdGlvbiAoeCwgYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5zb21lKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5pbmRleE9mKG4pID09PSAwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBzZXQsIG1heFN0cmluZyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW55T2Y6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHZhciBjb21wYXJlID0gYXNjZW5kaW5nO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5zb3J0KGNvbXBhcmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBjID0gbmV3IENvbGxlY3Rpb24odGhpcywgZnVuY3Rpb24gKCkgeyByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoc2V0WzBdLCBzZXRbc2V0Lmxlbmd0aCAtIDFdKTsgfSk7XG4gICAgICAgICAgICAgICAgYy5fb25kaXJlY3Rpb25jaGFuZ2UgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmUgPSAoZGlyZWN0aW9uID09PSBcIm5leHRcIiA/IGFzY2VuZGluZyA6IGRlc2NlbmRpbmcpO1xuICAgICAgICAgICAgICAgICAgICBzZXQuc29ydChjb21wYXJlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICBjLl9hZGRBbGdvcml0aG0oZnVuY3Rpb24gKGN1cnNvciwgYWR2YW5jZSwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gY3Vyc29yLmtleTtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnNvciBoYXMgcGFzc2VkIGJleW9uZCB0aGlzIGtleS4gQ2hlY2sgbmV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gbmV4dC4gU3RvcCBzZWFyY2hpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBhcmUoa2V5LCBzZXRbaV0pID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBjdXJzb3IgdmFsdWUgc2hvdWxkIGJlIGluY2x1ZGVkIGFuZCB3ZSBzaG91bGQgY29udGludWUgYSBzaW5nbGUgc3RlcCBpbiBjYXNlIG5leHQgaXRlbSBoYXMgdGhlIHNhbWUga2V5IG9yIHBvc3NpYmx5IG91ciBuZXh0IGtleSBpbiBzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnNvci5rZXkgbm90IHlldCBhdCBzZXRbaV0uIEZvcndhcmQgY3Vyc29yIHRvIHRoZSBuZXh0IGtleSB0byBodW50IGZvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkgeyBjdXJzb3IuY29udGludWUoc2V0W2ldKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub3RFcXVhbDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5BbnlSYW5nZShbW21pbktleSwgdmFsdWVdLCBbdmFsdWUsIG1heEtleV1dLCB7IGluY2x1ZGVMb3dlcnM6IGZhbHNlLCBpbmNsdWRlVXBwZXJzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub25lT2Y6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb24odGhpcyk7IC8vIFJldHVybiBlbnRpcmUgY29sbGVjdGlvbi5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzZXQuc29ydChhc2NlbmRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBJTlZBTElEX0tFWV9BUkdVTUVOVCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRyYW5zZm9ybSBbXCJhXCIsXCJiXCIsXCJjXCJdIHRvIGEgc2V0IG9mIHJhbmdlcyBmb3IgYmV0d2Vlbi9hYm92ZS9iZWxvdzogW1ttaW5LZXksXCJhXCJdLCBbXCJhXCIsXCJiXCJdLCBbXCJiXCIsXCJjXCJdLCBbXCJjXCIsbWF4S2V5XV1cbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gc2V0LnJlZHVjZShmdW5jdGlvbiAocmVzLCB2YWwpIHsgcmV0dXJuIHJlcyA/IHJlcy5jb25jYXQoW1tyZXNbcmVzLmxlbmd0aCAtIDFdWzFdLCB2YWxdXSkgOiBbW21pbktleSwgdmFsXV07IH0sIG51bGwpO1xuICAgICAgICAgICAgICAgIHJhbmdlcy5wdXNoKFtzZXRbc2V0Lmxlbmd0aCAtIDFdLCBtYXhLZXldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbkFueVJhbmdlKHJhbmdlcywgeyBpbmNsdWRlTG93ZXJzOiBmYWxzZSwgaW5jbHVkZVVwcGVyczogZmFsc2UgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqIEZpbHRlciBvdXQgdmFsdWVzIHdpdGhpbmcgZ2l2ZW4gc2V0IG9mIHJhbmdlcy5cbiAgICAgICAgICAgICogRXhhbXBsZSwgZ2l2ZSBjaGlsZHJlbiBhbmQgZWxkZXJzIGEgcmViYXRlIG9mIDUwJTpcbiAgICAgICAgICAgICpcbiAgICAgICAgICAgICogICBkYi5mcmllbmRzLndoZXJlKCdhZ2UnKS5pbkFueVJhbmdlKFtbMCwxOF0sWzY1LEluZmluaXR5XV0pLm1vZGlmeSh7UmViYXRlOiAxLzJ9KTtcbiAgICAgICAgICAgICpcbiAgICAgICAgICAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcnxEYXRlfEFycmF5KVtdW119IHJhbmdlc1xuICAgICAgICAgICAgKiBAcGFyYW0ge3tpbmNsdWRlTG93ZXJzOiBib29sZWFuLCBpbmNsdWRlVXBwZXJzOiBib29sZWFufX0gb3B0aW9uc1xuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluQW55UmFuZ2U6IGZ1bmN0aW9uIChyYW5nZXMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtcHR5Q29sbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlcy5ldmVyeShmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIHJhbmdlWzBdICE9PSB1bmRlZmluZWQgJiYgcmFuZ2VbMV0gIT09IHVuZGVmaW5lZCAmJiBhc2NlbmRpbmcocmFuZ2VbMF0sIHJhbmdlWzFdKSA8PSAwOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCh0aGlzLCBcIkZpcnN0IGFyZ3VtZW50IHRvIGluQW55UmFuZ2UoKSBtdXN0IGJlIGFuIEFycmF5IG9mIHR3by12YWx1ZSBBcnJheXMgW2xvd2VyLHVwcGVyXSB3aGVyZSB1cHBlciBtdXN0IG5vdCBiZSBsb3dlciB0aGFuIGxvd2VyXCIsIGV4Y2VwdGlvbnMuSW52YWxpZEFyZ3VtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGluY2x1ZGVMb3dlcnMgPSAhb3B0aW9ucyB8fCBvcHRpb25zLmluY2x1ZGVMb3dlcnMgIT09IGZhbHNlOyAvLyBEZWZhdWx0IHRvIHRydWVcbiAgICAgICAgICAgICAgICB2YXIgaW5jbHVkZVVwcGVycyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5pbmNsdWRlVXBwZXJzID09PSB0cnVlOyAvLyBEZWZhdWx0IHRvIGZhbHNlXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkUmFuZ2UocmFuZ2VzLCBuZXdSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJhbmdlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbXAobmV3UmFuZ2VbMF0sIHJhbmdlWzFdKSA8IDAgJiYgY21wKG5ld1JhbmdlWzFdLCByYW5nZVswXSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbMF0gPSBtaW4ocmFuZ2VbMF0sIG5ld1JhbmdlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZVsxXSA9IG1heChyYW5nZVsxXSwgbmV3UmFuZ2VbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VzLnB1c2gobmV3UmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc29ydERpcmVjdGlvbiA9IGFzY2VuZGluZztcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByYW5nZVNvcnRlcihhLCBiKSB7IHJldHVybiBzb3J0RGlyZWN0aW9uKGFbMF0sIGJbMF0pOyB9XG4gICAgICAgICAgICAgICAgLy8gSm9pbiBvdmVybGFwcGluZyByYW5nZXNcbiAgICAgICAgICAgICAgICB2YXIgc2V0O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHNldCA9IHJhbmdlcy5yZWR1Y2UoYWRkUmFuZ2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0LnNvcnQocmFuZ2VTb3J0ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwodGhpcywgSU5WQUxJRF9LRVlfQVJHVU1FTlQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGtleUlzQmV5b25kQ3VycmVudEVudHJ5ID0gaW5jbHVkZVVwcGVycyA/XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGFzY2VuZGluZyhrZXksIHNldFtpXVsxXSkgPiAwOyB9IDpcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYXNjZW5kaW5nKGtleSwgc2V0W2ldWzFdKSA+PSAwOyB9O1xuICAgICAgICAgICAgICAgIHZhciBrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeSA9IGluY2x1ZGVMb3dlcnMgP1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZXNjZW5kaW5nKGtleSwgc2V0W2ldWzBdKSA+IDA7IH0gOlxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBkZXNjZW5kaW5nKGtleSwgc2V0W2ldWzBdKSA+PSAwOyB9O1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGtleVdpdGhpbkN1cnJlbnRSYW5nZShrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFrZXlJc0JleW9uZEN1cnJlbnRFbnRyeShrZXkpICYmICFrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeShrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tLZXkgPSBrZXlJc0JleW9uZEN1cnJlbnRFbnRyeTtcbiAgICAgICAgICAgICAgICB2YXIgYyA9IG5ldyBDb2xsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHNldFswXVswXSwgc2V0W3NldC5sZW5ndGggLSAxXVsxXSwgIWluY2x1ZGVMb3dlcnMsICFpbmNsdWRlVXBwZXJzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjLl9vbmRpcmVjdGlvbmNoYW5nZSA9IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrS2V5ID0ga2V5SXNCZXlvbmRDdXJyZW50RW50cnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gYXNjZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tLZXkgPSBrZXlJc0JlZm9yZUN1cnJlbnRFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnREaXJlY3Rpb24gPSBkZXNjZW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldC5zb3J0KHJhbmdlU29ydGVyKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGMuX2FkZEFsZ29yaXRobShmdW5jdGlvbiAoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hlY2tLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnNvciBoYXMgcGFzc2VkIGJleW9uZCB0aGlzIGtleS4gQ2hlY2sgbmV4dC5cbiAgICAgICAgICAgICAgICAgICAgICAgICsraTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBzZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gbmV4dC4gU3RvcCBzZWFyY2hpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVdpdGhpbkN1cnJlbnRSYW5nZShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCBjdXJzb3IgdmFsdWUgc2hvdWxkIGJlIGluY2x1ZGVkIGFuZCB3ZSBzaG91bGQgY29udGludWUgYSBzaW5nbGUgc3RlcCBpbiBjYXNlIG5leHQgaXRlbSBoYXMgdGhlIHNhbWUga2V5IG9yIHBvc3NpYmx5IG91ciBuZXh0IGtleSBpbiBzZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjbXAoa2V5LCBzZXRbaV1bMV0pID09PSAwIHx8IGNtcChrZXksIHNldFtpXVswXSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluY2x1ZGVVcHBlciBvciBpbmNsdWRlTG93ZXIgaXMgZmFsc2Ugc28ga2V5V2l0aGluQ3VycmVudFJhbmdlKCkgcmV0dXJucyBmYWxzZSBldmVuIHRob3VnaCB3ZSBhcmUgYXQgcmFuZ2UgYm9yZGVyLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgdG8gbmV4dCBrZXkgYnV0IGRvbid0IGluY2x1ZGUgdGhpcyBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJzb3Iua2V5IG5vdCB5ZXQgYXQgc2V0W2ldLiBGb3J3YXJkIGN1cnNvciB0byB0aGUgbmV4dCBrZXkgdG8gaHVudCBmb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc29ydERpcmVjdGlvbiA9PT0gYXNjZW5kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoc2V0W2ldWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZShzZXRbaV1bMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGFydHNXaXRoQW55T2Y6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0ID0gZ2V0QXJyYXlPZi5hcHBseShOT19DSEFSX0FSUkFZLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIGlmICghc2V0LmV2ZXJ5KGZ1bmN0aW9uIChzKSB7IHJldHVybiB0eXBlb2YgcyA9PT0gJ3N0cmluZyc7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKHRoaXMsIFwic3RhcnRzV2l0aEFueU9mKCkgb25seSB3b3JrcyB3aXRoIHN0cmluZ3NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZXQubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlDb2xsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluQW55UmFuZ2Uoc2V0Lm1hcChmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbc3RyLCBzdHIgKyBtYXhTdHJpbmddO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyBDb2xsZWN0aW9uIENsYXNzXG4gICAgLy9cbiAgICAvL1xuICAgIC8vXG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbih3aGVyZUNsYXVzZSwga2V5UmFuZ2VHZW5lcmF0b3IpIHtcbiAgICAgICAgLy8vIDxzdW1tYXJ5PlxuICAgICAgICAvLy9cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwid2hlcmVDbGF1c2VcIiB0eXBlPVwiV2hlcmVDbGF1c2VcIj5XaGVyZSBjbGF1c2UgaW5zdGFuY2U8L3BhcmFtPlxuICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJrZXlSYW5nZUdlbmVyYXRvclwiIHZhbHVlPVwiZnVuY3Rpb24oKXsgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKDAsMSk7fVwiIG9wdGlvbmFsPVwidHJ1ZVwiPjwvcGFyYW0+XG4gICAgICAgIHZhciBrZXlSYW5nZSA9IG51bGwsIGVycm9yID0gbnVsbDtcbiAgICAgICAgaWYgKGtleVJhbmdlR2VuZXJhdG9yKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBrZXlSYW5nZSA9IGtleVJhbmdlR2VuZXJhdG9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB2YXIgd2hlcmVDdHggPSB3aGVyZUNsYXVzZS5fY3R4LCB0YWJsZSA9IHdoZXJlQ3R4LnRhYmxlO1xuICAgICAgICB0aGlzLl9jdHggPSB7XG4gICAgICAgICAgICB0YWJsZTogdGFibGUsXG4gICAgICAgICAgICBpbmRleDogd2hlcmVDdHguaW5kZXgsXG4gICAgICAgICAgICBpc1ByaW1LZXk6ICghd2hlcmVDdHguaW5kZXggfHwgKHRhYmxlLnNjaGVtYS5wcmltS2V5LmtleVBhdGggJiYgd2hlcmVDdHguaW5kZXggPT09IHRhYmxlLnNjaGVtYS5wcmltS2V5Lm5hbWUpKSxcbiAgICAgICAgICAgIHJhbmdlOiBrZXlSYW5nZSxcbiAgICAgICAgICAgIGtleXNPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIGRpcjogXCJuZXh0XCIsXG4gICAgICAgICAgICB1bmlxdWU6IFwiXCIsXG4gICAgICAgICAgICBhbGdvcml0aG06IG51bGwsXG4gICAgICAgICAgICBmaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICByZXBsYXlGaWx0ZXI6IG51bGwsXG4gICAgICAgICAgICBqdXN0TGltaXQ6IHRydWUsXG4gICAgICAgICAgICBpc01hdGNoOiBudWxsLFxuICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgbGltaXQ6IEluZmluaXR5LFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgb3I6IHdoZXJlQ3R4Lm9yLFxuICAgICAgICAgICAgdmFsdWVNYXBwZXI6IHRhYmxlLmhvb2sucmVhZGluZy5maXJlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUGxhaW5LZXlSYW5nZShjdHgsIGlnbm9yZUxpbWl0RmlsdGVyKSB7XG4gICAgICAgIHJldHVybiAhKGN0eC5maWx0ZXIgfHwgY3R4LmFsZ29yaXRobSB8fCBjdHgub3IpICYmXG4gICAgICAgICAgICAoaWdub3JlTGltaXRGaWx0ZXIgPyBjdHguanVzdExpbWl0IDogIWN0eC5yZXBsYXlGaWx0ZXIpO1xuICAgIH1cbiAgICBwcm9wcyhDb2xsZWN0aW9uLnByb3RvdHlwZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1xuICAgICAgICAvLyBDb2xsZWN0aW9uIFByaXZhdGUgRnVuY3Rpb25zXG4gICAgICAgIC8vXG4gICAgICAgIGZ1bmN0aW9uIGFkZEZpbHRlcihjdHgsIGZuKSB7XG4gICAgICAgICAgICBjdHguZmlsdGVyID0gY29tYmluZShjdHguZmlsdGVyLCBmbik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYWRkUmVwbGF5RmlsdGVyKGN0eCwgZmFjdG9yeSwgaXNMaW1pdEZpbHRlcikge1xuICAgICAgICAgICAgdmFyIGN1cnIgPSBjdHgucmVwbGF5RmlsdGVyO1xuICAgICAgICAgICAgY3R4LnJlcGxheUZpbHRlciA9IGN1cnIgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21iaW5lKGN1cnIoKSwgZmFjdG9yeSgpKTsgfSA6IGZhY3Rvcnk7XG4gICAgICAgICAgICBjdHguanVzdExpbWl0ID0gaXNMaW1pdEZpbHRlciAmJiAhY3VycjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRNYXRjaEZpbHRlcihjdHgsIGZuKSB7XG4gICAgICAgICAgICBjdHguaXNNYXRjaCA9IGNvbWJpbmUoY3R4LmlzTWF0Y2gsIGZuKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogQHBhcmFtIGN0eCB7XG4gICAgICAgICAqICAgICAgaXNQcmltS2V5OiBib29sZWFuLFxuICAgICAgICAgKiAgICAgIHRhYmxlOiBUYWJsZSxcbiAgICAgICAgICogICAgICBpbmRleDogc3RyaW5nXG4gICAgICAgICAqIH1cbiAgICAgICAgICogQHBhcmFtIHN0b3JlIElEQk9iamVjdFN0b3JlXG4gICAgICAgICAqKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0SW5kZXhPclN0b3JlKGN0eCwgc3RvcmUpIHtcbiAgICAgICAgICAgIGlmIChjdHguaXNQcmltS2V5KVxuICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZTtcbiAgICAgICAgICAgIHZhciBpbmRleFNwZWMgPSBjdHgudGFibGUuc2NoZW1hLmlkeEJ5TmFtZVtjdHguaW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpbmRleFNwZWMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IGV4Y2VwdGlvbnMuU2NoZW1hKFwiS2V5UGF0aCBcIiArIGN0eC5pbmRleCArIFwiIG9uIG9iamVjdCBzdG9yZSBcIiArIHN0b3JlLm5hbWUgKyBcIiBpcyBub3QgaW5kZXhlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5pbmRleChpbmRleFNwZWMubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIEBwYXJhbSBjdHgge1xuICAgICAgICAgKiAgICAgIGlzUHJpbUtleTogYm9vbGVhbixcbiAgICAgICAgICogICAgICB0YWJsZTogVGFibGUsXG4gICAgICAgICAqICAgICAgaW5kZXg6IHN0cmluZyxcbiAgICAgICAgICogICAgICBrZXlzT25seTogYm9vbGVhbixcbiAgICAgICAgICogICAgICByYW5nZT86IElEQktleVJhbmdlLFxuICAgICAgICAgKiAgICAgIGRpcjogXCJuZXh0XCIgfCBcInByZXZcIlxuICAgICAgICAgKiB9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvcGVuQ3Vyc29yKGN0eCwgc3RvcmUpIHtcbiAgICAgICAgICAgIHZhciBpZHhPclN0b3JlID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgc3RvcmUpO1xuICAgICAgICAgICAgcmV0dXJuIGN0eC5rZXlzT25seSAmJiAnb3BlbktleUN1cnNvcicgaW4gaWR4T3JTdG9yZSA/XG4gICAgICAgICAgICAgICAgaWR4T3JTdG9yZS5vcGVuS2V5Q3Vyc29yKGN0eC5yYW5nZSB8fCBudWxsLCBjdHguZGlyICsgY3R4LnVuaXF1ZSkgOlxuICAgICAgICAgICAgICAgIGlkeE9yU3RvcmUub3BlbkN1cnNvcihjdHgucmFuZ2UgfHwgbnVsbCwgY3R4LmRpciArIGN0eC51bmlxdWUpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGl0ZXIoY3R4LCBmbiwgcmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGN0eC5yZXBsYXlGaWx0ZXIgPyBjb21iaW5lKGN0eC5maWx0ZXIsIGN0eC5yZXBsYXlGaWx0ZXIoKSkgOiBjdHguZmlsdGVyO1xuICAgICAgICAgICAgaWYgKCFjdHgub3IpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRlKG9wZW5DdXJzb3IoY3R4LCBpZGJzdG9yZSksIGNvbWJpbmUoY3R4LmFsZ29yaXRobSwgZmlsdGVyKSwgZm4sIHJlc29sdmUsIHJlamVjdCwgIWN0eC5rZXlzT25seSAmJiBjdHgudmFsdWVNYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXQgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc29sdmVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZWJvdGgoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKytyZXNvbHZlZCA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7IC8vIFNlZW1zIGxpa2Ugd2UganVzdCBzdXBwb3J0IG9yIGJ0d24gbWF4IDIgZXhwcmVzc2lvbnMsIGJ1dCB0aGVyZSBhcmUgbm8gbGltaXQgYmVjYXVzZSB3ZSBkbyByZWN1cnNpb24uXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdW5pb24oaXRlbSwgY3Vyc29yLCBhZHZhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIoY3Vyc29yLCBhZHZhbmNlLCByZXNvbHZlYm90aCwgcmVqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmltYXJ5S2V5ID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9ICcnICsgcHJpbWFyeUtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSAnJyArIG5ldyBVaW50OEFycmF5KHByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFzT3duKHNldCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZuKGl0ZW0sIGN1cnNvciwgYWR2YW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN0eC5vci5faXRlcmF0ZSh1bmlvbiwgcmVzb2x2ZWJvdGgsIHJlamVjdCwgaWRic3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRlKG9wZW5DdXJzb3IoY3R4LCBpZGJzdG9yZSksIGN0eC5hbGdvcml0aG0sIHVuaW9uLCByZXNvbHZlYm90aCwgcmVqZWN0LCAhY3R4LmtleXNPbmx5ICYmIGN0eC52YWx1ZU1hcHBlcik7XG4gICAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIENvbGxlY3Rpb24gUHJvdGVjdGVkIEZ1bmN0aW9uc1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIF9yZWFkOiBmdW5jdGlvbiAoZm4sIGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LmVycm9yID9cbiAgICAgICAgICAgICAgICAgICAgY3R4LnRhYmxlLl90cmFucyhudWxsLCByZWplY3Rpb24uYmluZChudWxsLCBjdHguZXJyb3IpKSA6XG4gICAgICAgICAgICAgICAgICAgIGN0eC50YWJsZS5faWRic3RvcmUoUkVBRE9OTFksIGZuKS50aGVuKGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGU6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5lcnJvciA/XG4gICAgICAgICAgICAgICAgICAgIGN0eC50YWJsZS5fdHJhbnMobnVsbCwgcmVqZWN0aW9uLmJpbmQobnVsbCwgY3R4LmVycm9yKSkgOlxuICAgICAgICAgICAgICAgICAgICBjdHgudGFibGUuX2lkYnN0b3JlKFJFQURXUklURSwgZm4sIFwibG9ja2VkXCIpOyAvLyBXaGVuIGRvaW5nIHdyaXRlIG9wZXJhdGlvbnMgb24gY29sbGVjdGlvbnMsIGFsd2F5cyBsb2NrIHRoZSBvcGVyYXRpb24gc28gdGhhdCB1cGNvbWluZyBvcGVyYXRpb25zIGdldHMgcXVldWVkLlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRBbGdvcml0aG06IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgY3R4LmFsZ29yaXRobSA9IGNvbWJpbmUoY3R4LmFsZ29yaXRobSwgZm4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pdGVyYXRlOiBmdW5jdGlvbiAoZm4sIHJlc29sdmUsIHJlamVjdCwgaWRic3RvcmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcih0aGlzLl9jdHgsIGZuLCByZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9uZTogZnVuY3Rpb24gKHByb3BzJCQxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJ2ID0gT2JqZWN0LmNyZWF0ZSh0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSksIGN0eCA9IE9iamVjdC5jcmVhdGUodGhpcy5fY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHMkJDEpXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuZChjdHgsIHByb3BzJCQxKTtcbiAgICAgICAgICAgICAgICBydi5fY3R4ID0gY3R4O1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByYXc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHgudmFsdWVNYXBwZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBDb2xsZWN0aW9uIFB1YmxpYyBtZXRob2RzXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgZWFjaDogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVyKGN0eCwgZm4sIHJlc29sdmUsIHJlamVjdCwgaWRic3RvcmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvdW50OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGlmIChpc1BsYWluS2V5UmFuZ2UoY3R4LCB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgcGxhaW4ga2V5IHJhbmdlLiBXZSBjYW4gdXNlIHRoZSBjb3VudCgpIG1ldGhvZCBpZiB0aGUgaW5kZXguXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gZ2V0SW5kZXhPclN0b3JlKGN0eCwgaWRic3RvcmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IChjdHgucmFuZ2UgPyBpZHguY291bnQoY3R4LnJhbmdlKSA6IGlkeC5jb3VudCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKE1hdGgubWluKGUudGFyZ2V0LnJlc3VsdCwgY3R4LmxpbWl0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGdvcml0aG1zLCBmaWx0ZXJzIG9yIGV4cHJlc3Npb25zIGFyZSBhcHBsaWVkLiBOZWVkIHRvIGNvdW50IG1hbnVhbGx5LlxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVhZChmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcihjdHgsIGZ1bmN0aW9uICgpIHsgKytjb3VudDsgcmV0dXJuIGZhbHNlOyB9LCBmdW5jdGlvbiAoKSB7IHJlc29sdmUoY291bnQpOyB9LCByZWplY3QsIGlkYnN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgY2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzb3J0Qnk6IGZ1bmN0aW9uIChrZXlQYXRoLCBjYikge1xuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImtleVBhdGhcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBrZXlQYXRoLnNwbGl0KCcuJykucmV2ZXJzZSgpLCBsYXN0UGFydCA9IHBhcnRzWzBdLCBsYXN0SW5kZXggPSBwYXJ0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldHZhbChvYmosIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0dmFsKG9ialtwYXJ0c1tpXV0sIGkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ialtsYXN0UGFydF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBvcmRlciA9IHRoaXMuX2N0eC5kaXIgPT09IFwibmV4dFwiID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNvcnRlcihhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhVmFsID0gZ2V0dmFsKGEsIGxhc3RJbmRleCksIGJWYWwgPSBnZXR2YWwoYiwgbGFzdEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFWYWwgPCBiVmFsID8gLW9yZGVyIDogYVZhbCA+IGJWYWwgPyBvcmRlciA6IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc29ydChzb3J0ZXIpO1xuICAgICAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlYWQoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgaWRic3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0dldEFsbCAmJiBjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBvcHRpbWF0aW9uIGlmIHdlIGNvdWxkIHVzZSBJREJPYmplY3RTdG9yZS5nZXRBbGwoKSBvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSURCS2V5UmFuZ2UuZ2V0QWxsKCk6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGluZ0hvb2sgPSBjdHgudGFibGUuaG9vay5yZWFkaW5nLmZpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4T3JTdG9yZSA9IGdldEluZGV4T3JTdG9yZShjdHgsIGlkYnN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBjdHgubGltaXQgPCBJbmZpbml0eSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4T3JTdG9yZS5nZXRBbGwoY3R4LnJhbmdlLCBjdHgubGltaXQpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHhPclN0b3JlLmdldEFsbChjdHgucmFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBldmVudFJlamVjdEhhbmRsZXIocmVqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSByZWFkaW5nSG9vayA9PT0gbWlycm9yID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN1Y2Nlc3NIYW5kbGVyKHJlc29sdmUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN1Y2Nlc3NIYW5kbGVyKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLm1hcChyZWFkaW5nSG9vaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgYXJyYXkgdGhyb3VnaCBhIGN1cnNvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyKGN0eCwgZnVuY3Rpb24gKGl0ZW0pIHsgYS5wdXNoKGl0ZW0pOyB9LCBmdW5jdGlvbiBhcnJheUNvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZWplY3QsIGlkYnN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvZmZzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgY3R4Lm9mZnNldCArPSBvZmZzZXQ7IC8vIEZvciBjb3VudCgpXG4gICAgICAgICAgICAgICAgaWYgKGlzUGxhaW5LZXlSYW5nZShjdHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcihjdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0TGVmdCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldExlZnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3IuYWR2YW5jZShvZmZzZXRMZWZ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRSZXBsYXlGaWx0ZXIoY3R4LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAoLS1vZmZzZXRMZWZ0IDwgMCk7IH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW1pdDogZnVuY3Rpb24gKG51bVJvd3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHgubGltaXQgPSBNYXRoLm1pbih0aGlzLl9jdHgubGltaXQsIG51bVJvd3MpOyAvLyBGb3IgY291bnQoKVxuICAgICAgICAgICAgICAgIGFkZFJlcGxheUZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd3NMZWZ0ID0gbnVtUm93cztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtLXJvd3NMZWZ0IDw9IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZShyZXNvbHZlKTsgLy8gU3RvcCBhZnRlciB0aGlzIGl0ZW0gaGFzIGJlZW4gaW5jbHVkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzTGVmdCA+PSAwOyAvLyBJZiBudW1Sb3dzIGlzIGFscmVhZHkgYmVsb3cgMCwgcmV0dXJuIGZhbHNlIGJlY2F1c2UgdGhlbiAwIHdhcyBwYXNzZWQgdG8gbnVtUm93cyBpbml0aWFsbHkuIE90aGVyd2lzZSB3ZSB3b3VsZG50IGNvbWUgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bnRpbDogZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uLCBiSW5jbHVkZVN0b3BFbnRyeSkge1xuICAgICAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IsIGFkdmFuY2UsIHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckZ1bmN0aW9uKGN1cnNvci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2UocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYkluY2x1ZGVTdG9wRW50cnk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpcnN0OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5saW1pdCgxKS50b0FycmF5KGZ1bmN0aW9uIChhKSB7IHJldHVybiBhWzBdOyB9KS50aGVuKGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYXN0OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKCkuZmlyc3QoY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKGZpbHRlckZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwianNGdW5jdGlvbkZpbHRlclwiIHR5cGU9XCJGdW5jdGlvblwiPmZ1bmN0aW9uKHZhbCl7cmV0dXJuIHRydWUvZmFsc2V9PC9wYXJhbT5cbiAgICAgICAgICAgICAgICBhZGRGaWx0ZXIodGhpcy5fY3R4LCBmdW5jdGlvbiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJGdW5jdGlvbihjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIG1hdGNoIGZpbHRlcnMgbm90IHVzZWQgaW4gRGV4aWUuanMgYnV0IGNhbiBiZSB1c2VkIGJ5IDNyZCBwYXJ0IGxpYnJhcmllcyB0byB0ZXN0IGFcbiAgICAgICAgICAgICAgICAvLyBjb2xsZWN0aW9uIGZvciBhIG1hdGNoIHdpdGhvdXQgcXVlcnlpbmcgREIuIFVzZWQgYnkgRGV4aWUuT2JzZXJ2YWJsZS5cbiAgICAgICAgICAgICAgICBhZGRNYXRjaEZpbHRlcih0aGlzLl9jdHgsIGZpbHRlckZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbmQ6IGZ1bmN0aW9uIChmaWx0ZXJGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcihmaWx0ZXJGdW5jdGlvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3I6IGZ1bmN0aW9uIChpbmRleE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFdoZXJlQ2xhdXNlKHRoaXMuX2N0eC50YWJsZSwgaW5kZXhOYW1lLCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXZlcnNlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LmRpciA9ICh0aGlzLl9jdHguZGlyID09PSBcInByZXZcIiA/IFwibmV4dFwiIDogXCJwcmV2XCIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbmRpcmVjdGlvbmNoYW5nZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25kaXJlY3Rpb25jaGFuZ2UodGhpcy5fY3R4LmRpcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzYzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYWNoS2V5OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICAgICAgICAgIGN0eC5rZXlzT25seSA9ICFjdHguaXNNYXRjaDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICh2YWwsIGN1cnNvcikgeyBjYihjdXJzb3Iua2V5LCBjdXJzb3IpOyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYWNoVW5pcXVlS2V5OiBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdHgudW5pcXVlID0gXCJ1bmlxdWVcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoS2V5KGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYWNoUHJpbWFyeUtleTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN0eCA9IHRoaXMuX2N0eDtcbiAgICAgICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAodmFsLCBjdXJzb3IpIHsgY2IoY3Vyc29yLnByaW1hcnlLZXksIGN1cnNvcik7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleXM6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgY3R4LmtleXNPbmx5ID0gIWN0eC5pc01hdGNoO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoaXRlbSwgY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJpbWFyeUtleXM6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLl9jdHg7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0dldEFsbCAmJiBjdHguZGlyID09PSAnbmV4dCcgJiYgaXNQbGFpbktleVJhbmdlKGN0eCwgdHJ1ZSkgJiYgY3R4LmxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIG9wdGltYXRpb24gaWYgd2UgY291bGQgdXNlIElEQk9iamVjdFN0b3JlLmdldEFsbEtleXMoKSBvclxuICAgICAgICAgICAgICAgICAgICAvLyBJREJLZXlSYW5nZS5nZXRBbGxLZXlzKCk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWFkKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4T3JTdG9yZSA9IGdldEluZGV4T3JTdG9yZShjdHgsIGlkYnN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBjdHgubGltaXQgPCBJbmZpbml0eSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4T3JTdG9yZS5nZXRBbGxLZXlzKGN0eC5yYW5nZSwgY3R4LmxpbWl0KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4T3JTdG9yZS5nZXRBbGxLZXlzKGN0eC5yYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGV2ZW50U3VjY2Vzc0hhbmRsZXIocmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oY2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHgua2V5c09ubHkgPSAhY3R4LmlzTWF0Y2g7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uIChpdGVtLCBjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYS5wdXNoKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgfSkudGhlbihjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5pcXVlS2V5czogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3R4LnVuaXF1ZSA9IFwidW5pcXVlXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMua2V5cyhjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlyc3RLZXk6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxpbWl0KDEpLmtleXMoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGFbMF07IH0pLnRoZW4oY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhc3RLZXk6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5maXJzdEtleShjYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzdGluY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4LCBpZHggPSBjdHguaW5kZXggJiYgY3R4LnRhYmxlLnNjaGVtYS5pZHhCeU5hbWVbY3R4LmluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIWlkeCB8fCAhaWR4Lm11bHRpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsgLy8gZGlzdGluY3QoKSBvbmx5IG1ha2VzIGRpZmZlcmVuY2llcyBvbiBtdWx0aUVudHJ5IGluZGV4ZXMuXG4gICAgICAgICAgICAgICAgdmFyIHNldCA9IHt9O1xuICAgICAgICAgICAgICAgIGFkZEZpbHRlcih0aGlzLl9jdHgsIGZ1bmN0aW9uIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0cktleSA9IGN1cnNvci5wcmltYXJ5S2V5LnRvU3RyaW5nKCk7IC8vIENvbnZlcnRzIGFueSBEYXRlIHRvIFN0cmluZywgU3RyaW5nIHRvIFN0cmluZywgTnVtYmVyIHRvIFN0cmluZyBhbmQgQXJyYXkgdG8gY29tbWEtc2VwYXJhdGVkIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBoYXNPd24oc2V0LCBzdHJLZXkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRbc3RyS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhZm91bmQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIE1ldGhvZHMgdGhhdCBtdXRhdGUgc3RvcmFnZVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIG1vZGlmeTogZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXMsIGN0eCA9IHRoaXMuX2N0eCwgaG9vayA9IGN0eC50YWJsZS5ob29rLCB1cGRhdGluZ0hvb2sgPSBob29rLnVwZGF0aW5nLmZpcmUsIGRlbGV0aW5nSG9vayA9IGhvb2suZGVsZXRpbmcuZmlyZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd3JpdGUoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgaWRic3RvcmUsIHRyYW5zKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RpZnllcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFuZ2VzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2VzIGlzIGEgZnVuY3Rpb24gdGhhdCBtYXkgdXBkYXRlLCBhZGQgb3IgZGVsZXRlIHByb3B0ZXJ0aWVzIG9yIGV2ZW4gcmVxdWlyZSBhIGRlbGV0aW9uIHRoZSBvYmplY3QgaXRzZWxmIChkZWxldGUgdGhpcy5pdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0aW5nSG9vayA9PT0gbm9wICYmIGRlbGV0aW5nSG9vayA9PT0gbm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm9vbmUgY2FyZXMgYWJvdXQgd2hhdCBpcyBiZWluZyBjaGFuZ2VkLiBKdXN0IGxldCB0aGUgbW9kaWZpZXIgZnVuY3Rpb24gYmUgdGhlIGdpdmVuIGFyZ3VtZW50IGFzIGlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmeWVyID0gY2hhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBlb3BsZSB3YW50IHRvIGtub3cgZXhhY3RseSB3aGF0IGlzIGJlaW5nIG1vZGlmaWVkIG9yIGRlbGV0ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGV0IG1vZGlmeWVyIGJlIGEgcHJveHkgZnVuY3Rpb24gdGhhdCBmaW5kcyBvdXQgd2hhdCBjaGFuZ2VzIHRoZSBjYWxsZXIgaXMgYWN0dWFsbHkgZG9pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY2FsbCB0aGUgaG9va3MgYWNjb3JkaW5nbHkhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ0l0ZW0gPSBkZWVwQ2xvbmUoaXRlbSk7IC8vIENsb25lIHRoZSBpdGVtIGZpcnN0IHNvIHdlIGNhbiBjb21wYXJlIGxhdGVycy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZXMuY2FsbCh0aGlzLCBpdGVtLCB0aGlzKSA9PT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIENhbGwgdGhlIHJlYWwgbW9kaWZ5ZXIgZnVuY3Rpb24gKElmIGl0IHJldHVybnMgZmFsc2UgZXhwbGljaXRlbHksIGl0IG1lYW5zIGl0IGRvbnQgd2FudCB0byBtb2RpZnkgYW55dGluZyBvbiB0aGlzIG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNPd24odGhpcywgXCJ2YWx1ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlYWwgbW9kaWZ5ZXIgZnVuY3Rpb24gcmVxdWVzdHMgYSBkZWxldGlvbiBvZiB0aGUgb2JqZWN0LiBJbmZvcm0gdGhlIGRlbGV0aW5nSG9vayB0aGF0IGEgZGVsZXRpb24gaXMgdGFraW5nIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRpbmdIb29rLmNhbGwodGhpcywgdGhpcy5wcmltS2V5LCBpdGVtLCB0cmFucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyBkZWxldGlvbi4gQ2hlY2sgd2hhdCB3YXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdERpZmYgPSBnZXRPYmplY3REaWZmKG9yaWdJdGVtLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbmFsQ2hhbmdlcyA9IHVwZGF0aW5nSG9vay5jYWxsKHRoaXMsIG9iamVjdERpZmYsIHRoaXMucHJpbUtleSwgb3JpZ0l0ZW0sIHRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvb2sgd2FudCB0byBhcHBseSBhZGRpdGlvbmFsIG1vZGlmaWNhdGlvbnMuIE1ha2Ugc3VyZSB0byBmdWxsZmlsbCB0aGUgd2lsbCBvZiB0aGUgaG9vay5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzKGFkZGl0aW9uYWxDaGFuZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoLCBhZGRpdGlvbmFsQ2hhbmdlc1trZXlQYXRoXSk7IC8vIEFkZGluZyB7a2V5UGF0aDogdW5kZWZpbmVkfSBtZWFucyB0aGF0IHRoZSBrZXlQYXRoIHNob3VsZCBiZSBkZWxldGVkLiBIYW5kbGVkIGJ5IHNldEJ5S2V5UGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1cGRhdGluZ0hvb2sgPT09IG5vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hhbmdlcyBpcyBhIHNldCBvZiB7a2V5UGF0aDogdmFsdWV9IGFuZCBubyBvbmUgaXMgbGlzdGVuaW5nIHRvIHRoZSB1cGRhdGluZyBob29rLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGhzID0ga2V5cyhjaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudW1LZXlzID0ga2V5UGF0aHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbnl0aGluZ01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1LZXlzOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBrZXlQYXRoc1tpXSwgdmFsID0gY2hhbmdlc1trZXlQYXRoXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoKSAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCeUtleVBhdGgoaXRlbSwga2V5UGF0aCwgdmFsKTsgLy8gQWRkaW5nIHtrZXlQYXRoOiB1bmRlZmluZWR9IG1lYW5zIHRoYXQgdGhlIGtleVBhdGggc2hvdWxkIGJlIGRlbGV0ZWQuIEhhbmRsZWQgYnkgc2V0QnlLZXlQYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbnl0aGluZ01vZGlmaWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW55dGhpbmdNb2RpZmllZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGFuZ2VzIGlzIGEgc2V0IG9mIHtrZXlQYXRoOiB2YWx1ZX0gYW5kIHBlb3BsZSBhcmUgbGlzdGVuaW5nIHRvIHRoZSB1cGRhdGluZyBob29rIHNvIHdlIG5lZWQgdG8gY2FsbCBpdCBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IGl0IHRvIGFkZCBhZGRpdGlvbmFsIG1vZGlmaWNhdGlvbnMgdG8gbWFrZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnQ2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzID0gc2hhbGxvd0Nsb25lKG9yaWdDaGFuZ2VzKTsgLy8gTGV0J3Mgd29yayB3aXRoIGEgY2xvbmUgb2YgdGhlIGNoYW5nZXMga2V5UGF0aC92YWx1ZSBzZXQgc28gdGhhdCB3ZSBjYW4gcmVzdG9yZSBpdCBpbiBjYXNlIGEgaG9vayBleHRlbmRzIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZ5ZXIgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbnl0aGluZ01vZGlmaWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxDaGFuZ2VzID0gdXBkYXRpbmdIb29rLmNhbGwodGhpcywgY2hhbmdlcywgdGhpcy5wcmltS2V5LCBkZWVwQ2xvbmUoaXRlbSksIHRyYW5zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbENoYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZChjaGFuZ2VzLCBhZGRpdGlvbmFsQ2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cyhjaGFuZ2VzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXlQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFuZ2VzW2tleVBhdGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0QnlLZXlQYXRoKGl0ZW0sIGtleVBhdGgpICE9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJ5S2V5UGF0aChpdGVtLCBrZXlQYXRoLCB2YWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55dGhpbmdNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkaXRpb25hbENoYW5nZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBzaGFsbG93Q2xvbmUob3JpZ0NoYW5nZXMpOyAvLyBSZXN0b3JlIG9yaWdpbmFsIGNoYW5nZXMgZm9yIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFueXRoaW5nTW9kaWZpZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWx1cmVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWlsS2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEtleSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1vZGlmeUl0ZW0oaXRlbSwgY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50S2V5ID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0NvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbUtleTogY3Vyc29yLnByaW1hcnlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25zdWNjZXNzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3I6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbmVycm9yKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlcy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWxLZXlzLnB1c2godGhpc0NvbnRleHQucHJpbUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tGaW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDYXRjaCB0aGVzZSBlcnJvcnMgYW5kIGxldCBhIGZpbmFsIHJlamVjdGlvbiBkZWNpZGUgd2hldGhlciBvciBub3QgdG8gYWJvcnQgZW50aXJlIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kaWZ5ZXIuY2FsbCh0aGlzQ29udGV4dCwgaXRlbSwgdGhpc0NvbnRleHQpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiRGVsZXRlID0gIWhhc093bih0aGlzQ29udGV4dCwgXCJ2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICArK2NvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IChiRGVsZXRlID8gY3Vyc29yLmRlbGV0ZSgpIDogY3Vyc29yLnVwZGF0ZSh0aGlzQ29udGV4dC52YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuX2hvb2tDdHggPSB0aGlzQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBob29rZWRFdmVudFJlamVjdEhhbmRsZXIob25lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBob29rZWRFdmVudFN1Y2Nlc3NIYW5kbGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsrc3VjY2Vzc0NvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tGaW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvbmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXNDb250ZXh0Lm9uc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvb2sgd2lsbCBleHBlY3QgZWl0aGVyIG9uZXJyb3Igb3Igb25zdWNjZXNzIHRvIGFsd2F5cyBiZSBjYWxsZWQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0NvbnRleHQub25zdWNjZXNzKHRoaXNDb250ZXh0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb1JlamVjdChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmVzLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbEtleXMucHVzaChjdXJyZW50S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IE1vZGlmeUVycm9yKFwiRXJyb3IgbW9kaWZ5aW5nIG9uZSBvciBtb3JlIG9iamVjdHNcIiwgZmFpbHVyZXMsIHN1Y2Nlc3NDb3VudCwgZmFpbEtleXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja0ZpbmlzaGVkKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZXJhdGlvbkNvbXBsZXRlICYmIHN1Y2Nlc3NDb3VudCArIGZhaWx1cmVzLmxlbmd0aCA9PT0gY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbHVyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9SZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3VjY2Vzc0NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb25lKCkucmF3KCkuX2l0ZXJhdGUobW9kaWZ5SXRlbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tGaW5pc2hlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBkb1JlamVjdCwgaWRic3RvcmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgY3R4ID0gdGhpcy5fY3R4LCByYW5nZSA9IGN0eC5yYW5nZSwgZGVsZXRpbmdIb29rID0gY3R4LnRhYmxlLmhvb2suZGVsZXRpbmcuZmlyZSwgaGFzRGVsZXRlSG9vayA9IGRlbGV0aW5nSG9vayAhPT0gbm9wO1xuICAgICAgICAgICAgICAgIGlmICghaGFzRGVsZXRlSG9vayAmJlxuICAgICAgICAgICAgICAgICAgICBpc1BsYWluS2V5UmFuZ2UoY3R4KSAmJlxuICAgICAgICAgICAgICAgICAgICAoKGN0eC5pc1ByaW1LZXkgJiYgIWhhbmdzT25EZWxldGVMYXJnZUtleVJhbmdlKSB8fCAhcmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1heSB1c2UgSURCT2JqZWN0U3RvcmUuZGVsZXRlKElEQktleVJhbmdlKSBpbiB0aGlzIGNhc2UgKElzc3VlICMyMDgpXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBjaHJvbWl1bSwgdGhpcyBpcyB0aGUgd2F5IG1vc3Qgb3B0aW1pemVkIHZlcnNpb24uXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBJRS9FZGdlLCB0aGlzIGNvdWxkIGhhbmcgdGhlIGluZGV4ZWREQiBlbmdpbmUgYW5kIG1ha2Ugb3BlcmF0aW5nIHN5c3RlbSBpbnN0YWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyAoaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZGZhaGxhbmRlci81YTM5MzI4ZjAyOWRlMTgyMjJjZjIxMjVkNTZjMzhmNylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dyaXRlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIGlkYnN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdXIgQVBJIGNvbnRyYWN0IGlzIHRvIHJldHVybiBhIGNvdW50IG9mIGRlbGV0ZWQgaXRlbXMsIHNvIHdlIGhhdmUgdG8gY291bnQoKSBiZWZvcmUgZGVsZXRlKCkuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpLCBjb3VudFJlcSA9IChyYW5nZSA/IGlkYnN0b3JlLmNvdW50KHJhbmdlKSA6IGlkYnN0b3JlLmNvdW50KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRSZXEub25lcnJvciA9IG9uZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gY291bnRSZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeUNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbFJlcSA9IChyYW5nZSA/IGlkYnN0b3JlLmRlbGV0ZShyYW5nZSkgOiBpZGJzdG9yZS5jbGVhcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsUmVxLm9uZXJyb3IgPSBvbmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShjb3VudCk7IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgdmVyc2lvbiB0byB1c2Ugd2hlbiBjb2xsZWN0aW9uIGlzIG5vdCBhIHZhbmlsbGEgSURCS2V5UmFuZ2Ugb24gdGhlIHByaW1hcnkga2V5LlxuICAgICAgICAgICAgICAgIC8vIERpdmlkZSBpbnRvIGNodW5rcyB0byBub3Qgc3RhcnZlIFJBTS5cbiAgICAgICAgICAgICAgICAvLyBJZiBoYXMgZGVsZXRlIGhvb2ssIHdlIHdpbGwgaGF2ZSB0byBjb2xsZWN0IG5vdCBqdXN0IGtleXMgYnV0IGFsc28gb2JqZWN0cywgc28gaXQgd2lsbCB1c2VcbiAgICAgICAgICAgICAgICAvLyBtb3JlIG1lbW9yeSBhbmQgbmVlZCBsb3dlciBjaHVuayBzaXplLlxuICAgICAgICAgICAgICAgIHZhciBDSFVOS1NJWkUgPSBoYXNEZWxldGVIb29rID8gMjAwMCA6IDEwMDAwO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93cml0ZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0LCBpZGJzdG9yZSwgdHJhbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBDbG9uZSBjb2xsZWN0aW9uIGFuZCBjaGFuZ2UgaXRzIHRhYmxlIGFuZCBzZXQgYSBsaW1pdCBvZiBDSFVOS1NJWkUgb24gdGhlIGNsb25lZCBDb2xsZWN0aW9uIGluc3RhbmNlLlxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IF90aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2xvbmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5c09ubHk6ICFjdHguaXNNYXRjaCAmJiAhaGFzRGVsZXRlSG9va1xuICAgICAgICAgICAgICAgICAgICB9KSAvLyBsb2FkIGp1c3Qga2V5cyAodW5sZXNzIGZpbHRlcigpIG9yIGFuZCgpIG9yIGRlbGV0ZUhvb2sgaGFzIHN1YnNjcmliZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmRpc3RpbmN0KCkgLy8gSW4gY2FzZSBtdWx0aUVudHJ5IGlzIHVzZWQsIG5ldmVyIGRlbGV0ZSBzYW1lIGtleSB0d2ljZSBiZWNhdXNlIHJlc3VsdGluZyBjb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgLmxpbWl0KENIVU5LU0laRSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yYXcoKTsgLy8gRG9uJ3QgZmlsdGVyIHRocm91Z2ggcmVhZGluZy1ob29rcyAobGlrZSBtYXBwZWQgY2xhc3NlcyBldGMpXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzT3JUdXBsZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UncmUgZ29ubmEgZG8gdGhpbmdzIG9uIGFzIG1hbnkgY2h1bmtzIHRoYXQgYXJlIG5lZWRlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHJlY3Vyc2lvbiBvZiBuZXh0Q2h1bmsgZnVuY3Rpb246XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2h1bmsgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLmVhY2goaGFzRGVsZXRlSG9vayA/IGZ1bmN0aW9uICh2YWwsIGN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU29tZWJvZHkgc3Vic2NyaWJlcyB0byBob29rKCdkZWxldGluZycpLiBDb2xsZWN0IGFsbCBwcmltYXJ5IGtleXMgYW5kIHRoZWlyIHZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhlIGhvb2sgY2FuIGJlIGNhbGxlZCB3aXRoIGl0cyB2YWx1ZXMgaW4gYnVsa0RlbGV0ZSgpLlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5c09yVHVwbGVzLnB1c2goW2N1cnNvci5wcmltYXJ5S2V5LCBjdXJzb3IudmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICh2YWwsIGN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gb25lIHN1YnNjcmliZXMgdG8gaG9vaygnZGVsZXRpbmcnKS4gQ29sbGVjdCBvbmx5IHByaW1hcnkga2V5czpcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXNPclR1cGxlcy5wdXNoKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaHJvbWl1bSBkZWxldGVzIGZhc3RlciB3aGVuIGRvaW5nIGl0IGluIHNvcnQgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNEZWxldGVIb29rID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzT3JUdXBsZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYXNjZW5kaW5nKGFbMF0sIGJbMF0pOyB9KSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5c09yVHVwbGVzLnNvcnQoYXNjZW5kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBidWxrRGVsZXRlKGlkYnN0b3JlLCB0cmFucywga2V5c09yVHVwbGVzLCBoYXNEZWxldGVIb29rLCBkZWxldGluZ0hvb2spO1xuICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudCA9IGtleXNPclR1cGxlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbENvdW50ICs9IGNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5c09yVHVwbGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgPCBDSFVOS1NJWkUgPyB0b3RhbENvdW50IDogbmV4dENodW5rKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pOyB9O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG5leHRDaHVuaygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEhlbHAgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vXG4gICAgLy9cbiAgICAvL1xuICAgIGZ1bmN0aW9uIGxvd2VyVmVyc2lvbkZpcnN0KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuX2NmZy52ZXJzaW9uIC0gYi5fY2ZnLnZlcnNpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldEFwaU9uUGxhY2Uob2JqcywgdGFibGVOYW1lcywgZGJzY2hlbWEpIHtcbiAgICAgICAgdGFibGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBzY2hlbWEgPSBkYnNjaGVtYVt0YWJsZU5hbWVdO1xuICAgICAgICAgICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0YWJsZU5hbWUgaW4gb2JqKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob2JqID09PSBUcmFuc2FjdGlvbi5wcm90b3R5cGUgfHwgb2JqIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9iaiBpcyBhIFRyYW5zYWN0aW9uIHByb3RvdHlwZSAob3IgcHJvdG90eXBlIG9mIGEgc3ViY2xhc3MgdG8gVHJhbnNhY3Rpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHRoZSBBUEkgYSBnZXR0ZXIgdGhhdCByZXR1cm5zIHRoaXMudGFibGUodGFibGVOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChvYmosIHRhYmxlTmFtZSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudGFibGUodGFibGVOYW1lKTsgfSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhYmxlIHdpbGwgbm90IGJlIGJvdW5kIHRvIGEgdHJhbnNhY3Rpb24gKHdpbGwgdXNlIERleGllLmN1cnJlbnRUcmFuc2FjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ialt0YWJsZU5hbWVdID0gbmV3IFRhYmxlKHRhYmxlTmFtZSwgc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlVGFibGVzQXBpKG9ianMpIHtcbiAgICAgICAgb2Jqcy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2tleV0gaW5zdGFuY2VvZiBUYWJsZSlcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXRlcmF0ZShyZXEsIGZpbHRlciwgZm4sIHJlc29sdmUsIHJlamVjdCwgdmFsdWVNYXBwZXIpIHtcbiAgICAgICAgLy8gQXBwbHkgdmFsdWVNYXBwZXIgKGhvb2soJ3JlYWRpbmcnKSBvciBtYXBwcGVkIGNsYXNzKVxuICAgICAgICB2YXIgbWFwcGVkRm4gPSB2YWx1ZU1hcHBlciA/IGZ1bmN0aW9uICh4LCBjLCBhKSB7IHJldHVybiBmbih2YWx1ZU1hcHBlcih4KSwgYywgYSk7IH0gOiBmbjtcbiAgICAgICAgLy8gV3JhcCBmbiB3aXRoIFBTRCBhbmQgbWljcm90aWNrIHN0dWZmIGZyb20gUHJvbWlzZS5cbiAgICAgICAgdmFyIHdyYXBwZWRGbiA9IHdyYXAobWFwcGVkRm4sIHJlamVjdCk7XG4gICAgICAgIGlmICghcmVxLm9uZXJyb3IpXG4gICAgICAgICAgICByZXEub25lcnJvciA9IGV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpO1xuICAgICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gdHJ5Y2F0Y2hlcihmdW5jdGlvbiBmaWx0ZXJfcmVjb3JkKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7IGN1cnNvci5jb250aW51ZSgpOyB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyKGN1cnNvciwgZnVuY3Rpb24gKGFkdmFuY2VyKSB7IGMgPSBhZHZhbmNlcjsgfSwgcmVzb2x2ZSwgcmVqZWN0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZWRGbihjdXJzb3IudmFsdWUsIGN1cnNvciwgZnVuY3Rpb24gKGFkdmFuY2VyKSB7IGMgPSBhZHZhbmNlcjsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IHRyeWNhdGNoZXIoZnVuY3Rpb24gZmlsdGVyX3JlY29yZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZnVuY3Rpb24gKCkgeyBjdXJzb3IuY29udGludWUoKTsgfTtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZEZuKGN1cnNvci52YWx1ZSwgY3Vyc29yLCBmdW5jdGlvbiAoYWR2YW5jZXIpIHsgYyA9IGFkdmFuY2VyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgYygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGFyc2VJbmRleFN5bnRheChpbmRleGVzKSB7XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImluZGV4ZXNcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJBcnJheVwiIGVsZW1lbnRUeXBlPVwiSW5kZXhTcGVjXCI+PC9yZXR1cm5zPlxuICAgICAgICB2YXIgcnYgPSBbXTtcbiAgICAgICAgaW5kZXhlcy5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4LnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW5kZXgucmVwbGFjZSgvKFsmKl18XFwrXFwrKS9nLCBcIlwiKTsgLy8gUmVtb3ZlIFwiJlwiLCBcIisrXCIgYW5kIFwiKlwiXG4gICAgICAgICAgICAvLyBMZXQga2V5UGF0aCBvZiBcIlthK2JdXCIgYmUgW1wiYVwiLFwiYlwiXTpcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gL15cXFsvLnRlc3QobmFtZSkgPyBuYW1lLm1hdGNoKC9eXFxbKC4qKVxcXSQvKVsxXS5zcGxpdCgnKycpIDogbmFtZTtcbiAgICAgICAgICAgIHJ2LnB1c2gobmV3IEluZGV4U3BlYyhuYW1lLCBrZXlQYXRoIHx8IG51bGwsIC9cXCYvLnRlc3QoaW5kZXgpLCAvXFwqLy50ZXN0KGluZGV4KSwgL1xcK1xcKy8udGVzdChpbmRleCksIGlzQXJyYXkoa2V5UGF0aCksIC9cXC4vLnRlc3QoaW5kZXgpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNtcChrZXkxLCBrZXkyKSB7XG4gICAgICAgIHJldHVybiBpbmRleGVkREIuY21wKGtleTEsIGtleTIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtaW4oYSwgYikge1xuICAgICAgICByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGEgOiBiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXgoYSwgYikge1xuICAgICAgICByZXR1cm4gY21wKGEsIGIpID4gMCA/IGEgOiBiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICAgICAgICByZXR1cm4gaW5kZXhlZERCLmNtcChhLCBiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY2VuZGluZyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBpbmRleGVkREIuY21wKGIsIGEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpbXBsZUNvbXBhcmVSZXZlcnNlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEgPiBiID8gLTEgOiBhID09PSBiID8gMCA6IDE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbWJpbmUoZmlsdGVyMSwgZmlsdGVyMikge1xuICAgICAgICByZXR1cm4gZmlsdGVyMSA/XG4gICAgICAgICAgICBmaWx0ZXIyID9cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXIxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgJiYgZmlsdGVyMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9IDpcbiAgICAgICAgICAgICAgICBmaWx0ZXIxIDpcbiAgICAgICAgICAgIGZpbHRlcjI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRHbG9iYWxTY2hlbWEoKSB7XG4gICAgICAgIGRiLnZlcm5vID0gaWRiZGIudmVyc2lvbiAvIDEwO1xuICAgICAgICBkYi5fZGJTY2hlbWEgPSBnbG9iYWxTY2hlbWEgPSB7fTtcbiAgICAgICAgZGJTdG9yZU5hbWVzID0gc2xpY2UoaWRiZGIub2JqZWN0U3RvcmVOYW1lcywgMCk7XG4gICAgICAgIGlmIChkYlN0b3JlTmFtZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuOyAvLyBEYXRhYmFzZSBjb250YWlucyBubyBzdG9yZXMuXG4gICAgICAgIHZhciB0cmFucyA9IGlkYmRiLnRyYW5zYWN0aW9uKHNhZmFyaU11bHRpU3RvcmVGaXgoZGJTdG9yZU5hbWVzKSwgJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGRiU3RvcmVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChzdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zLm9iamVjdFN0b3JlKHN0b3JlTmFtZSksIGtleVBhdGggPSBzdG9yZS5rZXlQYXRoLCBkb3R0ZWQgPSBrZXlQYXRoICYmIHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyAmJiBrZXlQYXRoLmluZGV4T2YoJy4nKSAhPT0gLTE7XG4gICAgICAgICAgICB2YXIgcHJpbUtleSA9IG5ldyBJbmRleFNwZWMoa2V5UGF0aCwga2V5UGF0aCB8fCBcIlwiLCBmYWxzZSwgZmFsc2UsICEhc3RvcmUuYXV0b0luY3JlbWVudCwga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCAhPT0gJ3N0cmluZycsIGRvdHRlZCk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkYmluZGV4ID0gc3RvcmUuaW5kZXgoc3RvcmUuaW5kZXhOYW1lc1tqXSk7XG4gICAgICAgICAgICAgICAga2V5UGF0aCA9IGlkYmluZGV4LmtleVBhdGg7XG4gICAgICAgICAgICAgICAgZG90dGVkID0ga2V5UGF0aCAmJiB0eXBlb2Yga2V5UGF0aCA9PT0gJ3N0cmluZycgJiYga2V5UGF0aC5pbmRleE9mKCcuJykgIT09IC0xO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IG5ldyBJbmRleFNwZWMoaWRiaW5kZXgubmFtZSwga2V5UGF0aCwgISFpZGJpbmRleC51bmlxdWUsICEhaWRiaW5kZXgubXVsdGlFbnRyeSwgZmFsc2UsIGtleVBhdGggJiYgdHlwZW9mIGtleVBhdGggIT09ICdzdHJpbmcnLCBkb3R0ZWQpO1xuICAgICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbG9iYWxTY2hlbWFbc3RvcmVOYW1lXSA9IG5ldyBUYWJsZVNjaGVtYShzdG9yZU5hbWUsIHByaW1LZXksIGluZGV4ZXMsIHt9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEFwaU9uUGxhY2UoW2FsbFRhYmxlc10sIGtleXMoZ2xvYmFsU2NoZW1hKSwgZ2xvYmFsU2NoZW1hKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRqdXN0VG9FeGlzdGluZ0luZGV4TmFtZXMoc2NoZW1hLCBpZGJ0cmFucykge1xuICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vLyBJc3N1ZSAjMzAgUHJvYmxlbSB3aXRoIGV4aXN0aW5nIGRiIC0gYWRqdXN0IHRvIGV4aXN0aW5nIGluZGV4IG5hbWVzIHdoZW4gbWlncmF0aW5nIGZyb20gbm9uLWRleGllIGRiXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInNjaGVtYVwiIHR5cGU9XCJPYmplY3RcIj5NYXAgYmV0d2VlbiBuYW1lIGFuZCBUYWJsZVNjaGVtYTwvcGFyYW0+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImlkYnRyYW5zXCIgdHlwZT1cIklEQlRyYW5zYWN0aW9uXCI+PC9wYXJhbT5cbiAgICAgICAgdmFyIHN0b3JlTmFtZXMgPSBpZGJ0cmFucy5kYi5vYmplY3RTdG9yZU5hbWVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3JlTmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSBzdG9yZU5hbWVzW2ldO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gaWRidHJhbnMub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIGhhc0dldEFsbCA9ICdnZXRBbGwnIGluIHN0b3JlO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdG9yZS5pbmRleE5hbWVzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4TmFtZSA9IHN0b3JlLmluZGV4TmFtZXNbal07XG4gICAgICAgICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5pbmRleChpbmRleE5hbWUpLmtleVBhdGg7XG4gICAgICAgICAgICAgICAgdmFyIGRleGllTmFtZSA9IHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/IGtleVBhdGggOiBcIltcIiArIHNsaWNlKGtleVBhdGgpLmpvaW4oJysnKSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIGlmIChzY2hlbWFbc3RvcmVOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhTcGVjID0gc2NoZW1hW3N0b3JlTmFtZV0uaWR4QnlOYW1lW2RleGllTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleFNwZWMpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFNwZWMubmFtZSA9IGluZGV4TmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnVnIHdpdGggZ2V0QWxsKCkgb24gU2FmYXJpIHZlcjw2MDQgb24gV29ya2VycyBvbmx5LCBzZWUgZGlzY3Vzc2lvbiBmb2xsb3dpbmcgUFIgIzU3OVxuICAgICAgICBpZiAoL1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxuICAgICAgICAgICAgIS8oQ2hyb21lXFwvfEVkZ2VcXC8pLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmXG4gICAgICAgICAgICBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmIF9nbG9iYWwgaW5zdGFuY2VvZiBfZ2xvYmFsLldvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgICAgICAgICBbXS5jb25jYXQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2FmYXJpXFwvKFxcZCopLykpWzFdIDwgNjA0KSB7XG4gICAgICAgICAgICBoYXNHZXRBbGwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmaXJlT25CbG9ja2VkKGV2KSB7XG4gICAgICAgIGRiLm9uKFwiYmxvY2tlZFwiKS5maXJlKGV2KTtcbiAgICAgICAgLy8gV29ya2Fyb3VuZCAobm90IGZ1bGx5KikgZm9yIG1pc3NpbmcgXCJ2ZXJzaW9uY2hhbmdlXCIgZXZlbnQgaW4gSUUsRWRnZSBhbmQgU2FmYXJpOlxuICAgICAgICBjb25uZWN0aW9uc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5uYW1lID09PSBkYi5uYW1lICYmIGMgIT09IGRiICYmICFjLl92Y0ZpcmVkOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5vbihcInZlcnNpb25jaGFuZ2VcIikuZmlyZShldik7IH0pO1xuICAgIH1cbiAgICBleHRlbmQodGhpcywge1xuICAgICAgICBDb2xsZWN0aW9uOiBDb2xsZWN0aW9uLFxuICAgICAgICBUYWJsZTogVGFibGUsXG4gICAgICAgIFRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbixcbiAgICAgICAgVmVyc2lvbjogVmVyc2lvbixcbiAgICAgICAgV2hlcmVDbGF1c2U6IFdoZXJlQ2xhdXNlXG4gICAgfSk7XG4gICAgaW5pdCgpO1xuICAgIGFkZG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChmbikge1xuICAgICAgICBmbihkYik7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBwYXJzZVR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IHR5cGUoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgICAgICByZXR1cm4gW3BhcnNlVHlwZSh0eXBlWzBdKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgJiYgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICBhcHBseVN0cnVjdHVyZShydiwgdHlwZSk7XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5U3RydWN0dXJlKG9iaiwgc3RydWN0dXJlKSB7XG4gICAga2V5cyhzdHJ1Y3R1cmUpLmZvckVhY2goZnVuY3Rpb24gKG1lbWJlcikge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZVR5cGUoc3RydWN0dXJlW21lbWJlcl0pO1xuICAgICAgICBvYmpbbWVtYmVyXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBob29rZWRFdmVudFN1Y2Nlc3NIYW5kbGVyKHJlc29sdmUpIHtcbiAgICAvLyB3cmFwKCkgaXMgbmVlZGVkIHdoZW4gY2FsbGluZyBob29rcyBiZWNhdXNlIHRoZSByYXJlIHNjZW5hcmlvIG9mOlxuICAgIC8vICAqIGhvb2sgZG9lcyBhIGRiIG9wZXJhdGlvbiB0aGF0IGZhaWxzIGltbWVkaWF0ZWx5IChJREIgdGhyb3dzIGV4Y2VwdGlvbilcbiAgICAvLyAgICBGb3IgY2FsbGluZyBkYiBvcGVyYXRpb25zIG9uIGNvcnJlY3QgdHJhbnNhY3Rpb24sIHdyYXAgbWFrZXMgc3VyZSB0byBzZXQgUFNEIGNvcnJlY3RseS5cbiAgICAvLyAgICB3cmFwKCkgd2lsbCBhbHNvIGV4ZWN1dGUgaW4gYSB2aXJ0dWFsIHRpY2suXG4gICAgLy8gICogSWYgbm90IHdyYXBwZWQgaW4gYSB2aXJ0dWFsIHRpY2ssIGRpcmVjdCBleGNlcHRpb24gd2lsbCBsYXVuY2ggYSBuZXcgcGh5c2ljYWwgdGljay5cbiAgICAvLyAgKiBJZiB0aGlzIHdhcyB0aGUgbGFzdCBldmVudCBpbiB0aGUgYnVsaywgdGhlIHByb21pc2Ugd2lsbCByZXNvbHZlIGFmdGVyIGEgcGh5c2ljYWwgdGlja1xuICAgIC8vICAgIGFuZCB0aGUgdHJhbnNhY3Rpb24gd2lsbCBoYXZlIGNvbW1pdHRlZCBhbHJlYWR5LlxuICAgIC8vIElmIG5vIGhvb2ssIHRoZSB2aXJ0dWFsIHRpY2sgd2lsbCBiZSBleGVjdXRlZCBpbiB0aGUgcmVqZWN0KCkvcmVzb2x2ZSBvZiB0aGUgZmluYWwgcHJvbWlzZSxcbiAgICAvLyBiZWNhdXNlIGl0IGlzIGFsd2F5cyBtYXJrZWQgd2l0aCBfbGliID0gdHJ1ZSB3aGVuIGNyZWF0ZWQgdXNpbmcgVHJhbnNhY3Rpb24uX3Byb21pc2UoKS5cbiAgICByZXR1cm4gd3JhcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHJlcSA9IGV2ZW50LnRhcmdldCwgY3R4ID0gcmVxLl9ob29rQ3R4LCAvLyBDb250YWlucyB0aGUgaG9vayBlcnJvciBoYW5kbGVyLiBQdXQgaGVyZSBpbnN0ZWFkIG9mIGNsb3N1cmUgdG8gYm9vc3QgcGVyZm9ybWFuY2UuXG4gICAgICAgIHJlc3VsdCA9IGN0eC52YWx1ZSB8fCByZXEucmVzdWx0LCAvLyBQYXNzIHRoZSBvYmplY3QgdmFsdWUgb24gdXBkYXRlcy4gVGhlIHJlc3VsdCBmcm9tIElEQiBpcyB0aGUgcHJpbWFyeSBrZXkuXG4gICAgICAgIGhvb2tTdWNjZXNzSGFuZGxlciA9IGN0eCAmJiBjdHgub25zdWNjZXNzO1xuICAgICAgICBob29rU3VjY2Vzc0hhbmRsZXIgJiYgaG9va1N1Y2Nlc3NIYW5kbGVyKHJlc3VsdCk7XG4gICAgICAgIHJlc29sdmUgJiYgcmVzb2x2ZShyZXN1bHQpO1xuICAgIH0sIHJlc29sdmUpO1xufVxuZnVuY3Rpb24gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCkge1xuICAgIHJldHVybiB3cmFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgIHJlamVjdChldmVudC50YXJnZXQuZXJyb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBldmVudFN1Y2Nlc3NIYW5kbGVyKHJlc29sdmUpIHtcbiAgICByZXR1cm4gd3JhcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhvb2tlZEV2ZW50UmVqZWN0SGFuZGxlcihyZWplY3QpIHtcbiAgICByZXR1cm4gd3JhcChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gU2VlIGNvbW1lbnQgb24gaG9va2VkRXZlbnRTdWNjZXNzSGFuZGxlcigpIHdoeSB3cmFwKCkgaXMgbmVlZGVkIG9ubHkgd2hlbiBzdXBwb3J0aW5nIGhvb2tzLlxuICAgICAgICB2YXIgcmVxID0gZXZlbnQudGFyZ2V0LCBlcnIgPSByZXEuZXJyb3IsIGN0eCA9IHJlcS5faG9va0N0eCwgLy8gQ29udGFpbnMgdGhlIGhvb2sgZXJyb3IgaGFuZGxlci4gUHV0IGhlcmUgaW5zdGVhZCBvZiBjbG9zdXJlIHRvIGJvb3N0IHBlcmZvcm1hbmNlLlxuICAgICAgICBob29rRXJyb3JIYW5kbGVyID0gY3R4ICYmIGN0eC5vbmVycm9yO1xuICAgICAgICBob29rRXJyb3JIYW5kbGVyICYmIGhvb2tFcnJvckhhbmRsZXIoZXJyKTtcbiAgICAgICAgcHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQucHJldmVudERlZmF1bHQpXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG59XG5mdW5jdGlvbiBhd2FpdEl0ZXJhdG9yKGl0ZXJhdG9yKSB7XG4gICAgdmFyIGNhbGxOZXh0ID0gZnVuY3Rpb24gKHJlc3VsdCkgeyByZXR1cm4gaXRlcmF0b3IubmV4dChyZXN1bHQpOyB9LCBkb1Rocm93ID0gZnVuY3Rpb24gKGVycm9yKSB7IHJldHVybiBpdGVyYXRvci50aHJvdyhlcnJvcik7IH0sIG9uU3VjY2VzcyA9IHN0ZXAoY2FsbE5leHQpLCBvbkVycm9yID0gc3RlcChkb1Rocm93KTtcbiAgICBmdW5jdGlvbiBzdGVwKGdldE5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHZhciBuZXh0ID0gZ2V0TmV4dCh2YWwpLCB2YWx1ZSA9IG5leHQudmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gbmV4dC5kb25lID8gdmFsdWUgOlxuICAgICAgICAgICAgICAgICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlLnRoZW4gIT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgICAgICAgICBpc0FycmF5KHZhbHVlKSA/IFByb21pc2UuYWxsKHZhbHVlKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcikgOiBvblN1Y2Nlc3ModmFsdWUpIDpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXAoY2FsbE5leHQpKCk7XG59XG4vL1xuLy8gSW5kZXhTcGVjIHN0cnVjdFxuLy9cbmZ1bmN0aW9uIEluZGV4U3BlYyhuYW1lLCBrZXlQYXRoLCB1bmlxdWUsIG11bHRpLCBhdXRvLCBjb21wb3VuZCwgZG90dGVkKSB7XG4gICAgLy8vIDxwYXJhbSBuYW1lPVwibmFtZVwiIHR5cGU9XCJTdHJpbmdcIj48L3BhcmFtPlxuICAgIC8vLyA8cGFyYW0gbmFtZT1cImtleVBhdGhcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJ1bmlxdWVcIiB0eXBlPVwiQm9vbGVhblwiPjwvcGFyYW0+XG4gICAgLy8vIDxwYXJhbSBuYW1lPVwibXVsdGlcIiB0eXBlPVwiQm9vbGVhblwiPjwvcGFyYW0+XG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiYXV0b1wiIHR5cGU9XCJCb29sZWFuXCI+PC9wYXJhbT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJjb21wb3VuZFwiIHR5cGU9XCJCb29sZWFuXCI+PC9wYXJhbT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJkb3R0ZWRcIiB0eXBlPVwiQm9vbGVhblwiPjwvcGFyYW0+XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmtleVBhdGggPSBrZXlQYXRoO1xuICAgIHRoaXMudW5pcXVlID0gdW5pcXVlO1xuICAgIHRoaXMubXVsdGkgPSBtdWx0aTtcbiAgICB0aGlzLmF1dG8gPSBhdXRvO1xuICAgIHRoaXMuY29tcG91bmQgPSBjb21wb3VuZDtcbiAgICB0aGlzLmRvdHRlZCA9IGRvdHRlZDtcbiAgICB2YXIga2V5UGF0aFNyYyA9IHR5cGVvZiBrZXlQYXRoID09PSAnc3RyaW5nJyA/IGtleVBhdGggOiBrZXlQYXRoICYmICgnWycgKyBbXS5qb2luLmNhbGwoa2V5UGF0aCwgJysnKSArICddJyk7XG4gICAgdGhpcy5zcmMgPSAodW5pcXVlID8gJyYnIDogJycpICsgKG11bHRpID8gJyonIDogJycpICsgKGF1dG8gPyBcIisrXCIgOiBcIlwiKSArIGtleVBhdGhTcmM7XG59XG4vL1xuLy8gVGFibGVTY2hlbWEgc3RydWN0XG4vL1xuZnVuY3Rpb24gVGFibGVTY2hlbWEobmFtZSwgcHJpbUtleSwgaW5kZXhlcywgaW5zdGFuY2VUZW1wbGF0ZSkge1xuICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5hbWVcIiB0eXBlPVwiU3RyaW5nXCI+PC9wYXJhbT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJwcmltS2V5XCIgdHlwZT1cIkluZGV4U3BlY1wiPjwvcGFyYW0+XG4gICAgLy8vIDxwYXJhbSBuYW1lPVwiaW5kZXhlc1wiIHR5cGU9XCJBcnJheVwiIGVsZW1lbnRUeXBlPVwiSW5kZXhTcGVjXCI+PC9wYXJhbT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbnN0YW5jZVRlbXBsYXRlXCIgdHlwZT1cIk9iamVjdFwiPjwvcGFyYW0+XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnByaW1LZXkgPSBwcmltS2V5IHx8IG5ldyBJbmRleFNwZWMoKTtcbiAgICB0aGlzLmluZGV4ZXMgPSBpbmRleGVzIHx8IFtuZXcgSW5kZXhTcGVjKCldO1xuICAgIHRoaXMuaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGU7XG4gICAgdGhpcy5tYXBwZWRDbGFzcyA9IG51bGw7XG4gICAgdGhpcy5pZHhCeU5hbWUgPSBhcnJheVRvT2JqZWN0KGluZGV4ZXMsIGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gW2luZGV4Lm5hbWUsIGluZGV4XTsgfSk7XG59XG5mdW5jdGlvbiBzYWZhcmlNdWx0aVN0b3JlRml4KHN0b3JlTmFtZXMpIHtcbiAgICByZXR1cm4gc3RvcmVOYW1lcy5sZW5ndGggPT09IDEgPyBzdG9yZU5hbWVzWzBdIDogc3RvcmVOYW1lcztcbn1cbmZ1bmN0aW9uIGdldE5hdGl2ZUdldERhdGFiYXNlTmFtZXNGbihpbmRleGVkREIpIHtcbiAgICB2YXIgZm4gPSBpbmRleGVkREIgJiYgKGluZGV4ZWREQi5nZXREYXRhYmFzZU5hbWVzIHx8IGluZGV4ZWREQi53ZWJraXRHZXREYXRhYmFzZU5hbWVzKTtcbiAgICByZXR1cm4gZm4gJiYgZm4uYmluZChpbmRleGVkREIpO1xufVxuLy8gRXhwb3J0IEVycm9yIGNsYXNzZXNcbnByb3BzKERleGllLCBmdWxsTmFtZUV4Y2VwdGlvbnMpOyAvLyBEZXhpZS5YWFhFcnJvciA9IGNsYXNzIFhYWEVycm9yIHsuLi59O1xuLy9cbi8vIFN0YXRpYyBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzXG4vLyBcbnByb3BzKERleGllLCB7XG4gICAgLy9cbiAgICAvLyBTdGF0aWMgZGVsZXRlKCkgbWV0aG9kLlxuICAgIC8vXG4gICAgZGVsZXRlOiBmdW5jdGlvbiAoZGF0YWJhc2VOYW1lKSB7XG4gICAgICAgIHZhciBkYiA9IG5ldyBEZXhpZShkYXRhYmFzZU5hbWUpLCBwcm9taXNlID0gZGIuZGVsZXRlKCk7XG4gICAgICAgIHByb21pc2Uub25ibG9ja2VkID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBkYi5vbihcImJsb2NrZWRcIiwgZm4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH0sXG4gICAgLy9cbiAgICAvLyBTdGF0aWMgZXhpc3RzKCkgbWV0aG9kLlxuICAgIC8vXG4gICAgZXhpc3RzOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IERleGllKG5hbWUpLm9wZW4oKS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KS5jYXRjaChEZXhpZS5Ob1N1Y2hEYXRhYmFzZUVycm9yLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XG4gICAgfSxcbiAgICAvL1xuICAgIC8vIFN0YXRpYyBtZXRob2QgZm9yIHJldHJpZXZpbmcgYSBsaXN0IG9mIGFsbCBleGlzdGluZyBkYXRhYmFzZXMgYXQgY3VycmVudCBob3N0LlxuICAgIC8vXG4gICAgZ2V0RGF0YWJhc2VOYW1lczogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBnZXREYXRhYmFzZU5hbWVzID0gZ2V0TmF0aXZlR2V0RGF0YWJhc2VOYW1lc0ZuKERleGllLmRlcGVuZGVuY2llcy5pbmRleGVkREIpO1xuICAgICAgICByZXR1cm4gZ2V0RGF0YWJhc2VOYW1lcyA/IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciByZXEgPSBnZXREYXRhYmFzZU5hbWVzKCk7XG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzbGljZShldmVudC50YXJnZXQucmVzdWx0LCAwKSk7IC8vIENvbnZlcnN0IERPTVN0cmluZ0xpc3QgdG8gQXJyYXk8U3RyaW5nPlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZXZlbnRSZWplY3RIYW5kbGVyKHJlamVjdCk7XG4gICAgICAgIH0pLnRoZW4oY2IpIDogZGJOYW1lc0RCLmRibmFtZXMudG9Db2xsZWN0aW9uKCkucHJpbWFyeUtleXMoY2IpO1xuICAgIH0sXG4gICAgZGVmaW5lQ2xhc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRGVmYXVsdCBjb25zdHJ1Y3RvciBhYmxlIHRvIGNvcHkgZ2l2ZW4gcHJvcGVydGllcyBpbnRvIHRoaXMgb2JqZWN0LlxuICAgICAgICBmdW5jdGlvbiBDbGFzcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJwcm9wZXJ0aWVzXCIgdHlwZT1cIk9iamVjdFwiIG9wdGlvbmFsPVwidHJ1ZVwiPlByb3BlcnRpZXMgdG8gaW5pdGlhbGl6ZSBvYmplY3Qgd2l0aC5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICAgICAgZXh0ZW5kKHRoaXMsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDbGFzcztcbiAgICB9LFxuICAgIGFwcGx5U3RydWN0dXJlOiBhcHBseVN0cnVjdHVyZSxcbiAgICBpZ25vcmVUcmFuc2FjdGlvbjogZnVuY3Rpb24gKHNjb3BlRnVuYykge1xuICAgICAgICAvLyBJbiBjYXNlIGNhbGxlciBpcyB3aXRoaW4gYSB0cmFuc2FjdGlvbiBidXQgbmVlZHMgdG8gY3JlYXRlIGEgc2VwYXJhdGUgdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vIEV4YW1wbGUgb2YgdXNhZ2U6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIExldCdzIHNheSB3ZSBoYXZlIGEgbG9nZ2VyIGZ1bmN0aW9uIGluIG91ciBhcHAuIE90aGVyIGFwcGxpY2F0aW9uLWxvZ2ljIHNob3VsZCBiZSB1bmF3YXJlIG9mIHRoZVxuICAgICAgICAvLyBsb2dnZXIgZnVuY3Rpb24gYW5kIG5vdCBuZWVkIHRvIGluY2x1ZGUgdGhlICdsb2dlbnRyaWVzJyB0YWJsZSBpbiBhbGwgdHJhbnNhY3Rpb24gaXQgcGVyZm9ybXMuXG4gICAgICAgIC8vIFRoZSBsb2dnaW5nIHNob3VsZCBhbHdheXMgYmUgZG9uZSBpbiBhIHNlcGFyYXRlIHRyYW5zYWN0aW9uIGFuZCBub3QgYmUgZGVwZW5kYW50IG9uIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIHJ1bm5pbmcgdHJhbnNhY3Rpb24gY29udGV4dC4gVGhlbiB5b3UgY291bGQgdXNlIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKCkgdG8gcnVuIGNvZGUgdGhhdCBzdGFydHMgYSBuZXcgdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICBEZXhpZS5pZ25vcmVUcmFuc2FjdGlvbihmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gICAgICAgICBkYi5sb2dlbnRyaWVzLmFkZChuZXdMb2dFbnRyeSk7XG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gVW5sZXNzIHVzaW5nIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKCksIHRoZSBhYm92ZSBleGFtcGxlIHdvdWxkIHRyeSB0byByZXVzZSB0aGUgY3VycmVudCB0cmFuc2FjdGlvblxuICAgICAgICAvLyBpbiBjdXJyZW50IFByb21pc2Utc2NvcGUuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEFuIGFsdGVybmF0aXZlIHRvIERleGllLmlnbm9yZVRyYW5zYWN0aW9uKCkgd291bGQgYmUgc2V0SW1tZWRpYXRlKCkgb3Igc2V0VGltZW91dCgpLiBUaGUgcmVhc29uIHdlIHN0aWxsIHByb3ZpZGUgYW5cbiAgICAgICAgLy8gQVBJIGZvciB0aGlzIGJlY2F1c2VcbiAgICAgICAgLy8gIDEpIFRoZSBpbnRlbnRpb24gb2Ygd3JpdGluZyB0aGUgc3RhdGVtZW50IGNvdWxkIGJlIHVuY2xlYXIgaWYgdXNpbmcgc2V0SW1tZWRpYXRlKCkgb3Igc2V0VGltZW91dCgpLlxuICAgICAgICAvLyAgMikgc2V0VGltZW91dCgpIHdvdWxkIHdhaXQgdW5uZXNjZXNzYXJ5IHVudGlsIGZpcmluZy4gVGhpcyBpcyBob3dldmVyIG5vdCB0aGUgY2FzZSB3aXRoIHNldEltbWVkaWF0ZSgpLlxuICAgICAgICAvLyAgMykgc2V0SW1tZWRpYXRlKCkgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgRVMgc3RhbmRhcmQuXG4gICAgICAgIC8vICA0KSBZb3UgbWlnaHQgd2FudCB0byBrZWVwIG90aGVyIFBTRCBzdGF0ZSB0aGF0IHdhcyBzZXQgaW4gYSBwYXJlbnQgUFNELCBzdWNoIGFzIFBTRC5sZXRUaHJvdWdoLlxuICAgICAgICByZXR1cm4gUFNELnRyYW5zID9cbiAgICAgICAgICAgIHVzZVBTRChQU0QudHJhbnNsZXNzLCBzY29wZUZ1bmMpIDogLy8gVXNlIHRoZSBjbG9zZXN0IHBhcmVudCB0aGF0IHdhcyBub24tdHJhbnNhY3Rpb25hbC5cbiAgICAgICAgICAgIHNjb3BlRnVuYygpOyAvLyBObyBuZWVkIHRvIGNoYW5nZSBzY29wZSBiZWNhdXNlIHRoZXJlIGlzIG5vIG9uZ29pbmcgdHJhbnNhY3Rpb24uXG4gICAgfSxcbiAgICB2aXA6IGZ1bmN0aW9uIChmbikge1xuICAgICAgICAvLyBUbyBiZSB1c2VkIGJ5IHN1YnNjcmliZXJzIHRvIHRoZSBvbigncmVhZHknKSBldmVudC5cbiAgICAgICAgLy8gVGhpcyB3aWxsIGxldCBjYWxsZXIgdGhyb3VnaCB0byBhY2Nlc3MgREIgZXZlbiB3aGVuIGl0IGlzIGJsb2NrZWQgd2hpbGUgdGhlIGRiLnJlYWR5KCkgc3Vic2NyaWJlcnMgYXJlIGZpcmluZy5cbiAgICAgICAgLy8gVGhpcyB3b3VsZCBoYXZlIHdvcmtlZCBhdXRvbWF0aWNhbGx5IGlmIHdlIHdlcmUgY2VydGFpbiB0aGF0IHRoZSBQcm92aWRlciB3YXMgdXNpbmcgRGV4aWUuUHJvbWlzZSBmb3IgYWxsIGFzeW5jcm9uaWMgb3BlcmF0aW9ucy4gVGhlIHByb21pc2UgUFNEXG4gICAgICAgIC8vIGZyb20gdGhlIHByb3ZpZGVyLmNvbm5lY3QoKSBjYWxsIHdvdWxkIHRoZW4gYmUgZGVyaXZlZCBhbGwgdGhlIHdheSB0byB3aGVuIHByb3ZpZGVyIHdvdWxkIGNhbGwgbG9jYWxEYXRhYmFzZS5hcHBseUNoYW5nZXMoKS4gQnV0IHNpbmNlXG4gICAgICAgIC8vIHRoZSBwcm92aWRlciBtb3JlIGxpa2VseSBpcyB1c2luZyBub24tcHJvbWlzZSBhc3luYyBBUElzIG9yIG90aGVyIHRoZW5hYmxlIGltcGxlbWVudGF0aW9ucywgd2UgY2Fubm90IGFzc3VtZSB0aGF0LlxuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgb25seSB1c2VmdWwgZm9yIG9uKCdyZWFkeScpIHN1YnNjcmliZXJzIHRoYXQgaXMgcmV0dXJuaW5nIGEgUHJvbWlzZSBmcm9tIHRoZSBldmVudC4gSWYgbm90IHVzaW5nIHZpcCgpXG4gICAgICAgIC8vIHRoZSBkYXRhYmFzZSBjb3VsZCBkZWFkbG9jayBzaW5jZSBpdCB3b250IG9wZW4gdW50aWwgdGhlIHJldHVybmVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGFuZCBhbnkgbm9uLVZJUGVkIG9wZXJhdGlvbiBzdGFydGVkIGJ5XG4gICAgICAgIC8vIHRoZSBjYWxsZXIgd2lsbCBub3QgcmVzb2x2ZSB1bnRpbCBkYXRhYmFzZSBpcyBvcGVuZWQuXG4gICAgICAgIHJldHVybiBuZXdTY29wZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBQU0QubGV0VGhyb3VnaCA9IHRydWU7IC8vIE1ha2Ugc3VyZSB3ZSBhcmUgbGV0IHRocm91Z2ggaWYgc3RpbGwgYmxvY2tpbmcgZGIgZHVlIHRvIG9ucmVhZHkgaXMgZmlyaW5nLlxuICAgICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmM6IGZ1bmN0aW9uIChnZW5lcmF0b3JGbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgcnYgPSBhd2FpdEl0ZXJhdG9yKGdlbmVyYXRvckZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgICAgIGlmICghcnYgfHwgdHlwZW9mIHJ2LnRoZW4gIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocnYpO1xuICAgICAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNwYXduOiBmdW5jdGlvbiAoZ2VuZXJhdG9yRm4sIGFyZ3MsIHRoaXopIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBydiA9IGF3YWl0SXRlcmF0b3IoZ2VuZXJhdG9yRm4uYXBwbHkodGhpeiwgYXJncyB8fCBbXSkpO1xuICAgICAgICAgICAgaWYgKCFydiB8fCB0eXBlb2YgcnYudGhlbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJ2KTtcbiAgICAgICAgICAgIHJldHVybiBydjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdGlvbihlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLy8gRGV4aWUuY3VycmVudFRyYW5zYWN0aW9uIHByb3BlcnR5XG4gICAgY3VycmVudFRyYW5zYWN0aW9uOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUFNELnRyYW5zIHx8IG51bGw7IH1cbiAgICB9LFxuICAgIHdhaXRGb3I6IGZ1bmN0aW9uIChwcm9taXNlT3JGdW5jdGlvbiwgb3B0aW9uYWxUaW1lb3V0KSB7XG4gICAgICAgIC8vIElmIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQsIGludm9rZSBpdCBhbmQgcGFzcyB0aGUgcmV0dXJuaW5nIHZhbHVlIHRvIFRyYW5zYWN0aW9uLndhaXRGb3IoKVxuICAgICAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0eXBlb2YgcHJvbWlzZU9yRnVuY3Rpb24gPT09ICdmdW5jdGlvbicgPyBEZXhpZS5pZ25vcmVUcmFuc2FjdGlvbihwcm9taXNlT3JGdW5jdGlvbikgOiBwcm9taXNlT3JGdW5jdGlvbilcbiAgICAgICAgICAgIC50aW1lb3V0KG9wdGlvbmFsVGltZW91dCB8fCA2MDAwMCk7IC8vIERlZmF1bHQgdGhlIHRpbWVvdXQgdG8gb25lIG1pbnV0ZS4gQ2FsbGVyIG1heSBzcGVjaWZ5IEluZmluaXR5IGlmIHJlcXVpcmVkLiAgICAgICBcbiAgICAgICAgLy8gUnVuIGdpdmVuIHByb21pc2Ugb24gY3VycmVudCB0cmFuc2FjdGlvbi4gSWYgbm8gY3VycmVudCB0cmFuc2FjdGlvbiwganVzdCByZXR1cm4gYSBEZXhpZSBwcm9taXNlIGJhc2VkXG4gICAgICAgIC8vIG9uIGdpdmVuIHZhbHVlLlxuICAgICAgICByZXR1cm4gUFNELnRyYW5zID8gUFNELnRyYW5zLndhaXRGb3IocHJvbWlzZSkgOiBwcm9taXNlO1xuICAgIH0sXG4gICAgLy8gRXhwb3J0IG91ciBQcm9taXNlIGltcGxlbWVudGF0aW9uIHNpbmNlIGl0IGNhbiBiZSBoYW5keSBhcyBhIHN0YW5kYWxvbmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvblxuICAgIFByb21pc2U6IFByb21pc2UsXG4gICAgLy8gRGV4aWUuZGVidWcgcHJvcHRlcnk6XG4gICAgLy8gRGV4aWUuZGVidWcgPSBmYWxzZVxuICAgIC8vIERleGllLmRlYnVnID0gdHJ1ZVxuICAgIC8vIERleGllLmRlYnVnID0gXCJkZXhpZVwiIC0gZG9uJ3QgaGlkZSBkZXhpZSdzIHN0YWNrIGZyYW1lcy5cbiAgICBkZWJ1Zzoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRlYnVnOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc2V0RGVidWcodmFsdWUsIHZhbHVlID09PSAnZGV4aWUnID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSA6IGRleGllU3RhY2tGcmFtZUZpbHRlcik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIEV4cG9ydCBvdXIgZGVyaXZlL2V4dGVuZC9vdmVycmlkZSBtZXRob2RvbG9neVxuICAgIGRlcml2ZTogZGVyaXZlLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICBvdmVycmlkZTogb3ZlcnJpZGUsXG4gICAgLy8gRXhwb3J0IG91ciBFdmVudHMoKSBmdW5jdGlvbiAtIGNhbiBiZSBoYW5keSBhcyBhIHRvb2xraXRcbiAgICBFdmVudHM6IEV2ZW50cyxcbiAgICAvLyBVdGlsaXRpZXNcbiAgICBnZXRCeUtleVBhdGg6IGdldEJ5S2V5UGF0aCxcbiAgICBzZXRCeUtleVBhdGg6IHNldEJ5S2V5UGF0aCxcbiAgICBkZWxCeUtleVBhdGg6IGRlbEJ5S2V5UGF0aCxcbiAgICBzaGFsbG93Q2xvbmU6IHNoYWxsb3dDbG9uZSxcbiAgICBkZWVwQ2xvbmU6IGRlZXBDbG9uZSxcbiAgICBnZXRPYmplY3REaWZmOiBnZXRPYmplY3REaWZmLFxuICAgIGFzYXA6IGFzYXAsXG4gICAgbWF4S2V5OiBtYXhLZXksXG4gICAgbWluS2V5OiBtaW5LZXksXG4gICAgLy8gQWRkb24gcmVnaXN0cnlcbiAgICBhZGRvbnM6IFtdLFxuICAgIC8vIEdsb2JhbCBEQiBjb25uZWN0aW9uIGxpc3RcbiAgICBjb25uZWN0aW9uczogY29ubmVjdGlvbnMsXG4gICAgTXVsdGlNb2RpZnlFcnJvcjogZXhjZXB0aW9ucy5Nb2RpZnksXG4gICAgZXJybmFtZXM6IGVycm5hbWVzLFxuICAgIC8vIEV4cG9ydCBvdGhlciBzdGF0aWMgY2xhc3Nlc1xuICAgIEluZGV4U3BlYzogSW5kZXhTcGVjLFxuICAgIFRhYmxlU2NoZW1hOiBUYWJsZVNjaGVtYSxcbiAgICAvL1xuICAgIC8vIERlcGVuZGVuY2llc1xuICAgIC8vXG4gICAgLy8gVGhlc2Ugd2lsbCBhdXRvbWF0aWNhbGx5IHdvcmsgaW4gYnJvd3NlcnMgd2l0aCBpbmRleGVkREIgc3VwcG9ydCwgb3Igd2hlcmUgYW4gaW5kZXhlZERCIHBvbHlmaWxsIGhhcyBiZWVuIGluY2x1ZGVkLlxuICAgIC8vXG4gICAgLy8gSW4gbm9kZS5qcywgaG93ZXZlciwgdGhlc2UgcHJvcGVydGllcyBtdXN0IGJlIHNldCBcIm1hbnVhbGx5XCIgYmVmb3JlIGluc3RhbnNpYXRpbmcgYSBuZXcgRGV4aWUoKS5cbiAgICAvLyBGb3Igbm9kZS5qcywgeW91IG5lZWQgdG8gcmVxdWlyZSBpbmRleGVkZGItanMgb3Igc2ltaWxhciBhbmQgdGhlbiBzZXQgdGhlc2UgZGVwcy5cbiAgICAvL1xuICAgIGRlcGVuZGVuY2llczogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLy8gUmVxdWlyZWQ6XG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBfZ2xvYmFsLmluZGV4ZWREQiB8fCBfZ2xvYmFsLm1vekluZGV4ZWREQiB8fCBfZ2xvYmFsLndlYmtpdEluZGV4ZWREQiB8fCBfZ2xvYmFsLm1zSW5kZXhlZERCLFxuICAgICAgICAgICAgICAgIElEQktleVJhbmdlOiBfZ2xvYmFsLklEQktleVJhbmdlIHx8IF9nbG9iYWwud2Via2l0SURCS2V5UmFuZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5kZXhlZERCOiBudWxsLFxuICAgICAgICAgICAgICAgIElEQktleVJhbmdlOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSkoKSxcbiAgICAvLyBBUEkgVmVyc2lvbiBOdW1iZXI6IFR5cGUgTnVtYmVyLCBtYWtlIHN1cmUgdG8gYWx3YXlzIHNldCBhIHZlcnNpb24gbnVtYmVyIHRoYXQgY2FuIGJlIGNvbXBhcmFibGUgY29ycmVjdGx5LiBFeGFtcGxlOiAwLjksIDAuOTEsIDAuOTIsIDEuMCwgMS4wMSwgMS4xLCAxLjIsIDEuMjEsIGV0Yy5cbiAgICBzZW1WZXI6IERFWElFX1ZFUlNJT04sXG4gICAgdmVyc2lvbjogREVYSUVfVkVSU0lPTi5zcGxpdCgnLicpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHBhcnNlSW50KG4pOyB9KVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChwLCBjLCBpKSB7IHJldHVybiBwICsgKGMgLyBNYXRoLnBvdygxMCwgaSAqIDIpKTsgfSksXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RmYWhsYW5kZXIvRGV4aWUuanMvaXNzdWVzLzE4NlxuICAgIC8vIHR5cGVzY3JpcHQgY29tcGlsZXIgdHNjIGluIG1vZGUgdHMtLT5lczUgJiBjb21tb25KUywgd2lsbCBleHBlY3QgcmVxdWlyZSgpIHRvIHJldHVyblxuICAgIC8vIHguZGVmYXVsdC4gV29ya2Fyb3VuZDogU2V0IERleGllLmRlZmF1bHQgPSBEZXhpZS5cbiAgICBkZWZhdWx0OiBEZXhpZSxcbiAgICAvLyBNYWtlIGl0IHBvc3NpYmxlIHRvIGltcG9ydCB7RGV4aWV9IChub24tZGVmYXVsdCBpbXBvcnQpXG4gICAgLy8gUmVhc29uIDE6IE1heSBzd2l0Y2ggdG8gdGhhdCBpbiBmdXR1cmUuXG4gICAgLy8gUmVhc29uIDI6IFdlIGRlY2xhcmUgaXQgYm90aCBkZWZhdWx0IGFuZCBuYW1lZCBleHBvcnRlZCBpbiBkLnRzIHRvIG1ha2UgaXQgcG9zc2libGVcbiAgICAvLyB0byBsZXQgYWRkb25zIGV4dGVuZCB0aGUgRGV4aWUgaW50ZXJmYWNlIHdpdGggVHlwZXNjcmlwdCAyLjEgKHdvcmtzIG9ubHkgd2hlbiBleHBsaWNpdGVseVxuICAgIC8vIGV4cG9ydGluZyB0aGUgc3ltYm9sLCBub3QganVzdCBkZWZhdWx0IGV4cG9ydGluZylcbiAgICBEZXhpZTogRGV4aWVcbn0pO1xuLy8gTWFwIERPTUVycm9ycyBhbmQgRE9NRXhjZXB0aW9ucyB0byBjb3JyZXNwb25kaW5nIERleGllIGVycm9ycy4gTWF5IGNoYW5nZSBpbiBEZXhpZSB2Mi4wLlxuUHJvbWlzZS5yZWplY3Rpb25NYXBwZXIgPSBtYXBFcnJvcjtcbi8vIEluaXRpYWxpemUgZGJOYW1lc0RCICh3b24ndCBldmVyIGJlIG9wZW5lZCBvbiBjaHJvbWl1bSBicm93c2VycycpXG5kYk5hbWVzREIgPSBuZXcgRGV4aWUoJ19fZGJuYW1lcycpO1xuZGJOYW1lc0RCLnZlcnNpb24oMSkuc3RvcmVzKHsgZGJuYW1lczogJ25hbWUnIH0pO1xuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBNaWdyYXRlIGZyb20gRGV4aWUgMS54IGRhdGFiYXNlIG5hbWVzIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2U6XG4gICAgdmFyIERCTkFNRVMgPSAnRGV4aWUuRGF0YWJhc2VOYW1lcyc7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09IHVuZGVmaW5lZCAmJiBfZ2xvYmFsLmRvY3VtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEhhdmUgbG9jYWxTdG9yYWdlIGFuZCBpcyBub3QgZXhlY3V0aW5nIGluIGEgd29ya2VyLiBMZXRzIG1pZ3JhdGUgZnJvbSBEZXhpZSAxLnguXG4gICAgICAgICAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKERCTkFNRVMpIHx8IFwiW11cIilcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZGJOYW1lc0RCLmRibmFtZXMucHV0KHsgbmFtZTogbmFtZSB9KS5jYXRjaChub3ApOyB9KTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKERCTkFNRVMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfZSkgeyB9XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBEZXhpZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRleGllLmVzLmpzLm1hcFxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNzcy9mb250cy9yb2JvdG8vUm9ib3RvLUJvbGQud29mZlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjc3MvZm9udHMvcm9ib3RvL1JvYm90by1Cb2xkLndvZmYyXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNzcy9mb250cy9yb2JvdG8vUm9ib3RvLUxpZ2h0LndvZmZcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tTGlnaHQud29mZjJcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tTWVkaXVtLndvZmZcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiY3NzL2ZvbnRzL3JvYm90by9Sb2JvdG8tTWVkaXVtLndvZmYyXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNzcy9mb250cy9yb2JvdG8vUm9ib3RvLVJlZ3VsYXIud29mZlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjc3MvZm9udHMvcm9ib3RvL1JvYm90by1SZWd1bGFyLndvZmYyXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNzcy9mb250cy9yb2JvdG8vUm9ib3RvLVRoaW4ud29mZlwiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjc3MvZm9udHMvcm9ib3RvL1JvYm90by1UaGluLndvZmYyXCI7IiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pb25pYy5idW5kbGUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdGhlbWUuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG4vKiogQGRlcHJlY2F0ZWQgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XHJcbiAgICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcclxuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuIiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tIFwibGl0LWh0bWxcIjtcblxuY2xhc3MgQ29tcG9uZW50Q2FyZFVzZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cblxuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTogJycsXG4gICAgICAgICAgICBhY2NvdW50OiAnJyxcbiAgICAgICAgICAgIGFjY291bnRfc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgIGVtYWlsX2FkZHJlc3M6ICcnLFxuICAgICAgICAgICAgZmlyc3RfbmFtZTogJycsXG4gICAgICAgICAgICBsYXN0X25hbWU6ICcnLFxuICAgICAgICAgICAgbG9uZ19uYW1lOiAnJyxcbiAgICAgICAgICAgIHBob25lX2NlbGw6ICcnLFxuICAgICAgICAgICAgcGhvdG9fcGF0aDogJycsXG4gICAgICAgICAgICBsYXN0X2xvZ2luX2RhdGU6ICcnLFxuICAgICAgICAgICAgdXNlcl9jcmVhdGVkX2RhdGU6ICcnLFxuICAgICAgICAgICAgcm9sZV9uYW1lOiAnJyxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gKCkgPT4gaHRtbGBcbiAgICAgICAgICAgIDxpb24tY2FyZCBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHdoaXRlXCI+XG4gICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWF2YXRhciBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZVwiIGlkPVwiYXZhdGFyX3dyYXBwZXJcIiBuYW1lPVwicGluXCIgc2xvdD1cInN0YXJ0XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnVzZXIuYXZhdGFyPyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlkPVwiYXZhdGFyXCIgc3JjPSR7dGhpcy51c2VyLmF2YXRhcn0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaWQ9XCJub19hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHN0eWxlPVwiaGVpZ2h0OiAxMDAlXCIgeG1sbnM6ZGM9XCJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xL1wiIHhtbG5zOmNjPVwiaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjXCIgeG1sbnM6cmRmPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI1wiIHhtbG5zOnN2Zz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICB2aWV3Qm94PVwiMCAwIDEyMCAxMjAuMDAwMDFcIiB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJzdmc4XCIgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpbmtzY2FwZTpsYWJlbD1cIkxheWVyIDFcIiBpbmtzY2FwZTpncm91cG1vZGU9XCJsYXllclwiIGlkPVwibGF5ZXIxXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC00My4yMDQwMDcsLTg1LjMyMDAzOSlcIj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBzdHlsZT1cIm9wYWNpdHk6MC45ODk5OTk5OTtmaWxsOiNlNmU2ZTY7ZmlsbC1vcGFjaXR5OjAuMjQ2Mzc2ODE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMDY0NTQyNTI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MVwiIGlkPVwicmVjdDQ1NzZcIiB3aWR0aD1cIjExOS40OTM2OFwiIGhlaWdodD1cIjExOS45MzU0NlwiIHg9XCI0My40NTcxNjlcIiB5PVwiODUuMzUyMzFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9XCJnNDU3NFwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgxMjYuMTI0MTQsLTAuNjUxMDYwODcpXCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJtIDM3LjA0NzEyOSwxNDUuOTcxMTUgYSA1OS45NjcyMzksNTkuOTY3MjA5IDAgMCAxIC01OS43MTUwMDMsNTkuOTY2NjcgNTkuOTY3MjM5LDU5Ljk2NzIwOSAwIDAgMSAtNjAuMjE3MzU0LC01OS40NjIyMSA1OS45NjcyMzksNTkuOTY3MjA5IDAgMCAxIDU5LjIwODQyNSwtNjAuNDY2ODk5IDU5Ljk2NzIzOSw1OS45NjcyMDkgMCAwIDEgNjAuNzE1NDQ0LDU4Ljk1MzUyOVwiIGlkPVwicGF0aDQ0OThcIiBzdHlsZT1cIm9wYWNpdHk6MC45ODk5OTk5OTtmaWxsOiM5OTk5OTk7ZmlsbC1vcGFjaXR5OjAuNzcwNjQyMjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMDY1NDc2MDI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggaWQ9XCJwYXRoNDUwMFwiIHRyYW5zZm9ybT1cInNjYWxlKDAuMjY0NTgzMzMpXCIgZD1cIm0gLTg3LjkzNzUsMzk1LjEzNDc3IGEgMTAzLjgwNzA0LDEwMy44MDY5OSAwIDAgMCAtMTAyLjQ5MjE5LDEwNC42NzE4NyAxMDMuODA3MDQsMTAzLjgwNjk5IDAgMCAwIDQxLjc1MzkxLDgyLjIzODI4IDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAtNzkuNTYyNSwxMjguMjk2ODggMTQxLjYxNTE4LDE0MS42MTUxIDAgMCAwIDEuNjU4MiwxOS4zMzc4OSAyMjYuNjQ3ODUsMjI2LjY0NzcyIDAgMCAwIDExLjE1MjM1LDguNDAyMzQgMTMyLjE3NDE2LDEzMi4xNzQwOCAwIDAgMSAtMy4zNjkxNSwtMjcuODIwMzEgMTMyLjE3NDE2LDEzMi4xNzQwOCAwIDAgMSA3OS4zMjAzMiwtMTIyLjEwMzUyIDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgNTMuMjg1MTU0LDE0LjU4MDA4IDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgNTIuNDI5Njg3LC0xNC41OTU3IDEzMi4xNzQxNiwxMzIuMTc0MDggMCAwIDEgNzkuMjg5MDYzLDExOC43ODUxNSBsIDAuMDE5NTMsMi4yMjI2NiBhIDEzMi4xNzQxNiwxMzIuMTc0MDggMCAwIDEgLTMuMjQyMTg3LDI4LjY0MDYzIDIyNi42NDc4NSwyMjYuNjQ3NzIgMCAwIDAgMTEuMDQyOTY4LC03Ljg5NjQ5IDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAxLjY0MDYyNSwtMjAuNzQ0MTQgbCAtMC4wMTk1MywtMi4zODI4MSBhIDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAtNzkuNDEyMTA5LC0xMjQuODQzNzUgMTAzLjgwNzA0LDEwMy44MDY5OSAwIDAgMSAtMC4yNTk3NjYsMC4xNzU3OCAxMDMuODA3MDQsMTAzLjgwNjk5IDAgMCAwIDQxLjg4MjgxMywtODMuMTY2MDIgbCAtMC4wMTM2NywtMS43NDgwNCBBIDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgLTg3LjkzNzUsMzk1LjEzNDc3IFogbSAwLjExOTE0MSw5LjQzNTU0IEEgOTQuMzcwMDMzLDk0LjM2OTk5IDAgMCAxIDcuNzI4NTE1Niw0OTcuMzQ1NyBsIDAuMDEzNjcyLDEuNTg3ODkgYSA5NC4zNzAwMzMsOTQuMzY5OTkgMCAwIDEgLTkzLjk3MjY1NjYsOTQuMzY5MTQgOTQuMzcwMDMzLDk0LjM2OTk5IDAgMCAxIC05NC43NjM2NzEsLTkzLjU3NjE3IDk0LjM3MDAzMyw5NC4zNjk5OSAwIDAgMSA5My4xNzU3ODEsLTk1LjE1NjI1IHpcIiBzdHlsZT1cIm9wYWNpdHk6MC45ODk5OTk5OTtmaWxsOiNlNmU2ZTY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMjU5ODQ2NTE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1hdmF0YXI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tY2FyZC1oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWNhcmQtc3VidGl0bGU+JHt0aGlzLnVzZXIudXNlcm5hbWV9PC9pb24tY2FyZC1zdWJ0aXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tY2FyZC10aXRsZT4ke3RoaXMudXNlci5sb25nX25hbWV9PC9pb24tY2FyZC10aXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy51c2VyLmFjY291bnQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWwgc3R5bGU9XCJtYXJnaW4tdG9wOiA1cHg7Zm9udC1zaXplOiAxMnB4O1wiPjxiPkFjY291bnQ6PC9iPiAke3RoaXMudXNlci5hY2NvdW50fSA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGA6Jyd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1jYXJkLWhlYWRlcj5cbiAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgIDxpb24tY2FyZC1jb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbiBAY2xpY2s9JHsoKSA9PiB7dGhpcy5oYW5kbGVWaWV3VXNlcigpfX0gZmlsbD1cIm91dGxpbmVcIiBzbG90PVwiZW5kXCI+VmlldzwvaW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2lvbi1jYXJkLWNvbnRlbnQ+XG4gICAgICAgICAgICA8L2lvbi1jYXJkPjpcbiAgICAgICAgYDtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYodGhpcy50ZW1wbGF0ZSlcbiAgICAgICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKCksIHRoaXMpO1xuICAgIH1cblxuICAgIGhhbmRsZVZpZXdVc2VyKCkge1xuICAgICAgICBsZXQgcm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpO1xuICAgICAgICByb3V0ZXIucHVzaChgL3VzZXJzLyR7dGhpcy51c2VyLl9pZH1gKVxuICAgIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2FwcC1jYXJkLXVzZXInLCBDb21wb25lbnRDYXJkVXNlcik7XG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnRDYXJkVXNlcjsiLCIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjAgUmF0aW8gU29mdHdhcmUsIExMQyBcbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgQGF1dGhvciBDbGF5dG9uIEd1bGljayA8Y2xheUByYXRpb3NvZnR3YXJlLmNvbT5cbiAqL1xuaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCB7IGxvYWRpbmdDb250cm9sbGVyLCBhbGVydENvbnRyb2xsZXIsIG1vZGFsQ29udHJvbGxlciwgdG9hc3RDb250cm9sbGVyLCBwaWNrZXJDb250cm9sbGVyLCBhY3Rpb25TaGVldENvbnRyb2xsZXIgfSBmcm9tICdAaW9uaWMvY29yZSc7XG5cbmltcG9ydCBicm9rZXIgZnJvbSAnZGF0YWJyb2tlcic7XG5cbmltcG9ydCBTY2VuZUhvbWUgZnJvbSAnLi4vc2NlbmUvc2NlbmUtaG9tZSc7XG5pbXBvcnQgU2NlbmVOb3RpZmljYXRpb25zIGZyb20gJy4uL3NjZW5lL3NjZW5lLW5vdGlmaWNhdGlvbnMnO1xuaW1wb3J0IFNjZW5lVXNlciBmcm9tICcuLi9zY2VuZS9zY2VuZS11c2VyJztcbmltcG9ydCBTY2VuZVVzZXJzIGZyb20gJy4uL3NjZW5lL3NjZW5lLXVzZXJzJztcbmltcG9ydCBTY2VuZUludml0YXRpb25zIGZyb20gJy4uL3NjZW5lL3NjZW5lLWludml0YXRpb25zJztcbmltcG9ydCBTY2VuZUludml0YXRpb24gZnJvbSAnLi4vc2NlbmUvc2NlbmUtaW52aXRhdGlvbic7XG5pbXBvcnQgU2NlbmVDb21tdW5pY2F0aW9ucyBmcm9tICcuLi9zY2VuZS9zY2VuZS1jb21tdW5pY2F0aW9ucyc7XG5pbXBvcnQgU2NlbmVDb21tdW5pY2F0aW9uIGZyb20gJy4uL3NjZW5lL3NjZW5lLWNvbW11bmljYXRpb24nO1xuaW1wb3J0IFNjZW5lRXhwb3J0IGZyb20gJy4uL3NjZW5lL3NjZW5lLWV4cG9ydCc7XG5pbXBvcnQgQ29tcG9uZW50TG9naW4gZnJvbSAnLi9sb2dpbi9jb21wb25lbnQtbG9naW4nO1xuaW1wb3J0IENvbXBvbmVudExvZ291dCBmcm9tICcuL2xvZ2luL2NvbXBvbmVudC1sb2dvdXQnO1xuaW1wb3J0IENvbXBvbmVudExvZ28gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL3ZpZXcvY29tcG9uZW50cy9jb21wb25lbnQtbG9nbyc7XG5pbXBvcnQgQXBwbGljYXRpb25TdGF0ZSBmcm9tICdhcHBsaWNhdGlvbnN0YXRlJztcblxuXG4vKipcbiAqIFRoaXMgaXMgdGhlIG1haW4gYXBwbGljYXRpb24gY2xhc3NcbiAqL1xuY2xhc3MgQ29tcG9uZW50TWFpbiBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IFZFUlNJT047XG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSBOT0RFX0VOVjtcbiAgICAgICAgdGhpcy5hcHBfbmFtZSA9IEFQUF9OQU1FO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTdGFydGluZyAke3RoaXMuYXBwX25hbWV9IHYke3RoaXMudmVyc2lvbn0gaW4gJHt0aGlzLmVudmlyb25tZW50fSBlbnZpb3Jvbm1lbnQuYClcblxuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBbXTtcblxuICAgICAgICAvL2NhY2hlIGNvbnRyb2xsZXIgaW1wb3J0cyBvbiB3aW5kb3cgYXMgcmVjb21tZW5kZWQgYnkgaW9uaWMgZG9jc1xuICAgICAgICB3aW5kb3cubG9hZGluZ0NvbnRyb2xsZXIgPSBsb2FkaW5nQ29udHJvbGxlcjtcbiAgICAgICAgd2luZG93LmFsZXJ0Q29udHJvbGxlciA9IGFsZXJ0Q29udHJvbGxlcjtcbiAgICAgICAgd2luZG93LmFjdGlvblNoZWV0Q29udHJvbGxlciA9IGFjdGlvblNoZWV0Q29udHJvbGxlcjtcbiAgICAgICAgd2luZG93Lm1vZGFsQ29udHJvbGxlciA9IG1vZGFsQ29udHJvbGxlcjtcbiAgICAgICAgd2luZG93LnBpY2tlckNvbnRyb2xsZXIgPSBwaWNrZXJDb250cm9sbGVyO1xuICAgICAgICB3aW5kb3cudG9hc3RDb250cm9sbGVyID0gdG9hc3RDb250cm9sbGVyO1xuXG4gICAgICAgIC8vVE9ETzogbWFrZSB0aGlzIHdvcmsgbGlrZSBmYW1pbHkgYXBwIGxvZ2luXG4gICAgICAgIHRoaXMuX2xvZ2dlZF9pbl9wcm9taXNlID0gbmV3IFByb21pc2UoXG4gICAgICAgICAgICAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nZ2VkX2luX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX3JlYWR5X3Byb21pc2UgPSBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWFkeV9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgaGFuZGxlRXJyb3IgPSBhc3luYyAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvYXN0X2NvbnRyb2xsZXIgPSB3aW5kb3cudG9hc3RDb250cm9sbGVyO1xuICAgICAgICAgICAgaWYoIXRvYXN0X2NvbnRyb2xsZXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYoIXRvYXN0X2NvbnRyb2xsZXIuY3JlYXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiBhbGVydChtZXNzYWdlKTtcblxuICAgICAgICAgICAgbGV0IHRvYXN0ID0gYXdhaXQgdG9hc3RfY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCB0b2FzdC5wcmVzZW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2dsb2JhbCBlcnJvciBoYW5kbGVyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsYXN5bmMgKGUpID0+IHthd2FpdCBoYW5kbGVFcnJvcihlLm1lc3NhZ2UpIH0pO1xuICAgICAgICB3aW5kb3cub251bmhhbmRsZWRyZWplY3Rpb24gPSBhc3luYyAoZSkgPT4ge2F3YWl0IGhhbmRsZUVycm9yKGUucmVhc29uKSB9O1xuXG4gICAgICAgIGJyb2tlci5hZGRFdmVudExpc3RlbmVyKCdtaXNzaW5nX2NyZWRlbnRpYWxzJywgKCkgPT4gdGhpcy5oYW5kbGVNaXNzaW5nQ3JlZGVudGlhbHMoKSk7XG5cbiAgICB9XG5cbiAgICBnZXQgbG9nZ2VkX2luKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9nZ2VkX2luX3Byb21pc2U7XG4gICAgfVxuXG4gICAgZ2V0IHJlYWR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVhZHlfcHJvbWlzZTtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9ICgpID0+IGh0bWxgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgIC5hY3RpdmUge1xuICAgICAgICAgICAgICAgIC0taW9uLXRleHQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkO1xuICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmFjdGl2ZSBpb24taWNvbiB7XG4gICAgICAgICAgICAgICAgLS1pb24tdGV4dC1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPGlvbi1hcHA+XG4gICAgICAgICAgICA8aW9uLXJvdXRlciBAaW9uUm91dGVEaWRDaGFuZ2U9JHsoZSkgPT4gdGhpcy5oYW5kbGVSb3V0ZUNoYW5nZShlKX0+XG4gICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy8nIGNvbXBvbmVudD0nc2NlbmUtaG9tZSc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy9ub3RpZmljYXRpb25zJyBjb21wb25lbnQ9J3NjZW5lLW5vdGlmaWNhdGlvbnMnPjwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvdXNlcnMnIGNvbXBvbmVudD0nc2NlbmUtdXNlcnMnPjwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvdXNlcnMvOnVzZXJfaWQnIGNvbXBvbmVudD0nc2NlbmUtdXNlcic+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvcHJvZmlsZScgY29tcG9uZW50PSd0YWItcHJvZmlsZSc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvaGlzdG9yeScgY29tcG9uZW50PSd0YWItaGlzdG9yeSc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgY29tcG9uZW50PSd0YWItcHJvZmlsZSc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgPC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy9pbnZpdGF0aW9ucycgY29tcG9uZW50PSdzY2VuZS1pbnZpdGF0aW9ucyc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy9pbnZpdGF0aW9ucy86aW52aXRhdGlvbl9pZCcgY29tcG9uZW50PSdzY2VuZS1pbnZpdGF0aW9uJz5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy92aWV3JyBjb21wb25lbnQ9J3RhYi12aWV3Jz48L2lvbi1yb3V0ZT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSB1cmw9Jy9oaXN0b3J5JyBjb21wb25lbnQ9J3RhYi1oaXN0b3J5Jz48L2lvbi1yb3V0ZT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1yb3V0ZSBjb21wb25lbnQ9XCJ0YWItdmlld1wiPjwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgICAgIDwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvY29tbXVuaWNhdGlvbnMnIGNvbXBvbmVudD0nc2NlbmUtY29tbXVuaWNhdGlvbnMnPjwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvY29tbXVuaWNhdGlvbnMvOmNvbW11bmljYXRpb25faWQnIGNvbXBvbmVudD0nc2NlbmUtY29tbXVuaWNhdGlvbic+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvdmlldycgY29tcG9uZW50PSd0YWItdmlldyc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgdXJsPScvaGlzdG9yeScgY29tcG9uZW50PSd0YWItaGlzdG9yeSc+PC9pb24tcm91dGU+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm91dGUgY29tcG9uZW50PVwidGFiLXZpZXdcIj48L2lvbi1yb3V0ZT5cbiAgICAgICAgICAgICAgICA8L2lvbi1yb3V0ZT5cbiAgICAgICAgICAgICAgICA8aW9uLXJvdXRlIHVybD0nL2V4cG9ydCcgY29tcG9uZW50PSdzY2VuZS1leHBvcnQnPjwvaW9uLXJvdXRlPlxuICAgICAgICAgICAgPC9pb24tcm91dGVyPlxuICAgICAgICAgICAgPGlvbi1zcGxpdC1wYW5lIGNvbnRlbnQtaWQ9XCJhcHBfY29udGVudFwiIHdoZW49XCJzbVwiPlxuICAgICAgICAgICAgICAgIDxpb24tbWVudSBjb250ZW50LWlkPVwiYXBwX2NvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXIgY29sb3I9XCJwcmltYXJ5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0nZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IHJvdzsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Jz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFwcC1sb2dvIHN0eWxlPVwiaGVpZ2h0OiAzMHB4OyBtYXJnaW4tdG9wOiAwcHhcIiAubW9kZT0keyd0ZXh0J30+PC9hcHAtbG9nbz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWhlYWRlcj5cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxpb24tY29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGlzdCBpZD1cImxlZnRfbWVudV9saXN0XCIgbGluZXM9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1tZW51LXRvZ2dsZSBhdXRvLWhpZGU9XCJmYWxzZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0gYnV0dG9uIGhyZWY9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPSdob21lJz48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIb21lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtIGJ1dHRvbiBocmVmPVwidXNlcnNcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cInN0YXJ0XCIgbmFtZT0ncGVvcGxlJz48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taXRlbSBidXR0b24gaHJlZj1cIm5vdGlmaWNhdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPSdub3RpZmljYXRpb25zJz48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5fbm90aWZpY2F0aW9ucyA/IHRoaXMuX25vdGlmaWNhdGlvbnMubGVuZ3RoID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sYDxpb24tYmFkZ2UgY29sb3I9XCJkYW5nZXJcIj4ke3RoaXMuX25vdGlmaWNhdGlvbnMubGVuZ3RofTwvaW9uLWJhZGdlPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtIGJ1dHRvbiBocmVmPVwiaW52aXRhdGlvbnNcIn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cInN0YXJ0XCIgbmFtZT0nbWFpbCc+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW52aXRhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0gYnV0dG9uIGhyZWY9XCJjb21tdW5pY2F0aW9uc1wifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPSdtYWlsJz48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21tdW5pY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtIGJ1dHRvbiBocmVmPVwiZXhwb3J0XCJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIHNsb3Q9XCJzdGFydFwiIG5hbWU9J2V4aXQnPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV4cG9ydCBEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtLWRpdmlkZXI+PC9pb24taXRlbS1kaXZpZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0gYnV0dG9uIGhyZWY9XCJzZXR0aW5nc1wifSBkaXNhYmxlZD1kaXNhYmxlZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPSdzZXR0aW5ncyc+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLW1lbnUtdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tbGlzdD5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24tY29udGVudD5cbiAgICAgICAgICAgICAgICA8L2lvbi1tZW51PlxuICAgICAgICAgICAgICAgIDxpb24tbmF2IGlkPVwiYXBwX2NvbnRlbnRcIiBhbmltYXRlZD1cInRydWVcIj48L2lvbi1uYXY+XG4gICAgICAgICAgICA8L2lvbi1zcGxpdC1wYW5lPlxuICAgICAgICAgICAgPGFwcC1sb2dpbj48L2FwcC1sb2dpbj5cbiAgICAgICAgICAgIDxpb24tcHJvZ3Jlc3MtYmFyIHN0eWxlPVwib3BhY2l0eTowOyB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzIGxpbmVhcjtcIiBjb2xvcj1cIndhcm5pbmdcIiB0eXBlPVwiaW5kZXRlcm1pbmF0ZVwiIHZhbHVlPVwiMFwiPjwvaW9uLXByb2dyZXNzLWJhcj5cbiAgICAgICAgPC9pb24tYXBwPlxuICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmVuZGVyKHRoaXMudGVtcGxhdGUoe30pLCB0aGlzKTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0KCkge1xuICAgICAgICBsZXQgaW9uX2FwcCA9IHRoaXMucXVlcnlTZWxlY3RvcihcImlvbi1hcHBcIik7XG4gICAgICAgIC8vd2FpdCBmb3IgaW9uaWMgdG8gbG9hZFxuICAgICAgICBsZXQgbG9hZGluZ19pbnRlcnZhbCA9IHNldEludGVydmFsKFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCFpb25fYXBwLmNvbXBvbmVudE9uUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiaW9uaWMgbm90IGxvYWRlZCwgZGVsYXlpbmcgMTBtcy4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9hZGluZ19pbnRlcnZhbCk7XG5cbiAgICAgICAgICAgICAgICBhd2FpdCBpb25fYXBwLmNvbXBvbmVudE9uUmVhZHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWFkeV9yZXNvbHZlKCk7XG4gICAgICAgICAgICB9LCAxMFxuICAgICAgICApO1xuXG4gICAgICAgIGF3YWl0IHRoaXMucmVhZHk7XG5cbiAgICAgICAgdGhpcy5zZXRBY3RpdmVNZW51SXRlbSgpO1xuICAgICAgICB0aGlzLmxvZ2luX3NjZW5lID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdhcHAtbG9naW4nKTtcbiAgICAgICAgdGhpcy5sb2dpbl9zY2VuZS5hZGRFdmVudExpc3RlbmVyKCdsb2dpbl9zdWNjZXNzJywgdGhpcy5oYW5kbGVMb2dpblN1Y2Nlc3MuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbG9nb3V0JywgdGhpcy5oYW5kbGVMb2dvdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIC8vdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtaXNzaW5nX2NyZWRlbnRpYWxzJywgdGhpcy5oYW5kbGVNaXNzaW5nQ3JlZGVudGlhbHMuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbmF2aWdhdGUnLCB0aGlzLmhhbmRsZU5hdmlnYXRlLmJpbmQodGhpcykpO1xuICAgICAgICBicm9rZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGluZycsIHRoaXMuaGFuZGxlTG9hZGluZy5iaW5kKHRoaXMpKTtcbiAgICAgICAgYnJva2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRpbmdfY29tcGxldGUnLCB0aGlzLmhhbmRsZUxvYWRpbmdDb21wbGV0ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdpb24tbmF2JykuYWRkRXZlbnRMaXN0ZW5lcihcImlvbk5hdldpbGxDaGFuZ2VcIiwgKGUpID0+IHRoaXMuaGFuZGxlTmF2aWdhdGUoZSkpO1xuICAgICAgICB0aGlzLmxvYWRpbmdfY29udHJvbGxlciA9IHdpbmRvdy5sb2FkaW5nQ29udHJvbGxlcjtcbiAgICAgICAgdGhpcy5wcm9ncmVzc19iYXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1wcm9ncmVzcy1iYXInKTtcblxuICAgICAgICBpZighdGhpcy5fbm90aWZpY2F0aW9uX3BvbGxfaW50ZXJ2YWxfa2V5KVxuICAgICAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uX3BvbGxfaW50ZXJ2YWxfa2V5ID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5wb2xsTm90aWZpY2F0aW9ucygpLCA1MDAwKTtcbiAgICB9XG5cbiAgICBhc3luYyBwb2xsTm90aWZpY2F0aW9ucygpIHtcbiAgICAgICAgbGV0IHVzZXIgPSBBcHBsaWNhdGlvblN0YXRlLmdldCgnYXBwLnVzZXInKTtcbiAgICAgICAgaWYoIXVzZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBwb2xsIGZvciBub3RpZmljYXRpb25zLCBubyB2YWxpZCB1c2VyXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbnMgPSBhd2FpdCBicm9rZXIuZ2V0KGAvYXBpL25vdGlmaWNhdGlvbnMvYWRtaW4vJHt1c2VyLl9pZH1gKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVSb3V0ZUNoYW5nZShlKSB7XG4gICAgICAgIGxldCBkYXRhID0gZS5kZXRhaWw7XG4gICAgfVxuXG4gICAgc2V0QWN0aXZlTWVudUl0ZW0ocm9vdF9wYXRoKSB7XG4gICAgICAgIGxldCBlbGVtZW50cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChcImlvbi1tZW51IGlvbi1pdGVtXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGlmKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdocmVmJykgPT0gcm9vdF9wYXRoKVxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU5hdmlnYXRlKGUpIHtcbiAgICAgICAgbGV0IHBhdGhfaXRlbXMgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zcGxpdCgnLycpO1xuICAgICAgICBsZXQgcm9vdF9wYXRoID0gcGF0aF9pdGVtc1sxXTsgLy9bIyx1c2VycywxMjNdXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlTWVudUl0ZW0ocm9vdF9wYXRoKVxuICAgIH1cblxuICAgIGhhbmRsZU1pc3NpbmdDcmVkZW50aWFscygpIHtcbiAgICAgICAgdGhpcy5sb2dpbl9zY2VuZS5zaG93TG9naW4oKTtcbiAgICAgICAgdGhpcy5sb2dpbl9zY2VuZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVMb2FkaW5nKCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzX2Jhci5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICBoYW5kbGVMb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NfYmFyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cblxuICAgIGhhbmRsZUxvZ291dCgpIHtcbiAgICAgICAgbGV0IGxvZ291dCA9IHRoaXMucXVlcnlTZWxlY3RvcignYXBwLWxvZ291dCcpO1xuICAgICAgICBsb2dvdXQuc2hvdygpO1xuICAgIH1cblxuICAgIGhhbmRsZUxvZ2luU3VjY2VzcygpIHtcbiAgICAgICAgdGhpcy5sb2dpbl9zY2VuZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoXCJjb21wb25lbnQtbWFpblwiLCBDb21wb25lbnRNYWluKTtcbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudE1haW47IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgQ29tcG9uZW50QmFzZSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9jb21wb25lbnRzL2NvbXBvbmVudC1iYXNlLXZhbmlsbGEnO1xuXG5jbGFzcyBDb21wb25lbnRJbnZpdGF0aW9uSGlzdG9yeSBleHRlbmRzIENvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGdldCBpbnZpdGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52aXRhdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgaW52aXRhdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnZpdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSAoZGF0YSkgPT4gaHRtbGBcbiAgICAgICAgPGlvbi1jb250ZW50PlxuICAgICAgICAgICAgPGlvbi1pdGVtLWxpc3Q+XG4gICAgICAgICAgICAgICAgJHt0aGlzLmludml0YXRpb24uc3RhdHVzX2hpc3RvcnkubWFwKFxuICAgICAgICAgICAgICAgICAgICBoaXN0b3J5ID0+IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxiPlN0YXR1cyBkYXRlOiA8L2I+ICR7bmV3IERhdGUoaGlzdG9yeS5kYXRlKS50b0xvY2FsZVN0cmluZygpfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0PjxiPk9sZCBzdGF0dXM6IDwvYj4gJHtoaXN0b3J5Lm9sZF9zdGF0dXN9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+PGI+TmV3IHN0YXR1czogPC9iPiAke2hpc3RvcnkubmV3X3N0YXR1c308L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNT48Yj5VcGRhdGUgdXNlcjogPC9iPiA8YSBocmVmPVwiIy91c2Vycy8ke2hpc3RvcnkudXNlcn1cIj4ke2hpc3RvcnkudXNlcm5hbWV9PC9hPjwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2lvbi1pdGVtLWxpc3Q+XG4gICAgICAgIDwvaW9uLWNvbnRlbnQ+XG4gICAgICAgIGA7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZih0aGlzLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICByZW5kZXIodGhpcy50ZW1wbGF0ZSgpLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgaW5pdCgpIHtcblxuICAgIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2FwcC1pbnZpdGF0aW9uLWhpc3RvcnknLCBDb21wb25lbnRJbnZpdGF0aW9uSGlzdG9yeSk7XG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnRJbnZpdGF0aW9uSGlzdG9yeTsiLCIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjAgUmF0aW8gU29mdHdhcmUsIExMQyBcbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgQGF1dGhvciBDbGF5dG9uIEd1bGljayA8Y2xheUByYXRpb3NvZnR3YXJlLmNvbT5cbiAqL1xuaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCBDb21wb25lbnRCYXNlIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2NvbXBvbmVudHMvY29tcG9uZW50LWJhc2UtdmFuaWxsYSc7XG5pbXBvcnQgYnJva2VyIGZyb20gJ2RhdGFicm9rZXInO1xuXG5cbmNsYXNzIENvbXBvbmVudEludml0YXRpb25WaWV3IGV4dGVuZHMgQ29tcG9uZW50QmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2ludml0YXRpb24gPSB7XG4gICAgICAgICAgICB0bzogW10sXG4gICAgICAgICAgICBzdGF0dXM6ICcnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXQgaW52aXRhdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnZpdGF0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgZ2V0IGludml0YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZpdGF0aW9uO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSAoaW52aXRhdGlvbikgPT4gaHRtbGBcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XG4gICAgICAgICAgICAgICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogNHZ3O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlvbi1zZWxlY3QgLmJ1dHRvbi1lZmZlY3Qge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgIDxpb24tY29udGVudCBmb3JjZS1vdmVyc2Nyb2xsPVwiZmFsc2VcIj5cbiAgICAgICAgICAgICAgICA8aW9uLWl0ZW0tZ3JvdXAgbGluZXM9XCJpbnNldFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0tZGl2aWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+SW52aXRhdGlvbiBJbmZvcm1hdGlvbjwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tbGVmdDogMjBweFwiPjwvc3Bhbj4ke3RoaXMuZ2V0U3RhdHVzQ2hpcChpbnZpdGF0aW9uLnN0YXR1cyl9XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0tZGl2aWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5Vc2VyOjwvaW9uLWxhYmVsPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICR7aW52aXRhdGlvbi51c2VyID9cbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0nIy91c2Vycy8ke2ludml0YXRpb24udXNlcn0nPiR7aW52aXRhdGlvbi51c2VyfTwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+Q3JlYXRlZCBvbjo8L2lvbi1sYWJlbD4gJHtuZXcgRGF0ZShpbnZpdGF0aW9uLmNyZWF0ZWRfZGF0ZSkudG9Mb2NhbGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5TdGF0dXM6PC9pb24tbGFiZWw+ICR7aW52aXRhdGlvbi5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+U3RhdHVzIGRhdGU6PC9pb24tbGFiZWw+ICR7bmV3IERhdGUoaW52aXRhdGlvbi5zdGF0dXNfZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+QWNjb3VudDo8L2lvbi1sYWJlbD4gJHtpbnZpdGF0aW9uLmNsaWVudF9pZH1cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5OYW1lOjwvaW9uLWxhYmVsPiAke2ludml0YXRpb24uZmlyc3RfbmFtZX0gJHtpbnZpdGF0aW9uLmxhc3RfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5FbWFpbDo8L2lvbi1sYWJlbD4gJHtpbnZpdGF0aW9uLmVtYWlsX2FkZHJlc3N9XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+UGhvbmUgY2VsbDo8L2lvbi1sYWJlbD4gJHtpbnZpdGF0aW9uLnBob25lX2NlbGx9XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWw+Q3JlYXRlZCBieTo8L2lvbi1sYWJlbD4gJHtpbnZpdGF0aW9uLmNyZWF0ZWRfYnkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiMvdXNlcnMvJHtpbnZpdGF0aW9uLmNyZWF0ZWRfYnkuX2lkfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7aW52aXRhdGlvbi5jcmVhdGVkX2J5LmZpcnN0X25hbWV9ICR7aW52aXRhdGlvbi5jcmVhdGVkX2J5Lmxhc3RfbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYDonJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0tZ3JvdXA+XG4gICAgICAgICAgICA8L2lvbi1jb250ZW50PlxuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpXG5cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmKCF0aGlzLnRlbXBsYXRlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByZW5kZXIodGhpcy50ZW1wbGF0ZSh0aGlzLmludml0YXRpb24pLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgIH1cblxuICAgIHJlbmRlckZpZWxkcyhpbnZpdGF0aW9uKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMoaW52aXRhdGlvbi5maWVsZHMpO1xuICAgICAgICByZXR1cm4ga2V5cy5tYXAoXG4gICAgICAgICAgICAoa2V5KSA9PiBodG1sYFxuICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgJHtpbnZpdGF0aW9uLnN0YXR1cyA9PSAnY3JlYXRlZCcgP1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWwgcG9zaXRpb249XCJmbG9hdGluZ1wiPiR7a2V5fTwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pbnB1dCAudmFsdWU9JHtpbnZpdGF0aW9uLmZpZWxkc1trZXldfSBAY2hhbmdlPSR7KGUpID0+IHRoaXMucGF0Y2goJy9maWVsZHMvJyArIGtleSxlLnRhcmdldC52YWx1ZSl9PjwvaW9uLWlucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIGh0bWxgPGlvbi1sYWJlbD4ke2tleX06PC9pb24tbGFiZWw+JHtpbnZpdGF0aW9uLmZpZWxkc1trZXldfWBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICBgKVxuICAgIH1cblxuICAgIGdldFN0YXR1c0NoaXAoc3RhdHVzKSB7XG4gICAgICAgIHN3aXRjaChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjcmVhdGVkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPGlvbi1jaGlwPjxpb24taWNvbiBjb2xvcj1cInN1Y2Nlc3NcIiBuYW1lPSdjaGVja21hcmsnPjwvaW9uLWljb24+PGlvbi1sYWJlbD5DcmVhdGVkPC9pb24tbGFiZWw+PC9pb24tY2hpcD5gO1xuICAgICAgICAgICAgY2FzZSBcImludml0ZWRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8aW9uLWNoaXA+PGlvbi1pY29uIGNvbG9yPVwic2Vjb25kYXJ5XCIgbmFtZT0nY29kZS13b3JraW5nJz48L2lvbi1pY29uPjxpb24tbGFiZWw+SW52aXRlZDwvaW9uLWxhYmVsPjwvaW9uLWNoaXA+YDtcbiAgICAgICAgICAgIGNhc2UgXCJhY2NlcHRlZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDxpb24tY2hpcD48aW9uLWljb24gY29sb3I9XCJ0ZXJ0aWFyeVwiIG5hbWU9J2NvZGUnPjwvaW9uLWljb24+PGlvbi1sYWJlbD5BY2NlcHRlZDwvaW9uLWxhYmVsPjwvaW9uLWNoaXA+YDtcbiAgICAgICAgICAgIGNhc2UgXCJjYW5jZWxsZWRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8aW9uLWNoaXA+PGlvbi1pY29uIGNvbG9yPVwiZGFuZ2VyXCIgbmFtZT0nY2xvc2UtY2lyY2xlJz48L2lvbi1pY29uPjxpb24tbGFiZWw+Q2FuY2VsbGVkPC9pb24tbGFiZWw+PC9pb24tY2hpcD5gO1xuICAgICAgICAgICAgY2FzZSBcImV4cGlyZWRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8aW9uLWNoaXA+PGlvbi1pY29uIGNvbG9yPVwiZGFuZ2VyXCIgbmFtZT0nY2xvc2UtY2lyY2xlJz48L2lvbi1pY29uPjxpb24tbGFiZWw+RXhwaXJlZDwvaW9uLWxhYmVsPjwvaW9uLWNoaXA+YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIC8vYXdhaXQgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdhcHAtaW52aXRhdGlvbi12aWV3JywgQ29tcG9uZW50SW52aXRhdGlvblZpZXcpO1xuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50SW52aXRhdGlvblZpZXc7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgQ29tcG9uZW50QmFzZSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9jb21wb25lbnRzL2NvbXBvbmVudC1iYXNlLXZhbmlsbGEnO1xuXG5jbGFzcyBDb21wb25lbnRVc2VySGlzdG9yeSBleHRlbmRzIENvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nfSk7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSAoZGF0YSkgPT4gaHRtbGBcbiAgICAgICAgYDtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmluaXQoKVxuXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZW5kZXIodGhpcy50ZW1wbGF0ZSh0aGlzLmRhdGEpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICAgIH1cblxuICAgIGluaXQoKSB7XG5cbiAgICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdhcHAtdXNlci1oaXN0b3J5JywgQ29tcG9uZW50VXNlckhpc3RvcnkpO1xuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50VXNlckhpc3Rvcnk7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgY3JlYXRlTWFzayBmcm9tICcuLi8uLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9pb25pYy10ZXh0LW1hc2snO1xuaW1wb3J0IE1lc3NhZ2luZyBmcm9tICcuLi8uLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9iaW5kaW5nL2JpbmRpbmctbWVzc2FnaW5nJztcblxuY2xhc3MgQ29tcG9uZW50VXNlck5ldyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdXNlciA9IHtcbiAgICAgICAgICAgIGZpcnN0X25hbWU6ICcnLFxuICAgICAgICAgICAgbGFzdF9uYW1lOiAnJyxcbiAgICAgICAgICAgIGVtYWlsX2FkZHJlc3M6ICcnLFxuICAgICAgICAgICAgcGhvbmVfY2VsbDogJycsXG4gICAgICAgICAgICByb2xlX25hbWU6ICdtZW1iZXInLFxuICAgICAgICAgICAgcHJvZmlsZToge31cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9ICgpID0+IGh0bWxgXG4gICAgICAgICAgICA8aW9uLWhlYWRlcj5cbiAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9ucyBzbG90PVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbiBAY2xpY2s9JHsoKT0+dGhpcy5oYW5kbGVDYW5jZWwoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIHNsb3Q9XCJpY29uLW9ubHlcIiBuYW1lPVwiY2xvc2UtY2lyY2xlXCI+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9ucz5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi10aXRsZT5OZXcgVXNlcjwvaW9uLXRpdGxlPlxuICAgICAgICAgICAgICAgIDwvaW9uLXRvb2xiYXI+XG4gICAgICAgICAgICA8L2lvbi1oZWFkZXI+XG4gICAgICAgICAgICA8aW9uLWNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPGlvbi1pdGVtLWdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsIHBvc2l0aW9uPVwiZmxvYXRpbmdcIj5Vc2VyIHJvbGU8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tc2VsZWN0IEBpb25DaGFuZ2U9JHtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXNlci5yb2xlX25hbWUgPSBlLnRhcmdldC52YWx1ZTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9JHt0aGlzLl91c2VyLnJvbGVfbmFtZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1zZWxlY3Qtb3B0aW9uIHZhbHVlPSdtZW1iZXInPk1lbWJlcjwvaW9uLXNlbGVjdC1vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1zZWxlY3Qtb3B0aW9uIHZhbHVlPSdhZG1pbic+QWRtaW48L2lvbi1zZWxlY3Qtb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0tZ3JvdXA+XG4gICAgICAgICAgICAgICAgJHt0aGlzLl91c2VyLnJvbGVfbmFtZSA9PSAnbWVtYmVyJyA/IFxuICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgPGlvbi1pdGVtLWdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsIHBvc2l0aW9uPVwiZmxvYXRpbmdcIj5CaXJ0aCBkYXRlPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWRhdGV0aW1lIC52YWx1ZT0ke3RoaXMuX3VzZXI/LnByb2ZpbGU/LmJpcnRoX2RhdGV9IGRpc3BsYXktZm9ybWF0PVwiTU0vREQvWVlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBpb25DaGFuZ2U9JHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91c2VyLnByb2ZpbGUuYmlydGhfZGF0ZSA9IGUuZGV0YWlsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfT48L2lvbi1kYXRldGltZT5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICA8L2lvbi1pdGVtLWdyb3VwPlxuICAgICAgICAgICAgICAgIGA6Jyd9XG4gICAgICAgICAgICAgICAgPGlvbi1pdGVtLWdyb3VwPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsIHBvc2l0aW9uPVwiZmxvYXRpbmdcIj5GaXJzdCBuYW1lPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWlucHV0IHR5cGU9XCJ0ZXh0XCIgQGlvbkNoYW5nZT0ke2UgPT4gdGhpcy5fdXNlci5maXJzdF9uYW1lID0gZS50YXJnZXQudmFsdWV9IHZhbHVlPSR7dGhpcy5fdXNlci5maXJzdF9uYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbCBwb3NpdGlvbj1cImZsb2F0aW5nXCI+TGFzdCBuYW1lPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWlucHV0IHR5cGU9XCJ0ZXh0XCIgQGlvbkNoYW5nZT0ke2UgPT4gdGhpcy5fdXNlci5sYXN0X25hbWUgPSBlLnRhcmdldC52YWx1ZX0gdmFsdWU9JHt0aGlzLl91c2VyLmxhc3RfbmFtZX0+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWwgcG9zaXRpb249XCJmbG9hdGluZ1wiPkVtYWlsIGFkZHJlc3M8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taW5wdXQgdHlwZT1cImVtYWlsXCIgQGlvbkNoYW5nZT0ke2UgPT4gdGhpcy5fdXNlci5lbWFpbF9hZGRyZXNzID0gZS50YXJnZXQudmFsdWV9IHZhbHVlPSR7dGhpcy5fdXNlci5lbWFpbF9hZGRyZXNzfT5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbCBwb3NpdGlvbj1cImZsb2F0aW5nXCI+TW9iaWxlIG51bWJlcjwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pbnB1dCBpZD1cInBob25lX2NlbGxcIiB0eXBlPVwidGV4dFwiIEBpb25DaGFuZ2U9JHtlID0+IHRoaXMuX3VzZXIucGhvbmVfY2VsbCA9IGUudGFyZ2V0LnZhbHVlfSB2YWx1ZT0ke3RoaXMuX3VzZXIucGhvbmVfY2VsbH0+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgPC9pb24taXRlbS1ncm91cD5cbiAgICAgICAgICAgIDwvaW9uLWNvbnRlbnQ+XG4gICAgICAgICAgICA8aW9uLWZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9ucyBzbG90PVwicHJpbWFyeVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24gQGNsaWNrPSR7KGUpID0+IHRoaXMuaGFuZGxlQ2FuY2VsKCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPVwiY2xvc2UtY2lyY2xlXCI+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsPkNhbmNlbDwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24gQGNsaWNrPSR7KGUpID0+IHRoaXMuaGFuZGxlQWRkVXNlcigpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cInN0YXJ0XCIgbmFtZT1cImNoZWNrbWFya1wiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5BZGQgVXNlcjwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1idXR0b25zPlxuICAgICAgICAgICAgICAgIDwvaW9uLXRvb2xiYXI+XG5cbiAgICAgICAgICAgIDwvaW9uLWZvb3Rlcj5cbiAgICAgICAgYDtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYodGhpcy50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgcmVuZGVyKHRoaXMudGVtcGxhdGUoe30pLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH0gIFxuICAgIFxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGxldCBpbnB1dF9waG9uZV9jZWxsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjcGhvbmVfY2VsbCcpO1xuICAgICAgICBsZXQgbWFzayA9IFsnKCcsIC9bMS05XS8sIC9cXGQvLCAvXFxkLywgJyknLCAnICcsIC9cXGQvLCAvXFxkLywgL1xcZC8sICctJywgL1xcZC8sIC9cXGQvLCAvXFxkLywgL1xcZC9dXG4gICAgICAgIHRoaXMubWFza19jb250cm9sbGVyID0gY3JlYXRlTWFzayh7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQ6IGlucHV0X3Bob25lX2NlbGwsXG4gICAgICAgICAgICBtYXNrOiBtYXNrLFxuICAgICAgICAgICAgZ3VpZGU6IGZhbHNlLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJDaGFyOiAnXFx1MjAwMCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlQ2FuY2VsKCkge1xuICAgICAgICBsZXQgbW9kYWxDb250cm9sbGVyID0gd2luZG93Lm1vZGFsQ29udHJvbGxlcjtcbiAgICAgICAgYXdhaXQgbW9kYWxDb250cm9sbGVyLmRpc21pc3MoKTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVBZGRVc2VyKCkge1xuICAgICAgICBsZXQgbW9kYWxDb250cm9sbGVyID0gd2luZG93Lm1vZGFsQ29udHJvbGxlcjtcbiAgICAgICAgbGV0IHZhbGlkID0gYXdhaXQgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICBpZih2YWxpZClcbiAgICAgICAgICAgIGF3YWl0IG1vZGFsQ29udHJvbGxlci5kaXNtaXNzKHRoaXMuX3VzZXIpO1xuICAgIH1cblxuICAgIGFzeW5jIHZhbGlkYXRlKCkge1xuICAgICAgICBpZighdGhpcy5fdXNlci5maXJzdF9uYW1lKVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IE1lc3NhZ2luZy50b2FzdCgnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICBpZighdGhpcy5fdXNlci5sYXN0X25hbWUpXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgTWVzc2FnaW5nLnRvYXN0KCdMYXN0IG5hbWUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgaWYoIXRoaXMuX3VzZXIuZW1haWxfYWRkcmVzcylcbiAgICAgICAgICAgIHJldHVybiBNZXNzYWdpbmcudG9hc3QoJ0VtYWlsIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIGxldCBlbWFpbF9yZWdleCA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICBpZighZW1haWxfcmVnZXgudGVzdCh0aGlzLl91c2VyLmVtYWlsX2FkZHJlc3MpKSBcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBNZXNzYWdpbmcudG9hc3QoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgZW1haWwgYWRkcmVzcyAodXNlcm5hbWVAc29tZXdoZXJlLmNvbSknKTtcblxuICAgICAgICBsZXQgcGhvbmVfbnVtYmVyID0gdGhpcy5fdXNlci5waG9uZV9jZWxsO1xuICAgICAgICBsZXQgcGhvbmVfbnVtYmVyX3JlZ2V4ID0gL14oXFwrXFxkezEsMn1cXHMpP1xcKD9cXGR7M31cXCk/W1xccy4tXT9cXGR7M31bXFxzLi1dP1xcZHs0fSQvXG4gICAgICAgIGlmKCFwaG9uZV9udW1iZXJfcmVnZXgudGVzdCh0aGlzLl91c2VyLnBob25lX2NlbGwpKSBcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBNZXNzYWdpbmcudG9hc3QoJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgcGhvbmUgbnVtYmVyICgxMjMtNDU2LTc4OTApJyk7XG5cbiAgICAgICAgdGhpcy5fdXNlci5waG9uZV9jZWxsID0gcGhvbmVfbnVtYmVyLnJlcGxhY2UoL1teMC05XFwrXS9nLCcnKTtcbiAgICAgICAgaWYoIXRoaXMuX3VzZXIucm9sZV9uYW1lKVxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IE1lc3NhZ2luZy50b2FzdCgnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIHJvbGUgZm9yIHRoZSBuZXcgdXNlcicpO1xuXG4gICAgICAgIGlmKHRoaXMuX3VzZXIucm9sZV9uYW1lID09ICdtZW1iZXInKVxuICAgICAgICAgICAgaWYoIXRoaXMuX3VzZXI/LnByb2ZpbGU/LmJpcnRoX2RhdGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IE1lc3NhZ2luZy50b2FzdCgnQmlydGggZGF0ZSBpcyByZXF1aXJlZCBmb3IgbWVtYmVycycpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdhcHAtdXNlci1uZXcnLCBDb21wb25lbnRVc2VyTmV3KTtcbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudFVzZXJOZXc7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgQ29tcG9uZW50QmFzZSBmcm9tICcuLi8uLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9jb21wb25lbnRzL2NvbXBvbmVudC1iYXNlLXZhbmlsbGEnO1xuaW1wb3J0IENvbXBvbmVudENhcmRVc2VyIGZyb20gJy4uL2NhcmRzL2NvbXBvbmVudC1jYXJkLXVzZXInO1xuaW1wb3J0IENvbXBvbmVudEF2YXRhclNlbGVjdG9yIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2NvbXBvbmVudHMvY29tcG9uZW50LWF2YXRhci1zZWxlY3Rvcic7XG5pbXBvcnQgY29uc3RhbnRzIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NoYXJlZC9pc29sYXRlL2lzb2xhdGUtY29uc3RhbnRzJztcbmltcG9ydCBicm9rZXIgZnJvbSAnZGF0YWJyb2tlcic7XG4vL2ltcG9ydCB0ZXh0TWFzayBmcm9tICd2YW5pbGxhLXRleHQtbWFzayc7XG4vL2ltcG9ydCB0ZXh0TWFzayBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi8uLi90ZXh0LW1hc2svdmFuaWxsYS9zcmMvdmFuaWxsYVRleHRNYXNrJztcbmltcG9ydCBjcmVhdGVNYXNrIGZyb20gJy4uLy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2lvbmljLXRleHQtbWFzayc7XG5cbmNsYXNzIENvbXBvbmVudFVzZXJQcm9maWxlIGV4dGVuZHMgQ29tcG9uZW50QmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3VzZXIgPSB7XG4gICAgICAgICAgICB1c2VyX25hbWU6IG51bGwsXG4gICAgICAgICAgICBhZGRyZXNzOiB7XG4gICAgICAgICAgICAgICAgbGluZV8xOiBudWxsLFxuICAgICAgICAgICAgICAgIGxpbmVfMjogbnVsbCxcbiAgICAgICAgICAgICAgICBjaXR5OiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAgICAgIHppcF9jb2RlOiBudWxsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXQgdXNlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXI7XG4gICAgfVxuXG4gICAgc2V0IHVzZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdXNlciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAvL3RoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9ICh1c2VyKSA9PiBodG1sYFxuICAgICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgICAgIEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIHtcbiAgICAgICAgICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA0dnc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgI2F2YXRhcl93cmFwcGVyIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMHZoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpb24tc2VsZWN0IC5idXR0b24tZWZmZWN0IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAuZXJyb3JfbWVzc2FnZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjdyZW07XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLmVycm9yX2lucHV0IHtcbiAgICAgICAgICAgICAgICAgICAgLS1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcikgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgLS1wbGFjZWhvbGRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcikgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPGlvbi1jb250ZW50PlxuICAgICAgICAgICAgICAgIDxpb24taXRlbS1ncm91cCBsaW5lcz1cImluc2V0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24taXRlbS1kaXZpZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5Vc2VyIEluZm9ybWF0aW9uPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0tZGl2aWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taXRlbSBsaW5lcz1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWF2YXRhciBzdHlsZT1cIndpZHRoOiAxMjhweDsgaGVpZ2h0OiAxMjhweFwiIGlkPVwiYXZhdGFyX3dyYXBwZXJcIiBuYW1lPVwicGluXCIgc2xvdD1cInN0YXJ0XCIgQGNsaWNrPSR7KGV2ZW50KSA9PiB0aGlzLmhhbmRsZUF2YXRhckNsaWNrKGV2ZW50KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dXNlci5hdmF0YXI/IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHN0eWxlPVwiaGVpZ2h0OiAxMDAlXCIgaWQ9XCJhdmF0YXJcIiBzcmM9JHt1c2VyLmF2YXRhcn0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMDAlXCIgaWQ9XCJub19hdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgc3R5bGU9XCJoZWlnaHQ6IDEwMCVcIiB4bWxuczpkYz1cImh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvXCIgeG1sbnM6Y2M9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNcIiB4bWxuczpyZGY9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjXCIgeG1sbnM6c3ZnPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgIHZpZXdCb3g9XCIwIDAgMTIwIDEyMC4wMDAwMVwiIHZlcnNpb249XCIxLjFcIiBpZD1cInN2ZzhcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaW5rc2NhcGU6bGFiZWw9XCJMYXllciAxXCIgaW5rc2NhcGU6Z3JvdXBtb2RlPVwibGF5ZXJcIiBpZD1cImxheWVyMVwiIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtNDMuMjA0MDA3LC04NS4zMjAwMzkpXCI+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBzdHlsZT1cIm9wYWNpdHk6MC45ODk5OTk5OTtmaWxsOiNlNmU2ZTY7ZmlsbC1vcGFjaXR5OjAuMjQ2Mzc2ODE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMDY0NTQyNTI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MVwiIGlkPVwicmVjdDQ1NzZcIiB3aWR0aD1cIjExOS40OTM2OFwiIGhlaWdodD1cIjExOS45MzU0NlwiIHg9XCI0My40NTcxNjlcIiB5PVwiODUuMzUyMzFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD1cImc0NTc0XCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDEyNi4xMjQxNCwtMC42NTEwNjA4NylcIj4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwibSAzNy4wNDcxMjksMTQ1Ljk3MTE1IGEgNTkuOTY3MjM5LDU5Ljk2NzIwOSAwIDAgMSAtNTkuNzE1MDAzLDU5Ljk2NjY3IDU5Ljk2NzIzOSw1OS45NjcyMDkgMCAwIDEgLTYwLjIxNzM1NCwtNTkuNDYyMjEgNTkuOTY3MjM5LDU5Ljk2NzIwOSAwIDAgMSA1OS4yMDg0MjUsLTYwLjQ2Njg5OSA1OS45NjcyMzksNTkuOTY3MjA5IDAgMCAxIDYwLjcxNTQ0NCw1OC45NTM1MjlcIiBpZD1cInBhdGg0NDk4XCIgc3R5bGU9XCJvcGFjaXR5OjAuOTg5OTk5OTk7ZmlsbDojOTk5OTk5O2ZpbGwtb3BhY2l0eTowLjc3MDY0MjIxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDowLjA2NTQ3NjAyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggaWQ9XCJwYXRoNDUwMFwiIHRyYW5zZm9ybT1cInNjYWxlKDAuMjY0NTgzMzMpXCIgZD1cIm0gLTg3LjkzNzUsMzk1LjEzNDc3IGEgMTAzLjgwNzA0LDEwMy44MDY5OSAwIDAgMCAtMTAyLjQ5MjE5LDEwNC42NzE4NyAxMDMuODA3MDQsMTAzLjgwNjk5IDAgMCAwIDQxLjc1MzkxLDgyLjIzODI4IDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAtNzkuNTYyNSwxMjguMjk2ODggMTQxLjYxNTE4LDE0MS42MTUxIDAgMCAwIDEuNjU4MiwxOS4zMzc4OSAyMjYuNjQ3ODUsMjI2LjY0NzcyIDAgMCAwIDExLjE1MjM1LDguNDAyMzQgMTMyLjE3NDE2LDEzMi4xNzQwOCAwIDAgMSAtMy4zNjkxNSwtMjcuODIwMzEgMTMyLjE3NDE2LDEzMi4xNzQwOCAwIDAgMSA3OS4zMjAzMiwtMTIyLjEwMzUyIDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgNTMuMjg1MTU0LDE0LjU4MDA4IDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgNTIuNDI5Njg3LC0xNC41OTU3IDEzMi4xNzQxNiwxMzIuMTc0MDggMCAwIDEgNzkuMjg5MDYzLDExOC43ODUxNSBsIDAuMDE5NTMsMi4yMjI2NiBhIDEzMi4xNzQxNiwxMzIuMTc0MDggMCAwIDEgLTMuMjQyMTg3LDI4LjY0MDYzIDIyNi42NDc4NSwyMjYuNjQ3NzIgMCAwIDAgMTEuMDQyOTY4LC03Ljg5NjQ5IDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAxLjY0MDYyNSwtMjAuNzQ0MTQgbCAtMC4wMTk1MywtMi4zODI4MSBhIDE0MS42MTUxOCwxNDEuNjE1MSAwIDAgMCAtNzkuNDEyMTA5LC0xMjQuODQzNzUgMTAzLjgwNzA0LDEwMy44MDY5OSAwIDAgMSAtMC4yNTk3NjYsMC4xNzU3OCAxMDMuODA3MDQsMTAzLjgwNjk5IDAgMCAwIDQxLjg4MjgxMywtODMuMTY2MDIgbCAtMC4wMTM2NywtMS43NDgwNCBBIDEwMy44MDcwNCwxMDMuODA2OTkgMCAwIDAgLTg3LjkzNzUsMzk1LjEzNDc3IFogbSAwLjExOTE0MSw5LjQzNTU0IEEgOTQuMzcwMDMzLDk0LjM2OTk5IDAgMCAxIDcuNzI4NTE1Niw0OTcuMzQ1NyBsIDAuMDEzNjcyLDEuNTg3ODkgYSA5NC4zNzAwMzMsOTQuMzY5OTkgMCAwIDEgLTkzLjk3MjY1NjYsOTQuMzY5MTQgOTQuMzcwMDMzLDk0LjM2OTk5IDAgMCAxIC05NC43NjM2NzEsLTkzLjU3NjE3IDk0LjM3MDAzMyw5NC4zNjk5OSAwIDAgMSA5My4xNzU3ODEsLTk1LjE1NjI1IHpcIiBzdHlsZT1cIm9wYWNpdHk6MC45ODk5OTk5OTtmaWxsOiNlNmU2ZTY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjAuMjU5ODQ2NTE7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWF2YXRhcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbCBwb3NpdGlvbj1cImZsb2F0aW5nXCI+Rmlyc3QgTmFtZTwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taW5wdXQgLnZhbHVlPSR7dXNlci5maXJzdF9uYW1lfSBAY2hhbmdlPSR7KGUpID0+IHRoaXMucGF0Y2goJy9maXJzdF9uYW1lJyxlLmN1cnJlbnRUYXJnZXQpfT48L2lvbi1pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbCBwb3NpdGlvbj1cImZsb2F0aW5nXCI+TGFzdCBOYW1lPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pbnB1dCAudmFsdWU9JHt1c2VyLmxhc3RfbmFtZX0gQGNoYW5nZT0keyhlKSA9PiB0aGlzLnBhdGNoKCcvbGFzdF9uYW1lJyxlLmN1cnJlbnRUYXJnZXQpfT48L2lvbi1pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbCBwb3NpdGlvbj1cImZsb2F0aW5nXCI+RW1haWw8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWlucHV0IHR5cGU9XCJlbWFpbFwiIHJlcXVpcmVkPVwidHJ1ZVwiIC52YWx1ZT0ke3VzZXIuZW1haWxfYWRkcmVzc30gQGNoYW5nZT0keyhlKSA9PiB0aGlzLnBhdGNoKCcvZW1haWxfYWRkcmVzcycsZS5jdXJyZW50VGFyZ2V0KX0+PC9pb24taW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWwgcG9zaXRpb249XCJmbG9hdGluZ1wiPk1vYmlsZSBQaG9uZTwvaW9uLWxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taW5wdXQgaWQ9XCJwaG9uZV9jZWxsXCIgdHlwZT1cInRlbFwiIC52YWx1ZT0ke3VzZXIucGhvbmVfY2VsbH0gQGNoYW5nZT0keyhlKSA9PiB0aGlzLnBhdGNoKCcvcGhvbmVfY2VsbCcsZS5jdXJyZW50VGFyZ2V0KX0+PC9pb24taW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbGFiZWwgcG9zaXRpb249XCJmbG9hdGluZ1wiPkFjY291bnQ8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWlucHV0IGlkPVwiYWNjb3VudFwiIC52YWx1ZT0ke3VzZXIuYWNjb3VudH0gQGNoYW5nZT0keyhlKSA9PiB0aGlzLnBhdGNoKCcvYWNjb3VudCcsZS5jdXJyZW50VGFyZ2V0KX0+PC9pb24taW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1pdGVtPlxuXG4gICAgICAgICAgICAgICAgPC9pb24taXRlbS1ncm91cD5cbiAgICAgICAgICAgIDwvaW9uLWNvbnRlbnQ+XG4gICAgICAgICAgICA8aW9uLWZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbnMgc2xvdD1cImVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9uIEBjbGljaz0keyhlKSA9PiB0aGlzLnNob3dTZW5kQ29tbXVuaWNhdGlvbigpfT48aW9uLWljb24gbmFtZT1cIm1haWxcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDogNXB4XCI+PC9pb24taWNvbj4gU2VuZCBjb21tdW5pY2F0aW9uPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9ucz5cbiAgICAgICAgICAgICAgICA8L2lvbi10b29sYmFyPlxuICAgICAgICAgICAgPC9pb24tZm9vdGVyPlxuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy9pZiB3ZSdyZSBub3QgY29ubmVjdGVkLCBkb24ndCByZW5kZXJcbiAgICAgICAgaWYoIXRoaXMudGVtcGxhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKHRoaXMudXNlciksIHRoaXMpO1xuICAgICAgICAvL21ha2Ugc3VyZSB0aGUgdGV4dCBtYXNrIHN0YXlzIHVwLXRvLWRhdGVcbiAgICB9XG5cblxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGxldCBpbnB1dF9waG9uZV9jZWxsID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcjcGhvbmVfY2VsbCcpO1xuICAgICAgICBsZXQgbWFzayA9IFsnKCcsIC9bMS05XS8sIC9cXGQvLCAvXFxkLywgJyknLCAnICcsIC9cXGQvLCAvXFxkLywgL1xcZC8sICctJywgL1xcZC8sIC9cXGQvLCAvXFxkLywgL1xcZC9dXG4gICAgICAgIHRoaXMubWFza19jb250cm9sbGVyID0gY3JlYXRlTWFzayh7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQ6IGlucHV0X3Bob25lX2NlbGwsXG4gICAgICAgICAgICBtYXNrOiBtYXNrLFxuICAgICAgICAgICAgZ3VpZGU6IGZhbHNlLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXJDaGFyOiAnXFx1MjAwMCdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcGF0Y2gocGF0aCwgdGFyZ2V0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5jb2xvciA9ICdpbml0aWFsJztcbiAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcl9pbnB1dCcpO1xuICAgICAgICAgICAgaWYodGhpcy5lcnJvcl9lbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JfZWxlbWVudHMuZm9yRWFjaChcbiAgICAgICAgICAgICAgICAgICAgKGVycm9yX2VsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yX2VsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlcnJvcl9lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcl9lbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCBicm9rZXIucGF0Y2goYC9hcGkvdXNlcnMvJHt0aGlzLnVzZXIuX2lkfWAsIFtcbiAgICAgICAgICAgICAgICB7b3A6J3JlcGxhY2UnLCBwYXRoOiBwYXRoLCB2YWx1ZTogdmFsdWV9XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICBpZihlcnIuY29kZSAmJiBlcnIuY29kZSA9PSA0MTgpIHsgLy9JJ20gYSB0ZWFwb3QsIHZhbGlkYXRpb24gZmFpbFxuICAgICAgICAgICAgICAgIGxldCBib2R5ID0gSlNPTi5wYXJzZShlcnIuYm9keSk7XG4gICAgICAgICAgICAgICAgbGV0IHByb3AgPSBPYmplY3Qua2V5cyhib2R5LmVycm9ycylbMF07XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBib2R5LmVycm9yc1twcm9wXS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdlcnJvcl9pbnB1dCcpO1xuICAgICAgICAgICAgICAgIGxldCBlcnJvcl9kaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBlcnJvcl9kaXYuaW5uZXJUZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICBlcnJvcl9kaXYuc2xvdCA9IFwiZW5kXCI7XG4gICAgICAgICAgICAgICAgZXJyb3JfZGl2LmNsYXNzTmFtZSA9IFwiZXJyb3JfbWVzc2FnZVwiO1xuICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGVycm9yX2Rpdik7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuZXJyb3JfZWxlbWVudHMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JfZWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yX2VsZW1lbnRzLnB1c2goZXJyb3JfZGl2KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbGVydChlcnIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBhc3luYyBoYW5kbGVBdmF0YXJDbGljayhlKSB7XG4gICAgICAgIGxldCBtb2RhbF9jb250cm9sbGVyID0gd2luZG93Lm1vZGFsQ29udHJvbGxlcjtcbiAgICAgICAgbGV0IG1vZGFsID0gYXdhaXQgbW9kYWxfY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgY29tcG9uZW50OiAnYXBwLWF2YXRhci1zZWxlY3RvcicsXG4gICAgICAgICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0X3R5cGU6ICdzcXVhcmUnLFxuICAgICAgICAgICAgICAgIGltYWdlX2hlaWdodDogMjU2LFxuICAgICAgICAgICAgICAgIGltYWdlX3dpZHRoOiAyNTYsXG4gICAgICAgICAgICAgICAgb25GaWxlU2VsZWN0ZWQ6IChyZXN1bHQpID0+IHRoaXMuaGFuZGxlQXZhdGFyU2VsZWN0aW9uUmVzdWx0KHJlc3VsdCksXG4gICAgICAgICAgICAgICAgb25DYW5jZWw6ICgpID0+IHRoaXMuaGFuZGxlQXZhdGFyU2VsZWN0aW9uQ2FuY2VsKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1vZGFsLnByZXNlbnQoKTtcblxuICAgIH1cblxuICAgIGhhbmRsZUF2YXRhclNlbGVjdGlvbkNhbmNlbCgpIHtcbiAgICAgICAgbGV0IG1vZGFsX2NvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBtb2RhbF9jb250cm9sbGVyLmRpc21pc3MoKTtcblxuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZUF2YXRhclNlbGVjdGlvblJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgdGhpcy51c2VyLnByb2ZpbGVfaW1hZ2UgPSByZXN1bHQ7XG4gICAgICAgIHRoaXMuaGFuZGxlQXZhdGFyU2VsZWN0aW9uQ2FuY2VsKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IGJyb2tlci5wYXRjaChgL2FwaS91c2Vycy8ke3RoaXMudXNlci5faWR9YCwgW1xuICAgICAgICAgICAgICAgIHtvcDoncmVwbGFjZScsIHBhdGg6ICcvYXZhdGFyJywgdmFsdWU6IHRoaXMudXNlci5wcm9maWxlX2ltYWdlfVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgICAgYWxlcnQoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNob3dTZW5kQ29tbXVuaWNhdGlvbigpIHtcbiAgICAgICAgbGV0IGNvbnRyb2xsZXIgPSB3aW5kb3cuYWN0aW9uU2hlZXRDb250cm9sbGVyO1xuICAgICAgICBsZXQgY29tbXVuaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0bzogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2U6IHRoaXMudXNlci5faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VfdHlwZTogJ1VzZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9fYWRkcmVzczogJydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6ICcvYXBwJyxcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogJycsXG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3Q6ICcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb21tdW5pY2F0aW9uX3RlbXBsYXRlOiAnJyxcbiAgICAgICAgICAgICAgICBjb21tdW5pY2F0aW9uX3R5cGU6ICcnXG4gICAgICAgIH07XG4gICAgICAgIGxldCBhY3Rpb25fc2hlZXQgPSBhd2FpdCBjb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBoZWFkZXI6IFwiU2VuZCBjb21tdW5pY2F0aW9uXCIsXG4gICAgICAgICAgICBidXR0b25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnU2VuZCBsb2dpbiBzbXMnLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnY2hhdGJveGVzJyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbXVuaWNhdGlvbi5jb21tdW5pY2F0aW9uX3RlbXBsYXRlID0gJy9jb21tdW5pY2F0aW9uL2xvZ2luLXNtcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tdW5pY2F0aW9uLmNvbW11bmljYXRpb25fdHlwZSA9ICdzbXMnXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tdW5pY2F0aW9uLnRvWzBdLnRvX2FkZHJlc3MgPSB0aGlzLnVzZXIucGhvbmVfY2VsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbW11bmljYXRpb24oY29tbXVuaWNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjbG9zZScsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBjb250cm9sbGVyLmRpc21pc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cblxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgYWN0aW9uX3NoZWV0LnByZXNlbnQoKTtcblxuICAgIH1cblxuICAgIGFzeW5jIHNlbmRDb21tdW5pY2F0aW9uKGNvbW11bmljYXRpb24pIHtcbiAgICAgICAgbGV0IHRvYXN0X2NvbnRyb2xsZXIgPSB3aW5kb3cudG9hc3RDb250cm9sbGVyO1xuICAgICAgICBsZXQgbmV3X2NvbW11bmljYXRpb24gPSBhd2FpdCBicm9rZXIucG9zdCgnL2FwaS9jb21tdW5pY2F0aW9uL25vbmNlJywgY29tbXVuaWNhdGlvbiwge2pzb246IHRydWV9KTtcblxuICAgICAgICBsZXQgbWVzc2FnZSA9IGF3YWl0IHRvYXN0X2NvbnRyb2xsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ29tbXVuaWNhdGlvbiBqb2Igc2NoZWR1bGVkXCIsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgbWVzc2FnZS5wcmVzZW50KCk7XG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2FwcC11c2VyLXByb2ZpbGUnLCBDb21wb25lbnRVc2VyUHJvZmlsZSk7XG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnRVc2VyUHJvZmlsZTsiLCIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjAgUmF0aW8gU29mdHdhcmUsIExMQyBcbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgQGF1dGhvciBDbGF5dG9uIEd1bGljayA8Y2xheUByYXRpb3NvZnR3YXJlLmNvbT5cbiAqL1xuaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCBkb3dubG9hZCBmcm9tICdkb3dubG9hZGpzJztcbmltcG9ydCBicm9rZXIgZnJvbSAnZGF0YWJyb2tlcic7XG5cbmNsYXNzIFNjZW5lRXhwb3J0IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kZWxzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZGVsOiAndXNlcl9yZXBvcnQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnVXNlcnMnLFxuICAgICAgICAgICAgICAgIGljb246ICdwZW9wbGUtY2lyY2xlLW91dGxpbmUnLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnSW5mb3JtYXRpb24gYWJvdXQgdXNlcnMsIGFjY2VzcyBhbmQgc3lzdGVtIHVzYWdlLidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kZWw6ICdwcm9qZWN0X3JlcG9ydCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQcm9qZWN0cycsXG4gICAgICAgICAgICAgICAgaWNvbjogJ3Blb3BsZScsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbGwgcHJvamVjdHMgaW4gdGhlIHN5c3RlbSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kZWw6ICdDb21tdW5pY2F0aW9uJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NvbW11bmljYXRpb25zJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnbWFpbCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBbGwgY29tbXVuaWNhdGlvbiByZWNvcmRzIGZvciBTTVMgb3IgZW1haWxzIHRoYXQgaGF2ZSBiZWVuIGdlbmVyYXRlZCBieSB0aGUgc3lzdGVtJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgXVxuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gKCkgPT4gaHRtbGBcbiAgICAgICAgICAgIDxpb24taGVhZGVyPlxuICAgICAgICAgICAgICAgIDxpb24tdG9vbGJhcj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b25zIHNsb3Q9XCJzdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1tZW51LXRvZ2dsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIHNsb3Q9XCJpY29uLW9ubHlcIiBuYW1lPVwibWVudVwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tbWVudS10b2dnbGU+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tdGl0bGUgaWQ9XCJ0aXRsZVwiPkV4cG9ydCBEYXRhPC9pb24tdGl0bGU+XG4gICAgICAgICAgICAgICAgPC9pb24tdG9vbGJhcj5cbiAgICAgICAgICAgIDwvaW9uLWhlYWRlcj5cblxuICAgICAgICAgICAgPGlvbi1jb250ZW50IHBhZGRpbmcgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICAgICAgPGlvbi1ncmlkPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLXJvdz5cbiAgICAgICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzLm1hcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobW9kZWwpID0+IGh0bWxgXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1jb2wgc2l6ZT1cIjEyXCIgc2l6ZS1zbT1cIjEyXCIgc2l6ZS1tZD1cIjZcIiBzaXplLWxnPVwiNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1jYXJkIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tY2FyZC1oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWNhcmQtdGl0bGUgc3R5bGU9XCJsaW5lLWhlaWdodDogMjRweFwiPiA8aW9uLWljb24gbmFtZT0ke21vZGVsLmljb259PjwvaW9uLWljb24+ICR7bW9kZWwubGFiZWx9PGlvbi1jYXJkLXRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1jYXJkLXN1YnRpdGxlPiR7bW9kZWwuZGVzY3JpcHRpb259PC9pb24tY2FyZC1zdWJ0aXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY2FyZC1oZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24taXRlbT5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tY2FyZC1jb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbiBAY2xpY2s9JHsoKSA9PiB7dGhpcy5oYW5kbGVFeHBvcnRDbGljayhtb2RlbC5tb2RlbCl9fSBmaWxsPVwib3V0bGluZVwiIHNsb3Q9XCJlbmRcIj5FeHBvcnQ8L2lvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY2FyZC1jb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY2FyZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY29sPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1yb3c+XG4gICAgICAgICAgICAgICAgPC9pb24tZ3JpZD5cbiAgICAgICAgICAgIDwvaW9uLWNvbnRlbnQ+XG4gICAgICAgIGA7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlRXhwb3J0Q2xpY2sobW9kZWwpIHtcbiAgICAgICAgbGV0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxldCBkYXRlc3RyaW5nID0gYCR7bm93LmdldEZ1bGxZZWFyKCl9JHsobm93LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsJzAnKX0keyhub3cuZ2V0RGF0ZSgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCcwJyl9YDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGJyb2tlci5nZXQoYC9hcGkvZXhwb3J0cy9jb2xsZWN0aW9ucy8ke21vZGVsfWAsbnVsbCx7YmxvYjogdHJ1ZX0pO1xuICAgICAgICBkb3dubG9hZChyZXN1bHQsIGAke21vZGVsfV9leHBvcnRfJHtkYXRlc3RyaW5nfS5jc3ZgLCd0ZXh0L2NzdicpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmVuZGVyKHRoaXMudGVtcGxhdGUoe30pLCB0aGlzKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NlbmVFeHBvcnQ7XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NjZW5lLWV4cG9ydCcsIFNjZW5lRXhwb3J0KTtcbiIsIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMCBSYXRpbyBTb2Z0d2FyZSwgTExDIFxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBAYXV0aG9yIENsYXl0b24gR3VsaWNrIDxjbGF5QHJhdGlvc29mdHdhcmUuY29tPlxuICovXG5pbXBvcnQge2h0bWwsIHJlbmRlcn0gZnJvbSAnbGl0LWh0bWwnO1xuXG5jbGFzcyBTY2VuZUhvbWUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOiAnb3Blbid9KTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IChkYXRhKSA9PiBodG1sYFxuICAgICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpb24tY29sIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogM3ZoO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAjbGF5b3V0IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIDwvc3R5bGU+XG5cbiAgICAgICAgICAgIDxpb24taGVhZGVyPlxuICAgICAgICAgICAgICAgIDxpb24tdG9vbGJhcj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b25zIHNsb3Q9XCJzdGFydFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1tZW51LXRvZ2dsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIHNsb3Q9XCJpY29uLW9ubHlcIiBuYW1lPVwibWVudVwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tbWVudS10b2dnbGU+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tdGl0bGUgaWQ9XCJ0aXRsZVwiPkhvbWU8L2lvbi10aXRsZT5cbiAgICAgICAgICAgICAgICA8L2lvbi10b29sYmFyPlxuICAgICAgICAgICAgPC9pb24taGVhZGVyPlxuXG4gICAgICAgICAgICA8aW9uLWNvbnRlbnQgcGFkZGluZyBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICA8cD48L3A+XG4gICAgICAgICAgICA8L2lvbi1jb250ZW50PlxuICAgICAgICBgO1xuXG4gICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKHt9KSwgdGhpcy5zaGFkb3dSb290KTtcblxuICAgIH1cblxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzY2VuZS1ob21lJywgU2NlbmVIb21lKTtcbmV4cG9ydCBkZWZhdWx0IFNjZW5lSG9tZTsiLCIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjAgUmF0aW8gU29mdHdhcmUsIExMQyBcbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgQGF1dGhvciBDbGF5dG9uIEd1bGljayA8Y2xheUByYXRpb3NvZnR3YXJlLmNvbT5cbiAqL1xuaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCBDb21wb25lbnRCYXNlIGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2NvbXBvbmVudHMvY29tcG9uZW50LWJhc2UtdmFuaWxsYSc7XG5pbXBvcnQgYnJva2VyIGZyb20gJ2RhdGFicm9rZXInO1xuXG5pbXBvcnQgQ29tcG9uZW50SW52aXRhdGlvblZpZXcgZnJvbSAnLi4vYXBwL2ludml0YXRpb24vY29tcG9uZW50LWludml0YXRpb24tdmlldyc7XG5pbXBvcnQgQ29tcG9uZW50SW52aXRhdGlvbkhpc3RvcnkgZnJvbSAnLi4vYXBwL2ludml0YXRpb24vY29tcG9uZW50LWludml0YXRpb24taGlzdG9yeSc7XG5cbmNsYXNzIFNjZW5lSW52aXRhdGlvbiBleHRlbmRzIENvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmludml0YXRpb24gPSB7XG4gICAgICAgICAgICBpbnZpdGF0aW9uX3RlbXBsYXRlOiAnJyxcbiAgICAgICAgICAgIGludml0YXRpb25fdHlwZTogJycsXG4gICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgdG86IFtdLFxuICAgICAgICB9XG5cbiAgICAgICAgLy9tYW51YWxseSBpbnN0YW50aWF0ZSB0aGUgY29tcG9uZW50cyBmb3IgdGhlIHN1YnJvdXRlc1xuICAgICAgICAvL3RoaXMgaXMgc28gd2UgY2FuIGFzc2lnbiBwcm9wcyBhbmQgaW50ZXJhY3Qgd2l0aCB0aGVtIGRpcmVjdGx5IGF0IHRoZSB0b3AgbGV2ZWxcbiAgICAgICAgdGhpcy5jb21wb25lbnRJbnZpdGF0aW9uVmlldyA9IG5ldyBDb21wb25lbnRJbnZpdGF0aW9uVmlldygpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudEludml0YXRpb25IaXN0b3J5ID0gbmV3IENvbXBvbmVudEludml0YXRpb25IaXN0b3J5KCk7XG4gICAgfVxuXG4gICAgZ2V0IGludml0YXRpb25faWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZpdGF0aW9uX2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIGlkIG9mIHRoZSBpbnZpdGF0aW9uIGJlaW5nIGxvYWRlZC4gVGhlIFJvdXRlciBzaG91bGQgc2V0IHRoaXMgYXV0b21hdGljYWxseSBmcm9tIHRoZSBVUkwgcGFyYW1cbiAgICAgKi9cbiAgICBzZXQgaW52aXRhdGlvbl9pZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9pbnZpdGF0aW9uX2lkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOidvcGVuJ30pO1xuICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuaW5uZXJIVE1MID0gJzxzbG90Pjwvc2xvdD4nO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gKGludml0YXRpb24pID0+IGh0bWxgXG4gICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNzY2VuZV9pbnZpdGF0aW9uX2NvbnRlbnQge1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctdG9wOiAxdmg7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy1ib3R0b206IDF2aDtcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxdnc7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy1lbmQ6IDF2dztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICAgIDxpb24taGVhZGVyPlxuICAgICAgICAgICAgPGlvbi10b29sYmFyPlxuICAgICAgICAgICAgICAgIDxpb24tYnV0dG9ucyBzbG90PVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1iYWNrLWJ1dHRvbiBkZWZhdWx0LWhyZWY9XCIvaW52aXRhdGlvbnNcIj48L2lvbi1iYWNrLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2lvbi1idXR0b25zPlxuICAgICAgICAgICAgICAgIDxpb24tdGl0bGUgaWQ9XCJ0aXRsZVwiPkludml0YXRpb246ICR7aW52aXRhdGlvbi5maXJzdF9uYW1lfSAke2ludml0YXRpb24ubGFzdF9uYW1lfSA8L2lvbi10aXRsZT5cbiAgICAgICAgICAgIDwvaW9uLXRvb2xiYXI+XG4gICAgICAgIDwvaW9uLWhlYWRlcj5cbiAgICAgICAgPGlvbi1jb250ZW50IGlkPVwic2NlbmVfaW52aXRhdGlvbl9jb250ZW50XCI+XG4gICAgICAgICAgICA8aW9uLXRhYnMgaWQ9XCJpbnZpdGF0aW9uX3RhYnNcIiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1saWdodClcIj5cbiAgICAgICAgICAgICAgICA8aW9uLXRhYiB0YWI9XCJ0YWItdmlld1wiIC5jb21wb25lbnQ9JHt0aGlzLmNvbXBvbmVudEludml0YXRpb25WaWV3fT5cbiAgICAgICAgICAgICAgICA8L2lvbi10YWI+XG5cbiAgICAgICAgICAgICAgICA8aW9uLXRhYiB0YWI9XCJ0YWItaGlzdG9yeVwiIC5jb21wb25lbnQ9JHt0aGlzLmNvbXBvbmVudEludml0YXRpb25IaXN0b3J5fT5cbiAgICAgICAgICAgICAgICAgICAgPCEtLTxpb24tbmF2PjwvaW9uLW5hdj4tLT5cbiAgICAgICAgICAgICAgICA8L2lvbi10YWI+XG4gICAgICAgICAgICAgICAgPGlvbi10YWItYmFyIHNsb3Q9XCJib3R0b21cIj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi10YWItYnV0dG9uIHRhYj1cInRhYi12aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gbmFtZT1cImluZm9ybWF0aW9uLWNpcmNsZVwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsPkludml0YXRpb248L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24tdGFiLWJ1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICA8aW9uLXRhYi1idXR0b24gZGlzYWJsZWQ9JHtpbnZpdGF0aW9uLnN0YXR1cyA9PSAnY3JlYXRlZCd9IHRhYj1cInRhYi1oaXN0b3J5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gbmFtZT1cInRpbWUtb3V0bGluZVwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWxhYmVsPkhpc3Rvcnk8L2lvbi1sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24tdGFiLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2lvbi10YWItYmFyPlxuICAgICAgICAgICAgPC9pb24tdGFicz5cbiAgICAgICAgPC9pb24tY29udGVudD5cbiAgICAgICAgYDtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmVuZGVyKHRoaXMudGVtcGxhdGUodGhpcy5pbnZpdGF0aW9uKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkSW52aXRhdGlvbigpO1xuXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZEludml0YXRpb24oKSB7XG4gICAgICAgIHRoaXMuaW52aXRhdGlvbiA9IGF3YWl0IGJyb2tlci5nZXQoYC9hcGkvaW52aXRhdGlvbnMvaWQvJHt0aGlzLmludml0YXRpb25faWR9YCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ29tcG9uZW50cygpOyAvL3dlIGRvIHRoaXMgbWFudWFsbHkgYmVjYXVzZSB3ZSdyZSBtYW5hZ2luZyB0aGUgbGlmZWN5Y2xlIG9mIHRoZXNlIGNvbXBvbmVudHMgbWFudWFsbHlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgc3ViIGNvbXBvbmVudHMgZGF0YVxuICAgICAqL1xuICAgIHVwZGF0ZUNvbXBvbmVudHMoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50SW52aXRhdGlvblZpZXcuaW52aXRhdGlvbiA9IHRoaXMuaW52aXRhdGlvbjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRJbnZpdGF0aW9uSGlzdG9yeS5pbnZpdGF0aW9uID0gdGhpcy5pbnZpdGF0aW9uO1xuICAgIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NjZW5lLWludml0YXRpb24nLCBTY2VuZUludml0YXRpb24pO1xuZXhwb3J0IGRlZmF1bHQgU2NlbmVJbnZpdGF0aW9uOyIsIi8qXG4gKiAgIENvcHlyaWdodCAoYykgMjAyMCBSYXRpbyBTb2Z0d2FyZSwgTExDIFxuICogICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogICBAYXV0aG9yIENsYXl0b24gR3VsaWNrIDxjbGF5QHJhdGlvc29mdHdhcmUuY29tPlxuICovXG5pbXBvcnQge2h0bWwsIHJlbmRlcn0gZnJvbSAnbGl0LWh0bWwnO1xuaW1wb3J0IGJyb2tlciBmcm9tICdkYXRhYnJva2VyJztcbmltcG9ydCBDb21wb25lbnRTb3J0U2VsZWN0aW9uIGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2NvbXBvbmVudHMvY29tcG9uZW50LXNvcnQtc2VsZWN0aW9uJztcblxuY2xhc3MgU2NlbmVJbnZpdGF0aW9ucyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmludml0YXRpb25zID0gW107XG4gICAgICAgIHRoaXMuc29ydF9pdGVtcyA9IFtcbiAgICAgICAgICAgICAgICAgICAge2xhYmVsOiAnQ3JlYXRlIERhdGUnLCB2YWx1ZTogJ2NyZWF0ZWRfZGF0ZScsIHN0YXRlOiAwfSxcbiAgICAgICAgICAgICAgICAgICAge2xhYmVsOiAnSW52aXRhdGlvbiBTdGF0dXMnLCB2YWx1ZTogJ3N0YXR1cycsIHN0YXRlOiAwfSxcbiAgICAgICAgICAgICAgICAgICAge2xhYmVsOiAnTG9uZyBOYW1lJywgdmFsdWU6ICdsb25nX25hbWUnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0xhc3QgTmFtZScsIHZhbHVlOiAnbGFzdF9uYW1lJywgc3RhdGU6IDB9LFxuICAgICAgICAgICAgICAgICAgICB7bGFiZWw6ICdMYXN0IExvZ2luJywgdmFsdWU6ICdsYXN0X2xvZ2luX2RhdGUnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0FjY291bnQnLCB2YWx1ZTogJ2NsaWVudF9pZCcsIHN0YXRlOiAwfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICB0aGlzLmZpbHRlcl9pdGVtcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZS1yYW5nZScsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnY3JlYXRlZF9kYXRlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0NyZWF0ZSBEYXRlJywgXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtICgxMDAwICogNjAgKiA2MCAqIDI0KSksXG4gICAgICAgICAgICAgICAgICAgIHRvOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArICgxMDAwICogNjAgKiA2MCAqIDI0KSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3dpdGNoJywgXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdJbnZpdGF0aW9uIFN0YXR1cycsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnc3RhdHVzJyxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1NlbGVjdCBvbmUgb3IgbW9yZSBzdGF0dXNlcycsXG4gICAgICAgICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAgICAgICAgICB7dmFsdWU6ICdjcmVhdGVkJywgbGFiZWw6ICdDcmVhdGVkJ30sXG4gICAgICAgICAgICAgICAgICAgIHt2YWx1ZTogJ2ludml0ZWQnLCBsYWJlbDogJ0ludml0ZWQnfSxcbiAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiAnYWNjZXB0ZWQnLCBsYWJlbDogJ0FjY2VwdGVkJ30sXG4gICAgICAgICAgICAgICAgICAgIHt2YWx1ZTogJ2NhbmNlbGxlZCcsIGxhYmVsOiAnQ2FuY2VsbGVkJ30sXG4gICAgICAgICAgICAgICAgICAgIHt2YWx1ZTogJ2V4cGlyZWQnLCBsYWJlbDogJ0V4cGlyZWQnfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZS1yYW5nZScsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnbGFzdF9sb2dpbl9kYXRlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xhc3QgTG9naW4gRGF0ZScsIFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoMTAwMCAqIDYwICogNjAgKiAyNCkpLFxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnbGFzdF9uYW1lJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xhc3QgTmFtZScsIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJywgXG4gICAgICAgICAgICAgICAgZmlsdGVyX25hbWU6ICdmaXJzdF9uYW1lJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZpcnN0IE5hbWUnLCBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnY2xpZW50X2lkJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0FjY291bnQnLCBcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF1cblxuICAgICAgICB0aGlzLnNvcnQgPSBcIi1jcmVhdGVkX2RhdGVcIjtcbiAgICB9XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IChkYXRhKSA9PiBodG1sYFxuICAgICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjBmMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgI2NvbnRlbnQge1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctdG9wOiAxdmg7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy1ib3R0b206IDF2aDtcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAxdnc7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy1lbmQ6IDF2dztcbiAgICAgICAgICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNjaGVja2JveF93cmFwcGVyIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNjaGVja2JveF93cmFwcGVyIGRpdiB7XG4gICAgICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICNjaGVja2JveF93cmFwcGVyIGRpdiBpb24tY2hlY2tib3gge1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cblxuICAgICAgICAgICAgPGlvbi1oZWFkZXI+XG4gICAgICAgICAgICAgICAgPGlvbi10b29sYmFyPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbnMgc2xvdD1cInN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLW1lbnUtdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cImljb24tb25seVwiIG5hbWU9XCJtZW51XCI+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1tZW51LXRvZ2dsZT5cbiAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9ucz5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi10aXRsZSBpZD1cInRpdGxlXCI+SW52aXRhdGlvbnM8L2lvbi10aXRsZT5cbiAgICAgICAgICAgICAgICA8L2lvbi10b29sYmFyPlxuICAgICAgICAgICAgPC9pb24taGVhZGVyPlxuICAgICAgICAgICAgPGlvbi1jb250ZW50IGlkPVwiY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxpb24tZ3JpZD5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1yb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWNvbCBzaXplPVwiMTJcIiBzaXplLXNtPVwiMTJcIiBzaXplLW1kPVwiNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tc2VhcmNoYmFyIGRlYm91bmNlPVwiMzAwXCIgQGlvbkNoYW5nZT0keyhlKT0+dGhpcy5oYW5kbGVTZWFyY2hiYXJDaGFuZ2UoZSl9IHBsYWNlaG9sZGVyPVwiU2VhcmNoIGludml0YXRpb25zXCIgdHlwZT1cInRleHRcIj48L2lvbi1zZWFyY2hiYXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1jb2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWNvbCBzaXplPVwiMTJcIiBzaXplLXNtPVwiMTJcIiBzaXplLW1kPVwiNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9uIEBjbGljaz0keyhlKSA9PiB0aGlzLnNob3dTb3J0KCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cInN0YXJ0XCIgbmFtZT1cIm9wdGlvbnNcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTb3J0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9uIEBjbGljaz0keyhlKSA9PiB0aGlzLnNob3dGaWx0ZXJzKCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gc2xvdD1cInN0YXJ0XCIgbmFtZT1cImZ1bm5lbFwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmZpbHRlcnMgJiYgT2JqZWN0LmtleXModGhpcy5maWx0ZXJzKS5sZW5ndGggPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJhZGdlIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDVweDsgY29sb3I6IHllbGxvdyAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiB0ZWFsICFpbXBvcnRhbnRcIiBjb2xvcj1cIndhcm5pbmdcIiBzbG90PVwiZW5kXCI+JHtPYmplY3Qua2V5cyh0aGlzLmZpbHRlcnMpLmxlbmd0aH08L2lvbi1iYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgOicnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY29sPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1yb3c+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm93PlxuICAgICAgICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q3JlYXRlZCBEYXRlPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlN0YXR1cyBEYXRlPC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+RW1haWw8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+UGhvbmU8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+QWNjb3VudDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TdGF0dXM8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMuaW52aXRhdGlvbnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGludml0YXRpb24pID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIgQGNsaWNrPSR7KGUpID0+IHt0aGlzLnNlbGVjdEludml0YXRpb24oaW52aXRhdGlvbil9fSBzdHlsZT1cImN1cnNvcjogcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD1cIkNyZWF0ZWQgRGF0ZVwiPiR7bmV3IERhdGUoaW52aXRhdGlvbi5jcmVhdGVkX2RhdGUpLnRvTG9jYWxlU3RyaW5nKCl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtbGFiZWw9XCJTdGF0dXMgRGF0ZVwiPiR7aW52aXRhdGlvbi5zdGF0dXNfaGlzdG9yeS5sZW5ndGg/bmV3IERhdGUoaW52aXRhdGlvbi5zdGF0dXNfZGF0ZSkudG9Mb2NhbGVTdHJpbmcoKSA6IG5ldyBEYXRlKGludml0YXRpb24uY3JlYXRlZF9kYXRlKS50b0xvY2FsZVN0cmluZygpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiTmFtZVwiPiR7aW52aXRhdGlvbi5maXJzdF9uYW1lfSAke2ludml0YXRpb24ubGFzdF9uYW1lfTwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiRW1haWxcIj4ke2ludml0YXRpb24uZW1haWxfYWRkcmVzc308L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD1cIlBob25lXCI+JHtpbnZpdGF0aW9uLnBob25lX2NlbGx9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtbGFiZWw9XCJBY2NvdW50XCI+JHtpbnZpdGF0aW9uLmNsaWVudF9pZH08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgZGF0YS1sYWJlbD1cIlN0YXR1c1wiPiR7dGhpcy5nZXRTdGF0dXNDaGlwKGludml0YXRpb24uc3RhdHVzKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLXJvdz5cbiAgICAgICAgICAgICAgICA8L2lvbi1ncmlkPlxuICAgICAgICAgICAgICAgIDwhLS08aW9uLWZhYiBjb2xvcj1cImRhbmdlclwiIEBjbGljaz0keygpID0+IHt0aGlzLmhhbmRsZUFkZEludml0YXRpb24oKX19IHZlcnRpY2FsPVwiYm90dG9tXCIgaG9yaXpvbnRhbD1cImVuZFwiIHNsb3Q9XCJmaXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gbmFtZT1cImFkZFwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgPC9pb24tZmFiPi0tPlxuICAgICAgICAgICAgPC9pb24tY29udGVudD5cblxuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuZ2V0SW52aXRhdGlvbnMoKTtcblxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmVuZGVyKHRoaXMudGVtcGxhdGUoe30pLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXRTdGF0dXNDaGlwKHN0YXR1cykge1xuICAgICAgICBzd2l0Y2goc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFwiY3JlYXRlZFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDxpb24tY2hpcD48aW9uLWljb24gY29sb3I9XCJzdWNjZXNzXCIgbmFtZT0nY2hlY2ttYXJrJz48L2lvbi1pY29uPjxpb24tbGFiZWw+Q3JlYXRlZDwvaW9uLWxhYmVsPjwvaW9uLWNoaXA+YDtcbiAgICAgICAgICAgIGNhc2UgXCJpbnZpdGVkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPGlvbi1jaGlwPjxpb24taWNvbiBjb2xvcj1cInNlY29uZGFyeVwiIG5hbWU9J2NvZGUtd29ya2luZyc+PC9pb24taWNvbj48aW9uLWxhYmVsPkludml0ZWQ8L2lvbi1sYWJlbD48L2lvbi1jaGlwPmA7XG4gICAgICAgICAgICBjYXNlIFwiYWNjZXB0ZWRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGA8aW9uLWNoaXA+PGlvbi1pY29uIGNvbG9yPVwidGVydGlhcnlcIiBuYW1lPSdjb2RlJz48L2lvbi1pY29uPjxpb24tbGFiZWw+QWNjZXB0ZWQ8L2lvbi1sYWJlbD48L2lvbi1jaGlwPmA7XG4gICAgICAgICAgICBjYXNlIFwiY2FuY2VsbGVkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPGlvbi1jaGlwPjxpb24taWNvbiBjb2xvcj1cImRhbmdlclwiIG5hbWU9J2Nsb3NlLWNpcmNsZSc+PC9pb24taWNvbj48aW9uLWxhYmVsPkNhbmNlbGxlZDwvaW9uLWxhYmVsPjwvaW9uLWNoaXA+YDtcbiAgICAgICAgICAgIGNhc2UgXCJleHBpcmVkXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPGlvbi1jaGlwPjxpb24taWNvbiBjb2xvcj1cImRhbmdlclwiIG5hbWU9J2Nsb3NlLWNpcmNsZSc+PC9pb24taWNvbj48aW9uLWxhYmVsPkV4cGlyZWQ8L2lvbi1sYWJlbD48L2lvbi1jaGlwPmA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzaG93U29ydCgpIHtcbiAgICAgICAgbGV0IG1vZGFsX2NvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBsZXQgbW9kYWwgPSBhd2FpdCBtb2RhbF9jb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdhcHAtc29ydC1zZWxlY3Rpb24nLFxuICAgICAgICAgICAgY29tcG9uZW50UHJvcHM6IHtcbiAgICAgICAgICAgICAgICBpdGVtczogdGhpcy5zb3J0X2l0ZW1zXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBtb2RhbC5wcmVzZW50KCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBtb2RhbC5vbkRpZERpc21pc3MoKTtcbiAgICAgICAgdGhpcy5zb3J0ID0gcmVzdWx0LmRhdGEuc29ydDtcbiAgICAgICAgdGhpcy5zb3J0X2l0ZW1zID0gcmVzdWx0LmRhdGEuaXRlbXM7XG4gICAgICAgIHRoaXMuZ2V0SW52aXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBzaG93RmlsdGVycygpIHtcbiAgICAgICAgbGV0IG1vZGFsX2NvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBsZXQgbW9kYWwgPSBhd2FpdCBtb2RhbF9jb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdhcHAtZmlsdGVyLXNlbGVjdGlvbicsXG4gICAgICAgICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmZpbHRlcl9pdGVtcyAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1vZGFsLnByZXNlbnQoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vZGFsLm9uRGlkRGlzbWlzcygpO1xuICAgICAgICBpZighcmVzdWx0LmRhdGEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IHJlc3VsdC5kYXRhLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuZmlsdGVyX2l0ZW1zID0gcmVzdWx0LmRhdGEuaXRlbXM7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0SW52aXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICBzZWxlY3RJbnZpdGF0aW9uKGludml0YXRpb24pIHtcbiAgICAgICAgbGV0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgICAgcm91dGVyLnB1c2goJy9pbnZpdGF0aW9ucy8nICsgaW52aXRhdGlvbi5faWQpO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVNlYXJjaGJhckNoYW5nZShlKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gZS5kZXRhaWwudmFsdWU7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0SW52aXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRJbnZpdGF0aW9ucygpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IDUwLFxuICAgICAgICAgICAgc29ydDogdGhpcy5zb3J0IHx8ICcnXG4gICAgICAgIH07XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycylcbiAgICAgICAgICAgIHF1ZXJ5LmZpbHRlciA9IHRoaXMuZmlsdGVycztcblxuICAgICAgICBpZih0aGlzLnNlYXJjaCkge1xuICAgICAgICAgICAgaWYoIXF1ZXJ5LmZpbHRlcilcbiAgICAgICAgICAgICAgICBxdWVyeS5maWx0ZXIgPSB7fTtcbiAgICAgICAgICAgIHF1ZXJ5LmZpbHRlci4kdGV4dCA9IHsgJHNlYXJjaDogdGhpcy5zZWFyY2ggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBicm9rZXIuZ2V0KCcvYXBpL2ludml0YXRpb25zJywgcXVlcnkpO1xuICAgICAgICB0aGlzLmludml0YXRpb25zID0gcmVzdWx0O1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlQWRkSW52aXRhdGlvbigpIHtcbiAgICAgICAgbGV0IG1vZGFsX2NvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBsZXQgbW9kYWwgPSBhd2FpdCBtb2RhbF9jb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdhcHAtaW52aXRhdGlvbi1uZXcnXG4gICAgICAgIH0pO1xuICAgICAgICBtb2RhbC5wcmVzZW50KCk7XG5cbiAgICB9XG5cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NlbmUtaW52aXRhdGlvbnMnLCBTY2VuZUludml0YXRpb25zKTtcbmV4cG9ydCBkZWZhdWx0IFNjZW5lSW52aXRhdGlvbnM7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQge3Vuc2FmZUhUTUx9IGZyb20gJ2xpdC1odG1sL2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwnO1xuaW1wb3J0IGJyb2tlciBmcm9tICdkYXRhYnJva2VyJztcblxuY2xhc3MgU2NlbmVOb3RpZmljYXRpb25zIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gKGRhdGEpID0+IGh0bWxgXG4gICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAjY29udGVudCB7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy10b3A6IDF2aDtcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMXZoO1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDF2dztcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLWVuZDogMXZ3O1xuICAgICAgICAgICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuXG4gICAgICAgICAgICA8aW9uLWhlYWRlcj5cbiAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9ucyBzbG90PVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbWVudS10b2dnbGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwiaWNvbi1vbmx5XCIgbmFtZT1cIm1lbnVcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLW1lbnUtdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1idXR0b25zPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLXRpdGxlIGlkPVwidGl0bGVcIj5Ob3RpZmljYXRpb25zPC9pb24tdGl0bGU+XG4gICAgICAgICAgICAgICAgPC9pb24tdG9vbGJhcj5cbiAgICAgICAgICAgIDwvaW9uLWhlYWRlcj5cbiAgICAgICAgICAgIDxpb24tY29udGVudCBpZD1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8aW9uLWdyaWQ+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm93PlxuICAgICAgICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+RGF0ZTwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5DcmVhdGVkIEJ5PC90aD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPk1lc3NhZ2U8L3RoPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMubm90aWZpY2F0aW9ucy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAobm90aWZpY2F0aW9uKSA9PiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyIEBjbGljaz0keyhlKSA9PiB7dGhpcy5zZWxlY3ROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKX19IHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiRGF0ZVwiPiR7bmV3IERhdGUobm90aWZpY2F0aW9uLmNyZWF0ZWRfZGF0ZSkudG9Mb2NhbGVTdHJpbmcoKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke25vdGlmaWNhdGlvbi5jcmVhdGVfdXNlciA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGA8dGQgc3R5bGU9XCJ0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZVwiIGRhdGEtbGFiZWw9XCJDcmVhdGVkIEJ5XCI+JHtub3RpZmljYXRpb24uY3JlYXRlX3VzZXJfaW5mby5sb25nX25hbWV9PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sYDx0ZCBkYXRhLWxhYmVsPVwiQ3JlYXRlZCBCeVwiPlN5c3RlbTwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLWxhYmVsPVwiTWVzc2FnZVwiPiR7dW5zYWZlSFRNTChub3RpZmljYXRpb24ubWVzc2FnZSl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1yb3c+XG4gICAgICAgICAgICAgICAgPC9pb24tZ3JpZD5cbiAgICAgICAgICAgICAgICA8aW9uLWZhYiBjb2xvcj1cImRhbmdlclwiIEBjbGljaz0keygpID0+IHsgdGhpcy5oYW5kbGVBZGROb3RpZmljYXRpb24oKSB9fSB2ZXJ0aWNhbD1cImJvdHRvbVwiIGhvcml6b250YWw9XCJlbmRcIiBzbG90PVwiZml4ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1mYWItYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIG5hbWU9XCJhZGRcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1mYWItYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvaW9uLWZhYj5cbiAgICAgICAgICAgIDwvaW9uLWNvbnRlbnQ+XG5cbiAgICAgICAgYDtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLmdldE5vdGlmaWNhdGlvbnMoKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKHt9KSwgdGhpcyk7XG4gICAgfVxuXG4gICAgc2VsZWN0Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAvL25vdGhpbmcgdG8gZG8gZm9yIG5vd1xuXG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlQWRkTm90aWZpY2F0aW9uKCkge1xuICAgICAgICBsZXQgbm90aWZpY2F0aW9uID0gYXdhaXQgdGhpcy5wcm9tcHROb3RpZmljYXRpb24oKTtcbiAgICAgICAgaWYoIW5vdGlmaWNhdGlvbilcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvL2NyZWF0ZSB0aGUgZmFtaWx5IG9iamVjdFxuICAgICAgICBhd2FpdCBicm9rZXIucG9zdChgL2FwaS9ub3RpZmljYXRpb25zL2FkbWluYCwge21lc3NhZ2U6IG5vdGlmaWNhdGlvbn0gKTtcbiAgICAgICAgYXdhaXQgdGhpcy5nZXROb3RpZmljYXRpb25zKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcHJvbXB0Tm90aWZpY2F0aW9uKCkge1xuICAgICAgICBjb25zdCBhbGVydENvbnRyb2xsZXIgPSB3aW5kb3cuYWxlcnRDb250cm9sbGVyO1xuXG4gICAgICAgIGNvbnN0IGFsZXJ0ID0gYXdhaXQgYWxlcnRDb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBoZWFkZXI6ICdBZGQgbm90aWZpY2F0aW9uJyxcbiAgICAgICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ21lc3NhZ2UnLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ05ldyBub3RpZmljYXRpb24gbWVzc2FnZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiAnY2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ09rJyxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0LmRpc21pc3MoZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGFsZXJ0LnByZXNlbnQoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGFsZXJ0Lm9uRGlkRGlzbWlzcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGEudmFsdWVzLm1lc3NhZ2U7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Tm90aWZpY2F0aW9ucygpIHtcbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBicm9rZXIuZ2V0KCcvYXBpL25vdGlmaWNhdGlvbnMvYWRtaW4nKTtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gcmVzdWx0O1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdzY2VuZS1ub3RpZmljYXRpb25zJywgU2NlbmVOb3RpZmljYXRpb25zKTtcbmV4cG9ydCBkZWZhdWx0IFNjZW5lTm90aWZpY2F0aW9uczsiLCIvKlxuICogICBDb3B5cmlnaHQgKGMpIDIwMjAgUmF0aW8gU29mdHdhcmUsIExMQyBcbiAqICAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICAgQGF1dGhvciBDbGF5dG9uIEd1bGljayA8Y2xheUByYXRpb3NvZnR3YXJlLmNvbT5cbiAqL1xuaW1wb3J0IHtodG1sLCByZW5kZXJ9IGZyb20gJ2xpdC1odG1sJztcbmltcG9ydCBDb21wb25lbnRCYXNlIGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC92aWV3L2NvbXBvbmVudHMvY29tcG9uZW50LWJhc2UtdmFuaWxsYSc7XG5pbXBvcnQgYnJva2VyIGZyb20gJ2RhdGFicm9rZXInO1xuXG5pbXBvcnQgQ29tcG9uZW50VXNlclByb2ZpbGUgZnJvbSAnLi4vYXBwL3VzZXIvY29tcG9uZW50LXVzZXItcHJvZmlsZSc7XG5pbXBvcnQgQ29tcG9uZW50VXNlckhpc3RvcnkgZnJvbSAnLi4vYXBwL3VzZXIvY29tcG9uZW50LXVzZXItaGlzdG9yeSc7XG5cbmNsYXNzIFNjZW5lVXNlciBleHRlbmRzIENvbXBvbmVudEJhc2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnVzZXIgPSB7XG4gICAgICAgICAgICB1c2VybmFtZTogJycsXG4gICAgICAgICAgICBlbWFpbDogJycsXG4gICAgICAgICAgICBmaXJzdF9uYW1lOiAnJyxcbiAgICAgICAgICAgIGxhc3RfbmFtZTogJydcbiAgICAgICAgfVxuXG4gICAgICAgIC8vbWFudWFsbHkgaW5zdGFudGlhdGUgdGhlIGNvbXBvbmVudHMgZm9yIHRoZSBzdWJyb3V0ZXNcbiAgICAgICAgLy90aGlzIGlzIHNvIHdlIGNhbiBhc3NpZ24gcHJvcHMgYW5kIGludGVyYWN0IHdpdGggdGhlbSBkaXJlY3RseSBhdCB0aGUgdG9wIGxldmVsXG4gICAgICAgIHRoaXMuY29tcG9uZW50VXNlclByb2ZpbGUgPSBuZXcgQ29tcG9uZW50VXNlclByb2ZpbGUoKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRVc2VySGlzdG9yeSA9IG5ldyBDb21wb25lbnRVc2VySGlzdG9yeSgpO1xuICAgIH1cblxuICAgIGdldCB1c2VyX2lkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXNlcl9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBpZCBvZiB0aGUgdXNlciBiZWluZyBsb2FkZWQuIFRoZSBSb3V0ZXIgc2hvdWxkIHNldCB0aGlzIGF1dG9tYXRpY2FsbHkgZnJvbSB0aGUgVVJMIHBhcmFtXG4gICAgICovXG4gICAgc2V0IHVzZXJfaWQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fdXNlcl9pZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZTonb3Blbid9KTtcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmlubmVySFRNTCA9ICc8c2xvdD48L3Nsb3Q+JztcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9ICh1c2VyKSA9PiBodG1sYFxuICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAjc2NlbmVfdXNlcl9jb250ZW50IHtcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLXRvcDogMXZoO1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctYm90dG9tOiAxdmg7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy1zdGFydDogMXZ3O1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctZW5kOiAxdnc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8aW9uLWhlYWRlcj5cbiAgICAgICAgICAgIDxpb24tdG9vbGJhcj5cbiAgICAgICAgICAgICAgICA8aW9uLWJ1dHRvbnMgc2xvdD1cInN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tYmFjay1idXR0b24gZGVmYXVsdC1ocmVmPVwiL3VzZXJzXCI+PC9pb24tYmFjay1idXR0b24+XG4gICAgICAgICAgICAgICAgPC9pb24tYnV0dG9ucz5cbiAgICAgICAgICAgICAgICA8aW9uLXRpdGxlIGlkPVwidGl0bGVcIj4ke3VzZXIuZmlyc3RfbmFtZX0gJHt1c2VyLmxhc3RfbmFtZX0gJHt1c2VyLnVzZXJuYW1lfTwvaW9uLXRpdGxlPlxuICAgICAgICAgICAgPC9pb24tdG9vbGJhcj5cbiAgICAgICAgPC9pb24taGVhZGVyPlxuICAgICAgICA8aW9uLWNvbnRlbnQgaWQ9XCJzY2VuZV91c2VyX2NvbnRlbnRcIj5cbiAgICAgICAgICAgIDxpb24tZmFiIHZlcnRpY2FsPVwidG9wXCIgaG9yaXpvbnRhbD1cImVuZFwiIHNsb3Q9XCJmaXhlZFwiPlxuICAgICAgICAgICAgICAgIDxpb24tZmFiLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIG5hbWU9XCJjaGV2cm9uLWRvd24tY2lyY2xlLW91dGxpbmVcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgIDwvaW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgPGlvbi1mYWItbGlzdCBzaWRlPVwiYm90dG9tXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tZmFiLWJ1dHRvbiB0aXRsZT1cIlNldCBwYXNzd29yZFwiIEBjbGljaz0keyhlKSA9PiB0aGlzLmhhbmRsZVNldFBhc3N3b3JkKCl9Pjxpb24taWNvbiBuYW1lPVwibG9jay1jbG9zZWRcIj48L2lvbi1pY29uPjwvaW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tZmFiLWJ1dHRvbiB0aXRsZT1cIkdldCBsb2dpbiBsaW5rXCIgQGNsaWNrPSR7KGUpID0+IHRoaXMuaGFuZGxlR2V0TG9naW5MaW5rKCl9Pjxpb24taWNvbiBuYW1lPVwibGlua1wiPjwvaW9uLWljb24+PC9pb24tZmFiLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2lvbi1mYWItbGlzdD5cblxuICAgICAgICAgICAgPC9pb24tZmFiPlxuICAgICAgICAgICAgPGlvbi10YWJzIGlkPVwidXNlcl90YWJzXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItbGlnaHQpXCI+XG4gICAgICAgICAgICAgICAgPGlvbi10YWIgdGFiPVwidGFiLXByb2ZpbGVcIiAuY29tcG9uZW50PSR7dGhpcy5jb21wb25lbnRVc2VyUHJvZmlsZX0+XG4gICAgICAgICAgICAgICAgPC9pb24tdGFiPlxuXG4gICAgICAgICAgICAgICAgPGlvbi10YWIgdGFiPVwidGFiLWhpc3RvcnlcIiAuY29tcG9uZW50PSR7dGhpcy5jb21wb25lbnRVc2VySGlzdG9yeX0+XG4gICAgICAgICAgICAgICAgICAgIDwhLS08aW9uLW5hdj48L2lvbi1uYXY+LS0+XG4gICAgICAgICAgICAgICAgPC9pb24tdGFiPlxuICAgICAgICAgICAgICAgIDxpb24tdGFiLWJhciBzbG90PVwiYm90dG9tXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tdGFiLWJ1dHRvbiB0YWI9XCJ0YWItcHJvZmlsZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1pY29uIG5hbWU9XCJpbmZvcm1hdGlvbi1jaXJjbGVcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5Vc2VyPC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLXRhYi1idXR0b24+XG5cbiAgICAgICAgICAgICAgICAgICAgPGlvbi10YWItYnV0dG9uIHRhYj1cInRhYi1oaXN0b3J5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gbmFtZT1cInRpbWVcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1sYWJlbD5IaXN0b3J5PC9pb24tbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLXRhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgPC9pb24tdGFiLWJhcj5cbiAgICAgICAgICAgIDwvaW9uLXRhYnM+XG4gICAgICAgIDwvaW9uLWNvbnRlbnQ+XG4gICAgICAgIGA7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKHRoaXMudXNlciksIHRoaXMpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFVzZXIoKTtcblxuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZUdldExvZ2luTGluaygpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgYnJva2VyLmdldCgnL2FwaS9sb2dpbi9saW5rLycgKyB0aGlzLnVzZXIuX2lkKTtcbiAgICAgICAgY29uc3QgYWxlcnRDb250cm9sbGVyID0gd2luZG93LmFsZXJ0Q29udHJvbGxlcjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGFsZXJ0ID0gYXdhaXQgYWxlcnRDb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBoZWFkZXI6ICdMb2dpbiBMaW5rJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiSGVyZSdzIGEgbGluayB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvZyBpbiBhcyB0aGUgdXNlclwiLFxuICAgICAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbGluaycsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnbGluaycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXNwb25zZS51cmxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiQ29weVwiLFxuICAgICAgICAgICAgICAgICAgICByb2xlOiAnY29weScsXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1hbGVydCAjbGluaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgOTk5OTkpOyAvKiBGb3IgbW9iaWxlIGRldmljZXMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2FzdF9jb250cm9sbGVyID0gd2luZG93LnRvYXN0Q29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b2FzdCA9IGF3YWl0IHRvYXN0X2NvbnRyb2xsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxpbmsgY29waWVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdib3R0b20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxNTAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRvYXN0LnByZXNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICdPaycsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgYWxlcnQucHJlc2VudCgpO1xuXG4gICAgfVxuXG4gICAgYXN5bmMgcHJvbXB0TmV3UGFzc3dvcmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShcbiAgICAgICAgICAgIGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbGVydENvbnRyb2xsZXIgPSB3aW5kb3cuYWxlcnRDb250cm9sbGVyO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYWxlcnQgPSBhd2FpdCBhbGVydENvbnRyb2xsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnU2V0IHBhc3N3b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFbnRlciB0aGUgbmV3IHBhc3N3b3JkIHlvdSdkIGxpa2UgdG8gc2V0IGZvciB0aGUgdXNlclwiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dHM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncHJvbXB0X25ld19wYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdOZXcgUGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiAnY2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogJ3NlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ09rJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGEucGFzc3dvcmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFsZXJ0LnByZXNlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVNldFBhc3N3b3JkKCkge1xuICAgICAgICBsZXQgdG9hc3RfY29udHJvbGxlciA9IHdpbmRvdy50b2FzdENvbnRyb2xsZXI7XG4gICAgICAgIGxldCBuZXdfcGFzc3dvcmQgPSBhd2FpdCB0aGlzLnByb21wdE5ld1Bhc3N3b3JkKCk7XG4gICAgICAgIGlmKCFuZXdfcGFzc3dvcmQpIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gYXdhaXQgdG9hc3RfY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUbyBhZGQgYSBuZXcgdXNlciwgd2UgbmVlZCBhdCBsZWFzdCB0aGUgZmlyc3QgbmFtZSwgbGFzdCBuYW1lIGFuZCBlbWFpbCBvZiB0aGUgdXNlcicsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICAgICAgYnV0dG9uczogW3tcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogJ2NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdjbG9zZSdcbiAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBtZXNzYWdlLnByZXNlbnQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVzZXIgPSBhd2FpdCBicm9rZXIucGF0Y2goYC9hcGkvdXNlcnMvJHt0aGlzLnVzZXJfaWR9YCxcbiAgICAgICAgW1xuICAgICAgICAgICAge29wOiAncmVwbGFjZScsIHBhdGg6ICcvcGFzc3dvcmQnLCB2YWx1ZTogbmV3X3Bhc3N3b3JkfVxuICAgICAgICBdKTtcblxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbXBvbmVudHMoKTsgLy93ZSBkbyB0aGlzIG1hbnVhbGx5IGJlY2F1c2Ugd2UncmUgbWFuYWdpbmcgdGhlIGxpZmVjeWNsZSBvZiB0aGVzZSBjb21wb25lbnRzIG1hbnVhbGx5XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBhd2FpdCB0b2FzdF9jb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnUGFzc3dvcmQgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgZHVyYXRpb246IDIwMDAsXG4gICAgICAgICAgICBidXR0b25zOiBbe1xuICAgICAgICAgICAgICAgIHJvbGU6ICdjYW5jZWwnLFxuICAgICAgICAgICAgICAgIGljb246ICdjbG9zZSdcbiAgICAgICAgICAgIH1dXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBtZXNzYWdlLnByZXNlbnQoKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkVXNlcigpIHtcbiAgICAgICAgdGhpcy51c2VyID0gYXdhaXQgYnJva2VyLmdldChgL2FwaS91c2Vycy8ke3RoaXMudXNlcl9pZH1gKTtcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy51cGRhdGVDb21wb25lbnRzKCk7IC8vd2UgZG8gdGhpcyBtYW51YWxseSBiZWNhdXNlIHdlJ3JlIG1hbmFnaW5nIHRoZSBsaWZlY3ljbGUgb2YgdGhlc2UgY29tcG9uZW50cyBtYW51YWxseVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzdWIgY29tcG9uZW50cyBkYXRhXG4gICAgICovXG4gICAgdXBkYXRlQ29tcG9uZW50cygpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRVc2VyUHJvZmlsZS51c2VyID0gdGhpcy51c2VyO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFVzZXJIaXN0b3J5LnVzZXIgPSB0aGlzLnVzZXI7XG4gICAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NlbmUtdXNlcicsIFNjZW5lVXNlcik7XG5leHBvcnQgZGVmYXVsdCBTY2VuZVVzZXI7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbmltcG9ydCB7aHRtbCwgcmVuZGVyfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgQ29tcG9uZW50Q2FyZFVzZXIgZnJvbSAnLi4vYXBwL2NhcmRzL2NvbXBvbmVudC1jYXJkLXVzZXInO1xuaW1wb3J0IENvbXBvbmVudFNvcnRTZWxlY3Rpb24gZnJvbSAnLi4vLi4vLi4vLi4vc2hhcmVkL3ZpZXcvY29tcG9uZW50cy9jb21wb25lbnQtc29ydC1zZWxlY3Rpb24nO1xuaW1wb3J0IENvbXBvbmVudEZpbHRlclNlbGVjdGlvbiBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9jb21wb25lbnRzL2NvbXBvbmVudC1maWx0ZXItc2VsZWN0aW9uJztcbmltcG9ydCBDb21wb25lbnRBdmF0YXJTZWxlY3RvciBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvdmlldy9jb21wb25lbnRzL2NvbXBvbmVudC1hdmF0YXItc2VsZWN0b3InO1xuaW1wb3J0IENvbXBvbmVudFVzZXJOZXcgZnJvbSAnLi4vYXBwL3VzZXIvY29tcG9uZW50LXVzZXItbmV3JztcbmltcG9ydCBicm9rZXIgZnJvbSAnZGF0YWJyb2tlcic7XG5cbmNsYXNzIFNjZW5lVXNlcnMgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy51c2VycyA9IFtdO1xuICAgICAgICB0aGlzLnNvcnRfaXRlbXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0NyZWF0ZSBEYXRlJywgdmFsdWU6ICdjcmVhdGVkX2RhdGUnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0FjY291bnQgU3RhdHVzJywgdmFsdWU6ICdhY2NvdW50X3N0YXR1cycsIHN0YXRlOiAwfSxcbiAgICAgICAgICAgICAgICAgICAge2xhYmVsOiAnTG9uZyBOYW1lJywgdmFsdWU6ICdsb25nX25hbWUnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0xhc3QgTmFtZScsIHZhbHVlOiAnbGFzdF9uYW1lJywgc3RhdGU6IDB9LFxuICAgICAgICAgICAgICAgICAgICB7bGFiZWw6ICdMYXN0IExvZ2luJywgdmFsdWU6ICdsYXN0X2xvZ2luX2RhdGUnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbDogJ0FjY291bnQnLCB2YWx1ZTogJ2FjY291bnQnLCBzdGF0ZTogMH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgdGhpcy5maWx0ZXJfaXRlbXMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUtcmFuZ2UnLCBcbiAgICAgICAgICAgICAgICBmaWx0ZXJfbmFtZTogJ2NyZWF0ZWRfZGF0ZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdDcmVhdGUgRGF0ZScsIFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoMTAwMCAqIDYwICogNjAgKiAyNCkpLFxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N3aXRjaCcsIFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnQWNjb3VudCBTdGF0dXMnLCBcbiAgICAgICAgICAgICAgICBmaWx0ZXJfbmFtZTogJ2FjY291bnRfc3RhdHVzJyxcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ1NlbGVjdCBvbmUgb3IgbW9yZSBzdGF0dXNlcycsXG4gICAgICAgICAgICAgICAgZGF0YTogW1xuICAgICAgICAgICAgICAgICAgICB7dmFsdWU6ICdhY3RpdmUnLCBsYWJlbDogJ0FjdGl2ZSd9LFxuICAgICAgICAgICAgICAgICAgICB7dmFsdWU6ICdpbmFjdGl2ZScsIGxhYmVsOiAnSW5hY3RpdmUnfSxcbiAgICAgICAgICAgICAgICAgICAge3ZhbHVlOiAnbG9ja2VkJywgbGFiZWw6ICdMb2NrZWQnfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZS1yYW5nZScsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnbGFzdF9sb2dpbl9kYXRlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xhc3QgTG9naW4gRGF0ZScsIFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoMTAwMCAqIDYwICogNjAgKiAyNCkpLFxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3IERhdGUobmV3IERhdGUoKS5nZXRUaW1lKCkgKyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnbGFzdF9uYW1lJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0xhc3QgTmFtZScsIFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJywgXG4gICAgICAgICAgICAgICAgZmlsdGVyX25hbWU6ICdmaXJzdF9uYW1lJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ0ZpcnN0IE5hbWUnLCBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsIFxuICAgICAgICAgICAgICAgIGZpbHRlcl9uYW1lOiAnYWNjb3VudCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdBY2NvdW50JywgXG4gICAgICAgICAgICB9LFxuICAgICAgICBdXG5cbiAgICAgICAgdGhpcy5zb3J0ID0gXCItY3JlYXRlZF9kYXRlXCI7XG4gICAgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHttb2RlOidvcGVuJ30pO1xuICAgICAgICB0aGlzLnRlbXBsYXRlID0gKGRhdGEpID0+IGh0bWxgXG4gICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMGYwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAjY29udGVudCB7XG4gICAgICAgICAgICAgICAgICAgIC0tcGFkZGluZy10b3A6IDF2aDtcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLWJvdHRvbTogMXZoO1xuICAgICAgICAgICAgICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDF2dztcbiAgICAgICAgICAgICAgICAgICAgLS1wYWRkaW5nLWVuZDogMXZ3O1xuICAgICAgICAgICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgI2NoZWNrYm94X3dyYXBwZXIge1xuICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgI2NoZWNrYm94X3dyYXBwZXIgZGl2IHtcbiAgICAgICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgI2NoZWNrYm94X3dyYXBwZXIgZGl2IGlvbi1jaGVja2JveCB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuXG4gICAgICAgICAgICA8aW9uLWhlYWRlcj5cbiAgICAgICAgICAgICAgICA8aW9uLXRvb2xiYXI+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tYnV0dG9ucyBzbG90PVwic3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tbWVudS10b2dnbGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwiaWNvbi1vbmx5XCIgbmFtZT1cIm1lbnVcIj48L2lvbi1pY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLW1lbnUtdG9nZ2xlPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1idXR0b25zPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLXRpdGxlIGlkPVwidGl0bGVcIj5Vc2VyczwvaW9uLXRpdGxlPlxuICAgICAgICAgICAgICAgIDwvaW9uLXRvb2xiYXI+XG4gICAgICAgICAgICA8L2lvbi1oZWFkZXI+XG4gICAgICAgICAgICA8aW9uLWNvbnRlbnQgaWQ9XCJjb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGlvbi1ncmlkPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLXJvdz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tY29sIHNpemU9XCIxMlwiIHNpemUtc209XCIxMlwiIHNpemUtbWQ9XCI2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1zZWFyY2hiYXIgZGVib3VuY2U9XCIzMDBcIiBAaW9uQ2hhbmdlPSR7KGUpPT50aGlzLmhhbmRsZVNlYXJjaGJhckNoYW5nZShlKX0gcGxhY2Vob2xkZXI9XCJTZWFyY2ggdXNlcnNcIiB0eXBlPVwidGV4dFwiPjwvaW9uLXNlYXJjaGJhcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWNvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tY29sIHNpemU9XCIxMlwiIHNpemUtc209XCIxMlwiIHNpemUtbWQ9XCI2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24gQGNsaWNrPSR7KGUpID0+IHRoaXMuc2hvd1NvcnQoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPVwib3B0aW9uc1wiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNvcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLnNvcnQgPyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWJhZGdlIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDVweDsgY29sb3I6IHllbGxvdyAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiB0ZWFsICFpbXBvcnRhbnRcIiBjb2xvcj1cIndhcm5pbmdcIiBzbG90PVwiZW5kXCI+JHt0aGlzLnNvcnQuc3BsaXQoJywnKS5sZW5ndGh9PC9pb24tYmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgIDonJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2lvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlvbi1idXR0b24gQGNsaWNrPSR7KGUpID0+IHRoaXMuc2hvd0ZpbHRlcnMoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24taWNvbiBzbG90PVwic3RhcnRcIiBuYW1lPVwiZnVubmVsXCI+PC9pb24taWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsdGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuZmlsdGVycyAmJiBPYmplY3Qua2V5cyh0aGlzLmZpbHRlcnMpLmxlbmd0aCA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpb24tYmFkZ2Ugc3R5bGU9XCJtYXJnaW4tbGVmdDogNXB4OyBjb2xvcjogeWVsbG93ICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6IHRlYWwgIWltcG9ydGFudFwiIGNvbG9yPVwid2FybmluZ1wiIHNsb3Q9XCJlbmRcIj4ke09iamVjdC5rZXlzKHRoaXMuZmlsdGVycykubGVuZ3RofTwvaW9uLWJhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCA6Jyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pb24tY29sPlxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1yb3c+XG4gICAgICAgICAgICAgICAgICAgIDxpb24tcm93PlxuICAgICAgICAgICAgICAgICAgICAke3RoaXMudXNlcnMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgICAgKHVzZXIpID0+IFxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWNvbCBzaXplPVwiMTJcIiBzaXplLXNtPVwiMTJcIiBzaXplLW1kPVwiNlwiIHNpemUtbGc9XCI2XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhcHAtY2FyZC11c2VyIC51c2VyPSR7dXNlcn0+PC9hcHAtY2FyZC11c2VyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaW9uLWNvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2lvbi1yb3c+XG4gICAgICAgICAgICAgICAgPC9pb24tZ3JpZD5cbiAgICAgICAgICAgICAgICA8aW9uLWZhYiBjb2xvcj1cImRhbmdlclwiIEBjbGljaz0keygpID0+IHt0aGlzLmhhbmRsZUFkZFVzZXIoKX19IHZlcnRpY2FsPVwiYm90dG9tXCIgaG9yaXpvbnRhbD1cImVuZFwiIHNsb3Q9XCJmaXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICA8aW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW9uLWljb24gbmFtZT1cImFkZFwiPjwvaW9uLWljb24+XG4gICAgICAgICAgICAgICAgICAgIDwvaW9uLWZhYi1idXR0b24+XG4gICAgICAgICAgICAgICAgPC9pb24tZmFiPlxuICAgICAgICAgICAgPC9pb24tY29udGVudD5cblxuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG5cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJlbmRlcih0aGlzLnRlbXBsYXRlKHt9KSwgdGhpcy5zaGFkb3dSb290KTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVTZWFyY2hiYXJDaGFuZ2UoZSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IGUuZGV0YWlsLnZhbHVlO1xuICAgICAgICBhd2FpdCB0aGlzLmdldFVzZXJzKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2hvd1NvcnQoKSB7XG4gICAgICAgIGxldCBtb2RhbF9jb250cm9sbGVyID0gd2luZG93Lm1vZGFsQ29udHJvbGxlcjtcbiAgICAgICAgbGV0IG1vZGFsID0gYXdhaXQgbW9kYWxfY29udHJvbGxlci5jcmVhdGUoe1xuICAgICAgICAgICAgY29tcG9uZW50OiAnYXBwLXNvcnQtc2VsZWN0aW9uJyxcbiAgICAgICAgICAgIGNvbXBvbmVudFByb3BzOiB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMuc29ydF9pdGVtc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbW9kYWwucHJlc2VudCgpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbW9kYWwub25EaWREaXNtaXNzKCk7XG4gICAgICAgIGlmKCFyZXN1bHQuZGF0YSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zb3J0ID0gcmVzdWx0LmRhdGEuc29ydDtcbiAgICAgICAgdGhpcy5zb3J0X2l0ZW1zID0gcmVzdWx0LmRhdGEuaXRlbXM7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0VXNlcnMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBzaG93RmlsdGVycygpIHtcbiAgICAgICAgbGV0IG1vZGFsX2NvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBsZXQgbW9kYWwgPSBhd2FpdCBtb2RhbF9jb250cm9sbGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBjb21wb25lbnQ6ICdhcHAtZmlsdGVyLXNlbGVjdGlvbicsXG4gICAgICAgICAgICBjb21wb25lbnRQcm9wczoge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiB0aGlzLmZpbHRlcl9pdGVtcyAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1vZGFsLnByZXNlbnQoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vZGFsLm9uRGlkRGlzbWlzcygpO1xuICAgICAgICBpZighcmVzdWx0LmRhdGEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuZmlsdGVycyA9IHJlc3VsdC5kYXRhLmZpbHRlcnM7XG4gICAgICAgIHRoaXMuZmlsdGVyX2l0ZW1zID0gcmVzdWx0LmRhdGEuaXRlbXM7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0VXNlcnMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRVc2VycygpIHtcbiAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgbGltaXQ6IDUwLFxuICAgICAgICAgICAgc29ydDogdGhpcy5zb3J0IHx8ICcnXG4gICAgICAgIH07XG4gICAgICAgIGlmKHRoaXMuZmlsdGVycylcbiAgICAgICAgICAgIHF1ZXJ5LmZpbHRlciA9IHRoaXMuZmlsdGVycztcblxuICAgICAgICBpZih0aGlzLnNlYXJjaCkge1xuICAgICAgICAgICAgaWYoIXF1ZXJ5LmZpbHRlcilcbiAgICAgICAgICAgICAgICBxdWVyeS5maWx0ZXIgPSB7fTtcbiAgICAgICAgICAgIHF1ZXJ5LmZpbHRlci4kdGV4dCA9IHsgJHNlYXJjaDogdGhpcy5zZWFyY2ggfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBicm9rZXIuZ2V0KCcvYXBpL3VzZXJzJywgcXVlcnkpO1xuICAgICAgICB0aGlzLnVzZXJzID0gcmVzdWx0O1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuXG4gICAgfVxuICAgIFxuICAgIGFzeW5jIHByb21wdE5ld1VzZXIoKSB7XG4gICAgICAgIGxldCBtb2RhbENvbnRyb2xsZXIgPSB3aW5kb3cubW9kYWxDb250cm9sbGVyO1xuICAgICAgICBsZXQgbW9kYWwgPSBhd2FpdCBtb2RhbENvbnRyb2xsZXIuY3JlYXRlKHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogJ2FwcC11c2VyLW5ldydcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IG1vZGFsLnByZXNlbnQoKTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1vZGFsLm9uRGlkRGlzbWlzcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGhhbmRsZUFkZFVzZXIoKSB7XG4gICAgICAgIGxldCBuZXdfdXNlciA9IGF3YWl0IHRoaXMucHJvbXB0TmV3VXNlcigpO1xuICAgICAgICBpZighbmV3X3VzZXIpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IGNyZWF0ZWRfdXNlcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNyZWF0ZWRfdXNlciA9IGF3YWl0IGJyb2tlci5wb3N0KCcvYXBpL3VzZXJzJywgbmV3X3VzZXIsIHtqc29uOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZXJyKSB7XG4gICAgICAgICAgICBhbGVydChgRXJyb3IgYWRkaW5nIHVzZXI6ICR7ZXJyfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9yZWRpcmVjdCB0byB0aGUgY3JlYXRlZCB1c2VyXG4gICAgICAgIGxldCByb3V0ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJyk7XG4gICAgICAgIHJvdXRlci5wdXNoKGAvdXNlcnMvJHtjcmVhdGVkX3VzZXIuX2lkfWApO1xuXG4gICAgfVxuXG5cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2NlbmUtdXNlcnMnLCBTY2VuZVVzZXJzKTtcbmV4cG9ydCBkZWZhdWx0IFNjZW5lVXNlcnM7IiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovXG52YXIgX2EsIF9iLCBfYywgX2Q7XG5jb25zdCBERVZfTU9ERSA9IHRydWU7XG5jb25zdCBFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MgPSB0cnVlO1xuY29uc3QgRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggPSB0cnVlO1xuLyoqXG4gKiBgdHJ1ZWAgaWYgd2UncmUgYnVpbGRpbmcgZm9yIGdvb2dsZTMgd2l0aCB0ZW1wb3JhcnkgYmFjay1jb21wYXQgaGVscGVycy5cbiAqIFRoaXMgZXhwb3J0IGlzIG5vdCBwcmVzZW50IGluIHByb2QgYnVpbGRzLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJTlRFUk5BTCA9IHRydWU7XG5sZXQgaXNzdWVXYXJuaW5nO1xuaWYgKERFVl9NT0RFKSB7XG4gICAgKF9hID0gZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKGdsb2JhbFRoaXMubGl0SXNzdWVkV2FybmluZ3MgPSBuZXcgU2V0KCkpO1xuICAgIC8vIElzc3VlIGEgd2FybmluZywgaWYgd2UgaGF2ZW4ndCBhbHJlYWR5LlxuICAgIGlzc3VlV2FybmluZyA9IChjb2RlLCB3YXJuaW5nKSA9PiB7XG4gICAgICAgIHdhcm5pbmcgKz0gY29kZVxuICAgICAgICAgICAgPyBgIFNlZSBodHRwczovL2xpdC5kZXYvbXNnLyR7Y29kZX0gZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICAgICAgICAgICAgOiAnJztcbiAgICAgICAgaWYgKCFnbG9iYWxUaGlzLmxpdElzc3VlZFdhcm5pbmdzLmhhcyh3YXJuaW5nKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmcpO1xuICAgICAgICAgICAgZ2xvYmFsVGhpcy5saXRJc3N1ZWRXYXJuaW5ncy5hZGQod2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlzc3VlV2FybmluZygnZGV2LW1vZGUnLCBgTGl0IGlzIGluIGRldiBtb2RlLiBOb3QgcmVjb21tZW5kZWQgZm9yIHByb2R1Y3Rpb24hYCk7XG59XG5jb25zdCB3cmFwID0gRU5BQkxFX1NIQURZRE9NX05PUEFUQ0ggJiZcbiAgICAoKF9iID0gd2luZG93LlNoYWR5RE9NKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaW5Vc2UpICYmXG4gICAgKChfYyA9IHdpbmRvdy5TaGFkeURPTSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm5vUGF0Y2gpID09PSB0cnVlXG4gICAgPyB3aW5kb3cuU2hhZHlET00ud3JhcFxuICAgIDogKG5vZGUpID0+IG5vZGU7XG5jb25zdCB0cnVzdGVkVHlwZXMgPSBnbG9iYWxUaGlzLnRydXN0ZWRUeXBlcztcbi8qKlxuICogT3VyIFRydXN0ZWRUeXBlUG9saWN5IGZvciBIVE1MIHdoaWNoIGlzIGRlY2xhcmVkIHVzaW5nIHRoZSBodG1sIHRlbXBsYXRlXG4gKiB0YWcgZnVuY3Rpb24uXG4gKlxuICogVGhhdCBIVE1MIGlzIGEgZGV2ZWxvcGVyLWF1dGhvcmVkIGNvbnN0YW50LCBhbmQgaXMgcGFyc2VkIHdpdGggaW5uZXJIVE1MXG4gKiBiZWZvcmUgYW55IHVudHJ1c3RlZCBleHByZXNzaW9ucyBoYXZlIGJlZW4gbWl4ZWQgaW4uIFRoZXJlZm9yIGl0IGlzXG4gKiBjb25zaWRlcmVkIHNhZmUgYnkgY29uc3RydWN0aW9uLlxuICovXG5jb25zdCBwb2xpY3kgPSB0cnVzdGVkVHlwZXNcbiAgICA/IHRydXN0ZWRUeXBlcy5jcmVhdGVQb2xpY3koJ2xpdC1odG1sJywge1xuICAgICAgICBjcmVhdGVIVE1MOiAocykgPT4gcyxcbiAgICB9KVxuICAgIDogdW5kZWZpbmVkO1xuY29uc3QgaWRlbnRpdHlGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBub29wU2FuaXRpemVyID0gKF9ub2RlLCBfbmFtZSwgX3R5cGUpID0+IGlkZW50aXR5RnVuY3Rpb247XG4vKiogU2V0cyB0aGUgZ2xvYmFsIHNhbml0aXplciBmYWN0b3J5LiAqL1xuY29uc3Qgc2V0U2FuaXRpemVyID0gKG5ld1Nhbml0aXplcikgPT4ge1xuICAgIGlmICghRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCAhPT0gbm9vcFNhbml0aXplcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHRlZCB0byBvdmVyd3JpdGUgZXhpc3RpbmcgbGl0LWh0bWwgc2VjdXJpdHkgcG9saWN5LmAgK1xuICAgICAgICAgICAgYCBzZXRTYW5pdGl6ZURPTVZhbHVlRmFjdG9yeSBzaG91bGQgYmUgY2FsbGVkIGF0IG1vc3Qgb25jZS5gKTtcbiAgICB9XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbmV3U2FuaXRpemVyO1xufTtcbi8qKlxuICogT25seSB1c2VkIGluIGludGVybmFsIHRlc3RzLCBub3QgYSBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICovXG5jb25zdCBfdGVzdE9ubHlDbGVhclNhbml0aXplckZhY3RvcnlEb05vdENhbGxPckVsc2UgPSAoKSA9PiB7XG4gICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsID0gbm9vcFNhbml0aXplcjtcbn07XG5jb25zdCBjcmVhdGVTYW5pdGl6ZXIgPSAobm9kZSwgbmFtZSwgdHlwZSkgPT4ge1xuICAgIHJldHVybiBzYW5pdGl6ZXJGYWN0b3J5SW50ZXJuYWwobm9kZSwgbmFtZSwgdHlwZSk7XG59O1xuLy8gQWRkZWQgdG8gYW4gYXR0cmlidXRlIG5hbWUgdG8gbWFyayB0aGUgYXR0cmlidXRlIGFzIGJvdW5kIHNvIHdlIGNhbiBmaW5kXG4vLyBpdCBlYXNpbHkuXG5jb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vLyBUaGlzIG1hcmtlciBpcyB1c2VkIGluIG1hbnkgc3ludGFjdGljIHBvc2l0aW9ucyBpbiBIVE1MLCBzbyBpdCBtdXN0IGJlXG4vLyBhIHZhbGlkIGVsZW1lbnQgbmFtZSBhbmQgYXR0cmlidXRlIG5hbWUuIFdlIGRvbid0IHN1cHBvcnQgZHluYW1pYyBuYW1lcyAoeWV0KVxuLy8gYnV0IHRoaXMgYXQgbGVhc3QgZW5zdXJlcyB0aGF0IHRoZSBwYXJzZSB0cmVlIGlzIGNsb3NlciB0byB0aGUgdGVtcGxhdGVcbi8vIGludGVudGlvbi5cbmNvbnN0IG1hcmtlciA9IGBsaXQkJHtTdHJpbmcoTWF0aC5yYW5kb20oKSkuc2xpY2UoOSl9JGA7XG4vLyBTdHJpbmcgdXNlZCB0byB0ZWxsIGlmIGEgY29tbWVudCBpcyBhIG1hcmtlciBjb21tZW50XG5jb25zdCBtYXJrZXJNYXRjaCA9ICc/JyArIG1hcmtlcjtcbi8vIFRleHQgdXNlZCB0byBpbnNlcnQgYSBjb21tZW50IG1hcmtlciBub2RlLiBXZSB1c2UgcHJvY2Vzc2luZyBpbnN0cnVjdGlvblxuLy8gc3ludGF4IGJlY2F1c2UgaXQncyBzbGlnaHRseSBzbWFsbGVyLCBidXQgcGFyc2VzIGFzIGEgY29tbWVudCBub2RlLlxuY29uc3Qgbm9kZU1hcmtlciA9IGA8JHttYXJrZXJNYXRjaH0+YDtcbmNvbnN0IGQgPSBkb2N1bWVudDtcbi8vIENyZWF0ZXMgYSBkeW5hbWljIG1hcmtlci4gV2UgbmV2ZXIgaGF2ZSB0byBzZWFyY2ggZm9yIHRoZXNlIGluIHRoZSBET00uXG5jb25zdCBjcmVhdGVNYXJrZXIgPSAodiA9ICcnKSA9PiBkLmNyZWF0ZUNvbW1lbnQodik7XG5jb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IG51bGwgfHwgKHR5cGVvZiB2YWx1ZSAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUgIT0gJ2Z1bmN0aW9uJyk7XG5jb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbmNvbnN0IGlzSXRlcmFibGUgPSAodmFsdWUpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHR5cGVvZiAoKF9hID0gdmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtTeW1ib2wuaXRlcmF0b3JdKSA9PT0gJ2Z1bmN0aW9uJztcbn07XG5jb25zdCBTUEFDRV9DSEFSID0gYFsgXFx0XFxuXFxmXFxyXWA7XG5jb25zdCBBVFRSX1ZBTFVFX0NIQVIgPSBgW14gXFx0XFxuXFxmXFxyXCInXFxgPD49XWA7XG5jb25zdCBOQU1FX0NIQVIgPSBgW15cXFxcc1wiJz49L11gO1xuLy8gVGhlc2UgcmVnZXhlcyByZXByZXNlbnQgdGhlIGZpdmUgcGFyc2luZyBzdGF0ZXMgdGhhdCB3ZSBjYXJlIGFib3V0IGluIHRoZVxuLy8gVGVtcGxhdGUncyBIVE1MIHNjYW5uZXIuIFRoZXkgbWF0Y2ggdGhlICplbmQqIG9mIHRoZSBzdGF0ZSB0aGV5J3JlIG5hbWVkXG4vLyBhZnRlci5cbi8vIERlcGVuZGluZyBvbiB0aGUgbWF0Y2gsIHdlIHRyYW5zaXRpb24gdG8gYSBuZXcgc3RhdGUuIElmIHRoZXJlJ3Mgbm8gbWF0Y2gsXG4vLyB3ZSBzdGF5IGluIHRoZSBzYW1lIHN0YXRlLlxuLy8gTm90ZSB0aGF0IHRoZSByZWdleGVzIGFyZSBzdGF0ZWZ1bC4gV2UgdXRpbGl6ZSBsYXN0SW5kZXggYW5kIHN5bmMgaXRcbi8vIGFjcm9zcyB0aGUgbXVsdGlwbGUgcmVnZXhlcyB1c2VkLiBJbiBhZGRpdGlvbiB0byB0aGUgZml2ZSByZWdleGVzIGJlbG93XG4vLyB3ZSBhbHNvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhIHJlZ2V4IHRvIGZpbmQgdGhlIG1hdGNoaW5nIGVuZCB0YWdzIGZvciByYXdcbi8vIHRleHQgZWxlbWVudHMuXG4vKipcbiAqIEVuZCBvZiB0ZXh0IGlzOiBgPGAgZm9sbG93ZWQgYnk6XG4gKiAgIChjb21tZW50IHN0YXJ0KSBvciAodGFnKSBvciAoZHluYW1pYyB0YWcgYmluZGluZylcbiAqL1xuY29uc3QgdGV4dEVuZFJlZ2V4ID0gLzwoPzooIS0tfFxcL1teYS16QS1aXSl8KFxcLz9bYS16QS1aXVtePlxcc10qKXwoXFwvPyQpKS9nO1xuY29uc3QgQ09NTUVOVF9TVEFSVCA9IDE7XG5jb25zdCBUQUdfTkFNRSA9IDI7XG5jb25zdCBEWU5BTUlDX1RBR19OQU1FID0gMztcbmNvbnN0IGNvbW1lbnRFbmRSZWdleCA9IC8tLT4vZztcbi8qKlxuICogQ29tbWVudHMgbm90IHN0YXJ0ZWQgd2l0aCA8IS0tLCBsaWtlIDwveywgY2FuIGJlIGVuZGVkIGJ5IGEgc2luZ2xlIGA+YFxuICovXG5jb25zdCBjb21tZW50MkVuZFJlZ2V4ID0gLz4vZztcbi8qKlxuICogVGhlIHRhZ0VuZCByZWdleCBtYXRjaGVzIHRoZSBlbmQgb2YgdGhlIFwiaW5zaWRlIGFuIG9wZW5pbmdcIiB0YWcgc3ludGF4XG4gKiBwb3NpdGlvbi4gSXQgZWl0aGVyIG1hdGNoZXMgYSBgPmAsIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlLCBvciB0aGUgZW5kXG4gKiBvZiB0aGUgc3RyaW5nIGFmdGVyIGEgc3BhY2UgKGF0dHJpYnV0ZS1uYW1lIHBvc2l0aW9uIGVuZGluZykuXG4gKlxuICogU2VlIGF0dHJpYnV0ZXMgaW4gdGhlIEhUTUwgc3BlYzpcbiAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNS9zeW50YXguaHRtbCNlbGVtZW50cy1hdHRyaWJ1dGVzXG4gKlxuICogXCIgXFx0XFxuXFxmXFxyXCIgYXJlIEhUTUwgc3BhY2UgY2hhcmFjdGVyczpcbiAqIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNhc2NpaS13aGl0ZXNwYWNlXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgd2hpdGVzcGFjZSBjaGFyYWN0ZXIsIChcIiksICgnKSwgXCI+XCIsXG4gKiAgICBcIj1cIiwgb3IgXCIvXCIuIE5vdGU6IHRoaXMgaXMgZGlmZmVyZW50IGZyb20gdGhlIEhUTUwgc3BlYyB3aGljaCBhbHNvIGV4Y2x1ZGVzIGNvbnRyb2wgY2hhcmFjdGVycy5cbiAqICAqIEZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBzcGFjZSBjaGFyYWN0ZXJzXG4gKiAgKiBGb2xsb3dlZCBieSBcIj1cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5OlxuICogICAgKiBBbnkgY2hhcmFjdGVyIGV4Y2VwdCBzcGFjZSwgKCcpLCAoXCIpLCBcIjxcIiwgXCI+XCIsIFwiPVwiLCAoYCksIG9yXG4gKiAgICAqIChcIikgdGhlbiBhbnkgbm9uLShcIiksIG9yXG4gKiAgICAqICgnKSB0aGVuIGFueSBub24tKCcpXG4gKi9cbmNvbnN0IHRhZ0VuZFJlZ2V4ID0gbmV3IFJlZ0V4cChgPnwke1NQQUNFX0NIQVJ9KD86KCR7TkFNRV9DSEFSfSspKCR7U1BBQ0VfQ0hBUn0qPSR7U1BBQ0VfQ0hBUn0qKD86JHtBVFRSX1ZBTFVFX0NIQVJ9fChcInwnKXwpKXwkKWAsICdnJyk7XG5jb25zdCBFTlRJUkVfTUFUQ0ggPSAwO1xuY29uc3QgQVRUUklCVVRFX05BTUUgPSAxO1xuY29uc3QgU1BBQ0VTX0FORF9FUVVBTFMgPSAyO1xuY29uc3QgUVVPVEVfQ0hBUiA9IDM7XG5jb25zdCBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCA9IC8nL2c7XG5jb25zdCBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCA9IC9cIi9nO1xuLyoqXG4gKiBNYXRjaGVzIHRoZSByYXcgdGV4dCBlbGVtZW50cy5cbiAqXG4gKiBDb21tZW50cyBhcmUgbm90IHBhcnNlZCB3aXRoaW4gcmF3IHRleHQgZWxlbWVudHMsIHNvIHdlIG5lZWQgdG8gc2VhcmNoIHRoZWlyXG4gKiB0ZXh0IGNvbnRlbnQgZm9yIG1hcmtlciBzdHJpbmdzLlxuICovXG5jb25zdCByYXdUZXh0RWxlbWVudCA9IC9eKD86c2NyaXB0fHN0eWxlfHRleHRhcmVhKSQvaTtcbi8qKiBUZW1wbGF0ZVJlc3VsdCB0eXBlcyAqL1xuY29uc3QgSFRNTF9SRVNVTFQgPSAxO1xuY29uc3QgU1ZHX1JFU1VMVCA9IDI7XG4vLyBUZW1wbGF0ZVBhcnQgdHlwZXNcbi8vIElNUE9SVEFOVDogdGhlc2UgbXVzdCBtYXRjaCB0aGUgdmFsdWVzIGluIFBhcnRUeXBlXG5jb25zdCBBVFRSSUJVVEVfUEFSVCA9IDE7XG5jb25zdCBDSElMRF9QQVJUID0gMjtcbmNvbnN0IFBST1BFUlRZX1BBUlQgPSAzO1xuY29uc3QgQk9PTEVBTl9BVFRSSUJVVEVfUEFSVCA9IDQ7XG5jb25zdCBFVkVOVF9QQVJUID0gNTtcbmNvbnN0IEVMRU1FTlRfUEFSVCA9IDY7XG5jb25zdCBDT01NRU5UX1BBUlQgPSA3O1xuLyoqXG4gKiBHZW5lcmF0ZXMgYSB0ZW1wbGF0ZSBsaXRlcmFsIHRhZyBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBUZW1wbGF0ZVJlc3VsdCB3aXRoXG4gKiB0aGUgZ2l2ZW4gcmVzdWx0IHR5cGUuXG4gKi9cbmNvbnN0IHRhZyA9ICh0eXBlKSA9PiAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiB7XG4gICAgLy8gV2FybiBhZ2FpbnN0IHRlbXBsYXRlcyBvY3RhbCBlc2NhcGUgc2VxdWVuY2VzXG4gICAgLy8gV2UgZG8gdGhpcyBoZXJlIHJhdGhlciB0aGFuIGluIHJlbmRlciBzbyB0aGF0IHRoZSB3YXJuaW5nIGlzIGNsb3NlciB0byB0aGVcbiAgICAvLyB0ZW1wbGF0ZSBkZWZpbml0aW9uLlxuICAgIGlmIChERVZfTU9ERSAmJiBzdHJpbmdzLnNvbWUoKHMpID0+IHMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdTb21lIHRlbXBsYXRlIHN0cmluZ3MgYXJlIHVuZGVmaW5lZC5cXG4nICtcbiAgICAgICAgICAgICdUaGlzIGlzIHByb2JhYmx5IGNhdXNlZCBieSBpbGxlZ2FsIG9jdGFsIGVzY2FwZSBzZXF1ZW5jZXMuJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIFsnXyRsaXRUeXBlJCddOiB0eXBlLFxuICAgICAgICBzdHJpbmdzLFxuICAgICAgICB2YWx1ZXMsXG4gICAgfTtcbn07XG4vKipcbiAqIEludGVycHJldHMgYSB0ZW1wbGF0ZSBsaXRlcmFsIGFzIGFuIEhUTUwgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICpcbiAqIGBgYHRzXG4gKiBjb25zdCBoZWFkZXIgPSAodGl0bGU6IHN0cmluZykgPT4gaHRtbGA8aDE+JHt0aXRsZX08L2gxPmA7XG4gKiBgYGBcbiAqXG4gKiBUaGUgYGh0bWxgIHRhZyByZXR1cm5zIGEgZGVzY3JpcHRpb24gb2YgdGhlIERPTSB0byByZW5kZXIgYXMgYSB2YWx1ZS4gSXQgaXNcbiAqIGxhenksIG1lYW5pbmcgbm8gd29yayBpcyBkb25lIHVudGlsIHRoZSB0ZW1wbGF0ZSBpcyByZW5kZXJlZC4gV2hlbiByZW5kZXJpbmcsXG4gKiBpZiBhIHRlbXBsYXRlIGNvbWVzIGZyb20gdGhlIHNhbWUgZXhwcmVzc2lvbiBhcyBhIHByZXZpb3VzbHkgcmVuZGVyZWQgcmVzdWx0LFxuICogaXQncyBlZmZpY2llbnRseSB1cGRhdGVkIGluc3RlYWQgb2YgcmVwbGFjZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gdGFnKEhUTUxfUkVTVUxUKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gU1ZHIHRlbXBsYXRlIHRoYXQgY2FuIGVmZmljaWVudGx5XG4gKiByZW5kZXIgdG8gYW5kIHVwZGF0ZSBhIGNvbnRhaW5lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHN2ZyA9IHRhZyhTVkdfUkVTVUxUKTtcbi8qKlxuICogQSBzZW50aW5lbCB2YWx1ZSB0aGF0IHNpZ25hbHMgdGhhdCBhIHZhbHVlIHdhcyBoYW5kbGVkIGJ5IGEgZGlyZWN0aXZlIGFuZFxuICogc2hvdWxkIG5vdCBiZSB3cml0dGVuIHRvIHRoZSBET00uXG4gKi9cbmV4cG9ydCBjb25zdCBub0NoYW5nZSA9IFN5bWJvbC5mb3IoJ2xpdC1ub0NoYW5nZScpO1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyBhIENoaWxkUGFydCB0byBmdWxseSBjbGVhciBpdHMgY29udGVudC5cbiAqXG4gKiBgYGB0c1xuICogY29uc3QgYnV0dG9uID0gaHRtbGAke1xuICogIHVzZXIuaXNBZG1pblxuICogICAgPyBodG1sYDxidXR0b24+REVMRVRFPC9idXR0b24+YFxuICogICAgOiBub3RoaW5nXG4gKiB9YDtcbiAqIGBgYFxuICpcbiAqIFByZWZlciB1c2luZyBgbm90aGluZ2Agb3ZlciBvdGhlciBmYWxzeSB2YWx1ZXMgYXMgaXQgcHJvdmlkZXMgYSBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBiZXR3ZWVuIHZhcmlvdXMgZXhwcmVzc2lvbiBiaW5kaW5nIGNvbnRleHRzLlxuICpcbiAqIEluIGNoaWxkIGV4cHJlc3Npb25zLCBgdW5kZWZpbmVkYCwgYG51bGxgLCBgJydgLCBhbmQgYG5vdGhpbmdgIGFsbCBiZWhhdmUgdGhlXG4gKiBzYW1lIGFuZCByZW5kZXIgbm8gbm9kZXMuIEluIGF0dHJpYnV0ZSBleHByZXNzaW9ucywgYG5vdGhpbmdgIF9yZW1vdmVzXyB0aGVcbiAqIGF0dHJpYnV0ZSwgd2hpbGUgYHVuZGVmaW5lZGAgYW5kIGBudWxsYCB3aWxsIHJlbmRlciBhbiBlbXB0eSBzdHJpbmcuIEluXG4gKiBwcm9wZXJ0eSBleHByZXNzaW9ucyBgbm90aGluZ2AgYmVjb21lcyBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdGhpbmcgPSBTeW1ib2wuZm9yKCdsaXQtbm90aGluZycpO1xuLyoqXG4gKiBUaGUgY2FjaGUgb2YgcHJlcGFyZWQgdGVtcGxhdGVzLCBrZXllZCBieSB0aGUgdGFnZ2VkIFRlbXBsYXRlU3RyaW5nc0FycmF5XG4gKiBhbmQgX25vdF8gYWNjb3VudGluZyBmb3IgdGhlIHNwZWNpZmljIHRlbXBsYXRlIHRhZyB1c2VkLiBUaGlzIG1lYW5zIHRoYXRcbiAqIHRlbXBsYXRlIHRhZ3MgY2Fubm90IGJlIGR5bmFtaWMgLSB0aGUgbXVzdCBzdGF0aWNhbGx5IGJlIG9uZSBvZiBodG1sLCBzdmcsXG4gKiBvciBhdHRyLiBUaGlzIHJlc3RyaWN0aW9uIHNpbXBsaWZpZXMgdGhlIGNhY2hlIGxvb2t1cCwgd2hpY2ggaXMgb24gdGhlIGhvdFxuICogcGF0aCBmb3IgcmVuZGVyaW5nLlxuICovXG5jb25zdCB0ZW1wbGF0ZUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmVuZGVycyBhIHZhbHVlLCB1c3VhbGx5IGEgbGl0LWh0bWwgVGVtcGxhdGVSZXN1bHQsIHRvIHRoZSBjb250YWluZXIuXG4gKiBAcGFyYW0gdmFsdWVcbiAqIEBwYXJhbSBjb250YWluZXJcbiAqIEBwYXJhbSBvcHRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAodmFsdWUsIGNvbnRhaW5lciwgb3B0aW9ucykgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHBhcnRPd25lck5vZGUgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVuZGVyQmVmb3JlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb250YWluZXI7XG4gICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBwYXJ0ID0gcGFydE93bmVyTm9kZVsnXyRsaXRQYXJ0JCddO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZW5kTm9kZSA9IChfYiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZW5kZXJCZWZvcmUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgICAgIC8vIEludGVybmFsIG1vZGlmaWNhdGlvbjogZG9uJ3QgY2xlYXIgY29udGFpbmVyIHRvIG1hdGNoIGxpdC1odG1sIDIuMFxuICAgICAgICBpZiAoSU5URVJOQUwgJiZcbiAgICAgICAgICAgICgoX2MgPSBvcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2xlYXJDb250YWluZXJGb3JMaXQyTWlncmF0aW9uT25seSkgPT09XG4gICAgICAgICAgICAgICAgdHJ1ZSkge1xuICAgICAgICAgICAgbGV0IG4gPSBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIC8vIENsZWFyIG9ubHkgdXAgdG8gdGhlIGBlbmROb2RlYCBha2EgYHJlbmRlckJlZm9yZWAgbm9kZS5cbiAgICAgICAgICAgIHdoaWxlIChuICYmIG4gIT09IGVuZE5vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gbi5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBuLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIG4gPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHBhcnRPd25lck5vZGVbJ18kbGl0UGFydCQnXSA9IHBhcnQgPSBuZXcgQ2hpbGRQYXJ0KGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIGVuZE5vZGUpLCBlbmROb2RlLCB1bmRlZmluZWQsIG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgcGFydC5fJHNldFZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4gcGFydDtcbn07XG5pZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgcmVuZGVyLnNldFNhbml0aXplciA9IHNldFNhbml0aXplcjtcbiAgICByZW5kZXIuY3JlYXRlU2FuaXRpemVyID0gY3JlYXRlU2FuaXRpemVyO1xuICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICByZW5kZXIuX3Rlc3RPbmx5Q2xlYXJTYW5pdGl6ZXJGYWN0b3J5RG9Ob3RDYWxsT3JFbHNlID1cbiAgICAgICAgICAgIF90ZXN0T25seUNsZWFyU2FuaXRpemVyRmFjdG9yeURvTm90Q2FsbE9yRWxzZTtcbiAgICB9XG59XG5jb25zdCB3YWxrZXIgPSBkLmNyZWF0ZVRyZWVXYWxrZXIoZCwgMTI5IC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfSAqLywgbnVsbCwgZmFsc2UpO1xubGV0IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCA9IG5vb3BTYW5pdGl6ZXI7XG4vKipcbiAqIFJldHVybnMgYW4gSFRNTCBzdHJpbmcgZm9yIHRoZSBnaXZlbiBUZW1wbGF0ZVN0cmluZ3NBcnJheSBhbmQgcmVzdWx0IHR5cGVcbiAqIChIVE1MIG9yIFNWRyksIGFsb25nIHdpdGggdGhlIGNhc2Utc2Vuc2l0aXZlIGJvdW5kIGF0dHJpYnV0ZSBuYW1lcyBpblxuICogdGVtcGxhdGUgb3JkZXIuIFRoZSBIVE1MIGNvbnRhaW5zIGNvbW1lbnQgY29tbWVudCBtYXJrZXJzIGRlbm90aW5nIHRoZVxuICogYENoaWxkUGFydGBzIGFuZCBzdWZmaXhlcyBvbiBib3VuZCBhdHRyaWJ1dGVzIGRlbm90aW5nIHRoZSBgQXR0cmlidXRlUGFydHNgLlxuICpcbiAqIEBwYXJhbSBzdHJpbmdzIHRlbXBsYXRlIHN0cmluZ3MgYXJyYXlcbiAqIEBwYXJhbSB0eXBlIEhUTUwgb3IgU1ZHXG4gKiBAcmV0dXJuIEFycmF5IGNvbnRhaW5pbmcgYFtodG1sLCBhdHRyTmFtZXNdYCAoYXJyYXkgcmV0dXJuZWQgZm9yIHRlcnNlbmVzcyxcbiAqICAgICB0byBhdm9pZCBvYmplY3QgZmllbGRzIHNpbmNlIHRoaXMgY29kZSBpcyBzaGFyZWQgd2l0aCBub24tbWluaWZpZWQgU1NSXG4gKiAgICAgY29kZSlcbiAqL1xuY29uc3QgZ2V0VGVtcGxhdGVIdG1sID0gKHN0cmluZ3MsIHR5cGUpID0+IHtcbiAgICAvLyBJbnNlcnQgbWFrZXJzIGludG8gdGhlIHRlbXBsYXRlIEhUTUwgdG8gcmVwcmVzZW50IHRoZSBwb3NpdGlvbiBvZlxuICAgIC8vIGJpbmRpbmdzLiBUaGUgZm9sbG93aW5nIGNvZGUgc2NhbnMgdGhlIHRlbXBsYXRlIHN0cmluZ3MgdG8gZGV0ZXJtaW5lIHRoZVxuICAgIC8vIHN5bnRhY3RpYyBwb3NpdGlvbiBvZiB0aGUgYmluZGluZ3MuIFRoZXkgY2FuIGJlIGluIHRleHQgcG9zaXRpb24sIHdoZXJlXG4gICAgLy8gd2UgaW5zZXJ0IGFuIEhUTUwgY29tbWVudCwgYXR0cmlidXRlIHZhbHVlIHBvc2l0aW9uLCB3aGVyZSB3ZSBpbnNlcnQgYVxuICAgIC8vIHNlbnRpbmVsIHN0cmluZyBhbmQgcmUtd3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLCBvciBpbnNpZGUgYSB0YWcgd2hlcmVcbiAgICAvLyB3ZSBpbnNlcnQgdGhlIHNlbnRpbmVsIHN0cmluZy5cbiAgICBjb25zdCBsID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgIC8vIFN0b3JlcyB0aGUgY2FzZS1zZW5zaXRpdmUgYm91bmQgYXR0cmlidXRlIG5hbWVzIGluIHRoZSBvcmRlciBvZiB0aGVpclxuICAgIC8vIHBhcnRzLiBFbGVtZW50UGFydHMgYXJlIGFsc28gcmVmbGVjdGVkIGluIHRoaXMgYXJyYXkgYXMgdW5kZWZpbmVkXG4gICAgLy8gcmF0aGVyIHRoYW4gYSBzdHJpbmcsIHRvIGRpc2FtYmlndWF0ZSBmcm9tIGF0dHJpYnV0ZSBiaW5kaW5ncy5cbiAgICBjb25zdCBhdHRyTmFtZXMgPSBbXTtcbiAgICBsZXQgaHRtbCA9IHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPHN2Zz4nIDogJyc7XG4gICAgLy8gV2hlbiB3ZSdyZSBpbnNpZGUgYSByYXcgdGV4dCB0YWcgKG5vdCBpdCdzIHRleHQgY29udGVudCksIHRoZSByZWdleFxuICAgIC8vIHdpbGwgc3RpbGwgYmUgdGFnUmVnZXggc28gd2UgY2FuIGZpbmQgYXR0cmlidXRlcywgYnV0IHdpbGwgc3dpdGNoIHRvXG4gICAgLy8gdGhpcyByZWdleCB3aGVuIHRoZSB0YWcgZW5kcy5cbiAgICBsZXQgcmF3VGV4dEVuZFJlZ2V4O1xuICAgIC8vIFRoZSBjdXJyZW50IHBhcnNpbmcgc3RhdGUsIHJlcHJlc2VudGVkIGFzIGEgcmVmZXJlbmNlIHRvIG9uZSBvZiB0aGVcbiAgICAvLyByZWdleGVzXG4gICAgbGV0IHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSBzdHJpbmdzW2ldO1xuICAgICAgICAvLyBUaGUgaW5kZXggb2YgdGhlIGVuZCBvZiB0aGUgbGFzdCBhdHRyaWJ1dGUgbmFtZS4gV2hlbiB0aGlzIGlzXG4gICAgICAgIC8vIHBvc2l0aXZlIGF0IGVuZCBvZiBhIHN0cmluZywgaXQgbWVhbnMgd2UncmUgaW4gYW4gYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIC8vIHBvc2l0aW9uIGFuZCBuZWVkIHRvIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAvLyBXZSBhbHNvIHVzZSBhIHNwZWNpYWwgdmFsdWUgb2YgLTIgdG8gaW5kaWNhdGUgdGhhdCB3ZSBlbmNvdW50ZXJlZFxuICAgICAgICAvLyB0aGUgZW5kIG9mIGEgc3RyaW5nIGluIGF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uLlxuICAgICAgICBsZXQgYXR0ck5hbWVFbmRJbmRleCA9IC0xO1xuICAgICAgICBsZXQgYXR0ck5hbWU7XG4gICAgICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgIC8vIFRoZSBjb25kaXRpb25zIGluIHRoaXMgbG9vcCBoYW5kbGUgdGhlIGN1cnJlbnQgcGFyc2Ugc3RhdGUsIGFuZCB0aGVcbiAgICAgICAgLy8gYXNzaWdubWVudHMgdG8gdGhlIGByZWdleGAgdmFyaWFibGUgYXJlIHRoZSBzdGF0ZSB0cmFuc2l0aW9ucy5cbiAgICAgICAgd2hpbGUgKGxhc3RJbmRleCA8IHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2Ugc3RhcnQgc2VhcmNoaW5nIGZyb20gd2hlcmUgd2UgcHJldmlvdXNseSBsZWZ0IG9mZlxuICAgICAgICAgICAgcmVnZXgubGFzdEluZGV4ID0gbGFzdEluZGV4O1xuICAgICAgICAgICAgbWF0Y2ggPSByZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0SW5kZXggPSByZWdleC5sYXN0SW5kZXg7XG4gICAgICAgICAgICBpZiAocmVnZXggPT09IHRleHRFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFtDT01NRU5UX1NUQVJUXSA9PT0gJyEtLScpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSBjb21tZW50RW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0NPTU1FTlRfU1RBUlRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc3RhcnRlZCBhIHdlaXJkIGNvbW1lbnQsIGxpa2UgPC97XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gY29tbWVudDJFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbVEFHX05BTUVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3QobWF0Y2hbVEFHX05BTUVdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVjb3JkIGlmIHdlIGVuY291bnRlciBhIHJhdy10ZXh0IGVsZW1lbnQuIFdlJ2xsIHN3aXRjaCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyByZWdleCBhdCB0aGUgZW5kIG9mIHRoZSB0YWcuXG4gICAgICAgICAgICAgICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSBuZXcgUmVnRXhwKGA8LyR7bWF0Y2hbVEFHX05BTUVdfWAsICdnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobWF0Y2hbRFlOQU1JQ19UQUdfTkFNRV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQmluZGluZ3MgaW4gdGFnIG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIHN0YXRpYyB0ZW1wbGF0ZXMgaW5zdGVhZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZSBodHRwczovL2xpdC5kZXYvZG9jcy90ZW1wbGF0ZXMvZXhwcmVzc2lvbnMvI3N0YXRpYy1leHByZXNzaW9ucycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGFnRW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IHRhZ0VuZFJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoW0VOVElSRV9NQVRDSF0gPT09ICc+Jykge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgb2YgYSB0YWcuIElmIHdlIGhhZCBzdGFydGVkIGEgcmF3LXRleHQgZWxlbWVudCwgdXNlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVnZXhcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSByYXdUZXh0RW5kUmVnZXggIT09IG51bGwgJiYgcmF3VGV4dEVuZFJlZ2V4ICE9PSB2b2lkIDAgPyByYXdUZXh0RW5kUmVnZXggOiB0ZXh0RW5kUmVnZXg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIG1heSBiZSBlbmRpbmcgYW4gdW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlLCBzbyBtYWtlIHN1cmUgd2VcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXIgYW55IHBlbmRpbmcgYXR0ck5hbWVFbmRJbmRleFxuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZUVuZEluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoW0FUVFJJQlVURV9OQU1FXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZSBuYW1lIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJOYW1lRW5kSW5kZXggPSByZWdleC5sYXN0SW5kZXggLSBtYXRjaFtTUEFDRVNfQU5EX0VRVUFMU10ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBhdHRyTmFtZSA9IG1hdGNoW0FUVFJJQlVURV9OQU1FXTtcbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbUVVPVEVfQ0hBUl0gPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1hdGNoW1FVT1RFX0NIQVJdID09PSAnXCInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZWdleCA9PT0gZG91YmxlUXVvdGVBdHRyRW5kUmVnZXggfHxcbiAgICAgICAgICAgICAgICByZWdleCA9PT0gc2luZ2xlUXVvdGVBdHRyRW5kUmVnZXgpIHtcbiAgICAgICAgICAgICAgICByZWdleCA9IHRhZ0VuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVnZXggPT09IGNvbW1lbnRFbmRSZWdleCB8fCByZWdleCA9PT0gY29tbWVudDJFbmRSZWdleCkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gdGV4dEVuZFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IG9uZSBvZiB0aGUgZml2ZSBzdGF0ZSByZWdleGVzLCBzbyBpdCBtdXN0IGJlIHRoZSBkeW5hbWljYWxseVxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZWQgcmF3IHRleHQgcmVnZXggYW5kIHdlJ3JlIGF0IHRoZSBjbG9zZSBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgcmVnZXggPSB0YWdFbmRSZWdleDtcbiAgICAgICAgICAgICAgICByYXdUZXh0RW5kUmVnZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKERFVl9NT0RFKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgYXR0ck5hbWVFbmRJbmRleCwgd2hpY2ggaW5kaWNhdGVzIHRoYXQgd2Ugc2hvdWxkXG4gICAgICAgICAgICAvLyByZXdyaXRlIHRoZSBhdHRyaWJ1dGUgbmFtZSwgYXNzZXJ0IHRoYXQgd2UncmUgaW4gYSB2YWxpZCBhdHRyaWJ1dGVcbiAgICAgICAgICAgIC8vIHBvc2l0aW9uIC0gZWl0aGVyIGluIGEgdGFnLCBvciBhIHF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChhdHRyTmFtZUVuZEluZGV4ID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSB0YWdFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBzaW5nbGVRdW90ZUF0dHJFbmRSZWdleCB8fFxuICAgICAgICAgICAgICAgIHJlZ2V4ID09PSBkb3VibGVRdW90ZUF0dHJFbmRSZWdleCwgJ3VuZXhwZWN0ZWQgcGFyc2Ugc3RhdGUgQicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhdmUgZm91ciBjYXNlczpcbiAgICAgICAgLy8gIDEuIFdlJ3JlIGluIHRleHQgcG9zaXRpb24sIGFuZCBub3QgaW4gYSByYXcgdGV4dCBlbGVtZW50XG4gICAgICAgIC8vICAgICAocmVnZXggPT09IHRleHRFbmRSZWdleCk6IGluc2VydCBhIGNvbW1lbnQgbWFya2VyLlxuICAgICAgICAvLyAgMi4gV2UgaGF2ZSBhIG5vbi1uZWdhdGl2ZSBhdHRyTmFtZUVuZEluZGV4IHdoaWNoIG1lYW5zIHdlIG5lZWQgdG9cbiAgICAgICAgLy8gICAgIHJld3JpdGUgdGhlIGF0dHJpYnV0ZSBuYW1lIHRvIGFkZCBhIGJvdW5kIGF0dHJpYnV0ZSBzdWZmaXguXG4gICAgICAgIC8vICAzLiBXZSdyZSBhdCB0aGUgbm9uLWZpcnN0IGJpbmRpbmcgaW4gYSBtdWx0aS1iaW5kaW5nIGF0dHJpYnV0ZSwgdXNlIGFcbiAgICAgICAgLy8gICAgIHBsYWluIG1hcmtlci5cbiAgICAgICAgLy8gIDQuIFdlJ3JlIHNvbWV3aGVyZSBlbHNlIGluc2lkZSB0aGUgdGFnLiBJZiB3ZSdyZSBpbiBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAvLyAgICAgcG9zaXRpb24gKGF0dHJOYW1lRW5kSW5kZXggPT09IC0yKSwgYWRkIGEgc2VxdWVudGlhbCBzdWZmaXggdG9cbiAgICAgICAgLy8gICAgIGdlbmVyYXRlIGEgdW5pcXVlIGF0dHJpYnV0ZSBuYW1lLlxuICAgICAgICAvLyBEZXRlY3QgYSBiaW5kaW5nIG5leHQgdG8gc2VsZi1jbG9zaW5nIHRhZyBlbmQgYW5kIGluc2VydCBhIHNwYWNlIHRvXG4gICAgICAgIC8vIHNlcGFyYXRlIHRoZSBtYXJrZXIgZnJvbSB0aGUgdGFnIGVuZDpcbiAgICAgICAgY29uc3QgZW5kID0gcmVnZXggPT09IHRhZ0VuZFJlZ2V4ICYmIHN0cmluZ3NbaSArIDFdLnN0YXJ0c1dpdGgoJy8+JykgPyAnICcgOiAnJztcbiAgICAgICAgaHRtbCArPVxuICAgICAgICAgICAgcmVnZXggPT09IHRleHRFbmRSZWdleFxuICAgICAgICAgICAgICAgID8gcyArIG5vZGVNYXJrZXJcbiAgICAgICAgICAgICAgICA6IGF0dHJOYW1lRW5kSW5kZXggPj0gMFxuICAgICAgICAgICAgICAgICAgICA/IChhdHRyTmFtZXMucHVzaChhdHRyTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnNsaWNlKDAsIGF0dHJOYW1lRW5kSW5kZXgpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5zbGljZShhdHRyTmFtZUVuZEluZGV4KSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFxuICAgICAgICAgICAgICAgICAgICA6IHMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChhdHRyTmFtZUVuZEluZGV4ID09PSAtMiA/IChhdHRyTmFtZXMucHVzaCh1bmRlZmluZWQpLCBpKSA6IGVuZCk7XG4gICAgfVxuICAgIGNvbnN0IGh0bWxSZXN1bHQgPSBodG1sICsgKHN0cmluZ3NbbF0gfHwgJzw/PicpICsgKHR5cGUgPT09IFNWR19SRVNVTFQgPyAnPC9zdmc+JyA6ICcnKTtcbiAgICAvLyBSZXR1cm5lZCBhcyBhbiBhcnJheSBmb3IgdGVyc2VuZXNzXG4gICAgcmV0dXJuIFtcbiAgICAgICAgcG9saWN5ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gcG9saWN5LmNyZWF0ZUhUTUwoaHRtbFJlc3VsdClcbiAgICAgICAgICAgIDogaHRtbFJlc3VsdCxcbiAgICAgICAgYXR0ck5hbWVzLFxuICAgIF07XG59O1xuY2xhc3MgVGVtcGxhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgeyBzdHJpbmdzLCBbJ18kbGl0VHlwZSQnXTogdHlwZSB9LCBvcHRpb25zKSB7XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgdGhpcy5wYXJ0cyA9IFtdO1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgbGV0IG5vZGVJbmRleCA9IDA7XG4gICAgICAgIGxldCBhdHRyTmFtZUluZGV4ID0gMDtcbiAgICAgICAgY29uc3QgcGFydENvdW50ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBwYXJ0cyA9IHRoaXMucGFydHM7XG4gICAgICAgIC8vIENyZWF0ZSB0ZW1wbGF0ZSBlbGVtZW50XG4gICAgICAgIGNvbnN0IFtodG1sLCBhdHRyTmFtZXNdID0gZ2V0VGVtcGxhdGVIdG1sKHN0cmluZ3MsIHR5cGUpO1xuICAgICAgICB0aGlzLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudChodG1sLCBvcHRpb25zKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAvLyBSZXBhcmVudCBTVkcgbm9kZXMgaW50byB0ZW1wbGF0ZSByb290XG4gICAgICAgIGlmICh0eXBlID09PSBTVkdfUkVTVUxUKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5lbC5jb250ZW50O1xuICAgICAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIHN2Z0VsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICBjb250ZW50LmFwcGVuZCguLi5zdmdFbGVtZW50LmNoaWxkTm9kZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdhbGsgdGhlIHRlbXBsYXRlIHRvIGZpbmQgYmluZGluZyBtYXJrZXJzIGFuZCBjcmVhdGUgVGVtcGxhdGVQYXJ0c1xuICAgICAgICB3aGlsZSAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgIT09IG51bGwgJiYgcGFydHMubGVuZ3RoIDwgcGFydENvdW50KSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWcgPSBub2RlLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2FybiBpZiBgdGV4dGFyZWFgIGluY2x1ZGVzIGFuIGV4cHJlc3Npb24gYW5kIHRocm93IGlmIGB0ZW1wbGF0ZWBcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lcyBzaW5jZSB0aGVzZSBhcmUgbm90IHN1cHBvcnRlZC4gV2UgZG8gdGhpcyBieSBjaGVja2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBpbm5lckhUTUwgZm9yIGFueXRoaW5nIHRoYXQgbG9va3MgbGlrZSBhIG1hcmtlci4gVGhpcyBjYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhc2VzIGxpa2UgYmluZGluZ3MgaW4gdGV4dGFyZWEgdGhlcmUgbWFya2VycyB0dXJuIGludG8gdGV4dCBub2Rlcy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKC9eKD86dGV4dGFyZWF8dGVtcGxhdGUpJC9pLnRlc3QodGFnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwuaW5jbHVkZXMobWFya2VyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IGBFeHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgXFxgJHt0YWd9XFxgIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBlbGVtZW50cy4gU2VlIGh0dHBzOi8vbGl0LmRldi9tc2cvZXhwcmVzc2lvbi1pbi0ke3RhZ30gZm9yIG1vcmUgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYGluZm9ybWF0aW9uLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlV2FybmluZygnJywgbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGZvciBhdHRlbXB0ZWQgZHluYW1pYyB0YWcgbmFtZXMsIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gaW5jcmVtZW50IHRoZSBiaW5kaW5nSW5kZXgsIGFuZCBpdCdsbCBiZSBvZmYgYnkgMSBpbiB0aGUgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGFuZCBvZmYgYnkgdHdvIGFmdGVyIGl0LlxuICAgICAgICAgICAgICAgIGlmIChub2RlLmhhc0F0dHJpYnV0ZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkZWZlciByZW1vdmluZyBib3VuZCBhdHRyaWJ1dGVzIGJlY2F1c2Ugb24gSUUgd2UgbWlnaHQgbm90IGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGluZyBhdHRyaWJ1dGVzIGluIHRoZWlyIHRlbXBsYXRlIG9yZGVyLCBhbmQgd291bGQgc29tZXRpbWVzXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbiBhdHRyaWJ1dGUgdGhhdCB3ZSBzdGlsbCBuZWVkIHRvIGNyZWF0ZSBhIHBhcnQgZm9yLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyc1RvUmVtb3ZlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBub2RlLmdldEF0dHJpYnV0ZU5hbWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBuYW1lYCBpcyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlJ3JlIGl0ZXJhdGluZyBvdmVyLCBidXQgbm90XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBfbmVjY2Vzc2FyaWx5XyB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdlIHdpbGwgY3JlYXRlIGEgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yLiBUaGV5IGNhbiBiZSBkaWZmZXJlbnQgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBpdGVyYXRlIG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGluIHNvdXJjZSBvcmRlci4gSW4gdGhhdCBjYXNlIHRoZSBhdHRyTmFtZXMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnRhaW5zIHRoZSBhdHRyaWJ1dGUgbmFtZSB3ZSdsbCBwcm9jZXNzIG5leHQuIFdlIG9ubHkgbmVlZCB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSBuYW1lIGhlcmUgdG8ga25vdyBpZiB3ZSBzaG91bGQgcHJvY2VzcyBhIGJvdW5kIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24gdGhpcyBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoYm91bmRBdHRyaWJ1dGVTdWZmaXgpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZS5zdGFydHNXaXRoKG1hcmtlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFsTmFtZSA9IGF0dHJOYW1lc1thdHRyTmFtZUluZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzVG9SZW1vdmUucHVzaChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVhbE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMb3dlcmNhc2UgZm9yIGNhc2Utc2Vuc2l0aXZlIFNWRyBhdHRyaWJ1dGVzIGxpa2Ugdmlld0JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKHJlYWxOYW1lLnRvTG93ZXJDYXNlKCkgKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRpY3MgPSB2YWx1ZS5zcGxpdChtYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtID0gLyhbLj9AXSk/KC4qKS8uZXhlYyhyZWFsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogQVRUUklCVVRFX1BBUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ3M6IHN0YXRpY3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdG9yOiBtWzFdID09PSAnLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFByb3BlcnR5UGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbVsxXSA9PT0gJz8nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gQm9vbGVhbkF0dHJpYnV0ZVBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtWzFdID09PSAnQCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gRXZlbnRQYXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IEF0dHJpYnV0ZVBhcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBFTEVNRU5UX1BBUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogbm9kZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIGF0dHJzVG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGp1c3RpbmZhZ25hbmkpOiBiZW5jaG1hcmsgdGhlIHJlZ2V4IGFnYWluc3QgdGVzdGluZyBmb3IgZWFjaFxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSAzIHJhdyB0ZXh0IGVsZW1lbnQgbmFtZXMuXG4gICAgICAgICAgICAgICAgaWYgKHJhd1RleHRFbGVtZW50LnRlc3Qobm9kZS50YWdOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgcmF3IHRleHQgZWxlbWVudHMgd2UgbmVlZCB0byBzcGxpdCB0aGUgdGV4dCBjb250ZW50IG9uXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcmtlcnMsIGNyZWF0ZSBhIFRleHQgbm9kZSBmb3IgZWFjaCBzZWdtZW50LCBhbmQgY3JlYXRlXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgVGVtcGxhdGVQYXJ0IGZvciBlYWNoIG1hcmtlci5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyaW5ncyA9IG5vZGUudGV4dENvbnRlbnQuc3BsaXQobWFya2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRydXN0ZWRUeXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRleHQgbm9kZSBmb3IgZWFjaCBsaXRlcmFsIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHVzZSBlbXB0eSB0ZXh0IG5vZGVzIGFzIG1hcmtlcnMgYmVjYXVzZSB0aGV5J3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3JtYWxpemVkIHdoZW4gY2xvbmluZyBpbiBJRSAoY291bGQgc2ltcGxpZnkgd2hlblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSUUgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGFzdEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZChzdHJpbmdzW2ldLCBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FsayBwYXN0IHRoZSBtYXJrZXIgbm9kZSB3ZSBqdXN0IGFkZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENISUxEX1BBUlQsIGluZGV4OiArK25vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdGUgYmVjYXVzZSB0aGlzIG1hcmtlciBpcyBhZGRlZCBhZnRlciB0aGUgd2Fsa2VyJ3MgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9kZSwgaXQgd2lsbCBiZSB3YWxrZWQgdG8gaW4gdGhlIG91dGVyIGxvb3AgKGFuZCBpZ25vcmVkKSwgc29cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gYWRqdXN0IG5vZGVJbmRleCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZChzdHJpbmdzW2xhc3RJbmRleF0sIGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT09IDgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gbm9kZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBtYXJrZXJNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHsgdHlwZTogQ0hJTERfUEFSVCwgaW5kZXg6IG5vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6IENPTU1FTlRfUEFSVCwgaW5kZXg6IG5vZGVJbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1vdmUgdG8gdGhlIGVuZCBvZiB0aGUgbWF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gbWFya2VyLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlSW5kZXgrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBPdmVycmlkZGVuIHZpYSBgbGl0SHRtbFBvbHlmaWxsU3VwcG9ydGAgdG8gcHJvdmlkZSBwbGF0Zm9ybSBzdXBwb3J0LlxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBjcmVhdGVFbGVtZW50KGh0bWwsIF9vcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShwYXJ0LCB2YWx1ZSwgcGFyZW50ID0gcGFydCwgYXR0cmlidXRlSW5kZXgpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICB2YXIgX2Q7XG4gICAgLy8gQmFpbCBlYXJseSBpZiB0aGUgdmFsdWUgaXMgZXhwbGljaXRseSBub0NoYW5nZS4gTm90ZSwgdGhpcyBtZWFucyBhbnlcbiAgICAvLyBuZXN0ZWQgZGlyZWN0aXZlIGlzIHN0aWxsIGF0dGFjaGVkIGFuZCBpcyBub3QgcnVuLlxuICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBsZXQgY3VycmVudERpcmVjdGl2ZSA9IGF0dHJpYnV0ZUluZGV4ICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAoX2EgPSBwYXJlbnQuX19kaXJlY3RpdmVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbYXR0cmlidXRlSW5kZXhdXG4gICAgICAgIDogcGFyZW50Ll9fZGlyZWN0aXZlO1xuICAgIGNvbnN0IG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9IGlzUHJpbWl0aXZlKHZhbHVlKVxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgICAgICB2YWx1ZVsnXyRsaXREaXJlY3RpdmUkJ107XG4gICAgaWYgKChjdXJyZW50RGlyZWN0aXZlID09PSBudWxsIHx8IGN1cnJlbnREaXJlY3RpdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnREaXJlY3RpdmUuY29uc3RydWN0b3IpICE9PSBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IpIHtcbiAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgKF9iID0gY3VycmVudERpcmVjdGl2ZSA9PT0gbnVsbCB8fCBjdXJyZW50RGlyZWN0aXZlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RGlyZWN0aXZlWydfJG5vdGlmeURpcmVjdGl2ZUNvbm5lY3Rpb25DaGFuZ2VkJ10pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGN1cnJlbnREaXJlY3RpdmUsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHREaXJlY3RpdmVDb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudERpcmVjdGl2ZSA9IG5ldyBuZXh0RGlyZWN0aXZlQ29uc3RydWN0b3IocGFydCk7XG4gICAgICAgICAgICBjdXJyZW50RGlyZWN0aXZlLl8kaW5pdGlhbGl6ZShwYXJ0LCBwYXJlbnQsIGF0dHJpYnV0ZUluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXR0cmlidXRlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgKChfYyA9IChfZCA9IHBhcmVudCkuX19kaXJlY3RpdmVzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoX2QuX19kaXJlY3RpdmVzID0gW10pKVthdHRyaWJ1dGVJbmRleF0gPVxuICAgICAgICAgICAgICAgIGN1cnJlbnREaXJlY3RpdmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuX19kaXJlY3RpdmUgPSBjdXJyZW50RGlyZWN0aXZlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50RGlyZWN0aXZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHBhcnQsIGN1cnJlbnREaXJlY3RpdmUuXyRyZXNvbHZlKHBhcnQsIHZhbHVlLnZhbHVlcyksIGN1cnJlbnREaXJlY3RpdmUsIGF0dHJpYnV0ZUluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBBbiB1cGRhdGVhYmxlIGluc3RhbmNlIG9mIGEgVGVtcGxhdGUuIEhvbGRzIHJlZmVyZW5jZXMgdG8gdGhlIFBhcnRzIHVzZWQgdG9cbiAqIHVwZGF0ZSB0aGUgdGVtcGxhdGUgaW5zdGFuY2UuXG4gKi9cbmNsYXNzIFRlbXBsYXRlSW5zdGFuY2Uge1xuICAgIGNvbnN0cnVjdG9yKHRlbXBsYXRlLCBwYXJlbnQpIHtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl9wYXJ0cyA9IFtdO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl8kdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICB9XG4gICAgLy8gQ2FsbGVkIGJ5IENoaWxkUGFydCBwYXJlbnROb2RlIGdldHRlclxuICAgIGdldCBwYXJlbnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8kcGFyZW50Ll8kaXNDb25uZWN0ZWQ7XG4gICAgfVxuICAgIC8vIFRoaXMgbWV0aG9kIGlzIHNlcGFyYXRlIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2Ugd2UgbmVlZCB0byByZXR1cm4gYVxuICAgIC8vIERvY3VtZW50RnJhZ21lbnQgYW5kIHdlIGRvbid0IHdhbnQgdG8gaG9sZCBvbnRvIGl0IHdpdGggYW4gaW5zdGFuY2UgZmllbGQuXG4gICAgX2Nsb25lKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7IGVsOiB7IGNvbnRlbnQgfSwgcGFydHM6IHBhcnRzLCB9ID0gdGhpcy5fJHRlbXBsYXRlO1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9ICgoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuY3JlYXRpb25TY29wZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZCkuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKTtcbiAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gZnJhZ21lbnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIGxldCBub2RlSW5kZXggPSAwO1xuICAgICAgICBsZXQgcGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRlbXBsYXRlUGFydCA9IHBhcnRzWzBdO1xuICAgICAgICB3aGlsZSAodGVtcGxhdGVQYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggPT09IHRlbXBsYXRlUGFydC5pbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0O1xuICAgICAgICAgICAgICAgIGlmICh0ZW1wbGF0ZVBhcnQudHlwZSA9PT0gQ0hJTERfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IENoaWxkUGFydChub2RlLCBub2RlLm5leHRTaWJsaW5nLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEFUVFJJQlVURV9QQVJUKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQgPSBuZXcgdGVtcGxhdGVQYXJ0LmN0b3Iobm9kZSwgdGVtcGxhdGVQYXJ0Lm5hbWUsIHRlbXBsYXRlUGFydC5zdHJpbmdzLCB0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGVtcGxhdGVQYXJ0LnR5cGUgPT09IEVMRU1FTlRfUEFSVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gbmV3IEVsZW1lbnRQYXJ0KG5vZGUsIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlUGFydCA9IHBhcnRzWysrcGFydEluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlSW5kZXggIT09ICh0ZW1wbGF0ZVBhcnQgPT09IG51bGwgfHwgdGVtcGxhdGVQYXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0ZW1wbGF0ZVBhcnQuaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpO1xuICAgICAgICAgICAgICAgIG5vZGVJbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFnbWVudDtcbiAgICB9XG4gICAgX3VwZGF0ZSh2YWx1ZXMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAocGFydC5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5fJHNldFZhbHVlKHZhbHVlcywgcGFydCwgaSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBudW1iZXIgb2YgdmFsdWVzIHRoZSBwYXJ0IGNvbnN1bWVzIGlzIHBhcnQuc3RyaW5ncy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHZhbHVlcyBhcmUgaW4gYmV0d2VlbiB0ZW1wbGF0ZSBzcGFucy4gV2UgaW5jcmVtZW50IGkgYnkgMVxuICAgICAgICAgICAgICAgICAgICAvLyBsYXRlciBpbiB0aGUgbG9vcCwgc28gaW5jcmVtZW50IGl0IGJ5IHBhcnQuc3RyaW5ncy5sZW5ndGggLSAyIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgaSArPSBwYXJ0LnN0cmluZ3MubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQuXyRzZXRWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIENoaWxkUGFydCB7XG4gICAgY29uc3RydWN0b3Ioc3RhcnROb2RlLCBlbmROb2RlLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnR5cGUgPSBDSElMRF9QQVJUO1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGZpZWxkcyB3aWxsIGJlIHBhdGNoZWQgb250byBDaGlsZFBhcnRzIHdoZW4gcmVxdWlyZWQgYnlcbiAgICAgICAgLy8gQXN5bmNEaXJlY3RpdmVcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHN0YXJ0Tm9kZSA9IHN0YXJ0Tm9kZTtcbiAgICAgICAgdGhpcy5fJGVuZE5vZGUgPSBlbmROb2RlO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvLyBOb3RlIF9faXNDb25uZWN0ZWQgaXMgb25seSBldmVyIGFjY2Vzc2VkIG9uIFJvb3RQYXJ0cyAoaS5lLiB3aGVuIHRoZXJlIGlzXG4gICAgICAgIC8vIG5vIF8kcGFyZW50KTsgdGhlIHZhbHVlIG9uIGEgbm9uLXJvb3QtcGFydCBpcyBcImRvbid0IGNhcmVcIiwgYnV0IGNoZWNraW5nXG4gICAgICAgIC8vIGZvciBwYXJlbnQgd291bGQgYmUgbW9yZSBjb2RlXG4gICAgICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pc0Nvbm5lY3RlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBpbml0aWFsaXplIGZvciBjb25zaXN0ZW50IGNsYXNzIHNoYXBlLlxuICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZWUgY29tbWVudCBpbiBEaXNjb25uZWN0YWJsZSBpbnRlcmZhY2UgZm9yIHdoeSB0aGlzIGlzIGEgZ2V0dGVyXG4gICAgZ2V0IF8kaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIENoaWxkUGFydHMgdGhhdCBhcmUgbm90IGF0IHRoZSByb290IHNob3VsZCBhbHdheXMgYmUgY3JlYXRlZCB3aXRoIGFcbiAgICAgICAgLy8gcGFyZW50OyBvbmx5IFJvb3RDaGlsZE5vZGUncyB3b24ndCwgc28gdGhleSByZXR1cm4gdGhlIGxvY2FsIGlzQ29ubmVjdGVkXG4gICAgICAgIC8vIHN0YXRlXG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLl8kcGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuXyRpc0Nvbm5lY3RlZCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5fX2lzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFyZW50IG5vZGUgaW50byB3aGljaCB0aGUgcGFydCByZW5kZXJzIGl0cyBjb250ZW50LlxuICAgICAqXG4gICAgICogQSBDaGlsZFBhcnQncyBjb250ZW50IGNvbnNpc3RzIG9mIGEgcmFuZ2Ugb2YgYWRqYWNlbnQgY2hpbGQgbm9kZXMgb2ZcbiAgICAgKiBgLnBhcmVudE5vZGVgLCBwb3NzaWJseSBib3JkZXJlZCBieSAnbWFya2VyIG5vZGVzJyAoYC5zdGFydE5vZGVgIGFuZFxuICAgICAqIGAuZW5kTm9kZWApLlxuICAgICAqXG4gICAgICogLSBJZiBib3RoIGAuc3RhcnROb2RlYCBhbmQgYC5lbmROb2RlYCBhcmUgbm9uLW51bGwsIHRoZW4gdGhlIHBhcnQncyBjb250ZW50XG4gICAgICogY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGJldHdlZW4gYC5zdGFydE5vZGVgIGFuZCBgLmVuZE5vZGVgLCBleGNsdXNpdmVseS5cbiAgICAgKlxuICAgICAqIC0gSWYgYC5zdGFydE5vZGVgIGlzIG5vbi1udWxsIGJ1dCBgLmVuZE5vZGVgIGlzIG51bGwsIHRoZW4gdGhlIHBhcnQnc1xuICAgICAqIGNvbnRlbnQgY29uc2lzdHMgb2YgYWxsIHNpYmxpbmdzIGZvbGxvd2luZyBgLnN0YXJ0Tm9kZWAsIHVwIHRvIGFuZFxuICAgICAqIGluY2x1ZGluZyB0aGUgbGFzdCBjaGlsZCBvZiBgLnBhcmVudE5vZGVgLiBJZiBgLmVuZE5vZGVgIGlzIG5vbi1udWxsLCB0aGVuXG4gICAgICogYC5zdGFydE5vZGVgIHdpbGwgYWx3YXlzIGJlIG5vbi1udWxsLlxuICAgICAqXG4gICAgICogLSBJZiBib3RoIGAuZW5kTm9kZWAgYW5kIGAuc3RhcnROb2RlYCBhcmUgbnVsbCwgdGhlbiB0aGUgcGFydCdzIGNvbnRlbnRcbiAgICAgKiBjb25zaXN0cyBvZiBhbGwgY2hpbGQgbm9kZXMgb2YgYC5wYXJlbnROb2RlYC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50Tm9kZSgpIHtcbiAgICAgICAgbGV0IHBhcmVudE5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLnBhcmVudE5vZGU7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuXyRwYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgcGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVCAqLykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIHBhcmVudE5vZGUgaXMgYSBEb2N1bWVudEZyYWdtZW50LCBpdCBtYXkgYmUgYmVjYXVzZSB0aGUgRE9NIGlzXG4gICAgICAgICAgICAvLyBzdGlsbCBpbiB0aGUgY2xvbmVkIGZyYWdtZW50IGR1cmluZyBpbml0aWFsIHJlbmRlcjsgaWYgc28sIGdldCB0aGUgcmVhbFxuICAgICAgICAgICAgLy8gcGFyZW50Tm9kZSB0aGUgcGFydCB3aWxsIGJlIGNvbW1pdHRlZCBpbnRvIGJ5IGFza2luZyB0aGUgcGFyZW50LlxuICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgcGFydCdzIGxlYWRpbmcgbWFya2VyIG5vZGUsIGlmIGFueS4gU2VlIGAucGFyZW50Tm9kZWAgZm9yIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgc3RhcnROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHBhcnQncyB0cmFpbGluZyBtYXJrZXIgbm9kZSwgaWYgYW55LiBTZWUgYC5wYXJlbnROb2RlYCBmb3IgbW9yZVxuICAgICAqIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGdldCBlbmROb2RlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJGVuZE5vZGU7XG4gICAgfVxuICAgIF8kc2V0VmFsdWUodmFsdWUsIGRpcmVjdGl2ZVBhcmVudCA9IHRoaXMpIHtcbiAgICAgICAgaWYgKERFVl9NT0RFICYmIHRoaXMucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGlzIFxcYENoaWxkUGFydFxcYCBoYXMgbm8gXFxgcGFyZW50Tm9kZVxcYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCBhY2NlcHQgYSB2YWx1ZS4gVGhpcyBsaWtlbHkgbWVhbnMgdGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgcGFydCB3YXMgbWFuaXB1bGF0ZWQgaW4gYW4gdW5zdXBwb3J0ZWQgd2F5IG91dHNpZGUgb2YgTGl0J3MgY29udHJvbCBzdWNoIHRoYXQgdGhlIHBhcnQncyBtYXJrZXIgbm9kZXMgd2VyZSBlamVjdGVkIGZyb20gRE9NLiBGb3IgZXhhbXBsZSwgc2V0dGluZyB0aGUgZWxlbWVudCdzIFxcYGlubmVySFRNTFxcYCBvciBcXGB0ZXh0Q29udGVudFxcYCBjYW4gZG8gdGhpcy5gKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUsIGRpcmVjdGl2ZVBhcmVudCk7XG4gICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vIE5vbi1yZW5kZXJpbmcgY2hpbGQgdmFsdWVzLiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZXNlIGRvIG5vdCByZW5kZXJcbiAgICAgICAgICAgIC8vIGVtcHR5IHRleHQgbm9kZXMgdG8gYXZvaWQgaXNzdWVzIHdpdGggcHJldmVudGluZyBkZWZhdWx0IDxzbG90PlxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgY29udGVudC5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbm90aGluZyB8fCB2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyBwcm9wZXJ0eSBuZWVkcyB0byByZW1haW4gdW5taW5pZmllZC5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZVsnXyRsaXRUeXBlJCddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZS5ub2RlVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fY29tbWl0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2ssIHdpbGwgcmVuZGVyIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb25cbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9pbnNlcnQobm9kZSwgcmVmID0gdGhpcy5fJGVuZE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHdyYXAod3JhcCh0aGlzLl8kc3RhcnROb2RlKS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmKTtcbiAgICB9XG4gICAgX2NvbW1pdE5vZGUodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fJGNvbW1pdHRlZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fJGNsZWFyKCk7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTICYmXG4gICAgICAgICAgICAgICAgc2FuaXRpemVyRmFjdG9yeUludGVybmFsICE9PSBub29wU2FuaXRpemVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50Tm9kZU5hbWUgPSAoX2EgPSB0aGlzLl8kc3RhcnROb2RlLnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZU5hbWUgPT09ICdTVFlMRScgfHwgcGFyZW50Tm9kZU5hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJ0ZvcmJpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChERVZfTU9ERSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGVOYW1lID09PSAnU1RZTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBMaXQgZG9lcyBub3Qgc3VwcG9ydCBiaW5kaW5nIGluc2lkZSBzdHlsZSBub2Rlcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgVGhpcyBpcyBhIHNlY3VyaXR5IHJpc2ssIGFzIHN0eWxlIGluamVjdGlvbiBhdHRhY2tzIGNhbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBleGZpbHRyYXRlIGRhdGEgYW5kIHNwb29mIFVJcy4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgQ29uc2lkZXIgaW5zdGVhZCB1c2luZyBjc3NcXGAuLi5cXGAgbGl0ZXJhbHMgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdG8gY29tcG9zZSBzdHlsZXMsIGFuZCBtYWtlIGRvIGR5bmFtaWMgc3R5bGluZyB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGNzcyBjdXN0b20gcHJvcGVydGllcywgOjpwYXJ0cywgPHNsb3Q+cywgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYW5kIGJ5IG11dGF0aW5nIHRoZSBET00gcmF0aGVyIHRoYW4gc3R5bGVzaGVldHMuYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTGl0IGRvZXMgbm90IHN1cHBvcnQgYmluZGluZyBpbnNpZGUgc2NyaXB0IG5vZGVzLiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBUaGlzIGlzIGEgc2VjdXJpdHkgcmlzaywgYXMgaXQgY291bGQgYWxsb3cgYXJiaXRyYXJ5IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGNvZGUgZXhlY3V0aW9uLmA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZSA9IHRoaXMuX2luc2VydCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NvbW1pdFRleHQodmFsdWUpIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbW1pdHRlZCB2YWx1ZSBpcyBhIHByaW1pdGl2ZSBpdCBtZWFucyB3ZSBjYWxsZWQgX2NvbW1pdFRleHQgb25cbiAgICAgICAgLy8gdGhlIHByZXZpb3VzIHJlbmRlciwgYW5kIHdlIGtub3cgdGhhdCB0aGlzLl8kc3RhcnROb2RlLm5leHRTaWJsaW5nIGlzIGFcbiAgICAgICAgLy8gVGV4dCBub2RlLiBXZSBjYW4gbm93IGp1c3QgcmVwbGFjZSB0aGUgdGV4dCBjb250ZW50ICguZGF0YSkgb2YgdGhlIG5vZGUuXG4gICAgICAgIGlmICh0aGlzLl8kY29tbWl0dGVkVmFsdWUgIT09IG5vdGhpbmcgJiZcbiAgICAgICAgICAgIGlzUHJpbWl0aXZlKHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKEVOQUJMRV9FWFRSQV9TRUNVUklUWV9IT09LUykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcihub2RlLCAnZGF0YScsICdwcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3RleHRTYW5pdGl6ZXIodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5kYXRhID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tbWl0Tm9kZSh0ZXh0Tm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBzZXR0aW5nIHRleHQgY29udGVudCwgZm9yIHNlY3VyaXR5IHB1cnBvc2VzIGl0IG1hdHRlcnMgYSBsb3RcbiAgICAgICAgICAgICAgICAvLyB3aGF0IHRoZSBwYXJlbnQgaXMuIEZvciBleGFtcGxlLCA8c3R5bGU+IGFuZCA8c2NyaXB0PiBuZWVkIHRvIGJlXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlZCB3aXRoIGNhcmUsIHdoaWxlIDxzcGFuPiBkb2VzIG5vdC4gU28gZmlyc3Qgd2UgbmVlZCB0byBwdXQgYVxuICAgICAgICAgICAgICAgIC8vIHRleHQgbm9kZSBpbnRvIHRoZSBkb2N1bWVudCwgdGhlbiB3ZSBjYW4gc2FuaXRpemUgaXRzIGNvbnRlbnR4LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90ZXh0U2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dFNhbml0aXplciA9IGNyZWF0ZVNhbml0aXplcih0ZXh0Tm9kZSwgJ2RhdGEnLCAncHJvcGVydHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl90ZXh0U2FuaXRpemVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS5kYXRhID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21taXROb2RlKGQuY3JlYXRlVGV4dE5vZGUodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgbmVlZHMgdG8gcmVtYWluIHVubWluaWZpZWQuXG4gICAgICAgIGNvbnN0IHsgdmFsdWVzLCBbJ18kbGl0VHlwZSQnXTogdHlwZSB9ID0gcmVzdWx0O1xuICAgICAgICAvLyBJZiAkbGl0VHlwZSQgaXMgYSBudW1iZXIsIHJlc3VsdCBpcyBhIHBsYWluIFRlbXBsYXRlUmVzdWx0IGFuZCB3ZSBnZXRcbiAgICAgICAgLy8gdGhlIHRlbXBsYXRlIGZyb20gdGhlIHRlbXBsYXRlIGNhY2hlLiBJZiBub3QsIHJlc3VsdCBpcyBhXG4gICAgICAgIC8vIENvbXBpbGVkVGVtcGxhdGVSZXN1bHQgYW5kIF8kbGl0VHlwZSQgaXMgYSBDb21waWxlZFRlbXBsYXRlIGFuZCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIGNyZWF0ZSB0aGUgPHRlbXBsYXRlPiBlbGVtZW50IHRoZSBmaXJzdCB0aW1lIHdlIHNlZSBpdC5cbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0eXBlb2YgdHlwZSA9PT0gJ251bWJlcidcbiAgICAgICAgICAgID8gdGhpcy5fJGdldFRlbXBsYXRlKHJlc3VsdClcbiAgICAgICAgICAgIDogKHR5cGUuZWwgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICh0eXBlLmVsID0gVGVtcGxhdGUuY3JlYXRlRWxlbWVudCh0eXBlLmgsIHRoaXMub3B0aW9ucykpLFxuICAgICAgICAgICAgICAgIHR5cGUpO1xuICAgICAgICBpZiAoKChfYSA9IHRoaXMuXyRjb21taXR0ZWRWYWx1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl8kdGVtcGxhdGUpID09PSB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IFRlbXBsYXRlSW5zdGFuY2UodGVtcGxhdGUsIHRoaXMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIGluc3RhbmNlLl91cGRhdGUodmFsdWVzKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gT3ZlcnJpZGRlbiB2aWEgYGxpdEh0bWxQb2x5ZmlsbFN1cHBvcnRgIHRvIHByb3ZpZGUgcGxhdGZvcm0gc3VwcG9ydC5cbiAgICAvKiogQGludGVybmFsICovXG4gICAgXyRnZXRUZW1wbGF0ZShyZXN1bHQpIHtcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5nZXQocmVzdWx0LnN0cmluZ3MpO1xuICAgICAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGVtcGxhdGVDYWNoZS5zZXQocmVzdWx0LnN0cmluZ3MsICh0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICBfY29tbWl0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAgICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgICAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAgICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cbiAgICAgICAgLy8gSWYgdmFsdWUgaXMgYW4gYXJyYXksIHRoZW4gdGhlIHByZXZpb3VzIHJlbmRlciB3YXMgb2YgYW5cbiAgICAgICAgLy8gaXRlcmFibGUgYW5kIHZhbHVlIHdpbGwgY29udGFpbiB0aGUgQ2hpbGRQYXJ0cyBmcm9tIHRoZSBwcmV2aW91c1xuICAgICAgICAvLyByZW5kZXIuIElmIHZhbHVlIGlzIG5vdCBhbiBhcnJheSwgY2xlYXIgdGhpcyBwYXJ0IGFuZCBtYWtlIGEgbmV3XG4gICAgICAgIC8vIGFycmF5IGZvciBDaGlsZFBhcnRzLlxuICAgICAgICBpZiAoIWlzQXJyYXkodGhpcy5fJGNvbW1pdHRlZFZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLl8kY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXRzIHVzIGtlZXAgdHJhY2sgb2YgaG93IG1hbnkgaXRlbXMgd2Ugc3RhbXBlZCBzbyB3ZSBjYW4gY2xlYXIgbGVmdG92ZXJcbiAgICAgICAgLy8gaXRlbXMgZnJvbSBhIHByZXZpb3VzIHJlbmRlclxuICAgICAgICBjb25zdCBpdGVtUGFydHMgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWU7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgaXRlbVBhcnQ7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAvLyBUT0RPIChqdXN0aW5mYWduYW5pKTogdGVzdCBwZXJmIGltcGFjdCBvZiBhbHdheXMgY3JlYXRpbmcgdHdvIHBhcnRzXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBzaGFyaW5nIHBhcnRzIGJldHdlZW4gbm9kZXNcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGl0L2xpdC9pc3N1ZXMvMTI2NlxuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0cy5wdXNoKChpdGVtUGFydCA9IG5ldyBDaGlsZFBhcnQodGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSwgdGhpcy5faW5zZXJ0KGNyZWF0ZU1hcmtlcigpKSwgdGhpcywgdGhpcy5vcHRpb25zKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICAgICAgICAgIGl0ZW1QYXJ0ID0gaXRlbVBhcnRzW3BhcnRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtUGFydC5fJHNldFZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRJbmRleCA8IGl0ZW1QYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGl0ZW1QYXJ0cyBhbHdheXMgaGF2ZSBlbmQgbm9kZXNcbiAgICAgICAgICAgIHRoaXMuXyRjbGVhcihpdGVtUGFydCAmJiB3cmFwKGl0ZW1QYXJ0Ll8kZW5kTm9kZSkubmV4dFNpYmxpbmcsIHBhcnRJbmRleCk7XG4gICAgICAgICAgICAvLyBUcnVuY2F0ZSB0aGUgcGFydHMgYXJyYXkgc28gX3ZhbHVlIHJlZmxlY3RzIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICBpdGVtUGFydHMubGVuZ3RoID0gcGFydEluZGV4O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIG5vZGVzIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBQYXJ0IGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdGFydCBTdGFydCBub2RlIHRvIGNsZWFyIGZyb20sIGZvciBjbGVhcmluZyBhIHN1YnNldCBvZiB0aGUgcGFydCdzXG4gICAgICogICAgIERPTSAodXNlZCB3aGVuIHRydW5jYXRpbmcgaXRlcmFibGVzKVxuICAgICAqIEBwYXJhbSBmcm9tICBXaGVuIGBzdGFydGAgaXMgc3BlY2lmaWVkLCB0aGUgaW5kZXggd2l0aGluIHRoZSBpdGVyYWJsZSBmcm9tXG4gICAgICogICAgIHdoaWNoIENoaWxkUGFydHMgYXJlIGJlaW5nIHJlbW92ZWQsIHVzZWQgZm9yIGRpc2Nvbm5lY3RpbmcgZGlyZWN0aXZlcyBpblxuICAgICAqICAgICB0aG9zZSBQYXJ0cy5cbiAgICAgKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF8kY2xlYXIoc3RhcnQgPSB3cmFwKHRoaXMuXyRzdGFydE5vZGUpLm5leHRTaWJsaW5nLCBmcm9tKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCBmYWxzZSwgdHJ1ZSwgZnJvbSk7XG4gICAgICAgIHdoaWxlIChzdGFydCAmJiBzdGFydCAhPT0gdGhpcy5fJGVuZE5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB3cmFwKHN0YXJ0KS5uZXh0U2libGluZztcbiAgICAgICAgICAgIHdyYXAoc3RhcnQpLnJlbW92ZSgpO1xuICAgICAgICAgICAgc3RhcnQgPSBuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudGF0aW9uIG9mIFJvb3RQYXJ0J3MgYGlzQ29ubmVjdGVkYC4gTm90ZSB0aGF0IHRoaXMgbWV0b2RcbiAgICAgKiBzaG91bGQgb25seSBiZSBjYWxsZWQgb24gYFJvb3RQYXJ0YHMgKHRoZSBgQ2hpbGRQYXJ0YCByZXR1cm5lZCBmcm9tIGFcbiAgICAgKiB0b3AtbGV2ZWwgYHJlbmRlcigpYCBjYWxsKS4gSXQgaGFzIG5vIGVmZmVjdCBvbiBub24tcm9vdCBDaGlsZFBhcnRzLlxuICAgICAqIEBwYXJhbSBpc0Nvbm5lY3RlZCBXaGV0aGVyIHRvIHNldFxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNldENvbm5lY3RlZChpc0Nvbm5lY3RlZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl8kcGFyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX19pc0Nvbm5lY3RlZCA9IGlzQ29ubmVjdGVkO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5fJG5vdGlmeUNvbm5lY3Rpb25DaGFuZ2VkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzLCBpc0Nvbm5lY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoREVWX01PREUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGFydC5zZXRDb25uZWN0ZWQoKSBtYXkgb25seSBiZSBjYWxsZWQgb24gYSAnICtcbiAgICAgICAgICAgICAgICAnUm9vdFBhcnQgcmV0dXJuZWQgZnJvbSByZW5kZXIoKS4nKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnR5cGUgPSBBVFRSSUJVVEVfUEFSVDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIHRoaXMuXyRkaXNjb25uZWN0YWJsZUNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl8kcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoc3RyaW5ncy5sZW5ndGggPiAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUgPSBuZXcgQXJyYXkoc3RyaW5ncy5sZW5ndGggLSAxKS5maWxsKG5ldyBTdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbm90aGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoRU5BQkxFX0VYVFJBX1NFQ1VSSVRZX0hPT0tTKSB7XG4gICAgICAgICAgICB0aGlzLl9zYW5pdGl6ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudGFnTmFtZTtcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiB0aGlzIHBhcnQgYnkgcmVzb2x2aW5nIHRoZSB2YWx1ZSBmcm9tIHBvc3NpYmx5IG11bHRpcGxlXG4gICAgICogdmFsdWVzIGFuZCBzdGF0aWMgc3RyaW5ncyBhbmQgY29tbWl0dGluZyBpdCB0byB0aGUgRE9NLlxuICAgICAqIElmIHRoaXMgcGFydCBpcyBzaW5nbGUtdmFsdWVkLCBgdGhpcy5fc3RyaW5nc2Agd2lsbCBiZSB1bmRlZmluZWQsIGFuZCB0aGVcbiAgICAgKiBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSB2YWx1ZSBhcmd1bWVudC4gSWYgdGhpcyBwYXJ0IGlzXG4gICAgICogbXVsdGktdmFsdWUsIGB0aGlzLl9zdHJpbmdzYCB3aWxsIGJlIGRlZmluZWQsIGFuZCB0aGUgbWV0aG9kIGlzIGNhbGxlZFxuICAgICAqIHdpdGggdGhlIHZhbHVlIGFycmF5IG9mIHRoZSBwYXJ0J3Mgb3duaW5nIFRlbXBsYXRlSW5zdGFuY2UsIGFuZCBhbiBvZmZzZXRcbiAgICAgKiBpbnRvIHRoZSB2YWx1ZSBhcnJheSBmcm9tIHdoaWNoIHRoZSB2YWx1ZXMgc2hvdWxkIGJlIHJlYWQuXG4gICAgICogVGhpcyBtZXRob2QgaXMgb3ZlcmxvYWRlZCB0aGlzIHdheSB0byBlbGltaW5hdGUgc2hvcnQtbGl2ZWQgYXJyYXkgc2xpY2VzXG4gICAgICogb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHZhbHVlcywgYW5kIGFsbG93IGEgZmFzdC1wYXRoIGZvciBzaW5nbGUtdmFsdWVkXG4gICAgICogcGFydHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHBhcnQgdmFsdWUsIG9yIGFuIGFycmF5IG9mIHZhbHVlcyBmb3IgbXVsdGktdmFsdWVkIHBhcnRzXG4gICAgICogQHBhcmFtIHZhbHVlSW5kZXggdGhlIGluZGV4IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzIGZyb20uIGB1bmRlZmluZWRgIGZvclxuICAgICAqICAgc2luZ2xlLXZhbHVlZCBwYXJ0c1xuICAgICAqIEBwYXJhbSBub0NvbW1pdCBjYXVzZXMgdGhlIHBhcnQgdG8gbm90IGNvbW1pdCBpdHMgdmFsdWUgdG8gdGhlIERPTS4gVXNlZFxuICAgICAqICAgaW4gaHlkcmF0aW9uIHRvIHByaW1lIGF0dHJpYnV0ZSBwYXJ0cyB3aXRoIHRoZWlyIGZpcnN0LXJlbmRlcmVkIHZhbHVlLFxuICAgICAqICAgYnV0IG5vdCBzZXQgdGhlIGF0dHJpYnV0ZSwgYW5kIGluIFNTUiB0byBuby1vcCB0aGUgRE9NIG9wZXJhdGlvbiBhbmRcbiAgICAgKiAgIGNhcHR1cmUgdGhlIHZhbHVlIGZvciBzZXJpYWxpemF0aW9uLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgXyRzZXRWYWx1ZSh2YWx1ZSwgZGlyZWN0aXZlUGFyZW50ID0gdGhpcywgdmFsdWVJbmRleCwgbm9Db21taXQpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgLy8gV2hldGhlciBhbnkgb2YgdGhlIHZhbHVlcyBoYXMgY2hhbmdlZCwgZm9yIGRpcnR5LWNoZWNraW5nXG4gICAgICAgIGxldCBjaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN0cmluZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gU2luZ2xlLXZhbHVlIGJpbmRpbmcgY2FzZVxuICAgICAgICAgICAgdmFsdWUgPSByZXNvbHZlRGlyZWN0aXZlKHRoaXMsIHZhbHVlLCBkaXJlY3RpdmVQYXJlbnQsIDApO1xuICAgICAgICAgICAgY2hhbmdlID1cbiAgICAgICAgICAgICAgICAhaXNQcmltaXRpdmUodmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICh2YWx1ZSAhPT0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlICYmIHZhbHVlICE9PSBub0NoYW5nZSk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0aW9uIGNhc2VcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlO1xuICAgICAgICAgICAgdmFsdWUgPSBzdHJpbmdzWzBdO1xuICAgICAgICAgICAgbGV0IGksIHY7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyaW5ncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCB2YWx1ZXNbdmFsdWVJbmRleCArIGldLCBkaXJlY3RpdmVQYXJlbnQsIGkpO1xuICAgICAgICAgICAgICAgIGlmICh2ID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdXNlci1wcm92aWRlZCB2YWx1ZSBpcyBgbm9DaGFuZ2VgLCB1c2UgdGhlIHByZXZpb3VzIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIHYgPSB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZSB8fCAoY2hhbmdlID0gIWlzUHJpbWl0aXZlKHYpIHx8IHYgIT09IHRoaXMuXyRjb21taXR0ZWRWYWx1ZVtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKHYgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBub3RoaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPT0gbm90aGluZykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSAodiAhPT0gbnVsbCAmJiB2ICE9PSB2b2lkIDAgPyB2IDogJycpICsgc3RyaW5nc1tpICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGFsd2F5cyByZWNvcmQgZWFjaCB2YWx1ZSwgZXZlbiBpZiBvbmUgaXMgYG5vdGhpbmdgLCBmb3IgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIGRldGVjdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWVbaV0gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2UgJiYgIW5vQ29tbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9jb21taXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9jb21taXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPT09IG5vdGhpbmcpIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc2FuaXRpemVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2FuaXRpemVyID0gc2FuaXRpemVyRmFjdG9yeUludGVybmFsKHRoaXMuZWxlbWVudCwgdGhpcy5uYW1lLCAnYXR0cmlidXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fc2FuaXRpemVyKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDAgPyB2YWx1ZSA6ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCA/IHZhbHVlIDogJycpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFByb3BlcnR5UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBQUk9QRVJUWV9QQVJUO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgX2NvbW1pdFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChFTkFCTEVfRVhUUkFfU0VDVVJJVFlfSE9PS1MpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zYW5pdGl6ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Nhbml0aXplciA9IHNhbml0aXplckZhY3RvcnlJbnRlcm5hbCh0aGlzLmVsZW1lbnQsIHRoaXMubmFtZSwgJ3Byb3BlcnR5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3Nhbml0aXplcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5lbGVtZW50W3RoaXMubmFtZV0gPSB2YWx1ZSA9PT0gbm90aGluZyA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cbn1cbi8vIFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBodHRwczovL2NyYnVnLmNvbS85OTMyNjhcbi8vIEN1cnJlbnRseSwgYW55IGF0dHJpYnV0ZSBzdGFydGluZyB3aXRoIFwib25cIiBpcyBjb25zaWRlcmVkIHRvIGJlIGFcbi8vIFRydXN0ZWRTY3JpcHQgc291cmNlLiBTdWNoIGJvb2xlYW4gYXR0cmlidXRlcyBtdXN0IGJlIHNldCB0byB0aGUgZXF1aXZhbGVudFxuLy8gdHJ1c3RlZCBlbXB0eVNjcmlwdCB2YWx1ZS5cbmNvbnN0IGVtcHR5U3RyaW5nRm9yQm9vbGVhbkF0dHJpYnV0ZSA9IHRydXN0ZWRUeXBlc1xuICAgID8gdHJ1c3RlZFR5cGVzLmVtcHR5U2NyaXB0XG4gICAgOiAnJztcbmNsYXNzIEJvb2xlYW5BdHRyaWJ1dGVQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHlwZSA9IEJPT0xFQU5fQVRUUklCVVRFX1BBUlQ7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfY29tbWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSBub3RoaW5nKSB7XG4gICAgICAgICAgICB3cmFwKHRoaXMuZWxlbWVudCkuc2V0QXR0cmlidXRlKHRoaXMubmFtZSwgZW1wdHlTdHJpbmdGb3JCb29sZWFuQXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdyYXAodGhpcy5lbGVtZW50KS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5uYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEV2ZW50UGFydCBleHRlbmRzIEF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIHBhcmVudCwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzLCBwYXJlbnQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnR5cGUgPSBFVkVOVF9QQVJUO1xuICAgICAgICBpZiAoREVWX01PREUgJiYgdGhpcy5zdHJpbmdzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBcXGA8JHtlbGVtZW50LmxvY2FsTmFtZX0+XFxgIGhhcyBhIFxcYEAke25hbWV9PS4uLlxcYCBsaXN0ZW5lciB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICdpbnZhbGlkIGNvbnRlbnQuIEV2ZW50IGxpc3RlbmVycyBpbiB0ZW1wbGF0ZXMgbXVzdCBoYXZlIGV4YWN0bHkgJyArXG4gICAgICAgICAgICAgICAgJ29uZSBleHByZXNzaW9uIGFuZCBubyBzdXJyb3VuZGluZyB0ZXh0LicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEV2ZW50UGFydCBkb2VzIG5vdCB1c2UgdGhlIGJhc2UgXyRzZXRWYWx1ZS9fcmVzb2x2ZVZhbHVlIGltcGxlbWVudGF0aW9uXG4gICAgLy8gc2luY2UgdGhlIGRpcnR5IGNoZWNraW5nIGlzIG1vcmUgY29tcGxleFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfJHNldFZhbHVlKG5ld0xpc3RlbmVyLCBkaXJlY3RpdmVQYXJlbnQgPSB0aGlzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbmV3TGlzdGVuZXIgPVxuICAgICAgICAgICAgKF9hID0gcmVzb2x2ZURpcmVjdGl2ZSh0aGlzLCBuZXdMaXN0ZW5lciwgZGlyZWN0aXZlUGFyZW50LCAwKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbm90aGluZztcbiAgICAgICAgaWYgKG5ld0xpc3RlbmVyID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9sZExpc3RlbmVyID0gdGhpcy5fJGNvbW1pdHRlZFZhbHVlO1xuICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIG5vdGhpbmcgb3IgYW55IG9wdGlvbnMgY2hhbmdlIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZVxuICAgICAgICAvLyBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gKG5ld0xpc3RlbmVyID09PSBub3RoaW5nICYmIG9sZExpc3RlbmVyICE9PSBub3RoaW5nKSB8fFxuICAgICAgICAgICAgbmV3TGlzdGVuZXIuY2FwdHVyZSAhPT1cbiAgICAgICAgICAgICAgICBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICBuZXdMaXN0ZW5lci5vbmNlICE9PVxuICAgICAgICAgICAgICAgIG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgIG5ld0xpc3RlbmVyLnBhc3NpdmUgIT09XG4gICAgICAgICAgICAgICAgb2xkTGlzdGVuZXIucGFzc2l2ZTtcbiAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyBub3Qgbm90aGluZyBhbmQgd2UgcmVtb3ZlZCB0aGUgbGlzdGVuZXIsIHdlIGhhdmVcbiAgICAgICAgLy8gdG8gYWRkIHRoZSBwYXJ0IGFzIGEgbGlzdGVuZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT09IG5vdGhpbmcgJiZcbiAgICAgICAgICAgIChvbGRMaXN0ZW5lciA9PT0gbm90aGluZyB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBvbGRMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBCZXdhcmU6IElFMTEgYW5kIENocm9tZSA0MSBkb24ndCBsaWtlIHVzaW5nIHRoZSBsaXN0ZW5lciBhcyB0aGVcbiAgICAgICAgICAgIC8vIG9wdGlvbnMgb2JqZWN0LiBGaWd1cmUgb3V0IGhvdyB0byBkZWFsIHcvIHRoaXMgaW4gSUUxMSAtIG1heWJlXG4gICAgICAgICAgICAvLyBwYXRjaCBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uYW1lLCB0aGlzLCBuZXdMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID0gbmV3TGlzdGVuZXI7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fJGNvbW1pdHRlZFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLl8kY29tbWl0dGVkVmFsdWUuY2FsbCgoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuXyRjb21taXR0ZWRWYWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBFbGVtZW50UGFydCB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgcGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMudHlwZSA9IEVMRU1FTlRfUEFSVDtcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgICAgICB0aGlzLl8kZGlzY29ubmVjdGFibGVDaGlsZHJlbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fJHBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLy8gU2VlIGNvbW1lbnQgaW4gRGlzY29ubmVjdGFibGUgaW50ZXJmYWNlIGZvciB3aHkgdGhpcyBpcyBhIGdldHRlclxuICAgIGdldCBfJGlzQ29ubmVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fJHBhcmVudC5fJGlzQ29ubmVjdGVkO1xuICAgIH1cbiAgICBfJHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmVEaXJlY3RpdmUodGhpcywgdmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogRU5EIFVTRVJTIFNIT1VMRCBOT1QgUkVMWSBPTiBUSElTIE9CSkVDVC5cbiAqXG4gKiBQcml2YXRlIGV4cG9ydHMgZm9yIHVzZSBieSBvdGhlciBMaXQgcGFja2FnZXMsIG5vdCBpbnRlbmRlZCBmb3IgdXNlIGJ5XG4gKiBleHRlcm5hbCB1c2Vycy5cbiAqXG4gKiBXZSBjdXJyZW50bHkgZG8gbm90IG1ha2UgYSBtYW5nbGVkIHJvbGx1cCBidWlsZCBvZiB0aGUgbGl0LXNzciBjb2RlLiBJbiBvcmRlclxuICogdG8ga2VlcCBhIG51bWJlciBvZiAob3RoZXJ3aXNlIHByaXZhdGUpIHRvcC1sZXZlbCBleHBvcnRzICBtYW5nbGVkIGluIHRoZVxuICogY2xpZW50IHNpZGUgY29kZSwgd2UgZXhwb3J0IGEgXyRMSCBvYmplY3QgY29udGFpbmluZyB0aG9zZSBtZW1iZXJzIChvclxuICogaGVscGVyIG1ldGhvZHMgZm9yIGFjY2Vzc2luZyBwcml2YXRlIGZpZWxkcyBvZiB0aG9zZSBtZW1iZXJzKSwgYW5kIHRoZW5cbiAqIHJlLWV4cG9ydCB0aGVtIGZvciB1c2UgaW4gbGl0LXNzci4gVGhpcyBrZWVwcyBsaXQtc3NyIGFnbm9zdGljIHRvIHdoZXRoZXIgdGhlXG4gKiBjbGllbnQtc2lkZSBjb2RlIGlzIGJlaW5nIHVzZWQgaW4gYGRldmAgbW9kZSBvciBgcHJvZGAgbW9kZS5cbiAqXG4gKiBUaGlzIGhhcyBhIHVuaXF1ZSBuYW1lLCB0byBkaXNhbWJpZ3VhdGUgaXQgZnJvbSBwcml2YXRlIGV4cG9ydHMgaW5cbiAqIGxpdC1lbGVtZW50LCB3aGljaCByZS1leHBvcnRzIGFsbCBvZiBsaXQtaHRtbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgXyRMSCA9IHtcbiAgICAvLyBVc2VkIGluIGxpdC1zc3JcbiAgICBfYm91bmRBdHRyaWJ1dGVTdWZmaXg6IGJvdW5kQXR0cmlidXRlU3VmZml4LFxuICAgIF9tYXJrZXI6IG1hcmtlcixcbiAgICBfbWFya2VyTWF0Y2g6IG1hcmtlck1hdGNoLFxuICAgIF9IVE1MX1JFU1VMVDogSFRNTF9SRVNVTFQsXG4gICAgX2dldFRlbXBsYXRlSHRtbDogZ2V0VGVtcGxhdGVIdG1sLFxuICAgIC8vIFVzZWQgaW4gaHlkcmF0ZVxuICAgIF9UZW1wbGF0ZUluc3RhbmNlOiBUZW1wbGF0ZUluc3RhbmNlLFxuICAgIF9pc0l0ZXJhYmxlOiBpc0l0ZXJhYmxlLFxuICAgIF9yZXNvbHZlRGlyZWN0aXZlOiByZXNvbHZlRGlyZWN0aXZlLFxuICAgIC8vIFVzZWQgaW4gdGVzdHMgYW5kIHByaXZhdGUtc3NyLXN1cHBvcnRcbiAgICBfQ2hpbGRQYXJ0OiBDaGlsZFBhcnQsXG4gICAgX0F0dHJpYnV0ZVBhcnQ6IEF0dHJpYnV0ZVBhcnQsXG4gICAgX0Jvb2xlYW5BdHRyaWJ1dGVQYXJ0OiBCb29sZWFuQXR0cmlidXRlUGFydCxcbiAgICBfRXZlbnRQYXJ0OiBFdmVudFBhcnQsXG4gICAgX1Byb3BlcnR5UGFydDogUHJvcGVydHlQYXJ0LFxuICAgIF9FbGVtZW50UGFydDogRWxlbWVudFBhcnQsXG59O1xuLy8gQXBwbHkgcG9seWZpbGxzIGlmIGF2YWlsYWJsZVxuY29uc3QgcG9seWZpbGxTdXBwb3J0ID0gREVWX01PREVcbiAgICA/IHdpbmRvdy5saXRIdG1sUG9seWZpbGxTdXBwb3J0RGV2TW9kZVxuICAgIDogd2luZG93LmxpdEh0bWxQb2x5ZmlsbFN1cHBvcnQ7XG5wb2x5ZmlsbFN1cHBvcnQgPT09IG51bGwgfHwgcG9seWZpbGxTdXBwb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwb2x5ZmlsbFN1cHBvcnQoVGVtcGxhdGUsIENoaWxkUGFydCk7XG4vLyBJTVBPUlRBTlQ6IGRvIG5vdCBjaGFuZ2UgdGhlIHByb3BlcnR5IG5hbWUgb3IgdGhlIGFzc2lnbm1lbnQgZXhwcmVzc2lvbi5cbi8vIFRoaXMgbGluZSB3aWxsIGJlIHVzZWQgaW4gcmVnZXhlcyB0byBzZWFyY2ggZm9yIGxpdC1odG1sIHVzYWdlLlxuKChfZCA9IGdsb2JhbFRoaXMubGl0SHRtbFZlcnNpb25zKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAoZ2xvYmFsVGhpcy5saXRIdG1sVmVyc2lvbnMgPSBbXSkpLnB1c2goJzIuMC4yJyk7XG5pZiAoREVWX01PREUgJiYgZ2xvYmFsVGhpcy5saXRIdG1sVmVyc2lvbnMubGVuZ3RoID4gMSkge1xuICAgIGlzc3VlV2FybmluZygnbXVsdGlwbGUtdmVyc2lvbnMnLCBgTXVsdGlwbGUgdmVyc2lvbnMgb2YgTGl0IGxvYWRlZC4gYCArXG4gICAgICAgIGBMb2FkaW5nIG11bHRpcGxlIHZlcnNpb25zIGlzIG5vdCByZWNvbW1lbmRlZC5gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1odG1sLmpzLm1hcCIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiY2h1bmtzL1wiICsgY2h1bmtJZCArIFwiLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBpblByb2dyZXNzID0ge307XG4vLyBkYXRhLXdlYnBhY2sgaXMgbm90IHVzZWQgYXMgYnVpbGQgaGFzIG5vIHVuaXF1ZU5hbWVcbi8vIGxvYWRTY3JpcHQgZnVuY3Rpb24gdG8gbG9hZCBhIHNjcmlwdCB2aWEgc2NyaXB0IHRhZ1xuX193ZWJwYWNrX3JlcXVpcmVfXy5sID0gKHVybCwgZG9uZSwga2V5LCBjaHVua0lkKSA9PiB7XG5cdGlmKGluUHJvZ3Jlc3NbdXJsXSkgeyBpblByb2dyZXNzW3VybF0ucHVzaChkb25lKTsgcmV0dXJuOyB9XG5cdHZhciBzY3JpcHQsIG5lZWRBdHRhY2g7XG5cdGlmKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHMgPSBzY3JpcHRzW2ldO1xuXHRcdFx0aWYocy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gdXJsKSB7IHNjcmlwdCA9IHM7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cdGlmKCFzY3JpcHQpIHtcblx0XHRuZWVkQXR0YWNoID0gdHJ1ZTtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcblx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcblx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuXHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuXHRcdH1cblxuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdDtcblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdFwiYXBwXCI6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF0pKTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH0gZWxzZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHNbaV1dID0gMDtcblx0fVxuXG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rXCJdID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLypcbiAqICAgQ29weXJpZ2h0IChjKSAyMDIwIFJhdGlvIFNvZnR3YXJlLCBMTEMgXG4gKiAgIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgIEBhdXRob3IgQ2xheXRvbiBHdWxpY2sgPGNsYXlAcmF0aW9zb2Z0d2FyZS5jb20+XG4gKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogYXBwLmpzXG4gKlxuICogVGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAYXV0aG9yIENsYXkgR3VsaWNrXG4gKiBAZW1haWwgY2xheUByYXRpb3NvZnR3YXJlLmNvbVxuICovXG5cbi8vZ2xvYmFsIHNjcmlwdHNcbi8vZ2xvYmFsIHNjcmlwdHNcbmltcG9ydCAnQGlvbmljL2NvcmUvZGlzdC9lc20nO1xuaW1wb3J0IHtkZWZpbmVDdXN0b21FbGVtZW50c30gZnJvbSAnQGlvbmljL2NvcmUvZGlzdC9lc20vbG9hZGVyJztcbmltcG9ydCAnQGlvbmljL2NvcmUvY3NzL2lvbmljLmJ1bmRsZS5jc3MnO1xuaW1wb3J0ICcuL2Nzcy90aGVtZS5jc3MnO1xuXG4vL3RoZSBtYWluIGFwcGxpY2F0aW9uIGNvbXBvbmVudFxuaW1wb3J0IE1haW4gZnJvbSAnLi92aWV3L2NvbXBvbmVudHMvYXBwL2NvbXBvbmVudC1tYWluJztcblxuLy9sb2FkIHRoZSBzdGF0ZSBmcm9tIGluZGV4ZWREQlxuaW1wb3J0IEFwcGxpY2F0aW9uU3RhdGUgZnJvbSBcImFwcGxpY2F0aW9uc3RhdGVcIjtcbmltcG9ydCB7IGluaXQgfSBmcm9tIFwiYXBwbGljYXRpb25zdGF0ZS9wbHVnaW5zL2luZGV4ZWRkYlwiO1xuXG4vL2xvYWQgYXBwbGljYXRpb24gc3RhdGUgYmVmb3JlIHdlIGRvIGFueXRoaW5nIGVsc2VcbmNvbnNvbGUubG9nKCdTdGFydGluZyB1cDogJyArIENMSUVOVF9JRCArICcgYWRtaW4nKTtcbmluaXQoQXBwbGljYXRpb25TdGF0ZSwgQ0xJRU5UX0lEICsgXCJfYWRtaW5cIilcbiAgICAudGhlbihcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgZGVmaW5lQ3VzdG9tRWxlbWVudHMoKTtcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoZSBtYWluIGNvbXBvbmVudCBhbmQga2ljayBvZmYgYXBwbGljYXRpb25cbiAgICAgICAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvd1k9J2F1dG8nO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZChuZXcgTWFpbigpKTtcbiAgICAgICAgfVxuICAgICk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9